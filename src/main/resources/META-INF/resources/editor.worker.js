(()=>{"use strict";const dt=new class{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(e){setTimeout(()=>{throw e.stack?new Error(e.message+"\n\n"+e.stack):e},0)}}emit(e){this.listeners.forEach(n=>{n(e)})}onUnexpectedError(e){this.unexpectedErrorHandler(e),this.emit(e)}onUnexpectedExternalError(e){this.unexpectedErrorHandler(e)}};function Jt(t){(function(t){return t instanceof Error&&t.name===Re&&t.message===Re})(t)||dt.onUnexpectedError(t)}function ft(t){if(t instanceof Error){let{name:e,message:n}=t;return{$isError:!0,name:e,message:n,stack:t.stacktrace||t.stack}}return t}const Re="Canceled";var Pe;!function(t){t.is=function(m){return m&&"object"==typeof m&&"function"==typeof m[Symbol.iterator]};const n=Object.freeze([]);t.empty=function(){return n},t.single=function*(m){yield m},t.from=function(m){return m||n},t.isEmpty=function(m){return!m||!0===m[Symbol.iterator]().next().done},t.first=function(m){return m[Symbol.iterator]().next().value},t.some=function(m,f){for(const g of m)if(f(g))return!0;return!1},t.find=function(m,f){for(const g of m)if(f(g))return g},t.filter=function*(m,f){for(const g of m)f(g)&&(yield g)},t.map=function*(m,f){let g=0;for(const p of m)yield f(p,g++)},t.concat=function*(...m){for(const f of m)for(const g of f)yield g},t.concatNested=function*(m){for(const f of m)for(const g of f)yield g},t.reduce=function(m,f,g){let p=g;for(const L of m)p=f(p,L);return p},t.slice=function*(m,f,g=m.length){for(f<0&&(f+=m.length),g<0?g+=m.length:g>m.length&&(g=m.length);f<g;f++)yield m[f]},t.consume=function(m,f=Number.POSITIVE_INFINITY){const g=[];if(0===f)return[g,m];const p=m[Symbol.iterator]();for(let L=0;L<f;L++){const C=p.next();if(C.done)return[g,t.empty()];g.push(C.value)}return[g,{[Symbol.iterator]:()=>p}]},t.equals=function(m,f,g=((p,L)=>p===L)){const p=m[Symbol.iterator](),L=f[Symbol.iterator]();for(;;){const C=p.next(),E=L.next();if(C.done!==E.done)return!1;if(C.done)return!0;if(!g(C.value,E.value))return!1}}}(Pe||(Pe={}));function K(t){}class tn extends Error{constructor(e){super(`Encountered errors while disposing of store. Errors: [${e.join(", ")}]`),this.errors=e}}function mt(t){if(Pe.is(t)){let e=[];for(const n of t)if(n)try{n.dispose()}catch(i){e.push(i)}if(1===e.length)throw e[0];if(e.length>1)throw new tn(e);return Array.isArray(t)?[]:t}if(t)return t.dispose(),t}let gt=(()=>{class t{constructor(){this._toDispose=new Set,this._isDisposed=!1}dispose(){this._isDisposed||(this._isDisposed=!0,this.clear())}clear(){try{mt(this._toDispose.values())}finally{this._toDispose.clear()}}add(n){if(!n)return n;if(n===this)throw new Error("Cannot register a disposable on itself!");return this._isDisposed?t.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(n),n}}return t.DISABLE_DISPOSED_WARNING=!1,t})();class De{constructor(){this._store=new gt}dispose(){this._store.dispose()}_register(e){if(e===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(e)}}var ke;De.None=Object.freeze({dispose(){}});let _e,un,X,ae=!1,ce=!1,pe=!1,sn=!1,on=!1,pt=!1,Ue=null;const D="object"==typeof self?self:"object"==typeof global?global:{};let M;void 0!==D.vscode&&void 0!==D.vscode.process?M=D.vscode.process:"undefined"!=typeof process&&(M=process);const _t="string"==typeof(null===(ke=null==M?void 0:M.versions)||void 0===ke?void 0:ke.electron)&&"renderer"===M.type,an=_t&&(null==M?void 0:M.sandboxed);if((()=>{if(an);})(),"object"!=typeof navigator||_t)if("object"==typeof M){ae="win32"===M.platform,ce="darwin"===M.platform,pe="linux"===M.platform,sn=pe&&!!M.env.SNAP&&!!M.env.SNAP_REVISION,_e="en",Ue="en";const t=M.env.VSCODE_NLS_CONFIG;if(t)try{const e=JSON.parse(t);_e=e.locale,Ue=e.availableLanguages["*"]||"en",un=e._translationsConfigFile}catch(e){}on=!0}else console.error("Unable to resolve platform.");else X=navigator.userAgent,ae=X.indexOf("Windows")>=0,ce=X.indexOf("Macintosh")>=0,(X.indexOf("Macintosh")>=0||X.indexOf("iPad")>=0||X.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,pe=X.indexOf("Linux")>=0,_e=navigator.language,Ue=_e;let Be=0;ce?Be=1:ae?Be=3:pe&&(Be=2);const de=ae,cn=ce,Et=function(){if(D.setImmediate)return D.setImmediate.bind(D);if("function"==typeof D.postMessage&&!D.importScripts){let n=[];D.addEventListener("message",r=>{if(r.data&&r.data.vscodeSetImmediateId)for(let s=0,o=n.length;s<o;s++){const l=n[s];if(l.id===r.data.vscodeSetImmediateId)return n.splice(s,1),void l.callback()}});let i=0;return r=>{const s=++i;n.push({id:s,callback:r}),D.postMessage({vscodeSetImmediateId:s},"*")}}if("function"==typeof(null==M?void 0:M.nextTick))return M.nextTick.bind(M);const e=Promise.resolve();return n=>e.then(n)}();function We(t){const e=[];for(const n of function(t){let e=[],n=Object.getPrototypeOf(t);for(;Object.prototype!==n;)e=e.concat(Object.getOwnPropertyNames(n)),n=Object.getPrototypeOf(n);return e}(t))"function"==typeof t[n]&&e.push(n);return e}function bt(t,e){const n=r=>function(){const s=Array.prototype.slice.call(arguments,0);return e(r,s)};let i={};for(const r of t)i[r]=n(r);return i}class At{constructor(e){this._workerId=-1,this._handler=e,this._lastSentReq=0,this._pendingReplies=Object.create(null)}setWorkerId(e){this._workerId=e}sendMessage(e,n){let i=String(++this._lastSentReq);return new Promise((r,s)=>{this._pendingReplies[i]={resolve:r,reject:s},this._send({vsWorker:this._workerId,req:i,method:e,args:n})})}handleMessage(e){!e||!e.vsWorker||-1!==this._workerId&&e.vsWorker!==this._workerId||this._handleMessage(e)}_handleMessage(e){if(e.seq){let s=e;if(!this._pendingReplies[s.seq])return void console.warn("Got reply to unknown seq");let o=this._pendingReplies[s.seq];if(delete this._pendingReplies[s.seq],s.err){let l=s.err;return s.err.$isError&&(l=new Error,l.name=s.err.name,l.message=s.err.message,l.stack=s.err.stack),void o.reject(l)}return void o.resolve(s.res)}let i=e.req;this._handler.handleMessage(e.method,e.args).then(s=>{this._send({vsWorker:this._workerId,seq:i,res:s,err:void 0})},s=>{s.detail instanceof Error&&(s.detail=ft(s.detail)),this._send({vsWorker:this._workerId,seq:i,res:void 0,err:ft(s)})})}_send(e){let n=[];if(e.req){const i=e;for(let r=0;r<i.args.length;r++)i.args[r]instanceof ArrayBuffer&&n.push(i.args[r])}else{const i=e;i.res instanceof ArrayBuffer&&n.push(i.res)}this._handler.sendMessage(e,n)}}class wt{constructor(e,n){this._requestHandlerFactory=n,this._requestHandler=null,this._protocol=new At({sendMessage:(i,r)=>{e(i,r)},handleMessage:(i,r)=>this._handleMessage(i,r)})}onmessage(e){this._protocol.handleMessage(e)}_handleMessage(e,n){if("$initialize"===e)return this.initialize(n[0],n[1],n[2],n[3]);if(!this._requestHandler||"function"!=typeof this._requestHandler[e])return Promise.reject(new Error("Missing requestHandler or method: "+e));try{return Promise.resolve(this._requestHandler[e].apply(this._requestHandler,n))}catch(i){return Promise.reject(i)}}initialize(e,n,i,r){this._protocol.setWorkerId(e);const o=bt(r,(l,u)=>this._protocol.sendMessage(l,u));return this._requestHandlerFactory?(this._requestHandler=this._requestHandlerFactory(o),Promise.resolve(We(this._requestHandler))):(n&&(void 0!==n.baseUrl&&delete n.baseUrl,void 0!==n.paths&&void 0!==n.paths.vs&&delete n.paths.vs,void 0!==typeof n.trustedTypesPolicy&&delete n.trustedTypesPolicy,n.catchError=!0,self.require.config(n)),new Promise((l,u)=>{self.require([i],a=>{this._requestHandler=a.create(o),this._requestHandler?l(We(this._requestHandler)):u(new Error("No RequestHandler!"))},u)}))}}class Y{constructor(e,n,i,r){this.originalStart=e,this.originalLength=n,this.modifiedStart=i,this.modifiedLength=r}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}function Ke(t){return 55296<=t&&t<=56319}function Ee(t){return 56320<=t&&t<=57343}function $e(t,e){return e-56320+(t-55296<<10)+65536}let re;function $(t,e){return(e<<5)-e+t|0}function Ge(t,e){e=$(149417,e);for(let n=0,i=t.length;n<i;n++)e=$(t.charCodeAt(n),e);return e}function ze(t,e,n=32){const i=n-e;return(t<<e|(~((1<<i)-1)&t)>>>i)>>>0}function Mt(t,e=0,n=t.byteLength,i=0){for(let r=0;r<n;r++)t[e+r]=i}function fe(t,e=32){return t instanceof ArrayBuffer?Array.from(new Uint8Array(t)).map(n=>n.toString(16).padStart(2,"0")).join(""):function(t,e,n="0"){for(;t.length<e;)t=n+t;return t}((t>>>0).toString(16),e/4)}String.fromCharCode(65279);class je{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(67),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(e){const n=e.length;if(0===n)return;const i=this._buff;let o,l,r=this._buffLen,s=this._leftoverHighSurrogate;for(0!==s?(o=s,l=-1,s=0):(o=e.charCodeAt(0),l=0);;){let u=o;if(Ke(o)){if(!(l+1<n)){s=o;break}{const a=e.charCodeAt(l+1);Ee(a)?(l++,u=$e(o,a)):u=65533}}else Ee(o)&&(u=65533);if(r=this._push(i,r,u),l++,!(l<n))break;o=e.charCodeAt(l)}this._buffLen=r,this._leftoverHighSurrogate=s}_push(e,n,i){return i<128?e[n++]=i:i<2048?(e[n++]=192|(1984&i)>>>6,e[n++]=128|(63&i)>>>0):i<65536?(e[n++]=224|(61440&i)>>>12,e[n++]=128|(4032&i)>>>6,e[n++]=128|(63&i)>>>0):(e[n++]=240|(1835008&i)>>>18,e[n++]=128|(258048&i)>>>12,e[n++]=128|(4032&i)>>>6,e[n++]=128|(63&i)>>>0),n>=64&&(this._step(),n-=64,this._totalLen+=64,e[0]=e[64],e[1]=e[65],e[2]=e[66]),n}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),fe(this._h0)+fe(this._h1)+fe(this._h2)+fe(this._h3)+fe(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,Mt(this._buff,this._buffLen),this._buffLen>56&&(this._step(),Mt(this._buff));const e=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(e/4294967296),!1),this._buffDV.setUint32(60,e%4294967296,!1),this._step()}_step(){const e=je._bigBlock32,n=this._buffDV;for(let c=0;c<64;c+=4)e.setUint32(c,n.getUint32(c,!1),!1);for(let c=64;c<320;c+=4)e.setUint32(c,ze(e.getUint32(c-12,!1)^e.getUint32(c-32,!1)^e.getUint32(c-56,!1)^e.getUint32(c-64,!1),1),!1);let u,a,d,i=this._h0,r=this._h1,s=this._h2,o=this._h3,l=this._h4;for(let c=0;c<80;c++)c<20?(u=r&s|~r&o,a=1518500249):c<40?(u=r^s^o,a=1859775393):c<60?(u=r&s|r&o|s&o,a=2400959708):(u=r^s^o,a=3395469782),d=ze(i,5)+u+l+a+e.getUint32(4*c,!1)&4294967295,l=o,o=s,s=ze(r,30),r=i,i=d;this._h0=this._h0+i&4294967295,this._h1=this._h1+r&4294967295,this._h2=this._h2+s&4294967295,this._h3=this._h3+o&4294967295,this._h4=this._h4+l&4294967295}}je._bigBlock32=new DataView(new ArrayBuffer(320));class Rt{constructor(e){this.source=e}getElements(){const e=this.source,n=new Int32Array(e.length);for(let i=0,r=e.length;i<r;i++)n[i]=e.charCodeAt(i);return n}}function Fn(t,e,n){return new V(new Rt(t),new Rt(e)).ComputeDiff(n).changes}class ne{static Assert(e,n){if(!e)throw new Error(n)}}class ie{static Copy(e,n,i,r,s){for(let o=0;o<s;o++)i[r+o]=e[n+o]}static Copy2(e,n,i,r,s){for(let o=0;o<s;o++)i[r+o]=e[n+o]}}class Pt{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new Y(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(e,n){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,n),this.m_originalCount++}AddModifiedElement(e,n){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,n),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class V{constructor(e,n,i=null){this.ContinueProcessingPredicate=i,this._originalSequence=e,this._modifiedSequence=n;const[r,s,o]=V._getElements(e),[l,u,a]=V._getElements(n);this._hasStrings=o&&a,this._originalStringElements=r,this._originalElementsOrHash=s,this._modifiedStringElements=l,this._modifiedElementsOrHash=u,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(e){return e.length>0&&"string"==typeof e[0]}static _getElements(e){const n=e.getElements();if(V._isStringArray(n)){const i=new Int32Array(n.length);for(let r=0,s=n.length;r<s;r++)i[r]=Ge(n[r],0);return[n,i,!0]}return n instanceof Int32Array?[[],n,!1]:[[],new Int32Array(n),!1]}ElementsAreEqual(e,n){return this._originalElementsOrHash[e]===this._modifiedElementsOrHash[n]&&(!this._hasStrings||this._originalStringElements[e]===this._modifiedStringElements[n])}ElementsAreStrictEqual(e,n){return!!this.ElementsAreEqual(e,n)&&V._getStrictElement(this._originalSequence,e)===V._getStrictElement(this._modifiedSequence,n)}static _getStrictElement(e,n){return"function"==typeof e.getStrictElement?e.getStrictElement(n):null}OriginalElementsAreEqual(e,n){return this._originalElementsOrHash[e]===this._originalElementsOrHash[n]&&(!this._hasStrings||this._originalStringElements[e]===this._originalStringElements[n])}ModifiedElementsAreEqual(e,n){return this._modifiedElementsOrHash[e]===this._modifiedElementsOrHash[n]&&(!this._hasStrings||this._modifiedStringElements[e]===this._modifiedStringElements[n])}ComputeDiff(e){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,e)}_ComputeDiff(e,n,i,r,s){const o=[!1];let l=this.ComputeDiffRecursive(e,n,i,r,o);return s&&(l=this.PrettifyChanges(l)),{quitEarly:o[0],changes:l}}ComputeDiffRecursive(e,n,i,r,s){for(s[0]=!1;e<=n&&i<=r&&this.ElementsAreEqual(e,i);)e++,i++;for(;n>=e&&r>=i&&this.ElementsAreEqual(n,r);)n--,r--;if(e>n||i>r){let c;return i<=r?(ne.Assert(e===n+1,"originalStart should only be one more than originalEnd"),c=[new Y(e,0,i,r-i+1)]):e<=n?(ne.Assert(i===r+1,"modifiedStart should only be one more than modifiedEnd"),c=[new Y(e,n-e+1,i,0)]):(ne.Assert(e===n+1,"originalStart should only be one more than originalEnd"),ne.Assert(i===r+1,"modifiedStart should only be one more than modifiedEnd"),c=[]),c}const o=[0],l=[0],u=this.ComputeRecursionPoint(e,n,i,r,o,l,s),a=o[0],d=l[0];if(null!==u)return u;if(!s[0]){const c=this.ComputeDiffRecursive(e,a,i,d,s);let h=[];return h=s[0]?[new Y(a+1,n-(a+1)+1,d+1,r-(d+1)+1)]:this.ComputeDiffRecursive(a+1,n,d+1,r,s),this.ConcatenateChanges(c,h)}return[new Y(e,n-e+1,i,r-i+1)]}WALKTRACE(e,n,i,r,s,o,l,u,a,d,c,h,_,S,b,A,w,m){let f=null,g=null,p=new Pt,L=n,C=i,E=_[0]-A[0]-r,T=-1073741824,k=this.m_forwardHistory.length-1;do{const y=E+e;y===L||y<C&&a[y-1]<a[y+1]?(S=(c=a[y+1])-E-r,c<T&&p.MarkNextChange(),T=c,p.AddModifiedElement(c+1,S),E=y+1-e):(S=(c=a[y-1]+1)-E-r,c<T&&p.MarkNextChange(),T=c-1,p.AddOriginalElement(c,S+1),E=y-1-e),k>=0&&(e=(a=this.m_forwardHistory[k])[0],L=1,C=a.length-1)}while(--k>=-1);if(f=p.getReverseChanges(),m[0]){let y=_[0]+1,O=A[0]+1;if(null!==f&&f.length>0){const Z=f[f.length-1];y=Math.max(y,Z.getOriginalEnd()),O=Math.max(O,Z.getModifiedEnd())}g=[new Y(y,h-y+1,O,b-O+1)]}else{p=new Pt,L=o,C=l,E=_[0]-A[0]-u,T=1073741824,k=w?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const y=E+s;y===L||y<C&&d[y-1]>=d[y+1]?(S=(c=d[y+1]-1)-E-u,c>T&&p.MarkNextChange(),T=c+1,p.AddOriginalElement(c+1,S+1),E=y+1-s):(S=(c=d[y-1])-E-u,c>T&&p.MarkNextChange(),T=c,p.AddModifiedElement(c+1,S+1),E=y-1-s),k>=0&&(s=(d=this.m_reverseHistory[k])[0],L=1,C=d.length-1)}while(--k>=-1);g=p.getChanges()}return this.ConcatenateChanges(f,g)}ComputeRecursionPoint(e,n,i,r,s,o,l){let u=0,a=0,d=0,c=0,h=0,_=0;e--,i--,s[0]=0,o[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const S=n-e+(r-i),b=S+1,A=new Int32Array(b),w=new Int32Array(b),m=r-i,f=n-e,g=e-i,p=n-r,C=(f-m)%2==0;A[m]=e,w[f]=n,l[0]=!1;for(let E=1;E<=S/2+1;E++){let T=0,k=0;d=this.ClipDiagonalBound(m-E,E,m,b),c=this.ClipDiagonalBound(m+E,E,m,b);for(let O=d;O<=c;O+=2){u=O===d||O<c&&A[O-1]<A[O+1]?A[O+1]:A[O-1]+1,a=u-(O-m)-g;const Z=u;for(;u<n&&a<r&&this.ElementsAreEqual(u+1,a+1);)u++,a++;if(A[O]=u,u+a>T+k&&(T=u,k=a),!C&&Math.abs(O-f)<=E-1&&u>=w[O])return s[0]=u,o[0]=a,Z<=w[O]&&E<=1448?this.WALKTRACE(m,d,c,g,f,h,_,p,A,w,u,n,s,a,r,o,C,l):null}const y=(T-e+(k-i)-E)/2;if(null!==this.ContinueProcessingPredicate&&!this.ContinueProcessingPredicate(T,y))return l[0]=!0,s[0]=T,o[0]=k,y>0&&E<=1448?this.WALKTRACE(m,d,c,g,f,h,_,p,A,w,u,n,s,a,r,o,C,l):(e++,i++,[new Y(e,n-e+1,i,r-i+1)]);h=this.ClipDiagonalBound(f-E,E,f,b),_=this.ClipDiagonalBound(f+E,E,f,b);for(let O=h;O<=_;O+=2){u=O===h||O<_&&w[O-1]>=w[O+1]?w[O+1]-1:w[O-1],a=u-(O-f)-p;const Z=u;for(;u>e&&a>i&&this.ElementsAreEqual(u,a);)u--,a--;if(w[O]=u,C&&Math.abs(O-m)<=E&&u<=A[O])return s[0]=u,o[0]=a,Z>=A[O]&&E<=1448?this.WALKTRACE(m,d,c,g,f,h,_,p,A,w,u,n,s,a,r,o,C,l):null}if(E<=1447){let O=new Int32Array(c-d+2);O[0]=m-d+1,ie.Copy2(A,d,O,1,c-d+1),this.m_forwardHistory.push(O),O=new Int32Array(_-h+2),O[0]=f-h+1,ie.Copy2(w,h,O,1,_-h+1),this.m_reverseHistory.push(O)}}return this.WALKTRACE(m,d,c,g,f,h,_,p,A,w,u,n,s,a,r,o,C,l)}PrettifyChanges(e){for(let n=0;n<e.length;n++){const i=e[n],r=n<e.length-1?e[n+1].originalStart:this._originalElementsOrHash.length,s=n<e.length-1?e[n+1].modifiedStart:this._modifiedElementsOrHash.length,o=i.originalLength>0,l=i.modifiedLength>0;for(;i.originalStart+i.originalLength<r&&i.modifiedStart+i.modifiedLength<s&&(!o||this.OriginalElementsAreEqual(i.originalStart,i.originalStart+i.originalLength))&&(!l||this.ModifiedElementsAreEqual(i.modifiedStart,i.modifiedStart+i.modifiedLength));){const a=this.ElementsAreStrictEqual(i.originalStart,i.modifiedStart);if(this.ElementsAreStrictEqual(i.originalStart+i.originalLength,i.modifiedStart+i.modifiedLength)&&!a)break;i.originalStart++,i.modifiedStart++}let u=[null];n<e.length-1&&this.ChangesOverlap(e[n],e[n+1],u)&&(e[n]=u[0],e.splice(n+1,1),n--)}for(let n=e.length-1;n>=0;n--){const i=e[n];let r=0,s=0;if(n>0){const c=e[n-1];r=c.originalStart+c.originalLength,s=c.modifiedStart+c.modifiedLength}const o=i.originalLength>0,l=i.modifiedLength>0;let u=0,a=this._boundaryScore(i.originalStart,i.originalLength,i.modifiedStart,i.modifiedLength);for(let c=1;;c++){const h=i.originalStart-c,_=i.modifiedStart-c;if(h<r||_<s||o&&!this.OriginalElementsAreEqual(h,h+i.originalLength)||l&&!this.ModifiedElementsAreEqual(_,_+i.modifiedLength))break;const b=(h===r&&_===s?5:0)+this._boundaryScore(h,i.originalLength,_,i.modifiedLength);b>a&&(a=b,u=c)}i.originalStart-=u,i.modifiedStart-=u;const d=[null];n>0&&this.ChangesOverlap(e[n-1],e[n],d)&&(e[n-1]=d[0],e.splice(n,1),n++)}if(this._hasStrings)for(let n=1,i=e.length;n<i;n++){const r=e[n-1],s=e[n],o=s.originalStart-r.originalStart-r.originalLength,l=r.originalStart,u=s.originalStart+s.originalLength,a=u-l,d=r.modifiedStart,c=s.modifiedStart+s.modifiedLength,h=c-d;if(o<5&&a<20&&h<20){const _=this._findBetterContiguousSequence(l,a,d,h,o);if(_){const[S,b]=_;(S!==r.originalStart+r.originalLength||b!==r.modifiedStart+r.modifiedLength)&&(r.originalLength=S-r.originalStart,r.modifiedLength=b-r.modifiedStart,s.originalStart=S+o,s.modifiedStart=b+o,s.originalLength=u-s.originalStart,s.modifiedLength=c-s.modifiedStart)}}}return e}_findBetterContiguousSequence(e,n,i,r,s){if(n<s||r<s)return null;const o=e+n-s+1,l=i+r-s+1;let u=0,a=0,d=0;for(let c=e;c<o;c++)for(let h=i;h<l;h++){const _=this._contiguousSequenceScore(c,h,s);_>0&&_>u&&(u=_,a=c,d=h)}return u>0?[a,d]:null}_contiguousSequenceScore(e,n,i){let r=0;for(let s=0;s<i;s++){if(!this.ElementsAreEqual(e+s,n+s))return 0;r+=this._originalStringElements[e+s].length}return r}_OriginalIsBoundary(e){return e<=0||e>=this._originalElementsOrHash.length-1||this._hasStrings&&/^\s*$/.test(this._originalStringElements[e])}_OriginalRegionIsBoundary(e,n){if(this._OriginalIsBoundary(e)||this._OriginalIsBoundary(e-1))return!0;if(n>0){const i=e+n;if(this._OriginalIsBoundary(i-1)||this._OriginalIsBoundary(i))return!0}return!1}_ModifiedIsBoundary(e){return e<=0||e>=this._modifiedElementsOrHash.length-1||this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[e])}_ModifiedRegionIsBoundary(e,n){if(this._ModifiedIsBoundary(e)||this._ModifiedIsBoundary(e-1))return!0;if(n>0){const i=e+n;if(this._ModifiedIsBoundary(i-1)||this._ModifiedIsBoundary(i))return!0}return!1}_boundaryScore(e,n,i,r){return(this._OriginalRegionIsBoundary(e,n)?1:0)+(this._ModifiedRegionIsBoundary(i,r)?1:0)}ConcatenateChanges(e,n){let i=[];if(0===e.length||0===n.length)return n.length>0?n:e;if(this.ChangesOverlap(e[e.length-1],n[0],i)){const r=new Array(e.length+n.length-1);return ie.Copy(e,0,r,0,e.length-1),r[e.length-1]=i[0],ie.Copy(n,1,r,e.length,n.length-1),r}{const r=new Array(e.length+n.length);return ie.Copy(e,0,r,0,e.length),ie.Copy(n,0,r,e.length,n.length),r}}ChangesOverlap(e,n,i){if(ne.Assert(e.originalStart<=n.originalStart,"Left change is not less than or equal to right change"),ne.Assert(e.modifiedStart<=n.modifiedStart,"Left change is not less than or equal to right change"),e.originalStart+e.originalLength>=n.originalStart||e.modifiedStart+e.modifiedLength>=n.modifiedStart){let s=e.originalLength,l=e.modifiedLength;return e.originalStart+e.originalLength>=n.originalStart&&(s=n.originalStart+n.originalLength-e.originalStart),e.modifiedStart+e.modifiedLength>=n.modifiedStart&&(l=n.modifiedStart+n.modifiedLength-e.modifiedStart),i[0]=new Y(e.originalStart,s,e.modifiedStart,l),!0}return i[0]=null,!1}ClipDiagonalBound(e,n,i,r){if(e>=0&&e<r)return e;const l=n%2==0;return e<0?l===(i%2==0)?0:1:l===((r-i-1)%2==0)?r-1:r-2}}if(void 0!==D.vscode&&void 0!==D.vscode.process){const t=D.vscode.process;re={get platform(){return t.platform},get env(){return t.env},cwd:()=>t.cwd(),nextTick:e=>Et(e)}}else re="undefined"!=typeof process?{get platform(){return process.platform},get env(){return process.env},cwd:()=>process.env.VSCODE_CWD||process.cwd(),nextTick:t=>process.nextTick(t)}:{get platform(){return de?"win32":cn?"darwin":"linux"},nextTick:t=>Et(t),get env(){return{}},cwd:()=>"/"};const Qe=re.cwd,Un=re.env,G=46,x=47,U=92,z=58;class xt extends Error{constructor(e,n,i){let r;"string"==typeof n&&0===n.indexOf("not ")?(r="must not be",n=n.replace(/^not /,"")):r="must be";const s=-1!==e.indexOf(".")?"property":"argument";let o=`The "${e}" ${s} ${r} of type ${n}`;o+=". Received type "+typeof i,super(o),this.code="ERR_INVALID_ARG_TYPE"}}function P(t,e){if("string"!=typeof t)throw new xt(e,"string",t)}function N(t){return t===x||t===U}function Ze(t){return t===x}function j(t){return t>=65&&t<=90||t>=97&&t<=122}function Se(t,e,n,i){let r="",s=0,o=-1,l=0,u=0;for(let a=0;a<=t.length;++a){if(a<t.length)u=t.charCodeAt(a);else{if(i(u))break;u=x}if(i(u)){if(o!==a-1&&1!==l)if(2===l){if(r.length<2||2!==s||r.charCodeAt(r.length-1)!==G||r.charCodeAt(r.length-2)!==G){if(r.length>2){const d=r.lastIndexOf(n);-1===d?(r="",s=0):(r=r.slice(0,d),s=r.length-1-r.lastIndexOf(n)),o=a,l=0;continue}if(0!==r.length){r="",s=0,o=a,l=0;continue}}e&&(r+=r.length>0?`${n}..`:"..",s=2)}else r.length>0?r+=`${n}${t.slice(o+1,a)}`:r=t.slice(o+1,a),s=a-o-1;o=a,l=0}else u===G&&-1!==l?++l:l=-1}return r}function Dt(t,e){if(null===e||"object"!=typeof e)throw new xt("pathObject","Object",e);const n=e.dir||e.root,i=e.base||`${e.name||""}${e.ext||""}`;return n?n===e.root?`${n}${i}`:`${n}${t}${i}`:i}const F={resolve(...t){let e="",n="",i=!1;for(let r=t.length-1;r>=-1;r--){let s;if(r>=0){if(s=t[r],P(s,"path"),0===s.length)continue}else 0===e.length?s=Qe():(s=Un[`=${e}`]||Qe(),(void 0===s||s.slice(0,2).toLowerCase()!==e.toLowerCase()&&s.charCodeAt(2)===U)&&(s=`${e}\\`));const o=s.length;let l=0,u="",a=!1;const d=s.charCodeAt(0);if(1===o)N(d)&&(l=1,a=!0);else if(N(d))if(a=!0,N(s.charCodeAt(1))){let c=2,h=c;for(;c<o&&!N(s.charCodeAt(c));)c++;if(c<o&&c!==h){const _=s.slice(h,c);for(h=c;c<o&&N(s.charCodeAt(c));)c++;if(c<o&&c!==h){for(h=c;c<o&&!N(s.charCodeAt(c));)c++;(c===o||c!==h)&&(u=`\\\\${_}\\${s.slice(h,c)}`,l=c)}}}else l=1;else j(d)&&s.charCodeAt(1)===z&&(u=s.slice(0,2),l=2,o>2&&N(s.charCodeAt(2))&&(a=!0,l=3));if(u.length>0)if(e.length>0){if(u.toLowerCase()!==e.toLowerCase())continue}else e=u;if(i){if(e.length>0)break}else if(n=`${s.slice(l)}\\${n}`,i=a,a&&e.length>0)break}return n=Se(n,!i,"\\",N),i?`${e}\\${n}`:`${e}${n}`||"."},normalize(t){P(t,"path");const e=t.length;if(0===e)return".";let i,n=0,r=!1;const s=t.charCodeAt(0);if(1===e)return Ze(s)?"\\":t;if(N(s))if(r=!0,N(t.charCodeAt(1))){let l=2,u=l;for(;l<e&&!N(t.charCodeAt(l));)l++;if(l<e&&l!==u){const a=t.slice(u,l);for(u=l;l<e&&N(t.charCodeAt(l));)l++;if(l<e&&l!==u){for(u=l;l<e&&!N(t.charCodeAt(l));)l++;if(l===e)return`\\\\${a}\\${t.slice(u)}\\`;l!==u&&(i=`\\\\${a}\\${t.slice(u,l)}`,n=l)}}}else n=1;else j(s)&&t.charCodeAt(1)===z&&(i=t.slice(0,2),n=2,e>2&&N(t.charCodeAt(2))&&(r=!0,n=3));let o=n<e?Se(t.slice(n),!r,"\\",N):"";return 0===o.length&&!r&&(o="."),o.length>0&&N(t.charCodeAt(e-1))&&(o+="\\"),void 0===i?r?`\\${o}`:o:r?`${i}\\${o}`:`${i}${o}`},isAbsolute(t){P(t,"path");const e=t.length;if(0===e)return!1;const n=t.charCodeAt(0);return N(n)||e>2&&j(n)&&t.charCodeAt(1)===z&&N(t.charCodeAt(2))},join(...t){if(0===t.length)return".";let e,n;for(let s=0;s<t.length;++s){const o=t[s];P(o,"path"),o.length>0&&(void 0===e?e=n=o:e+=`\\${o}`)}if(void 0===e)return".";let i=!0,r=0;if("string"==typeof n&&N(n.charCodeAt(0))){++r;const s=n.length;s>1&&N(n.charCodeAt(1))&&(++r,s>2&&(N(n.charCodeAt(2))?++r:i=!1))}if(i){for(;r<e.length&&N(e.charCodeAt(r));)r++;r>=2&&(e=`\\${e.slice(r)}`)}return F.normalize(e)},relative(t,e){if(P(t,"from"),P(e,"to"),t===e)return"";const n=F.resolve(t),i=F.resolve(e);if(n===i||(t=n.toLowerCase())===(e=i.toLowerCase()))return"";let r=0;for(;r<t.length&&t.charCodeAt(r)===U;)r++;let s=t.length;for(;s-1>r&&t.charCodeAt(s-1)===U;)s--;const o=s-r;let l=0;for(;l<e.length&&e.charCodeAt(l)===U;)l++;let u=e.length;for(;u-1>l&&e.charCodeAt(u-1)===U;)u--;const a=u-l,d=o<a?o:a;let c=-1,h=0;for(;h<d;h++){const S=t.charCodeAt(r+h);if(S!==e.charCodeAt(l+h))break;S===U&&(c=h)}if(h!==d){if(-1===c)return i}else{if(a>d){if(e.charCodeAt(l+h)===U)return i.slice(l+h+1);if(2===h)return i.slice(l+h)}o>d&&(t.charCodeAt(r+h)===U?c=h:2===h&&(c=3)),-1===c&&(c=0)}let _="";for(h=r+c+1;h<=s;++h)(h===s||t.charCodeAt(h)===U)&&(_+=0===_.length?"..":"\\..");return l+=c,_.length>0?`${_}${i.slice(l,u)}`:(i.charCodeAt(l)===U&&++l,i.slice(l,u))},toNamespacedPath(t){if("string"!=typeof t)return t;if(0===t.length)return"";const e=F.resolve(t);if(e.length<=2)return t;if(e.charCodeAt(0)===U){if(e.charCodeAt(1)===U){const n=e.charCodeAt(2);if(63!==n&&n!==G)return`\\\\?\\UNC\\${e.slice(2)}`}}else if(j(e.charCodeAt(0))&&e.charCodeAt(1)===z&&e.charCodeAt(2)===U)return`\\\\?\\${e}`;return t},dirname(t){P(t,"path");const e=t.length;if(0===e)return".";let n=-1,i=0;const r=t.charCodeAt(0);if(1===e)return N(r)?t:".";if(N(r)){if(n=i=1,N(t.charCodeAt(1))){let l=2,u=l;for(;l<e&&!N(t.charCodeAt(l));)l++;if(l<e&&l!==u){for(u=l;l<e&&N(t.charCodeAt(l));)l++;if(l<e&&l!==u){for(u=l;l<e&&!N(t.charCodeAt(l));)l++;if(l===e)return t;l!==u&&(n=i=l+1)}}}}else j(r)&&t.charCodeAt(1)===z&&(n=e>2&&N(t.charCodeAt(2))?3:2,i=n);let s=-1,o=!0;for(let l=e-1;l>=i;--l)if(N(t.charCodeAt(l))){if(!o){s=l;break}}else o=!1;if(-1===s){if(-1===n)return".";s=n}return t.slice(0,s)},basename(t,e){void 0!==e&&P(e,"ext"),P(t,"path");let s,n=0,i=-1,r=!0;if(t.length>=2&&j(t.charCodeAt(0))&&t.charCodeAt(1)===z&&(n=2),void 0!==e&&e.length>0&&e.length<=t.length){if(e===t)return"";let o=e.length-1,l=-1;for(s=t.length-1;s>=n;--s){const u=t.charCodeAt(s);if(N(u)){if(!r){n=s+1;break}}else-1===l&&(r=!1,l=s+1),o>=0&&(u===e.charCodeAt(o)?-1==--o&&(i=s):(o=-1,i=l))}return n===i?i=l:-1===i&&(i=t.length),t.slice(n,i)}for(s=t.length-1;s>=n;--s)if(N(t.charCodeAt(s))){if(!r){n=s+1;break}}else-1===i&&(r=!1,i=s+1);return-1===i?"":t.slice(n,i)},extname(t){P(t,"path");let e=0,n=-1,i=0,r=-1,s=!0,o=0;t.length>=2&&t.charCodeAt(1)===z&&j(t.charCodeAt(0))&&(e=i=2);for(let l=t.length-1;l>=e;--l){const u=t.charCodeAt(l);if(N(u)){if(!s){i=l+1;break}}else-1===r&&(s=!1,r=l+1),u===G?-1===n?n=l:1!==o&&(o=1):-1!==n&&(o=-1)}return-1===n||-1===r||0===o||1===o&&n===r-1&&n===i+1?"":t.slice(n,r)},format:Dt.bind(null,"\\"),parse(t){P(t,"path");const e={root:"",dir:"",base:"",ext:"",name:""};if(0===t.length)return e;const n=t.length;let i=0,r=t.charCodeAt(0);if(1===n)return N(r)?(e.root=e.dir=t,e):(e.base=e.name=t,e);if(N(r)){if(i=1,N(t.charCodeAt(1))){let c=2,h=c;for(;c<n&&!N(t.charCodeAt(c));)c++;if(c<n&&c!==h){for(h=c;c<n&&N(t.charCodeAt(c));)c++;if(c<n&&c!==h){for(h=c;c<n&&!N(t.charCodeAt(c));)c++;c===n?i=c:c!==h&&(i=c+1)}}}}else if(j(r)&&t.charCodeAt(1)===z){if(n<=2)return e.root=e.dir=t,e;if(i=2,N(t.charCodeAt(2))){if(3===n)return e.root=e.dir=t,e;i=3}}i>0&&(e.root=t.slice(0,i));let s=-1,o=i,l=-1,u=!0,a=t.length-1,d=0;for(;a>=i;--a)if(r=t.charCodeAt(a),N(r)){if(!u){o=a+1;break}}else-1===l&&(u=!1,l=a+1),r===G?-1===s?s=a:1!==d&&(d=1):-1!==s&&(d=-1);return-1!==l&&(-1===s||0===d||1===d&&s===l-1&&s===o+1?e.base=e.name=t.slice(o,l):(e.name=t.slice(o,s),e.base=t.slice(o,l),e.ext=t.slice(s,l))),e.dir=o>0&&o!==i?t.slice(0,o-1):e.root,e},sep:"\\",delimiter:";",win32:null,posix:null},B={resolve(...t){let e="",n=!1;for(let i=t.length-1;i>=-1&&!n;i--){const r=i>=0?t[i]:Qe();P(r,"path"),0!==r.length&&(e=`${r}/${e}`,n=r.charCodeAt(0)===x)}return e=Se(e,!n,"/",Ze),n?`/${e}`:e.length>0?e:"."},normalize(t){if(P(t,"path"),0===t.length)return".";const e=t.charCodeAt(0)===x,n=t.charCodeAt(t.length-1)===x;return 0===(t=Se(t,!e,"/",Ze)).length?e?"/":n?"./":".":(n&&(t+="/"),e?`/${t}`:t)},isAbsolute:t=>(P(t,"path"),t.length>0&&t.charCodeAt(0)===x),join(...t){if(0===t.length)return".";let e;for(let n=0;n<t.length;++n){const i=t[n];P(i,"path"),i.length>0&&(void 0===e?e=i:e+=`/${i}`)}return void 0===e?".":B.normalize(e)},relative(t,e){if(P(t,"from"),P(e,"to"),t===e||(t=B.resolve(t))===(e=B.resolve(e)))return"";const i=t.length,r=i-1,o=e.length-1,l=r<o?r:o;let u=-1,a=0;for(;a<l;a++){const c=t.charCodeAt(1+a);if(c!==e.charCodeAt(1+a))break;c===x&&(u=a)}if(a===l)if(o>l){if(e.charCodeAt(1+a)===x)return e.slice(1+a+1);if(0===a)return e.slice(1+a)}else r>l&&(t.charCodeAt(1+a)===x?u=a:0===a&&(u=0));let d="";for(a=1+u+1;a<=i;++a)(a===i||t.charCodeAt(a)===x)&&(d+=0===d.length?"..":"/..");return`${d}${e.slice(1+u)}`},toNamespacedPath:t=>t,dirname(t){if(P(t,"path"),0===t.length)return".";const e=t.charCodeAt(0)===x;let n=-1,i=!0;for(let r=t.length-1;r>=1;--r)if(t.charCodeAt(r)===x){if(!i){n=r;break}}else i=!1;return-1===n?e?"/":".":e&&1===n?"//":t.slice(0,n)},basename(t,e){void 0!==e&&P(e,"ext"),P(t,"path");let s,n=0,i=-1,r=!0;if(void 0!==e&&e.length>0&&e.length<=t.length){if(e===t)return"";let o=e.length-1,l=-1;for(s=t.length-1;s>=0;--s){const u=t.charCodeAt(s);if(u===x){if(!r){n=s+1;break}}else-1===l&&(r=!1,l=s+1),o>=0&&(u===e.charCodeAt(o)?-1==--o&&(i=s):(o=-1,i=l))}return n===i?i=l:-1===i&&(i=t.length),t.slice(n,i)}for(s=t.length-1;s>=0;--s)if(t.charCodeAt(s)===x){if(!r){n=s+1;break}}else-1===i&&(r=!1,i=s+1);return-1===i?"":t.slice(n,i)},extname(t){P(t,"path");let e=-1,n=0,i=-1,r=!0,s=0;for(let o=t.length-1;o>=0;--o){const l=t.charCodeAt(o);if(l!==x)-1===i&&(r=!1,i=o+1),l===G?-1===e?e=o:1!==s&&(s=1):-1!==e&&(s=-1);else if(!r){n=o+1;break}}return-1===e||-1===i||0===s||1===s&&e===i-1&&e===n+1?"":t.slice(e,i)},format:Dt.bind(null,"/"),parse(t){P(t,"path");const e={root:"",dir:"",base:"",ext:"",name:""};if(0===t.length)return e;const n=t.charCodeAt(0)===x;let i;n?(e.root="/",i=1):i=0;let r=-1,s=0,o=-1,l=!0,u=t.length-1,a=0;for(;u>=i;--u){const d=t.charCodeAt(u);if(d!==x)-1===o&&(l=!1,o=u+1),d===G?-1===r?r=u:1!==a&&(a=1):-1!==r&&(a=-1);else if(!l){s=u+1;break}}if(-1!==o){const d=0===s&&n?1:s;-1===r||0===a||1===a&&r===o-1&&r===s+1?e.base=e.name=t.slice(d,o):(e.name=t.slice(d,r),e.base=t.slice(d,o),e.ext=t.slice(r,o))}return s>0?e.dir=t.slice(0,s-1):n&&(e.dir="/"),e},sep:"/",delimiter:":",win32:null,posix:null};B.win32=F.win32=F,B.posix=F.posix=B;const $n=/^\w[\w\d+.-]*$/,Yn=/^\//,Vn=/^\/\//;function kt(t,e){if(!t.scheme&&e)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${t.authority}", path: "${t.path}", query: "${t.query}", fragment: "${t.fragment}"}`);if(t.scheme&&!$n.test(t.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(t.path)if(t.authority){if(!Yn.test(t.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(Vn.test(t.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}const I="",H="/",jn=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class ee{constructor(e,n,i,r,s,o=!1){"object"==typeof e?(this.scheme=e.scheme||I,this.authority=e.authority||I,this.path=e.path||I,this.query=e.query||I,this.fragment=e.fragment||I):(this.scheme=function(t,e){return t||e?t:"file"}(e,o),this.authority=n||I,this.path=function(t,e){switch(t){case"https":case"http":case"file":e?e[0]!==H&&(e=H+e):e=H}return e}(this.scheme,i||I),this.query=r||I,this.fragment=s||I,kt(this,o))}static isUri(e){return e instanceof ee||!!e&&"string"==typeof e.authority&&"string"==typeof e.fragment&&"string"==typeof e.path&&"string"==typeof e.query&&"string"==typeof e.scheme&&"string"==typeof e.fsPath&&"function"==typeof e.with&&"function"==typeof e.toString}get fsPath(){return Xe(this,!1)}with(e){if(!e)return this;let{scheme:n,authority:i,path:r,query:s,fragment:o}=e;return void 0===n?n=this.scheme:null===n&&(n=I),void 0===i?i=this.authority:null===i&&(i=I),void 0===r?r=this.path:null===r&&(r=I),void 0===s?s=this.query:null===s&&(s=I),void 0===o?o=this.fragment:null===o&&(o=I),n===this.scheme&&i===this.authority&&r===this.path&&s===this.query&&o===this.fragment?this:new se(n,i,r,s,o)}static parse(e,n=!1){const i=jn.exec(e);return i?new se(i[2]||I,Le(i[4]||I),Le(i[5]||I),Le(i[7]||I),Le(i[9]||I),n):new se(I,I,I,I,I)}static file(e){let n=I;if(de&&(e=e.replace(/\\/g,H)),e[0]===H&&e[1]===H){const i=e.indexOf(H,2);-1===i?(n=e.substring(2),e=H):(n=e.substring(2,i),e=e.substring(i)||H)}return new se("file",n,e,I,I)}static from(e){const n=new se(e.scheme,e.authority,e.path,e.query,e.fragment);return kt(n,!0),n}static joinPath(e,...n){if(!e.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let i;return i=de&&"file"===e.scheme?ee.file(F.join(Xe(e,!0),...n)).path:B.join(e.path,...n),e.with({path:i})}toString(e=!1){return Je(this,e)}toJSON(){return this}static revive(e){if(e){if(e instanceof ee)return e;{const n=new se(e);return n._formatted=e.external,n._fsPath=e._sep===Ft?e.fsPath:null,n}}return e}}const Ft=de?1:void 0;class se extends ee{constructor(){super(...arguments),this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=Xe(this,!1)),this._fsPath}toString(e=!1){return e?Je(this,!0):(this._formatted||(this._formatted=Je(this,!1)),this._formatted)}toJSON(){const e={$mid:1};return this._fsPath&&(e.fsPath=this._fsPath,e._sep=Ft),this._formatted&&(e.external=this._formatted),this.path&&(e.path=this.path),this.scheme&&(e.scheme=this.scheme),this.authority&&(e.authority=this.authority),this.query&&(e.query=this.query),this.fragment&&(e.fragment=this.fragment),e}}const Ut={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function Bt(t,e){let n,i=-1;for(let r=0;r<t.length;r++){const s=t.charCodeAt(r);if(s>=97&&s<=122||s>=65&&s<=90||s>=48&&s<=57||45===s||46===s||95===s||126===s||e&&47===s)-1!==i&&(n+=encodeURIComponent(t.substring(i,r)),i=-1),void 0!==n&&(n+=t.charAt(r));else{void 0===n&&(n=t.substr(0,r));const o=Ut[s];void 0!==o?(-1!==i&&(n+=encodeURIComponent(t.substring(i,r)),i=-1),n+=o):-1===i&&(i=r)}}return-1!==i&&(n+=encodeURIComponent(t.substring(i))),void 0!==n?n:t}function Qn(t){let e;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);35===i||63===i?(void 0===e&&(e=t.substr(0,n)),e+=Ut[i]):void 0!==e&&(e+=t[n])}return void 0!==e?e:t}function Xe(t,e){let n;return n=t.authority&&t.path.length>1&&"file"===t.scheme?`//${t.authority}${t.path}`:47===t.path.charCodeAt(0)&&(t.path.charCodeAt(1)>=65&&t.path.charCodeAt(1)<=90||t.path.charCodeAt(1)>=97&&t.path.charCodeAt(1)<=122)&&58===t.path.charCodeAt(2)?e?t.path.substr(1):t.path[1].toLowerCase()+t.path.substr(2):t.path,de&&(n=n.replace(/\//g,"\\")),n}function Je(t,e){const n=e?Qn:Bt;let i="",{scheme:r,authority:s,path:o,query:l,fragment:u}=t;if(r&&(i+=r,i+=":"),(s||"file"===r)&&(i+=H,i+=H),s){let a=s.indexOf("@");if(-1!==a){const d=s.substr(0,a);s=s.substr(a+1),a=d.indexOf(":"),-1===a?i+=n(d,!1):(i+=n(d.substr(0,a),!1),i+=":",i+=n(d.substr(a+1),!1)),i+="@"}s=s.toLowerCase(),a=s.indexOf(":"),-1===a?i+=n(s,!1):(i+=n(s.substr(0,a),!1),i+=s.substr(a))}if(o){if(o.length>=3&&47===o.charCodeAt(0)&&58===o.charCodeAt(2)){const a=o.charCodeAt(1);a>=65&&a<=90&&(o=`/${String.fromCharCode(a+32)}:${o.substr(3)}`)}else if(o.length>=2&&58===o.charCodeAt(1)){const a=o.charCodeAt(0);a>=65&&a<=90&&(o=`${String.fromCharCode(a+32)}:${o.substr(2)}`)}i+=n(o,!0)}return l&&(i+="?",i+=n(l,!1)),u&&(i+="#",i+=e?u:Bt(u,!1)),i}function Wt(t){try{return decodeURIComponent(t)}catch(e){return t.length>3?t.substr(0,3)+Wt(t.substr(3)):t}}const Ht=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function Le(t){return t.match(Ht)?t.replace(Ht,e=>Wt(e)):t}class W{constructor(e,n){this.lineNumber=e,this.column=n}with(e=this.lineNumber,n=this.column){return e===this.lineNumber&&n===this.column?this:new W(e,n)}delta(e=0,n=0){return this.with(this.lineNumber+e,this.column+n)}equals(e){return W.equals(this,e)}static equals(e,n){return!e&&!n||!!e&&!!n&&e.lineNumber===n.lineNumber&&e.column===n.column}isBefore(e){return W.isBefore(this,e)}static isBefore(e,n){return e.lineNumber<n.lineNumber||!(n.lineNumber<e.lineNumber)&&e.column<n.column}isBeforeOrEqual(e){return W.isBeforeOrEqual(this,e)}static isBeforeOrEqual(e,n){return e.lineNumber<n.lineNumber||!(n.lineNumber<e.lineNumber)&&e.column<=n.column}static compare(e,n){let i=0|e.lineNumber,r=0|n.lineNumber;return i===r?(0|e.column)-(0|n.column):i-r}clone(){return new W(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(e){return new W(e.lineNumber,e.column)}static isIPosition(e){return e&&"number"==typeof e.lineNumber&&"number"==typeof e.column}}class R{constructor(e,n,i,r){e>i||e===i&&n>r?(this.startLineNumber=i,this.startColumn=r,this.endLineNumber=e,this.endColumn=n):(this.startLineNumber=e,this.startColumn=n,this.endLineNumber=i,this.endColumn=r)}isEmpty(){return R.isEmpty(this)}static isEmpty(e){return e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn}containsPosition(e){return R.containsPosition(this,e)}static containsPosition(e,n){return!(n.lineNumber<e.startLineNumber||n.lineNumber>e.endLineNumber||n.lineNumber===e.startLineNumber&&n.column<e.startColumn||n.lineNumber===e.endLineNumber&&n.column>e.endColumn)}containsRange(e){return R.containsRange(this,e)}static containsRange(e,n){return!(n.startLineNumber<e.startLineNumber||n.endLineNumber<e.startLineNumber||n.startLineNumber>e.endLineNumber||n.endLineNumber>e.endLineNumber||n.startLineNumber===e.startLineNumber&&n.startColumn<e.startColumn||n.endLineNumber===e.endLineNumber&&n.endColumn>e.endColumn)}strictContainsRange(e){return R.strictContainsRange(this,e)}static strictContainsRange(e,n){return!(n.startLineNumber<e.startLineNumber||n.endLineNumber<e.startLineNumber||n.startLineNumber>e.endLineNumber||n.endLineNumber>e.endLineNumber||n.startLineNumber===e.startLineNumber&&n.startColumn<=e.startColumn||n.endLineNumber===e.endLineNumber&&n.endColumn>=e.endColumn)}plusRange(e){return R.plusRange(this,e)}static plusRange(e,n){let i,r,s,o;return n.startLineNumber<e.startLineNumber?(i=n.startLineNumber,r=n.startColumn):n.startLineNumber===e.startLineNumber?(i=n.startLineNumber,r=Math.min(n.startColumn,e.startColumn)):(i=e.startLineNumber,r=e.startColumn),n.endLineNumber>e.endLineNumber?(s=n.endLineNumber,o=n.endColumn):n.endLineNumber===e.endLineNumber?(s=n.endLineNumber,o=Math.max(n.endColumn,e.endColumn)):(s=e.endLineNumber,o=e.endColumn),new R(i,r,s,o)}intersectRanges(e){return R.intersectRanges(this,e)}static intersectRanges(e,n){let i=e.startLineNumber,r=e.startColumn,s=e.endLineNumber,o=e.endColumn,l=n.startLineNumber,u=n.startColumn,a=n.endLineNumber,d=n.endColumn;return i<l?(i=l,r=u):i===l&&(r=Math.max(r,u)),s>a?(s=a,o=d):s===a&&(o=Math.min(o,d)),i>s||i===s&&r>o?null:new R(i,r,s,o)}equalsRange(e){return R.equalsRange(this,e)}static equalsRange(e,n){return!!e&&!!n&&e.startLineNumber===n.startLineNumber&&e.startColumn===n.startColumn&&e.endLineNumber===n.endLineNumber&&e.endColumn===n.endColumn}getEndPosition(){return R.getEndPosition(this)}static getEndPosition(e){return new W(e.endLineNumber,e.endColumn)}getStartPosition(){return R.getStartPosition(this)}static getStartPosition(e){return new W(e.startLineNumber,e.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(e,n){return new R(this.startLineNumber,this.startColumn,e,n)}setStartPosition(e,n){return new R(e,n,this.endLineNumber,this.endColumn)}collapseToStart(){return R.collapseToStart(this)}static collapseToStart(e){return new R(e.startLineNumber,e.startColumn,e.startLineNumber,e.startColumn)}static fromPositions(e,n=e){return new R(e.lineNumber,e.column,n.lineNumber,n.column)}static lift(e){return e?new R(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn):null}static isIRange(e){return e&&"number"==typeof e.startLineNumber&&"number"==typeof e.startColumn&&"number"==typeof e.endLineNumber&&"number"==typeof e.endColumn}static areIntersectingOrTouching(e,n){return!(e.endLineNumber<n.startLineNumber||e.endLineNumber===n.startLineNumber&&e.endColumn<n.startColumn||n.endLineNumber<e.startLineNumber||n.endLineNumber===e.startLineNumber&&n.endColumn<e.startColumn)}static areIntersecting(e,n){return!(e.endLineNumber<n.startLineNumber||e.endLineNumber===n.startLineNumber&&e.endColumn<=n.startColumn||n.endLineNumber<e.startLineNumber||n.endLineNumber===e.startLineNumber&&n.endColumn<=e.startColumn)}static compareRangesUsingStarts(e,n){if(e&&n){const s=0|e.startLineNumber,o=0|n.startLineNumber;if(s===o){const l=0|e.startColumn,u=0|n.startColumn;if(l===u){const a=0|e.endLineNumber,d=0|n.endLineNumber;return a===d?(0|e.endColumn)-(0|n.endColumn):a-d}return l-u}return s-o}return(e?1:0)-(n?1:0)}static compareRangesUsingEnds(e,n){return e.endLineNumber===n.endLineNumber?e.endColumn===n.endColumn?e.startLineNumber===n.startLineNumber?e.startColumn-n.startColumn:e.startLineNumber-n.startLineNumber:e.endColumn-n.endColumn:e.endLineNumber-n.endLineNumber}static spansMultipleLines(e){return e.endLineNumber>e.startLineNumber}}function qt(t,e,n,i){return new V(t,e,n).ComputeDiff(i)}class Kt{constructor(e){const n=[],i=[];for(let r=0,s=e.length;r<s;r++)n[r]=et(e[r],1),i[r]=tt(e[r],1);this.lines=e,this._startColumns=n,this._endColumns=i}getElements(){const e=[];for(let n=0,i=this.lines.length;n<i;n++)e[n]=this.lines[n].substring(this._startColumns[n]-1,this._endColumns[n]-1);return e}getStrictElement(e){return this.lines[e]}getStartLineNumber(e){return e+1}getEndLineNumber(e){return e+1}createCharSequence(e,n,i){const r=[],s=[],o=[];let l=0;for(let u=n;u<=i;u++){const a=this.lines[u],c=e?this._endColumns[u]:a.length+1;for(let h=e?this._startColumns[u]:1;h<c;h++)r[l]=a.charCodeAt(h-1),s[l]=u+1,o[l]=h,l++}return new Xn(r,s,o)}}class Xn{constructor(e,n,i){this._charCodes=e,this._lineNumbers=n,this._columns=i}getElements(){return this._charCodes}getStartLineNumber(e){return this._lineNumbers[e]}getStartColumn(e){return this._columns[e]}getEndLineNumber(e){return this._lineNumbers[e]}getEndColumn(e){return this._columns[e]+1}}class he{constructor(e,n,i,r,s,o,l,u){this.originalStartLineNumber=e,this.originalStartColumn=n,this.originalEndLineNumber=i,this.originalEndColumn=r,this.modifiedStartLineNumber=s,this.modifiedStartColumn=o,this.modifiedEndLineNumber=l,this.modifiedEndColumn=u}static createFromDiffChange(e,n,i){let r,s,o,l,u,a,d,c;return 0===e.originalLength?(r=0,s=0,o=0,l=0):(r=n.getStartLineNumber(e.originalStart),s=n.getStartColumn(e.originalStart),o=n.getEndLineNumber(e.originalStart+e.originalLength-1),l=n.getEndColumn(e.originalStart+e.originalLength-1)),0===e.modifiedLength?(u=0,a=0,d=0,c=0):(u=i.getStartLineNumber(e.modifiedStart),a=i.getStartColumn(e.modifiedStart),d=i.getEndLineNumber(e.modifiedStart+e.modifiedLength-1),c=i.getEndColumn(e.modifiedStart+e.modifiedLength-1)),new he(r,s,o,l,u,a,d,c)}}class me{constructor(e,n,i,r,s){this.originalStartLineNumber=e,this.originalEndLineNumber=n,this.modifiedStartLineNumber=i,this.modifiedEndLineNumber=r,this.charChanges=s}static createFromDiffResult(e,n,i,r,s,o,l){let u,a,d,c,h;if(0===n.originalLength?(u=i.getStartLineNumber(n.originalStart)-1,a=0):(u=i.getStartLineNumber(n.originalStart),a=i.getEndLineNumber(n.originalStart+n.originalLength-1)),0===n.modifiedLength?(d=r.getStartLineNumber(n.modifiedStart)-1,c=0):(d=r.getStartLineNumber(n.modifiedStart),c=r.getEndLineNumber(n.modifiedStart+n.modifiedLength-1)),o&&n.originalLength>0&&n.originalLength<20&&n.modifiedLength>0&&n.modifiedLength<20&&s()){const _=i.createCharSequence(e,n.originalStart,n.originalStart+n.originalLength-1),S=r.createCharSequence(e,n.modifiedStart,n.modifiedStart+n.modifiedLength-1);let b=qt(_,S,s,!0).changes;l&&(b=function(t){if(t.length<=1)return t;const e=[t[0]];let n=e[0];for(let i=1,r=t.length;i<r;i++){const s=t[i];Math.min(s.originalStart-(n.originalStart+n.originalLength),s.modifiedStart-(n.modifiedStart+n.modifiedLength))<3?(n.originalLength=s.originalStart+s.originalLength-n.originalStart,n.modifiedLength=s.modifiedStart+s.modifiedLength-n.modifiedStart):(e.push(s),n=s)}return e}(b)),h=[];for(let A=0,w=b.length;A<w;A++)h.push(he.createFromDiffChange(b[A],_,S))}return new me(u,a,d,c,h)}}class ei{constructor(e,n,i){this.shouldComputeCharChanges=i.shouldComputeCharChanges,this.shouldPostProcessCharChanges=i.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=i.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=i.shouldMakePrettyDiff,this.originalLines=e,this.modifiedLines=n,this.original=new Kt(e),this.modified=new Kt(n),this.continueLineDiff=$t(i.maxComputationTime),this.continueCharDiff=$t(0===i.maxComputationTime?0:Math.min(i.maxComputationTime,5e3))}computeDiff(){if(1===this.original.lines.length&&0===this.original.lines[0].length)return 1===this.modified.lines.length&&0===this.modified.lines[0].length?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};if(1===this.modified.lines.length&&0===this.modified.lines[0].length)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};const e=qt(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),n=e.changes,i=e.quitEarly;if(this.shouldIgnoreTrimWhitespace){const l=[];for(let u=0,a=n.length;u<a;u++)l.push(me.createFromDiffResult(this.shouldIgnoreTrimWhitespace,n[u],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:i,changes:l}}const r=[];let s=0,o=0;for(let l=-1,u=n.length;l<u;l++){const a=l+1<u?n[l+1]:null,d=a?a.originalStart:this.originalLines.length,c=a?a.modifiedStart:this.modifiedLines.length;for(;s<d&&o<c;){const h=this.originalLines[s],_=this.modifiedLines[o];if(h!==_){{let S=et(h,1),b=et(_,1);for(;S>1&&b>1&&h.charCodeAt(S-2)===_.charCodeAt(b-2);)S--,b--;(S>1||b>1)&&this._pushTrimWhitespaceCharChange(r,s+1,1,S,o+1,1,b)}{let S=tt(h,1),b=tt(_,1);const A=h.length+1,w=_.length+1;for(;S<A&&b<w&&h.charCodeAt(S-1)===h.charCodeAt(b-1);)S++,b++;(S<A||b<w)&&this._pushTrimWhitespaceCharChange(r,s+1,S,A,o+1,b,w)}}s++,o++}a&&(r.push(me.createFromDiffResult(this.shouldIgnoreTrimWhitespace,a,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),s+=a.originalLength,o+=a.modifiedLength)}return{quitEarly:i,changes:r}}_pushTrimWhitespaceCharChange(e,n,i,r,s,o,l){if(this._mergeTrimWhitespaceCharChange(e,n,i,r,s,o,l))return;let u;this.shouldComputeCharChanges&&(u=[new he(n,i,n,r,s,o,s,l)]),e.push(new me(n,n,s,s,u))}_mergeTrimWhitespaceCharChange(e,n,i,r,s,o,l){const u=e.length;if(0===u)return!1;const a=e[u-1];return 0!==a.originalEndLineNumber&&0!==a.modifiedEndLineNumber&&a.originalEndLineNumber+1===n&&a.modifiedEndLineNumber+1===s&&(a.originalEndLineNumber=n,a.modifiedEndLineNumber=s,this.shouldComputeCharChanges&&a.charChanges&&a.charChanges.push(new he(n,i,n,r,s,o,s,l)),!0)}}function et(t,e){const n=function(t){for(let e=0,n=t.length;e<n;e++){const i=t.charCodeAt(e);if(32!==i&&9!==i)return e}return-1}(t);return-1===n?e:n+1}function tt(t,e){const n=function(t,e=t.length-1){for(let n=e;n>=0;n--){const i=t.charCodeAt(n);if(32!==i&&9!==i)return n}return-1}(t);return-1===n?e:n+2}function $t(t){if(0===t)return()=>!0;const e=Date.now();return()=>Date.now()-e<t}function Yt(t){return t<0?0:t>255?255:0|t}function oe(t){return t<0?0:t>4294967295?4294967295:0|t}class ti{constructor(e,n){this._prefixSumIndexOfResultBrand=void 0,this.index=e,this.remainder=n}}class ni{constructor(e){this.values=e,this.prefixSum=new Uint32Array(e.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(e,n){e=oe(e);const i=this.values,r=this.prefixSum,s=n.length;return 0!==s&&(this.values=new Uint32Array(i.length+s),this.values.set(i.subarray(0,e),0),this.values.set(i.subarray(e),e+s),this.values.set(n,e),e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(r.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}changeValue(e,n){return e=oe(e),n=oe(n),this.values[e]!==n&&(this.values[e]=n,e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),!0)}removeValues(e,n){e=oe(e),n=oe(n);const i=this.values,r=this.prefixSum;if(e>=i.length)return!1;let s=i.length-e;return n>=s&&(n=s),0!==n&&(this.values=new Uint32Array(i.length-n),this.values.set(i.subarray(0,e),0),this.values.set(i.subarray(e+n),e),this.prefixSum=new Uint32Array(this.values.length),e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(r.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return 0===this.values.length?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(e){return e<0?0:(e=oe(e),this._getPrefixSum(e))}_getPrefixSum(e){if(e<=this.prefixSumValidIndex[0])return this.prefixSum[e];let n=this.prefixSumValidIndex[0]+1;0===n&&(this.prefixSum[0]=this.values[0],n++),e>=this.values.length&&(e=this.values.length-1);for(let i=n;i<=e;i++)this.prefixSum[i]=this.prefixSum[i-1]+this.values[i];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],e),this.prefixSum[e]}getIndexOf(e){e=Math.floor(e),this.getTotalSum();let n=0,i=this.values.length-1,r=0,s=0,o=0;for(;n<=i;)if(r=n+(i-n)/2|0,s=this.prefixSum[r],o=s-this.values[r],e<o)i=r-1;else{if(!(e>=s))break;n=r+1}return new ti(r,e-o)}}const oi=function(t=""){let e="(-?\\d*\\.\\d\\w*)|([^";for(const n of"`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?")t.indexOf(n)>=0||(e+="\\"+n);return e+="\\s]+)",new RegExp(e,"g")}(),ui={maxLen:1e3,windowSize:15,timeBudget:150};function Vt(t,e,n,i,r=ui){if(n.length>r.maxLen){let a=t-r.maxLen/2;return a<0?a=0:i+=a,Vt(t,e,n=n.substring(a,t+r.maxLen/2),i,r)}const s=Date.now(),o=t-1-i;let l=-1,u=null;for(let a=1;!(Date.now()-s>=r.timeBudget);a++){const d=o-r.windowSize*a;e.lastIndex=Math.max(0,d);const c=ai(e,n,o,l);if(!c&&u||(u=c,d<=0))break;l=d}if(u){let a={word:u[0],startColumn:i+1+u.index,endColumn:i+1+u.index+u[0].length};return e.lastIndex=0,a}return null}function ai(t,e,n,i){let r;for(;r=t.exec(e);){const s=r.index||0;if(s<=n&&t.lastIndex>=n)return r;if(i>0&&s>i)return null}return null}class be{constructor(e){let n=Yt(e);this._defaultValue=n,this._asciiMap=be._createAsciiMap(n),this._map=new Map}static _createAsciiMap(e){let n=new Uint8Array(256);for(let i=0;i<256;i++)n[i]=e;return n}set(e,n){let i=Yt(n);e>=0&&e<256?this._asciiMap[e]=i:this._map.set(e,i)}get(e){return e>=0&&e<256?this._asciiMap[e]:this._map.get(e)||this._defaultValue}}class ci{constructor(e,n,i){const r=new Uint8Array(e*n);for(let s=0,o=e*n;s<o;s++)r[s]=i;this._data=r,this.rows=e,this.cols=n}get(e,n){return this._data[e*this.cols+n]}set(e,n,i){this._data[e*this.cols+n]=i}}class di{constructor(e){let n=0,i=0;for(let s=0,o=e.length;s<o;s++){let[l,u,a]=e[s];u>n&&(n=u),l>i&&(i=l),a>i&&(i=a)}n++,i++;let r=new ci(i,n,0);for(let s=0,o=e.length;s<o;s++){let[l,u,a]=e[s];r.set(l,u,a)}this._states=r,this._maxCharCode=n}nextState(e,n){return n<0||n>=this._maxCharCode?0:this._states.get(e,n)}}let nt=null,ge=null;class Oe{static _createLink(e,n,i,r,s){let o=s-1;do{const l=n.charCodeAt(o);if(2!==e.get(l))break;o--}while(o>r);if(r>0){const l=n.charCodeAt(r-1),u=n.charCodeAt(o);(40===l&&41===u||91===l&&93===u||123===l&&125===u)&&o--}return{range:{startLineNumber:i,startColumn:r+1,endLineNumber:i,endColumn:o+2},url:n.substring(r,o+1)}}static computeLinks(e,n=function(){return null===nt&&(nt=new di([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),nt}()){const i=function(){if(null===ge){ge=new be(0);const t=" \t<>'\"\u3001\u3002\uff61\uff64\uff0c\uff0e\uff1a\uff1b\u2018\u3008\u300c\u300e\u3014\uff08\uff3b\uff5b\uff62\uff63\uff5d\uff3d\uff09\u3015\u300f\u300d\u3009\u2019\uff40\uff5e\u2026";for(let n=0;n<t.length;n++)ge.set(t.charCodeAt(n),1);const e=".,;";for(let n=0;n<e.length;n++)ge.set(e.charCodeAt(n),2)}return ge}();let r=[];for(let s=1,o=e.getLineCount();s<=o;s++){const l=e.getLineContent(s),u=l.length;let a=0,d=0,c=0,h=1,_=!1,S=!1,b=!1,A=!1;for(;a<u;){let w=!1;const m=l.charCodeAt(a);if(13===h){let f;switch(m){case 40:_=!0,f=0;break;case 41:f=_?0:1;break;case 91:b=!0,S=!0,f=0;break;case 93:b=!1,f=S?0:1;break;case 123:A=!0,f=0;break;case 125:f=A?0:1;break;case 39:f=34===c||96===c?0:1;break;case 34:f=39===c||96===c?0:1;break;case 96:f=39===c||34===c?0:1;break;case 42:f=42===c?1:0;break;case 124:f=124===c?1:0;break;case 32:f=b?0:1;break;default:f=i.get(m)}1===f&&(r.push(Oe._createLink(i,l,s,d,a)),w=!0)}else if(12===h){let f;91===m?(S=!0,f=0):f=i.get(m),1===f?w=!0:h=13}else h=n.nextState(h,m),0===h&&(w=!0);w&&(h=1,_=!1,S=!1,A=!1,d=a+1,c=m),a++}13===h&&r.push(Oe._createLink(i,l,s,d,u))}return r}}class it{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(e,n,i,r,s){if(e&&n){let o=this.doNavigateValueSet(n,s);if(o)return{range:e,value:o}}if(i&&r){let o=this.doNavigateValueSet(r,s);if(o)return{range:i,value:o}}return null}doNavigateValueSet(e,n){let i=this.numberReplace(e,n);return null!==i?i:this.textReplace(e,n)}numberReplace(e,n){let i=Math.pow(10,e.length-(e.lastIndexOf(".")+1)),r=Number(e),s=parseFloat(e);return isNaN(r)||isNaN(s)||r!==s?null:0!==r||n?(r=Math.floor(r*i),r+=n?i:-i,String(r/i)):null}textReplace(e,n){return this.valueSetsReplace(this._defaultValueSet,e,n)}valueSetsReplace(e,n,i){let r=null;for(let s=0,o=e.length;null===r&&s<o;s++)r=this.valueSetReplace(e[s],n,i);return r}valueSetReplace(e,n,i){let r=e.indexOf(n);return r>=0?(r+=i?1:-1,r<0?r=e.length-1:r%=e.length,e[r]):null}}it.INSTANCE=new it;class v{constructor(e){this.element=e,this.next=v.Undefined,this.prev=v.Undefined}}v.Undefined=new v(void 0);class Gt{constructor(){this._first=v.Undefined,this._last=v.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===v.Undefined}clear(){let e=this._first;for(;e!==v.Undefined;){const n=e.next;e.prev=v.Undefined,e.next=v.Undefined,e=n}this._first=v.Undefined,this._last=v.Undefined,this._size=0}unshift(e){return this._insert(e,!1)}push(e){return this._insert(e,!0)}_insert(e,n){const i=new v(e);if(this._first===v.Undefined)this._first=i,this._last=i;else if(n){const s=this._last;this._last=i,i.prev=s,s.next=i}else{const s=this._first;this._first=i,i.next=s,s.prev=i}this._size+=1;let r=!1;return()=>{r||(r=!0,this._remove(i))}}shift(){if(this._first!==v.Undefined){const e=this._first.element;return this._remove(this._first),e}}pop(){if(this._last!==v.Undefined){const e=this._last.element;return this._remove(this._last),e}}_remove(e){if(e.prev!==v.Undefined&&e.next!==v.Undefined){const n=e.prev;n.next=e.next,e.next.prev=n}else e.prev===v.Undefined&&e.next===v.Undefined?(this._first=v.Undefined,this._last=v.Undefined):e.next===v.Undefined?(this._last=this._last.prev,this._last.next=v.Undefined):e.prev===v.Undefined&&(this._first=this._first.next,this._first.prev=v.Undefined);this._size-=1}*[Symbol.iterator](){let e=this._first;for(;e!==v.Undefined;)yield e.element,e=e.next}}const gi=D.performance&&"function"==typeof D.performance.now;class Ne{constructor(e){this._highResolution=gi&&e,this._startTime=this._now(),this._stopTime=-1}static create(e=!0){return new Ne(e)}stop(){this._stopTime=this._now()}elapsed(){return-1!==this._stopTime?this._stopTime-this._startTime:this._now()-this._startTime}_now(){return this._highResolution?D.performance.now():Date.now()}}var Ae;!function(t){function e(m){return(f,g=null,p)=>{let C,L=!1;return C=m(E=>{if(!L)return C?C.dispose():L=!0,f.call(g,E)},null,p),L&&C.dispose(),C}}function n(m,f){return u((g,p=null,L)=>m(C=>g.call(p,f(C)),null,L))}function i(m,f){return u((g,p=null,L)=>m(C=>{f(C),g.call(p,C)},null,L))}function r(m,f){return u((g,p=null,L)=>m(C=>f(C)&&g.call(p,C),null,L))}function l(m,f,g){let p=g;return n(m,L=>(p=f(p,L),p))}function u(m){let f;const g=new Q({onFirstListenerAdd(){f=m(g.fire,g)},onLastListenerRemove(){f.dispose()}});return g.event}function a(m,f,g=100,p=!1,L){let C,E,T,k=0;const y=new Q({leakWarningThreshold:L,onFirstListenerAdd(){C=m(O=>{k++,E=f(E,O),p&&!T&&(y.fire(E),E=void 0),clearTimeout(T),T=setTimeout(()=>{const Z=E;E=void 0,T=void 0,(!p||k>1)&&y.fire(Z),k=0},g)})},onLastListenerRemove(){C.dispose()}});return y.event}function d(m,f=((g,p)=>g===p)){let p,g=!0;return r(m,L=>{const C=g||!f(L,p);return g=!1,p=L,C})}t.None=()=>De.None,t.once=e,t.map=n,t.forEach=i,t.filter=r,t.signal=function(m){return m},t.any=function(...m){return(f,g=null,p)=>function(...t){return t.forEach(K),function(t){return{dispose:()=>{t()}}}(()=>mt(t))}(...m.map(L=>L(C=>f.call(g,C),null,p)))},t.reduce=l,t.debounce=a,t.latch=d,t.split=function(m,f){return[t.filter(m,f),t.filter(m,g=>!f(g))]},t.buffer=function(m,f=!1,g=[]){let p=g.slice(),L=m(T=>{p?p.push(T):E.fire(T)});const C=()=>{p&&p.forEach(T=>E.fire(T)),p=null},E=new Q({onFirstListenerAdd(){L||(L=m(T=>E.fire(T)))},onFirstListenerDidAdd(){p&&(f?setTimeout(C):C())},onLastListenerRemove(){L&&L.dispose(),L=null}});return E.event};class _{constructor(f){this.event=f}map(f){return new _(n(this.event,f))}forEach(f){return new _(i(this.event,f))}filter(f){return new _(r(this.event,f))}reduce(f,g){return new _(l(this.event,f,g))}latch(){return new _(d(this.event))}debounce(f,g=100,p=!1,L){return new _(a(this.event,f,g,p,L))}on(f,g,p){return this.event(f,g,p)}once(f,g,p){return e(this.event)(f,g,p)}}t.chain=function(m){return new _(m)},t.fromNodeEventEmitter=function(m,f,g=(p=>p)){const p=(...T)=>E.fire(g(...T)),E=new Q({onFirstListenerAdd:()=>m.on(f,p),onLastListenerRemove:()=>m.removeListener(f,p)});return E.event},t.fromDOMEventEmitter=function(m,f,g=(p=>p)){const p=(...T)=>E.fire(g(...T)),E=new Q({onFirstListenerAdd:()=>m.addEventListener(f,p),onLastListenerRemove:()=>m.removeEventListener(f,p)});return E.event},t.toPromise=function(m){return new Promise(f=>e(m)(f))}}(Ae||(Ae={}));let pi=(()=>{class t{constructor(n){this._listenerCount=0,this._invocationCount=0,this._elapsedOverall=0,this._name=`${n}_${t._idPool++}`}start(n){this._stopWatch=new Ne(!0),this._listenerCount=n}stop(){if(this._stopWatch){const n=this._stopWatch.elapsed();this._elapsedOverall+=n,this._invocationCount+=1,console.info(`did FIRE ${this._name}: elapsed_ms: ${n.toFixed(5)}, listener: ${this._listenerCount} (elapsed_overall: ${this._elapsedOverall.toFixed(2)}, invocations: ${this._invocationCount})`),this._stopWatch=void 0}}}return t._idPool=0,t})(),Q=(()=>{class t{constructor(n){var i;this._disposed=!1,this._options=n,this._leakageMon=void 0,this._perfMon=(null===(i=this._options)||void 0===i?void 0:i._profName)?new pi(this._options._profName):void 0}get event(){return this._event||(this._event=(n,i,r)=>{var s;this._listeners||(this._listeners=new Gt);const o=this._listeners.isEmpty();o&&this._options&&this._options.onFirstListenerAdd&&this._options.onFirstListenerAdd(this);const l=this._listeners.push(i?[n,i]:n);o&&this._options&&this._options.onFirstListenerDidAdd&&this._options.onFirstListenerDidAdd(this),this._options&&this._options.onListenerDidAdd&&this._options.onListenerDidAdd(this,n,i);const u=null===(s=this._leakageMon)||void 0===s?void 0:s.check(this._listeners.size);let a;return a={dispose:()=>{u&&u(),a.dispose=t._noop,this._disposed||(l(),this._options&&this._options.onLastListenerRemove&&(this._listeners&&!this._listeners.isEmpty()||this._options.onLastListenerRemove(this)))}},r instanceof gt?r.add(a):Array.isArray(r)&&r.push(a),a}),this._event}fire(n){var i,r;if(this._listeners){this._deliveryQueue||(this._deliveryQueue=new Gt);for(let s of this._listeners)this._deliveryQueue.push([s,n]);for(null===(i=this._perfMon)||void 0===i||i.start(this._deliveryQueue.size);this._deliveryQueue.size>0;){const[s,o]=this._deliveryQueue.shift();try{"function"==typeof s?s.call(void 0,o):s[0].call(s[1],o)}catch(l){Jt(l)}}null===(r=this._perfMon)||void 0===r||r.stop()}}dispose(){var n,i,r,s,o;this._disposed||(this._disposed=!0,null===(n=this._listeners)||void 0===n||n.clear(),null===(i=this._deliveryQueue)||void 0===i||i.clear(),null===(s=null===(r=this._options)||void 0===r?void 0:r.onLastListenerRemove)||void 0===s||s.call(r),null===(o=this._leakageMon)||void 0===o||o.dispose())}}return t._noop=function(){},t})();const jt=Object.freeze(function(t,e){const n=setTimeout(t.bind(e),0);return{dispose(){clearTimeout(n)}}});var we,t;(t=we||(we={})).isCancellationToken=function(n){return n===t.None||n===t.Cancelled||n instanceof Te||!(!n||"object"!=typeof n)&&"boolean"==typeof n.isCancellationRequested&&"function"==typeof n.onCancellationRequested},t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:Ae.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:jt});class Te{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?jt:(this._emitter||(this._emitter=new Q),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class rt{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(e,n){this._keyCodeToStr[e]=n,this._strToKeyCode[n.toLowerCase()]=e}keyCodeToStr(e){return this._keyCodeToStr[e]}strToKeyCode(e){return this._strToKeyCode[e.toLowerCase()]||0}}const st=new rt,ot=new rt,lt=new rt;var Qt;!function(){function t(e,n,i=n,r=i){st.define(e,n),ot.define(e,i),lt.define(e,r)}t(0,"unknown"),t(1,"Backspace"),t(2,"Tab"),t(3,"Enter"),t(4,"Shift"),t(5,"Ctrl"),t(6,"Alt"),t(7,"PauseBreak"),t(8,"CapsLock"),t(9,"Escape"),t(10,"Space"),t(11,"PageUp"),t(12,"PageDown"),t(13,"End"),t(14,"Home"),t(15,"LeftArrow","Left"),t(16,"UpArrow","Up"),t(17,"RightArrow","Right"),t(18,"DownArrow","Down"),t(19,"Insert"),t(20,"Delete"),t(21,"0"),t(22,"1"),t(23,"2"),t(24,"3"),t(25,"4"),t(26,"5"),t(27,"6"),t(28,"7"),t(29,"8"),t(30,"9"),t(31,"A"),t(32,"B"),t(33,"C"),t(34,"D"),t(35,"E"),t(36,"F"),t(37,"G"),t(38,"H"),t(39,"I"),t(40,"J"),t(41,"K"),t(42,"L"),t(43,"M"),t(44,"N"),t(45,"O"),t(46,"P"),t(47,"Q"),t(48,"R"),t(49,"S"),t(50,"T"),t(51,"U"),t(52,"V"),t(53,"W"),t(54,"X"),t(55,"Y"),t(56,"Z"),t(57,"Meta"),t(58,"ContextMenu"),t(59,"F1"),t(60,"F2"),t(61,"F3"),t(62,"F4"),t(63,"F5"),t(64,"F6"),t(65,"F7"),t(66,"F8"),t(67,"F9"),t(68,"F10"),t(69,"F11"),t(70,"F12"),t(71,"F13"),t(72,"F14"),t(73,"F15"),t(74,"F16"),t(75,"F17"),t(76,"F18"),t(77,"F19"),t(78,"NumLock"),t(79,"ScrollLock"),t(80,";",";","OEM_1"),t(81,"=","=","OEM_PLUS"),t(82,",",",","OEM_COMMA"),t(83,"-","-","OEM_MINUS"),t(84,".",".","OEM_PERIOD"),t(85,"/","/","OEM_2"),t(86,"`","`","OEM_3"),t(110,"ABNT_C1"),t(111,"ABNT_C2"),t(87,"[","[","OEM_4"),t(88,"\\","\\","OEM_5"),t(89,"]","]","OEM_6"),t(90,"'","'","OEM_7"),t(91,"OEM_8"),t(92,"OEM_102"),t(93,"NumPad0"),t(94,"NumPad1"),t(95,"NumPad2"),t(96,"NumPad3"),t(97,"NumPad4"),t(98,"NumPad5"),t(99,"NumPad6"),t(100,"NumPad7"),t(101,"NumPad8"),t(102,"NumPad9"),t(103,"NumPad_Multiply"),t(104,"NumPad_Add"),t(105,"NumPad_Separator"),t(106,"NumPad_Subtract"),t(107,"NumPad_Decimal"),t(108,"NumPad_Divide")}(),function(t){t.toString=function(o){return st.keyCodeToStr(o)},t.fromString=function(o){return st.strToKeyCode(o)},t.toUserSettingsUS=function(o){return ot.keyCodeToStr(o)},t.toUserSettingsGeneral=function(o){return lt.keyCodeToStr(o)},t.fromUserSettings=function(o){return ot.strToKeyCode(o)||lt.strToKeyCode(o)}}(Qt||(Qt={}));class q extends R{constructor(e,n,i,r){super(e,n,i,r),this.selectionStartLineNumber=e,this.selectionStartColumn=n,this.positionLineNumber=i,this.positionColumn=r}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(e){return q.selectionsEqual(this,e)}static selectionsEqual(e,n){return e.selectionStartLineNumber===n.selectionStartLineNumber&&e.selectionStartColumn===n.selectionStartColumn&&e.positionLineNumber===n.positionLineNumber&&e.positionColumn===n.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(e,n){return 0===this.getDirection()?new q(this.startLineNumber,this.startColumn,e,n):new q(e,n,this.startLineNumber,this.startColumn)}getPosition(){return new W(this.positionLineNumber,this.positionColumn)}setStartPosition(e,n){return 0===this.getDirection()?new q(e,n,this.endLineNumber,this.endColumn):new q(this.endLineNumber,this.endColumn,e,n)}static fromPositions(e,n=e){return new q(e.lineNumber,e.column,n.lineNumber,n.column)}static liftSelection(e){return new q(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn)}static selectionsArrEqual(e,n){if(e&&!n||!e&&n)return!1;if(!e&&!n)return!0;if(e.length!==n.length)return!1;for(let i=0,r=e.length;i<r;i++)if(!this.selectionsEqual(e[i],n[i]))return!1;return!0}static isISelection(e){return e&&"number"==typeof e.selectionStartLineNumber&&"number"==typeof e.selectionStartColumn&&"number"==typeof e.positionLineNumber&&"number"==typeof e.positionColumn}static createWithDirection(e,n,i,r,s){return 0===s?new q(e,n,i,r):new q(i,r,e,n)}}var ye=(()=>(function(t){t[t.DependsOnKbLayout=-1]="DependsOnKbLayout",t[t.Unknown=0]="Unknown",t[t.Backspace=1]="Backspace",t[t.Tab=2]="Tab",t[t.Enter=3]="Enter",t[t.Shift=4]="Shift",t[t.Ctrl=5]="Ctrl",t[t.Alt=6]="Alt",t[t.PauseBreak=7]="PauseBreak",t[t.CapsLock=8]="CapsLock",t[t.Escape=9]="Escape",t[t.Space=10]="Space",t[t.PageUp=11]="PageUp",t[t.PageDown=12]="PageDown",t[t.End=13]="End",t[t.Home=14]="Home",t[t.LeftArrow=15]="LeftArrow",t[t.UpArrow=16]="UpArrow",t[t.RightArrow=17]="RightArrow",t[t.DownArrow=18]="DownArrow",t[t.Insert=19]="Insert",t[t.Delete=20]="Delete",t[t.KEY_0=21]="KEY_0",t[t.KEY_1=22]="KEY_1",t[t.KEY_2=23]="KEY_2",t[t.KEY_3=24]="KEY_3",t[t.KEY_4=25]="KEY_4",t[t.KEY_5=26]="KEY_5",t[t.KEY_6=27]="KEY_6",t[t.KEY_7=28]="KEY_7",t[t.KEY_8=29]="KEY_8",t[t.KEY_9=30]="KEY_9",t[t.KEY_A=31]="KEY_A",t[t.KEY_B=32]="KEY_B",t[t.KEY_C=33]="KEY_C",t[t.KEY_D=34]="KEY_D",t[t.KEY_E=35]="KEY_E",t[t.KEY_F=36]="KEY_F",t[t.KEY_G=37]="KEY_G",t[t.KEY_H=38]="KEY_H",t[t.KEY_I=39]="KEY_I",t[t.KEY_J=40]="KEY_J",t[t.KEY_K=41]="KEY_K",t[t.KEY_L=42]="KEY_L",t[t.KEY_M=43]="KEY_M",t[t.KEY_N=44]="KEY_N",t[t.KEY_O=45]="KEY_O",t[t.KEY_P=46]="KEY_P",t[t.KEY_Q=47]="KEY_Q",t[t.KEY_R=48]="KEY_R",t[t.KEY_S=49]="KEY_S",t[t.KEY_T=50]="KEY_T",t[t.KEY_U=51]="KEY_U",t[t.KEY_V=52]="KEY_V",t[t.KEY_W=53]="KEY_W",t[t.KEY_X=54]="KEY_X",t[t.KEY_Y=55]="KEY_Y",t[t.KEY_Z=56]="KEY_Z",t[t.Meta=57]="Meta",t[t.ContextMenu=58]="ContextMenu",t[t.F1=59]="F1",t[t.F2=60]="F2",t[t.F3=61]="F3",t[t.F4=62]="F4",t[t.F5=63]="F5",t[t.F6=64]="F6",t[t.F7=65]="F7",t[t.F8=66]="F8",t[t.F9=67]="F9",t[t.F10=68]="F10",t[t.F11=69]="F11",t[t.F12=70]="F12",t[t.F13=71]="F13",t[t.F14=72]="F14",t[t.F15=73]="F15",t[t.F16=74]="F16",t[t.F17=75]="F17",t[t.F18=76]="F18",t[t.F19=77]="F19",t[t.NumLock=78]="NumLock",t[t.ScrollLock=79]="ScrollLock",t[t.US_SEMICOLON=80]="US_SEMICOLON",t[t.US_EQUAL=81]="US_EQUAL",t[t.US_COMMA=82]="US_COMMA",t[t.US_MINUS=83]="US_MINUS",t[t.US_DOT=84]="US_DOT",t[t.US_SLASH=85]="US_SLASH",t[t.US_BACKTICK=86]="US_BACKTICK",t[t.US_OPEN_SQUARE_BRACKET=87]="US_OPEN_SQUARE_BRACKET",t[t.US_BACKSLASH=88]="US_BACKSLASH",t[t.US_CLOSE_SQUARE_BRACKET=89]="US_CLOSE_SQUARE_BRACKET",t[t.US_QUOTE=90]="US_QUOTE",t[t.OEM_8=91]="OEM_8",t[t.OEM_102=92]="OEM_102",t[t.NUMPAD_0=93]="NUMPAD_0",t[t.NUMPAD_1=94]="NUMPAD_1",t[t.NUMPAD_2=95]="NUMPAD_2",t[t.NUMPAD_3=96]="NUMPAD_3",t[t.NUMPAD_4=97]="NUMPAD_4",t[t.NUMPAD_5=98]="NUMPAD_5",t[t.NUMPAD_6=99]="NUMPAD_6",t[t.NUMPAD_7=100]="NUMPAD_7",t[t.NUMPAD_8=101]="NUMPAD_8",t[t.NUMPAD_9=102]="NUMPAD_9",t[t.NUMPAD_MULTIPLY=103]="NUMPAD_MULTIPLY",t[t.NUMPAD_ADD=104]="NUMPAD_ADD",t[t.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",t[t.NUMPAD_SUBTRACT=106]="NUMPAD_SUBTRACT",t[t.NUMPAD_DECIMAL=107]="NUMPAD_DECIMAL",t[t.NUMPAD_DIVIDE=108]="NUMPAD_DIVIDE",t[t.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",t[t.ABNT_C1=110]="ABNT_C1",t[t.ABNT_C2=111]="ABNT_C2",t[t.MAX_VALUE=112]="MAX_VALUE"}(ye||(ye={})),ye))(),ve=(()=>(function(t){t[t.Hint=1]="Hint",t[t.Info=2]="Info",t[t.Warning=4]="Warning",t[t.Error=8]="Error"}(ve||(ve={})),ve))(),Ie=(()=>(function(t){t[t.Unnecessary=1]="Unnecessary",t[t.Deprecated=2]="Deprecated"}(Ie||(Ie={})),Ie))(),Me=(()=>(function(t){t[t.LTR=0]="LTR",t[t.RTL=1]="RTL"}(Me||(Me={})),Me))();let bi=(()=>{class t{static chord(n,i){return function(t,e){return(t|(65535&e)<<16>>>0)>>>0}(n,i)}}return t.CtrlCmd=2048,t.Shift=1024,t.Alt=512,t.WinCtrl=256,t})();var le=function(t,e,n,i){return new(n||(n=Promise))(function(s,o){function l(d){try{a(i.next(d))}catch(c){o(c)}}function u(d){try{a(i.throw(d))}catch(c){o(c)}}function a(d){d.done?s(d.value):function(s){return s instanceof n?s:new n(function(o){o(s)})}(d.value).then(l,u)}a((i=i.apply(t,e||[])).next())})};class Ni extends class{constructor(e,n,i,r){this._uri=e,this._lines=n,this._eol=i,this._versionId=r,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return null===this._cachedTextValue&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(e){e.eol&&e.eol!==this._eol&&(this._eol=e.eol,this._lineStarts=null);const n=e.changes;for(const i of n)this._acceptDeleteRange(i.range),this._acceptInsertText(new W(i.range.startLineNumber,i.range.startColumn),i.text);this._versionId=e.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const e=this._eol.length,n=this._lines.length,i=new Uint32Array(n);for(let r=0;r<n;r++)i[r]=this._lines[r].length+e;this._lineStarts=new ni(i)}}_setLineText(e,n){this._lines[e]=n,this._lineStarts&&this._lineStarts.changeValue(e,this._lines[e].length+this._eol.length)}_acceptDeleteRange(e){if(e.startLineNumber!==e.endLineNumber)this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.endLineNumber-1].substring(e.endColumn-1)),this._lines.splice(e.startLineNumber,e.endLineNumber-e.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(e.startLineNumber,e.endLineNumber-e.startLineNumber);else{if(e.startColumn===e.endColumn)return;this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.startLineNumber-1].substring(e.endColumn-1))}}_acceptInsertText(e,n){if(0===n.length)return;let i=n.split(/\r\n|\r|\n/);if(1===i.length)return void this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+i[0]+this._lines[e.lineNumber-1].substring(e.column-1));i[i.length-1]+=this._lines[e.lineNumber-1].substring(e.column-1),this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+i[0]);let r=new Uint32Array(i.length-1);for(let s=1;s<i.length;s++)this._lines.splice(e.lineNumber+s-1,0,i[s]),r[s-1]=i[s].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(e.lineNumber,r)}}{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(e){return this._lines[e-1]}getWordAtPosition(e,n){let i=Vt(e.column,function(t){let e=oi;if(t&&t instanceof RegExp)if(t.global)e=t;else{let n="g";t.ignoreCase&&(n+="i"),t.multiline&&(n+="m"),t.unicode&&(n+="u"),e=new RegExp(t.source,n)}return e.lastIndex=0,e}(n),this._lines[e.lineNumber-1],0);return i?new R(e.lineNumber,i.startColumn,e.lineNumber,i.endColumn):null}words(e){const n=this._lines,i=this._wordenize.bind(this);let r=0,s="",o=0,l=[];return{*[Symbol.iterator](){for(;;)if(o<l.length){const u=s.substring(l[o].start,l[o].end);o+=1,yield u}else{if(!(r<n.length))break;s=n[r],l=i(s,e),o=0,r+=1}}}}getLineWords(e,n){let i=this._lines[e-1],r=this._wordenize(i,n),s=[];for(const o of r)s.push({word:i.substring(o.start,o.end),startColumn:o.start+1,endColumn:o.end+1});return s}_wordenize(e,n){const i=[];let r;for(n.lastIndex=0;(r=n.exec(e))&&0!==r[0].length;)i.push({start:r.index,end:r.index+r[0].length});return i}getValueInRange(e){if((e=this._validateRange(e)).startLineNumber===e.endLineNumber)return this._lines[e.startLineNumber-1].substring(e.startColumn-1,e.endColumn-1);let n=this._eol,i=e.startLineNumber-1,r=e.endLineNumber-1,s=[];s.push(this._lines[i].substring(e.startColumn-1));for(let o=i+1;o<r;o++)s.push(this._lines[o]);return s.push(this._lines[r].substring(0,e.endColumn-1)),s.join(n)}offsetAt(e){return e=this._validatePosition(e),this._ensureLineStarts(),this._lineStarts.getPrefixSum(e.lineNumber-2)+(e.column-1)}positionAt(e){e=Math.floor(e),e=Math.max(0,e),this._ensureLineStarts();let n=this._lineStarts.getIndexOf(e);return{lineNumber:1+n.index,column:1+Math.min(n.remainder,this._lines[n.index].length)}}_validateRange(e){const n=this._validatePosition({lineNumber:e.startLineNumber,column:e.startColumn}),i=this._validatePosition({lineNumber:e.endLineNumber,column:e.endColumn});return n.lineNumber!==e.startLineNumber||n.column!==e.startColumn||i.lineNumber!==e.endLineNumber||i.column!==e.endColumn?{startLineNumber:n.lineNumber,startColumn:n.column,endLineNumber:i.lineNumber,endColumn:i.column}:e}_validatePosition(e){if(!W.isIPosition(e))throw new Error("bad position");let{lineNumber:n,column:i}=e,r=!1;if(n<1)n=1,i=1,r=!0;else if(n>this._lines.length)n=this._lines.length,i=this._lines[n-1].length+1,r=!0;else{let s=this._lines[n-1].length+1;i<1?(i=1,r=!0):i>s&&(i=s,r=!0)}return r?{lineNumber:n,column:i}:e}}let Zt=(()=>{class t{constructor(n,i){this._host=n,this._models=Object.create(null),this._foreignModuleFactory=i,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(n){return this._models[n]}_getModels(){let n=[];return Object.keys(this._models).forEach(i=>n.push(this._models[i])),n}acceptNewModel(n){this._models[n.url]=new Ni(ee.parse(n.url),n.lines,n.EOL,n.versionId)}acceptModelChanged(n,i){this._models[n]&&this._models[n].onEvents(i)}acceptRemovedModel(n){!this._models[n]||delete this._models[n]}computeDiff(n,i,r,s){return le(this,void 0,void 0,function*(){const o=this._getModel(n),l=this._getModel(i);if(!o||!l)return null;const u=o.getLinesContent(),a=l.getLinesContent(),c=new ei(u,a,{shouldComputeCharChanges:!0,shouldPostProcessCharChanges:!0,shouldIgnoreTrimWhitespace:r,shouldMakePrettyDiff:!0,maxComputationTime:s}).computeDiff(),h=!(c.changes.length>0)&&this._modelsAreIdentical(o,l);return{quitEarly:c.quitEarly,identical:h,changes:c.changes}})}_modelsAreIdentical(n,i){const r=n.getLineCount();if(r!==i.getLineCount())return!1;for(let o=1;o<=r;o++)if(n.getLineContent(o)!==i.getLineContent(o))return!1;return!0}computeMoreMinimalEdits(n,i){return le(this,void 0,void 0,function*(){const r=this._getModel(n);if(!r)return i;const s=[];let o;i=i.slice(0).sort((l,u)=>l.range&&u.range?R.compareRangesUsingStarts(l.range,u.range):(l.range?0:1)-(u.range?0:1));for(let{range:l,text:u,eol:a}of i){if("number"==typeof a&&(o=a),R.isEmpty(l)&&!u)continue;const d=r.getValueInRange(l);if(u=u.replace(/\r\n|\n|\r/g,r.eol),d===u)continue;if(Math.max(u.length,d.length)>t._diffLimit){s.push({range:l,text:u});continue}const c=Fn(d,u,!1),h=r.offsetAt(R.lift(l).getStartPosition());for(const _ of c){const S=r.positionAt(h+_.originalStart),b=r.positionAt(h+_.originalStart+_.originalLength),A={text:u.substr(_.modifiedStart,_.modifiedLength),range:{startLineNumber:S.lineNumber,startColumn:S.column,endLineNumber:b.lineNumber,endColumn:b.column}};r.getValueInRange(A.range)!==A.text&&s.push(A)}}return"number"==typeof o&&s.push({eol:o,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),s})}computeLinks(n){return le(this,void 0,void 0,function*(){let i=this._getModel(n);return i?function(t){return t&&"function"==typeof t.getLineCount&&"function"==typeof t.getLineContent?Oe.computeLinks(t):[]}(i):null})}textualSuggest(n,i,r,s){return le(this,void 0,void 0,function*(){const o=new Ne(!0),l=new RegExp(r,s),u=new Set;e:for(let a of n){const d=this._getModel(a);if(d)for(let c of d.words(l))if(c!==i&&isNaN(Number(c))&&(u.add(c),u.size>t._suggestionsLimit))break e}return{words:Array.from(u),duration:o.elapsed()}})}computeWordRanges(n,i,r,s){return le(this,void 0,void 0,function*(){let o=this._getModel(n);if(!o)return Object.create(null);const l=new RegExp(r,s),u=Object.create(null);for(let a=i.startLineNumber;a<i.endLineNumber;a++){let d=o.getLineWords(a,l);for(const c of d){if(!isNaN(Number(c.word)))continue;let h=u[c.word];h||(h=[],u[c.word]=h),h.push({startLineNumber:a,startColumn:c.startColumn,endLineNumber:a,endColumn:c.endColumn})}}return u})}navigateValueSet(n,i,r,s,o){return le(this,void 0,void 0,function*(){let l=this._getModel(n);if(!l)return null;let u=new RegExp(s,o);i.startColumn===i.endColumn&&(i={startLineNumber:i.startLineNumber,startColumn:i.startColumn,endLineNumber:i.endLineNumber,endColumn:i.endColumn+1});let a=l.getValueInRange(i),d=l.getWordAtPosition({lineNumber:i.startLineNumber,column:i.startColumn},u);if(!d)return null;let c=l.getValueInRange(d);return it.INSTANCE.navigateValueSet(i,a,d,c,r)})}loadForeignModule(n,i,r){let l={host:bt(r,(u,a)=>this._host.fhr(u,a)),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(l,i),Promise.resolve(We(this._foreignModule))):Promise.reject(new Error("Unexpected usage"))}fmr(n,i){if(!this._foreignModule||"function"!=typeof this._foreignModule[n])return Promise.reject(new Error("Missing requestHandler or method: "+n));try{return Promise.resolve(this._foreignModule[n].apply(this._foreignModule,i))}catch(r){return Promise.reject(r)}}}return t._diffLimit=1e5,t._suggestionsLimit=1e4,t})();"function"==typeof importScripts&&(D.monaco={editor:void 0,languages:void 0,CancellationTokenSource:class{constructor(e){this._token=void 0,this._parentListener=void 0,this._parentListener=e&&e.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new Te),this._token}cancel(){this._token?this._token instanceof Te&&this._token.cancel():this._token=we.Cancelled}dispose(e=!1){e&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof Te&&this._token.dispose():this._token=we.None}},Emitter:Q,KeyCode:ye,KeyMod:bi,Position:W,Range:R,Selection:q,SelectionDirection:Me,MarkerSeverity:ve,MarkerTag:Ie,Uri:ee,Token:class{constructor(e,n,i){this._tokenBrand=void 0,this.offset=0|e,this.type=n,this.language=i}toString(){return"("+this.offset+", "+this.type+")"}}});let ct=!1;self.onmessage=t=>{ct||function(t){if(ct)return;ct=!0;const e=new wt(n=>{self.postMessage(n)},n=>new Zt(n,null));self.onmessage=n=>{e.onmessage(n.data)}}()}})();