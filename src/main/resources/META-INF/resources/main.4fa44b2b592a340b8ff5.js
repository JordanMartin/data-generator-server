(self.webpackChunkdata_generator_ui=self.webpackChunkdata_generator_ui||[]).push([[179],{8255:Ct=>{function Qe(a){return Promise.resolve().then(()=>{var T=new Error("Cannot find module '"+a+"'");throw T.code="MODULE_NOT_FOUND",T})}Qe.keys=()=>[],Qe.resolve=Qe,Qe.id=8255,Ct.exports=Qe},1347:(Ct,Qe,a)=>{var T;self.MonacoEnvironment=(T={editorWorkerService:"editor.worker.js",css:"css.worker.js",json:"json.worker.js",less:"css.worker.js",scss:"css.worker.js"},{globalAPI:!1,getWorkerUrl:function(j,O){var k=a.p,$=(k?function(j){return j.replace(/\/$/,"")}(k)+"/":"")+T[O];if(/^((http:)|(https:)|(file:)|(\/\/))/.test($)){var B=String(window.location),R=B.substr(0,B.length-window.location.hash.length-window.location.search.length-window.location.pathname.length);if($.substring(0,R.length)!==R){var C=new Blob(["/*"+O+'*/importScripts("'+$+'");'],{type:"application/javascript"});return URL.createObjectURL(C)}}return $}}),a(3776),a(1485),a(8337),a(1960),a(6063),a(1785),a(6778),a(2047),a(8864),a(8754),a(6502),a(7180),a(3026),a(5082),a(9638),a(6856),a(6599),a(9338),a(4891),a(7883),a(1667),a(5220),a(33),a(6545),a(2287),a(4448),a(1808),a(4608),a(4535),a(1500),a(8612),a(1627),a(2974),a(1656),a(7850),a(6486),a(9887),a(8827),a(7394),a(8845),a(1079),a(426),a(1409),a(9007),a(5818),a(8479),a(9170),a(660),a(3392),a(5016),Ct.exports=a(2450),a(4635),a(9984),a(5477),a(121),a(940)},3694:(Ct,Qe,a)=>{var T;self.MonacoEnvironment=(T={editorWorkerService:"editor.worker.js",css:"css.worker.js",json:"json.worker.js",less:"css.worker.js",scss:"css.worker.js"},{globalAPI:!1,getWorkerUrl:function(j,O){var k=a.p,$=(k?function(j){return j.replace(/\/$/,"")}(k)+"/":"")+T[O];if(/^((http:)|(https:)|(file:)|(\/\/))/.test($)){var B=String(window.location),R=B.substr(0,B.length-window.location.hash.length-window.location.search.length-window.location.pathname.length);if($.substring(0,R.length)!==R){var C=new Blob(["/*"+O+'*/importScripts("'+$+'");'],{type:"application/javascript"});return URL.createObjectURL(C)}}return $}}),a(3776),a(1485),a(8337),a(1960),a(6063),a(1785),a(6778),a(2047),a(8864),a(8754),a(6502),a(7180),a(3026),a(5082),a(9638),a(6856),a(6599),a(9338),a(4891),a(7883),a(1667),a(5220),a(33),a(6545),a(2287),a(4448),a(1808),a(4608),a(4535),a(1500),a(8612),a(1627),a(2974),a(1656),a(7850),a(6486),a(9887),a(8827),a(7394),a(8845),a(1079),a(426),a(1409),a(9007),a(5818),a(8479),a(9170),a(660),a(3392),a(5016),Ct.exports=a(5812),a(4635),a(9984),a(5477),a(121),a(940)},4991:(Ct,Qe,a)=>{"use strict";a.d(Qe,{px:()=>j,WP:()=>O,fX:()=>k,ie:()=>$,mX:()=>B,vU:()=>d,Pf:()=>C,i7:()=>g,G6:()=>b,MG:()=>I,Dt:()=>p,$W:()=>w});var T=a(6723);class U{constructor(){this._zoomLevel=0,this._lastZoomLevelChangeTime=0,this._onDidChangeZoomLevel=new T.Q5,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event,this._zoomFactor=1}getZoomLevel(){return this._zoomLevel}getTimeSinceLastZoomLevelChanged(){return Date.now()-this._lastZoomLevelChangeTime}getZoomFactor(){return this._zoomFactor}getPixelRatio(){let S=document.createElement("canvas").getContext("2d");return(window.devicePixelRatio||1)/(S.webkitBackingStorePixelRatio||S.mozBackingStorePixelRatio||S.msBackingStorePixelRatio||S.oBackingStorePixelRatio||S.backingStorePixelRatio||1)}}function j(){return U.INSTANCE.getZoomLevel()}function O(){return U.INSTANCE.getTimeSinceLastZoomLevelChanged()}function k(E){return U.INSTANCE.onDidChangeZoomLevel(E)}function $(){return U.INSTANCE.getZoomFactor()}function B(){return U.INSTANCE.getPixelRatio()}U.INSTANCE=new U;const R=navigator.userAgent,d=R.indexOf("Firefox")>=0,C=R.indexOf("AppleWebKit")>=0,g=R.indexOf("Chrome")>=0,b=!g&&R.indexOf("Safari")>=0,I=!g&&!b&&C,p=R.indexOf("Android")>=0,w=window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches},1927:(Ct,Qe,a)=>{"use strict";a.d(Qe,{D:()=>j});var T=a(4991),U=a(9190);const j={clipboard:{writeText:U.tY||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:U.tY||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:U.tY||T.$W?0:navigator.keyboard||T.G6?1:2,touch:"ontouchstart"in window||navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints>0,pointerEvents:window.PointerEvent&&("ontouchstart"in window||window.navigator.maxTouchPoints>0||navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints>0)}},6595:(Ct,Qe,a)=>{"use strict";a.d(Qe,{go:()=>U,TN:()=>j,P$:()=>O});const U={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:a(2035).vW.text,TERMINALS:"Terminals"};class j{constructor($){this.data=$}update(){}getData(){return this.data}}const O={CurrentDragAndDropData:void 0}},1165:(Ct,Qe,a)=>{"use strict";a.d(Qe,{PO:()=>g,Uw:()=>b,nm:()=>p,mu:()=>S,Gw:()=>v,Lo:()=>M,qV:()=>_,j_:()=>f,RE:()=>m,lI:()=>G,jL:()=>Y,Y_:()=>N,Dx:()=>V,D6:()=>Z,Ro:()=>ue,xQ:()=>oe,dp:()=>ee,i:()=>K,DI:()=>ne,w:()=>he,FK:()=>ge,If:()=>re,wn:()=>ye,jg:()=>ke,Fx:()=>xe,uU:()=>Pe,OO:()=>Te,Ay:()=>Ce,vY:()=>Je,dS:()=>pe,fk:()=>ze,uN:()=>Be,Re:()=>Ue,tw:()=>ot,zB:()=>vt,vL:()=>At,_0:()=>ve,go:()=>Ge,R3:()=>De,mc:()=>Le,$:()=>zt,$Z:()=>pn,Cp:()=>Qt,H$:()=>Ht,Uh:()=>qt,V3:()=>nt,jt:()=>bt,wY:()=>Rt,_h:()=>Dt,_q:()=>Xe,uB:()=>ft});var T=a(4991),U=a(9740),j=a(7631),O=a(7922),k=a(5160),$=a(6723),B=a(1719),R=a(9190),d=a(6857),C=a(1927);function g(Oe){for(;Oe.firstChild;)Oe.firstChild.remove()}function b(Oe){var We;return null!==(We=null==Oe?void 0:Oe.isConnected)&&void 0!==We&&We}class I{constructor(We,Ne,J,_e){this._node=We,this._type=Ne,this._handler=J,this._options=_e||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){!this._handler||(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function p(Oe,We,Ne,J){return new I(Oe,We,Ne,J)}function w(Oe){return function(We){return Oe(new j.n(We))}}let S=function(We,Ne,J,_e){let $e=J;return"click"===Ne||"mousedown"===Ne?$e=w(J):("keydown"===Ne||"keypress"===Ne||"keyup"===Ne)&&(Oe=J,$e=function(We){return Oe(new U.y(We))}),p(We,Ne,$e,_e);var Oe},v=function(We,Ne,J){return M(We,w(Ne),J)};function M(Oe,We,Ne){return p(Oe,R.gn&&C.D.pointerEvents?ot.POINTER_DOWN:ot.MOUSE_DOWN,We,Ne)}function _(Oe,We,Ne){return p(Oe,R.gn&&C.D.pointerEvents?ot.POINTER_UP:ot.MOUSE_UP,We,Ne)}function f(Oe,We){return p(Oe,"mouseout",Ne=>{let J=Ne.relatedTarget;for(;J&&J!==Oe;)J=J.parentNode;J!==Oe&&We(Ne)})}function m(Oe,We){return p(Oe,"pointerout",Ne=>{let J=Ne.relatedTarget;for(;J&&J!==Oe;)J=J.parentNode;J!==Oe&&We(Ne)})}let G,Y,L=null;class de{constructor(We,Ne=0){this._runner=We,this.priority=Ne,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(We){(0,k.dL)(We)}}static sort(We,Ne){return Ne.priority-We.priority}}!function(){let Oe=[],We=null,Ne=!1,J=!1,_e=()=>{for(Ne=!1,We=Oe,Oe=[],J=!0;We.length>0;)We.sort(de.sort),We.shift().execute();J=!1};Y=($e,at=0)=>{let Et=new de($e,at);return Oe.push(Et),Ne||(Ne=!0,function(Oe){if(!L){const We=Ne=>setTimeout(()=>Ne((new Date).getTime()),0);L=self.requestAnimationFrame||self.msRequestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame||self.oRequestAnimationFrame||We}L.call(self,Oe)}(_e)),Et},G=($e,at)=>{if(J){let Et=new de($e,at);return We.push(Et),Et}return Y($e,at)}}();const ce=function(Oe,We){return We};class be extends B.JT{constructor(We,Ne,J,_e=ce,$e=8){super();let at=null,Et=0,Lt=this._register(new O._F),Pt=()=>{Et=(new Date).getTime(),J(at),at=null};this._register(p(We,Ne,on=>{at=_e(at,on);let Kt=(new Date).getTime()-Et;Kt>=$e?(Lt.cancel(),Pt()):Lt.setIfNotSet(Pt,$e-Kt)}))}}function N(Oe,We,Ne,J,_e){return new be(Oe,We,Ne,J,_e)}function V(Oe){return document.defaultView.getComputedStyle(Oe,null)}function Z(Oe){if(Oe!==document.body)return new ue(Oe.clientWidth,Oe.clientHeight);if(R.gn&&window.visualViewport)return new ue(window.visualViewport.width,window.visualViewport.height);if(window.innerWidth&&window.innerHeight)return new ue(window.innerWidth,window.innerHeight);if(document.body&&document.body.clientWidth&&document.body.clientHeight)return new ue(document.body.clientWidth,document.body.clientHeight);if(document.documentElement&&document.documentElement.clientWidth&&document.documentElement.clientHeight)return new ue(document.documentElement.clientWidth,document.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")}class ie{static convertToPixels(We,Ne){return parseFloat(Ne)||0}static getDimension(We,Ne,J){let _e=V(We),$e="0";return _e&&($e=_e.getPropertyValue?_e.getPropertyValue(Ne):_e.getAttribute(J)),ie.convertToPixels(We,$e)}static getBorderLeftWidth(We){return ie.getDimension(We,"border-left-width","borderLeftWidth")}static getBorderRightWidth(We){return ie.getDimension(We,"border-right-width","borderRightWidth")}static getBorderTopWidth(We){return ie.getDimension(We,"border-top-width","borderTopWidth")}static getBorderBottomWidth(We){return ie.getDimension(We,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(We){return ie.getDimension(We,"padding-left","paddingLeft")}static getPaddingRight(We){return ie.getDimension(We,"padding-right","paddingRight")}static getPaddingTop(We){return ie.getDimension(We,"padding-top","paddingTop")}static getPaddingBottom(We){return ie.getDimension(We,"padding-bottom","paddingBottom")}static getMarginLeft(We){return ie.getDimension(We,"margin-left","marginLeft")}static getMarginTop(We){return ie.getDimension(We,"margin-top","marginTop")}static getMarginRight(We){return ie.getDimension(We,"margin-right","marginRight")}static getMarginBottom(We){return ie.getDimension(We,"margin-bottom","marginBottom")}}class ue{constructor(We,Ne){this.width=We,this.height=Ne}with(We=this.width,Ne=this.height){return We!==this.width||Ne!==this.height?new ue(We,Ne):this}static is(We){return"object"==typeof We&&"number"==typeof We.height&&"number"==typeof We.width}static lift(We){return We instanceof ue?We:new ue(We.width,We.height)}static equals(We,Ne){return We===Ne||!(!We||!Ne)&&We.width===Ne.width&&We.height===Ne.height}}function oe(Oe){let We=Oe.offsetParent,Ne=Oe.offsetTop,J=Oe.offsetLeft;for(;null!==(Oe=Oe.parentNode)&&Oe!==document.body&&Oe!==document.documentElement;){Ne-=Oe.scrollTop;const _e=fe(Oe)?null:V(Oe);_e&&(J-="rtl"!==_e.direction?Oe.scrollLeft:-Oe.scrollLeft),Oe===We&&(J+=ie.getBorderLeftWidth(Oe),Ne+=ie.getBorderTopWidth(Oe),Ne+=Oe.offsetTop,J+=Oe.offsetLeft,We=Oe.offsetParent)}return{left:J,top:Ne}}function ee(Oe,We,Ne){"number"==typeof We&&(Oe.style.width=`${We}px`),"number"==typeof Ne&&(Oe.style.height=`${Ne}px`)}function K(Oe){let We=Oe.getBoundingClientRect();return{left:We.left+ne.scrollX,top:We.top+ne.scrollY,width:We.width,height:We.height}}const ne=new class{get scrollX(){return"number"==typeof window.scrollX?window.scrollX:document.body.scrollLeft+document.documentElement.scrollLeft}get scrollY(){return"number"==typeof window.scrollY?window.scrollY:document.body.scrollTop+document.documentElement.scrollTop}};function he(Oe){let We=ie.getMarginLeft(Oe)+ie.getMarginRight(Oe);return Oe.offsetWidth+We}function ge(Oe){let We=ie.getBorderLeftWidth(Oe)+ie.getBorderRightWidth(Oe),Ne=ie.getPaddingLeft(Oe)+ie.getPaddingRight(Oe);return Oe.offsetWidth-We-Ne}function re(Oe){let We=ie.getBorderTopWidth(Oe)+ie.getBorderBottomWidth(Oe),Ne=ie.getPaddingTop(Oe)+ie.getPaddingBottom(Oe);return Oe.offsetHeight-We-Ne}function ye(Oe){let We=ie.getMarginTop(Oe)+ie.getMarginBottom(Oe);return Oe.offsetHeight+We}function ke(Oe,We){for(;Oe;){if(Oe===We)return!0;Oe=Oe.parentNode}return!1}function xe(Oe,We,Ne){for(;Oe&&Oe.nodeType===Oe.ELEMENT_NODE;){if(Oe.classList.contains(We))return Oe;if(Ne)if("string"==typeof Ne){if(Oe.classList.contains(Ne))return null}else if(Oe===Ne)return null;Oe=Oe.parentNode}return null}function Pe(Oe,We,Ne){return!!xe(Oe,We,Ne)}function fe(Oe){return Oe&&!!Oe.host&&!!Oe.mode}function Te(Oe){return!!Ce(Oe)}function Ce(Oe){for(;Oe.parentNode;){if(Oe===document.body)return null;Oe=Oe.parentNode}return fe(Oe)?Oe:null}function Je(){let Oe=document.activeElement;for(;null==Oe?void 0:Oe.shadowRoot;)Oe=Oe.shadowRoot.activeElement;return Oe}function pe(Oe=document.getElementsByTagName("head")[0]){let We=document.createElement("style");return We.type="text/css",We.media="screen",Oe.appendChild(We),We}let Ve=null;function Ae(){return Ve||(Ve=pe()),Ve}function ze(Oe,We,Ne=Ae()){!Ne||!We||Ne.sheet.insertRule(Oe+"{"+We+"}",0)}function Be(Oe,We=Ae()){if(!We)return;let Ne=function(Oe){var We,Ne;return(null===(We=null==Oe?void 0:Oe.sheet)||void 0===We?void 0:We.rules)?Oe.sheet.rules:(null===(Ne=null==Oe?void 0:Oe.sheet)||void 0===Ne?void 0:Ne.cssRules)?Oe.sheet.cssRules:[]}(We),J=[];for(let _e=0;_e<Ne.length;_e++)-1!==Ne[_e].selectorText.indexOf(Oe)&&J.push(_e);for(let _e=J.length-1;_e>=0;_e--)We.sheet.deleteRule(J[_e])}function Ue(Oe){return"object"==typeof HTMLElement?Oe instanceof HTMLElement:Oe&&"object"==typeof Oe&&1===Oe.nodeType&&"string"==typeof Oe.nodeName}const ot={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:T.Pf?"webkitAnimationStart":"animationstart",ANIMATION_END:T.Pf?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:T.Pf?"webkitAnimationIteration":"animationiteration"},vt={stop:function(Oe,We){Oe.preventDefault?Oe.preventDefault():Oe.returnValue=!1,We&&(Oe.stopPropagation?Oe.stopPropagation():Oe.cancelBubble=!0)}};function At(Oe){let We=[];for(let Ne=0;Oe&&Oe.nodeType===Oe.ELEMENT_NODE;Ne++)We[Ne]=Oe.scrollTop,Oe=Oe.parentNode;return We}function ve(Oe,We){for(let Ne=0;Oe&&Oe.nodeType===Oe.ELEMENT_NODE;Ne++)Oe.scrollTop!==We[Ne]&&(Oe.scrollTop=We[Ne]),Oe=Oe.parentNode}class ht extends B.JT{constructor(We){super(),this._onDidFocus=this._register(new $.Q5),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new $.Q5),this.onDidBlur=this._onDidBlur.event;let Ne=ke(document.activeElement,We),J=!1;const _e=()=>{J=!1,Ne||(Ne=!0,this._onDidFocus.fire())},$e=()=>{Ne&&(J=!0,window.setTimeout(()=>{J&&(J=!1,Ne=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{ke(document.activeElement,We)!==Ne&&(Ne?$e():_e())},this._register(p(We,ot.FOCUS,_e,!0)),this._register(p(We,ot.BLUR,$e,!0))}}function Ge(Oe){return new ht(Oe)}function De(Oe,...We){if(Oe.append(...We),1===We.length&&"string"!=typeof We[0])return We[0]}function Le(Oe,...We){Oe.innerText="",De(Oe,...We)}const dt=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var _t=(()=>{return(Oe=_t||(_t={})).HTML="http://www.w3.org/1999/xhtml",Oe.SVG="http://www.w3.org/2000/svg",_t;var Oe})();function Nt(Oe,We,Ne,...J){let _e=dt.exec(We);if(!_e)throw new Error("Bad use of emmet");Ne=Object.assign({},Ne||{});let at,$e=_e[1]||"div";return at=Oe!==_t.HTML?document.createElementNS(Oe,$e):document.createElement($e),_e[3]&&(at.id=_e[3]),_e[4]&&(at.className=_e[4].replace(/\./g," ").trim()),Object.keys(Ne).forEach(Et=>{const Lt=Ne[Et];void 0!==Lt&&(/^on\w+$/.test(Et)?at[Et]=Lt:"selected"===Et?Lt&&at.setAttribute(Et,"true"):at.setAttribute(Et,Lt))}),at.append(...J),at}function zt(Oe,We,...Ne){return Nt(_t.HTML,Oe,We,...Ne)}function pn(...Oe){for(let We of Oe)We.style.display="",We.removeAttribute("aria-hidden")}function Qt(...Oe){for(let We of Oe)We.style.display="none",We.setAttribute("aria-hidden","true")}function Ht(Oe){return Array.prototype.slice.call(document.getElementsByTagName(Oe),0)}function qt(Oe){const We=window.devicePixelRatio*Oe;return Math.max(1,Math.floor(We))/window.devicePixelRatio}function nt(Oe){window.open(Oe,"_blank","noopener")}function bt(Oe){const We=()=>{Oe(),Ne=Y(We)};let Ne=Y(We);return(0,B.OF)(()=>Ne.dispose())}function Rt(Oe){return Oe?`url('${d.Gi.asBrowserUri(Oe).toString(!0).replace(/'/g,"%27")}')`:"url('')"}function Dt(Oe){return`'${Oe.replace(/'/g,"%27")}'`}zt.SVG=function(Oe,We,...Ne){return Nt(_t.SVG,Oe,We,...Ne)},d.WX.setPreferredWebSchema(/^https:/.test(window.location.href)?"https":"http");class Xe extends $.Q5{constructor(){super(),this._subscriptions=new B.SL,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(p(window,"keydown",We=>{if(We.defaultPrevented)return;const Ne=new U.y(We);if(6!==Ne.keyCode||!We.repeat){if(We.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(We.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(We.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(We.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else{if(6===Ne.keyCode)return;this._keyStatus.lastKeyPressed=void 0}this._keyStatus.altKey=We.altKey,this._keyStatus.ctrlKey=We.ctrlKey,this._keyStatus.metaKey=We.metaKey,this._keyStatus.shiftKey=We.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=We,this.fire(this._keyStatus))}},!0)),this._subscriptions.add(p(window,"keyup",We=>{We.defaultPrevented||(this._keyStatus.lastKeyReleased=!We.altKey&&this._keyStatus.altKey?"alt":!We.ctrlKey&&this._keyStatus.ctrlKey?"ctrl":!We.metaKey&&this._keyStatus.metaKey?"meta":!We.shiftKey&&this._keyStatus.shiftKey?"shift":void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=We.altKey,this._keyStatus.ctrlKey=We.ctrlKey,this._keyStatus.metaKey=We.metaKey,this._keyStatus.shiftKey=We.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=We,this.fire(this._keyStatus)))},!0)),this._subscriptions.add(p(document.body,"mousedown",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(p(document.body,"mouseup",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(p(document.body,"mousemove",We=>{We.buttons&&(this._keyStatus.lastKeyPressed=void 0)},!0)),this._subscriptions.add(p(window,"blur",()=>{this.resetKeyStatus()}))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return Xe.instance||(Xe.instance=new Xe),Xe.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}function ft(Oe,We){const Ne=window.matchMedia(Oe);"function"==typeof Ne.addEventListener?Ne.addEventListener("change",We):Ne.addListener(We)}},759:(Ct,Qe,a)=>{"use strict";a.d(Qe,{Y:()=>U,p:()=>j});var T=a(6723);class U{constructor(k,$,B){const R=d=>this.emitter.fire(d);this.emitter=new T.Q5({onFirstListenerAdd:()=>k.addEventListener($,R,B),onLastListenerRemove:()=>k.removeEventListener($,R,B)})}get event(){return this.emitter.event}dispose(){this.emitter.dispose()}}function j(O){return O.preventDefault(),O.stopPropagation(),O}},2874:(Ct,Qe,a)=>{"use strict";a.d(Qe,{Z:()=>T,X:()=>U});class T{constructor(O){this.domNode=O,this._maxWidth=-1,this._width=-1,this._height=-1,this._top=-1,this._left=-1,this._bottom=-1,this._right=-1,this._fontFamily="",this._fontWeight="",this._fontSize=-1,this._fontFeatureSettings="",this._lineHeight=-1,this._letterSpacing=-100,this._className="",this._display="",this._position="",this._visibility="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(O){this._maxWidth!==O&&(this._maxWidth=O,this.domNode.style.maxWidth=this._maxWidth+"px")}setWidth(O){this._width!==O&&(this._width=O,this.domNode.style.width=this._width+"px")}setHeight(O){this._height!==O&&(this._height=O,this.domNode.style.height=this._height+"px")}setTop(O){this._top!==O&&(this._top=O,this.domNode.style.top=this._top+"px")}unsetTop(){-1!==this._top&&(this._top=-1,this.domNode.style.top="")}setLeft(O){this._left!==O&&(this._left=O,this.domNode.style.left=this._left+"px")}setBottom(O){this._bottom!==O&&(this._bottom=O,this.domNode.style.bottom=this._bottom+"px")}setRight(O){this._right!==O&&(this._right=O,this.domNode.style.right=this._right+"px")}setFontFamily(O){this._fontFamily!==O&&(this._fontFamily=O,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(O){this._fontWeight!==O&&(this._fontWeight=O,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(O){this._fontSize!==O&&(this._fontSize=O,this.domNode.style.fontSize=this._fontSize+"px")}setFontFeatureSettings(O){this._fontFeatureSettings!==O&&(this._fontFeatureSettings=O,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setLineHeight(O){this._lineHeight!==O&&(this._lineHeight=O,this.domNode.style.lineHeight=this._lineHeight+"px")}setLetterSpacing(O){this._letterSpacing!==O&&(this._letterSpacing=O,this.domNode.style.letterSpacing=this._letterSpacing+"px")}setClassName(O){this._className!==O&&(this._className=O,this.domNode.className=this._className)}toggleClassName(O,k){this.domNode.classList.toggle(O,k),this._className=this.domNode.className}setDisplay(O){this._display!==O&&(this._display=O,this.domNode.style.display=this._display)}setPosition(O){this._position!==O&&(this._position=O,this.domNode.style.position=this._position)}setVisibility(O){this._visibility!==O&&(this._visibility=O,this.domNode.style.visibility=this._visibility)}setBackgroundColor(O){this._backgroundColor!==O&&(this._backgroundColor=O,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(O){this._layerHint!==O&&(this._layerHint=O,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(O){this._boxShadow!==O&&(this._boxShadow=O,this.domNode.style.boxShadow=O)}setContain(O){this._contain!==O&&(this._contain=O,this.domNode.style.contain=this._contain)}setAttribute(O,k){this.domNode.setAttribute(O,k)}removeAttribute(O){this.domNode.removeAttribute(O)}appendChild(O){this.domNode.appendChild(O.domNode)}removeChild(O){this.domNode.removeChild(O.domNode)}}function U(j){return new T(j)}},6059:(Ct,Qe,a)=>{"use strict";a.d(Qe,{IY:()=>U,BO:()=>j,az:()=>O});var T=a(1165);function U(C,g={}){const b=O(g);return b.textContent=C,b}function j(C,g={}){const b=O(g);return $(b,function(C,g){const b={type:1,children:[]};let I=0,p=b;const w=[],E=new k(C);for(;!E.eos();){let S=E.next();const v="\\"===S&&0!==d(E.peek(),g);if(v&&(S=E.next()),!v&&R(S,g)&&S===E.peek()){E.advance(),2===p.type&&(p=w.pop());const M=d(S,g);if(p.type===M||5===p.type&&6===M)p=w.pop();else{const _={type:M,children:[]};5===M&&(_.index=I,I++),p.children.push(_),w.push(p),p=_}}else if("\n"===S)2===p.type&&(p=w.pop()),p.children.push({type:8});else if(2!==p.type){const M={type:2,content:S};p.children.push(M),w.push(p),p=M}else p.content+=S}return 2===p.type&&(p=w.pop()),b}(C,!!g.renderCodeSegements),g.actionHandler,g.renderCodeSegements),b}function O(C){const b=document.createElement(C.inline?"span":"div");return C.className&&(b.className=C.className),b}class k{constructor(g){this.source=g,this.index=0}eos(){return this.index>=this.source.length}next(){const g=this.peek();return this.advance(),g}peek(){return this.source[this.index]}advance(){this.index++}}function $(C,g,b,I){let p;if(2===g.type)p=document.createTextNode(g.content||"");else if(3===g.type)p=document.createElement("b");else if(4===g.type)p=document.createElement("i");else if(7===g.type&&I)p=document.createElement("code");else if(5===g.type&&b){const w=document.createElement("a");w.href="#",b.disposeables.add(T.mu(w,"click",E=>{b.callback(String(g.index),E)})),p=w}else 8===g.type?p=document.createElement("br"):1===g.type&&(p=C);p&&C!==p&&C.appendChild(p),p&&Array.isArray(g.children)&&g.children.forEach(w=>{$(p,w,b,I)})}function R(C,g){return 0!==d(C,g)}function d(C,g){switch(C){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return g?7:0;default:return 0}}},3058:(Ct,Qe,a)=>{"use strict";a.d(Qe,{e:()=>$,Z:()=>B});var T=a(1165),U=a(8490),j=a(7631),O=a(1719),k=a(9190);function $(R,d){let C=new j.n(d);return C.preventDefault(),{leftButton:C.leftButton,buttons:C.buttons,posx:C.posx,posy:C.posy}}class B{constructor(){this._hooks=new O.SL,this._mouseMoveEventMerger=null,this._mouseMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(d,C){if(!this.isMonitoring())return;this._hooks.clear(),this._mouseMoveEventMerger=null,this._mouseMoveCallback=null;const g=this._onStopCallback;this._onStopCallback=null,d&&g&&g(C)}isMonitoring(){return!!this._mouseMoveEventMerger}startMonitoring(d,C,g,b,I){if(this.isMonitoring())return;this._mouseMoveEventMerger=g,this._mouseMoveCallback=b,this._onStopCallback=I;const p=U.E.getSameOriginWindowChain(),w=k.gn?"pointermove":"mousemove",S=p.map(M=>M.window.document),v=T.Ay(d);v&&S.unshift(v);for(const M of S)this._hooks.add(T.Y_(M,w,_=>{_.buttons===C?this._mouseMoveCallback(_):this.stopMonitoring(!0)},(_,f)=>this._mouseMoveEventMerger(_,f))),this._hooks.add(T.nm(M,"mouseup",_=>this.stopMonitoring(!0)));if(U.E.hasDifferentOriginAncestor()){let M=p[p.length-1];this._hooks.add(T.nm(M.window.document,"mouseout",_=>{"html"===new j.n(_).target.tagName.toLowerCase()&&this.stopMonitoring(!0)})),this._hooks.add(T.nm(M.window.document,"mouseover",_=>{"html"===new j.n(_).target.tagName.toLowerCase()&&this.stopMonitoring(!0)})),this._hooks.add(T.nm(M.window.document.body,"mouseleave",_=>{this.stopMonitoring(!0)}))}}}},8490:(Ct,Qe,a)=>{"use strict";a.d(Qe,{E:()=>O});let T=!1,U=null;function j(k){if(!k.parent||k.parent===k)return null;try{let $=k.location,B=k.parent.location;if("null"!==$.origin&&"null"!==B.origin&&($.protocol!==B.protocol||$.hostname!==B.hostname||$.port!==B.port))return T=!0,null}catch($){return T=!0,null}return k.parent}class O{static getSameOriginWindowChain(){if(!U){U=[];let B,$=window;do{B=j($),U.push(B?{window:$,iframeElement:$.frameElement||null}:{window:$,iframeElement:null}),$=B}while($)}return U.slice(0)}static hasDifferentOriginAncestor(){return U||this.getSameOriginWindowChain(),T}static getPositionOfChildWindowRelativeToAncestorWindow($,B){if(!B||$===B)return{top:0,left:0};let R=0,d=0,C=this.getSameOriginWindowChain();for(const g of C){if(R+=g.window.scrollY,d+=g.window.scrollX,g.window===B||!g.iframeElement)break;let b=g.iframeElement.getBoundingClientRect();R+=b.top,d+=b.left}return{top:R,left:d}}}},9740:(Ct,Qe,a)=>{"use strict";a.d(Qe,{y:()=>g});var T=a(4991),U=a(4807),j=a(9190);let O=new Array(230),k=new Array(112);!function(){for(let I=0;I<k.length;I++)k[I]=-1;function b(I,p){O[I]=p,k[p]=I}b(3,7),b(8,1),b(9,2),b(13,3),b(16,4),b(17,5),b(18,6),b(19,7),b(20,8),b(27,9),b(32,10),b(33,11),b(34,12),b(35,13),b(36,14),b(37,15),b(38,16),b(39,17),b(40,18),b(45,19),b(46,20),b(48,21),b(49,22),b(50,23),b(51,24),b(52,25),b(53,26),b(54,27),b(55,28),b(56,29),b(57,30),b(65,31),b(66,32),b(67,33),b(68,34),b(69,35),b(70,36),b(71,37),b(72,38),b(73,39),b(74,40),b(75,41),b(76,42),b(77,43),b(78,44),b(79,45),b(80,46),b(81,47),b(82,48),b(83,49),b(84,50),b(85,51),b(86,52),b(87,53),b(88,54),b(89,55),b(90,56),b(93,58),b(96,93),b(97,94),b(98,95),b(99,96),b(100,97),b(101,98),b(102,99),b(103,100),b(104,101),b(105,102),b(106,103),b(107,104),b(108,105),b(109,106),b(110,107),b(111,108),b(112,59),b(113,60),b(114,61),b(115,62),b(116,63),b(117,64),b(118,65),b(119,66),b(120,67),b(121,68),b(122,69),b(123,70),b(124,71),b(125,72),b(126,73),b(127,74),b(128,75),b(129,76),b(130,77),b(144,78),b(145,79),b(186,80),b(187,81),b(188,82),b(189,83),b(190,84),b(191,85),b(192,86),b(193,110),b(194,111),b(219,87),b(220,88),b(221,89),b(222,90),b(223,91),b(226,92),b(229,109),T.vU?(b(59,80),b(107,81),b(109,83),j.dz&&b(224,57)):T.Pf&&(b(91,57),b(j.dz?93:92,57))}();const B=j.dz?256:2048,C=j.dz?2048:256;class g{constructor(I){this._standardKeyboardEventBrand=!0;let p=I;this.browserEvent=p,this.target=p.target,this.ctrlKey=p.ctrlKey,this.shiftKey=p.shiftKey,this.altKey=p.altKey,this.metaKey=p.metaKey,this.keyCode=function(b){if(b.charCode){let I=String.fromCharCode(b.charCode).toUpperCase();return U.kL.fromString(I)}return O[b.keyCode]||0}(p),this.code=p.code,this.ctrlKey=this.ctrlKey||5===this.keyCode,this.altKey=this.altKey||6===this.keyCode,this.shiftKey=this.shiftKey||4===this.keyCode,this.metaKey=this.metaKey||57===this.keyCode,this._asKeybinding=this._computeKeybinding(),this._asRuntimeKeybinding=this._computeRuntimeKeybinding()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeybinding(){return this._asRuntimeKeybinding}equals(I){return this._asKeybinding===I}_computeKeybinding(){let I=0;5!==this.keyCode&&4!==this.keyCode&&6!==this.keyCode&&57!==this.keyCode&&(I=this.keyCode);let p=0;return this.ctrlKey&&(p|=B),this.altKey&&(p|=512),this.shiftKey&&(p|=1024),this.metaKey&&(p|=C),p|=I,p}_computeRuntimeKeybinding(){let I=0;return 5!==this.keyCode&&4!==this.keyCode&&6!==this.keyCode&&57!==this.keyCode&&(I=this.keyCode),new U.QC(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,I)}}},7631:(Ct,Qe,a)=>{"use strict";a.d(Qe,{n:()=>O,q:()=>k});var T=a(4991),U=a(8490),j=a(9190);class O{constructor(B){this.timestamp=Date.now(),this.browserEvent=B,this.leftButton=0===B.button,this.middleButton=1===B.button,this.rightButton=2===B.button,this.buttons=B.buttons,this.target=B.target,this.detail=B.detail||1,"dblclick"===B.type&&(this.detail=2),this.ctrlKey=B.ctrlKey,this.shiftKey=B.shiftKey,this.altKey=B.altKey,this.metaKey=B.metaKey,"number"==typeof B.pageX?(this.posx=B.pageX,this.posy=B.pageY):(this.posx=B.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=B.clientY+document.body.scrollTop+document.documentElement.scrollTop);let R=U.E.getPositionOfChildWindowRelativeToAncestorWindow(self,B.view);this.posx-=R.left,this.posy-=R.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}class k{constructor(B,R=0,d=0){if(this.browserEvent=B||null,this.target=B?B.target||B.targetNode||B.srcElement:null,this.deltaY=d,this.deltaX=R,B){let C=B,g=B;void 0!==C.wheelDeltaY?this.deltaY=C.wheelDeltaY/120:void 0!==g.VERTICAL_AXIS&&g.axis===g.VERTICAL_AXIS?this.deltaY=-g.detail/3:"wheel"===B.type&&(this.deltaY=B.deltaMode===B.DOM_DELTA_LINE?T.vU&&!j.dz?-B.deltaY/3:-B.deltaY:-B.deltaY/40),void 0!==C.wheelDeltaX?this.deltaX=T.G6&&j.ED?-C.wheelDeltaX/120:C.wheelDeltaX/120:void 0!==g.HORIZONTAL_AXIS&&g.axis===g.HORIZONTAL_AXIS?this.deltaX=-B.detail/3:"wheel"===B.type&&(this.deltaX=B.deltaMode===B.DOM_DELTA_LINE?T.vU&&!j.dz?-B.deltaX/3:-B.deltaX:-B.deltaX/40),0===this.deltaY&&0===this.deltaX&&B.wheelDelta&&(this.deltaY=B.wheelDelta/120)}}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation()}}},1745:(Ct,Qe,a)=>{"use strict";a.d(Qe,{t:()=>$,o:()=>B});var T=a(2291),U=a(1719),j=a(1165),O=a(9749),$=(()=>{return(R=$||($={})).Tap="-monaco-gesturetap",R.Change="-monaco-gesturechange",R.Start="-monaco-gesturestart",R.End="-monaco-gesturesend",R.Contextmenu="-monaco-gesturecontextmenu",$;var R})();class B extends U.JT{constructor(){super(),this.dispatched=!1,this.activeTouches={},this.handle=null,this.targets=[],this.ignoreTargets=[],this._lastSetTapCountTime=0,this._register(j.nm(document,"touchstart",d=>this.onTouchStart(d),{passive:!1})),this._register(j.nm(document,"touchend",d=>this.onTouchEnd(d))),this._register(j.nm(document,"touchmove",d=>this.onTouchMove(d),{passive:!1}))}static addTarget(d){return B.isTouchDevice()?(B.INSTANCE||(B.INSTANCE=new B),B.INSTANCE.targets.push(d),{dispose:()=>{B.INSTANCE.targets=B.INSTANCE.targets.filter(C=>C!==d)}}):U.JT.None}static ignoreTarget(d){return B.isTouchDevice()?(B.INSTANCE||(B.INSTANCE=new B),B.INSTANCE.ignoreTargets.push(d),{dispose:()=>{B.INSTANCE.ignoreTargets=B.INSTANCE.ignoreTargets.filter(C=>C!==d)}}):U.JT.None}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(d){let C=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let g=0,b=d.targetTouches.length;g<b;g++){let I=d.targetTouches.item(g);this.activeTouches[I.identifier]={id:I.identifier,initialTarget:I.target,initialTimeStamp:C,initialPageX:I.pageX,initialPageY:I.pageY,rollingTimestamps:[C],rollingPageX:[I.pageX],rollingPageY:[I.pageY]};let p=this.newGestureEvent($.Start,I.target);p.pageX=I.pageX,p.pageY=I.pageY,this.dispatchEvent(p)}this.dispatched&&(d.preventDefault(),d.stopPropagation(),this.dispatched=!1)}onTouchEnd(d){let C=Date.now(),g=Object.keys(this.activeTouches).length;for(let b=0,I=d.changedTouches.length;b<I;b++){let p=d.changedTouches.item(b);if(!this.activeTouches.hasOwnProperty(String(p.identifier))){console.warn("move of an UNKNOWN touch",p);continue}let w=this.activeTouches[p.identifier],E=Date.now()-w.initialTimeStamp;if(E<B.HOLD_DELAY&&Math.abs(w.initialPageX-T.Gb(w.rollingPageX))<30&&Math.abs(w.initialPageY-T.Gb(w.rollingPageY))<30){let S=this.newGestureEvent($.Tap,w.initialTarget);S.pageX=T.Gb(w.rollingPageX),S.pageY=T.Gb(w.rollingPageY),this.dispatchEvent(S)}else if(E>=B.HOLD_DELAY&&Math.abs(w.initialPageX-T.Gb(w.rollingPageX))<30&&Math.abs(w.initialPageY-T.Gb(w.rollingPageY))<30){let S=this.newGestureEvent($.Contextmenu,w.initialTarget);S.pageX=T.Gb(w.rollingPageX),S.pageY=T.Gb(w.rollingPageY),this.dispatchEvent(S)}else if(1===g){let S=T.Gb(w.rollingPageX),v=T.Gb(w.rollingPageY),M=T.Gb(w.rollingTimestamps)-w.rollingTimestamps[0],_=S-w.rollingPageX[0],f=v-w.rollingPageY[0];const m=this.targets.filter(L=>w.initialTarget instanceof Node&&L.contains(w.initialTarget));this.inertia(m,C,Math.abs(_)/M,_>0?1:-1,S,Math.abs(f)/M,f>0?1:-1,v)}this.dispatchEvent(this.newGestureEvent($.End,w.initialTarget)),delete this.activeTouches[p.identifier]}this.dispatched&&(d.preventDefault(),d.stopPropagation(),this.dispatched=!1)}newGestureEvent(d,C){let g=document.createEvent("CustomEvent");return g.initEvent(d,!1,!0),g.initialTarget=C,g.tapCount=0,g}dispatchEvent(d){if(d.type===$.Tap){const C=(new Date).getTime();let g=0;g=C-this._lastSetTapCountTime>B.CLEAR_TAP_COUNT_TIME?1:2,this._lastSetTapCountTime=C,d.tapCount=g}else(d.type===$.Change||d.type===$.Contextmenu)&&(this._lastSetTapCountTime=0);for(let C=0;C<this.ignoreTargets.length;C++)if(d.initialTarget instanceof Node&&this.ignoreTargets[C].contains(d.initialTarget))return;this.targets.forEach(C=>{d.initialTarget instanceof Node&&C.contains(d.initialTarget)&&(C.dispatchEvent(d),this.dispatched=!0)})}inertia(d,C,g,b,I,p,w,E){this.handle=j.jL(()=>{let S=Date.now(),v=S-C,M=0,_=0,f=!0;(g+=B.SCROLL_FRICTION*v)>0&&(f=!1,M=b*g*v),(p+=B.SCROLL_FRICTION*v)>0&&(f=!1,_=w*p*v);let m=this.newGestureEvent($.Change);m.translationX=M,m.translationY=_,d.forEach(L=>L.dispatchEvent(m)),f||this.inertia(d,S,g,b,I+M,p,w,E+_)})}onTouchMove(d){let C=Date.now();for(let g=0,b=d.changedTouches.length;g<b;g++){let I=d.changedTouches.item(g);if(!this.activeTouches.hasOwnProperty(String(I.identifier))){console.warn("end of an UNKNOWN touch",I);continue}let p=this.activeTouches[I.identifier],w=this.newGestureEvent($.Change,p.initialTarget);w.translationX=I.pageX-T.Gb(p.rollingPageX),w.translationY=I.pageY-T.Gb(p.rollingPageY),w.pageX=I.pageX,w.pageY=I.pageY,this.dispatchEvent(w),p.rollingPageX.length>3&&(p.rollingPageX.shift(),p.rollingPageY.shift(),p.rollingTimestamps.shift()),p.rollingPageX.push(I.pageX),p.rollingPageY.push(I.pageY),p.rollingTimestamps.push(C)}this.dispatched&&(d.preventDefault(),d.stopPropagation(),this.dispatched=!1)}}B.SCROLL_FRICTION=-.005,B.HOLD_DELAY=700,B.CLEAR_TAP_COUNT_TIME=400,function(R,d,C,g){var p,b=arguments.length,I=b<3?d:null===g?g=Object.getOwnPropertyDescriptor(d,C):g;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)I=Reflect.decorate(R,d,C,g);else for(var w=R.length-1;w>=0;w--)(p=R[w])&&(I=(b<3?p(I):b>3?p(d,C,I):p(d,C))||I);b>3&&I&&Object.defineProperty(d,C,I)}([O.H],B,"isTouchDevice",null)},1403:(Ct,Qe,a)=>{"use strict";a.d(Qe,{Y:()=>g,g:()=>b}),a(176);var U=a(9190),j=a(1606),O=a(1719),k=a(7513),$=a(1882),B=a(1745),R=a(6595),d=a(4991),C=a(1165);class g extends O.JT{constructor(p,w,E={}){super(),this.options=E,this._context=p||this,this._action=w,w instanceof k.aU&&this._register(w.onDidChange(S=>{!this.element||this.handleActionChangeEvent(S)}))}handleActionChangeEvent(p){void 0!==p.enabled&&this.updateEnabled(),void 0!==p.checked&&this.updateChecked(),void 0!==p.class&&this.updateClass(),void 0!==p.label&&(this.updateLabel(),this.updateTooltip()),void 0!==p.tooltip&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new k.Wi)),this._actionRunner}set actionRunner(p){this._actionRunner=p}getAction(){return this._action}isEnabled(){return this._action.enabled}setActionContext(p){this._context=p}render(p){const w=this.element=p;this._register(B.o.addTarget(p));const E=this.options&&this.options.draggable;E&&(p.draggable=!0,d.vU&&this._register((0,C.nm)(p,C.tw.DRAG_START,S=>{var v;return null===(v=S.dataTransfer)||void 0===v?void 0:v.setData(R.go.TEXT,this._action.label)}))),this._register((0,C.nm)(w,B.t.Tap,S=>this.onClick(S,!0))),this._register((0,C.nm)(w,C.tw.MOUSE_DOWN,S=>{E||C.zB.stop(S,!0),this._action.enabled&&0===S.button&&w.classList.add("active")})),U.dz&&this._register((0,C.nm)(w,C.tw.CONTEXT_MENU,S=>{0===S.button&&!0===S.ctrlKey&&this.onClick(S)})),this._register((0,C.nm)(w,C.tw.CLICK,S=>{C.zB.stop(S,!0),this.options&&this.options.isMenu||U.xS(()=>this.onClick(S))})),this._register((0,C.nm)(w,C.tw.DBLCLICK,S=>{C.zB.stop(S,!0)})),[C.tw.MOUSE_UP,C.tw.MOUSE_OUT].forEach(S=>{this._register((0,C.nm)(w,S,v=>{C.zB.stop(v),w.classList.remove("active")}))})}onClick(p,w=!1){var E;C.zB.stop(p,!0);const S=$.Jp(this._context)?(null===(E=this.options)||void 0===E?void 0:E.useEventAsContext)?p:{preserveFocus:w}:this._context;this.actionRunner.run(this._action,S)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(p){this.element&&(this.element.tabIndex=p?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}updateTooltip(){}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),super.dispose()}}class b extends g{constructor(p,w,E={}){super(p,w,E),this.options=E,this.options.icon=void 0!==E.icon&&E.icon,this.options.label=void 0===E.label||E.label,this.cssClass=""}render(p){super.render(p),this.element&&(this.label=(0,C.R3)(this.element,(0,C.$)("a.action-label"))),this.label&&this.label.setAttribute("role",this._action.id===k.Z0.ID?"presentation":this.options.isMenu?"menuitem":"button"),this.options.label&&this.options.keybinding&&this.element&&((0,C.R3)(this.element,(0,C.$)("span.keybinding")).textContent=this.options.keybinding),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(p){this.label&&(this.label.tabIndex=p?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.getAction().label)}updateTooltip(){let p=null;this.getAction().tooltip?p=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(p=this.getAction().label,this.options.keybinding&&(p=j.N({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",p,this.options.keybinding))),p&&this.label&&(this.label.title=p)}updateClass(){this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.getAction().class,this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):this.label&&this.label.classList.remove("codicon")}updateEnabled(){this.getAction().enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),this.element&&this.element.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),this.element&&this.element.classList.add("disabled"))}updateChecked(){this.label&&(this.getAction().checked?this.label.classList.add("checked"):this.label.classList.remove("checked"))}}},1764:(Ct,Qe,a)=>{"use strict";a.d(Qe,{o:()=>C}),a(176);var U=a(1719),j=a(7513),O=a(1165),k=a(1882),$=a(9740),B=a(6723),R=a(1403);class C extends U.JT{constructor(b,I={}){var p,w,E,S,v,M;let _,f;switch(super(),this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new B.Q5),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new B.Q5({onFirstListenerAdd:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new B.Q5),this.onDidRun=this._onDidRun.event,this._onBeforeRun=this._register(new B.Q5),this.onBeforeRun=this._onBeforeRun.event,this.options=I,this._context=null!==(p=I.context)&&void 0!==p?p:null,this._orientation=null!==(w=this.options.orientation)&&void 0!==w?w:0,this._triggerKeys={keyDown:null!==(S=null===(E=this.options.triggerKeys)||void 0===E?void 0:E.keyDown)&&void 0!==S&&S,keys:null!==(M=null===(v=this.options.triggerKeys)||void 0===v?void 0:v.keys)&&void 0!==M?M:[3,10]},this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new j.Wi,this._register(this._actionRunner)),this._register(this._actionRunner.onDidRun(m=>this._onDidRun.fire(m))),this._register(this._actionRunner.onBeforeRun(m=>this._onBeforeRun.fire(m))),this._actionIds=[],this.viewItems=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",!1!==I.animated&&this.domNode.classList.add("animated"),this._orientation){case 0:_=[15],f=[17];break;case 1:_=[16],f=[18],this.domNode.className+=" vertical"}this._register(O.nm(this.domNode,O.tw.KEY_DOWN,m=>{const L=new $.y(m);let F=!0;const G="number"==typeof this.focusedItem?this.viewItems[this.focusedItem]:void 0;_&&(L.equals(_[0])||L.equals(_[1]))?F=this.focusPrevious():f&&(L.equals(f[0])||L.equals(f[1]))?F=this.focusNext():L.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():L.equals(14)?F=this.focusFirst():L.equals(13)?F=this.focusLast():L.equals(2)&&G instanceof R.Y&&G.trapsArrowNavigation?F=this.focusNext():this.isTriggerKeyEvent(L)?this._triggerKeys.keyDown?this.doTrigger(L):this.triggerKeyDown=!0:F=!1,F&&(L.preventDefault(),L.stopPropagation())})),this._register(O.nm(this.domNode,O.tw.KEY_UP,m=>{const L=new $.y(m);this.isTriggerKeyEvent(L)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(L)),L.preventDefault(),L.stopPropagation()):(L.equals(2)||L.equals(1026))&&this.updateFocusedItem()})),this.focusTracker=this._register(O.go(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{(O.vY()===this.domNode||!O.jg(O.vY(),this.domNode))&&(this._onDidBlur.fire(),this.focusedItem=void 0,this.triggerKeyDown=!1)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.actionsList.setAttribute("role","toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),b.appendChild(this.domNode)}isTriggerKeyEvent(b){let I=!1;return this._triggerKeys.keys.forEach(p=>{I=I||b.equals(p)}),I}updateFocusedItem(){for(let b=0;b<this.actionsList.children.length;b++){const I=this.actionsList.children[b];if(O.jg(O.vY(),I)){this.focusedItem=b;break}}}get context(){return this._context}set context(b){this._context=b,this.viewItems.forEach(I=>I.setActionContext(b))}get actionRunner(){return this._actionRunner}set actionRunner(b){b&&(this._actionRunner=b,this.viewItems.forEach(I=>I.actionRunner=b))}getContainer(){return this.domNode}push(b,I={}){const p=Array.isArray(b)?b:[b];let w=k.hj(I.index)?I.index:null;p.forEach(E=>{const S=document.createElement("li");let v;S.className="action-item",S.setAttribute("role","presentation"),this.options.allowContextMenu||this._register(O.nm(S,O.tw.CONTEXT_MENU,M=>{O.zB.stop(M,!0)})),this.options.actionViewItemProvider&&(v=this.options.actionViewItemProvider(E)),v||(v=new R.g(this.context,E,I)),v.actionRunner=this._actionRunner,v.setActionContext(this.context),v.render(S),this.focusable&&v instanceof R.Y&&0===this.viewItems.length&&v.setFocusable(!0),null===w||w<0||w>=this.actionsList.children.length?(this.actionsList.appendChild(S),this.viewItems.push(v),this._actionIds.push(E.id)):(this.actionsList.insertBefore(S,this.actionsList.children[w]),this.viewItems.splice(w,0,v),this._actionIds.splice(w,0,E.id),w++)}),"number"==typeof this.focusedItem&&this.focus(this.focusedItem)}clear(){(0,U.B9)(this.viewItems),this.viewItems=[],this._actionIds=[],O.PO(this.actionsList)}length(){return this.viewItems.length}focus(b){let p,I=!1;if(void 0===b?I=!0:"number"==typeof b?p=b:"boolean"==typeof b&&(I=b),I&&void 0===this.focusedItem){const w=this.viewItems.findIndex(E=>E.isEnabled());this.focusedItem=-1===w?void 0:w,this.updateFocus()}else void 0!==p&&(this.focusedItem=p),this.updateFocus()}focusFirst(){return this.focusedItem=this.length()>1?1:0,this.focusPrevious()}focusLast(){return this.focusedItem=this.length()<2?0:this.length()-2,this.focusNext()}focusNext(){if(void 0===this.focusedItem)this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const b=this.focusedItem;let I;do{if(this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=b,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,I=this.viewItems[this.focusedItem]}while(this.focusedItem!==b&&this.options.focusOnlyEnabledItems&&!I.isEnabled());return this.updateFocus(),!0}focusPrevious(){if(void 0===this.focusedItem)this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const b=this.focusedItem;let I;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(this.options.preventLoopNavigation)return this.focusedItem=b,!1;this.focusedItem=this.viewItems.length-1}I=this.viewItems[this.focusedItem]}while(this.focusedItem!==b&&this.options.focusOnlyEnabledItems&&!I.isEnabled());return this.updateFocus(!0),!0}updateFocus(b,I){void 0===this.focusedItem&&this.actionsList.focus({preventScroll:I});for(let p=0;p<this.viewItems.length;p++){const w=this.viewItems[p],E=w;if(p===this.focusedItem){let S=!0;k.mf(E.focus)||(S=!1),this.options.focusOnlyEnabledItems&&k.mf(w.isEnabled)&&!w.isEnabled()&&(S=!1),S?E.focus(b):this.actionsList.focus({preventScroll:I})}else k.mf(E.blur)&&E.blur()}}doTrigger(b){if(void 0===this.focusedItem)return;const I=this.viewItems[this.focusedItem];I instanceof R.Y&&this.run(I._action,null==I._context?b:I._context)}run(b,I){return function(g,b,I,p){return new(I||(I=Promise))(function(E,S){function v(f){try{_(p.next(f))}catch(m){S(m)}}function M(f){try{_(p.throw(f))}catch(m){S(m)}}function _(f){f.done?E(f.value):function(E){return E instanceof I?E:new I(function(S){S(E)})}(f.value).then(v,M)}_((p=p.apply(g,b||[])).next())})}(this,void 0,void 0,function*(){yield this._actionRunner.run(b,I)})}dispose(){(0,U.B9)(this.viewItems),this.viewItems=[],this._actionIds=[],this.getContainer().remove(),super.dispose()}}},7579:(Ct,Qe,a)=>{"use strict";a.d(Qe,{wW:()=>C,Z9:()=>g,i7:()=>b}),a(4686);var U=a(9190),j=a(1165);let k,$,B,R,d;function C(p){k=document.createElement("div"),k.className="monaco-aria-container";const w=()=>{const S=document.createElement("div");return S.className="monaco-alert",S.setAttribute("role","alert"),S.setAttribute("aria-atomic","true"),k.appendChild(S),S};$=w(),B=w();const E=()=>{const S=document.createElement("div");return S.className="monaco-status",S.setAttribute("role","complementary"),S.setAttribute("aria-live","polite"),S.setAttribute("aria-atomic","true"),k.appendChild(S),S};R=E(),d=E(),p.appendChild(k)}function g(p){!k||($.textContent!==p?(j.PO(B),I($,p)):(j.PO($),I(B,p)))}function b(p){!k||(U.dz?g(p):R.textContent!==p?(j.PO(d),I(R,p)):(j.PO(R),I(d,p)))}function I(p,w){j.PO(p),w.length>2e4&&(w=w.substr(0,2e4)),p.textContent=w,p.style.visibility="hidden",p.style.visibility="visible"}},9461:(Ct,Qe,a)=>{"use strict";a.d(Qe,{a:()=>O}),a(6377),a(2565);var j=a(521);function O(k){let $=k.definition;for(;$ instanceof j.lA;)$=$.definition;return`.codicon-${k.id}:before { content: '${$.fontCharacter}'; }`}},4504:(Ct,Qe,a)=>{"use strict";a.d(Qe,{Z:()=>B}),a(1512);var U=a(1165),j=a(579),O=a(3727),k=a(3788);const $={badgeBackground:O.Il.fromHex("#4D4D4D"),badgeForeground:O.Il.fromHex("#FFFFFF")};class B{constructor(d,C){this.count=0,this.options=C||Object.create(null),(0,k.jB)(this.options,$,!1),this.badgeBackground=this.options.badgeBackground,this.badgeForeground=this.options.badgeForeground,this.badgeBorder=this.options.badgeBorder,this.element=(0,U.R3)(d,(0,U.$)(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(d){this.count=d,this.render()}setTitleFormat(d){this.titleFormat=d,this.render()}render(){this.element.textContent=(0,j.WU)(this.countFormat,this.count),this.element.title=(0,j.WU)(this.titleFormat,this.count),this.applyStyles()}style(d){this.badgeBackground=d.badgeBackground,this.badgeForeground=d.badgeForeground,this.badgeBorder=d.badgeBorder,this.applyStyles()}applyStyles(){if(this.element){const d=this.badgeBackground?this.badgeBackground.toString():"",C=this.badgeForeground?this.badgeForeground.toString():"",g=this.badgeBorder?this.badgeBorder.toString():"";this.element.style.backgroundColor=d,this.element.style.color=C,this.element.style.borderWidth=g?"1px":"",this.element.style.borderStyle=g?"solid":"",this.element.style.borderColor=g}}}},3595:(Ct,Qe,a)=>{"use strict";a.d(Qe,{q:()=>O});var T=a(3788),U=a(1165),j=a(6255);class O{constructor($,B){this.supportIcons=B,this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.domNode=document.createElement("span"),this.domNode.className="monaco-highlighted-label",$.appendChild(this.domNode)}get element(){return this.domNode}set($,B=[],R="",d){$||($=""),d&&($=O.escapeNewLines($,B)),(!this.didEverRender||this.text!==$||this.title!==R||!T.fS(this.highlights,B))&&(this.text=$,this.title=R,this.highlights=B,this.render())}render(){const $=[];let B=0;for(const R of this.highlights){if(R.end===R.start)continue;if(B<R.start){const g=this.text.substring(B,R.start);$.push(U.$("span",void 0,...this.supportIcons?(0,j.T)(g):[g])),B=R.end}const d=this.text.substring(R.start,R.end),C=U.$("span.highlight",void 0,...this.supportIcons?(0,j.T)(d):[d]);R.extraClasses&&C.classList.add(R.extraClasses),$.push(C),B=R.end}if(B<this.text.length){const R=this.text.substring(B);$.push(U.$("span",void 0,...this.supportIcons?(0,j.T)(R):[R]))}U.mc(this.domNode,...$),this.title?this.domNode.title=this.title:this.domNode.removeAttribute("title"),this.didEverRender=!0}static escapeNewLines($,B){let R=0,d=0;return $.replace(/\r\n|\r|\n/g,(C,g)=>{d="\r\n"===C?-1:0,g+=R;for(const b of B)b.end<=g||(b.start>=g&&(b.start+=d),b.end>=g&&(b.end+=d));return R+=d,"\u23ce"})}}},1060:(Ct,Qe,a)=>{"use strict";a.d(Qe,{g:()=>E}),a(2396);var U=a(1165),j=a(3595),O=a(1719),k=a(162),$=a(3788),B=a(1882),R=a(9357),d=a(1606),C=a(7922),g=function(_,f,m,L){return new(m||(m=Promise))(function(G,Y){function de(be){try{ce(L.next(be))}catch(N){Y(N)}}function le(be){try{ce(L.throw(be))}catch(N){Y(N)}}function ce(be){be.done?G(be.value):function(G){return G instanceof m?G:new m(function(Y){Y(G)})}(be.value).then(de,le)}ce((L=L.apply(_,f||[])).next())})};class w{constructor(f){this._element=f}get element(){return this._element}set textContent(f){this.disposed||f===this._textContent||(this._textContent=f,this._element.textContent=f)}set className(f){this.disposed||f===this._className||(this._className=f,this._element.className=f)}set empty(f){this.disposed||f===this._empty||(this._empty=f,this._element.style.marginLeft=f?"0":"")}dispose(){this.disposed=!0}}class E extends O.JT{constructor(f,m){super(),this.customHovers=new Map,this.domNode=this._register(new w(U.R3(f,U.$(".monaco-icon-label")))),this.labelContainer=U.R3(this.domNode.element,U.$(".monaco-icon-label-container"));const L=U.R3(this.labelContainer,U.$("span.monaco-icon-name-container"));this.descriptionContainer=this._register(new w(U.R3(this.labelContainer,U.$("span.monaco-icon-description-container")))),this.nameNode=(null==m?void 0:m.supportHighlights)||(null==m?void 0:m.supportIcons)?new M(L,!!m.supportIcons):new S(L),this.descriptionNodeFactory=(null==m?void 0:m.supportDescriptionHighlights)?()=>new j.q(U.R3(this.descriptionContainer.element,U.$("span.label-description")),!!m.supportIcons):()=>this._register(new w(U.R3(this.descriptionContainer.element,U.$("span.label-description")))),this.hoverDelegate=null==m?void 0:m.hoverDelegate}setLabel(f,m,L){const F=["monaco-icon-label"];L&&(L.extraClasses&&F.push(...L.extraClasses),L.italic&&F.push("italic"),L.strikethrough&&F.push("strikethrough")),this.domNode.className=F.join(" "),this.setupHover(this.labelContainer,null==L?void 0:L.title),this.nameNode.setLabel(f,L),(m||this.descriptionNode)&&(this.descriptionNode||(this.descriptionNode=this.descriptionNodeFactory()),this.descriptionNode instanceof j.q?(this.descriptionNode.set(m||"",L?L.descriptionMatches:void 0),this.setupHover(this.descriptionNode.element,null==L?void 0:L.descriptionTitle)):(this.descriptionNode.textContent=m||"",this.setupHover(this.descriptionNode.element,(null==L?void 0:L.descriptionTitle)||""),this.descriptionNode.empty=!m))}setupHover(f,m){const L=this.customHovers.get(f);if(L&&(L.dispose(),this.customHovers.delete(f)),m)if(this.hoverDelegate){const F=function(_,f,m){if(!m)return;const L=function(_){if((0,B.HD)(_))return()=>g(this,void 0,void 0,function*(){return _});if((0,B.mf)(_.markdown))return _.markdown;{const f=_.markdown;return()=>g(this,void 0,void 0,function*(){return f})}}(m);let F,G;const de=U.nm(f,U.tw.MOUSE_OVER,le=>{if(F)return;const ce=new R.A,be=ee=>{const K=ee.type===U.tw.MOUSE_DOWN;K&&(null==G||G.dispose(),G=void 0),(K||ee.fromElement===f)&&(null==F||F.dispose(),F=void 0)},N=U.nm(f,U.tw.MOUSE_LEAVE,be,!0),V=U.nm(f,U.tw.MOUSE_DOWN,be,!0),Z={targetElements:[f],dispose:()=>{}};let ie;void 0!==_.placement&&"mouse"!==_.placement||(ie=U.nm(f,U.tw.MOUSE_MOVE,K=>Z.x=K.x+10,!0));const oe=new C.pY(()=>g(this,void 0,void 0,function*(){var ee;if(F){const K={text:(0,d.N)("iconLabel.loading","Loading..."),target:Z,hoverPosition:2};null==G||G.dispose(),G=_.showHover(K);const ne=null!==(ee=yield L(ce.token))&&void 0!==ee?ee:(0,B.HD)(m)?void 0:m.markdownNotSupportedFallback;null==G||G.dispose(),G=void 0,ne&&F&&(G=_.showHover({text:ne,target:Z,showPointer:"element"===_.placement,hoverPosition:2}))}null==ie||ie.dispose()}),_.delay);oe.schedule(),F=(0,O.OF)(()=>{oe.dispose(),null==ie||ie.dispose(),V.dispose(),N.dispose(),ce.dispose(!0)})},!0);return(0,O.OF)(()=>{de.dispose(),null==F||F.dispose(),null==G||G.dispose()})}(this.hoverDelegate,f,m);F&&this.customHovers.set(f,F)}else!function(_,f){(0,B.HD)(f)?_.title=f:(null==f?void 0:f.markdownNotSupportedFallback)?_.title=f.markdownNotSupportedFallback:_.removeAttribute("title")}(f,m);else f.removeAttribute("title")}dispose(){super.dispose();for(const f of this.customHovers.values())f.dispose();this.customHovers.clear()}}class S{constructor(f){this.container=f,this.label=void 0,this.singleLabel=void 0}setLabel(f,m){if(this.label!==f||!(0,$.fS)(this.options,m))if(this.label=f,this.options=m,"string"==typeof f)this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=U.R3(this.container,U.$("a.label-name",{id:null==m?void 0:m.domId}))),this.singleLabel.textContent=f;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let L=0;L<f.length;L++)U.R3(this.container,U.$("a.label-name",{id:(null==m?void 0:m.domId)&&`${null==m?void 0:m.domId}_${L}`,"data-icon-label-count":f.length,"data-icon-label-index":L,role:"treeitem"},f[L])),L<f.length-1&&U.R3(this.container,U.$("span.label-separator",void 0,(null==m?void 0:m.separator)||"/"))}}}class M{constructor(f,m){this.container=f,this.supportIcons=m,this.label=void 0,this.singleLabel=void 0}setLabel(f,m){if(this.label!==f||!(0,$.fS)(this.options,m))if(this.label=f,this.options=m,"string"==typeof f)this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=new j.q(U.R3(this.container,U.$("a.label-name",{id:null==m?void 0:m.domId})),this.supportIcons)),this.singleLabel.set(f,null==m?void 0:m.matches,void 0,null==m?void 0:m.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const L=(null==m?void 0:m.separator)||"/",F=function(_,f,m){if(!m)return;let L=0;return _.map(F=>{const G={start:L,end:L+F.length},Y=m.map(de=>k.e.intersect(G,de)).filter(de=>!k.e.isEmpty(de)).map(({start:de,end:le})=>({start:de-L,end:le-L}));return L=G.end+f.length,Y})}(f,L,null==m?void 0:m.matches);for(let G=0;G<f.length;G++){const Y=f[G],de=F?F[G]:void 0,ce=U.$("a.label-name",{id:(null==m?void 0:m.domId)&&`${null==m?void 0:m.domId}_${G}`,"data-icon-label-count":f.length,"data-icon-label-index":G,role:"treeitem"});new j.q(U.R3(this.container,ce),this.supportIcons).set(Y,de,void 0,null==m?void 0:m.labelEscapeNewLines),G<f.length-1&&U.R3(ce,U.$("span.label-separator",void 0,L))}}}}},6255:(Ct,Qe,a)=>{"use strict";a.d(Qe,{T:()=>O});var T=a(1165),U=a(521);const j=new RegExp(`(\\\\)?\\$\\((${U.dT.iconNameExpression}(?:${U.dT.iconModifierExpression})?)\\)`,"g");function O($){const B=new Array;let R,d=0,C=0;for(;null!==(R=j.exec($));){C=R.index||0,B.push($.substring(d,C)),d=(R.index||0)+R[0].length;const[,g,b]=R;B.push(g?`$(${b})`:k({id:b}))}return d<$.length&&B.push($.substring(d)),B}function k($){const B=T.$("span");return B.classList.add(...U.dT.asClassNameArray($)),B}},9917:(Ct,Qe,a)=>{"use strict";a.d(Qe,{p:()=>v,W:()=>S}),a(8210);var U=a(1606),j=a(1165),O=a(6059),k=a(7579),$=a(1764),B=a(6723),R=a(3010),d=a(3727),C=a(3788);class g{constructor(_,f=0,m=_.length,L=f-1){this.items=_,this.start=f,this.end=m,this.index=L}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}class b{constructor(_=[],f=10){this._initialize(_),this._limit=f,this._onChange()}add(_){this._history.delete(_),this._history.add(_),this._onChange()}next(){return this._currentPosition()!==this._elements.length-1?this._navigator.next():null}previous(){return 0!==this._currentPosition()?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}has(_){return this._history.has(_)}_onChange(){this._reduceToLimit();const _=this._elements;this._navigator=new g(_,0,_.length,_.length)}_reduceToLimit(){const _=this._elements;_.length>this._limit&&this._initialize(_.slice(_.length-this._limit))}_currentPosition(){const _=this._navigator.current();return _?this._elements.indexOf(_):-1}_initialize(_){this._history=new Set;for(const f of _)this._history.add(f)}get _elements(){const _=[];return this._history.forEach(f=>_.push(f)),_}}var I=a(4304),p=a(759);const w=j.$,E={inputBackground:d.Il.fromHex("#3C3C3C"),inputForeground:d.Il.fromHex("#CCCCCC"),inputValidationInfoBorder:d.Il.fromHex("#55AAFF"),inputValidationInfoBackground:d.Il.fromHex("#063B49"),inputValidationWarningBorder:d.Il.fromHex("#B89500"),inputValidationWarningBackground:d.Il.fromHex("#352A05"),inputValidationErrorBorder:d.Il.fromHex("#BE1100"),inputValidationErrorBackground:d.Il.fromHex("#5A1D1D")};class S extends R.${constructor(_,f,m){var L;super(),this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new B.Q5),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new B.Q5),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=f,this.options=m||Object.create(null),(0,C.jB)(this.options,E,!1),this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=null!==(L=this.options.tooltip)&&void 0!==L?L:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.inputBackground=this.options.inputBackground,this.inputForeground=this.options.inputForeground,this.inputBorder=this.options.inputBorder,this.inputValidationInfoBorder=this.options.inputValidationInfoBorder,this.inputValidationInfoBackground=this.options.inputValidationInfoBackground,this.inputValidationInfoForeground=this.options.inputValidationInfoForeground,this.inputValidationWarningBorder=this.options.inputValidationWarningBorder,this.inputValidationWarningBackground=this.options.inputValidationWarningBackground,this.inputValidationWarningForeground=this.options.inputValidationWarningForeground,this.inputValidationErrorBorder=this.options.inputValidationErrorBorder,this.inputValidationErrorBackground=this.options.inputValidationErrorBackground,this.inputValidationErrorForeground=this.options.inputValidationErrorForeground,this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=j.R3(_,w(".monaco-inputbox.idle"));let F=this.options.flexibleHeight?"textarea":"input",G=j.R3(this.element,w(".ibwrapper"));if(this.input=j.R3(G,w(F+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight="number"==typeof this.options.flexibleMaxHeight?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=j.R3(G,w("div.mirror")),this.mirror.innerText="\xa0",this.scrollableElement=new I.NB(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),j.R3(_,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(le=>this.input.scrollTop=le.scrollTop));const Y=this._register(new p.Y(document,"selectionchange")),de=B.ju.filter(Y.event,()=>{const le=document.getSelection();return(null==le?void 0:le.anchorNode)===G});this._register(de(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this.ignoreGesture(this.input),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new $.o(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(_){this.placeholder=_,this.input.setAttribute("placeholder",_)}setTooltip(_){this.tooltip=_,this.input.title=_}setAriaLabel(_){this.ariaLabel=_,_?this.input.setAttribute("aria-label",this.ariaLabel):this.input.removeAttribute("aria-label")}getAriaLabel(){return this.ariaLabel}get inputElement(){return this.input}get value(){return this.input.value}set value(_){this.input.value!==_&&(this.input.value=_,this.onValueChange())}get height(){return"number"==typeof this.cachedHeight?this.cachedHeight:j.wn(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return document.activeElement===this.input}select(_=null){this.input.select(),_&&(this.input.setSelectionRange(_.start,_.end),_.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}get width(){return j.w(this.input)}set width(_){if(this.options.flexibleHeight&&this.options.flexibleWidth){let f=0;this.mirror&&(f=(parseFloat(this.mirror.style.paddingLeft||"")||0)+(parseFloat(this.mirror.style.paddingRight||"")||0)),this.input.style.width=_-f+"px"}else this.input.style.width=_+"px";this.mirror&&(this.mirror.style.width=_+"px")}set paddingRight(_){this.options.flexibleHeight&&this.options.flexibleWidth?this.input.style.width=`calc(100% - ${_}px)`:this.input.style.paddingRight=_+"px",this.mirror&&(this.mirror.style.paddingRight=_+"px")}updateScrollDimensions(){if("number"!=typeof this.cachedContentHeight||"number"!=typeof this.cachedHeight||!this.scrollableElement)return;const m=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:this.cachedContentHeight,height:this.cachedHeight}),this.scrollableElement.setScrollPosition({scrollTop:m})}showMessage(_,f){this.message=_,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(_.type));const m=this.stylesForType(this.message.type);this.element.style.border=m.border?`1px solid ${m.border}`:"",(this.hasFocus()||f)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let _=null;return this.validation&&(_=this.validation(this.value),_?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(_)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),null==_?void 0:_.type}stylesForType(_){switch(_){case 1:return{border:this.inputValidationInfoBorder,background:this.inputValidationInfoBackground,foreground:this.inputValidationInfoForeground};case 2:return{border:this.inputValidationWarningBorder,background:this.inputValidationWarningBackground,foreground:this.inputValidationWarningForeground};default:return{border:this.inputValidationErrorBorder,background:this.inputValidationErrorBackground,foreground:this.inputValidationErrorForeground}}}classForType(_){switch(_){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let _,m,f=()=>_.style.width=j.w(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:L=>{if(!this.message)return null;_=j.R3(L,w(".monaco-inputbox-container")),f();const F={inline:!0,className:"monaco-inputbox-message"},G=this.message.formatContent?(0,O.BO)(this.message.content,F):(0,O.IY)(this.message.content,F);G.classList.add(this.classForType(this.message.type));const Y=this.stylesForType(this.message.type);return G.style.backgroundColor=Y.background?Y.background.toString():"",G.style.color=Y.foreground?Y.foreground.toString():"",G.style.border=Y.border?`1px solid ${Y.border}`:"",j.R3(_,G),null},onHide:()=>{this.state="closed"},layout:f}),m=3===this.message.type?U.N("alertErrorMessage","Error: {0}",this.message.content):2===this.message.type?U.N("alertWarningMessage","Warning: {0}",this.message.content):U.N("alertInfoMessage","Info: {0}",this.message.content),k.Z9(m),this.state="open"}_hideMessage(){!this.contextViewProvider||("open"===this.state&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),"open"===this.state&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const _=this.value,m=10===_.charCodeAt(_.length-1)?" ":"";_+m?this.mirror.textContent=_+m:this.mirror.innerText="\xa0",this.layout()}style(_){this.inputBackground=_.inputBackground,this.inputForeground=_.inputForeground,this.inputBorder=_.inputBorder,this.inputValidationInfoBackground=_.inputValidationInfoBackground,this.inputValidationInfoForeground=_.inputValidationInfoForeground,this.inputValidationInfoBorder=_.inputValidationInfoBorder,this.inputValidationWarningBackground=_.inputValidationWarningBackground,this.inputValidationWarningForeground=_.inputValidationWarningForeground,this.inputValidationWarningBorder=_.inputValidationWarningBorder,this.inputValidationErrorBackground=_.inputValidationErrorBackground,this.inputValidationErrorForeground=_.inputValidationErrorForeground,this.inputValidationErrorBorder=_.inputValidationErrorBorder,this.applyStyles()}applyStyles(){const _=this.inputBackground?this.inputBackground.toString():"",f=this.inputForeground?this.inputForeground.toString():"",m=this.inputBorder?this.inputBorder.toString():"";this.element.style.backgroundColor=_,this.element.style.color=f,this.input.style.backgroundColor="inherit",this.input.style.color=f,this.element.style.borderWidth=m?"1px":"",this.element.style.borderStyle=m?"solid":"",this.element.style.borderColor=m}layout(){if(!this.mirror)return;const _=this.cachedContentHeight;this.cachedContentHeight=j.wn(this.mirror),_!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(_){const f=this.inputElement,m=f.selectionStart,L=f.selectionEnd,F=f.value;null!==m&&null!==L&&(this.value=F.substr(0,m)+_+F.substr(L),f.setSelectionRange(m+1,m+1),this.layout())}dispose(){this._hideMessage(),this.message=null,this.actionbar&&this.actionbar.dispose(),super.dispose()}}class v extends S{constructor(_,f,m){super(_,f,m),this.history=new b(m.history,100)}addToHistory(){this.value&&this.value!==this.getCurrentValue()&&this.history.add(this.value)}showNextValue(){this.history.has(this.value)||this.addToHistory();let _=this.getNextValue();_&&(_=_===this.value?this.getNextValue():_),_&&(this.value=_,k.i7(this.value))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let _=this.getPreviousValue();_&&(_=_===this.value?this.getPreviousValue():_),_&&(this.value=_,k.i7(this.value))}getCurrentValue(){let _=this.history.current();return _||(_=this.history.last(),this.history.next()),_}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()||this.history.last()}}},8426:(Ct,Qe,a)=>{"use strict";a.d(Qe,{kX:()=>F,Bv:()=>ce});var T=a(3788),U=a(1719),j=a(1745),O=a(6723),k=a(4304),$=a(2372),B=a(162);function R(be,N){const V=[];for(let Z of N){if(be.start>=Z.range.end)continue;if(be.end<Z.range.start)break;const ie=B.e.intersect(be,Z.range);B.e.isEmpty(ie)||V.push({range:ie,size:Z.size})}return V}function d({start:be,end:N},V){return{start:be+V,end:N+V}}class b{constructor(){this.groups=[],this._size=0}splice(N,V,Z=[]){const ie=Z.length-V,ue=R({start:0,end:N},this.groups),oe=R({start:N+V,end:Number.POSITIVE_INFINITY},this.groups).map(K=>({range:d(K.range,ie),size:K.size})),ee=Z.map((K,ne)=>({range:{start:N+ne,end:N+ne+1},size:K.size}));this.groups=function(...be){return function(be){const N=[];let V=null;for(let Z of be){const ie=Z.range.start,ue=Z.range.end,oe=Z.size;V&&oe===V.size?V.range.end=ue:(V={range:{start:ie,end:ue},size:oe},N.push(V))}return N}(be.reduce((N,V)=>N.concat(V),[]))}(ue,ee,oe),this._size=this.groups.reduce((K,ne)=>K+ne.size*(ne.range.end-ne.range.start),0)}get count(){const N=this.groups.length;return N?this.groups[N-1].range.end:0}get size(){return this._size}indexAt(N){if(N<0)return-1;let V=0,Z=0;for(let ie of this.groups){const ue=ie.range.end-ie.range.start,oe=Z+ue*ie.size;if(N<oe)return V+Math.floor((N-Z)/ie.size);V+=ue,Z=oe}return V}indexAfter(N){return Math.min(this.indexAt(N)+1,this.count)}positionAt(N){if(N<0)return-1;let V=0,Z=0;for(let ie of this.groups){const ue=ie.range.end-ie.range.start,oe=Z+ue;if(N<oe)return V+(N-Z)*ie.size;V+=ue*ie.size,Z=oe}return-1}}var I=a(1165);class w{constructor(N){this.renderers=N,this.cache=new Map}alloc(N){let V=this.getTemplateCache(N).pop();if(!V){const Z=(0,I.$)(".monaco-list-row");V={domNode:Z,templateId:N,templateData:this.getRenderer(N).renderTemplate(Z)}}return V}release(N){!N||this.releaseRow(N)}releaseRow(N){const{domNode:V,templateId:Z}=N;V&&(V.classList.remove("scrolling"),function(be){try{be.parentElement&&be.parentElement.removeChild(be)}catch(N){}}(V)),this.getTemplateCache(Z).push(N)}getTemplateCache(N){let V=this.cache.get(N);return V||(V=[],this.cache.set(N,V)),V}dispose(){this.cache.forEach((N,V)=>{for(const Z of N)this.getRenderer(V).disposeTemplate(Z.templateData),Z.templateData=null}),this.cache.clear()}getRenderer(N){const V=this.renderers.get(N);if(!V)throw new Error(`No renderer found for ${N}`);return V}}var E=a(9749),S=a(2291),v=a(6595),M=a(7922),_=a(4991),f=a(759),m=function(be,N,V,Z){var oe,ie=arguments.length,ue=ie<3?N:null===Z?Z=Object.getOwnPropertyDescriptor(N,V):Z;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ue=Reflect.decorate(be,N,V,Z);else for(var ee=be.length-1;ee>=0;ee--)(oe=be[ee])&&(ue=(ie<3?oe(ue):ie>3?oe(N,V,ue):oe(N,V))||ue);return ie>3&&ue&&Object.defineProperty(N,V,ue),ue};const L={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements:be=>[be],getDragURI:()=>null,onDragStart(){},onDragOver:()=>!1,drop(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class F{constructor(N){this.elements=N}update(){}getData(){return this.elements}}class G{constructor(N){this.elements=N}update(){}getData(){return this.elements}}class Y{constructor(){this.types=[],this.files=[]}update(N){if(N.types&&this.types.splice(0,this.types.length,...N.types),N.files){this.files.splice(0,this.files.length);for(let V=0;V<N.files.length;V++){const Z=N.files.item(V);Z&&(Z.size||Z.type)&&this.files.push(Z)}}}getData(){return{types:this.types,files:this.files}}}class le{constructor(N){this.getSetSize=(null==N?void 0:N.getSetSize)?N.getSetSize.bind(N):(V,Z,ie)=>ie,this.getPosInSet=(null==N?void 0:N.getPosInSet)?N.getPosInSet.bind(N):(V,Z)=>Z+1,this.getRole=(null==N?void 0:N.getRole)?N.getRole.bind(N):V=>"listitem",this.isChecked=(null==N?void 0:N.isChecked)?N.isChecked.bind(N):V=>{}}}class ce{constructor(N,V,Z,ie=L){if(this.virtualDelegate=V,this.domId="list_id_"+ ++ce.InstanceCount,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new M.vp(50),this.splicing=!1,this.dragOverAnimationStopDisposable=U.JT.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=U.JT.None,this.onDragLeaveTimeout=U.JT.None,this.disposables=new U.SL,this._onDidChangeContentHeight=new O.Q5,this._horizontalScrolling=!1,ie.horizontalScrolling&&ie.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new b;for(const oe of Z)this.renderers.set(oe.templateId,oe);this.cache=this.disposables.add(new w(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support","boolean"!=typeof ie.mouseSupport||ie.mouseSupport),this._horizontalScrolling=(0,T.CJ)(ie,oe=>oe.horizontalScrolling,L.horizontalScrolling),this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.additionalScrollHeight=void 0===ie.additionalScrollHeight?0:ie.additionalScrollHeight,this.accessibilityProvider=new le(ie.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",(0,T.CJ)(ie,oe=>oe.transformOptimization,L.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)"),this.disposables.add(j.o.addTarget(this.rowsContainer)),this.scrollable=new $.Rm((0,T.CJ)(ie,oe=>oe.smoothScrolling,!1)?125:0,oe=>(0,I.jL)(oe)),this.scrollableElement=this.disposables.add(new k.$Z(this.rowsContainer,{alwaysConsumeMouseWheel:(0,T.CJ)(ie,oe=>oe.alwaysConsumeMouseWheel,L.alwaysConsumeMouseWheel),horizontal:1,vertical:(0,T.CJ)(ie,oe=>oe.verticalScrollMode,L.verticalScrollMode),useShadows:(0,T.CJ)(ie,oe=>oe.useShadows,L.useShadows)},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),N.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add((0,I.nm)(this.rowsContainer,j.t.Change,oe=>this.onTouchChange(oe))),this.disposables.add((0,I.nm)(this.scrollableElement.getDomNode(),"scroll",oe=>oe.target.scrollTop=0)),this.disposables.add((0,I.nm)(this.domNode,"dragover",oe=>this.onDragOver(this.toDragEvent(oe)))),this.disposables.add((0,I.nm)(this.domNode,"drop",oe=>this.onDrop(this.toDragEvent(oe)))),this.disposables.add((0,I.nm)(this.domNode,"dragleave",oe=>this.onDragLeave(this.toDragEvent(oe)))),this.disposables.add((0,I.nm)(this.domNode,"dragend",oe=>this.onDragEnd(oe))),this.setRowLineHeight=(0,T.CJ)(ie,oe=>oe.setRowLineHeight,L.setRowLineHeight),this.setRowHeight=(0,T.CJ)(ie,oe=>oe.setRowHeight,L.setRowHeight),this.supportDynamicHeights=(0,T.CJ)(ie,oe=>oe.supportDynamicHeights,L.supportDynamicHeights),this.dnd=(0,T.CJ)(ie,oe=>oe.dnd,L.dnd),this.layout()}get contentHeight(){return this.rangeMap.size}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(N){if(N!==this._horizontalScrolling){if(N&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=N,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const V of this.items)this.measureItemWidth(V);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:(0,I.FK)(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}updateOptions(N){void 0!==N.additionalScrollHeight&&(this.additionalScrollHeight=N.additionalScrollHeight,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),void 0!==N.smoothScrolling&&this.scrollable.setSmoothScrollDuration(N.smoothScrolling?125:0),void 0!==N.horizontalScrolling&&(this.horizontalScrolling=N.horizontalScrolling)}splice(N,V,Z=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(N,V,Z)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(N,V,Z=[]){const ie=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),oe=B.e.intersect(ie,{start:N,end:N+V}),ee=new Map;for(let Ve=oe.start;Ve<oe.end;Ve++){const Ae=this.items[Ve];if(Ae.dragStartDisposable.dispose(),Ae.row){let Ee=ee.get(Ae.templateId);Ee||(Ee=[],ee.set(Ae.templateId,Ee));const ze=this.renderers.get(Ae.templateId);ze&&ze.disposeElement&&ze.disposeElement(Ae.element,Ve,Ae.row.templateData,Ae.size),Ee.push(Ae.row)}Ae.row=null}const K={start:N+V,end:this.items.length},ne=B.e.intersect(K,ie),he=B.e.relativeComplement(K,ie),ge=Z.map(Ve=>({id:String(this.itemId++),element:Ve,templateId:this.virtualDelegate.getTemplateId(Ve),size:this.virtualDelegate.getHeight(Ve),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(Ve),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:U.JT.None}));let re;0===N&&V>=this.items.length?(this.rangeMap=new b,this.rangeMap.splice(0,0,ge),re=this.items,this.items=ge):(this.rangeMap.splice(N,V,ge),re=this.items.splice(N,V,...ge));const ye=Z.length-V,ke=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),xe=d(ne,ye),Pe=B.e.intersect(ke,xe);for(let Ve=Pe.start;Ve<Pe.end;Ve++)this.updateItemInDOM(this.items[Ve],Ve);const fe=B.e.relativeComplement(xe,ke);for(const Ve of fe)for(let Ae=Ve.start;Ae<Ve.end;Ae++)this.removeItemFromDOM(Ae);const Te=he.map(Ve=>d(Ve,ye)),Je=[{start:N,end:N+Z.length},...Te].map(Ve=>B.e.intersect(ke,Ve)),pe=this.getNextToLastElement(Je);for(const Ve of Je)for(let Ae=Ve.start;Ae<Ve.end;Ae++){const ze=ee.get(this.items[Ae].templateId),Be=null==ze?void 0:ze.pop();this.insertItemInDOM(Ae,pe,Be)}for(const Ve of ee.values())for(const Ae of Ve)this.cache.release(Ae);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),re.map(Ve=>Ve.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=(0,I.jL)(()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){this.horizontalScrolling?this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth()):this.scrollableElementWidthDelayer.cancel()}updateScrollWidth(){if(!this.horizontalScrolling)return;let N=0;for(const V of this.items)void 0!==V.width&&(N=Math.max(N,V.width));this.scrollWidth=N,this.scrollableElement.setScrollDimensions({scrollWidth:0===N?0:N+10})}rerender(){if(this.supportDynamicHeights){for(const N of this.items)N.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}element(N){return this.items[N].element}domElement(N){const V=this.items[N].row;return V&&V.domNode}elementHeight(N){return this.items[N].size}elementTop(N){return this.rangeMap.positionAt(N)}indexAt(N){return this.rangeMap.indexAt(N)}indexAfter(N){return this.rangeMap.indexAfter(N)}layout(N,V){let Z={height:"number"==typeof N?N:(0,I.If)(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,Z.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(Z),void 0!==V&&(this.renderWidth=V,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:"number"==typeof V?V:(0,I.FK)(this.domNode)})}render(N,V,Z,ie,ue,oe=!1){const ee=this.getRenderRange(V,Z),K=B.e.relativeComplement(ee,N),ne=B.e.relativeComplement(N,ee),he=this.getNextToLastElement(K);if(oe){const ge=B.e.intersect(N,ee);for(let re=ge.start;re<ge.end;re++)this.updateItemInDOM(this.items[re],re)}for(const ge of K)for(let re=ge.start;re<ge.end;re++)this.insertItemInDOM(re,he);for(const ge of ne)for(let re=ge.start;re<ge.end;re++)this.removeItemFromDOM(re);void 0!==ie&&(this.rowsContainer.style.left=`-${ie}px`),this.rowsContainer.style.top=`-${V}px`,this.horizontalScrolling&&void 0!==ue&&(this.rowsContainer.style.width=`${Math.max(ue,this.renderWidth)}px`),this.lastRenderTop=V,this.lastRenderHeight=Z}insertItemInDOM(N,V,Z){const ie=this.items[N];ie.row||(ie.row=null!=Z?Z:this.cache.alloc(ie.templateId));const ue=this.accessibilityProvider.getRole(ie.element)||"listitem";ie.row.domNode.setAttribute("role",ue);const oe=this.accessibilityProvider.isChecked(ie.element);void 0!==oe&&ie.row.domNode.setAttribute("aria-checked",String(!!oe)),ie.row.domNode.parentElement||(V?this.rowsContainer.insertBefore(ie.row.domNode,V):this.rowsContainer.appendChild(ie.row.domNode)),this.updateItemInDOM(ie,N);const ee=this.renderers.get(ie.templateId);if(!ee)throw new Error(`No renderer found for template id ${ie.templateId}`);ee&&ee.renderElement(ie.element,N,ie.row.templateData,ie.size);const K=this.dnd.getDragURI(ie.element);ie.dragStartDisposable.dispose(),ie.row.domNode.draggable=!!K,K&&(ie.dragStartDisposable=(0,I.nm)(ie.row.domNode,"dragstart",ne=>this.onDragStart(ie.element,K,ne))),this.horizontalScrolling&&(this.measureItemWidth(ie),this.eventuallyUpdateScrollWidth())}measureItemWidth(N){if(!N.row||!N.row.domNode)return;N.row.domNode.style.width=_.vU?"-moz-fit-content":"fit-content",N.width=(0,I.FK)(N.row.domNode);const V=window.getComputedStyle(N.row.domNode);V.paddingLeft&&(N.width+=parseFloat(V.paddingLeft)),V.paddingRight&&(N.width+=parseFloat(V.paddingRight)),N.row.domNode.style.width=""}updateItemInDOM(N,V){N.row.domNode.style.top=`${this.elementTop(V)}px`,this.setRowHeight&&(N.row.domNode.style.height=`${N.size}px`),this.setRowLineHeight&&(N.row.domNode.style.lineHeight=`${N.size}px`),N.row.domNode.setAttribute("data-index",`${V}`),N.row.domNode.setAttribute("data-last-element",V===this.length-1?"true":"false"),N.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(N.element,V,this.length))),N.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(N.element,V))),N.row.domNode.setAttribute("id",this.getElementDomId(V)),N.row.domNode.classList.toggle("drop-target",N.dropTarget)}removeItemFromDOM(N){const V=this.items[N];if(V.dragStartDisposable.dispose(),V.row){const Z=this.renderers.get(V.templateId);Z&&Z.disposeElement&&Z.disposeElement(V.element,N,V.row.templateData,V.size),this.cache.release(V.row),V.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(N,V){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:N,reuseAnimation:V})}get scrollTop(){return this.getScrollTop()}set scrollTop(N){this.setScrollTop(N)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.additionalScrollHeight}get onMouseClick(){return O.ju.map(this.disposables.add(new f.Y(this.domNode,"click")).event,N=>this.toMouseEvent(N))}get onMouseDblClick(){return O.ju.map(this.disposables.add(new f.Y(this.domNode,"dblclick")).event,N=>this.toMouseEvent(N))}get onMouseMiddleClick(){return O.ju.filter(O.ju.map(this.disposables.add(new f.Y(this.domNode,"auxclick")).event,N=>this.toMouseEvent(N)),N=>1===N.browserEvent.button)}get onMouseDown(){return O.ju.map(this.disposables.add(new f.Y(this.domNode,"mousedown")).event,N=>this.toMouseEvent(N))}get onContextMenu(){return O.ju.any(O.ju.map(this.disposables.add(new f.Y(this.domNode,"contextmenu")).event,N=>this.toMouseEvent(N)),O.ju.map(this.disposables.add(new f.Y(this.domNode,j.t.Contextmenu)).event,N=>this.toGestureEvent(N)))}get onTouchStart(){return O.ju.map(this.disposables.add(new f.Y(this.domNode,"touchstart")).event,N=>this.toTouchEvent(N))}get onTap(){return O.ju.map(this.disposables.add(new f.Y(this.rowsContainer,j.t.Tap)).event,N=>this.toGestureEvent(N))}toMouseEvent(N){const V=this.getItemIndexFromEventTarget(N.target||null),Z=void 0===V?void 0:this.items[V];return{browserEvent:N,index:V,element:Z&&Z.element}}toTouchEvent(N){const V=this.getItemIndexFromEventTarget(N.target||null),Z=void 0===V?void 0:this.items[V];return{browserEvent:N,index:V,element:Z&&Z.element}}toGestureEvent(N){const V=this.getItemIndexFromEventTarget(N.initialTarget||null),Z=void 0===V?void 0:this.items[V];return{browserEvent:N,index:V,element:Z&&Z.element}}toDragEvent(N){const V=this.getItemIndexFromEventTarget(N.target||null),Z=void 0===V?void 0:this.items[V];return{browserEvent:N,index:V,element:Z&&Z.element}}onScroll(N){try{const V=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(V,N.scrollTop,N.height,N.scrollLeft,N.scrollWidth),this.supportDynamicHeights&&this._rerender(N.scrollTop,N.height,N.inSmoothScrolling)}catch(V){throw console.error("Got bad scroll event:",N),V}}onTouchChange(N){N.preventDefault(),N.stopPropagation(),this.scrollTop-=N.translationY}onDragStart(N,V,Z){if(!Z.dataTransfer)return;const ie=this.dnd.getDragElements(N);if(Z.dataTransfer.effectAllowed="copyMove",Z.dataTransfer.setData(v.go.TEXT,V),Z.dataTransfer.setDragImage){let ue;this.dnd.getDragLabel&&(ue=this.dnd.getDragLabel(ie,Z)),void 0===ue&&(ue=String(ie.length));const oe=(0,I.$)(".monaco-drag-image");oe.textContent=ue,document.body.appendChild(oe),Z.dataTransfer.setDragImage(oe,-10,-10),setTimeout(()=>document.body.removeChild(oe),0)}this.currentDragData=new F(ie),v.P$.CurrentDragAndDropData=new G(ie),this.dnd.onDragStart&&this.dnd.onDragStart(this.currentDragData,Z)}onDragOver(N){if(N.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),v.P$.CurrentDragAndDropData&&"vscode-ui"===v.P$.CurrentDragAndDropData.getData()||(this.setupDragAndDropScrollTopAnimation(N.browserEvent),!N.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(v.P$.CurrentDragAndDropData)this.currentDragData=v.P$.CurrentDragAndDropData;else{if(!N.browserEvent.dataTransfer.types)return!1;this.currentDragData=new Y}const V=this.dnd.onDragOver(this.currentDragData,N.element,N.index,N.browserEvent);if(this.canDrop="boolean"==typeof V?V:V.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;let Z;if(N.browserEvent.dataTransfer.dropEffect="boolean"!=typeof V&&0===V.effect?"copy":"move",Z="boolean"!=typeof V&&V.feedback?V.feedback:void 0===N.index?[-1]:[N.index],Z=(0,S.EB)(Z).filter(ie=>ie>=-1&&ie<this.length).sort((ie,ue)=>ie-ue),Z=-1===Z[0]?[-1]:Z,function(be,N){return Array.isArray(be)&&Array.isArray(N)?(0,S.fS)(be,N):be===N}(this.currentDragFeedback,Z))return!0;if(this.currentDragFeedback=Z,this.currentDragFeedbackDisposable.dispose(),-1===Z[0])this.domNode.classList.add("drop-target"),this.rowsContainer.classList.add("drop-target"),this.currentDragFeedbackDisposable=(0,U.OF)(()=>{this.domNode.classList.remove("drop-target"),this.rowsContainer.classList.remove("drop-target")});else{for(const ie of Z){const ue=this.items[ie];ue.dropTarget=!0,ue.row&&ue.row.domNode.classList.add("drop-target")}this.currentDragFeedbackDisposable=(0,U.OF)(()=>{for(const ie of Z){const ue=this.items[ie];ue.dropTarget=!1,ue.row&&ue.row.domNode.classList.remove("drop-target")}})}return!0}onDragLeave(N){var V,Z;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=(0,M.Vg)(()=>this.clearDragOverFeedback(),100),this.currentDragData&&(null===(Z=(V=this.dnd).onDragLeave)||void 0===Z||Z.call(V,this.currentDragData,N.element,N.index,N.browserEvent))}onDrop(N){if(!this.canDrop)return;const V=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,v.P$.CurrentDragAndDropData=void 0,V&&N.browserEvent.dataTransfer&&(N.browserEvent.preventDefault(),V.update(N.browserEvent.dataTransfer),this.dnd.drop(V,N.element,N.index,N.browserEvent))}onDragEnd(N){this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,v.P$.CurrentDragAndDropData=void 0,this.dnd.onDragEnd&&this.dnd.onDragEnd(N)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=U.JT.None}setupDragAndDropScrollTopAnimation(N){if(!this.dragOverAnimationDisposable){const V=(0,I.xQ)(this.domNode).top;this.dragOverAnimationDisposable=(0,I.jt)(this.animateDragAndDropScrollTop.bind(this,V))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=(0,M.Vg)(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3),this.dragOverMouseY=N.pageY}animateDragAndDropScrollTop(N){if(void 0===this.dragOverMouseY)return;const V=this.dragOverMouseY-N,Z=this.renderHeight-35;V<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(V-35))):V>Z&&(this.scrollTop+=Math.min(14,Math.floor(.3*(V-Z))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getItemIndexFromEventTarget(N){const V=this.scrollableElement.getDomNode();let Z=N;for(;Z instanceof HTMLElement&&Z!==this.rowsContainer&&V.contains(Z);){const ie=Z.getAttribute("data-index");if(ie){const ue=Number(ie);if(!isNaN(ue))return ue}Z=Z.parentElement}}getRenderRange(N,V){return{start:this.rangeMap.indexAt(N),end:this.rangeMap.indexAfter(N+V-1)}}_rerender(N,V,Z){const ie=this.getRenderRange(N,V);let ue,oe;N===this.elementTop(ie.start)?(ue=ie.start,oe=0):ie.end-ie.start>1&&(ue=ie.start+1,oe=this.elementTop(ue)-N);let ee=0;for(;;){const K=this.getRenderRange(N,V);let ne=!1;for(let he=K.start;he<K.end;he++){const ge=this.probeDynamicHeight(he);0!==ge&&this.rangeMap.splice(he,1,[this.items[he]]),ee+=ge,ne=ne||0!==ge}if(!ne){0!==ee&&this.eventuallyUpdateScrollDimensions();const he=B.e.relativeComplement(ie,K);for(const re of he)for(let ye=re.start;ye<re.end;ye++)this.items[ye].row&&this.removeItemFromDOM(ye);const ge=B.e.relativeComplement(K,ie);for(const re of ge)for(let ye=re.start;ye<re.end;ye++){const ke=ye+1,xe=ke<this.items.length?this.items[ke].row:null;this.insertItemInDOM(ye,xe?xe.domNode:null)}for(let re=K.start;re<K.end;re++)this.items[re].row&&this.updateItemInDOM(this.items[re],re);if("number"==typeof ue){const re=this.scrollable.getFutureScrollPosition().scrollTop-N,ye=this.elementTop(ue)-oe+re;this.setScrollTop(ye,Z)}return void this._onDidChangeContentHeight.fire(this.contentHeight)}}}probeDynamicHeight(N){const V=this.items[N];if(!V.hasDynamicHeight||V.lastDynamicHeightWidth===this.renderWidth||this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(V.element))return 0;const Z=V.size;if(!this.setRowHeight&&V.row){let oe=V.row.domNode.offsetHeight;return V.size=oe,V.lastDynamicHeightWidth=this.renderWidth,oe-Z}const ie=this.cache.alloc(V.templateId);ie.domNode.style.height="",this.rowsContainer.appendChild(ie.domNode);const ue=this.renderers.get(V.templateId);return ue&&(ue.renderElement(V.element,N,ie.templateData,void 0),ue.disposeElement&&ue.disposeElement(V.element,N,ie.templateData,void 0)),V.size=ie.domNode.offsetHeight,this.virtualDelegate.setDynamicHeight&&this.virtualDelegate.setDynamicHeight(V.element,V.size),V.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(ie.domNode),this.cache.release(ie),V.size-Z}getNextToLastElement(N){const V=N[N.length-1];if(!V)return null;const Z=this.items[V.end];return Z&&Z.row?Z.row.domNode:null}getElementDomId(N){return`${this.domId}_${N}`}dispose(){if(this.items){for(const N of this.items)if(N.row){const V=this.renderers.get(N.row.templateId);V&&(V.disposeElement&&V.disposeElement(N.element,-1,N.row.templateData,void 0),V.disposeTemplate(N.row.templateData))}this.items=[]}this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),(0,U.B9)(this.disposables)}}ce.InstanceCount=0,m([E.H],ce.prototype,"onMouseClick",null),m([E.H],ce.prototype,"onMouseDblClick",null),m([E.H],ce.prototype,"onMouseMiddleClick",null),m([E.H],ce.prototype,"onMouseDown",null),m([E.H],ce.prototype,"onContextMenu",null),m([E.H],ce.prototype,"onTouchStart",null),m([E.H],ce.prototype,"onTap",null)},6343:(Ct,Qe,a)=>{"use strict";a.d(Qe,{WK:()=>N,wD:()=>ne,aV:()=>Ce,sx:()=>K,cK:()=>de,hD:()=>le,wn:()=>ue,Zo:()=>ie}),a(1369);var U=a(1719),j=a(1882),O=a(2291),k=a(9749),$=a(9190),B=a(1745),R=a(9740),d=a(6723),C=a(759);class g extends Error{constructor(pe,Ve){super(`ListError [${pe}] ${Ve}`)}}var b=a(8426),I=a(3727),p=a(3788);class w{constructor(pe){this.spliceables=pe}splice(pe,Ve,Ae){this.spliceables.forEach(Ee=>Ee.splice(pe,Ve,Ae))}}var E=a(1902),S=a(9785),v=a(7579),M=a(1165),_=a(7922),f=function(Je,pe,Ve,Ae){var Be,Ee=arguments.length,ze=Ee<3?pe:null===Ae?Ae=Object.getOwnPropertyDescriptor(pe,Ve):Ae;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ze=Reflect.decorate(Je,pe,Ve,Ae);else for(var Ue=Je.length-1;Ue>=0;Ue--)(Be=Je[Ue])&&(ze=(Ee<3?Be(ze):Ee>3?Be(pe,Ve,ze):Be(pe,Ve))||ze);return Ee>3&&ze&&Object.defineProperty(pe,Ve,ze),ze},m=function(Je,pe,Ve,Ae){return new(Ve||(Ve=Promise))(function(ze,Be){function Ue(At){try{vt(Ae.next(At))}catch(ve){Be(ve)}}function ot(At){try{vt(Ae.throw(At))}catch(ve){Be(ve)}}function vt(At){At.done?ze(At.value):function(ze){return ze instanceof Ve?ze:new Ve(function(Be){Be(ze)})}(At.value).then(Ue,ot)}vt((Ae=Ae.apply(Je,pe||[])).next())})};class L{constructor(pe){this.trait=pe,this.renderedElements=[]}get templateId(){return`template:${this.trait.trait}`}renderTemplate(pe){return pe}renderElement(pe,Ve,Ae){const Ee=this.renderedElements.findIndex(ze=>ze.templateData===Ae);if(Ee>=0){const ze=this.renderedElements[Ee];this.trait.unrender(Ae),ze.index=Ve}else this.renderedElements.push({index:Ve,templateData:Ae});this.trait.renderIndex(Ve,Ae)}splice(pe,Ve,Ae){const Ee=[];for(const ze of this.renderedElements)ze.index<pe?Ee.push(ze):ze.index>=pe+Ve&&Ee.push({index:ze.index+Ae-Ve,templateData:ze.templateData});this.renderedElements=Ee}renderIndexes(pe){for(const{index:Ve,templateData:Ae}of this.renderedElements)pe.indexOf(Ve)>-1&&this.trait.renderIndex(Ve,Ae)}disposeTemplate(pe){const Ve=this.renderedElements.findIndex(Ae=>Ae.templateData===pe);Ve<0||this.renderedElements.splice(Ve,1)}}class F{constructor(pe){this._trait=pe,this.length=0,this.indexes=[],this.sortedIndexes=[],this._onChange=new d.Q5,this.onChange=this._onChange.event}get trait(){return this._trait}get renderer(){return new L(this)}splice(pe,Ve,Ae){var Ee;Ve=Math.max(0,Math.min(Ve,this.length-pe));const ze=Ae.length-Ve,Be=pe+Ve,Ue=[...this.sortedIndexes.filter(vt=>vt<pe),...Ae.map((vt,At)=>vt?At+pe:-1).filter(vt=>-1!==vt),...this.sortedIndexes.filter(vt=>vt>=Be).map(vt=>vt+ze)],ot=this.length+ze;if(this.sortedIndexes.length>0&&0===Ue.length&&ot>0){const vt=null!==(Ee=this.sortedIndexes.find(At=>At>=pe))&&void 0!==Ee?Ee:ot-1;Ue.push(Math.min(vt,ot-1))}this.renderer.splice(pe,Ve,Ae.length),this._set(Ue,Ue),this.length=ot}renderIndex(pe,Ve){Ve.classList.toggle(this._trait,this.contains(pe))}unrender(pe){pe.classList.remove(this._trait)}set(pe,Ve){return this._set(pe,[...pe].sort(xe),Ve)}_set(pe,Ve,Ae){const Ee=this.indexes,ze=this.sortedIndexes;this.indexes=pe,this.sortedIndexes=Ve;const Be=ye(ze,pe);return this.renderer.renderIndexes(Be),this._onChange.fire({indexes:pe,browserEvent:Ae}),Ee}get(){return this.indexes}contains(pe){return(0,O.ry)(this.sortedIndexes,pe,xe)>=0}dispose(){(0,U.B9)(this._onChange)}}f([k.H],F.prototype,"renderer",null);class G extends F{constructor(pe){super("selected"),this.setAriaSelected=pe}renderIndex(pe,Ve){super.renderIndex(pe,Ve),this.setAriaSelected&&(this.contains(pe)?Ve.setAttribute("aria-selected","true"):Ve.setAttribute("aria-selected","false"))}}class Y{constructor(pe,Ve,Ae){this.trait=pe,this.view=Ve,this.identityProvider=Ae}splice(pe,Ve,Ae){if(!this.identityProvider)return this.trait.splice(pe,Ve,Ae.map(()=>!1));const Ee=this.trait.get().map(Be=>this.identityProvider.getId(this.view.element(Be)).toString()),ze=Ae.map(Be=>Ee.indexOf(this.identityProvider.getId(Be).toString())>-1);this.trait.splice(pe,Ve,ze)}}function de(Je){return"INPUT"===Je.tagName||"TEXTAREA"===Je.tagName}function le(Je){return!!Je.classList.contains("monaco-editor")||!(Je.classList.contains("monaco-list")||!Je.parentElement)&&le(Je.parentElement)}class ce{constructor(pe,Ve,Ae){this.list=pe,this.view=Ve,this.disposables=new U.SL,this.multipleSelectionDisposables=new U.SL,this.onKeyDown.filter(Ee=>3===Ee.keyCode).on(this.onEnter,this,this.disposables),this.onKeyDown.filter(Ee=>16===Ee.keyCode).on(this.onUpArrow,this,this.disposables),this.onKeyDown.filter(Ee=>18===Ee.keyCode).on(this.onDownArrow,this,this.disposables),this.onKeyDown.filter(Ee=>11===Ee.keyCode).on(this.onPageUpArrow,this,this.disposables),this.onKeyDown.filter(Ee=>12===Ee.keyCode).on(this.onPageDownArrow,this,this.disposables),this.onKeyDown.filter(Ee=>9===Ee.keyCode).on(this.onEscape,this,this.disposables),Ae.multipleSelectionSupport&&this.onKeyDown.filter(Ee=>($.dz?Ee.metaKey:Ee.ctrlKey)&&31===Ee.keyCode).on(this.onCtrlA,this,this.multipleSelectionDisposables)}get onKeyDown(){return d.ju.chain(this.disposables.add(new C.Y(this.view.domNode,"keydown")).event).filter(pe=>!de(pe.target)).map(pe=>new R.y(pe))}updateOptions(pe){void 0!==pe.multipleSelectionSupport&&(this.multipleSelectionDisposables.clear(),pe.multipleSelectionSupport&&this.onKeyDown.filter(Ve=>($.dz?Ve.metaKey:Ve.ctrlKey)&&31===Ve.keyCode).on(this.onCtrlA,this,this.multipleSelectionDisposables))}onEnter(pe){pe.preventDefault(),pe.stopPropagation(),this.list.setSelection(this.list.getFocus(),pe.browserEvent)}onUpArrow(pe){pe.preventDefault(),pe.stopPropagation(),this.list.focusPrevious(1,!1,pe.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()}onDownArrow(pe){pe.preventDefault(),pe.stopPropagation(),this.list.focusNext(1,!1,pe.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()}onPageUpArrow(pe){pe.preventDefault(),pe.stopPropagation(),this.list.focusPreviousPage(pe.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()}onPageDownArrow(pe){pe.preventDefault(),pe.stopPropagation(),this.list.focusNextPage(pe.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()}onCtrlA(pe){pe.preventDefault(),pe.stopPropagation(),this.list.setSelection((0,O.w6)(this.list.length),pe.browserEvent),this.view.domNode.focus()}onEscape(pe){this.list.getSelection().length&&(pe.preventDefault(),pe.stopPropagation(),this.list.setSelection([],pe.browserEvent),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}f([k.H],ce.prototype,"onKeyDown",null);var be=(()=>{return(Je=be||(be={}))[Je.Idle=0]="Idle",Je[Je.Typing=1]="Typing",be;var Je})();const N=new class{mightProducePrintableCharacter(Je){return!(Je.ctrlKey||Je.metaKey||Je.altKey)&&(Je.keyCode>=31&&Je.keyCode<=56||Je.keyCode>=21&&Je.keyCode<=30||Je.keyCode>=93&&Je.keyCode<=102||Je.keyCode>=80&&Je.keyCode<=90)}};class V{constructor(pe,Ve,Ae,Ee){this.list=pe,this.view=Ve,this.keyboardNavigationLabelProvider=Ae,this.delegate=Ee,this.enabled=!1,this.state=be.Idle,this.automaticKeyboardNavigation=!0,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new U.SL,this.disposables=new U.SL,this.updateOptions(pe.options)}updateOptions(pe){void 0===pe.enableKeyboardNavigation||pe.enableKeyboardNavigation?this.enable():this.disable(),void 0!==pe.automaticKeyboardNavigation&&(this.automaticKeyboardNavigation=pe.automaticKeyboardNavigation)}enable(){if(this.enabled)return;const pe=d.ju.chain(this.enabledDisposables.add(new C.Y(this.view.domNode,"keydown")).event).filter(Ee=>!de(Ee.target)).filter(()=>this.automaticKeyboardNavigation||this.triggered).map(Ee=>new R.y(Ee)).filter(Ee=>this.delegate.mightProducePrintableCharacter(Ee)).forEach(Ee=>{Ee.stopPropagation(),Ee.preventDefault()}).map(Ee=>Ee.browserEvent.key).event,Ve=d.ju.debounce(pe,()=>null,800);d.ju.reduce(d.ju.any(pe,Ve),(Ee,ze)=>null===ze?null:(Ee||"")+ze)(this.onInput,this,this.enabledDisposables),Ve(this.onClear,this,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){!this.enabled||(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var pe;const Ve=this.list.getFocus();if(Ve.length>0&&Ve[0]===this.previouslyFocused){const Ae=null===(pe=this.list.options.accessibilityProvider)||void 0===pe?void 0:pe.getAriaLabel(this.list.element(Ve[0]));Ae&&(0,v.Z9)(Ae)}this.previouslyFocused=-1}onInput(pe){if(!pe)return this.state=be.Idle,void(this.triggered=!1);const Ve=this.list.getFocus(),Ae=Ve.length>0?Ve[0]:0,Ee=this.state===be.Idle?1:0;this.state=be.Typing;for(let ze=0;ze<this.list.length;ze++){const Be=(Ae+ze+Ee)%this.list.length,Ue=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(Be)),ot=Ue&&Ue.toString();if(void 0===ot||(0,S.Ji)(pe,ot))return this.previouslyFocused=Ae,this.list.setFocus([Be]),void this.list.reveal(Be)}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class Z{constructor(pe,Ve){this.list=pe,this.view=Ve,this.disposables=new U.SL,d.ju.chain(this.disposables.add(new C.Y(Ve.domNode,"keydown")).event).filter(Ee=>!de(Ee.target)).map(Ee=>new R.y(Ee)).filter(Ee=>!(2!==Ee.keyCode||Ee.ctrlKey||Ee.metaKey||Ee.shiftKey||Ee.altKey)).on(this.onTab,this,this.disposables)}onTab(pe){if(pe.target!==this.view.domNode)return;const Ve=this.list.getFocus();if(0===Ve.length)return;const Ae=this.view.domElement(Ve[0]);if(!Ae)return;const Ee=Ae.querySelector("[tabIndex]");if(!(Ee&&Ee instanceof HTMLElement&&-1!==Ee.tabIndex))return;const ze=window.getComputedStyle(Ee);"hidden"===ze.visibility||"none"===ze.display||(pe.preventDefault(),pe.stopPropagation(),Ee.focus())}dispose(){this.disposables.dispose()}}function ie(Je){return $.dz?Je.browserEvent.metaKey:Je.browserEvent.ctrlKey}function ue(Je){return Je.browserEvent.shiftKey}const ee={isSelectionSingleChangeEvent:ie,isSelectionRangeChangeEvent:ue};class K{constructor(pe){this.list=pe,this.disposables=new U.SL,this._onPointer=new d.Q5,this.onPointer=this._onPointer.event,!1!==pe.options.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||ee),this.mouseSupport=void 0===pe.options.mouseSupport||!!pe.options.mouseSupport,this.mouseSupport&&(pe.onMouseDown(this.onMouseDown,this,this.disposables),pe.onContextMenu(this.onContextMenu,this,this.disposables),pe.onMouseDblClick(this.onDoubleClick,this,this.disposables),pe.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(B.o.addTarget(pe.getHTMLElement()))),d.ju.any(pe.onMouseClick,pe.onMouseMiddleClick,pe.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(pe){void 0!==pe.multipleSelectionSupport&&(this.multipleSelectionController=void 0,pe.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||ee))}isSelectionSingleChangeEvent(pe){return!!this.multipleSelectionController&&this.multipleSelectionController.isSelectionSingleChangeEvent(pe)}isSelectionRangeChangeEvent(pe){return!!this.multipleSelectionController&&this.multipleSelectionController.isSelectionRangeChangeEvent(pe)}isSelectionChangeEvent(pe){return this.isSelectionSingleChangeEvent(pe)||this.isSelectionRangeChangeEvent(pe)}onMouseDown(pe){le(pe.browserEvent.target)||document.activeElement!==pe.browserEvent.target&&this.list.domFocus()}onContextMenu(pe){le(pe.browserEvent.target)||this.list.setFocus(void 0===pe.index?[]:[pe.index],pe.browserEvent)}onViewPointer(pe){if(!this.mouseSupport||de(pe.browserEvent.target)||le(pe.browserEvent.target))return;const Ve=pe.index;return void 0===Ve?(this.list.setFocus([],pe.browserEvent),this.list.setSelection([],pe.browserEvent),void this.list.setAnchor(void 0)):this.isSelectionRangeChangeEvent(pe)||this.isSelectionChangeEvent(pe)?this.changeSelection(pe):(this.list.setFocus([Ve],pe.browserEvent),this.list.setAnchor(Ve),(Je=pe.browserEvent)instanceof MouseEvent&&2===Je.button||this.list.setSelection([Ve],pe.browserEvent),void this._onPointer.fire(pe));var Je}onDoubleClick(pe){if(de(pe.browserEvent.target)||le(pe.browserEvent.target)||this.isSelectionChangeEvent(pe))return;const Ve=this.list.getFocus();this.list.setSelection(Ve,pe.browserEvent)}changeSelection(pe){const Ve=pe.index;let Ae=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(pe)){if(void 0===Ae){const At=this.list.getFocus()[0];Ae=null!=At?At:Ve,this.list.setAnchor(Ae)}const Ee=Math.min(Ae,Ve),ze=Math.max(Ae,Ve),Be=(0,O.w6)(Ee,ze+1),Ue=this.list.getSelection(),ot=function(Je,pe){const Ve=Je.indexOf(pe);if(-1===Ve)return[];const Ae=[];let Ee=Ve-1;for(;Ee>=0&&Je[Ee]===pe-(Ve-Ee);)Ae.push(Je[Ee--]);for(Ae.reverse(),Ee=Ve;Ee<Je.length&&Je[Ee]===pe+(Ee-Ve);)Ae.push(Je[Ee++]);return Ae}(ye(Ue,[Ae]),Ae);if(0===ot.length)return;const vt=ye(Be,function(Je,pe){const Ve=[];let Ae=0,Ee=0;for(;Ae<Je.length||Ee<pe.length;)if(Ae>=Je.length)Ve.push(pe[Ee++]);else if(Ee>=pe.length)Ve.push(Je[Ae++]);else{if(Je[Ae]===pe[Ee]){Ae++,Ee++;continue}Je[Ae]<pe[Ee]?Ve.push(Je[Ae++]):Ee++}return Ve}(Ue,ot));this.list.setSelection(vt,pe.browserEvent),this.list.setFocus([Ve],pe.browserEvent)}else if(this.isSelectionSingleChangeEvent(pe)){const Ee=this.list.getSelection(),ze=Ee.filter(Be=>Be!==Ve);this.list.setFocus([Ve]),this.list.setAnchor(Ve),this.list.setSelection(Ee.length===ze.length?[...ze,Ve]:ze,pe.browserEvent)}}dispose(){this.disposables.dispose()}}class ne{constructor(pe,Ve){this.styleElement=pe,this.selectorSuffix=Ve}style(pe){const Ve=this.selectorSuffix&&`.${this.selectorSuffix}`,Ae=[];pe.listBackground&&(pe.listBackground.isOpaque()?Ae.push(`.monaco-list${Ve} .monaco-list-rows { background: ${pe.listBackground}; }`):$.dz||console.warn(`List with id '${this.selectorSuffix}' was styled with a non-opaque background color. This will break sub-pixel antialiasing.`)),pe.listFocusBackground&&(Ae.push(`.monaco-list${Ve}:focus .monaco-list-row.focused { background-color: ${pe.listFocusBackground}; }`),Ae.push(`.monaco-list${Ve}:focus .monaco-list-row.focused:hover { background-color: ${pe.listFocusBackground}; }`)),pe.listFocusForeground&&Ae.push(`.monaco-list${Ve}:focus .monaco-list-row.focused { color: ${pe.listFocusForeground}; }`),pe.listActiveSelectionBackground&&(Ae.push(`.monaco-list${Ve}:focus .monaco-list-row.selected { background-color: ${pe.listActiveSelectionBackground}; }`),Ae.push(`.monaco-list${Ve}:focus .monaco-list-row.selected:hover { background-color: ${pe.listActiveSelectionBackground}; }`)),pe.listActiveSelectionForeground&&Ae.push(`.monaco-list${Ve}:focus .monaco-list-row.selected { color: ${pe.listActiveSelectionForeground}; }`),pe.listActiveSelectionIconForeground&&Ae.push(`.monaco-list${Ve}:focus .monaco-list-row.selected .codicon { color: ${pe.listActiveSelectionIconForeground}; }`),pe.listFocusAndSelectionBackground&&Ae.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${Ve}:focus .monaco-list-row.selected.focused { background-color: ${pe.listFocusAndSelectionBackground}; }\n\t\t\t`),pe.listFocusAndSelectionForeground&&Ae.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${Ve}:focus .monaco-list-row.selected.focused { color: ${pe.listFocusAndSelectionForeground}; }\n\t\t\t`),pe.listInactiveFocusForeground&&(Ae.push(`.monaco-list${Ve} .monaco-list-row.focused { color:  ${pe.listInactiveFocusForeground}; }`),Ae.push(`.monaco-list${Ve} .monaco-list-row.focused:hover { color:  ${pe.listInactiveFocusForeground}; }`)),pe.listInactiveSelectionIconForeground&&Ae.push(`.monaco-list${Ve} .monaco-list-row.focused .codicon { color:  ${pe.listInactiveSelectionIconForeground}; }`),pe.listInactiveFocusBackground&&(Ae.push(`.monaco-list${Ve} .monaco-list-row.focused { background-color:  ${pe.listInactiveFocusBackground}; }`),Ae.push(`.monaco-list${Ve} .monaco-list-row.focused:hover { background-color:  ${pe.listInactiveFocusBackground}; }`)),pe.listInactiveSelectionBackground&&(Ae.push(`.monaco-list${Ve} .monaco-list-row.selected { background-color:  ${pe.listInactiveSelectionBackground}; }`),Ae.push(`.monaco-list${Ve} .monaco-list-row.selected:hover { background-color:  ${pe.listInactiveSelectionBackground}; }`)),pe.listInactiveSelectionForeground&&Ae.push(`.monaco-list${Ve} .monaco-list-row.selected { color: ${pe.listInactiveSelectionForeground}; }`),pe.listHoverBackground&&Ae.push(`.monaco-list${Ve}:not(.drop-target) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${pe.listHoverBackground}; }`),pe.listHoverForeground&&Ae.push(`.monaco-list${Ve} .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${pe.listHoverForeground}; }`),pe.listSelectionOutline&&Ae.push(`.monaco-list${Ve} .monaco-list-row.selected { outline: 1px dotted ${pe.listSelectionOutline}; outline-offset: -1px; }`),pe.listFocusOutline&&Ae.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${Ve}:focus .monaco-list-row.focused { outline: 1px solid ${pe.listFocusOutline}; outline-offset: -1px; }\n\t\t\t`),pe.listInactiveFocusOutline&&Ae.push(`.monaco-list${Ve} .monaco-list-row.focused { outline: 1px dotted ${pe.listInactiveFocusOutline}; outline-offset: -1px; }`),pe.listHoverOutline&&Ae.push(`.monaco-list${Ve} .monaco-list-row:hover { outline: 1px dashed ${pe.listHoverOutline}; outline-offset: -1px; }`),pe.listDropBackground&&Ae.push(`\n\t\t\t\t.monaco-list${Ve}.drop-target,\n\t\t\t\t.monaco-list${Ve} .monaco-list-rows.drop-target,\n\t\t\t\t.monaco-list${Ve} .monaco-list-row.drop-target { background-color: ${pe.listDropBackground} !important; color: inherit !important; }\n\t\t\t`),pe.listFilterWidgetBackground&&Ae.push(`.monaco-list-type-filter { background-color: ${pe.listFilterWidgetBackground} }`),pe.listFilterWidgetOutline&&Ae.push(`.monaco-list-type-filter { border: 1px solid ${pe.listFilterWidgetOutline}; }`),pe.listFilterWidgetNoMatchesOutline&&Ae.push(`.monaco-list-type-filter.no-matches { border: 1px solid ${pe.listFilterWidgetNoMatchesOutline}; }`),pe.listMatchesShadow&&Ae.push(`.monaco-list-type-filter { box-shadow: 1px 1px 1px ${pe.listMatchesShadow}; }`),pe.tableColumnsBorder&&Ae.push(`\n\t\t\t\t.monaco-table:hover > .monaco-split-view2,\n\t\t\t\t.monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {\n\t\t\t\t\tborder-color: ${pe.tableColumnsBorder};\n\t\t\t}`),this.styleElement.textContent=Ae.join("\n")}}const he={listFocusBackground:I.Il.fromHex("#7FB0D0"),listActiveSelectionBackground:I.Il.fromHex("#0E639C"),listActiveSelectionForeground:I.Il.fromHex("#FFFFFF"),listActiveSelectionIconForeground:I.Il.fromHex("#FFFFFF"),listFocusAndSelectionBackground:I.Il.fromHex("#094771"),listFocusAndSelectionForeground:I.Il.fromHex("#FFFFFF"),listInactiveSelectionBackground:I.Il.fromHex("#3F3F46"),listInactiveSelectionIconForeground:I.Il.fromHex("#FFFFFF"),listHoverBackground:I.Il.fromHex("#2A2D2E"),listDropBackground:I.Il.fromHex("#383B3D"),treeIndentGuidesStroke:I.Il.fromHex("#a9a9a9"),tableColumnsBorder:I.Il.fromHex("#cccccc").transparent(.2)},ge={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI:()=>null,onDragStart(){},onDragOver:()=>!1,drop(){}}};function ye(Je,pe){const Ve=[];let Ae=0,Ee=0;for(;Ae<Je.length||Ee<pe.length;)if(Ae>=Je.length)Ve.push(pe[Ee++]);else if(Ee>=pe.length)Ve.push(Je[Ae++]);else{if(Je[Ae]===pe[Ee]){Ve.push(Je[Ae]),Ae++,Ee++;continue}Ve.push(Je[Ae]<pe[Ee]?Je[Ae++]:pe[Ee++])}return Ve}const xe=(Je,pe)=>Je-pe;class Pe{constructor(pe,Ve){this._templateId=pe,this.renderers=Ve}get templateId(){return this._templateId}renderTemplate(pe){return this.renderers.map(Ve=>Ve.renderTemplate(pe))}renderElement(pe,Ve,Ae,Ee){let ze=0;for(const Be of this.renderers)Be.renderElement(pe,Ve,Ae[ze++],Ee)}disposeElement(pe,Ve,Ae,Ee){let ze=0;for(const Be of this.renderers)Be.disposeElement&&Be.disposeElement(pe,Ve,Ae[ze],Ee),ze+=1}disposeTemplate(pe){let Ve=0;for(const Ae of this.renderers)Ae.disposeTemplate(pe[Ve++])}}class fe{constructor(pe){this.accessibilityProvider=pe,this.templateId="a18n"}renderTemplate(pe){return pe}renderElement(pe,Ve,Ae){const Ee=this.accessibilityProvider.getAriaLabel(pe);Ee?Ae.setAttribute("aria-label",Ee):Ae.removeAttribute("aria-label");const ze=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(pe);"number"==typeof ze?Ae.setAttribute("aria-level",`${ze}`):Ae.removeAttribute("aria-level")}disposeTemplate(pe){}}class Te{constructor(pe,Ve){this.list=pe,this.dnd=Ve}getDragElements(pe){const Ve=this.list.getSelectedElements();return Ve.indexOf(pe)>-1?Ve:[pe]}getDragURI(pe){return this.dnd.getDragURI(pe)}getDragLabel(pe,Ve){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(pe,Ve)}onDragStart(pe,Ve){this.dnd.onDragStart&&this.dnd.onDragStart(pe,Ve)}onDragOver(pe,Ve,Ae,Ee){return this.dnd.onDragOver(pe,Ve,Ae,Ee)}onDragLeave(pe,Ve,Ae,Ee){var ze,Be;null===(Be=(ze=this.dnd).onDragLeave)||void 0===Be||Be.call(ze,pe,Ve,Ae,Ee)}onDragEnd(pe){this.dnd.onDragEnd&&this.dnd.onDragEnd(pe)}drop(pe,Ve,Ae,Ee){this.dnd.drop(pe,Ve,Ae,Ee)}}class Ce{constructor(pe,Ve,Ae,Ee,ze=ge){var Be;this.user=pe,this._options=ze,this.focus=new F("focused"),this.anchor=new F("anchor"),this.eventBufferer=new d.E7,this._ariaLabel="",this.disposables=new U.SL,this._onDidDispose=new d.Q5,this.onDidDispose=this._onDidDispose.event;const Ue=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?null===(Be=this._options.accessibilityProvider)||void 0===Be?void 0:Be.getWidgetRole():"list";this.selection=new G("listbox"!==Ue),(0,p.jB)(ze,he,!1);const ot=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=ze.accessibilityProvider,this.accessibilityProvider&&(ot.push(new fe(this.accessibilityProvider)),this.accessibilityProvider.onDidChangeActiveDescendant&&this.accessibilityProvider.onDidChangeActiveDescendant(this.onDidChangeActiveDescendant,this,this.disposables)),Ee=Ee.map(At=>new Pe(At.templateId,[...ot,At]));const vt=Object.assign(Object.assign({},ze),{dnd:ze.dnd&&new Te(this,ze.dnd)});if(this.view=new b.Bv(Ve,Ae,Ee,vt),this.view.domNode.setAttribute("role",Ue),ze.styleController)this.styleController=ze.styleController(this.view.domId);else{const At=(0,M.dS)(this.view.domNode);this.styleController=new ne(At,this.view.domId)}this.spliceable=new w([new Y(this.focus,this.view,ze.identityProvider),new Y(this.selection,this.view,ze.identityProvider),new Y(this.anchor,this.view,ze.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new Z(this,this.view)),("boolean"!=typeof ze.keyboardSupport||ze.keyboardSupport)&&(this.keyboardController=new ce(this,this.view,ze),this.disposables.add(this.keyboardController)),ze.keyboardNavigationLabelProvider&&(this.typeLabelController=new V(this,this.view,ze.keyboardNavigationLabelProvider,ze.keyboardNavigationDelegate||N),this.disposables.add(this.typeLabelController)),this.mouseController=this.createMouseController(ze),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),this._options.multipleSelectionSupport&&this.view.domNode.setAttribute("aria-multiselectable","true")}get onDidChangeFocus(){return d.ju.map(this.eventBufferer.wrapEvent(this.focus.onChange),pe=>this.toListEvent(pe))}get onDidChangeSelection(){return d.ju.map(this.eventBufferer.wrapEvent(this.selection.onChange),pe=>this.toListEvent(pe))}get domId(){return this.view.domId}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let pe=!1;const Ve=d.ju.chain(this.disposables.add(new C.Y(this.view.domNode,"keydown")).event).map(ze=>new R.y(ze)).filter(ze=>pe=58===ze.keyCode||ze.shiftKey&&68===ze.keyCode).map(C.p).filter(()=>!1).event,Ae=d.ju.chain(this.disposables.add(new C.Y(this.view.domNode,"keyup")).event).forEach(()=>pe=!1).map(ze=>new R.y(ze)).filter(ze=>58===ze.keyCode||ze.shiftKey&&68===ze.keyCode).map(C.p).map(({browserEvent:ze})=>{const Be=this.getFocus(),Ue=Be.length?Be[0]:void 0;return{index:Ue,element:void 0!==Ue?this.view.element(Ue):void 0,anchor:void 0!==Ue?this.view.domElement(Ue):this.view.domNode,browserEvent:ze}}).event,Ee=d.ju.chain(this.view.onContextMenu).filter(ze=>!pe).map(({element:ze,index:Be,browserEvent:Ue})=>({element:ze,index:Be,anchor:{x:Ue.pageX+1,y:Ue.pageY},browserEvent:Ue})).event;return d.ju.any(Ve,Ae,Ee)}get onKeyDown(){return this.disposables.add(new C.Y(this.view.domNode,"keydown")).event}get onDidFocus(){return d.ju.signal(this.disposables.add(new C.Y(this.view.domNode,"focus",!0)).event)}createMouseController(pe){return new K(this)}updateOptions(pe={}){var Ve;this._options=Object.assign(Object.assign({},this._options),pe),this.typeLabelController&&this.typeLabelController.updateOptions(this._options),void 0!==this._options.multipleSelectionController&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(pe),null===(Ve=this.keyboardController)||void 0===Ve||Ve.updateOptions(pe),this.view.updateOptions(pe)}get options(){return this._options}splice(pe,Ve,Ae=[]){if(pe<0||pe>this.view.length)throw new g(this.user,`Invalid start index: ${pe}`);if(Ve<0)throw new g(this.user,`Invalid delete count: ${Ve}`);0===Ve&&0===Ae.length||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(pe,Ve,Ae))}rerender(){this.view.rerender()}element(pe){return this.view.element(pe)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(pe){this.view.setScrollTop(pe)}get ariaLabel(){return this._ariaLabel}set ariaLabel(pe){this._ariaLabel=pe,this.view.domNode.setAttribute("aria-label",pe)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(pe,Ve){this.view.layout(pe,Ve)}setSelection(pe,Ve){for(const Ae of pe)if(Ae<0||Ae>=this.length)throw new g(this.user,`Invalid index ${Ae}`);this.selection.set(pe,Ve)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(pe=>this.view.element(pe))}setAnchor(pe){if(void 0!==pe){if(pe<0||pe>=this.length)throw new g(this.user,`Invalid index ${pe}`);this.anchor.set([pe])}else this.anchor.set([])}getAnchor(){return(0,O.Xh)(this.anchor.get(),void 0)}getAnchorElement(){const pe=this.getAnchor();return void 0===pe?void 0:this.element(pe)}setFocus(pe,Ve){for(const Ae of pe)if(Ae<0||Ae>=this.length)throw new g(this.user,`Invalid index ${Ae}`);this.focus.set(pe,Ve)}focusNext(pe=1,Ve=!1,Ae,Ee){if(0===this.length)return;const ze=this.focus.get(),Be=this.findNextIndex(ze.length>0?ze[0]+pe:0,Ve,Ee);Be>-1&&this.setFocus([Be],Ae)}focusPrevious(pe=1,Ve=!1,Ae,Ee){if(0===this.length)return;const ze=this.focus.get(),Be=this.findPreviousIndex(ze.length>0?ze[0]-pe:0,Ve,Ee);Be>-1&&this.setFocus([Be],Ae)}focusNextPage(pe,Ve){return m(this,void 0,void 0,function*(){let Ae=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);Ae=0===Ae?0:Ae-1;const Ee=this.view.element(Ae),ze=this.getFocusedElements()[0];if(ze!==Ee){const Be=this.findPreviousIndex(Ae,!1,Ve);Be>-1&&ze!==this.view.element(Be)?this.setFocus([Be],pe):this.setFocus([Ae],pe)}else{const Be=this.view.getScrollTop();this.view.setScrollTop(Be+this.view.renderHeight-this.view.elementHeight(Ae)),this.view.getScrollTop()!==Be&&(this.setFocus([]),yield(0,_.Vs)(0),yield this.focusNextPage(pe,Ve))}})}focusPreviousPage(pe,Ve){return m(this,void 0,void 0,function*(){let Ae;const Ee=this.view.getScrollTop();Ae=0===Ee?this.view.indexAt(Ee):this.view.indexAfter(Ee-1);const ze=this.view.element(Ae),Be=this.getFocusedElements()[0];if(Be!==ze){const Ue=this.findNextIndex(Ae,!1,Ve);Ue>-1&&Be!==this.view.element(Ue)?this.setFocus([Ue],pe):this.setFocus([Ae],pe)}else{const Ue=Ee;this.view.setScrollTop(Ee-this.view.renderHeight),this.view.getScrollTop()!==Ue&&(this.setFocus([]),yield(0,_.Vs)(0),yield this.focusPreviousPage(pe,Ve))}})}focusLast(pe,Ve){if(0===this.length)return;const Ae=this.findPreviousIndex(this.length-1,!1,Ve);Ae>-1&&this.setFocus([Ae],pe)}focusFirst(pe,Ve){this.focusNth(0,pe,Ve)}focusNth(pe,Ve,Ae){if(0===this.length)return;const Ee=this.findNextIndex(pe,!1,Ae);Ee>-1&&this.setFocus([Ee],Ve)}findNextIndex(pe,Ve=!1,Ae){for(let Ee=0;Ee<this.length;Ee++){if(pe>=this.length&&!Ve)return-1;if(pe%=this.length,!Ae||Ae(this.element(pe)))return pe;pe++}return-1}findPreviousIndex(pe,Ve=!1,Ae){for(let Ee=0;Ee<this.length;Ee++){if(pe<0&&!Ve)return-1;if(pe=(this.length+pe%this.length)%this.length,!Ae||Ae(this.element(pe)))return pe;pe--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(pe=>this.view.element(pe))}reveal(pe,Ve){if(pe<0||pe>=this.length)throw new g(this.user,`Invalid index ${pe}`);const Ae=this.view.getScrollTop(),Ee=this.view.elementTop(pe),ze=this.view.elementHeight(pe);if((0,j.hj)(Ve))this.view.setScrollTop((ze-this.view.renderHeight)*(0,E.u)(Ve,0,1)+Ee);else{const Be=Ee+ze,Ue=Ae+this.view.renderHeight;Ee<Ae&&Be>=Ue||(Ee<Ae||Be>=Ue&&ze>=this.view.renderHeight?this.view.setScrollTop(Ee):Be>=Ue&&this.view.setScrollTop(Be-this.view.renderHeight))}}getRelativeTop(pe){if(pe<0||pe>=this.length)throw new g(this.user,`Invalid index ${pe}`);const Ve=this.view.getScrollTop(),Ae=this.view.elementTop(pe),Ee=this.view.elementHeight(pe);return Ae<Ve||Ae+Ee>Ve+this.view.renderHeight?null:Math.abs((Ve-Ae)/(Ee-this.view.renderHeight))}getHTMLElement(){return this.view.domNode}style(pe){this.styleController.style(pe)}toListEvent({indexes:pe,browserEvent:Ve}){return{indexes:pe,elements:pe.map(Ae=>this.view.element(Ae)),browserEvent:Ve}}_onFocusChange(){const pe=this.focus.get();this.view.domNode.classList.toggle("element-focused",pe.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var pe;const Ve=this.focus.get();if(Ve.length>0){let Ae;(null===(pe=this.accessibilityProvider)||void 0===pe?void 0:pe.getActiveDescendantId)&&(Ae=this.accessibilityProvider.getActiveDescendantId(this.view.element(Ve[0]))),this.view.domNode.setAttribute("aria-activedescendant",Ae||this.view.getElementDomId(Ve[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const pe=this.selection.get();this.view.domNode.classList.toggle("selection-none",0===pe.length),this.view.domNode.classList.toggle("selection-single",1===pe.length),this.view.domNode.classList.toggle("selection-multiple",pe.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}f([k.H],Ce.prototype,"onDidChangeFocus",null),f([k.H],Ce.prototype,"onDidChangeSelection",null),f([k.H],Ce.prototype,"onContextMenu",null),f([k.H],Ce.prototype,"onKeyDown",null),f([k.H],Ce.prototype,"onDidFocus",null)},2e3:(Ct,Qe,a)=>{"use strict";a.d(Qe,{S:()=>U}),a(5049);const U="monaco-mouse-cursor-text"},6209:(Ct,Qe,a)=>{"use strict";a.d(Qe,{l:()=>b,g:()=>_}),a(8872);var U=a(1719),j=a(9190),O=a(1745),k=a(6723),$=a(1165),B=a(759),R=a(7922),d=a(9749),C=function(f,m,L,F){var de,G=arguments.length,Y=G<3?m:null===F?F=Object.getOwnPropertyDescriptor(m,L):F;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Y=Reflect.decorate(f,m,L,F);else for(var le=f.length-1;le>=0;le--)(de=f[le])&&(Y=(G<3?de(Y):G>3?de(m,L,Y):de(m,L))||Y);return G>3&&Y&&Object.defineProperty(m,L,Y),Y},b=(()=>{return(f=b||(b={})).North="north",f.South="south",f.East="east",f.West="west",b;var f})();const p=new k.Q5,E=new k.Q5;class S{constructor(){this.disposables=new U.SL}get onPointerMove(){return this.disposables.add(new B.Y(window,"mousemove")).event}get onPointerUp(){return this.disposables.add(new B.Y(window,"mouseup")).event}dispose(){this.disposables.dispose()}}C([d.H],S.prototype,"onPointerMove",null),C([d.H],S.prototype,"onPointerUp",null);class v{constructor(m){this.el=m,this.disposables=new U.SL}get onPointerMove(){return this.disposables.add(new B.Y(this.el,O.t.Change)).event}get onPointerUp(){return this.disposables.add(new B.Y(this.el,O.t.End)).event}dispose(){this.disposables.dispose()}}C([d.H],v.prototype,"onPointerMove",null),C([d.H],v.prototype,"onPointerUp",null);class M{constructor(m){this.factory=m}get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}dispose(){}}C([d.H],M.prototype,"onPointerMove",null),C([d.H],M.prototype,"onPointerUp",null);class _ extends U.JT{constructor(m,L,F){super(),this.hoverDelay=300,this.hoverDelayer=this._register(new R.vp(this.hoverDelay)),this._state=3,this._onDidEnablementChange=this._register(new k.Q5),this.onDidEnablementChange=this._onDidEnablementChange.event,this._onDidStart=this._register(new k.Q5),this.onDidStart=this._onDidStart.event,this._onDidChange=this._register(new k.Q5),this.onDidChange=this._onDidChange.event,this._onDidReset=this._register(new k.Q5),this.onDidReset=this._onDidReset.event,this._onDidEnd=this._register(new k.Q5),this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.orthogonalStartSashDisposables=this._register(new U.SL),this.orthogonalStartDragHandleDisposables=this._register(new U.SL),this.orthogonalEndSashDisposables=this._register(new U.SL),this.orthogonalEndDragHandleDisposables=this._register(new U.SL),this.el=(0,$.R3)(m,(0,$.$)(".monaco-sash")),F.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${F.orthogonalEdge}`),j.dz&&this.el.classList.add("mac");const G=this._register(new B.Y(this.el,"mousedown")).event;this._register(G(V=>this.onPointerStart(V,new S),this));const Y=this._register(new B.Y(this.el,"dblclick")).event;this._register(Y(this.onPointerDoublePress,this));const de=this._register(new B.Y(this.el,"mouseenter")).event;this._register(de(()=>_.onMouseEnter(this)));const le=this._register(new B.Y(this.el,"mouseleave")).event;this._register(le(()=>_.onMouseLeave(this))),this._register(O.o.addTarget(this.el));const ce=k.ju.map(this._register(new B.Y(this.el,O.t.Start)).event,V=>{var Z;return Object.assign(Object.assign({},V),{target:null!==(Z=V.initialTarget)&&void 0!==Z?Z:null})});this._register(ce(V=>this.onPointerStart(V,new v(this.el)),this));const be=this._register(new B.Y(this.el,O.t.Tap)).event,N=k.ju.map(k.ju.filter(k.ju.debounce(be,(V,Z)=>{var ie;return{event:Z,count:(null!==(ie=null==V?void 0:V.count)&&void 0!==ie?ie:0)+1}},250),({count:V})=>2===V),({event:V})=>{var Z;return Object.assign(Object.assign({},V),{target:null!==(Z=V.initialTarget)&&void 0!==Z?Z:null})});this._register(N(this.onPointerDoublePress,this)),"number"==typeof F.size?(this.size=F.size,0===F.orientation?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=4,this._register(p.event(V=>{this.size=V,this.layout()}))),this._register(E.event(V=>this.hoverDelay=V)),this.hidden=!1,this.layoutProvider=L,this.orthogonalStartSash=F.orthogonalStartSash,this.orthogonalEndSash=F.orthogonalEndSash,this.orientation=F.orientation||0,1===this.orientation?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",!1),this.layout()}get state(){return this._state}set state(m){this._state!==m&&(this.el.classList.toggle("disabled",0===m),this.el.classList.toggle("minimum",1===m),this.el.classList.toggle("maximum",2===m),this._state=m,this._onDidEnablementChange.fire(m))}get orthogonalStartSash(){return this._orthogonalStartSash}set orthogonalStartSash(m){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),m){const L=F=>{this.orthogonalStartDragHandleDisposables.clear(),0!==F&&(this._orthogonalStartDragHandle=(0,$.R3)(this.el,(0,$.$)(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add((0,U.OF)(()=>this._orthogonalStartDragHandle.remove())),this.orthogonalStartDragHandleDisposables.add(new B.Y(this._orthogonalStartDragHandle,"mouseenter")).event(()=>_.onMouseEnter(m),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new B.Y(this._orthogonalStartDragHandle,"mouseleave")).event(()=>_.onMouseLeave(m),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(m.onDidEnablementChange(L,this)),L(m.state)}this._orthogonalStartSash=m}get orthogonalEndSash(){return this._orthogonalEndSash}set orthogonalEndSash(m){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),m){const L=F=>{this.orthogonalEndDragHandleDisposables.clear(),0!==F&&(this._orthogonalEndDragHandle=(0,$.R3)(this.el,(0,$.$)(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add((0,U.OF)(()=>this._orthogonalEndDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new B.Y(this._orthogonalEndDragHandle,"mouseenter")).event(()=>_.onMouseEnter(m),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new B.Y(this._orthogonalEndDragHandle,"mouseleave")).event(()=>_.onMouseLeave(m),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(m.onDidEnablementChange(L,this)),L(m.state)}this._orthogonalEndSash=m}onPointerStart(m,L){$.zB.stop(m);let F=!1;if(!m.__orthogonalSashEvent){const ue=this.getOrthogonalSash(m);ue&&(F=!0,m.__orthogonalSashEvent=!0,ue.onPointerStart(m,new M(L)))}if(this.linkedSash&&!m.__linkedSashEvent&&(m.__linkedSashEvent=!0,this.linkedSash.onPointerStart(m,new M(L))),!this.state)return;const G=[...(0,$.H$)("iframe"),...(0,$.H$)("webview")];for(const ue of G)ue.style.pointerEvents="none";const Y=m.pageX,de=m.pageY,le=m.altKey,ce={startX:Y,currentX:Y,startY:de,currentY:de,altKey:le};this.el.classList.add("active"),this._onDidStart.fire(ce);const be=(0,$.dS)(this.el),N=()=>{let ue="";ue=F?"all-scroll":1===this.orientation?1===this.state?"s-resize":2===this.state?"n-resize":j.dz?"row-resize":"ns-resize":1===this.state?"e-resize":2===this.state?"w-resize":j.dz?"col-resize":"ew-resize",be.textContent=`* { cursor: ${ue} !important; }`},V=new U.SL;N(),F||this.onDidEnablementChange(N,null,V),L.onPointerMove(ue=>{$.zB.stop(ue,!1),this._onDidChange.fire({startX:Y,currentX:ue.pageX,startY:de,currentY:ue.pageY,altKey:le})},null,V),L.onPointerUp(ue=>{$.zB.stop(ue,!1),this.el.removeChild(be),this.el.classList.remove("active"),this._onDidEnd.fire(),V.dispose();for(const oe of G)oe.style.pointerEvents="auto"},null,V),V.add(L)}onPointerDoublePress(m){const L=this.getOrthogonalSash(m);L&&L._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(m,L=!1){m.el.classList.contains("active")?(m.hoverDelayer.cancel(),m.el.classList.add("hover")):m.hoverDelayer.trigger(()=>m.el.classList.add("hover"),m.hoverDelay).then(void 0,()=>{}),!L&&m.linkedSash&&_.onMouseEnter(m.linkedSash,!0)}static onMouseLeave(m,L=!1){m.hoverDelayer.cancel(),m.el.classList.remove("hover"),!L&&m.linkedSash&&_.onMouseLeave(m.linkedSash,!0)}clearSashHoverState(){_.onMouseLeave(this)}layout(){if(0===this.orientation){const m=this.layoutProvider;this.el.style.left=m.getVerticalSashLeft(this)-this.size/2+"px",m.getVerticalSashTop&&(this.el.style.top=m.getVerticalSashTop(this)+"px"),m.getVerticalSashHeight&&(this.el.style.height=m.getVerticalSashHeight(this)+"px")}else{const m=this.layoutProvider;this.el.style.top=m.getHorizontalSashTop(this)-this.size/2+"px",m.getHorizontalSashLeft&&(this.el.style.left=m.getHorizontalSashLeft(this)+"px"),m.getHorizontalSashWidth&&(this.el.style.width=m.getHorizontalSashWidth(this)+"px")}}hide(){this.hidden=!0,this.el.style.display="none",this.el.setAttribute("aria-hidden","true")}getOrthogonalSash(m){if(m.target&&m.target instanceof HTMLElement&&m.target.classList.contains("orthogonal-drag-handle"))return m.target.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash}dispose(){super.dispose(),this.el.remove()}}},4304:(Ct,Qe,a)=>{"use strict";a.d(Qe,{s$:()=>ue,NB:()=>Z,$Z:()=>ie}),a(1555);var U=a(1165),j=a(2874),O=a(7631),k=a(3058),$=a(3010),B=a(7922);class d extends $.${constructor(K){super(),this._onActivate=K.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=K.bgWidth+"px",this.bgDomNode.style.height=K.bgHeight+"px",void 0!==K.top&&(this.bgDomNode.style.top="0px"),void 0!==K.left&&(this.bgDomNode.style.left="0px"),void 0!==K.bottom&&(this.bgDomNode.style.bottom="0px"),void 0!==K.right&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=K.className,this.domNode.classList.add(...K.icon.classNamesArray),this.domNode.style.position="absolute",this.domNode.style.width="11px",this.domNode.style.height="11px",void 0!==K.top&&(this.domNode.style.top=K.top+"px"),void 0!==K.left&&(this.domNode.style.left=K.left+"px"),void 0!==K.bottom&&(this.domNode.style.bottom=K.bottom+"px"),void 0!==K.right&&(this.domNode.style.right=K.right+"px"),this._mouseMoveMonitor=this._register(new k.Z),this.onmousedown(this.bgDomNode,ne=>this._arrowMouseDown(ne)),this.onmousedown(this.domNode,ne=>this._arrowMouseDown(ne)),this._mousedownRepeatTimer=this._register(new B.zh),this._mousedownScheduleRepeatTimer=this._register(new B._F)}_arrowMouseDown(K){this._onActivate(),this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancelAndSet(()=>{this._mousedownRepeatTimer.cancelAndSet(()=>this._onActivate(),1e3/24)},200),this._mouseMoveMonitor.startMonitoring(K.target,K.buttons,k.e,he=>{},()=>{this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancel()}),K.preventDefault()}}var C=a(1719);class g extends C.JT{constructor(K,ne,he){super(),this._visibility=K,this._visibleClassName=ne,this._invisibleClassName=he,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new B._F)}setVisibility(K){this._visibility!==K&&(this._visibility=K,this._updateShouldBeVisible())}setShouldBeVisible(K){this._rawShouldBeVisible=K,this._updateShouldBeVisible()}_applyVisibilitySetting(){return 2!==this._visibility&&(3===this._visibility||this._rawShouldBeVisible)}_updateShouldBeVisible(){const K=this._applyVisibilitySetting();this._shouldBeVisible!==K&&(this._shouldBeVisible=K,this.ensureVisibility())}setIsNeeded(K){this._isNeeded!==K&&(this._isNeeded=K,this.ensureVisibility())}setDomNode(K){this._domNode=K,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){this._isNeeded?this._shouldBeVisible?this._reveal():this._hide(!0):this._hide(!1)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{this._domNode&&this._domNode.setClassName(this._visibleClassName)},0))}_hide(K){this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,this._domNode&&this._domNode.setClassName(this._invisibleClassName+(K?" fade":"")))}}var b=a(9190);class p extends $.${constructor(K){super(),this._lazyRender=K.lazyRender,this._host=K.host,this._scrollable=K.scrollable,this._scrollByPage=K.scrollByPage,this._scrollbarState=K.scrollbarState,this._visibilityController=this._register(new g(K.visibility,"visible scrollbar "+K.extraScrollbarClassName,"invisible scrollbar "+K.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._mouseMoveMonitor=this._register(new k.Z),this._shouldRender=!0,this.domNode=(0,j.X)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this.onmousedown(this.domNode.domNode,ne=>this._domNodeMouseDown(ne))}_createArrow(K){const ne=this._register(new d(K));this.domNode.domNode.appendChild(ne.bgDomNode),this.domNode.domNode.appendChild(ne.domNode)}_createSlider(K,ne,he,ge){this.slider=(0,j.X)(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(K),this.slider.setLeft(ne),"number"==typeof he&&this.slider.setWidth(he),"number"==typeof ge&&this.slider.setHeight(ge),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this.onmousedown(this.slider.domNode,re=>{re.leftButton&&(re.preventDefault(),this._sliderMouseDown(re,()=>{}))}),this.onclick(this.slider.domNode,re=>{re.leftButton&&re.stopPropagation()})}_onElementSize(K){return this._scrollbarState.setVisibleSize(K)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(K){return this._scrollbarState.setScrollSize(K)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(K){return this._scrollbarState.setScrollPosition(K)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){!this._shouldRender||(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodeMouseDown(K){K.target===this.domNode.domNode&&this._onMouseDown(K)}delegateMouseDown(K){const ne=this.domNode.domNode.getClientRects()[0].top,he=ne+this._scrollbarState.getSliderPosition(),ge=ne+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),re=this._sliderMousePosition(K);he<=re&&re<=ge?K.leftButton&&(K.preventDefault(),this._sliderMouseDown(K,()=>{})):this._onMouseDown(K)}_onMouseDown(K){let ne,he;if(K.target===this.domNode.domNode&&"number"==typeof K.browserEvent.offsetX&&"number"==typeof K.browserEvent.offsetY)ne=K.browserEvent.offsetX,he=K.browserEvent.offsetY;else{const re=U.i(this.domNode.domNode);ne=K.posx-re.left,he=K.posy-re.top}const ge=this._mouseDownRelativePosition(ne,he);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(ge):this._scrollbarState.getDesiredScrollPositionFromOffset(ge)),K.leftButton&&(K.preventDefault(),this._sliderMouseDown(K,()=>{}))}_sliderMouseDown(K,ne){const he=this._sliderMousePosition(K),ge=this._sliderOrthogonalMousePosition(K),re=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._mouseMoveMonitor.startMonitoring(K.target,K.buttons,k.e,ye=>{const ke=this._sliderOrthogonalMousePosition(ye),xe=Math.abs(ke-ge);if(b.ED&&xe>140)return void this._setDesiredScrollPositionNow(re.getScrollPosition());const fe=this._sliderMousePosition(ye)-he;this._setDesiredScrollPositionNow(re.getDesiredScrollPositionFromDelta(fe))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd(),ne()}),this._host.onDragStart()}_setDesiredScrollPositionNow(K){const ne={};this.writeScrollPosition(ne,K),this._scrollable.setScrollPositionNow(ne)}updateScrollbarSize(K){this._updateScrollbarSize(K),this._scrollbarState.setScrollbarSize(K),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}class E{constructor(K,ne,he,ge,re,ye){this._scrollbarSize=Math.round(ne),this._oppositeScrollbarSize=Math.round(he),this._arrowSize=Math.round(K),this._visibleSize=ge,this._scrollSize=re,this._scrollPosition=ye,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new E(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(K){const ne=Math.round(K);return this._visibleSize!==ne&&(this._visibleSize=ne,this._refreshComputedValues(),!0)}setScrollSize(K){const ne=Math.round(K);return this._scrollSize!==ne&&(this._scrollSize=ne,this._refreshComputedValues(),!0)}setScrollPosition(K){const ne=Math.round(K);return this._scrollPosition!==ne&&(this._scrollPosition=ne,this._refreshComputedValues(),!0)}setScrollbarSize(K){this._scrollbarSize=Math.round(K)}setOppositeScrollbarSize(K){this._oppositeScrollbarSize=Math.round(K)}static _computeValues(K,ne,he,ge,re){const ye=Math.max(0,he-K),ke=Math.max(0,ye-2*ne),xe=ge>0&&ge>he;if(!xe)return{computedAvailableSize:Math.round(ye),computedIsNeeded:xe,computedSliderSize:Math.round(ke),computedSliderRatio:0,computedSliderPosition:0};const Pe=Math.round(Math.max(20,Math.floor(he*ke/ge))),fe=(ke-Pe)/(ge-he),Te=re*fe;return{computedAvailableSize:Math.round(ye),computedIsNeeded:xe,computedSliderSize:Math.round(Pe),computedSliderRatio:fe,computedSliderPosition:Math.round(Te)}}_refreshComputedValues(){const K=E._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=K.computedAvailableSize,this._computedIsNeeded=K.computedIsNeeded,this._computedSliderSize=K.computedSliderSize,this._computedSliderRatio=K.computedSliderRatio,this._computedSliderPosition=K.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(K){return this._computedIsNeeded?Math.round((K-this._arrowSize-this._computedSliderSize/2)/this._computedSliderRatio):0}getDesiredScrollPositionFromOffsetPaged(K){if(!this._computedIsNeeded)return 0;let he=this._scrollPosition;return K-this._arrowSize<this._computedSliderPosition?he-=this._visibleSize:he+=this._visibleSize,he}getDesiredScrollPositionFromDelta(K){return this._computedIsNeeded?Math.round((this._computedSliderPosition+K)/this._computedSliderRatio):0}}var S=a(521);const v=(0,S.CM)("scrollbar-button-left",S.lA.triangleLeft),M=(0,S.CM)("scrollbar-button-right",S.lA.triangleRight);class _ extends p{constructor(K,ne,he){const ge=K.getScrollDimensions(),re=K.getCurrentScrollPosition();if(super({lazyRender:ne.lazyRender,host:he,scrollbarState:new E(ne.horizontalHasArrows?ne.arrowSize:0,2===ne.horizontal?0:ne.horizontalScrollbarSize,2===ne.vertical?0:ne.verticalScrollbarSize,ge.width,ge.scrollWidth,re.scrollLeft),visibility:ne.horizontal,extraScrollbarClassName:"horizontal",scrollable:K,scrollByPage:ne.scrollByPage}),ne.horizontalHasArrows){const ye=(ne.arrowSize-11)/2,ke=(ne.horizontalScrollbarSize-11)/2;this._createArrow({className:"scra",icon:v,top:ke,left:ye,bottom:void 0,right:void 0,bgWidth:ne.arrowSize,bgHeight:ne.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new O.q(null,1,0))}),this._createArrow({className:"scra",icon:M,top:ke,left:void 0,bottom:void 0,right:ye,bgWidth:ne.arrowSize,bgHeight:ne.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new O.q(null,-1,0))})}this._createSlider(Math.floor((ne.horizontalScrollbarSize-ne.horizontalSliderSize)/2),0,void 0,ne.horizontalSliderSize)}_updateSlider(K,ne){this.slider.setWidth(K),this.slider.setLeft(ne)}_renderDomNode(K,ne){this.domNode.setWidth(K),this.domNode.setHeight(ne),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(K){return this._shouldRender=this._onElementScrollSize(K.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(K.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(K.width)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(K,ne){return K}_sliderMousePosition(K){return K.posx}_sliderOrthogonalMousePosition(K){return K.posy}_updateScrollbarSize(K){this.slider.setHeight(K)}writeScrollPosition(K,ne){K.scrollLeft=ne}updateOptions(K){this.updateScrollbarSize(2===K.horizontal?0:K.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(2===K.vertical?0:K.verticalScrollbarSize),this._visibilityController.setVisibility(K.horizontal),this._scrollByPage=K.scrollByPage}}const f=(0,S.CM)("scrollbar-button-up",S.lA.triangleUp),m=(0,S.CM)("scrollbar-button-down",S.lA.triangleDown);class L extends p{constructor(K,ne,he){const ge=K.getScrollDimensions(),re=K.getCurrentScrollPosition();if(super({lazyRender:ne.lazyRender,host:he,scrollbarState:new E(ne.verticalHasArrows?ne.arrowSize:0,2===ne.vertical?0:ne.verticalScrollbarSize,0,ge.height,ge.scrollHeight,re.scrollTop),visibility:ne.vertical,extraScrollbarClassName:"vertical",scrollable:K,scrollByPage:ne.scrollByPage}),ne.verticalHasArrows){const ye=(ne.arrowSize-11)/2,ke=(ne.verticalScrollbarSize-11)/2;this._createArrow({className:"scra",icon:f,top:ye,left:ke,bottom:void 0,right:void 0,bgWidth:ne.verticalScrollbarSize,bgHeight:ne.arrowSize,onActivate:()=>this._host.onMouseWheel(new O.q(null,0,1))}),this._createArrow({className:"scra",icon:m,top:void 0,left:ke,bottom:ye,right:void 0,bgWidth:ne.verticalScrollbarSize,bgHeight:ne.arrowSize,onActivate:()=>this._host.onMouseWheel(new O.q(null,0,-1))})}this._createSlider(0,Math.floor((ne.verticalScrollbarSize-ne.verticalSliderSize)/2),ne.verticalSliderSize,void 0)}_updateSlider(K,ne){this.slider.setHeight(K),this.slider.setTop(ne)}_renderDomNode(K,ne){this.domNode.setWidth(ne),this.domNode.setHeight(K),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(K){return this._shouldRender=this._onElementScrollSize(K.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(K.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(K.height)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(K,ne){return ne}_sliderMousePosition(K){return K.posy}_sliderOrthogonalMousePosition(K){return K.posx}_updateScrollbarSize(K){this.slider.setWidth(K)}writeScrollPosition(K,ne){K.scrollTop=ne}updateOptions(K){this.updateScrollbarSize(2===K.vertical?0:K.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(K.vertical),this._scrollByPage=K.scrollByPage}}var F=a(6723),G=a(2372),Y=a(4991);class be{constructor(K,ne,he){this.timestamp=K,this.deltaX=ne,this.deltaY=he,this.score=0}}class N{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(-1===this._front&&-1===this._rear)return!1;let K=1,ne=0,he=1,ge=this._rear;for(;;){const re=ge===this._front?K:Math.pow(2,-he);if(K-=re,ne+=this._memory[ge].score*re,ge===this._front)break;ge=(this._capacity+ge-1)%this._capacity,he++}return ne<=.5}accept(K,ne,he){const ge=new be(K,ne,he);ge.score=this._computeScore(ge),-1===this._front&&-1===this._rear?(this._memory[0]=ge,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=ge)}_computeScore(K){if(Math.abs(K.deltaX)>0&&Math.abs(K.deltaY)>0)return 1;let ne=.5;return(!this._isAlmostInt(K.deltaX)||!this._isAlmostInt(K.deltaY))&&(ne+=.25),Math.min(Math.max(ne,0),1)}_isAlmostInt(K){return Math.abs(Math.round(K)-K)<.01}}N.INSTANCE=new N;class V extends $.${constructor(K,ne,he){super(),this._onScroll=this._register(new F.Q5),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new F.Q5),K.style.overflow="hidden",this._options=function(ee){const K={lazyRender:void 0!==ee.lazyRender&&ee.lazyRender,className:void 0!==ee.className?ee.className:"",useShadows:void 0===ee.useShadows||ee.useShadows,handleMouseWheel:void 0===ee.handleMouseWheel||ee.handleMouseWheel,flipAxes:void 0!==ee.flipAxes&&ee.flipAxes,consumeMouseWheelIfScrollbarIsNeeded:void 0!==ee.consumeMouseWheelIfScrollbarIsNeeded&&ee.consumeMouseWheelIfScrollbarIsNeeded,alwaysConsumeMouseWheel:void 0!==ee.alwaysConsumeMouseWheel&&ee.alwaysConsumeMouseWheel,scrollYToX:void 0!==ee.scrollYToX&&ee.scrollYToX,mouseWheelScrollSensitivity:void 0!==ee.mouseWheelScrollSensitivity?ee.mouseWheelScrollSensitivity:1,fastScrollSensitivity:void 0!==ee.fastScrollSensitivity?ee.fastScrollSensitivity:5,scrollPredominantAxis:void 0===ee.scrollPredominantAxis||ee.scrollPredominantAxis,mouseWheelSmoothScroll:void 0===ee.mouseWheelSmoothScroll||ee.mouseWheelSmoothScroll,arrowSize:void 0!==ee.arrowSize?ee.arrowSize:11,listenOnDomNode:void 0!==ee.listenOnDomNode?ee.listenOnDomNode:null,horizontal:void 0!==ee.horizontal?ee.horizontal:1,horizontalScrollbarSize:void 0!==ee.horizontalScrollbarSize?ee.horizontalScrollbarSize:10,horizontalSliderSize:void 0!==ee.horizontalSliderSize?ee.horizontalSliderSize:0,horizontalHasArrows:void 0!==ee.horizontalHasArrows&&ee.horizontalHasArrows,vertical:void 0!==ee.vertical?ee.vertical:1,verticalScrollbarSize:void 0!==ee.verticalScrollbarSize?ee.verticalScrollbarSize:10,verticalHasArrows:void 0!==ee.verticalHasArrows&&ee.verticalHasArrows,verticalSliderSize:void 0!==ee.verticalSliderSize?ee.verticalSliderSize:0,scrollByPage:void 0!==ee.scrollByPage&&ee.scrollByPage};return K.horizontalSliderSize=void 0!==ee.horizontalSliderSize?ee.horizontalSliderSize:K.horizontalScrollbarSize,K.verticalSliderSize=void 0!==ee.verticalSliderSize?ee.verticalSliderSize:K.verticalScrollbarSize,b.dz&&(K.className+=" mac"),K}(ne),this._scrollable=he,this._register(this._scrollable.onScroll(re=>{this._onWillScroll.fire(re),this._onDidScroll(re),this._onScroll.fire(re)}));const ge={onMouseWheel:re=>this._onMouseWheel(re),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new L(this._scrollable,this._options,ge)),this._horizontalScrollbar=this._register(new _(this._scrollable,this._options,ge)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(K),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=(0,j.X)(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=(0,j.X)(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=(0,j.X)(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,re=>this._onMouseOver(re)),this.onnonbubblingmouseout(this._listenOnDomNode,re=>this._onMouseOut(re)),this._hideTimeout=this._register(new B._F),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}dispose(){this._mouseWheelToDispose=(0,C.B9)(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarMouseDown(K){this._verticalScrollbar.delegateMouseDown(K)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(K){this._scrollable.setScrollDimensions(K,!1)}updateClassName(K){this._options.className=K,b.dz&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(K){void 0!==K.handleMouseWheel&&(this._options.handleMouseWheel=K.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),void 0!==K.mouseWheelScrollSensitivity&&(this._options.mouseWheelScrollSensitivity=K.mouseWheelScrollSensitivity),void 0!==K.fastScrollSensitivity&&(this._options.fastScrollSensitivity=K.fastScrollSensitivity),void 0!==K.scrollPredominantAxis&&(this._options.scrollPredominantAxis=K.scrollPredominantAxis),void 0!==K.horizontal&&(this._options.horizontal=K.horizontal),void 0!==K.vertical&&(this._options.vertical=K.vertical),void 0!==K.horizontalScrollbarSize&&(this._options.horizontalScrollbarSize=K.horizontalScrollbarSize),void 0!==K.verticalScrollbarSize&&(this._options.verticalScrollbarSize=K.verticalScrollbarSize),void 0!==K.scrollByPage&&(this._options.scrollByPage=K.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}_setListeningToMouseWheel(K){this._mouseWheelToDispose.length>0!==K&&(this._mouseWheelToDispose=(0,C.B9)(this._mouseWheelToDispose),K)&&this._mouseWheelToDispose.push(U.nm(this._listenOnDomNode,U.tw.MOUSE_WHEEL,ge=>{this._onMouseWheel(new O.q(ge))},{passive:!1}))}_onMouseWheel(K){const ne=N.INSTANCE;{const re=window.devicePixelRatio/(0,Y.ie)();b.ED||b.IJ?ne.accept(Date.now(),K.deltaX/re,K.deltaY/re):ne.accept(Date.now(),K.deltaX,K.deltaY)}let he=!1;if(K.deltaY||K.deltaX){let re=K.deltaY*this._options.mouseWheelScrollSensitivity,ye=K.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(Math.abs(re)>=Math.abs(ye)?ye=0:re=0),this._options.flipAxes&&([re,ye]=[ye,re]);const ke=!b.dz&&K.browserEvent&&K.browserEvent.shiftKey;(this._options.scrollYToX||ke)&&!ye&&(ye=re,re=0),K.browserEvent&&K.browserEvent.altKey&&(ye*=this._options.fastScrollSensitivity,re*=this._options.fastScrollSensitivity);const xe=this._scrollable.getFutureScrollPosition();let Pe={};re&&this._verticalScrollbar.writeScrollPosition(Pe,xe.scrollTop-50*re),ye&&this._horizontalScrollbar.writeScrollPosition(Pe,xe.scrollLeft-50*ye),Pe=this._scrollable.validateScrollPosition(Pe),(xe.scrollLeft!==Pe.scrollLeft||xe.scrollTop!==Pe.scrollTop)&&(this._options.mouseWheelSmoothScroll&&ne.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(Pe):this._scrollable.setScrollPositionNow(Pe),he=!0)}let ge=he;!ge&&this._options.alwaysConsumeMouseWheel&&(ge=!0),!ge&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(ge=!0),ge&&(K.preventDefault(),K.stopPropagation())}_onDidScroll(K){this._shouldRender=this._horizontalScrollbar.onDidScroll(K)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(K)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const K=this._scrollable.getCurrentScrollPosition(),ne=K.scrollTop>0,he=K.scrollLeft>0,ge=he?" left":"",re=ne?" top":"",ye=he||ne?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${ge}`),this._topShadowDomNode.setClassName(`shadow${re}`),this._topLeftShadowDomNode.setClassName(`shadow${ye}${re}${ge}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseOut(K){this._mouseIsOver=!1,this._hide()}_onMouseOver(K){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),500)}}class Z extends V{constructor(K,ne){(ne=ne||{}).mouseWheelSmoothScroll=!1;const he=new G.Rm(0,ge=>U.jL(ge));super(K,ne,he),this._register(he)}setScrollPosition(K){this._scrollable.setScrollPositionNow(K)}}class ie extends V{constructor(K,ne,he){super(K,ne,he)}setScrollPosition(K){K.reuseAnimation?this._scrollable.setScrollPositionSmooth(K,K.reuseAnimation):this._scrollable.setScrollPositionNow(K)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}class ue extends Z{constructor(K,ne){super(K,ne),this._element=K,this.onScroll(he=>{he.scrollTopChanged&&(this._element.scrollTop=he.scrollTop),he.scrollLeftChanged&&(this._element.scrollLeft=he.scrollLeft)}),this.scanDomNode()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}},8346:(Ct,Qe,a)=>{"use strict";a.d(Qe,{M:()=>S,z:()=>v}),a(3961);var U=a(1719),j=a(6723),O=a(1882),k=a(1902),$=a(2291),B=a(6209),R=a(3727),d=a(1165),C=a(4304),g=a(2372);const b={separatorBorder:R.Il.transparent};class I{constructor(_,f,m,L){this.container=_,this.view=f,this.disposable=L,this._cachedVisibleSize=void 0,"number"==typeof m?(this._size=m,this._cachedVisibleSize=void 0,_.classList.add("visible")):(this._size=0,this._cachedVisibleSize=m.cachedVisibleSize)}set size(_){this._size=_}get size(){return this._size}get visible(){return void 0===this._cachedVisibleSize}setVisible(_,f){_!==this.visible&&(_?(this.size=(0,k.u)(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize="number"==typeof f?f:this.size,this.size=0),this.container.classList.toggle("visible",_),this.view.setVisible&&this.view.setVisible(_))}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get snap(){return!!this.view.snap}set enabled(_){this.container.style.pointerEvents=_?"":"none"}layout(_,f){this.layoutContainer(_),this.view.layout(this.size,_,f)}dispose(){return this.disposable.dispose(),this.view}}class p extends I{layoutContainer(_){this.container.style.top=`${_}px`,this.container.style.height=`${this.size}px`}}class w extends I{layoutContainer(_){this.container.style.left=`${_}px`,this.container.style.width=`${this.size}px`}}var S,M,E=(()=>{return(M=E||(E={}))[M.Idle=0]="Idle",M[M.Busy=1]="Busy",E;var M})();(M=S||(S={})).Distribute={type:"distribute"},M.Split=function(m){return{type:"split",index:m}},M.Invisible=function(m){return{type:"invisible",cachedVisibleSize:m}};class v extends U.JT{constructor(_,f={}){var m,L;super(),this.size=0,this.contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=E.Idle,this._onDidSashChange=this._register(new j.Q5),this.onDidSashChange=this._onDidSashChange.event,this._onDidSashReset=this._register(new j.Q5),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.orientation=O.o8(f.orientation)?0:f.orientation,this.inverseAltBehavior=!!f.inverseAltBehavior,this.proportionalLayout=!!O.o8(f.proportionalLayout)||!!f.proportionalLayout,this.getSashOrthogonalSize=f.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(0===this.orientation?"vertical":"horizontal"),_.appendChild(this.el),this.sashContainer=(0,d.R3)(this.el,(0,d.$)(".sash-container")),this.viewContainer=(0,d.$)(".split-view-container"),this.scrollable=new g.Rm(125,d.jL),this.scrollableElement=this._register(new C.$Z(this.viewContainer,{vertical:0===this.orientation?null!==(m=f.scrollbarVisibility)&&void 0!==m?m:1:2,horizontal:1===this.orientation?null!==(L=f.scrollbarVisibility)&&void 0!==L?L:1:2},this.scrollable)),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll(F=>{this.viewContainer.scrollTop=F.scrollTop,this.viewContainer.scrollLeft=F.scrollLeft})),(0,d.R3)(this.el,this.scrollableElement.getDomNode()),this.style(f.styles||b),f.descriptor&&(this.size=f.descriptor.size,f.descriptor.views.forEach((F,G)=>{const Y=O.o8(F.visible)||F.visible?F.size:{type:"invisible",cachedVisibleSize:F.size};this.doAddView(F.view,Y,G,!0)}),this.contentSize=this.viewItems.reduce((F,G)=>F+G.size,0),this.saveProportions())}get orthogonalStartSash(){return this._orthogonalStartSash}set orthogonalStartSash(_){for(const f of this.sashItems)f.sash.orthogonalStartSash=_;this._orthogonalStartSash=_}get orthogonalEndSash(){return this._orthogonalEndSash}set orthogonalEndSash(_){for(const f of this.sashItems)f.sash.orthogonalEndSash=_;this._orthogonalEndSash=_}get startSnappingEnabled(){return this._startSnappingEnabled}set startSnappingEnabled(_){this._startSnappingEnabled!==_&&(this._startSnappingEnabled=_,this.updateSashEnablement())}get endSnappingEnabled(){return this._endSnappingEnabled}set endSnappingEnabled(_){this._endSnappingEnabled!==_&&(this._endSnappingEnabled=_,this.updateSashEnablement())}style(_){_.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",_.separatorBorder.toString()))}addView(_,f,m=this.viewItems.length,L){this.doAddView(_,f,m,L)}layout(_,f){const m=Math.max(this.size,this.contentSize);if(this.size=_,this.layoutContext=f,this.proportions)for(let L=0;L<this.viewItems.length;L++){const F=this.viewItems[L];F.size=(0,k.u)(Math.round(this.proportions[L]*_),F.minimumSize,F.maximumSize)}else{const L=(0,$.w6)(this.viewItems.length),F=L.filter(Y=>1===this.viewItems[Y].priority),G=L.filter(Y=>2===this.viewItems[Y].priority);this.resize(this.viewItems.length-1,_-m,void 0,F,G)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map(_=>_.size/this.contentSize))}onSashStart({sash:_,start:f,alt:m}){for(const Y of this.viewItems)Y.enabled=!1;const L=this.sashItems.findIndex(Y=>Y.sash===_),F=(0,U.F8)((0,d.nm)(document.body,"keydown",Y=>G(this.sashDragState.current,Y.altKey)),(0,d.nm)(document.body,"keyup",()=>G(this.sashDragState.current,!1))),G=(Y,de)=>{const le=this.viewItems.map(Z=>Z.size);let N,V,ce=Number.NEGATIVE_INFINITY,be=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(de=!de),de)if(L===this.sashItems.length-1){const ie=this.viewItems[L];ce=(ie.minimumSize-ie.size)/2,be=(ie.maximumSize-ie.size)/2}else{const ie=this.viewItems[L+1];ce=(ie.size-ie.maximumSize)/2,be=(ie.size-ie.minimumSize)/2}if(!de){const Z=(0,$.w6)(L,-1),ie=(0,$.w6)(L+1,this.viewItems.length),ue=Z.reduce((ye,ke)=>ye+(this.viewItems[ke].minimumSize-le[ke]),0),oe=Z.reduce((ye,ke)=>ye+(this.viewItems[ke].viewMaximumSize-le[ke]),0),ee=0===ie.length?Number.POSITIVE_INFINITY:ie.reduce((ye,ke)=>ye+(le[ke]-this.viewItems[ke].minimumSize),0),K=0===ie.length?Number.NEGATIVE_INFINITY:ie.reduce((ye,ke)=>ye+(le[ke]-this.viewItems[ke].viewMaximumSize),0),ne=Math.max(ue,K),he=Math.min(ee,oe),ge=this.findFirstSnapIndex(Z),re=this.findFirstSnapIndex(ie);if("number"==typeof ge){const ye=this.viewItems[ge],ke=Math.floor(ye.viewMinimumSize/2);N={index:ge,limitDelta:ye.visible?ne-ke:ne+ke,size:ye.size}}if("number"==typeof re){const ye=this.viewItems[re],ke=Math.floor(ye.viewMinimumSize/2);V={index:re,limitDelta:ye.visible?he+ke:he-ke,size:ye.size}}}this.sashDragState={start:Y,current:Y,index:L,sizes:le,minDelta:ce,maxDelta:be,alt:de,snapBefore:N,snapAfter:V,disposable:F}};G(f,m)}onSashChange({current:_}){const{index:f,start:m,sizes:L,alt:F,minDelta:G,maxDelta:Y,snapBefore:de,snapAfter:le}=this.sashDragState;this.sashDragState.current=_;const be=this.resize(f,_-m,L,void 0,void 0,G,Y,de,le);if(F){const N=f===this.sashItems.length-1,V=this.viewItems.map(K=>K.size),ie=this.viewItems[N?f:f+1];this.resize(N?f-1:f+1,-be,V,void 0,void 0,ie.size-ie.maximumSize,ie.size-ie.minimumSize)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(_){this._onDidSashChange.fire(_),this.sashDragState.disposable.dispose(),this.saveProportions();for(const f of this.viewItems)f.enabled=!0}onViewChange(_,f){const m=this.viewItems.indexOf(_);m<0||m>=this.viewItems.length||(f=(0,k.u)(f="number"==typeof f?f:_.size,_.minimumSize,_.maximumSize),this.inverseAltBehavior&&m>0?(this.resize(m-1,Math.floor((_.size-f)/2)),this.distributeEmptySpace(),this.layoutViews()):(_.size=f,this.relayout([m],void 0)))}resizeView(_,f){if(this.state!==E.Idle)throw new Error("Cant modify splitview");if(this.state=E.Busy,_<0||_>=this.viewItems.length)return;const m=(0,$.w6)(this.viewItems.length).filter(Y=>Y!==_),L=[...m.filter(Y=>1===this.viewItems[Y].priority),_],F=m.filter(Y=>2===this.viewItems[Y].priority),G=this.viewItems[_];f=Math.round(f),f=(0,k.u)(f,G.minimumSize,Math.min(G.maximumSize,this.size)),G.size=f,this.relayout(L,F),this.state=E.Idle}distributeViewSizes(){const _=[];let f=0;for(const Y of this.viewItems)Y.maximumSize-Y.minimumSize>0&&(_.push(Y),f+=Y.size);const m=Math.floor(f/_.length);for(const Y of _)Y.size=(0,k.u)(m,Y.minimumSize,Y.maximumSize);const L=(0,$.w6)(this.viewItems.length),F=L.filter(Y=>1===this.viewItems[Y].priority),G=L.filter(Y=>2===this.viewItems[Y].priority);this.relayout(F,G)}getViewSize(_){return _<0||_>=this.viewItems.length?-1:this.viewItems[_].size}doAddView(_,f,m=this.viewItems.length,L){if(this.state!==E.Idle)throw new Error("Cant modify splitview");this.state=E.Busy;const F=(0,d.$)(".split-view-view");m===this.viewItems.length?this.viewContainer.appendChild(F):this.viewContainer.insertBefore(F,this.viewContainer.children.item(m));const G=_.onDidChange(N=>this.onViewChange(ce,N)),Y=(0,U.OF)(()=>this.viewContainer.removeChild(F)),de=(0,U.F8)(G,Y);let le;le="number"==typeof f?f:"split"===f.type?this.getViewSize(f.index)/2:"invisible"===f.type?{cachedVisibleSize:f.cachedVisibleSize}:_.minimumSize;const ce=0===this.orientation?new p(F,_,le,de):new w(F,_,le,de);if(this.viewItems.splice(m,0,ce),this.viewItems.length>1){let N={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash};const V=0===this.orientation?new B.g(this.sashContainer,{getHorizontalSashTop:ye=>this.getSashPosition(ye),getHorizontalSashWidth:this.getSashOrthogonalSize},Object.assign(Object.assign({},N),{orientation:1})):new B.g(this.sashContainer,{getVerticalSashLeft:ye=>this.getSashPosition(ye),getVerticalSashHeight:this.getSashOrthogonalSize},Object.assign(Object.assign({},N),{orientation:0})),Z=0===this.orientation?ye=>({sash:V,start:ye.startY,current:ye.currentY,alt:ye.altKey}):ye=>({sash:V,start:ye.startX,current:ye.currentX,alt:ye.altKey}),ue=j.ju.map(V.onDidStart,Z)(this.onSashStart,this),ee=j.ju.map(V.onDidChange,Z)(this.onSashChange,this),ne=j.ju.map(V.onDidEnd,()=>this.sashItems.findIndex(ye=>ye.sash===V))(this.onSashEnd,this),he=V.onDidReset(()=>{const ye=this.sashItems.findIndex(Te=>Te.sash===V),ke=(0,$.w6)(ye,-1),xe=(0,$.w6)(ye+1,this.viewItems.length),Pe=this.findFirstSnapIndex(ke),fe=this.findFirstSnapIndex(xe);"number"==typeof Pe&&!this.viewItems[Pe].visible||"number"==typeof fe&&!this.viewItems[fe].visible||this._onDidSashReset.fire(ye)}),ge=(0,U.F8)(ue,ee,ne,he,V);this.sashItems.splice(m-1,0,{sash:V,disposable:ge})}let be;F.appendChild(_.element),"number"!=typeof f&&"split"===f.type&&(be=[f.index]),L||this.relayout([m],be),this.state=E.Idle,!L&&"number"!=typeof f&&"distribute"===f.type&&this.distributeViewSizes()}relayout(_,f){const m=this.viewItems.reduce((L,F)=>L+F.size,0);this.resize(this.viewItems.length-1,this.size-m,void 0,_,f),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(_,f,m=this.viewItems.map(ce=>ce.size),L,F,G=Number.NEGATIVE_INFINITY,Y=Number.POSITIVE_INFINITY,de,le){if(_<0||_>=this.viewItems.length)return 0;const ce=(0,$.w6)(_,-1),be=(0,$.w6)(_+1,this.viewItems.length);if(F)for(const re of F)(0,$.zI)(ce,re),(0,$.zI)(be,re);if(L)for(const re of L)(0,$.al)(ce,re),(0,$.al)(be,re);const N=ce.map(re=>this.viewItems[re]),V=ce.map(re=>m[re]),Z=be.map(re=>this.viewItems[re]),ie=be.map(re=>m[re]),ue=ce.reduce((re,ye)=>re+(this.viewItems[ye].minimumSize-m[ye]),0),oe=ce.reduce((re,ye)=>re+(this.viewItems[ye].maximumSize-m[ye]),0),ee=0===be.length?Number.POSITIVE_INFINITY:be.reduce((re,ye)=>re+(m[ye]-this.viewItems[ye].minimumSize),0),K=0===be.length?Number.NEGATIVE_INFINITY:be.reduce((re,ye)=>re+(m[ye]-this.viewItems[ye].maximumSize),0),ne=Math.max(ue,K,G),he=Math.min(ee,oe,Y);let ge=!1;if(de){const re=this.viewItems[de.index],ye=f>=de.limitDelta;ge=ye!==re.visible,re.setVisible(ye,de.size)}if(!ge&&le){const re=this.viewItems[le.index],ye=f<le.limitDelta;ge=ye!==re.visible,re.setVisible(ye,le.size)}if(ge)return this.resize(_,f,m,L,F,G,Y);for(let re=0,ye=f=(0,k.u)(f,ne,he);re<N.length;re++){const ke=N[re],xe=(0,k.u)(V[re]+ye,ke.minimumSize,ke.maximumSize);ye-=xe-V[re],ke.size=xe}for(let re=0,ye=f;re<Z.length;re++){const ke=Z[re],xe=(0,k.u)(ie[re]-ye,ke.minimumSize,ke.maximumSize);ye+=xe-ie[re],ke.size=xe}return f}distributeEmptySpace(_){const f=this.viewItems.reduce((Y,de)=>Y+de.size,0);let m=this.size-f;const L=(0,$.w6)(this.viewItems.length-1,-1),F=L.filter(Y=>1===this.viewItems[Y].priority),G=L.filter(Y=>2===this.viewItems[Y].priority);for(const Y of G)(0,$.zI)(L,Y);for(const Y of F)(0,$.al)(L,Y);"number"==typeof _&&(0,$.al)(L,_);for(let Y=0;0!==m&&Y<L.length;Y++){const de=this.viewItems[L[Y]],le=(0,k.u)(de.size+m,de.minimumSize,de.maximumSize);m-=le-de.size,de.size=le}}layoutViews(){this.contentSize=this.viewItems.reduce((f,m)=>f+m.size,0);let _=0;for(const f of this.viewItems)f.layout(_,this.layoutContext),_+=f.size;this.sashItems.forEach(f=>f.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){this.scrollableElement.setScrollDimensions(0===this.orientation?{height:this.size,scrollHeight:this.contentSize}:{width:this.size,scrollWidth:this.contentSize})}updateSashEnablement(){let _=!1;const f=this.viewItems.map(de=>_=de.size-de.minimumSize>0||_);_=!1;const m=this.viewItems.map(de=>_=de.maximumSize-de.size>0||_),L=[...this.viewItems].reverse();_=!1;const F=L.map(de=>_=de.size-de.minimumSize>0||_).reverse();_=!1;const G=L.map(de=>_=de.maximumSize-de.size>0||_).reverse();let Y=0;for(let de=0;de<this.sashItems.length;de++){const{sash:le}=this.sashItems[de];Y+=this.viewItems[de].size;const be=!(f[de]&&G[de+1]),N=!(m[de]&&F[de+1]);if(be&&N){const V=(0,$.w6)(de,-1),Z=(0,$.w6)(de+1,this.viewItems.length),ie=this.findFirstSnapIndex(V),ue=this.findFirstSnapIndex(Z),ee="number"==typeof ue&&!this.viewItems[ue].visible;le.state="number"==typeof ie&&!this.viewItems[ie].visible&&F[de]&&(Y>0||this.startSnappingEnabled)?1:ee&&f[de]&&(Y<this.contentSize||this.endSnappingEnabled)?2:0}else le.state=be&&!N?1:!be&&N?2:3}}getSashPosition(_){let f=0;for(let m=0;m<this.sashItems.length;m++)if(f+=this.viewItems[m].size,this.sashItems[m].sash===_)return f;return 0}findFirstSnapIndex(_){for(const f of _){const m=this.viewItems[f];if(m.visible&&m.snap)return f}for(const f of _){const m=this.viewItems[f];if(m.visible&&m.maximumSize-m.minimumSize>0)return;if(!m.visible&&m.snap)return f}}dispose(){super.dispose(),this.viewItems.forEach(_=>_.dispose()),this.viewItems=[],this.sashItems.forEach(_=>_.disposable.dispose()),this.sashItems=[]}}},3010:(Ct,Qe,a)=>{"use strict";a.d(Qe,{$:()=>$});var T=a(1165),U=a(9740),j=a(7631),O=a(1719),k=a(1745);class $ extends O.JT{onclick(R,d){this._register(T.nm(R,T.tw.CLICK,C=>d(new j.n(C))))}onmousedown(R,d){this._register(T.nm(R,T.tw.MOUSE_DOWN,C=>d(new j.n(C))))}onmouseover(R,d){this._register(T.nm(R,T.tw.MOUSE_OVER,C=>d(new j.n(C))))}onnonbubblingmouseout(R,d){this._register(T.j_(R,C=>d(new j.n(C))))}onkeydown(R,d){this._register(T.nm(R,T.tw.KEY_DOWN,C=>d(new U.y(C))))}onkeyup(R,d){this._register(T.nm(R,T.tw.KEY_UP,C=>d(new U.y(C))))}oninput(R,d){this._register(T.nm(R,T.tw.INPUT,d))}onblur(R,d){this._register(T.nm(R,T.tw.BLUR,d))}onfocus(R,d){this._register(T.nm(R,T.tw.FOCUS,d))}ignoreGesture(R){k.o.ignoreTarget(R)}}},7513:(Ct,Qe,a)=>{"use strict";a.d(Qe,{aU:()=>k,Wi:()=>$,Z0:()=>B,wY:()=>R,eZ:()=>d});var T=a(1606),U=a(1719),j=a(6723),O=function(C,g,b,I){return new(b||(b=Promise))(function(w,E){function S(_){try{M(I.next(_))}catch(f){E(f)}}function v(_){try{M(I.throw(_))}catch(f){E(f)}}function M(_){_.done?w(_.value):function(w){return w instanceof b?w:new b(function(E){E(w)})}(_.value).then(S,v)}M((I=I.apply(C,g||[])).next())})};class k extends U.JT{constructor(g,b="",I="",p=!0,w){super(),this._onDidChange=this._register(new j.Q5),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._checked=!1,this._id=g,this._label=b,this._cssClass=I,this._enabled=p,this._actionCallback=w}get id(){return this._id}get label(){return this._label}set label(g){this._setLabel(g)}_setLabel(g){this._label!==g&&(this._label=g,this._onDidChange.fire({label:g}))}get tooltip(){return this._tooltip||""}set tooltip(g){this._setTooltip(g)}_setTooltip(g){this._tooltip!==g&&(this._tooltip=g,this._onDidChange.fire({tooltip:g}))}get class(){return this._cssClass}set class(g){this._setClass(g)}_setClass(g){this._cssClass!==g&&(this._cssClass=g,this._onDidChange.fire({class:g}))}get enabled(){return this._enabled}set enabled(g){this._setEnabled(g)}_setEnabled(g){this._enabled!==g&&(this._enabled=g,this._onDidChange.fire({enabled:g}))}get checked(){return this._checked}set checked(g){this._setChecked(g)}_setChecked(g){this._checked!==g&&(this._checked=g,this._onDidChange.fire({checked:g}))}run(g,b){return O(this,void 0,void 0,function*(){this._actionCallback&&(yield this._actionCallback(g))})}}class $ extends U.JT{constructor(){super(...arguments),this._onBeforeRun=this._register(new j.Q5),this.onBeforeRun=this._onBeforeRun.event,this._onDidRun=this._register(new j.Q5),this.onDidRun=this._onDidRun.event}run(g,b){return O(this,void 0,void 0,function*(){if(!g.enabled)return;let I;this._onBeforeRun.fire({action:g});try{yield this.runAction(g,b)}catch(p){I=p}this._onDidRun.fire({action:g,error:I})})}runAction(g,b){return O(this,void 0,void 0,function*(){yield g.run(b)})}}let B=(()=>{class C extends k{constructor(b){super(C.ID,b,b?"separator text":"separator"),this.checked=!1,this.enabled=!1}}return C.ID="vs.actions.separator",C})();class R{constructor(g,b,I,p){this.tooltip="",this.enabled=!0,this.checked=!1,this.id=g,this.label=b,this.class=p,this._actions=I}get actions(){return this._actions}dispose(){}run(){return O(this,void 0,void 0,function*(){})}}let d=(()=>{class C extends k{constructor(){super(C.ID,T.N("submenu.empty","(empty)"),void 0,!1)}}return C.ID="vs.actions.empty",C})()},2291:(Ct,Qe,a)=>{"use strict";function T(f,m=0){return f[f.length-(1+m)]}function U(f){if(0===f.length)throw new Error("Invalid tail call");return[f.slice(0,f.length-1),f[f.length-1]]}function j(f,m,L=((F,G)=>F===G)){if(f===m)return!0;if(!f||!m||f.length!==m.length)return!1;for(let F=0,G=f.length;F<G;F++)if(!L(f[F],m[F]))return!1;return!0}function O(f,m,L){let F=0,G=f.length-1;for(;F<=G;){const Y=(F+G)/2|0,de=L(f[Y],m);if(de<0)F=Y+1;else{if(!(de>0))return Y;G=Y-1}}return-(F+1)}function k(f,m){let L=0,F=f.length;if(0===F)return 0;for(;L<F;){const G=Math.floor((L+F)/2);m(f[G])?F=G:L=G+1}return L}function $(f,m,L){if((f|=0)>=m.length)throw new TypeError("invalid index");let F=m[Math.floor(m.length*Math.random())],G=[],Y=[],de=[];for(let le of m){const ce=L(le,F);ce<0?G.push(le):ce>0?Y.push(le):de.push(le)}return f<G.length?$(f,G,L):f<G.length+de.length?de[0]:$(f-(G.length+de.length),Y,L)}function B(f,m){const L=[];let F;for(const G of f.slice(0).sort(m))F&&0===m(F[0],G)?F.push(G):(F=[G],L.push(F));return L}function R(f){return f.filter(m=>!!m)}function d(f){return!Array.isArray(f)||0===f.length}function C(f){return Array.isArray(f)&&f.length>0}function g(f,m){if(!m)return f.filter((F,G)=>f.indexOf(F)===G);const L=Object.create(null);return f.filter(F=>{const G=m(F);return!L[G]&&(L[G]=!0,!0)})}function b(f){const m=new Set;return f.filter(L=>!m.has(L)&&(m.add(L),!0))}function I(f,m){return f.length>0?f[0]:m}function p(f){return[].concat(...f)}function w(f,m){let L="number"==typeof m?f:0;"number"==typeof m?L=f:(L=0,m=f);const F=[];if(L<=m)for(let G=L;G<m;G++)F.push(G);else for(let G=L;G>m;G--)F.push(G);return F}function E(f,m,L){const F=f.slice(0,m),G=f.slice(m);return F.concat(L,G)}function S(f,m){const L=f.indexOf(m);L>-1&&(f.splice(L,1),f.unshift(m))}function v(f,m){const L=f.indexOf(m);L>-1&&(f.splice(L,1),f.push(m))}function M(f){return Array.isArray(f)?f:[f]}a.d(Qe,{Gb:()=>T,JH:()=>U,fS:()=>j,ry:()=>O,lG:()=>k,HW:()=>$,vM:()=>B,kX:()=>R,XY:()=>d,Of:()=>C,EB:()=>g,cU:()=>b,Xh:()=>I,xH:()=>p,w6:()=>w,Zv:()=>E,zI:()=>S,al:()=>v,_2:()=>M,H9:()=>_});class _{constructor(m){this.items=m,this.firstIdx=0,this.lastIdx=this.items.length-1}takeWhile(m){let L=this.firstIdx;for(;L<this.items.length&&m(this.items[L]);)L++;const F=L===this.firstIdx?null:this.items.slice(this.firstIdx,L);return this.firstIdx=L,F}takeFromEndWhile(m){let L=this.lastIdx;for(;L>=0&&m(this.items[L]);)L--;const F=L===this.lastIdx?null:this.items.slice(L+1,this.lastIdx+1);return this.lastIdx=L,F}}},7582:(Ct,Qe,a)=>{"use strict";function T(U,j){if(!U)throw new Error(j?`Assertion failed (${j})`:"Assertion Failed")}a.d(Qe,{ok:()=>T})},7922:(Ct,Qe,a)=>{"use strict";a.d(Qe,{J8:()=>k,PG:()=>$,eP:()=>B,vp:()=>d,rH:()=>C,Vs:()=>g,Vg:()=>b,Ps:()=>I,_F:()=>p,zh:()=>w,pY:()=>E,To:()=>S,Ue:()=>v,jT:()=>M});var T=a(9357),U=a(5160),j=a(1719);function k(_){return!!_&&"function"==typeof _.then}function $(_){const f=new T.A,m=_(f.token),L=new Promise((F,G)=>{f.token.onCancellationRequested(()=>{G((0,U.F0)())}),Promise.resolve(m).then(Y=>{f.dispose(),F(Y)},Y=>{f.dispose(),G(Y)})});return new class{cancel(){f.cancel()}then(F,G){return L.then(F,G)}catch(F){return this.then(void 0,F)}finally(F){return L.finally(F)}}}function B(_,f,m){return Promise.race([_,new Promise(L=>f.onCancellationRequested(()=>L(m)))])}class R{constructor(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(f){if(this.activePromise){if(this.queuedPromiseFactory=f,!this.queuedPromise){const m=()=>{this.queuedPromise=null;const L=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,L};this.queuedPromise=new Promise(L=>{this.activePromise.then(m,m).then(L)})}return new Promise((m,L)=>{this.queuedPromise.then(m,L)})}return this.activePromise=f(),new Promise((m,L)=>{this.activePromise.then(F=>{this.activePromise=null,m(F)},F=>{this.activePromise=null,L(F)})})}}class d{constructor(f){this.defaultDelay=f,this.timeout=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(f,m=this.defaultDelay){return this.task=f,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((L,F)=>{this.doResolve=L,this.doReject=F}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const L=this.task;return this.task=null,L()}})),this.timeout=setTimeout(()=>{this.timeout=null,this.doResolve&&this.doResolve(null)},m),this.completionPromise}isTriggered(){return null!==this.timeout}cancel(){this.cancelTimeout(),this.completionPromise&&(this.doReject&&this.doReject((0,U.F0)()),this.completionPromise=null)}cancelTimeout(){null!==this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}dispose(){this.cancel()}}class C{constructor(f){this.delayer=new d(f),this.throttler=new R}trigger(f,m){return this.delayer.trigger(()=>this.throttler.queue(f),m)}dispose(){this.delayer.dispose()}}function g(_,f){return f?new Promise((m,L)=>{const F=setTimeout(m,_);f.onCancellationRequested(()=>{clearTimeout(F),L((0,U.F0)())})}):$(m=>g(_,m))}function b(_,f=0){const m=setTimeout(_,f);return(0,j.OF)(()=>clearTimeout(m))}function I(_,f=(L=>!!L),m=null){let L=0;const F=_.length,G=()=>{if(L>=F)return Promise.resolve(m);const Y=_[L++];return Promise.resolve(Y()).then(le=>f(le)?Promise.resolve(le):G())};return G()}class p{constructor(f,m){this._token=-1,"function"==typeof f&&"number"==typeof m&&this.setIfNotSet(f,m)}dispose(){this.cancel()}cancel(){-1!==this._token&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(f,m){this.cancel(),this._token=setTimeout(()=>{this._token=-1,f()},m)}setIfNotSet(f,m){-1===this._token&&(this._token=setTimeout(()=>{this._token=-1,f()},m))}}class w{constructor(){this._token=-1}dispose(){this.cancel()}cancel(){-1!==this._token&&(clearInterval(this._token),this._token=-1)}cancelAndSet(f,m){this.cancel(),this._token=setInterval(()=>{f()},m)}}class E{constructor(f,m){this.timeoutToken=-1,this.runner=f,this.timeout=m,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(f=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,f)}get delay(){return this.timeout}set delay(f){this.timeout=f}isScheduled(){return-1!==this.timeoutToken}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){this.runner&&this.runner()}}let S;!function(){if("function"!=typeof requestIdleCallback||"function"!=typeof cancelIdleCallback){const _=Object.freeze({didTimeout:!0,timeRemaining:()=>15});S=f=>{const m=setTimeout(()=>f(_));let L=!1;return{dispose(){L||(L=!0,clearTimeout(m))}}}}else S=(_,f)=>{const m=requestIdleCallback(_,"number"==typeof f?{timeout:f}:void 0);let L=!1;return{dispose(){L||(L=!0,cancelIdleCallback(m))}}}}();class v{constructor(f){this._didRun=!1,this._executor=()=>{try{this._value=f()}catch(m){this._error=m}finally{this._didRun=!0}},this._handle=S(()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}}var M;(M||(M={})).settled=function(m){return function(_,f,m,L){return new(m||(m=Promise))(function(G,Y){function de(be){try{ce(L.next(be))}catch(N){Y(N)}}function le(be){try{ce(L.throw(be))}catch(N){Y(N)}}function ce(be){be.done?G(be.value):function(G){return G instanceof m?G:new m(function(Y){Y(G)})}(be.value).then(de,le)}ce((L=L.apply(_,f||[])).next())})}(this,void 0,void 0,function*(){let L;const F=yield Promise.all(m.map(G=>G.then(Y=>Y,Y=>{L||(L=Y)})));if(void 0!==L)throw L;return F})}},9427:(Ct,Qe,a)=>{"use strict";a.d(Qe,{KN:()=>k,mP:()=>$,oq:()=>B,Ag:()=>R,T4:()=>d,Q$:()=>C,Cg:()=>g});var T=a(579);const U="undefined"!=typeof Buffer,j="undefined"!=typeof TextDecoder;let O;class k{constructor(I){this.buffer=I,this.byteLength=this.buffer.byteLength}static wrap(I){return U&&!Buffer.isBuffer(I)&&(I=Buffer.from(I.buffer,I.byteOffset,I.byteLength)),new k(I)}toString(){return U?this.buffer.toString():j?(O||(O=new TextDecoder),O.decode(this.buffer)):T.CZ(this.buffer)}}function $(b,I){return b[I+0]<<0>>>0|b[I+1]<<8>>>0}function B(b,I,p){b[p+0]=255&I,b[p+1]=255&(I>>>=8)}function R(b,I){return b[I]*Math.pow(2,24)+b[I+1]*Math.pow(2,16)+b[I+2]*Math.pow(2,8)+b[I+3]}function d(b,I,p){b[p+3]=I,b[p+2]=I>>>=8,b[p+1]=I>>>=8,b[p]=I>>>=8}function C(b,I){return b[I]}function g(b,I,p){b[p]=I}},9357:(Ct,Qe,a)=>{"use strict";a.d(Qe,{T:()=>j,A:()=>k});var T=a(6723);const U=Object.freeze(function($,B){const R=setTimeout($.bind(B),0);return{dispose(){clearTimeout(R)}}});var j,$;($=j||(j={})).isCancellationToken=function(R){return R===$.None||R===$.Cancelled||R instanceof O||!(!R||"object"!=typeof R)&&"boolean"==typeof R.isCancellationRequested&&"function"==typeof R.onCancellationRequested},$.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:T.ju.None}),$.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:U});class O{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?U:(this._emitter||(this._emitter=new T.Q5),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class k{constructor(B){this._token=void 0,this._parentListener=void 0,this._parentListener=B&&B.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new O),this._token}cancel(){this._token?this._token instanceof O&&this._token.cancel():this._token=j.Cancelled}dispose(B=!1){B&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof O&&this._token.dispose():this._token=j.None}}},521:(Ct,Qe,a)=>{"use strict";a.d(Qe,{fK:()=>O,CM:()=>k,JL:()=>$,lA:()=>B,dT:()=>R});var T=a(6723);const j=new class{constructor(){this._icons=new Map,this._onDidRegister=new T.Q5}add(C){const g=this._icons.get(C.id);g?C.description?g.description=C.description:console.error(`Duplicate registration of codicon ${C.id}`):(this._icons.set(C.id,C),this._onDidRegister.fire(C))}get(C){return this._icons.get(C)}get all(){return this._icons.values()}get onDidRegister(){return this._onDidRegister.event}},O=j;function k(d,C){return new B(d,C)}function $(d){return d?d.replace(/\$\((.*?)\)/g,(C,g)=>` ${g} `).trim():""}class B{constructor(C,g,b){this.id=C,this.definition=g,this.description=b,j.add(this)}get classNames(){return"codicon codicon-"+this.id}get classNamesArray(){return["codicon","codicon-"+this.id]}get cssSelector(){return".codicon.codicon-"+this.id}}var R,d;(function(d){d.iconNameSegment="[A-Za-z0-9]+",d.iconNameExpression="[A-Za-z0-9\\-]+",d.iconModifierExpression="~[A-Za-z]+";const C=new RegExp(`^(${d.iconNameExpression})(${d.iconModifierExpression})?$`);function g(p){if(p instanceof B)return["codicon","codicon-"+p.id];const w=C.exec(p.id);if(!w)return g(B.error);let[,E,S]=w;const v=["codicon","codicon-"+E];return S&&v.push("codicon-modifier-"+S.substr(1)),v}d.asClassNameArray=g,d.asClassName=function(p){return g(p).join(" ")},d.asCSSSelector=function(p){return"."+g(p).join(".")}})(R||(R={})),(d=B||(B={})).add=new d("add",{fontCharacter:"\\ea60"}),d.plus=new d("plus",{fontCharacter:"\\ea60"}),d.gistNew=new d("gist-new",{fontCharacter:"\\ea60"}),d.repoCreate=new d("repo-create",{fontCharacter:"\\ea60"}),d.lightbulb=new d("lightbulb",{fontCharacter:"\\ea61"}),d.lightBulb=new d("light-bulb",{fontCharacter:"\\ea61"}),d.repo=new d("repo",{fontCharacter:"\\ea62"}),d.repoDelete=new d("repo-delete",{fontCharacter:"\\ea62"}),d.gistFork=new d("gist-fork",{fontCharacter:"\\ea63"}),d.repoForked=new d("repo-forked",{fontCharacter:"\\ea63"}),d.gitPullRequest=new d("git-pull-request",{fontCharacter:"\\ea64"}),d.gitPullRequestAbandoned=new d("git-pull-request-abandoned",{fontCharacter:"\\ea64"}),d.recordKeys=new d("record-keys",{fontCharacter:"\\ea65"}),d.keyboard=new d("keyboard",{fontCharacter:"\\ea65"}),d.tag=new d("tag",{fontCharacter:"\\ea66"}),d.tagAdd=new d("tag-add",{fontCharacter:"\\ea66"}),d.tagRemove=new d("tag-remove",{fontCharacter:"\\ea66"}),d.person=new d("person",{fontCharacter:"\\ea67"}),d.personFollow=new d("person-follow",{fontCharacter:"\\ea67"}),d.personOutline=new d("person-outline",{fontCharacter:"\\ea67"}),d.personFilled=new d("person-filled",{fontCharacter:"\\ea67"}),d.gitBranch=new d("git-branch",{fontCharacter:"\\ea68"}),d.gitBranchCreate=new d("git-branch-create",{fontCharacter:"\\ea68"}),d.gitBranchDelete=new d("git-branch-delete",{fontCharacter:"\\ea68"}),d.sourceControl=new d("source-control",{fontCharacter:"\\ea68"}),d.mirror=new d("mirror",{fontCharacter:"\\ea69"}),d.mirrorPublic=new d("mirror-public",{fontCharacter:"\\ea69"}),d.star=new d("star",{fontCharacter:"\\ea6a"}),d.starAdd=new d("star-add",{fontCharacter:"\\ea6a"}),d.starDelete=new d("star-delete",{fontCharacter:"\\ea6a"}),d.starEmpty=new d("star-empty",{fontCharacter:"\\ea6a"}),d.comment=new d("comment",{fontCharacter:"\\ea6b"}),d.commentAdd=new d("comment-add",{fontCharacter:"\\ea6b"}),d.alert=new d("alert",{fontCharacter:"\\ea6c"}),d.warning=new d("warning",{fontCharacter:"\\ea6c"}),d.search=new d("search",{fontCharacter:"\\ea6d"}),d.searchSave=new d("search-save",{fontCharacter:"\\ea6d"}),d.logOut=new d("log-out",{fontCharacter:"\\ea6e"}),d.signOut=new d("sign-out",{fontCharacter:"\\ea6e"}),d.logIn=new d("log-in",{fontCharacter:"\\ea6f"}),d.signIn=new d("sign-in",{fontCharacter:"\\ea6f"}),d.eye=new d("eye",{fontCharacter:"\\ea70"}),d.eyeUnwatch=new d("eye-unwatch",{fontCharacter:"\\ea70"}),d.eyeWatch=new d("eye-watch",{fontCharacter:"\\ea70"}),d.circleFilled=new d("circle-filled",{fontCharacter:"\\ea71"}),d.primitiveDot=new d("primitive-dot",{fontCharacter:"\\ea71"}),d.closeDirty=new d("close-dirty",{fontCharacter:"\\ea71"}),d.debugBreakpoint=new d("debug-breakpoint",{fontCharacter:"\\ea71"}),d.debugBreakpointDisabled=new d("debug-breakpoint-disabled",{fontCharacter:"\\ea71"}),d.debugHint=new d("debug-hint",{fontCharacter:"\\ea71"}),d.primitiveSquare=new d("primitive-square",{fontCharacter:"\\ea72"}),d.edit=new d("edit",{fontCharacter:"\\ea73"}),d.pencil=new d("pencil",{fontCharacter:"\\ea73"}),d.info=new d("info",{fontCharacter:"\\ea74"}),d.issueOpened=new d("issue-opened",{fontCharacter:"\\ea74"}),d.gistPrivate=new d("gist-private",{fontCharacter:"\\ea75"}),d.gitForkPrivate=new d("git-fork-private",{fontCharacter:"\\ea75"}),d.lock=new d("lock",{fontCharacter:"\\ea75"}),d.mirrorPrivate=new d("mirror-private",{fontCharacter:"\\ea75"}),d.close=new d("close",{fontCharacter:"\\ea76"}),d.removeClose=new d("remove-close",{fontCharacter:"\\ea76"}),d.x=new d("x",{fontCharacter:"\\ea76"}),d.repoSync=new d("repo-sync",{fontCharacter:"\\ea77"}),d.sync=new d("sync",{fontCharacter:"\\ea77"}),d.clone=new d("clone",{fontCharacter:"\\ea78"}),d.desktopDownload=new d("desktop-download",{fontCharacter:"\\ea78"}),d.beaker=new d("beaker",{fontCharacter:"\\ea79"}),d.microscope=new d("microscope",{fontCharacter:"\\ea79"}),d.vm=new d("vm",{fontCharacter:"\\ea7a"}),d.deviceDesktop=new d("device-desktop",{fontCharacter:"\\ea7a"}),d.file=new d("file",{fontCharacter:"\\ea7b"}),d.fileText=new d("file-text",{fontCharacter:"\\ea7b"}),d.more=new d("more",{fontCharacter:"\\ea7c"}),d.ellipsis=new d("ellipsis",{fontCharacter:"\\ea7c"}),d.kebabHorizontal=new d("kebab-horizontal",{fontCharacter:"\\ea7c"}),d.mailReply=new d("mail-reply",{fontCharacter:"\\ea7d"}),d.reply=new d("reply",{fontCharacter:"\\ea7d"}),d.organization=new d("organization",{fontCharacter:"\\ea7e"}),d.organizationFilled=new d("organization-filled",{fontCharacter:"\\ea7e"}),d.organizationOutline=new d("organization-outline",{fontCharacter:"\\ea7e"}),d.newFile=new d("new-file",{fontCharacter:"\\ea7f"}),d.fileAdd=new d("file-add",{fontCharacter:"\\ea7f"}),d.newFolder=new d("new-folder",{fontCharacter:"\\ea80"}),d.fileDirectoryCreate=new d("file-directory-create",{fontCharacter:"\\ea80"}),d.trash=new d("trash",{fontCharacter:"\\ea81"}),d.trashcan=new d("trashcan",{fontCharacter:"\\ea81"}),d.history=new d("history",{fontCharacter:"\\ea82"}),d.clock=new d("clock",{fontCharacter:"\\ea82"}),d.folder=new d("folder",{fontCharacter:"\\ea83"}),d.fileDirectory=new d("file-directory",{fontCharacter:"\\ea83"}),d.symbolFolder=new d("symbol-folder",{fontCharacter:"\\ea83"}),d.logoGithub=new d("logo-github",{fontCharacter:"\\ea84"}),d.markGithub=new d("mark-github",{fontCharacter:"\\ea84"}),d.github=new d("github",{fontCharacter:"\\ea84"}),d.terminal=new d("terminal",{fontCharacter:"\\ea85"}),d.console=new d("console",{fontCharacter:"\\ea85"}),d.repl=new d("repl",{fontCharacter:"\\ea85"}),d.zap=new d("zap",{fontCharacter:"\\ea86"}),d.symbolEvent=new d("symbol-event",{fontCharacter:"\\ea86"}),d.error=new d("error",{fontCharacter:"\\ea87"}),d.stop=new d("stop",{fontCharacter:"\\ea87"}),d.variable=new d("variable",{fontCharacter:"\\ea88"}),d.symbolVariable=new d("symbol-variable",{fontCharacter:"\\ea88"}),d.array=new d("array",{fontCharacter:"\\ea8a"}),d.symbolArray=new d("symbol-array",{fontCharacter:"\\ea8a"}),d.symbolModule=new d("symbol-module",{fontCharacter:"\\ea8b"}),d.symbolPackage=new d("symbol-package",{fontCharacter:"\\ea8b"}),d.symbolNamespace=new d("symbol-namespace",{fontCharacter:"\\ea8b"}),d.symbolObject=new d("symbol-object",{fontCharacter:"\\ea8b"}),d.symbolMethod=new d("symbol-method",{fontCharacter:"\\ea8c"}),d.symbolFunction=new d("symbol-function",{fontCharacter:"\\ea8c"}),d.symbolConstructor=new d("symbol-constructor",{fontCharacter:"\\ea8c"}),d.symbolBoolean=new d("symbol-boolean",{fontCharacter:"\\ea8f"}),d.symbolNull=new d("symbol-null",{fontCharacter:"\\ea8f"}),d.symbolNumeric=new d("symbol-numeric",{fontCharacter:"\\ea90"}),d.symbolNumber=new d("symbol-number",{fontCharacter:"\\ea90"}),d.symbolStructure=new d("symbol-structure",{fontCharacter:"\\ea91"}),d.symbolStruct=new d("symbol-struct",{fontCharacter:"\\ea91"}),d.symbolParameter=new d("symbol-parameter",{fontCharacter:"\\ea92"}),d.symbolTypeParameter=new d("symbol-type-parameter",{fontCharacter:"\\ea92"}),d.symbolKey=new d("symbol-key",{fontCharacter:"\\ea93"}),d.symbolText=new d("symbol-text",{fontCharacter:"\\ea93"}),d.symbolReference=new d("symbol-reference",{fontCharacter:"\\ea94"}),d.goToFile=new d("go-to-file",{fontCharacter:"\\ea94"}),d.symbolEnum=new d("symbol-enum",{fontCharacter:"\\ea95"}),d.symbolValue=new d("symbol-value",{fontCharacter:"\\ea95"}),d.symbolRuler=new d("symbol-ruler",{fontCharacter:"\\ea96"}),d.symbolUnit=new d("symbol-unit",{fontCharacter:"\\ea96"}),d.activateBreakpoints=new d("activate-breakpoints",{fontCharacter:"\\ea97"}),d.archive=new d("archive",{fontCharacter:"\\ea98"}),d.arrowBoth=new d("arrow-both",{fontCharacter:"\\ea99"}),d.arrowDown=new d("arrow-down",{fontCharacter:"\\ea9a"}),d.arrowLeft=new d("arrow-left",{fontCharacter:"\\ea9b"}),d.arrowRight=new d("arrow-right",{fontCharacter:"\\ea9c"}),d.arrowSmallDown=new d("arrow-small-down",{fontCharacter:"\\ea9d"}),d.arrowSmallLeft=new d("arrow-small-left",{fontCharacter:"\\ea9e"}),d.arrowSmallRight=new d("arrow-small-right",{fontCharacter:"\\ea9f"}),d.arrowSmallUp=new d("arrow-small-up",{fontCharacter:"\\eaa0"}),d.arrowUp=new d("arrow-up",{fontCharacter:"\\eaa1"}),d.bell=new d("bell",{fontCharacter:"\\eaa2"}),d.bold=new d("bold",{fontCharacter:"\\eaa3"}),d.book=new d("book",{fontCharacter:"\\eaa4"}),d.bookmark=new d("bookmark",{fontCharacter:"\\eaa5"}),d.debugBreakpointConditionalUnverified=new d("debug-breakpoint-conditional-unverified",{fontCharacter:"\\eaa6"}),d.debugBreakpointConditional=new d("debug-breakpoint-conditional",{fontCharacter:"\\eaa7"}),d.debugBreakpointConditionalDisabled=new d("debug-breakpoint-conditional-disabled",{fontCharacter:"\\eaa7"}),d.debugBreakpointDataUnverified=new d("debug-breakpoint-data-unverified",{fontCharacter:"\\eaa8"}),d.debugBreakpointData=new d("debug-breakpoint-data",{fontCharacter:"\\eaa9"}),d.debugBreakpointDataDisabled=new d("debug-breakpoint-data-disabled",{fontCharacter:"\\eaa9"}),d.debugBreakpointLogUnverified=new d("debug-breakpoint-log-unverified",{fontCharacter:"\\eaaa"}),d.debugBreakpointLog=new d("debug-breakpoint-log",{fontCharacter:"\\eaab"}),d.debugBreakpointLogDisabled=new d("debug-breakpoint-log-disabled",{fontCharacter:"\\eaab"}),d.briefcase=new d("briefcase",{fontCharacter:"\\eaac"}),d.broadcast=new d("broadcast",{fontCharacter:"\\eaad"}),d.browser=new d("browser",{fontCharacter:"\\eaae"}),d.bug=new d("bug",{fontCharacter:"\\eaaf"}),d.calendar=new d("calendar",{fontCharacter:"\\eab0"}),d.caseSensitive=new d("case-sensitive",{fontCharacter:"\\eab1"}),d.check=new d("check",{fontCharacter:"\\eab2"}),d.checklist=new d("checklist",{fontCharacter:"\\eab3"}),d.chevronDown=new d("chevron-down",{fontCharacter:"\\eab4"}),d.chevronLeft=new d("chevron-left",{fontCharacter:"\\eab5"}),d.chevronRight=new d("chevron-right",{fontCharacter:"\\eab6"}),d.chevronUp=new d("chevron-up",{fontCharacter:"\\eab7"}),d.chromeClose=new d("chrome-close",{fontCharacter:"\\eab8"}),d.chromeMaximize=new d("chrome-maximize",{fontCharacter:"\\eab9"}),d.chromeMinimize=new d("chrome-minimize",{fontCharacter:"\\eaba"}),d.chromeRestore=new d("chrome-restore",{fontCharacter:"\\eabb"}),d.circleOutline=new d("circle-outline",{fontCharacter:"\\eabc"}),d.debugBreakpointUnverified=new d("debug-breakpoint-unverified",{fontCharacter:"\\eabc"}),d.circleSlash=new d("circle-slash",{fontCharacter:"\\eabd"}),d.circuitBoard=new d("circuit-board",{fontCharacter:"\\eabe"}),d.clearAll=new d("clear-all",{fontCharacter:"\\eabf"}),d.clippy=new d("clippy",{fontCharacter:"\\eac0"}),d.closeAll=new d("close-all",{fontCharacter:"\\eac1"}),d.cloudDownload=new d("cloud-download",{fontCharacter:"\\eac2"}),d.cloudUpload=new d("cloud-upload",{fontCharacter:"\\eac3"}),d.code=new d("code",{fontCharacter:"\\eac4"}),d.collapseAll=new d("collapse-all",{fontCharacter:"\\eac5"}),d.colorMode=new d("color-mode",{fontCharacter:"\\eac6"}),d.commentDiscussion=new d("comment-discussion",{fontCharacter:"\\eac7"}),d.compareChanges=new d("compare-changes",{fontCharacter:"\\eafd"}),d.creditCard=new d("credit-card",{fontCharacter:"\\eac9"}),d.dash=new d("dash",{fontCharacter:"\\eacc"}),d.dashboard=new d("dashboard",{fontCharacter:"\\eacd"}),d.database=new d("database",{fontCharacter:"\\eace"}),d.debugContinue=new d("debug-continue",{fontCharacter:"\\eacf"}),d.debugDisconnect=new d("debug-disconnect",{fontCharacter:"\\ead0"}),d.debugPause=new d("debug-pause",{fontCharacter:"\\ead1"}),d.debugRestart=new d("debug-restart",{fontCharacter:"\\ead2"}),d.debugStart=new d("debug-start",{fontCharacter:"\\ead3"}),d.debugStepInto=new d("debug-step-into",{fontCharacter:"\\ead4"}),d.debugStepOut=new d("debug-step-out",{fontCharacter:"\\ead5"}),d.debugStepOver=new d("debug-step-over",{fontCharacter:"\\ead6"}),d.debugStop=new d("debug-stop",{fontCharacter:"\\ead7"}),d.debug=new d("debug",{fontCharacter:"\\ead8"}),d.deviceCameraVideo=new d("device-camera-video",{fontCharacter:"\\ead9"}),d.deviceCamera=new d("device-camera",{fontCharacter:"\\eada"}),d.deviceMobile=new d("device-mobile",{fontCharacter:"\\eadb"}),d.diffAdded=new d("diff-added",{fontCharacter:"\\eadc"}),d.diffIgnored=new d("diff-ignored",{fontCharacter:"\\eadd"}),d.diffModified=new d("diff-modified",{fontCharacter:"\\eade"}),d.diffRemoved=new d("diff-removed",{fontCharacter:"\\eadf"}),d.diffRenamed=new d("diff-renamed",{fontCharacter:"\\eae0"}),d.diff=new d("diff",{fontCharacter:"\\eae1"}),d.discard=new d("discard",{fontCharacter:"\\eae2"}),d.editorLayout=new d("editor-layout",{fontCharacter:"\\eae3"}),d.emptyWindow=new d("empty-window",{fontCharacter:"\\eae4"}),d.exclude=new d("exclude",{fontCharacter:"\\eae5"}),d.extensions=new d("extensions",{fontCharacter:"\\eae6"}),d.eyeClosed=new d("eye-closed",{fontCharacter:"\\eae7"}),d.fileBinary=new d("file-binary",{fontCharacter:"\\eae8"}),d.fileCode=new d("file-code",{fontCharacter:"\\eae9"}),d.fileMedia=new d("file-media",{fontCharacter:"\\eaea"}),d.filePdf=new d("file-pdf",{fontCharacter:"\\eaeb"}),d.fileSubmodule=new d("file-submodule",{fontCharacter:"\\eaec"}),d.fileSymlinkDirectory=new d("file-symlink-directory",{fontCharacter:"\\eaed"}),d.fileSymlinkFile=new d("file-symlink-file",{fontCharacter:"\\eaee"}),d.fileZip=new d("file-zip",{fontCharacter:"\\eaef"}),d.files=new d("files",{fontCharacter:"\\eaf0"}),d.filter=new d("filter",{fontCharacter:"\\eaf1"}),d.flame=new d("flame",{fontCharacter:"\\eaf2"}),d.foldDown=new d("fold-down",{fontCharacter:"\\eaf3"}),d.foldUp=new d("fold-up",{fontCharacter:"\\eaf4"}),d.fold=new d("fold",{fontCharacter:"\\eaf5"}),d.folderActive=new d("folder-active",{fontCharacter:"\\eaf6"}),d.folderOpened=new d("folder-opened",{fontCharacter:"\\eaf7"}),d.gear=new d("gear",{fontCharacter:"\\eaf8"}),d.gift=new d("gift",{fontCharacter:"\\eaf9"}),d.gistSecret=new d("gist-secret",{fontCharacter:"\\eafa"}),d.gist=new d("gist",{fontCharacter:"\\eafb"}),d.gitCommit=new d("git-commit",{fontCharacter:"\\eafc"}),d.gitCompare=new d("git-compare",{fontCharacter:"\\eafd"}),d.gitMerge=new d("git-merge",{fontCharacter:"\\eafe"}),d.githubAction=new d("github-action",{fontCharacter:"\\eaff"}),d.githubAlt=new d("github-alt",{fontCharacter:"\\eb00"}),d.globe=new d("globe",{fontCharacter:"\\eb01"}),d.grabber=new d("grabber",{fontCharacter:"\\eb02"}),d.graph=new d("graph",{fontCharacter:"\\eb03"}),d.gripper=new d("gripper",{fontCharacter:"\\eb04"}),d.heart=new d("heart",{fontCharacter:"\\eb05"}),d.home=new d("home",{fontCharacter:"\\eb06"}),d.horizontalRule=new d("horizontal-rule",{fontCharacter:"\\eb07"}),d.hubot=new d("hubot",{fontCharacter:"\\eb08"}),d.inbox=new d("inbox",{fontCharacter:"\\eb09"}),d.issueClosed=new d("issue-closed",{fontCharacter:"\\eb0a"}),d.issueReopened=new d("issue-reopened",{fontCharacter:"\\eb0b"}),d.issues=new d("issues",{fontCharacter:"\\eb0c"}),d.italic=new d("italic",{fontCharacter:"\\eb0d"}),d.jersey=new d("jersey",{fontCharacter:"\\eb0e"}),d.json=new d("json",{fontCharacter:"\\eb0f"}),d.kebabVertical=new d("kebab-vertical",{fontCharacter:"\\eb10"}),d.key=new d("key",{fontCharacter:"\\eb11"}),d.law=new d("law",{fontCharacter:"\\eb12"}),d.lightbulbAutofix=new d("lightbulb-autofix",{fontCharacter:"\\eb13"}),d.linkExternal=new d("link-external",{fontCharacter:"\\eb14"}),d.link=new d("link",{fontCharacter:"\\eb15"}),d.listOrdered=new d("list-ordered",{fontCharacter:"\\eb16"}),d.listUnordered=new d("list-unordered",{fontCharacter:"\\eb17"}),d.liveShare=new d("live-share",{fontCharacter:"\\eb18"}),d.loading=new d("loading",{fontCharacter:"\\eb19"}),d.location=new d("location",{fontCharacter:"\\eb1a"}),d.mailRead=new d("mail-read",{fontCharacter:"\\eb1b"}),d.mail=new d("mail",{fontCharacter:"\\eb1c"}),d.markdown=new d("markdown",{fontCharacter:"\\eb1d"}),d.megaphone=new d("megaphone",{fontCharacter:"\\eb1e"}),d.mention=new d("mention",{fontCharacter:"\\eb1f"}),d.milestone=new d("milestone",{fontCharacter:"\\eb20"}),d.mortarBoard=new d("mortar-board",{fontCharacter:"\\eb21"}),d.move=new d("move",{fontCharacter:"\\eb22"}),d.multipleWindows=new d("multiple-windows",{fontCharacter:"\\eb23"}),d.mute=new d("mute",{fontCharacter:"\\eb24"}),d.noNewline=new d("no-newline",{fontCharacter:"\\eb25"}),d.note=new d("note",{fontCharacter:"\\eb26"}),d.octoface=new d("octoface",{fontCharacter:"\\eb27"}),d.openPreview=new d("open-preview",{fontCharacter:"\\eb28"}),d.package_=new d("package",{fontCharacter:"\\eb29"}),d.paintcan=new d("paintcan",{fontCharacter:"\\eb2a"}),d.pin=new d("pin",{fontCharacter:"\\eb2b"}),d.play=new d("play",{fontCharacter:"\\eb2c"}),d.run=new d("run",{fontCharacter:"\\eb2c"}),d.plug=new d("plug",{fontCharacter:"\\eb2d"}),d.preserveCase=new d("preserve-case",{fontCharacter:"\\eb2e"}),d.preview=new d("preview",{fontCharacter:"\\eb2f"}),d.project=new d("project",{fontCharacter:"\\eb30"}),d.pulse=new d("pulse",{fontCharacter:"\\eb31"}),d.question=new d("question",{fontCharacter:"\\eb32"}),d.quote=new d("quote",{fontCharacter:"\\eb33"}),d.radioTower=new d("radio-tower",{fontCharacter:"\\eb34"}),d.reactions=new d("reactions",{fontCharacter:"\\eb35"}),d.references=new d("references",{fontCharacter:"\\eb36"}),d.refresh=new d("refresh",{fontCharacter:"\\eb37"}),d.regex=new d("regex",{fontCharacter:"\\eb38"}),d.remoteExplorer=new d("remote-explorer",{fontCharacter:"\\eb39"}),d.remote=new d("remote",{fontCharacter:"\\eb3a"}),d.remove=new d("remove",{fontCharacter:"\\eb3b"}),d.replaceAll=new d("replace-all",{fontCharacter:"\\eb3c"}),d.replace=new d("replace",{fontCharacter:"\\eb3d"}),d.repoClone=new d("repo-clone",{fontCharacter:"\\eb3e"}),d.repoForcePush=new d("repo-force-push",{fontCharacter:"\\eb3f"}),d.repoPull=new d("repo-pull",{fontCharacter:"\\eb40"}),d.repoPush=new d("repo-push",{fontCharacter:"\\eb41"}),d.report=new d("report",{fontCharacter:"\\eb42"}),d.requestChanges=new d("request-changes",{fontCharacter:"\\eb43"}),d.rocket=new d("rocket",{fontCharacter:"\\eb44"}),d.rootFolderOpened=new d("root-folder-opened",{fontCharacter:"\\eb45"}),d.rootFolder=new d("root-folder",{fontCharacter:"\\eb46"}),d.rss=new d("rss",{fontCharacter:"\\eb47"}),d.ruby=new d("ruby",{fontCharacter:"\\eb48"}),d.saveAll=new d("save-all",{fontCharacter:"\\eb49"}),d.saveAs=new d("save-as",{fontCharacter:"\\eb4a"}),d.save=new d("save",{fontCharacter:"\\eb4b"}),d.screenFull=new d("screen-full",{fontCharacter:"\\eb4c"}),d.screenNormal=new d("screen-normal",{fontCharacter:"\\eb4d"}),d.searchStop=new d("search-stop",{fontCharacter:"\\eb4e"}),d.server=new d("server",{fontCharacter:"\\eb50"}),d.settingsGear=new d("settings-gear",{fontCharacter:"\\eb51"}),d.settings=new d("settings",{fontCharacter:"\\eb52"}),d.shield=new d("shield",{fontCharacter:"\\eb53"}),d.smiley=new d("smiley",{fontCharacter:"\\eb54"}),d.sortPrecedence=new d("sort-precedence",{fontCharacter:"\\eb55"}),d.splitHorizontal=new d("split-horizontal",{fontCharacter:"\\eb56"}),d.splitVertical=new d("split-vertical",{fontCharacter:"\\eb57"}),d.squirrel=new d("squirrel",{fontCharacter:"\\eb58"}),d.starFull=new d("star-full",{fontCharacter:"\\eb59"}),d.starHalf=new d("star-half",{fontCharacter:"\\eb5a"}),d.symbolClass=new d("symbol-class",{fontCharacter:"\\eb5b"}),d.symbolColor=new d("symbol-color",{fontCharacter:"\\eb5c"}),d.symbolConstant=new d("symbol-constant",{fontCharacter:"\\eb5d"}),d.symbolEnumMember=new d("symbol-enum-member",{fontCharacter:"\\eb5e"}),d.symbolField=new d("symbol-field",{fontCharacter:"\\eb5f"}),d.symbolFile=new d("symbol-file",{fontCharacter:"\\eb60"}),d.symbolInterface=new d("symbol-interface",{fontCharacter:"\\eb61"}),d.symbolKeyword=new d("symbol-keyword",{fontCharacter:"\\eb62"}),d.symbolMisc=new d("symbol-misc",{fontCharacter:"\\eb63"}),d.symbolOperator=new d("symbol-operator",{fontCharacter:"\\eb64"}),d.symbolProperty=new d("symbol-property",{fontCharacter:"\\eb65"}),d.wrench=new d("wrench",{fontCharacter:"\\eb65"}),d.wrenchSubaction=new d("wrench-subaction",{fontCharacter:"\\eb65"}),d.symbolSnippet=new d("symbol-snippet",{fontCharacter:"\\eb66"}),d.tasklist=new d("tasklist",{fontCharacter:"\\eb67"}),d.telescope=new d("telescope",{fontCharacter:"\\eb68"}),d.textSize=new d("text-size",{fontCharacter:"\\eb69"}),d.threeBars=new d("three-bars",{fontCharacter:"\\eb6a"}),d.thumbsdown=new d("thumbsdown",{fontCharacter:"\\eb6b"}),d.thumbsup=new d("thumbsup",{fontCharacter:"\\eb6c"}),d.tools=new d("tools",{fontCharacter:"\\eb6d"}),d.triangleDown=new d("triangle-down",{fontCharacter:"\\eb6e"}),d.triangleLeft=new d("triangle-left",{fontCharacter:"\\eb6f"}),d.triangleRight=new d("triangle-right",{fontCharacter:"\\eb70"}),d.triangleUp=new d("triangle-up",{fontCharacter:"\\eb71"}),d.twitter=new d("twitter",{fontCharacter:"\\eb72"}),d.unfold=new d("unfold",{fontCharacter:"\\eb73"}),d.unlock=new d("unlock",{fontCharacter:"\\eb74"}),d.unmute=new d("unmute",{fontCharacter:"\\eb75"}),d.unverified=new d("unverified",{fontCharacter:"\\eb76"}),d.verified=new d("verified",{fontCharacter:"\\eb77"}),d.versions=new d("versions",{fontCharacter:"\\eb78"}),d.vmActive=new d("vm-active",{fontCharacter:"\\eb79"}),d.vmOutline=new d("vm-outline",{fontCharacter:"\\eb7a"}),d.vmRunning=new d("vm-running",{fontCharacter:"\\eb7b"}),d.watch=new d("watch",{fontCharacter:"\\eb7c"}),d.whitespace=new d("whitespace",{fontCharacter:"\\eb7d"}),d.wholeWord=new d("whole-word",{fontCharacter:"\\eb7e"}),d.window=new d("window",{fontCharacter:"\\eb7f"}),d.wordWrap=new d("word-wrap",{fontCharacter:"\\eb80"}),d.zoomIn=new d("zoom-in",{fontCharacter:"\\eb81"}),d.zoomOut=new d("zoom-out",{fontCharacter:"\\eb82"}),d.listFilter=new d("list-filter",{fontCharacter:"\\eb83"}),d.listFlat=new d("list-flat",{fontCharacter:"\\eb84"}),d.listSelection=new d("list-selection",{fontCharacter:"\\eb85"}),d.selection=new d("selection",{fontCharacter:"\\eb85"}),d.listTree=new d("list-tree",{fontCharacter:"\\eb86"}),d.debugBreakpointFunctionUnverified=new d("debug-breakpoint-function-unverified",{fontCharacter:"\\eb87"}),d.debugBreakpointFunction=new d("debug-breakpoint-function",{fontCharacter:"\\eb88"}),d.debugBreakpointFunctionDisabled=new d("debug-breakpoint-function-disabled",{fontCharacter:"\\eb88"}),d.debugStackframeActive=new d("debug-stackframe-active",{fontCharacter:"\\eb89"}),d.debugStackframeDot=new d("debug-stackframe-dot",{fontCharacter:"\\eb8a"}),d.debugStackframe=new d("debug-stackframe",{fontCharacter:"\\eb8b"}),d.debugStackframeFocused=new d("debug-stackframe-focused",{fontCharacter:"\\eb8b"}),d.debugBreakpointUnsupported=new d("debug-breakpoint-unsupported",{fontCharacter:"\\eb8c"}),d.symbolString=new d("symbol-string",{fontCharacter:"\\eb8d"}),d.debugReverseContinue=new d("debug-reverse-continue",{fontCharacter:"\\eb8e"}),d.debugStepBack=new d("debug-step-back",{fontCharacter:"\\eb8f"}),d.debugRestartFrame=new d("debug-restart-frame",{fontCharacter:"\\eb90"}),d.callIncoming=new d("call-incoming",{fontCharacter:"\\eb92"}),d.callOutgoing=new d("call-outgoing",{fontCharacter:"\\eb93"}),d.menu=new d("menu",{fontCharacter:"\\eb94"}),d.expandAll=new d("expand-all",{fontCharacter:"\\eb95"}),d.feedback=new d("feedback",{fontCharacter:"\\eb96"}),d.groupByRefType=new d("group-by-ref-type",{fontCharacter:"\\eb97"}),d.ungroupByRefType=new d("ungroup-by-ref-type",{fontCharacter:"\\eb98"}),d.account=new d("account",{fontCharacter:"\\eb99"}),d.bellDot=new d("bell-dot",{fontCharacter:"\\eb9a"}),d.debugConsole=new d("debug-console",{fontCharacter:"\\eb9b"}),d.library=new d("library",{fontCharacter:"\\eb9c"}),d.output=new d("output",{fontCharacter:"\\eb9d"}),d.runAll=new d("run-all",{fontCharacter:"\\eb9e"}),d.syncIgnored=new d("sync-ignored",{fontCharacter:"\\eb9f"}),d.pinned=new d("pinned",{fontCharacter:"\\eba0"}),d.githubInverted=new d("github-inverted",{fontCharacter:"\\eba1"}),d.debugAlt=new d("debug-alt",{fontCharacter:"\\eb91"}),d.serverProcess=new d("server-process",{fontCharacter:"\\eba2"}),d.serverEnvironment=new d("server-environment",{fontCharacter:"\\eba3"}),d.pass=new d("pass",{fontCharacter:"\\eba4"}),d.stopCircle=new d("stop-circle",{fontCharacter:"\\eba5"}),d.playCircle=new d("play-circle",{fontCharacter:"\\eba6"}),d.record=new d("record",{fontCharacter:"\\eba7"}),d.debugAltSmall=new d("debug-alt-small",{fontCharacter:"\\eba8"}),d.vmConnect=new d("vm-connect",{fontCharacter:"\\eba9"}),d.cloud=new d("cloud",{fontCharacter:"\\ebaa"}),d.merge=new d("merge",{fontCharacter:"\\ebab"}),d.exportIcon=new d("export",{fontCharacter:"\\ebac"}),d.graphLeft=new d("graph-left",{fontCharacter:"\\ebad"}),d.magnet=new d("magnet",{fontCharacter:"\\ebae"}),d.notebook=new d("notebook",{fontCharacter:"\\ebaf"}),d.redo=new d("redo",{fontCharacter:"\\ebb0"}),d.checkAll=new d("check-all",{fontCharacter:"\\ebb1"}),d.pinnedDirty=new d("pinned-dirty",{fontCharacter:"\\ebb2"}),d.passFilled=new d("pass-filled",{fontCharacter:"\\ebb3"}),d.circleLargeFilled=new d("circle-large-filled",{fontCharacter:"\\ebb4"}),d.circleLargeOutline=new d("circle-large-outline",{fontCharacter:"\\ebb5"}),d.combine=new d("combine",{fontCharacter:"\\ebb6"}),d.gather=new d("gather",{fontCharacter:"\\ebb6"}),d.table=new d("table",{fontCharacter:"\\ebb7"}),d.variableGroup=new d("variable-group",{fontCharacter:"\\ebb8"}),d.typeHierarchy=new d("type-hierarchy",{fontCharacter:"\\ebb9"}),d.typeHierarchySub=new d("type-hierarchy-sub",{fontCharacter:"\\ebba"}),d.typeHierarchySuper=new d("type-hierarchy-super",{fontCharacter:"\\ebbb"}),d.gitPullRequestCreate=new d("git-pull-request-create",{fontCharacter:"\\ebbc"}),d.runAbove=new d("run-above",{fontCharacter:"\\ebbd"}),d.runBelow=new d("run-below",{fontCharacter:"\\ebbe"}),d.notebookTemplate=new d("notebook-template",{fontCharacter:"\\ebbf"}),d.debugRerun=new d("debug-rerun",{fontCharacter:"\\ebc0"}),d.workspaceTrusted=new d("workspace-trusted",{fontCharacter:"\\ebc1"}),d.workspaceUntrusted=new d("workspace-untrusted",{fontCharacter:"\\ebc2"}),d.workspaceUnspecified=new d("workspace-unspecified",{fontCharacter:"\\ebc3"}),d.terminalCmd=new d("terminal-cmd",{fontCharacter:"\\ebc4"}),d.terminalDebian=new d("terminal-debian",{fontCharacter:"\\ebc5"}),d.terminalLinux=new d("terminal-linux",{fontCharacter:"\\ebc6"}),d.terminalPowershell=new d("terminal-powershell",{fontCharacter:"\\ebc7"}),d.terminalTmux=new d("terminal-tmux",{fontCharacter:"\\ebc8"}),d.terminalUbuntu=new d("terminal-ubuntu",{fontCharacter:"\\ebc9"}),d.terminalBash=new d("terminal-bash",{fontCharacter:"\\ebca"}),d.arrowSwap=new d("arrow-swap",{fontCharacter:"\\ebcb"}),d.copy=new d("copy",{fontCharacter:"\\ebcc"}),d.personAdd=new d("person-add",{fontCharacter:"\\ebcd"}),d.filterFilled=new d("filter-filled",{fontCharacter:"\\ebce"}),d.wand=new d("wand",{fontCharacter:"\\ebcf"}),d.debugLineByLine=new d("debug-line-by-line",{fontCharacter:"\\ebd0"}),d.inspect=new d("inspect",{fontCharacter:"\\ebd1"}),d.dropDownButton=new d("drop-down-button",d.chevronDown.definition)},5252:(Ct,Qe,a)=>{"use strict";a.d(Qe,{E:()=>U,r:()=>j});const T=Object.prototype.hasOwnProperty;function U(O,k){for(let $ in O)if(T.call(O,$)&&!1===k({key:$,value:O[$]},function(){delete O[$]}))return}class j{constructor(){this.map=new Map}add(k,$){let B=this.map.get(k);B||(B=new Set,this.map.set(k,B)),B.add($)}delete(k,$){const B=this.map.get(k);!B||(B.delete($),0===B.size&&this.map.delete(k))}forEach(k,$){const B=this.map.get(k);!B||B.forEach($)}}},3727:(Ct,Qe,a)=>{"use strict";function T($,B){const R=Math.pow(10,B);return Math.round($*R)/R}a.d(Qe,{VS:()=>U,tx:()=>O,Il:()=>k});class U{constructor(B,R,d,C=1){this._rgbaBrand=void 0,this.r=0|Math.min(255,Math.max(0,B)),this.g=0|Math.min(255,Math.max(0,R)),this.b=0|Math.min(255,Math.max(0,d)),this.a=T(Math.max(Math.min(1,C),0),3)}static equals(B,R){return B.r===R.r&&B.g===R.g&&B.b===R.b&&B.a===R.a}}class j{constructor(B,R,d,C){this._hslaBrand=void 0,this.h=0|Math.max(Math.min(360,B),0),this.s=T(Math.max(Math.min(1,R),0),3),this.l=T(Math.max(Math.min(1,d),0),3),this.a=T(Math.max(Math.min(1,C),0),3)}static equals(B,R){return B.h===R.h&&B.s===R.s&&B.l===R.l&&B.a===R.a}static fromRGBA(B){const R=B.r/255,d=B.g/255,C=B.b/255,g=B.a,b=Math.max(R,d,C),I=Math.min(R,d,C);let p=0,w=0;const E=(I+b)/2,S=b-I;if(S>0){switch(w=Math.min(E<=.5?S/(2*E):S/(2-2*E),1),b){case R:p=(d-C)/S+(d<C?6:0);break;case d:p=(C-R)/S+2;break;case C:p=(R-d)/S+4}p*=60,p=Math.round(p)}return new j(p,w,E,g)}static _hue2rgb(B,R,d){return d<0&&(d+=1),d>1&&(d-=1),d<1/6?B+6*(R-B)*d:d<.5?R:d<2/3?B+(R-B)*(2/3-d)*6:B}static toRGBA(B){const R=B.h/360,{s:d,l:C,a:g}=B;let b,I,p;if(0===d)b=I=p=C;else{const w=C<.5?C*(1+d):C+d-C*d,E=2*C-w;b=j._hue2rgb(E,w,R+1/3),I=j._hue2rgb(E,w,R),p=j._hue2rgb(E,w,R-1/3)}return new U(Math.round(255*b),Math.round(255*I),Math.round(255*p),g)}}class O{constructor(B,R,d,C){this._hsvaBrand=void 0,this.h=0|Math.max(Math.min(360,B),0),this.s=T(Math.max(Math.min(1,R),0),3),this.v=T(Math.max(Math.min(1,d),0),3),this.a=T(Math.max(Math.min(1,C),0),3)}static equals(B,R){return B.h===R.h&&B.s===R.s&&B.v===R.v&&B.a===R.a}static fromRGBA(B){const R=B.r/255,d=B.g/255,C=B.b/255,g=Math.max(R,d,C),I=g-Math.min(R,d,C),p=0===g?0:I/g;let w;return w=0===I?0:g===R?((d-C)/I%6+6)%6:g===d?(C-R)/I+2:(R-d)/I+4,new O(Math.round(60*w),p,g,B.a)}static toRGBA(B){const{h:R,s:d,v:C,a:g}=B,b=C*d,I=b*(1-Math.abs(R/60%2-1)),p=C-b;let[w,E,S]=[0,0,0];return R<60?(w=b,E=I):R<120?(w=I,E=b):R<180?(E=b,S=I):R<240?(E=I,S=b):R<300?(w=I,S=b):R<=360&&(w=b,S=I),w=Math.round(255*(w+p)),E=Math.round(255*(E+p)),S=Math.round(255*(S+p)),new U(w,E,S,g)}}class k{constructor(B){if(!B)throw new Error("Color needs a value");if(B instanceof U)this.rgba=B;else if(B instanceof j)this._hsla=B,this.rgba=j.toRGBA(B);else{if(!(B instanceof O))throw new Error("Invalid color ctor argument");this._hsva=B,this.rgba=O.toRGBA(B)}}static fromHex(B){return k.Format.CSS.parseHex(B)||k.red}get hsla(){return this._hsla?this._hsla:j.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:O.fromRGBA(this.rgba)}equals(B){return!!B&&U.equals(this.rgba,B.rgba)&&j.equals(this.hsla,B.hsla)&&O.equals(this.hsva,B.hsva)}getRelativeLuminance(){return T(.2126*k._relativeLuminanceForComponent(this.rgba.r)+.7152*k._relativeLuminanceForComponent(this.rgba.g)+.0722*k._relativeLuminanceForComponent(this.rgba.b),4)}static _relativeLuminanceForComponent(B){const R=B/255;return R<=.03928?R/12.92:Math.pow((R+.055)/1.055,2.4)}isLighter(){return(299*this.rgba.r+587*this.rgba.g+114*this.rgba.b)/1e3>=128}isLighterThan(B){return this.getRelativeLuminance()>B.getRelativeLuminance()}isDarkerThan(B){return this.getRelativeLuminance()<B.getRelativeLuminance()}lighten(B){return new k(new j(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*B,this.hsla.a))}darken(B){return new k(new j(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*B,this.hsla.a))}transparent(B){const{r:R,g:d,b:C,a:g}=this.rgba;return new k(new U(R,d,C,g*B))}isTransparent(){return 0===this.rgba.a}isOpaque(){return 1===this.rgba.a}opposite(){return new k(new U(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}toString(){return""+k.Format.CSS.format(this)}static getLighterColor(B,R,d){if(B.isLighterThan(R))return B;d=d||.5;const C=B.getRelativeLuminance(),g=R.getRelativeLuminance();return B.lighten(d=d*(g-C)/g)}static getDarkerColor(B,R,d){if(B.isDarkerThan(R))return B;d=d||.5;const C=B.getRelativeLuminance(),g=R.getRelativeLuminance();return B.darken(d=d*(C-g)/C)}}k.white=new k(new U(255,255,255,1)),k.black=new k(new U(0,0,0,1)),k.red=new k(new U(255,0,0,1)),k.blue=new k(new U(0,0,255,1)),k.cyan=new k(new U(0,255,255,1)),k.lightgrey=new k(new U(211,211,211,1)),k.transparent=new k(new U(0,0,0,0)),function($){let B;!function(R){let d;!function(C){function w(f){const m=f.toString(16);return 2!==m.length?"0"+m:m}function _(f){switch(f){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:case 65:return 10;case 98:case 66:return 11;case 99:case 67:return 12;case 100:case 68:return 13;case 101:case 69:return 14;case 102:case 70:return 15}return 0}C.formatRGB=function(f){return 1===f.rgba.a?`rgb(${f.rgba.r}, ${f.rgba.g}, ${f.rgba.b})`:$.Format.CSS.formatRGBA(f)},C.formatRGBA=function(f){return`rgba(${f.rgba.r}, ${f.rgba.g}, ${f.rgba.b}, ${+f.rgba.a.toFixed(2)})`},C.formatHSL=function(f){return 1===f.hsla.a?`hsl(${f.hsla.h}, ${(100*f.hsla.s).toFixed(2)}%, ${(100*f.hsla.l).toFixed(2)}%)`:$.Format.CSS.formatHSLA(f)},C.formatHSLA=function(f){return`hsla(${f.hsla.h}, ${(100*f.hsla.s).toFixed(2)}%, ${(100*f.hsla.l).toFixed(2)}%, ${f.hsla.a.toFixed(2)})`},C.formatHex=function(f){return`#${w(f.rgba.r)}${w(f.rgba.g)}${w(f.rgba.b)}`},C.formatHexA=function(f,m=!1){return m&&1===f.rgba.a?$.Format.CSS.formatHex(f):`#${w(f.rgba.r)}${w(f.rgba.g)}${w(f.rgba.b)}${w(Math.round(255*f.rgba.a))}`},C.format=function(f){return f.isOpaque()?$.Format.CSS.formatHex(f):$.Format.CSS.formatRGBA(f)},C.parseHex=function(f){const m=f.length;if(0===m||35!==f.charCodeAt(0))return null;if(7===m){const L=16*_(f.charCodeAt(1))+_(f.charCodeAt(2)),F=16*_(f.charCodeAt(3))+_(f.charCodeAt(4)),G=16*_(f.charCodeAt(5))+_(f.charCodeAt(6));return new $(new U(L,F,G,1))}if(9===m){const L=16*_(f.charCodeAt(1))+_(f.charCodeAt(2)),F=16*_(f.charCodeAt(3))+_(f.charCodeAt(4)),G=16*_(f.charCodeAt(5))+_(f.charCodeAt(6)),Y=16*_(f.charCodeAt(7))+_(f.charCodeAt(8));return new $(new U(L,F,G,Y/255))}if(4===m){const L=_(f.charCodeAt(1)),F=_(f.charCodeAt(2)),G=_(f.charCodeAt(3));return new $(new U(16*L+L,16*F+F,16*G+G))}if(5===m){const L=_(f.charCodeAt(1)),F=_(f.charCodeAt(2)),G=_(f.charCodeAt(3)),Y=_(f.charCodeAt(4));return new $(new U(16*L+L,16*F+F,16*G+G,(16*Y+Y)/255))}return null}}(d=R.CSS||(R.CSS={}))}(B=$.Format||($.Format={}))}(k||(k={}))},9749:(Ct,Qe,a)=>{"use strict";function T(U,j,O){let k=null,$=null;if("function"==typeof O.value?(k="value",$=O.value,0!==$.length&&console.warn("Memoize should only be used in functions with zero parameters")):"function"==typeof O.get&&(k="get",$=O.get),!$)throw new Error("not supported");const B=`$memoize$${j}`;O[k]=function(...R){return this.hasOwnProperty(B)||Object.defineProperty(this,B,{configurable:!1,enumerable:!1,writable:!1,value:$.apply(this,R)}),this[B]}}a.d(Qe,{H:()=>T})},2398:(Ct,Qe,a)=>{"use strict";a.d(Qe,{Hs:()=>R,a$:()=>O});class T{constructor(C,g,b,I){this.originalStart=C,this.originalLength=g,this.modifiedStart=b,this.modifiedLength=I}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}var U=a(3728);class j{constructor(C){this.source=C}getElements(){const C=this.source,g=new Int32Array(C.length);for(let b=0,I=C.length;b<I;b++)g[b]=C.charCodeAt(b);return g}}function O(d,C,g){return new R(new j(d),new j(C)).ComputeDiff(g).changes}class k{static Assert(C,g){if(!C)throw new Error(g)}}class ${static Copy(C,g,b,I,p){for(let w=0;w<p;w++)b[I+w]=C[g+w]}static Copy2(C,g,b,I,p){for(let w=0;w<p;w++)b[I+w]=C[g+w]}}class B{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new T(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(C,g){this.m_originalStart=Math.min(this.m_originalStart,C),this.m_modifiedStart=Math.min(this.m_modifiedStart,g),this.m_originalCount++}AddModifiedElement(C,g){this.m_originalStart=Math.min(this.m_originalStart,C),this.m_modifiedStart=Math.min(this.m_modifiedStart,g),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class R{constructor(C,g,b=null){this.ContinueProcessingPredicate=b,this._originalSequence=C,this._modifiedSequence=g;const[I,p,w]=R._getElements(C),[E,S,v]=R._getElements(g);this._hasStrings=w&&v,this._originalStringElements=I,this._originalElementsOrHash=p,this._modifiedStringElements=E,this._modifiedElementsOrHash=S,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(C){return C.length>0&&"string"==typeof C[0]}static _getElements(C){const g=C.getElements();if(R._isStringArray(g)){const b=new Int32Array(g.length);for(let I=0,p=g.length;I<p;I++)b[I]=(0,U.Cv)(g[I],0);return[g,b,!0]}return g instanceof Int32Array?[[],g,!1]:[[],new Int32Array(g),!1]}ElementsAreEqual(C,g){return this._originalElementsOrHash[C]===this._modifiedElementsOrHash[g]&&(!this._hasStrings||this._originalStringElements[C]===this._modifiedStringElements[g])}ElementsAreStrictEqual(C,g){return!!this.ElementsAreEqual(C,g)&&R._getStrictElement(this._originalSequence,C)===R._getStrictElement(this._modifiedSequence,g)}static _getStrictElement(C,g){return"function"==typeof C.getStrictElement?C.getStrictElement(g):null}OriginalElementsAreEqual(C,g){return this._originalElementsOrHash[C]===this._originalElementsOrHash[g]&&(!this._hasStrings||this._originalStringElements[C]===this._originalStringElements[g])}ModifiedElementsAreEqual(C,g){return this._modifiedElementsOrHash[C]===this._modifiedElementsOrHash[g]&&(!this._hasStrings||this._modifiedStringElements[C]===this._modifiedStringElements[g])}ComputeDiff(C){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,C)}_ComputeDiff(C,g,b,I,p){const w=[!1];let E=this.ComputeDiffRecursive(C,g,b,I,w);return p&&(E=this.PrettifyChanges(E)),{quitEarly:w[0],changes:E}}ComputeDiffRecursive(C,g,b,I,p){for(p[0]=!1;C<=g&&b<=I&&this.ElementsAreEqual(C,b);)C++,b++;for(;g>=C&&I>=b&&this.ElementsAreEqual(g,I);)g--,I--;if(C>g||b>I){let _;return b<=I?(k.Assert(C===g+1,"originalStart should only be one more than originalEnd"),_=[new T(C,0,b,I-b+1)]):C<=g?(k.Assert(b===I+1,"modifiedStart should only be one more than modifiedEnd"),_=[new T(C,g-C+1,b,0)]):(k.Assert(C===g+1,"originalStart should only be one more than originalEnd"),k.Assert(b===I+1,"modifiedStart should only be one more than modifiedEnd"),_=[]),_}const w=[0],E=[0],S=this.ComputeRecursionPoint(C,g,b,I,w,E,p),v=w[0],M=E[0];if(null!==S)return S;if(!p[0]){const _=this.ComputeDiffRecursive(C,v,b,M,p);let f=[];return f=p[0]?[new T(v+1,g-(v+1)+1,M+1,I-(M+1)+1)]:this.ComputeDiffRecursive(v+1,g,M+1,I,p),this.ConcatenateChanges(_,f)}return[new T(C,g-C+1,b,I-b+1)]}WALKTRACE(C,g,b,I,p,w,E,S,v,M,_,f,m,L,F,G,Y,de){let le=null,ce=null,be=new B,N=g,V=b,Z=m[0]-G[0]-I,ie=-1073741824,ue=this.m_forwardHistory.length-1;do{const oe=Z+C;oe===N||oe<V&&v[oe-1]<v[oe+1]?(L=(_=v[oe+1])-Z-I,_<ie&&be.MarkNextChange(),ie=_,be.AddModifiedElement(_+1,L),Z=oe+1-C):(L=(_=v[oe-1]+1)-Z-I,_<ie&&be.MarkNextChange(),ie=_-1,be.AddOriginalElement(_,L+1),Z=oe-1-C),ue>=0&&(C=(v=this.m_forwardHistory[ue])[0],N=1,V=v.length-1)}while(--ue>=-1);if(le=be.getReverseChanges(),de[0]){let oe=m[0]+1,ee=G[0]+1;if(null!==le&&le.length>0){const K=le[le.length-1];oe=Math.max(oe,K.getOriginalEnd()),ee=Math.max(ee,K.getModifiedEnd())}ce=[new T(oe,f-oe+1,ee,F-ee+1)]}else{be=new B,N=w,V=E,Z=m[0]-G[0]-S,ie=1073741824,ue=Y?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const oe=Z+p;oe===N||oe<V&&M[oe-1]>=M[oe+1]?(L=(_=M[oe+1]-1)-Z-S,_>ie&&be.MarkNextChange(),ie=_+1,be.AddOriginalElement(_+1,L+1),Z=oe+1-p):(L=(_=M[oe-1])-Z-S,_>ie&&be.MarkNextChange(),ie=_,be.AddModifiedElement(_+1,L+1),Z=oe-1-p),ue>=0&&(p=(M=this.m_reverseHistory[ue])[0],N=1,V=M.length-1)}while(--ue>=-1);ce=be.getChanges()}return this.ConcatenateChanges(le,ce)}ComputeRecursionPoint(C,g,b,I,p,w,E){let S=0,v=0,M=0,_=0,f=0,m=0;C--,b--,p[0]=0,w[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const L=g-C+(I-b),F=L+1,G=new Int32Array(F),Y=new Int32Array(F),de=I-b,le=g-C,ce=C-b,be=g-I,V=(le-de)%2==0;G[de]=C,Y[le]=g,E[0]=!1;for(let Z=1;Z<=L/2+1;Z++){let ie=0,ue=0;M=this.ClipDiagonalBound(de-Z,Z,de,F),_=this.ClipDiagonalBound(de+Z,Z,de,F);for(let ee=M;ee<=_;ee+=2){S=ee===M||ee<_&&G[ee-1]<G[ee+1]?G[ee+1]:G[ee-1]+1,v=S-(ee-de)-ce;const K=S;for(;S<g&&v<I&&this.ElementsAreEqual(S+1,v+1);)S++,v++;if(G[ee]=S,S+v>ie+ue&&(ie=S,ue=v),!V&&Math.abs(ee-le)<=Z-1&&S>=Y[ee])return p[0]=S,w[0]=v,K<=Y[ee]&&Z<=1448?this.WALKTRACE(de,M,_,ce,le,f,m,be,G,Y,S,g,p,v,I,w,V,E):null}const oe=(ie-C+(ue-b)-Z)/2;if(null!==this.ContinueProcessingPredicate&&!this.ContinueProcessingPredicate(ie,oe))return E[0]=!0,p[0]=ie,w[0]=ue,oe>0&&Z<=1448?this.WALKTRACE(de,M,_,ce,le,f,m,be,G,Y,S,g,p,v,I,w,V,E):(C++,b++,[new T(C,g-C+1,b,I-b+1)]);f=this.ClipDiagonalBound(le-Z,Z,le,F),m=this.ClipDiagonalBound(le+Z,Z,le,F);for(let ee=f;ee<=m;ee+=2){S=ee===f||ee<m&&Y[ee-1]>=Y[ee+1]?Y[ee+1]-1:Y[ee-1],v=S-(ee-le)-be;const K=S;for(;S>C&&v>b&&this.ElementsAreEqual(S,v);)S--,v--;if(Y[ee]=S,V&&Math.abs(ee-de)<=Z&&S<=G[ee])return p[0]=S,w[0]=v,K>=G[ee]&&Z<=1448?this.WALKTRACE(de,M,_,ce,le,f,m,be,G,Y,S,g,p,v,I,w,V,E):null}if(Z<=1447){let ee=new Int32Array(_-M+2);ee[0]=de-M+1,$.Copy2(G,M,ee,1,_-M+1),this.m_forwardHistory.push(ee),ee=new Int32Array(m-f+2),ee[0]=le-f+1,$.Copy2(Y,f,ee,1,m-f+1),this.m_reverseHistory.push(ee)}}return this.WALKTRACE(de,M,_,ce,le,f,m,be,G,Y,S,g,p,v,I,w,V,E)}PrettifyChanges(C){for(let g=0;g<C.length;g++){const b=C[g],I=g<C.length-1?C[g+1].originalStart:this._originalElementsOrHash.length,p=g<C.length-1?C[g+1].modifiedStart:this._modifiedElementsOrHash.length,w=b.originalLength>0,E=b.modifiedLength>0;for(;b.originalStart+b.originalLength<I&&b.modifiedStart+b.modifiedLength<p&&(!w||this.OriginalElementsAreEqual(b.originalStart,b.originalStart+b.originalLength))&&(!E||this.ModifiedElementsAreEqual(b.modifiedStart,b.modifiedStart+b.modifiedLength));){const v=this.ElementsAreStrictEqual(b.originalStart,b.modifiedStart);if(this.ElementsAreStrictEqual(b.originalStart+b.originalLength,b.modifiedStart+b.modifiedLength)&&!v)break;b.originalStart++,b.modifiedStart++}let S=[null];g<C.length-1&&this.ChangesOverlap(C[g],C[g+1],S)&&(C[g]=S[0],C.splice(g+1,1),g--)}for(let g=C.length-1;g>=0;g--){const b=C[g];let I=0,p=0;if(g>0){const _=C[g-1];I=_.originalStart+_.originalLength,p=_.modifiedStart+_.modifiedLength}const w=b.originalLength>0,E=b.modifiedLength>0;let S=0,v=this._boundaryScore(b.originalStart,b.originalLength,b.modifiedStart,b.modifiedLength);for(let _=1;;_++){const f=b.originalStart-_,m=b.modifiedStart-_;if(f<I||m<p||w&&!this.OriginalElementsAreEqual(f,f+b.originalLength)||E&&!this.ModifiedElementsAreEqual(m,m+b.modifiedLength))break;const F=(f===I&&m===p?5:0)+this._boundaryScore(f,b.originalLength,m,b.modifiedLength);F>v&&(v=F,S=_)}b.originalStart-=S,b.modifiedStart-=S;const M=[null];g>0&&this.ChangesOverlap(C[g-1],C[g],M)&&(C[g-1]=M[0],C.splice(g,1),g++)}if(this._hasStrings)for(let g=1,b=C.length;g<b;g++){const I=C[g-1],p=C[g],w=p.originalStart-I.originalStart-I.originalLength,E=I.originalStart,S=p.originalStart+p.originalLength,v=S-E,M=I.modifiedStart,_=p.modifiedStart+p.modifiedLength,f=_-M;if(w<5&&v<20&&f<20){const m=this._findBetterContiguousSequence(E,v,M,f,w);if(m){const[L,F]=m;(L!==I.originalStart+I.originalLength||F!==I.modifiedStart+I.modifiedLength)&&(I.originalLength=L-I.originalStart,I.modifiedLength=F-I.modifiedStart,p.originalStart=L+w,p.modifiedStart=F+w,p.originalLength=S-p.originalStart,p.modifiedLength=_-p.modifiedStart)}}}return C}_findBetterContiguousSequence(C,g,b,I,p){if(g<p||I<p)return null;const w=C+g-p+1,E=b+I-p+1;let S=0,v=0,M=0;for(let _=C;_<w;_++)for(let f=b;f<E;f++){const m=this._contiguousSequenceScore(_,f,p);m>0&&m>S&&(S=m,v=_,M=f)}return S>0?[v,M]:null}_contiguousSequenceScore(C,g,b){let I=0;for(let p=0;p<b;p++){if(!this.ElementsAreEqual(C+p,g+p))return 0;I+=this._originalStringElements[C+p].length}return I}_OriginalIsBoundary(C){return C<=0||C>=this._originalElementsOrHash.length-1||this._hasStrings&&/^\s*$/.test(this._originalStringElements[C])}_OriginalRegionIsBoundary(C,g){if(this._OriginalIsBoundary(C)||this._OriginalIsBoundary(C-1))return!0;if(g>0){const b=C+g;if(this._OriginalIsBoundary(b-1)||this._OriginalIsBoundary(b))return!0}return!1}_ModifiedIsBoundary(C){return C<=0||C>=this._modifiedElementsOrHash.length-1||this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[C])}_ModifiedRegionIsBoundary(C,g){if(this._ModifiedIsBoundary(C)||this._ModifiedIsBoundary(C-1))return!0;if(g>0){const b=C+g;if(this._ModifiedIsBoundary(b-1)||this._ModifiedIsBoundary(b))return!0}return!1}_boundaryScore(C,g,b,I){return(this._OriginalRegionIsBoundary(C,g)?1:0)+(this._ModifiedRegionIsBoundary(b,I)?1:0)}ConcatenateChanges(C,g){let b=[];if(0===C.length||0===g.length)return g.length>0?g:C;if(this.ChangesOverlap(C[C.length-1],g[0],b)){const I=new Array(C.length+g.length-1);return $.Copy(C,0,I,0,C.length-1),I[C.length-1]=b[0],$.Copy(g,1,I,C.length,g.length-1),I}{const I=new Array(C.length+g.length);return $.Copy(C,0,I,0,C.length),$.Copy(g,0,I,C.length,g.length),I}}ChangesOverlap(C,g,b){if(k.Assert(C.originalStart<=g.originalStart,"Left change is not less than or equal to right change"),k.Assert(C.modifiedStart<=g.modifiedStart,"Left change is not less than or equal to right change"),C.originalStart+C.originalLength>=g.originalStart||C.modifiedStart+C.modifiedLength>=g.modifiedStart){let p=C.originalLength,E=C.modifiedLength;return C.originalStart+C.originalLength>=g.originalStart&&(p=g.originalStart+g.originalLength-C.originalStart),C.modifiedStart+C.modifiedLength>=g.modifiedStart&&(E=g.modifiedStart+g.modifiedLength-C.modifiedStart),b[0]=new T(C.originalStart,p,C.modifiedStart,E),!0}return b[0]=null,!1}ClipDiagonalBound(C,g,b,I){if(C>=0&&C<I)return C;const E=g%2==0;return C<0?E===(b%2==0)?0:1:E===((I-b-1)%2==0)?I-1:I-2}}},5160:(Ct,Qe,a)=>{"use strict";a.d(Qe,{dL:()=>j,Cp:()=>O,ri:()=>k,VV:()=>B,F0:()=>R,b1:()=>d,L6:()=>C});const U=new class{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(b){setTimeout(()=>{throw b.stack?new Error(b.message+"\n\n"+b.stack):b},0)}}emit(b){this.listeners.forEach(I=>{I(b)})}onUnexpectedError(b){this.unexpectedErrorHandler(b),this.emit(b)}onUnexpectedExternalError(b){this.unexpectedErrorHandler(b)}};function j(g){B(g)||U.onUnexpectedError(g)}function O(g){B(g)||U.onUnexpectedExternalError(g)}function k(g){if(g instanceof Error){let{name:b,message:I}=g;return{$isError:!0,name:b,message:I,stack:g.stacktrace||g.stack}}return g}const $="Canceled";function B(g){return g instanceof Error&&g.name===$&&g.message===$}function R(){const g=new Error($);return g.name=g.message,g}function d(g){return g?new Error(`Illegal argument: ${g}`):new Error("Illegal argument")}function C(g){return g?new Error(`Illegal state: ${g}`):new Error("Illegal state")}},6723:(Ct,Qe,a)=>{"use strict";a.d(Qe,{ju:()=>k,Q5:()=>d,K3:()=>C,D0:()=>g,E7:()=>b,ZD:()=>I});var k,T=a(5160),U=a(1719),j=a(4857),O=a(2329);!function(p){function w(V){return(Z,ie=null,ue)=>{let ee,oe=!1;return ee=V(K=>{if(!oe)return ee?ee.dispose():oe=!0,Z.call(ie,K)},null,ue),oe&&ee.dispose(),ee}}function E(V,Z){return m((ie,ue=null,oe)=>V(ee=>ie.call(ue,Z(ee)),null,oe))}function S(V,Z){return m((ie,ue=null,oe)=>V(ee=>{Z(ee),ie.call(ue,ee)},null,oe))}function v(V,Z){return m((ie,ue=null,oe)=>V(ee=>Z(ee)&&ie.call(ue,ee),null,oe))}function f(V,Z,ie){let ue=ie;return E(V,oe=>(ue=Z(ue,oe),ue))}function m(V){let Z;const ie=new d({onFirstListenerAdd(){Z=V(ie.fire,ie)},onLastListenerRemove(){Z.dispose()}});return ie.event}function L(V,Z,ie=100,ue=!1,oe){let ee,K,ne,he=0;const ge=new d({leakWarningThreshold:oe,onFirstListenerAdd(){ee=V(re=>{he++,K=Z(K,re),ue&&!ne&&(ge.fire(K),K=void 0),clearTimeout(ne),ne=setTimeout(()=>{const ye=K;K=void 0,ne=void 0,(!ue||he>1)&&ge.fire(ye),he=0},ie)})},onLastListenerRemove(){ee.dispose()}});return ge.event}function F(V,Z=((ie,ue)=>ie===ue)){let ue,ie=!0;return v(V,oe=>{const ee=ie||!Z(oe,ue);return ie=!1,ue=oe,ee})}p.None=()=>U.JT.None,p.once=w,p.map=E,p.forEach=S,p.filter=v,p.signal=function(V){return V},p.any=function(...V){return(Z,ie=null,ue)=>(0,U.F8)(...V.map(oe=>oe(ee=>Z.call(ie,ee),null,ue)))},p.reduce=f,p.debounce=L,p.latch=F,p.split=function(V,Z){return[p.filter(V,Z),p.filter(V,ie=>!Z(ie))]},p.buffer=function(V,Z=!1,ie=[]){let ue=ie.slice(),oe=V(ne=>{ue?ue.push(ne):K.fire(ne)});const ee=()=>{ue&&ue.forEach(ne=>K.fire(ne)),ue=null},K=new d({onFirstListenerAdd(){oe||(oe=V(ne=>K.fire(ne)))},onFirstListenerDidAdd(){ue&&(Z?setTimeout(ee):ee())},onLastListenerRemove(){oe&&oe.dispose(),oe=null}});return K.event};class de{constructor(Z){this.event=Z}map(Z){return new de(E(this.event,Z))}forEach(Z){return new de(S(this.event,Z))}filter(Z){return new de(v(this.event,Z))}reduce(Z,ie){return new de(f(this.event,Z,ie))}latch(){return new de(F(this.event))}debounce(Z,ie=100,ue=!1,oe){return new de(L(this.event,Z,ie,ue,oe))}on(Z,ie,ue){return this.event(Z,ie,ue)}once(Z,ie,ue){return w(this.event)(Z,ie,ue)}}p.chain=function(V){return new de(V)},p.fromNodeEventEmitter=function(V,Z,ie=(ue=>ue)){const ue=(...ne)=>K.fire(ie(...ne)),K=new d({onFirstListenerAdd:()=>V.on(Z,ue),onLastListenerRemove:()=>V.removeListener(Z,ue)});return K.event},p.fromDOMEventEmitter=function(V,Z,ie=(ue=>ue)){const ue=(...ne)=>K.fire(ie(...ne)),K=new d({onFirstListenerAdd:()=>V.addEventListener(Z,ue),onLastListenerRemove:()=>V.removeEventListener(Z,ue)});return K.event},p.toPromise=function(V){return new Promise(Z=>w(V)(Z))}}(k||(k={}));let $=(()=>{class p{constructor(E){this._listenerCount=0,this._invocationCount=0,this._elapsedOverall=0,this._name=`${E}_${p._idPool++}`}start(E){this._stopWatch=new O.G(!0),this._listenerCount=E}stop(){if(this._stopWatch){const E=this._stopWatch.elapsed();this._elapsedOverall+=E,this._invocationCount+=1,console.info(`did FIRE ${this._name}: elapsed_ms: ${E.toFixed(5)}, listener: ${this._listenerCount} (elapsed_overall: ${this._elapsedOverall.toFixed(2)}, invocations: ${this._invocationCount})`),this._stopWatch=void 0}}}return p._idPool=0,p})(),d=(()=>{class p{constructor(E){var S;this._disposed=!1,this._options=E,this._leakageMon=void 0,this._perfMon=(null===(S=this._options)||void 0===S?void 0:S._profName)?new $(this._options._profName):void 0}get event(){return this._event||(this._event=(E,S,v)=>{var M;this._listeners||(this._listeners=new j.S);const _=this._listeners.isEmpty();_&&this._options&&this._options.onFirstListenerAdd&&this._options.onFirstListenerAdd(this);const f=this._listeners.push(S?[E,S]:E);_&&this._options&&this._options.onFirstListenerDidAdd&&this._options.onFirstListenerDidAdd(this),this._options&&this._options.onListenerDidAdd&&this._options.onListenerDidAdd(this,E,S);const m=null===(M=this._leakageMon)||void 0===M?void 0:M.check(this._listeners.size);let L;return L={dispose:()=>{m&&m(),L.dispose=p._noop,this._disposed||(f(),this._options&&this._options.onLastListenerRemove&&(this._listeners&&!this._listeners.isEmpty()||this._options.onLastListenerRemove(this)))}},v instanceof U.SL?v.add(L):Array.isArray(v)&&v.push(L),L}),this._event}fire(E){var S,v;if(this._listeners){this._deliveryQueue||(this._deliveryQueue=new j.S);for(let M of this._listeners)this._deliveryQueue.push([M,E]);for(null===(S=this._perfMon)||void 0===S||S.start(this._deliveryQueue.size);this._deliveryQueue.size>0;){const[M,_]=this._deliveryQueue.shift();try{"function"==typeof M?M.call(void 0,_):M[0].call(M[1],_)}catch(f){(0,T.dL)(f)}}null===(v=this._perfMon)||void 0===v||v.stop()}}dispose(){var E,S,v,M,_;this._disposed||(this._disposed=!0,null===(E=this._listeners)||void 0===E||E.clear(),null===(S=this._deliveryQueue)||void 0===S||S.clear(),null===(M=null===(v=this._options)||void 0===v?void 0:v.onLastListenerRemove)||void 0===M||M.call(v),null===(_=this._leakageMon)||void 0===_||_.dispose())}}return p._noop=function(){},p})();class C extends d{constructor(w){super(w),this._isPaused=0,this._eventQueue=new j.S,this._mergeFn=null==w?void 0:w.merge}pause(){this._isPaused++}resume(){if(0!==this._isPaused&&0==--this._isPaused)if(this._mergeFn){const w=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(w))}else for(;!this._isPaused&&0!==this._eventQueue.size;)super.fire(this._eventQueue.shift())}fire(w){this._listeners&&(0!==this._isPaused?this._eventQueue.push(w):super.fire(w))}}class g extends C{constructor(w){var E;super(w),this._delay=null!==(E=w.delay)&&void 0!==E?E:100}fire(w){this._handle||(this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay)),super.fire(w)}}class b{constructor(){this.buffers=[]}wrapEvent(w){return(E,S,v)=>w(M=>{const _=this.buffers[this.buffers.length-1];_?_.push(()=>E.call(S,M)):E.call(S,M)},void 0,v)}bufferEvents(w){const E=[];this.buffers.push(E);const S=w();return this.buffers.pop(),E.forEach(v=>v()),S}}class I{constructor(){this.listening=!1,this.inputEvent=k.None,this.inputEventListener=U.JT.None,this.emitter=new d({onFirstListenerDidAdd:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onLastListenerRemove:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(w){this.inputEvent=w,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=w(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}},9513:(Ct,Qe,a)=>{"use strict";a.d(Qe,{fn:()=>k,KM:()=>$,vY:()=>R,oP:()=>d});var T=a(9190),U=a(579),j=a(8416);function k(C){return-1===C.indexOf("/")&&(C=function(C){return C.replace(/[\\/]/g,j.KR.sep)}(C)),/^[a-zA-Z]:(\/|$)/.test(C)&&(C="/"+C),C}function $(C,g,b,I=j.ir){if(C===g)return!0;if(!C||!g||g.length>C.length)return!1;if(b){if(!(0,U.ok)(C,g))return!1;if(g.length===C.length)return!0;let w=g.length;return g.charAt(g.length-1)===I&&w--,C.charAt(w)===I}return g.charAt(g.length-1)!==I&&(g+=I),0===C.indexOf(g)}function R(C){const g=(0,j.Fv)(C);return T.ED?!(C.length>3)&&d(g)&&(2===C.length||92===g.charCodeAt(2)):g===j.KR.sep}function d(C){return!!T.ED&&function(C){return C>=65&&C<=90||C>=97&&C<=122}(C.charCodeAt(0))&&58===C.charCodeAt(1)}},9785:(Ct,Qe,a)=>{"use strict";a.d(Qe,{or:()=>j,Ji:()=>O,ir:()=>$,KZ:()=>G,Oh:()=>N,jB:()=>V,mB:()=>Z,CL:()=>Ce,EW:()=>Je,l7:()=>Ae});var T=a(299),U=a(579);function j(...Be){return function(Ue,ot){for(let vt=0,At=Be.length;vt<At;vt++){const ve=Be[vt](Ue,ot);if(ve)return ve}return null}}const O=function(Be,Ue,ot){if(!ot||ot.length<Ue.length)return null;let vt;return vt=Be?U.ok(ot,Ue):0===ot.indexOf(Ue),vt?Ue.length>0?[{start:0,end:Ue.length}]:[]:null}.bind(void 0,!0);function $(Be,Ue){const ot=Ue.toLowerCase().indexOf(Be.toLowerCase());return-1===ot?null:[{start:ot,end:ot+Be.length}]}function R(Be,Ue,ot,vt){if(ot===Be.length)return[];if(vt===Ue.length)return null;if(Be[ot]===Ue[vt]){let At=null;return(At=R(Be,Ue,ot+1,vt+1))?S({start:vt,end:vt+1},At):null}return R(Be,Ue,ot,vt+1)}function d(Be){return 97<=Be&&Be<=122}function C(Be){return 65<=Be&&Be<=90}function g(Be){return 48<=Be&&Be<=57}function b(Be){return 32===Be||9===Be||10===Be||13===Be}const I=new Set;function p(Be){return b(Be)||I.has(Be)}function E(Be){return d(Be)||C(Be)||g(Be)}function S(Be,Ue){return 0===Ue.length?Ue=[Be]:Be.end===Ue[0].start?Ue[0].start=Be.start:Ue.unshift(Be),Ue}function v(Be,Ue){for(let ot=Ue;ot<Be.length;ot++){const vt=Be.charCodeAt(ot);if(C(vt)||g(vt)||ot>0&&!E(Be.charCodeAt(ot-1)))return ot}return Be.length}function M(Be,Ue,ot,vt){if(ot===Be.length)return[];if(vt===Ue.length)return null;if(Be[ot]!==Ue[vt].toLowerCase())return null;{let At=null,ve=vt+1;for(At=M(Be,Ue,ot+1,vt+1);!At&&(ve=v(Ue,ve))<Ue.length;)At=M(Be,Ue,ot+1,ve),ve++;return null===At?null:S({start:vt,end:vt+1},At)}}function F(Be,Ue){if(!Ue||0===(Ue=Ue.trim()).length||!function(Be){let Ue=0,ot=0,vt=0,At=0;for(let ve=0;ve<Be.length;ve++)vt=Be.charCodeAt(ve),C(vt)&&Ue++,d(vt)&&ot++,b(vt)&&At++;return 0!==Ue&&0!==ot||0!==At?Ue<=5:Be.length<=30}(Be)||Ue.length>60)return null;const ot=function(Be){let Ue=0,ot=0,vt=0,At=0,ve=0;for(let dt=0;dt<Be.length;dt++)ve=Be.charCodeAt(dt),C(ve)&&Ue++,d(ve)&&ot++,E(ve)&&vt++,g(ve)&&At++;return{upperPercent:Ue/Be.length,lowerPercent:ot/Be.length,alphaPercent:vt/Be.length,numericPercent:At/Be.length}}(Ue);if(!function(Be){const{upperPercent:Ue,lowerPercent:ot,alphaPercent:vt,numericPercent:At}=Be;return ot>.2&&Ue<.8&&vt>.6&&At<.2}(ot)){if(!function(Be){const{upperPercent:Ue,lowerPercent:ot}=Be;return 0===ot&&Ue>.6}(ot))return null;Ue=Ue.toLowerCase()}let vt=null,At=0;for(Be=Be.toLowerCase();At<Ue.length&&null===(vt=M(Be,Ue,0,At));)At=v(Ue,At+1);return vt}function G(Be,Ue,ot=!1){if(!Ue||0===Ue.length)return null;let vt=null,At=0;for(Be=Be.toLowerCase(),Ue=Ue.toLowerCase();At<Ue.length&&null===(vt=Y(Be,Ue,0,At,ot));)At=de(Ue,At+1);return vt}function Y(Be,Ue,ot,vt,At){if(ot===Be.length)return[];if(vt===Ue.length)return null;if(function(Be,Ue){return Be===Ue||p(Be)&&p(Ue)}(Be.charCodeAt(ot),Ue.charCodeAt(vt))){let ve=null,ht=vt+1;if(ve=Y(Be,Ue,ot+1,vt+1,At),!At)for(;!ve&&(ht=de(Ue,ht))<Ue.length;)ve=Y(Be,Ue,ot+1,ht,At),ht++;return null===ve?null:S({start:vt,end:vt+1},ve)}return null}function de(Be,Ue){for(let ot=Ue;ot<Be.length;ot++)if(p(Be.charCodeAt(ot))||ot>0&&p(Be.charCodeAt(ot-1)))return ot;return Be.length}"`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?".split("").forEach(Be=>I.add(Be.charCodeAt(0)));const le=j(O,F,$),ce=j(O,F,function(Be,Ue){return R(Be.toLowerCase(),Ue.toLowerCase(),0,0)}),be=new T.z6(1e4);function N(Be,Ue,ot=!1){if("string"!=typeof Be||"string"!=typeof Ue)return null;let vt=be.get(Be);vt||(vt=new RegExp(U.un(Be),"i"),be.set(Be,vt));const At=vt.exec(Ue);return At?[{start:At.index,end:At.index+At[0].length}]:ot?ce(Be,Ue):le(Be,Ue)}function V(Be,Ue,ot,vt,At,ve){const ht=Math.min(13,Be.length);for(;ot<ht;ot++){const Ge=Je(Be,Ue,ot,vt,At,ve,!1);if(Ge)return Ge}return[0,ve]}function Z(Be){if(void 0===Be)return[];const Ue=[],ot=Be[1];for(let vt=Be.length-1;vt>1;vt--){const At=Be[vt]+ot,ve=Ue[Ue.length-1];ve&&ve.end===At?ve.end=At+1:Ue.push({start:At,end:At+1})}return Ue}function ue(){const Be=[],Ue=[];for(let ot=0;ot<=128;ot++)Ue[ot]=0;for(let ot=0;ot<=128;ot++)Be.push(Ue.slice(0));return Be}function oe(Be){const Ue=[];for(let ot=0;ot<=Be;ot++)Ue[ot]=0;return Ue}const ee=oe(256),K=oe(256),ne=ue(),he=ue(),ge=ue();function xe(Be,Ue){if(Ue<0||Ue>=Be.length)return!1;const ot=Be.codePointAt(Ue);switch(ot){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 40:case 91:return!0;case void 0:return!1;default:return!!U.C8(ot)}}function Pe(Be,Ue){if(Ue<0||Ue>=Be.length)return!1;switch(Be.charCodeAt(Ue)){case 32:case 9:return!0;default:return!1}}function fe(Be,Ue,ot){return Ue[Be]!==ot[Be]}var Ce,Be;function Je(Be,Ue,ot,vt,At,ve,ht){const Ge=Be.length>128?128:Be.length,De=vt.length>128?128:vt.length;if(ot>=Ge||ve>=De||Ge-ot>De-ve||!function(Be,Ue,ot,vt,At,ve,ht=!1){for(;Ue<ot&&At<ve;)Be[Ue]===vt[At]&&(ht&&(ee[Ue]=At),Ue+=1),At+=1;return Ue===ot}(Ue,ot,Ge,At,ve,De,!0))return;!function(Be,Ue,ot,vt,At,ve){let ht=Be-1,Ge=Ue-1;for(;ht>=ot&&Ge>=vt;)At[ht]===ve[Ge]&&(K[ht]=Ge,ht--),Ge--}(Ge,De,ot,ve,Ue,At);let Le=1,dt=1,_t=ot,Nt=ve;const zt=[!1];for(Le=1,_t=ot;_t<Ge;Le++,_t++){const nt=ee[_t],bt=K[_t],Rt=_t+1<Ge?K[_t+1]:De;for(dt=nt-ve+1,Nt=nt;Nt<Rt;dt++,Nt++){let Dt=Number.MIN_SAFE_INTEGER,Xe=!1;Nt<=bt&&(Dt=Ve(Be,Ue,_t,ot,vt,At,Nt,De,ve,0===ne[Le-1][dt-1],zt));let ft=0;Dt!==Number.MAX_SAFE_INTEGER&&(Xe=!0,ft=Dt+he[Le-1][dt-1]);const Oe=Nt>nt,We=Oe?he[Le][dt-1]+(ne[Le][dt-1]>0?-5:0):0,Ne=Nt>nt+1&&ne[Le][dt-1]>0,J=Ne?he[Le][dt-2]+(ne[Le][dt-2]>0?-5:0):0;if(Ne&&(!Oe||J>=We)&&(!Xe||J>=ft))he[Le][dt]=J,ge[Le][dt]=3,ne[Le][dt]=0;else if(Oe&&(!Xe||We>=ft))he[Le][dt]=We,ge[Le][dt]=2,ne[Le][dt]=0;else{if(!Xe)throw new Error("not possible");he[Le][dt]=ft,ge[Le][dt]=1,ne[Le][dt]=ne[Le-1][dt-1]+1}}}if(!zt[0]&&!ht)return;Le--,dt--;const pn=[he[Le][dt],ve];let Qt=0,Ht=0;for(;Le>=1;){let nt=dt;do{const bt=ge[Le][nt];if(3===bt)nt-=2;else{if(2!==bt)break;nt-=1}}while(nt>=1);Qt>1&&Ue[ot+Le-1]===At[ve+dt-1]&&!fe(nt+ve-1,vt,At)&&Qt+1>ne[Le][nt]&&(nt=dt),nt===dt?Qt++:Qt=1,Ht||(Ht=nt),Le--,dt=nt-1,pn.push(dt)}return De===Ge&&(pn[0]+=2),pn[0]-=Ht-Ge,pn}function Ve(Be,Ue,ot,vt,At,ve,ht,Ge,De,Le,dt){if(Ue[ot]!==ve[ht])return Number.MIN_SAFE_INTEGER;let _t=1,Nt=!1;return ht===ot-vt?_t=Be[ot]===At[ht]?7:5:!fe(ht,At,ve)||0!==ht&&fe(ht-1,At,ve)?!xe(ve,ht)||0!==ht&&xe(ve,ht-1)?(xe(ve,ht-1)||Pe(ve,ht-1))&&(_t=5,Nt=!0):_t=5:(_t=Be[ot]===At[ht]?7:5,Nt=!0),_t>1&&ot===vt&&(dt[0]=!0),Nt||(Nt=fe(ht,At,ve)||xe(ve,ht-1)||Pe(ve,ht-1)),ot===vt?ht>De&&(_t-=Nt?3:5):_t+=Le?Nt?2:0:Nt?0:1,ht+1===Ge&&(_t-=Nt?3:5),_t}function Ae(Be,Ue,ot,vt,At,ve,ht){return function(Be,Ue,ot,vt,At,ve,ht,Ge){let De=Je(Be,Ue,ot,vt,At,ve,Ge);if(Be.length>=3){const Le=Math.min(7,Be.length-1);for(let dt=ot+1;dt<Le;dt++){const _t=ze(Be,dt);if(_t){const Nt=Je(_t,_t.toLowerCase(),ot,vt,At,ve,Ge);Nt&&(Nt[0]-=3,(!De||Nt[0]>De[0])&&(De=Nt))}}}return De}(Be,Ue,ot,vt,At,ve,0,ht)}function ze(Be,Ue){if(Ue+1>=Be.length)return;const ot=Be[Ue],vt=Be[Ue+1];return ot!==vt?Be.slice(0,Ue)+vt+ot+Be.slice(Ue+2):void 0}(Be=Ce||(Ce={})).Default=[-100,0],Be.isDefault=function(ot){return!ot||2===ot.length&&-100===ot[0]&&0===ot[1]}},3245:(Ct,Qe,a)=>{"use strict";function T(U){const j=this;let k,O=!1;return function(){return O||(O=!0,k=U.apply(j,arguments)),k}}a.d(Qe,{I:()=>T})},1279:(Ct,Qe,a)=>{"use strict";a.d(Qe,{EQ:()=>be});var T=a(579),U=a(9513),j=a(8416),O=a(299),k=a(7922);const $="**",R="[/\\\\]",d="[^/\\\\]",C=/\//g;function g(oe){switch(oe){case 0:return"";case 1:return`${d}*?`;default:return`(?:${R}|${d}+${R}|${R}${d}+)*?`}}function b(oe,ee){if(!oe)return[];const K=[];let ne=!1,he=!1,ge="";for(const re of oe){switch(re){case ee:if(!ne&&!he){K.push(ge),ge="";continue}break;case"{":ne=!0;break;case"}":ne=!1;break;case"[":he=!0;break;case"]":he=!1}ge+=re}return ge&&K.push(ge),K}function I(oe){if(!oe)return"";let ee="";const K=b(oe,"/");if(K.every(ne=>ne===$))ee=".*";else{let ne=!1;K.forEach((he,ge)=>{if(he===$)return void(ne||(ee+=g(2),ne=!0));let re=!1,ye="",ke=!1,xe="";for(const Pe of he)if("}"!==Pe&&re)ye+=Pe;else if(!ke||"]"===Pe&&xe)switch(Pe){case"{":re=!0;continue;case"[":ke=!0;continue;case"}":ee+=`(?:${b(ye,",").map(Ce=>I(Ce)).join("|")})`,re=!1,ye="";break;case"]":ee+="["+xe+"]",ke=!1,xe="";break;case"?":ee+=d;continue;case"*":ee+=g(1);continue;default:ee+=T.ec(Pe)}else{let fe;fe="-"===Pe?Pe:"^"!==Pe&&"!"!==Pe||xe?"/"===Pe?"":T.ec(Pe):"^",xe+=fe}ge<K.length-1&&(K[ge+1]!==$||ge+2<K.length)&&(ee+=R),ne=!1})}return ee}const p=/^\*\*\/\*\.[\w\.-]+$/,w=/^\*\*\/([\w\.-]+)\/?$/,E=/^{\*\*\/[\*\.]?[\w\.-]+\/?(,\*\*\/[\*\.]?[\w\.-]+\/?)*}$/,S=/^{\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?(,\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?)*}$/,v=/^\*\*((\/[\w\.-]+)+)\/?$/,M=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,_=new O.z6(1e4),f=function(){return!1},m=function(){return null};function L(oe,ee){if(!oe)return m;let K;K="string"!=typeof oe?oe.pattern:oe,K=K.trim();const ne=`${K}_${!!ee.trimForExclusions}`;let ge,he=_.get(ne);if(he)return F(he,oe);if(p.test(K)){const re=K.substr(4);he=function(ye,ke){return"string"==typeof ye&&ye.endsWith(re)?K:null}}else he=(ge=w.exec(G(K,ee)))?function(oe,ee){const K=`/${oe}`,ne=`\\${oe}`,he=function(re,ye){return"string"!=typeof re?null:ye?ye===oe?ee:null:re===oe||re.endsWith(K)||re.endsWith(ne)?ee:null},ge=[oe];return he.basenames=ge,he.patterns=[ee],he.allBasenames=ge,he}(ge[1],K):(ee.trimForExclusions?S:E).test(K)?function(oe,ee){const K=ue(oe.slice(1,-1).split(",").map(ye=>L(ye,ee)).filter(ye=>ye!==m),oe),ne=K.length;if(!ne)return m;if(1===ne)return K[0];const he=function(ye,ke){for(let xe=0,Pe=K.length;xe<Pe;xe++)if(K[xe](ye,ke))return oe;return null},ge=K.find(ye=>!!ye.allBasenames);ge&&(he.allBasenames=ge.allBasenames);const re=K.reduce((ye,ke)=>ke.allPaths?ye.concat(ke.allPaths):ye,[]);return re.length&&(he.allPaths=re),he}(K,ee):(ge=v.exec(G(K,ee)))?le(ge[1].substr(1),K,!0):(ge=M.exec(G(K,ee)))?le(ge[1],K,!1):function(oe){try{const ee=new RegExp(`^${I(oe)}$`);return function(K){return ee.lastIndex=0,"string"==typeof K&&ee.test(K)?oe:null}}catch(ee){return m}}(K);return _.set(ne,he),F(he,oe)}function F(oe,ee){return"string"==typeof ee?oe:function(K,ne){return U.KM(K,ee.base)?oe(j.Gf(ee.base,K),ne):null}}function G(oe,ee){return ee.trimForExclusions&&oe.endsWith("/**")?oe.substr(0,oe.length-2):oe}function le(oe,ee,K){const ne=j.ir===j.KR.sep,he=ne?oe:oe.replace(C,j.ir),ge=j.ir+he,re=j.KR.sep+oe,ye=K?function(ke,xe){return"string"!=typeof ke||ke!==he&&!ke.endsWith(ge)&&(ne||ke!==oe&&!ke.endsWith(re))?null:ee}:function(ke,xe){return"string"!=typeof ke||ke!==he&&(ne||ke!==oe)?null:ee};return ye.allPaths=[(K?"*/":"./")+oe],ye}function be(oe,ee,K){return!(!oe||"string"!=typeof ee)&&function(oe,ee={}){if(!oe)return f;if("string"==typeof oe||function(oe){return oe&&"string"==typeof oe.base&&"string"==typeof oe.pattern}(oe)){const K=L(oe,ee);if(K===m)return f;const ne=function(he,ge){return!!K(he,ge)};return K.allBasenames&&(ne.allBasenames=K.allBasenames),K.allPaths&&(ne.allPaths=K.allPaths),ne}return function(oe,ee){const K=ue(Object.getOwnPropertyNames(oe).map(ye=>function(oe,ee,K){if(!1===ee)return m;const ne=L(oe,K);if(ne===m)return m;if("boolean"==typeof ee)return ne;if(ee){const he=ee.when;if("string"==typeof he){const ge=(re,ye,ke,xe)=>{if(!xe||!ne(re,ye))return null;const fe=xe(he.replace("$(basename)",ke));return(0,k.J8)(fe)?fe.then(Te=>Te?oe:null):fe?oe:null};return ge.requiresSiblings=!0,ge}}return ne}(ye,oe[ye],ee)).filter(ye=>ye!==m)),ne=K.length;if(!ne)return m;if(!K.some(ye=>!!ye.requiresSiblings)){if(1===ne)return K[0];const ye=function(Pe,fe){for(let Te=0,Ce=K.length;Te<Ce;Te++){const Je=K[Te](Pe,fe);if(Je)return Je}return null},ke=K.find(Pe=>!!Pe.allBasenames);ke&&(ye.allBasenames=ke.allBasenames);const xe=K.reduce((Pe,fe)=>fe.allPaths?Pe.concat(fe.allPaths):Pe,[]);return xe.length&&(ye.allPaths=xe),ye}const he=function(ye,ke,xe){let Pe;for(let fe=0,Te=K.length;fe<Te;fe++){const Ce=K[fe];Ce.requiresSiblings&&xe&&(ke||(ke=j.EZ(ye)),Pe||(Pe=ke.substr(0,ke.length-j.DZ(ye).length)));const Je=Ce(ye,ke,Pe,xe);if(Je)return Je}return null},ge=K.find(ye=>!!ye.allBasenames);ge&&(he.allBasenames=ge.allBasenames);const re=K.reduce((ye,ke)=>ke.allPaths?ye.concat(ke.allPaths):ye,[]);return re.length&&(he.allPaths=re),he}(oe,ee)}(oe)(ee,void 0,K)}function ue(oe,ee){const K=oe.filter(ye=>!!ye.basenames);if(K.length<2)return oe;const ne=K.reduce((ye,ke)=>{const xe=ke.basenames;return xe?ye.concat(xe):ye},[]);let he;if(ee){he=[];for(let ye=0,ke=ne.length;ye<ke;ye++)he.push(ee)}else he=K.reduce((ye,ke)=>{const xe=ke.patterns;return xe?ye.concat(xe):ye},[]);const ge=function(ye,ke){if("string"!=typeof ye)return null;if(!ke){let Pe;for(Pe=ye.length;Pe>0;Pe--){const fe=ye.charCodeAt(Pe-1);if(47===fe||92===fe)break}ke=ye.substr(Pe)}const xe=ne.indexOf(ke);return-1!==xe?he[xe]:null};ge.basenames=ne,ge.patterns=he,ge.allBasenames=ne;const re=oe.filter(ye=>!ye.basenames);return re.push(ge),re}},3728:(Ct,Qe,a)=>{"use strict";a.d(Qe,{vp:()=>U,Cv:()=>$,yP:()=>I});var T=a(579);function U(p){return j(p,0)}function j(p,w){switch(typeof p){case"object":return null===p?O(349,w):Array.isArray(p)?function(p,w){return w=O(104579,w),p.reduce((E,S)=>j(S,E),w)}(p,w):function(p,w){return w=O(181387,w),Object.keys(p).sort().reduce((E,S)=>(E=$(S,E),j(p[S],E)),w)}(p,w);case"string":return $(p,w);case"boolean":return function(p,w){return O(p?433:863,w)}(p,w);case"number":return O(p,w);case"undefined":return O(937,w);default:return O(617,w)}}function O(p,w){return(w<<5)-w+p|0}function $(p,w){w=O(149417,w);for(let E=0,S=p.length;E<S;E++)w=O(p.charCodeAt(E),w);return w}function d(p,w,E=32){const S=E-w;return(p<<w|(~((1<<S)-1)&p)>>>S)>>>0}function C(p,w=0,E=p.byteLength,S=0){for(let v=0;v<E;v++)p[w+v]=S}function b(p,w=32){return p instanceof ArrayBuffer?Array.from(new Uint8Array(p)).map(E=>E.toString(16).padStart(2,"0")).join(""):function(p,w,E="0"){for(;p.length<w;)p=E+p;return p}((p>>>0).toString(16),w/4)}class I{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(67),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(w){const E=w.length;if(0===E)return;const S=this._buff;let _,f,v=this._buffLen,M=this._leftoverHighSurrogate;for(0!==M?(_=M,f=-1,M=0):(_=w.charCodeAt(0),f=0);;){let m=_;if(T.ZG(_)){if(!(f+1<E)){M=_;break}{const L=w.charCodeAt(f+1);T.YK(L)?(f++,m=T.rL(_,L)):m=65533}}else T.YK(_)&&(m=65533);if(v=this._push(S,v,m),f++,!(f<E))break;_=w.charCodeAt(f)}this._buffLen=v,this._leftoverHighSurrogate=M}_push(w,E,S){return S<128?w[E++]=S:S<2048?(w[E++]=192|(1984&S)>>>6,w[E++]=128|(63&S)>>>0):S<65536?(w[E++]=224|(61440&S)>>>12,w[E++]=128|(4032&S)>>>6,w[E++]=128|(63&S)>>>0):(w[E++]=240|(1835008&S)>>>18,w[E++]=128|(258048&S)>>>12,w[E++]=128|(4032&S)>>>6,w[E++]=128|(63&S)>>>0),E>=64&&(this._step(),E-=64,this._totalLen+=64,w[0]=w[64],w[1]=w[65],w[2]=w[66]),E}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),b(this._h0)+b(this._h1)+b(this._h2)+b(this._h3)+b(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,C(this._buff,this._buffLen),this._buffLen>56&&(this._step(),C(this._buff));const w=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(w/4294967296),!1),this._buffDV.setUint32(60,w%4294967296,!1),this._step()}_step(){const w=I._bigBlock32,E=this._buffDV;for(let G=0;G<64;G+=4)w.setUint32(G,E.getUint32(G,!1),!1);for(let G=64;G<320;G+=4)w.setUint32(G,d(w.getUint32(G-12,!1)^w.getUint32(G-32,!1)^w.getUint32(G-56,!1)^w.getUint32(G-64,!1),1),!1);let m,L,F,S=this._h0,v=this._h1,M=this._h2,_=this._h3,f=this._h4;for(let G=0;G<80;G++)G<20?(m=v&M|~v&_,L=1518500249):G<40?(m=v^M^_,L=1859775393):G<60?(m=v&M|v&_|M&_,L=2400959708):(m=v^M^_,L=3395469782),F=d(S,5)+m+f+L+w.getUint32(4*G,!1)&4294967295,f=_,_=M,M=d(v,30),v=S,S=F;this._h0=this._h0+S&4294967295,this._h1=this._h1+v&4294967295,this._h2=this._h2+M&4294967295,this._h3=this._h3+_&4294967295,this._h4=this._h4+f&4294967295}}I._bigBlock32=new DataView(new ArrayBuffer(320))},4303:(Ct,Qe,a)=>{"use strict";a.d(Qe,{W5:()=>j,CP:()=>O,oR:()=>B,v1:()=>R});var T=a(9505),U=a(5160);class j{constructor(C="",g=!1){var b,I;if(this.value=C,"string"!=typeof this.value)throw(0,U.b1)("value");"boolean"==typeof g?(this.isTrusted=g,this.supportThemeIcons=!1):(this.isTrusted=null!==(b=g.isTrusted)&&void 0!==b?b:void 0,this.supportThemeIcons=null!==(I=g.supportThemeIcons)&&void 0!==I&&I)}appendText(C,g=0){return this.value+=(d=this.supportThemeIcons?(0,T.Qo)(C):C,d.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")).replace(/([ \t]+)/g,(b,I)=>"&nbsp;".repeat(I.length)).replace(/^>/gm,"\\>").replace(/\n/g,1===g?"\\\n":"\n\n"),this;var d}appendMarkdown(C){return this.value+=C,this}appendCodeblock(C,g){return this.value+="\n```",this.value+=C,this.value+="\n",this.value+=g,this.value+="\n```\n",this}}function O(d){return function(d){return d instanceof j||!(!d||"object"!=typeof d)&&!("string"!=typeof d.value||"boolean"!=typeof d.isTrusted&&void 0!==d.isTrusted||"boolean"!=typeof d.supportThemeIcons&&void 0!==d.supportThemeIcons)}(d)?!d.value:!Array.isArray(d)||d.every(O)}function B(d){return d&&d.replace(/\\([\\`*_{}[\]()#+\-.!])/g,"$1")}function R(d){const C=[],g=d.split("|").map(I=>I.trim());d=g[0];const b=g[1];if(b){const I=/height=(\d+)/.exec(b),p=/width=(\d+)/.exec(b),w=I?I[1]:"",E=p?p[1]:"",S=isFinite(parseInt(E)),v=isFinite(parseInt(w));S&&C.push(`width="${E}"`),v&&C.push(`height="${w}"`)}return{href:d,dimensions:C}}},9505:(Ct,Qe,a)=>{"use strict";a.d(Qe,{Qo:()=>B,f$:()=>d,x$:()=>g,Ho:()=>b,Gt:()=>p});var T=a(521),U=a(9785),j=a(579);const O="$(",k=new RegExp(`\\$\\(${T.dT.iconNameExpression}(?:${T.dT.iconModifierExpression})?\\)`,"g"),$=new RegExp(`(\\\\)?${k.source}`,"g");function B(w){return w.replace($,(E,S)=>S?E:`\\${E}`)}const R=new RegExp(`\\\\${k.source}`,"g");function d(w){return w.replace(R,E=>`\\${E}`)}const C=new RegExp(`(\\s)?(\\\\)?${k.source}(\\s)?`,"g");function g(w){return-1===w.indexOf(O)?w:w.replace(C,(E,S,v,M)=>v?E:S||M||"")}function b(w){const E=w.indexOf(O);return-1===E?{text:w}:function(w,E){const S=[];let v="";function M(de){if(de){v+=de;for(const le of de)S.push(m)}}let L,F,_=-1,f="",m=0,G=E;const Y=w.length;for(M(w.substr(0,E));G<Y;)L=w[G],F=w[G+1],L===O[0]&&F===O[1]?(_=G,M(f),f=O,G++):")"===L&&-1!==_?(m+=G-_+1,_=-1,f=""):-1!==_?/^[a-z0-9\-]$/i.test(L)?f+=L:(M(f),_=-1,f=""):M(L),G++;return M(f),{text:v,iconOffsets:S}}(w,E)}function p(w,E,S=!1){const{text:v,iconOffsets:M}=E;if(!M||0===M.length)return(0,U.Oh)(w,v,S);const _=(0,j.j3)(v," "),f=v.length-_.length,m=(0,U.Oh)(w,_,S);if(m)for(const L of m){const F=M[L.start+f]+f;L.start+=F,L.end+=F}return m}},4437:(Ct,Qe,a)=>{"use strict";a.d(Qe,{R:()=>T,a:()=>U});class T{constructor(O){this._prefix=O,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}const U=new T("id#")},5539:(Ct,Qe,a)=>{"use strict";var T;a.d(Qe,{$:()=>T}),function(U){U.is=function(_){return _&&"object"==typeof _&&"function"==typeof _[Symbol.iterator]};const O=Object.freeze([]);U.empty=function(){return O},U.single=function*(_){yield _},U.from=function(_){return _||O},U.isEmpty=function(_){return!_||!0===_[Symbol.iterator]().next().done},U.first=function(_){return _[Symbol.iterator]().next().value},U.some=function(_,f){for(const m of _)if(f(m))return!0;return!1},U.find=function(_,f){for(const m of _)if(f(m))return m},U.filter=function*(_,f){for(const m of _)f(m)&&(yield m)},U.map=function*(_,f){let m=0;for(const L of _)yield f(L,m++)},U.concat=function*(..._){for(const f of _)for(const m of f)yield m},U.concatNested=function*(_){for(const f of _)for(const m of f)yield m},U.reduce=function(_,f,m){let L=m;for(const F of _)L=f(L,F);return L},U.slice=function*(_,f,m=_.length){for(f<0&&(f+=_.length),m<0?m+=_.length:m>_.length&&(m=_.length);f<m;f++)yield _[f]},U.consume=function(_,f=Number.POSITIVE_INFINITY){const m=[];if(0===f)return[m,_];const L=_[Symbol.iterator]();for(let F=0;F<f;F++){const G=L.next();if(G.done)return[m,U.empty()];m.push(G.value)}return[m,{[Symbol.iterator]:()=>L}]},U.equals=function(_,f,m=((L,F)=>L===F)){const L=_[Symbol.iterator](),F=f[Symbol.iterator]();for(;;){const G=L.next(),Y=F.next();if(G.done!==Y.done)return!1;if(G.done)return!0;if(!m(G.value,Y.value))return!1}}}(T||(T={}))},4807:(Ct,Qe,a)=>{"use strict";a.d(Qe,{kL:()=>$,gx:()=>B,gm:()=>R,QC:()=>C,BQ:()=>b,f1:()=>I});var T=a(5160);class U{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(w,E){this._keyCodeToStr[w]=E,this._strToKeyCode[E.toLowerCase()]=w}keyCodeToStr(w){return this._keyCodeToStr[w]}strToKeyCode(w){return this._strToKeyCode[w.toLowerCase()]||0}}const j=new U,O=new U,k=new U;var $,p;function B(p,w){return(p|(65535&w)<<16>>>0)>>>0}function R(p,w){if(0===p)return null;const E=(65535&p)>>>0,S=(4294901760&p)>>>16;return new g(0!==S?[d(E,w),d(S,w)]:[d(E,w)])}function d(p,w){const E=!!(2048&p),S=!!(256&p);return new C(2===w?S:E,!!(1024&p),!!(512&p),2===w?E:S,255&p)}!function(){function p(w,E,S=E,v=S){j.define(w,E),O.define(w,S),k.define(w,v)}p(0,"unknown"),p(1,"Backspace"),p(2,"Tab"),p(3,"Enter"),p(4,"Shift"),p(5,"Ctrl"),p(6,"Alt"),p(7,"PauseBreak"),p(8,"CapsLock"),p(9,"Escape"),p(10,"Space"),p(11,"PageUp"),p(12,"PageDown"),p(13,"End"),p(14,"Home"),p(15,"LeftArrow","Left"),p(16,"UpArrow","Up"),p(17,"RightArrow","Right"),p(18,"DownArrow","Down"),p(19,"Insert"),p(20,"Delete"),p(21,"0"),p(22,"1"),p(23,"2"),p(24,"3"),p(25,"4"),p(26,"5"),p(27,"6"),p(28,"7"),p(29,"8"),p(30,"9"),p(31,"A"),p(32,"B"),p(33,"C"),p(34,"D"),p(35,"E"),p(36,"F"),p(37,"G"),p(38,"H"),p(39,"I"),p(40,"J"),p(41,"K"),p(42,"L"),p(43,"M"),p(44,"N"),p(45,"O"),p(46,"P"),p(47,"Q"),p(48,"R"),p(49,"S"),p(50,"T"),p(51,"U"),p(52,"V"),p(53,"W"),p(54,"X"),p(55,"Y"),p(56,"Z"),p(57,"Meta"),p(58,"ContextMenu"),p(59,"F1"),p(60,"F2"),p(61,"F3"),p(62,"F4"),p(63,"F5"),p(64,"F6"),p(65,"F7"),p(66,"F8"),p(67,"F9"),p(68,"F10"),p(69,"F11"),p(70,"F12"),p(71,"F13"),p(72,"F14"),p(73,"F15"),p(74,"F16"),p(75,"F17"),p(76,"F18"),p(77,"F19"),p(78,"NumLock"),p(79,"ScrollLock"),p(80,";",";","OEM_1"),p(81,"=","=","OEM_PLUS"),p(82,",",",","OEM_COMMA"),p(83,"-","-","OEM_MINUS"),p(84,".",".","OEM_PERIOD"),p(85,"/","/","OEM_2"),p(86,"`","`","OEM_3"),p(110,"ABNT_C1"),p(111,"ABNT_C2"),p(87,"[","[","OEM_4"),p(88,"\\","\\","OEM_5"),p(89,"]","]","OEM_6"),p(90,"'","'","OEM_7"),p(91,"OEM_8"),p(92,"OEM_102"),p(93,"NumPad0"),p(94,"NumPad1"),p(95,"NumPad2"),p(96,"NumPad3"),p(97,"NumPad4"),p(98,"NumPad5"),p(99,"NumPad6"),p(100,"NumPad7"),p(101,"NumPad8"),p(102,"NumPad9"),p(103,"NumPad_Multiply"),p(104,"NumPad_Add"),p(105,"NumPad_Separator"),p(106,"NumPad_Subtract"),p(107,"NumPad_Decimal"),p(108,"NumPad_Divide")}(),(p=$||($={})).toString=function(_){return j.keyCodeToStr(_)},p.fromString=function(_){return j.strToKeyCode(_)},p.toUserSettingsUS=function(_){return O.keyCodeToStr(_)},p.toUserSettingsGeneral=function(_){return k.keyCodeToStr(_)},p.fromUserSettings=function(_){return O.strToKeyCode(_)||k.strToKeyCode(_)};class C{constructor(w,E,S,v,M){this.ctrlKey=w,this.shiftKey=E,this.altKey=S,this.metaKey=v,this.keyCode=M}equals(w){return this.ctrlKey===w.ctrlKey&&this.shiftKey===w.shiftKey&&this.altKey===w.altKey&&this.metaKey===w.metaKey&&this.keyCode===w.keyCode}isModifierKey(){return 0===this.keyCode||5===this.keyCode||57===this.keyCode||6===this.keyCode||4===this.keyCode}toChord(){return new g([this])}isDuplicateModifierCase(){return this.ctrlKey&&5===this.keyCode||this.shiftKey&&4===this.keyCode||this.altKey&&6===this.keyCode||this.metaKey&&57===this.keyCode}}class g{constructor(w){if(0===w.length)throw(0,T.b1)("parts");this.parts=w}}class b{constructor(w,E,S,v,M,_){this.ctrlKey=w,this.shiftKey=E,this.altKey=S,this.metaKey=v,this.keyLabel=M,this.keyAriaLabel=_}}class I{}},7962:(Ct,Qe,a)=>{"use strict";a.d(Qe,{xo:()=>j,X4:()=>O});var T=a(1606);class U{constructor(B,R,d=R){this.modifierLabels=[null],this.modifierLabels[2]=B,this.modifierLabels[1]=R,this.modifierLabels[3]=d}toLabel(B,R,d){if(0===R.length)return null;const C=[];for(let g=0,b=R.length;g<b;g++){const I=R[g],p=d(I);if(null===p)return null;C[g]=k(I,p,this.modifierLabels[B])}return C.join(" ")}}const j=new U({ctrlKey:"\u2303",shiftKey:"\u21e7",altKey:"\u2325",metaKey:"\u2318",separator:""},{ctrlKey:T.N({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:T.N({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:T.N({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:T.N({key:"windowsKey",comment:["This is the short form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:T.N({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:T.N({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:T.N({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:T.N({key:"superKey",comment:["This is the short form for the Super key on the keyboard"]},"Super"),separator:"+"}),O=new U({ctrlKey:T.N({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:T.N({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:T.N({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:T.N({key:"cmdKey.long",comment:["This is the long form for the Command key on the keyboard"]},"Command"),separator:"+"},{ctrlKey:T.N({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:T.N({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:T.N({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:T.N({key:"windowsKey.long",comment:["This is the long form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:T.N({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:T.N({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:T.N({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:T.N({key:"superKey.long",comment:["This is the long form for the Super key on the keyboard"]},"Super"),separator:"+"});function k($,B,R){if(null===B)return"";const d=[];return $.ctrlKey&&d.push(R.ctrlKey),$.shiftKey&&d.push(R.shiftKey),$.altKey&&d.push(R.altKey),$.metaKey&&d.push(R.metaKey),""!==B&&d.push(B),d.join(R.separator)}},6844:(Ct,Qe,a)=>{"use strict";a.d(Qe,{p:()=>$,D:()=>B});var T=a(6746),U=a(6857),j=a(9190),O=a(8401),k=a(9513);function $(R){if(!R)return;"string"==typeof R&&(R=T.o.file(R));const d=(0,O.EZ)(R)||(R.scheme===U.lg.file?R.fsPath:R.path);return j.ED&&(0,k.vY)(d)?B(d):d}function B(R){return(0,k.oP)(R)?R.charAt(0).toUpperCase()+R.slice(1):R}},1719:(Ct,Qe,a)=>{"use strict";a.d(Qe,{wi:()=>k,Wf:()=>B,B9:()=>R,F8:()=>d,OF:()=>C,SL:()=>g,JT:()=>b,XK:()=>I,Jz:()=>p});var T=a(5539);function O(w){}function k(w){return w}class $ extends Error{constructor(E){super(`Encountered errors while disposing of store. Errors: [${E.join(", ")}]`),this.errors=E}}function B(w){return"function"==typeof w.dispose&&0===w.dispose.length}function R(w){if(T.$.is(w)){let E=[];for(const S of w)if(S)try{S.dispose()}catch(v){E.push(v)}if(1===E.length)throw E[0];if(E.length>1)throw new $(E);return Array.isArray(w)?[]:w}if(w)return w.dispose(),w}function d(...w){return w.forEach(O),C(()=>R(w))}function C(w){const E={dispose:()=>{w()}};return E}let g=(()=>{class w{constructor(){this._toDispose=new Set,this._isDisposed=!1}dispose(){this._isDisposed||(this._isDisposed=!0,this.clear())}clear(){try{R(this._toDispose.values())}finally{this._toDispose.clear()}}add(S){if(!S)return S;if(S===this)throw new Error("Cannot register a disposable on itself!");return this._isDisposed?w.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(S),S}}return w.DISABLE_DISPOSED_WARNING=!1,w})();class b{constructor(){this._store=new g}dispose(){this._store.dispose()}_register(E){if(E===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(E)}}b.None=Object.freeze({dispose(){}});class I{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(E){var S;this._isDisposed||E===this._value||(null===(S=this._value)||void 0===S||S.dispose(),this._value=E)}clear(){this.value=void 0}dispose(){var E;this._isDisposed=!0,null===(E=this._value)||void 0===E||E.dispose(),this._value=void 0}}class p{constructor(E){this.object=E}dispose(){}}},4857:(Ct,Qe,a)=>{"use strict";a.d(Qe,{S:()=>U});class T{constructor(O){this.element=O,this.next=T.Undefined,this.prev=T.Undefined}}T.Undefined=new T(void 0);class U{constructor(){this._first=T.Undefined,this._last=T.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===T.Undefined}clear(){let O=this._first;for(;O!==T.Undefined;){const k=O.next;O.prev=T.Undefined,O.next=T.Undefined,O=k}this._first=T.Undefined,this._last=T.Undefined,this._size=0}unshift(O){return this._insert(O,!1)}push(O){return this._insert(O,!0)}_insert(O,k){const $=new T(O);if(this._first===T.Undefined)this._first=$,this._last=$;else if(k){const R=this._last;this._last=$,$.prev=R,R.next=$}else{const R=this._first;this._first=$,$.next=R,R.prev=$}this._size+=1;let B=!1;return()=>{B||(B=!0,this._remove($))}}shift(){if(this._first!==T.Undefined){const O=this._first.element;return this._remove(this._first),O}}pop(){if(this._last!==T.Undefined){const O=this._last.element;return this._remove(this._last),O}}_remove(O){if(O.prev!==T.Undefined&&O.next!==T.Undefined){const k=O.prev;k.next=O.next,O.next.prev=k}else O.prev===T.Undefined&&O.next===T.Undefined?(this._first=T.Undefined,this._last=T.Undefined):O.next===T.Undefined?(this._last=this._last.prev,this._last.next=T.Undefined):O.prev===T.Undefined&&(this._first=this._first.next,this._first.prev=T.Undefined);this._size-=1}*[Symbol.iterator](){let O=this._first;for(;O!==T.Undefined;)yield O.element,O=O.next}}},299:(Ct,Qe,a)=>{"use strict";a.d(Qe,{Id:()=>C,Y9:()=>g,z6:()=>I});var j,O,T=a(6746),U=a(579);class k{constructor(){this._value="",this._pos=0}reset(w){return this._value=w,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(w){return w.charCodeAt(0)-this._value.charCodeAt(this._pos)}value(){return this._value[this._pos]}}class ${constructor(w=!0){this._caseSensitive=w}reset(w){return this._value=w,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let w=!0;for(;this._to<this._value.length;this._to++)if(46===this._value.charCodeAt(this._to)){if(!w)break;this._from++}else w=!1;return this}cmp(w){return this._caseSensitive?(0,U.TT)(w,this._value,0,w.length,this._from,this._to):(0,U.j_)(w,this._value,0,w.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class B{constructor(w=!0,E=!0){this._splitOnBackslash=w,this._caseSensitive=E}reset(w){return this._value=w.replace(/\\$|\/$/,""),this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let w=!0;for(;this._to<this._value.length;this._to++){const E=this._value.charCodeAt(this._to);if(47===E||this._splitOnBackslash&&92===E){if(!w)break;this._from++}else w=!1}return this}cmp(w){return this._caseSensitive?(0,U.TT)(w,this._value,0,w.length,this._from,this._to):(0,U.j_)(w,this._value,0,w.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class R{constructor(w){this._ignorePathCasing=w,this._states=[],this._stateIdx=0}reset(w){return this._value=w,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new B(!1,!this._ignorePathCasing(w)),this._pathIterator.reset(w.path),this._pathIterator.value()&&this._states.push(3)),this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5),this._stateIdx=0,this}next(){return 3===this._states[this._stateIdx]&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return 3===this._states[this._stateIdx]&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(w){if(1===this._states[this._stateIdx])return(0,U.zY)(w,this._value.scheme);if(2===this._states[this._stateIdx])return(0,U.zY)(w,this._value.authority);if(3===this._states[this._stateIdx])return this._pathIterator.cmp(w);if(4===this._states[this._stateIdx])return(0,U.qu)(w,this._value.query);if(5===this._states[this._stateIdx])return(0,U.qu)(w,this._value.fragment);throw new Error}value(){if(1===this._states[this._stateIdx])return this._value.scheme;if(2===this._states[this._stateIdx])return this._value.authority;if(3===this._states[this._stateIdx])return this._pathIterator.value();if(4===this._states[this._stateIdx])return this._value.query;if(5===this._states[this._stateIdx])return this._value.fragment;throw new Error}}class d{isEmpty(){return!(this.left||this.mid||this.right||this.value)}}class C{constructor(w){this._iter=w}static forUris(w=(()=>!1)){return new C(new R(w))}static forStrings(){return new C(new k)}static forConfigKeys(){return new C(new $)}clear(){this._root=void 0}set(w,E){const S=this._iter.reset(w);let v;for(this._root||(this._root=new d,this._root.segment=S.value()),v=this._root;;){const _=S.cmp(v.segment);if(_>0)v.left||(v.left=new d,v.left.segment=S.value()),v=v.left;else if(_<0)v.right||(v.right=new d,v.right.segment=S.value()),v=v.right;else{if(!S.hasNext())break;S.next(),v.mid||(v.mid=new d,v.mid.segment=S.value()),v=v.mid}}const M=v.value;return v.value=E,v.key=w,M}get(w){var E;return null===(E=this._getNode(w))||void 0===E?void 0:E.value}_getNode(w){const E=this._iter.reset(w);let S=this._root;for(;S;){const v=E.cmp(S.segment);if(v>0)S=S.left;else if(v<0)S=S.right;else{if(!E.hasNext())break;E.next(),S=S.mid}}return S}has(w){const E=this._getNode(w);return!(void 0===(null==E?void 0:E.value)&&void 0===(null==E?void 0:E.mid))}delete(w){return this._delete(w,!1)}deleteSuperstr(w){return this._delete(w,!0)}_delete(w,E){const S=this._iter.reset(w),v=[];let M=this._root;for(;M;){const _=S.cmp(M.segment);if(_>0)v.push([1,M]),M=M.left;else if(_<0)v.push([-1,M]),M=M.right;else{if(!S.hasNext()){for(E?(M.left=void 0,M.mid=void 0,M.right=void 0):M.value=void 0;v.length>0&&M.isEmpty();){let[f,m]=v.pop();switch(f){case 1:m.left=void 0;break;case 0:m.mid=void 0;break;case-1:m.right=void 0}M=m}break}S.next(),v.push([0,M]),M=M.mid}}}findSubstr(w){const E=this._iter.reset(w);let v,S=this._root;for(;S;){const M=E.cmp(S.segment);if(M>0)S=S.left;else if(M<0)S=S.right;else{if(!E.hasNext())break;E.next(),v=S.value||v,S=S.mid}}return S&&S.value||v}findSuperstr(w){const E=this._iter.reset(w);let S=this._root;for(;S;){const v=E.cmp(S.segment);if(v>0)S=S.left;else if(v<0)S=S.right;else{if(!E.hasNext())return S.mid?this._entries(S.mid):void 0;E.next(),S=S.mid}}}forEach(w){for(const[E,S]of this)w(S,E)}*[Symbol.iterator](){yield*this._entries(this._root)}*_entries(w){if(!w)return;const E=[w];for(;E.length>0;){const S=E.pop();S&&(S.value&&(yield[S.key,S.value]),S.left&&E.push(S.left),S.mid&&E.push(S.mid),S.right&&E.push(S.right))}}}let g=(()=>{class p{constructor(E,S){this[j]="ResourceMap",E instanceof p?(this.map=new Map(E.map),this.toKey=null!=S?S:p.defaultToKey):(this.map=new Map,this.toKey=null!=E?E:p.defaultToKey)}set(E,S){return this.map.set(this.toKey(E),S),this}get(E){return this.map.get(this.toKey(E))}has(E){return this.map.has(this.toKey(E))}get size(){return this.map.size}clear(){this.map.clear()}delete(E){return this.map.delete(this.toKey(E))}forEach(E,S){void 0!==S&&(E=E.bind(S));for(let[v,M]of this.map)E(M,T.o.parse(v),this)}values(){return this.map.values()}*keys(){for(let E of this.map.keys())yield T.o.parse(E)}*entries(){for(let E of this.map.entries())yield[T.o.parse(E[0]),E[1]]}*[(j=Symbol.toStringTag,Symbol.iterator)](){for(let E of this.map)yield[T.o.parse(E[0]),E[1]]}}return p.defaultToKey=w=>w.toString(),p})();class b{constructor(){this[O]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var w;return null===(w=this._head)||void 0===w?void 0:w.value}get last(){var w;return null===(w=this._tail)||void 0===w?void 0:w.value}has(w){return this._map.has(w)}get(w,E=0){const S=this._map.get(w);if(S)return 0!==E&&this.touch(S,E),S.value}set(w,E,S=0){let v=this._map.get(w);if(v)v.value=E,0!==S&&this.touch(v,S);else{switch(v={key:w,value:E,next:void 0,previous:void 0},S){case 0:this.addItemLast(v);break;case 1:this.addItemFirst(v);break;case 2:default:this.addItemLast(v)}this._map.set(w,v),this._size++}return this}delete(w){return!!this.remove(w)}remove(w){const E=this._map.get(w);if(E)return this._map.delete(w),this.removeItem(E),this._size--,E.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const w=this._head;return this._map.delete(w.key),this.removeItem(w),this._size--,w.value}forEach(w,E){const S=this._state;let v=this._head;for(;v;){if(E?w.bind(E)(v.value,v.key,this):w(v.value,v.key,this),this._state!==S)throw new Error("LinkedMap got modified during iteration.");v=v.next}}keys(){const w=this,E=this._state;let S=this._head;const v={[Symbol.iterator]:()=>v,next(){if(w._state!==E)throw new Error("LinkedMap got modified during iteration.");if(S){const M={value:S.key,done:!1};return S=S.next,M}return{value:void 0,done:!0}}};return v}values(){const w=this,E=this._state;let S=this._head;const v={[Symbol.iterator]:()=>v,next(){if(w._state!==E)throw new Error("LinkedMap got modified during iteration.");if(S){const M={value:S.value,done:!1};return S=S.next,M}return{value:void 0,done:!0}}};return v}entries(){const w=this,E=this._state;let S=this._head;const v={[Symbol.iterator]:()=>v,next(){if(w._state!==E)throw new Error("LinkedMap got modified during iteration.");if(S){const M={value:[S.key,S.value],done:!1};return S=S.next,M}return{value:void 0,done:!0}}};return v}[(O=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(w){if(w>=this.size)return;if(0===w)return void this.clear();let E=this._head,S=this.size;for(;E&&S>w;)this._map.delete(E.key),E=E.next,S--;this._head=E,this._size=S,E&&(E.previous=void 0),this._state++}addItemFirst(w){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");w.next=this._head,this._head.previous=w}else this._tail=w;this._head=w,this._state++}addItemLast(w){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");w.previous=this._tail,this._tail.next=w}else this._head=w;this._tail=w,this._state++}removeItem(w){if(w===this._head&&w===this._tail)this._head=void 0,this._tail=void 0;else if(w===this._head){if(!w.next)throw new Error("Invalid list");w.next.previous=void 0,this._head=w.next}else if(w===this._tail){if(!w.previous)throw new Error("Invalid list");w.previous.next=void 0,this._tail=w.previous}else{const E=w.next,S=w.previous;if(!E||!S)throw new Error("Invalid list");E.previous=S,S.next=E}w.next=void 0,w.previous=void 0,this._state++}touch(w,E){if(!this._head||!this._tail)throw new Error("Invalid list");if(1===E||2===E)if(1===E){if(w===this._head)return;const S=w.next,v=w.previous;w===this._tail?(v.next=void 0,this._tail=v):(S.previous=v,v.next=S),w.previous=void 0,w.next=this._head,this._head.previous=w,this._head=w,this._state++}else if(2===E){if(w===this._tail)return;const S=w.next,v=w.previous;w===this._head?(S.previous=void 0,this._head=S):(S.previous=v,v.next=S),w.next=void 0,w.previous=this._tail,this._tail.next=w,this._tail=w,this._state++}}toJSON(){const w=[];return this.forEach((E,S)=>{w.push([S,E])}),w}fromJSON(w){this.clear();for(const[E,S]of w)this.set(E,S)}}class I extends b{constructor(w,E=1){super(),this._limit=w,this._ratio=Math.min(Math.max(0,E),1)}get limit(){return this._limit}set limit(w){this._limit=w,this.checkTrim()}get(w,E=2){return super.get(w,E)}peek(w){return super.get(w,0)}set(w,E){return super.set(w,E,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}},9926:function(Ct){Ct.exports=function(){"use strict";function Qe(Qt,Ht){for(var qt=0;qt<Ht.length;qt++){var nt=Ht[qt];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(Qt,nt.key,nt)}}function U(Qt,Ht){(null==Ht||Ht>Qt.length)&&(Ht=Qt.length);for(var qt=0,nt=new Array(Ht);qt<Ht;qt++)nt[qt]=Qt[qt];return nt}function j(Qt,Ht){var qt;if("undefined"==typeof Symbol||null==Qt[Symbol.iterator]){if(Array.isArray(Qt)||(qt=function(Qt,Ht){if(Qt){if("string"==typeof Qt)return U(Qt,Ht);var qt=Object.prototype.toString.call(Qt).slice(8,-1);if("Object"===qt&&Qt.constructor&&(qt=Qt.constructor.name),"Map"===qt||"Set"===qt)return Array.from(Qt);if("Arguments"===qt||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(qt))return U(Qt,Ht)}}(Qt))||Ht&&Qt&&"number"==typeof Qt.length){qt&&(Qt=qt);var nt=0;return function(){return nt>=Qt.length?{done:!0}:{done:!1,value:Qt[nt++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(qt=Qt[Symbol.iterator]()).next.bind(qt)}var Ht,k=(function(Qt){function Ht(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}Qt.exports={defaults:{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1},getDefaults:Ht,changeDefaults:function(nt){Qt.exports.defaults=nt}}}(Ht={exports:{}},Ht.exports),Ht.exports),$=/[&<>"']/,B=/[&<>"']/g,R=/[<>"']|&(?!#?\w+;)/,d=/[<>"']|&(?!#?\w+;)/g,C={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},g=function(Ht){return C[Ht]};var I=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function p(Qt){return Qt.replace(I,function(Ht,qt){return"colon"===(qt=qt.toLowerCase())?":":"#"===qt.charAt(0)?"x"===qt.charAt(1)?String.fromCharCode(parseInt(qt.substring(2),16)):String.fromCharCode(+qt.substring(1)):""})}var w=/(^|[^\[])\^/g;var S=/[^\w:]/g,v=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;var _={},f=/^[^:]+:\/*[^/]*$/,m=/^([^:]+:)[\s\S]*$/,L=/^([^:]+:\/*[^/]*)[\s\S]*$/;function F(Qt,Ht){_[" "+Qt]||(_[" "+Qt]=f.test(Qt)?Qt+"/":le(Qt,"/",!0));var qt=-1===(Qt=_[" "+Qt]).indexOf(":");return"//"===Ht.substring(0,2)?qt?Ht:Qt.replace(m,"$1")+Ht:"/"===Ht.charAt(0)?qt?Ht:Qt.replace(L,"$1")+Ht:Qt+Ht}function le(Qt,Ht,qt){var nt=Qt.length;if(0===nt)return"";for(var bt=0;bt<nt;){var Rt=Qt.charAt(nt-bt-1);if(Rt!==Ht||qt){if(Rt===Ht||!qt)break;bt++}else bt++}return Qt.substr(0,nt-bt)}var V_escape=function(Qt,Ht){if(Ht){if($.test(Qt))return Qt.replace(B,g)}else if(R.test(Qt))return Qt.replace(d,g);return Qt},V_unescape=p,V_edit=function(Qt,Ht){Qt=Qt.source||Qt,Ht=Ht||"";var qt={replace:function(bt,Rt){return Rt=(Rt=Rt.source||Rt).replace(w,"$1"),Qt=Qt.replace(bt,Rt),qt},getRegex:function(){return new RegExp(Qt,Ht)}};return qt},V_cleanUrl=function(Qt,Ht,qt){if(Qt){var nt;try{nt=decodeURIComponent(p(qt)).replace(S,"").toLowerCase()}catch(bt){return null}if(0===nt.indexOf("javascript:")||0===nt.indexOf("vbscript:")||0===nt.indexOf("data:"))return null}Ht&&!v.test(qt)&&(qt=F(Ht,qt));try{qt=encodeURI(qt).replace(/%25/g,"%")}catch(bt){return null}return qt},V_noopTest={exec:function(){}},V_merge=function(Qt){for(var qt,nt,Ht=1;Ht<arguments.length;Ht++)for(nt in qt=arguments[Ht])Object.prototype.hasOwnProperty.call(qt,nt)&&(Qt[nt]=qt[nt]);return Qt},V_checkSanitizeDeprecation=function(Qt){Qt&&Qt.sanitize&&!Qt.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")},V_repeatString=function(Qt,Ht){if(Ht<1)return"";for(var qt="";Ht>1;)1&Ht&&(qt+=Qt),Ht>>=1,Qt+=Qt;return qt+Qt},Z=k.defaults,ie=le,ue=function(Qt,Ht){var nt=Qt.replace(/\|/g,function(Rt,Dt,Xe){for(var ft=!1,Oe=Dt;--Oe>=0&&"\\"===Xe[Oe];)ft=!ft;return ft?"|":" |"}).split(/ \|/),bt=0;if(nt.length>Ht)nt.splice(Ht);else for(;nt.length<Ht;)nt.push("");for(;bt<nt.length;bt++)nt[bt]=nt[bt].trim().replace(/\\\|/g,"|");return nt},oe=V_escape,ee=function(Qt,Ht){if(-1===Qt.indexOf(Ht[1]))return-1;for(var qt=Qt.length,nt=0,bt=0;bt<qt;bt++)if("\\"===Qt[bt])bt++;else if(Qt[bt]===Ht[0])nt++;else if(Qt[bt]===Ht[1]&&--nt<0)return bt;return-1};function K(Qt,Ht,qt){var nt=Ht.href,bt=Ht.title?oe(Ht.title):null,Rt=Qt[1].replace(/\\([\[\]])/g,"$1");return"!"!==Qt[0].charAt(0)?{type:"link",raw:qt,href:nt,title:bt,text:Rt}:{type:"image",raw:qt,href:nt,title:bt,text:oe(Rt)}}var he=function(){function Qt(qt){this.options=qt||Z}var Ht=Qt.prototype;return Ht.space=function(nt){var bt=this.rules.block.newline.exec(nt);if(bt)return bt[0].length>1?{type:"space",raw:bt[0]}:{raw:"\n"}},Ht.code=function(nt){var bt=this.rules.block.code.exec(nt);if(bt){var Rt=bt[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:bt[0],codeBlockStyle:"indented",text:this.options.pedantic?Rt:ie(Rt,"\n")}}},Ht.fences=function(nt){var bt=this.rules.block.fences.exec(nt);if(bt){var Rt=bt[0],Dt=function(Qt,Ht){var qt=Qt.match(/^(\s+)(?:```)/);if(null===qt)return Ht;var nt=qt[1];return Ht.split("\n").map(function(bt){var Rt=bt.match(/^\s+/);return null===Rt?bt:Rt[0].length>=nt.length?bt.slice(nt.length):bt}).join("\n")}(Rt,bt[3]||"");return{type:"code",raw:Rt,lang:bt[2]?bt[2].trim():bt[2],text:Dt}}},Ht.heading=function(nt){var bt=this.rules.block.heading.exec(nt);if(bt){var Rt=bt[2].trim();if(/#$/.test(Rt)){var Dt=ie(Rt,"#");(this.options.pedantic||!Dt||/ $/.test(Dt))&&(Rt=Dt.trim())}return{type:"heading",raw:bt[0],depth:bt[1].length,text:Rt}}},Ht.nptable=function(nt){var bt=this.rules.block.nptable.exec(nt);if(bt){var Rt={type:"table",header:ue(bt[1].replace(/^ *| *\| *$/g,"")),align:bt[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:bt[3]?bt[3].replace(/\n$/,"").split("\n"):[],raw:bt[0]};if(Rt.header.length===Rt.align.length){var Xe,Dt=Rt.align.length;for(Xe=0;Xe<Dt;Xe++)Rt.align[Xe]=/^ *-+: *$/.test(Rt.align[Xe])?"right":/^ *:-+: *$/.test(Rt.align[Xe])?"center":/^ *:-+ *$/.test(Rt.align[Xe])?"left":null;for(Dt=Rt.cells.length,Xe=0;Xe<Dt;Xe++)Rt.cells[Xe]=ue(Rt.cells[Xe],Rt.header.length);return Rt}}},Ht.hr=function(nt){var bt=this.rules.block.hr.exec(nt);if(bt)return{type:"hr",raw:bt[0]}},Ht.blockquote=function(nt){var bt=this.rules.block.blockquote.exec(nt);if(bt){var Rt=bt[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:bt[0],text:Rt}}},Ht.list=function(nt){var bt=this.rules.block.list.exec(nt);if(bt){var Ne,J,_e,$e,at,Et,Lt,Pt,Rt=bt[0],Dt=bt[2],Xe=Dt.length>1,ft={type:"list",raw:Rt,ordered:Xe,start:Xe?+Dt.slice(0,-1):"",loose:!1,items:[]},Oe=bt[0].match(this.rules.block.item),We=!1,on=Oe.length;_e=this.rules.block.listItemStart.exec(Oe[0]);for(var Kt=0;Kt<on;Kt++){if(Rt=Ne=Oe[Kt],Kt!==on-1){if($e=this.rules.block.listItemStart.exec(Oe[Kt+1]),this.options.pedantic?$e[1].length>_e[1].length:$e[1].length>_e[0].length||$e[1].length>3){Oe.splice(Kt,2,Oe[Kt]+"\n"+Oe[Kt+1]),Kt--,on--;continue}(!this.options.pedantic||this.options.smartLists?$e[2][$e[2].length-1]!==Dt[Dt.length-1]:Xe===(1===$e[2].length))&&(at=Oe.slice(Kt+1).join("\n"),ft.raw=ft.raw.substring(0,ft.raw.length-at.length),Kt=on-1),_e=$e}J=Ne.length,~(Ne=Ne.replace(/^ *([*+-]|\d+[.)]) ?/,"")).indexOf("\n ")&&(J-=Ne.length,Ne=Ne.replace(this.options.pedantic?/^ {1,4}/gm:new RegExp("^ {1,"+J+"}","gm"),"")),Et=We||/\n\n(?!\s*$)/.test(Ne),Kt!==on-1&&(We="\n"===Ne.charAt(Ne.length-1),Et||(Et=We)),Et&&(ft.loose=!0),this.options.gfm&&(Pt=void 0,(Lt=/^\[[ xX]\] /.test(Ne))&&(Pt=" "!==Ne[1],Ne=Ne.replace(/^\[[ xX]\] +/,""))),ft.items.push({type:"list_item",raw:Rt,task:Lt,checked:Pt,loose:Et,text:Ne})}return ft}},Ht.html=function(nt){var bt=this.rules.block.html.exec(nt);if(bt)return{type:this.options.sanitize?"paragraph":"html",raw:bt[0],pre:!this.options.sanitizer&&("pre"===bt[1]||"script"===bt[1]||"style"===bt[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(bt[0]):oe(bt[0]):bt[0]}},Ht.def=function(nt){var bt=this.rules.block.def.exec(nt);if(bt)return bt[3]&&(bt[3]=bt[3].substring(1,bt[3].length-1)),{tag:bt[1].toLowerCase().replace(/\s+/g," "),raw:bt[0],href:bt[2],title:bt[3]}},Ht.table=function(nt){var bt=this.rules.block.table.exec(nt);if(bt){var Rt={type:"table",header:ue(bt[1].replace(/^ *| *\| *$/g,"")),align:bt[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:bt[3]?bt[3].replace(/\n$/,"").split("\n"):[]};if(Rt.header.length===Rt.align.length){Rt.raw=bt[0];var Xe,Dt=Rt.align.length;for(Xe=0;Xe<Dt;Xe++)Rt.align[Xe]=/^ *-+: *$/.test(Rt.align[Xe])?"right":/^ *:-+: *$/.test(Rt.align[Xe])?"center":/^ *:-+ *$/.test(Rt.align[Xe])?"left":null;for(Dt=Rt.cells.length,Xe=0;Xe<Dt;Xe++)Rt.cells[Xe]=ue(Rt.cells[Xe].replace(/^ *\| *| *\| *$/g,""),Rt.header.length);return Rt}}},Ht.lheading=function(nt){var bt=this.rules.block.lheading.exec(nt);if(bt)return{type:"heading",raw:bt[0],depth:"="===bt[2].charAt(0)?1:2,text:bt[1]}},Ht.paragraph=function(nt){var bt=this.rules.block.paragraph.exec(nt);if(bt)return{type:"paragraph",raw:bt[0],text:"\n"===bt[1].charAt(bt[1].length-1)?bt[1].slice(0,-1):bt[1]}},Ht.text=function(nt){var bt=this.rules.block.text.exec(nt);if(bt)return{type:"text",raw:bt[0],text:bt[0]}},Ht.escape=function(nt){var bt=this.rules.inline.escape.exec(nt);if(bt)return{type:"escape",raw:bt[0],text:oe(bt[1])}},Ht.tag=function(nt,bt,Rt){var Dt=this.rules.inline.tag.exec(nt);if(Dt)return!bt&&/^<a /i.test(Dt[0])?bt=!0:bt&&/^<\/a>/i.test(Dt[0])&&(bt=!1),!Rt&&/^<(pre|code|kbd|script)(\s|>)/i.test(Dt[0])?Rt=!0:Rt&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(Dt[0])&&(Rt=!1),{type:this.options.sanitize?"text":"html",raw:Dt[0],inLink:bt,inRawBlock:Rt,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(Dt[0]):oe(Dt[0]):Dt[0]}},Ht.link=function(nt){var bt=this.rules.inline.link.exec(nt);if(bt){var Rt=bt[2].trim();if(!this.options.pedantic&&/^</.test(Rt)){if(!/>$/.test(Rt))return;var Dt=ie(Rt.slice(0,-1),"\\");if((Rt.length-Dt.length)%2==0)return}else{var Xe=ee(bt[2],"()");if(Xe>-1){var Oe=(0===bt[0].indexOf("!")?5:4)+bt[1].length+Xe;bt[2]=bt[2].substring(0,Xe),bt[0]=bt[0].substring(0,Oe).trim(),bt[3]=""}}var We=bt[2],Ne="";if(this.options.pedantic){var J=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(We);J&&(We=J[1],Ne=J[3])}else Ne=bt[3]?bt[3].slice(1,-1):"";return We=We.trim(),/^</.test(We)&&(We=this.options.pedantic&&!/>$/.test(Rt)?We.slice(1):We.slice(1,-1)),K(bt,{href:We&&We.replace(this.rules.inline._escapes,"$1"),title:Ne&&Ne.replace(this.rules.inline._escapes,"$1")},bt[0])}},Ht.reflink=function(nt,bt){var Rt;if((Rt=this.rules.inline.reflink.exec(nt))||(Rt=this.rules.inline.nolink.exec(nt))){var Dt=(Rt[2]||Rt[1]).replace(/\s+/g," ");if(!(Dt=bt[Dt.toLowerCase()])||!Dt.href){var Xe=Rt[0].charAt(0);return{type:"text",raw:Xe,text:Xe}}return K(Rt,Dt,Rt[0])}},Ht.emStrong=function(nt,bt,Rt){void 0===Rt&&(Rt="");var Dt=this.rules.inline.emStrong.lDelim.exec(nt);if(Dt&&(!Dt[3]||!Rt.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var Xe=Dt[1]||Dt[2]||"";if(!Xe||Xe&&(""===Rt||this.rules.inline.punctuation.exec(Rt))){var Oe,We,ft=Dt[0].length-1,Ne=ft,J=0,_e="*"===Dt[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(_e.lastIndex=0,bt=bt.slice(-1*nt.length+ft);null!=(Dt=_e.exec(bt));)if(Oe=Dt[1]||Dt[2]||Dt[3]||Dt[4]||Dt[5]||Dt[6]){if(We=Oe.length,Dt[3]||Dt[4]){Ne+=We;continue}if((Dt[5]||Dt[6])&&ft%3&&!((ft+We)%3)){J+=We;continue}if(!((Ne-=We)>0)){if(Ne+J-We<=0&&!bt.slice(_e.lastIndex).match(_e)&&(We=Math.min(We,We+Ne+J)),Math.min(ft,We)%2)return{type:"em",raw:nt.slice(0,ft+Dt.index+We+1),text:nt.slice(1,ft+Dt.index+We)};if(Math.min(ft,We)%2==0)return{type:"strong",raw:nt.slice(0,ft+Dt.index+We+1),text:nt.slice(2,ft+Dt.index+We-1)}}}}}},Ht.codespan=function(nt){var bt=this.rules.inline.code.exec(nt);if(bt){var Rt=bt[2].replace(/\n/g," "),Dt=/[^ ]/.test(Rt),Xe=/^ /.test(Rt)&&/ $/.test(Rt);return Dt&&Xe&&(Rt=Rt.substring(1,Rt.length-1)),Rt=oe(Rt,!0),{type:"codespan",raw:bt[0],text:Rt}}},Ht.br=function(nt){var bt=this.rules.inline.br.exec(nt);if(bt)return{type:"br",raw:bt[0]}},Ht.del=function(nt){var bt=this.rules.inline.del.exec(nt);if(bt)return{type:"del",raw:bt[0],text:bt[2]}},Ht.autolink=function(nt,bt){var Dt,Xe,Rt=this.rules.inline.autolink.exec(nt);if(Rt)return Xe="@"===Rt[2]?"mailto:"+(Dt=oe(this.options.mangle?bt(Rt[1]):Rt[1])):Dt=oe(Rt[1]),{type:"link",raw:Rt[0],text:Dt,href:Xe,tokens:[{type:"text",raw:Dt,text:Dt}]}},Ht.url=function(nt,bt){var Rt;if(Rt=this.rules.inline.url.exec(nt)){var Dt,Xe;if("@"===Rt[2])Xe="mailto:"+(Dt=oe(this.options.mangle?bt(Rt[0]):Rt[0]));else{var ft;do{ft=Rt[0],Rt[0]=this.rules.inline._backpedal.exec(Rt[0])[0]}while(ft!==Rt[0]);Dt=oe(Rt[0]),Xe="www."===Rt[1]?"http://"+Dt:Dt}return{type:"link",raw:Rt[0],text:Dt,href:Xe,tokens:[{type:"text",raw:Dt,text:Dt}]}}},Ht.inlineText=function(nt,bt,Rt){var Xe,Dt=this.rules.inline.text.exec(nt);if(Dt)return Xe=bt?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(Dt[0]):oe(Dt[0]):Dt[0]:oe(this.options.smartypants?Rt(Dt[0]):Dt[0]),{type:"text",raw:Dt[0],text:Xe}},Qt}(),ge=V_noopTest,re=V_edit,ye=V_merge,ke={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?! {0,3}bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:ge,table:ge,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};ke.def=re(ke.def).replace("label",ke._label).replace("title",ke._title).getRegex(),ke.bullet=/(?:[*+-]|\d{1,9}[.)])/,ke.item=/^( *)(bull) ?[^\n]*(?:\n(?! *bull ?)[^\n]*)*/,ke.item=re(ke.item,"gm").replace(/bull/g,ke.bullet).getRegex(),ke.listItemStart=re(/^( *)(bull)/).replace("bull",ke.bullet).getRegex(),ke.list=re(ke.list).replace(/bull/g,ke.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+ke.def.source+")").getRegex(),ke._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",ke._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,ke.html=re(ke.html,"i").replace("comment",ke._comment).replace("tag",ke._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),ke.paragraph=re(ke._paragraph).replace("hr",ke.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",ke._tag).getRegex(),ke.blockquote=re(ke.blockquote).replace("paragraph",ke.paragraph).getRegex(),ke.normal=ye({},ke),ke.gfm=ye({},ke.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n {0,3}([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n {0,3}\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),ke.gfm.nptable=re(ke.gfm.nptable).replace("hr",ke.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",ke._tag).getRegex(),ke.gfm.table=re(ke.gfm.table).replace("hr",ke.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",ke._tag).getRegex(),ke.pedantic=ye({},ke.normal,{html:re("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",ke._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:ge,paragraph:re(ke.normal._paragraph).replace("hr",ke.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",ke.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var xe={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:ge,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/\_\_[^_]*?\*[^_]*?\_\_|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/\*\*[^*]*?\_[^*]*?\*\*|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:ge,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/,_punctuation:"!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~"};xe.punctuation=re(xe.punctuation).replace(/punctuation/g,xe._punctuation).getRegex(),xe.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,xe.escapedEmSt=/\\\*|\\_/g,xe._comment=re(ke._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),xe.emStrong.lDelim=re(xe.emStrong.lDelim).replace(/punct/g,xe._punctuation).getRegex(),xe.emStrong.rDelimAst=re(xe.emStrong.rDelimAst,"g").replace(/punct/g,xe._punctuation).getRegex(),xe.emStrong.rDelimUnd=re(xe.emStrong.rDelimUnd,"g").replace(/punct/g,xe._punctuation).getRegex(),xe._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,xe._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,xe._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,xe.autolink=re(xe.autolink).replace("scheme",xe._scheme).replace("email",xe._email).getRegex(),xe._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,xe.tag=re(xe.tag).replace("comment",xe._comment).replace("attribute",xe._attribute).getRegex(),xe._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,xe._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,xe._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,xe.link=re(xe.link).replace("label",xe._label).replace("href",xe._href).replace("title",xe._title).getRegex(),xe.reflink=re(xe.reflink).replace("label",xe._label).getRegex(),xe.reflinkSearch=re(xe.reflinkSearch,"g").replace("reflink",xe.reflink).replace("nolink",xe.nolink).getRegex(),xe.normal=ye({},xe),xe.pedantic=ye({},xe.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:re(/^!?\[(label)\]\((.*?)\)/).replace("label",xe._label).getRegex(),reflink:re(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",xe._label).getRegex()}),xe.gfm=ye({},xe.normal,{escape:re(xe.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),xe.gfm.url=re(xe.gfm.url,"i").replace("email",xe.gfm._extended_email).getRegex(),xe.breaks=ye({},xe.gfm,{br:re(xe.br).replace("{2,}","*").getRegex(),text:re(xe.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var Pe={block:ke,inline:xe},fe=k.defaults,Te=Pe.block,Ce=Pe.inline,Je=V_repeatString;function pe(Qt){return Qt.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function Ve(Qt){var qt,nt,Ht="",bt=Qt.length;for(qt=0;qt<bt;qt++)nt=Qt.charCodeAt(qt),Math.random()>.5&&(nt="x"+nt.toString(16)),Ht+="&#"+nt+";";return Ht}var Ae=function(){function Qt(qt){this.tokens=[],this.tokens.links=Object.create(null),this.options=qt||fe,this.options.tokenizer=this.options.tokenizer||new he,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options;var nt={block:Te.normal,inline:Ce.normal};this.options.pedantic?(nt.block=Te.pedantic,nt.inline=Ce.pedantic):this.options.gfm&&(nt.block=Te.gfm,nt.inline=this.options.breaks?Ce.breaks:Ce.gfm),this.tokenizer.rules=nt}Qt.lex=function(nt,bt){return new Qt(bt).lex(nt)},Qt.lexInline=function(nt,bt){return new Qt(bt).inlineTokens(nt)};var Ht=Qt.prototype;return Ht.lex=function(nt){return nt=nt.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.blockTokens(nt,this.tokens,!0),this.inline(this.tokens),this.tokens},Ht.blockTokens=function(nt,bt,Rt){void 0===bt&&(bt=[]),void 0===Rt&&(Rt=!0),this.options.pedantic&&(nt=nt.replace(/^ +$/gm,""));for(var Dt,Xe,ft,Oe;nt;)if(Dt=this.tokenizer.space(nt))nt=nt.substring(Dt.raw.length),Dt.type&&bt.push(Dt);else if(Dt=this.tokenizer.code(nt))nt=nt.substring(Dt.raw.length),(Oe=bt[bt.length-1])&&"paragraph"===Oe.type?(Oe.raw+="\n"+Dt.raw,Oe.text+="\n"+Dt.text):bt.push(Dt);else if(Dt=this.tokenizer.fences(nt))nt=nt.substring(Dt.raw.length),bt.push(Dt);else if(Dt=this.tokenizer.heading(nt))nt=nt.substring(Dt.raw.length),bt.push(Dt);else if(Dt=this.tokenizer.nptable(nt))nt=nt.substring(Dt.raw.length),bt.push(Dt);else if(Dt=this.tokenizer.hr(nt))nt=nt.substring(Dt.raw.length),bt.push(Dt);else if(Dt=this.tokenizer.blockquote(nt))nt=nt.substring(Dt.raw.length),Dt.tokens=this.blockTokens(Dt.text,[],Rt),bt.push(Dt);else if(Dt=this.tokenizer.list(nt)){for(nt=nt.substring(Dt.raw.length),ft=Dt.items.length,Xe=0;Xe<ft;Xe++)Dt.items[Xe].tokens=this.blockTokens(Dt.items[Xe].text,[],!1);bt.push(Dt)}else if(Dt=this.tokenizer.html(nt))nt=nt.substring(Dt.raw.length),bt.push(Dt);else if(Rt&&(Dt=this.tokenizer.def(nt)))nt=nt.substring(Dt.raw.length),this.tokens.links[Dt.tag]||(this.tokens.links[Dt.tag]={href:Dt.href,title:Dt.title});else if(Dt=this.tokenizer.table(nt))nt=nt.substring(Dt.raw.length),bt.push(Dt);else if(Dt=this.tokenizer.lheading(nt))nt=nt.substring(Dt.raw.length),bt.push(Dt);else if(Rt&&(Dt=this.tokenizer.paragraph(nt)))nt=nt.substring(Dt.raw.length),bt.push(Dt);else if(Dt=this.tokenizer.text(nt))nt=nt.substring(Dt.raw.length),(Oe=bt[bt.length-1])&&"text"===Oe.type?(Oe.raw+="\n"+Dt.raw,Oe.text+="\n"+Dt.text):bt.push(Dt);else if(nt){var We="Infinite loop on byte: "+nt.charCodeAt(0);if(this.options.silent){console.error(We);break}throw new Error(We)}return bt},Ht.inline=function(nt){var bt,Rt,Dt,Xe,ft,Oe,We=nt.length;for(bt=0;bt<We;bt++)switch(Oe=nt[bt],Oe.type){case"paragraph":case"text":case"heading":Oe.tokens=[],this.inlineTokens(Oe.text,Oe.tokens);break;case"table":for(Oe.tokens={header:[],cells:[]},Xe=Oe.header.length,Rt=0;Rt<Xe;Rt++)Oe.tokens.header[Rt]=[],this.inlineTokens(Oe.header[Rt],Oe.tokens.header[Rt]);for(Xe=Oe.cells.length,Rt=0;Rt<Xe;Rt++)for(ft=Oe.cells[Rt],Oe.tokens.cells[Rt]=[],Dt=0;Dt<ft.length;Dt++)Oe.tokens.cells[Rt][Dt]=[],this.inlineTokens(ft[Dt],Oe.tokens.cells[Rt][Dt]);break;case"blockquote":this.inline(Oe.tokens);break;case"list":for(Xe=Oe.items.length,Rt=0;Rt<Xe;Rt++)this.inline(Oe.items[Rt].tokens)}return nt},Ht.inlineTokens=function(nt,bt,Rt,Dt){void 0===bt&&(bt=[]),void 0===Rt&&(Rt=!1),void 0===Dt&&(Dt=!1);var Xe,ft,We,Ne,J,Oe=nt;if(this.tokens.links){var _e=Object.keys(this.tokens.links);if(_e.length>0)for(;null!=(We=this.tokenizer.rules.inline.reflinkSearch.exec(Oe));)_e.includes(We[0].slice(We[0].lastIndexOf("[")+1,-1))&&(Oe=Oe.slice(0,We.index)+"["+Je("a",We[0].length-2)+"]"+Oe.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(We=this.tokenizer.rules.inline.blockSkip.exec(Oe));)Oe=Oe.slice(0,We.index)+"["+Je("a",We[0].length-2)+"]"+Oe.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(We=this.tokenizer.rules.inline.escapedEmSt.exec(Oe));)Oe=Oe.slice(0,We.index)+"++"+Oe.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;nt;)if(Ne||(J=""),Ne=!1,Xe=this.tokenizer.escape(nt))nt=nt.substring(Xe.raw.length),bt.push(Xe);else if(Xe=this.tokenizer.tag(nt,Rt,Dt)){nt=nt.substring(Xe.raw.length),Rt=Xe.inLink,Dt=Xe.inRawBlock;var $e=bt[bt.length-1];$e&&"text"===Xe.type&&"text"===$e.type?($e.raw+=Xe.raw,$e.text+=Xe.text):bt.push(Xe)}else if(Xe=this.tokenizer.link(nt))nt=nt.substring(Xe.raw.length),"link"===Xe.type&&(Xe.tokens=this.inlineTokens(Xe.text,[],!0,Dt)),bt.push(Xe);else if(Xe=this.tokenizer.reflink(nt,this.tokens.links)){nt=nt.substring(Xe.raw.length);var at=bt[bt.length-1];"link"===Xe.type?(Xe.tokens=this.inlineTokens(Xe.text,[],!0,Dt),bt.push(Xe)):at&&"text"===Xe.type&&"text"===at.type?(at.raw+=Xe.raw,at.text+=Xe.text):bt.push(Xe)}else if(Xe=this.tokenizer.emStrong(nt,Oe,J))nt=nt.substring(Xe.raw.length),Xe.tokens=this.inlineTokens(Xe.text,[],Rt,Dt),bt.push(Xe);else if(Xe=this.tokenizer.codespan(nt))nt=nt.substring(Xe.raw.length),bt.push(Xe);else if(Xe=this.tokenizer.br(nt))nt=nt.substring(Xe.raw.length),bt.push(Xe);else if(Xe=this.tokenizer.del(nt))nt=nt.substring(Xe.raw.length),Xe.tokens=this.inlineTokens(Xe.text,[],Rt,Dt),bt.push(Xe);else if(Xe=this.tokenizer.autolink(nt,Ve))nt=nt.substring(Xe.raw.length),bt.push(Xe);else if(Rt||!(Xe=this.tokenizer.url(nt,Ve))){if(Xe=this.tokenizer.inlineText(nt,Dt,pe))nt=nt.substring(Xe.raw.length),"_"!==Xe.raw.slice(-1)&&(J=Xe.raw.slice(-1)),Ne=!0,(ft=bt[bt.length-1])&&"text"===ft.type?(ft.raw+=Xe.raw,ft.text+=Xe.text):bt.push(Xe);else if(nt){var Et="Infinite loop on byte: "+nt.charCodeAt(0);if(this.options.silent){console.error(Et);break}throw new Error(Et)}}else nt=nt.substring(Xe.raw.length),bt.push(Xe);return bt},function(Qt,Ht,qt){Ht&&Qe(Qt.prototype,Ht),qt&&Qe(Qt,qt)}(Qt,null,[{key:"rules",get:function(){return{block:Te,inline:Ce}}}]),Qt}(),Ee=k.defaults,ze=V_cleanUrl,Be=V_escape,Ue=function(){function Qt(qt){this.options=qt||Ee}var Ht=Qt.prototype;return Ht.code=function(nt,bt,Rt){var Dt=(bt||"").match(/\S*/)[0];if(this.options.highlight){var Xe=this.options.highlight(nt,Dt);null!=Xe&&Xe!==nt&&(Rt=!0,nt=Xe)}return nt=nt.replace(/\n$/,"")+"\n",Dt?'<pre><code class="'+this.options.langPrefix+Be(Dt,!0)+'">'+(Rt?nt:Be(nt,!0))+"</code></pre>\n":"<pre><code>"+(Rt?nt:Be(nt,!0))+"</code></pre>\n"},Ht.blockquote=function(nt){return"<blockquote>\n"+nt+"</blockquote>\n"},Ht.html=function(nt){return nt},Ht.heading=function(nt,bt,Rt,Dt){return this.options.headerIds?"<h"+bt+' id="'+this.options.headerPrefix+Dt.slug(Rt)+'">'+nt+"</h"+bt+">\n":"<h"+bt+">"+nt+"</h"+bt+">\n"},Ht.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},Ht.list=function(nt,bt,Rt){var Dt=bt?"ol":"ul";return"<"+Dt+(bt&&1!==Rt?' start="'+Rt+'"':"")+">\n"+nt+"</"+Dt+">\n"},Ht.listitem=function(nt){return"<li>"+nt+"</li>\n"},Ht.checkbox=function(nt){return"<input "+(nt?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},Ht.paragraph=function(nt){return"<p>"+nt+"</p>\n"},Ht.table=function(nt,bt){return bt&&(bt="<tbody>"+bt+"</tbody>"),"<table>\n<thead>\n"+nt+"</thead>\n"+bt+"</table>\n"},Ht.tablerow=function(nt){return"<tr>\n"+nt+"</tr>\n"},Ht.tablecell=function(nt,bt){var Rt=bt.header?"th":"td";return(bt.align?"<"+Rt+' align="'+bt.align+'">':"<"+Rt+">")+nt+"</"+Rt+">\n"},Ht.strong=function(nt){return"<strong>"+nt+"</strong>"},Ht.em=function(nt){return"<em>"+nt+"</em>"},Ht.codespan=function(nt){return"<code>"+nt+"</code>"},Ht.br=function(){return this.options.xhtml?"<br/>":"<br>"},Ht.del=function(nt){return"<del>"+nt+"</del>"},Ht.link=function(nt,bt,Rt){if(null===(nt=ze(this.options.sanitize,this.options.baseUrl,nt)))return Rt;var Dt='<a href="'+Be(nt)+'"';return bt&&(Dt+=' title="'+bt+'"'),Dt+">"+Rt+"</a>"},Ht.image=function(nt,bt,Rt){if(null===(nt=ze(this.options.sanitize,this.options.baseUrl,nt)))return Rt;var Dt='<img src="'+nt+'" alt="'+Rt+'"';return bt&&(Dt+=' title="'+bt+'"'),Dt+(this.options.xhtml?"/>":">")},Ht.text=function(nt){return nt},Qt}(),ot=function(){function Qt(){}var Ht=Qt.prototype;return Ht.strong=function(nt){return nt},Ht.em=function(nt){return nt},Ht.codespan=function(nt){return nt},Ht.del=function(nt){return nt},Ht.html=function(nt){return nt},Ht.text=function(nt){return nt},Ht.link=function(nt,bt,Rt){return""+Rt},Ht.image=function(nt,bt,Rt){return""+Rt},Ht.br=function(){return""},Qt}(),vt=function(){function Qt(){this.seen={}}var Ht=Qt.prototype;return Ht.serialize=function(nt){return nt.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},Ht.getNextSafeSlug=function(nt,bt){var Rt=nt,Dt=0;if(this.seen.hasOwnProperty(Rt)){Dt=this.seen[nt];do{Rt=nt+"-"+ ++Dt}while(this.seen.hasOwnProperty(Rt))}return bt||(this.seen[nt]=Dt,this.seen[Rt]=0),Rt},Ht.slug=function(nt,bt){void 0===bt&&(bt={});var Rt=this.serialize(nt);return this.getNextSafeSlug(Rt,bt.dryrun)},Qt}(),At=k.defaults,ve=V_unescape,ht=function(){function Qt(qt){this.options=qt||At,this.options.renderer=this.options.renderer||new Ue,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new ot,this.slugger=new vt}Qt.parse=function(nt,bt){return new Qt(bt).parse(nt)},Qt.parseInline=function(nt,bt){return new Qt(bt).parseInline(nt)};var Ht=Qt.prototype;return Ht.parse=function(nt,bt){void 0===bt&&(bt=!0);var Dt,Xe,ft,Oe,We,Ne,J,_e,$e,at,Et,Lt,Pt,on,Kt,bn,yn,jn,Rt="",Un=nt.length;for(Dt=0;Dt<Un;Dt++)switch(at=nt[Dt],at.type){case"space":continue;case"hr":Rt+=this.renderer.hr();continue;case"heading":Rt+=this.renderer.heading(this.parseInline(at.tokens),at.depth,ve(this.parseInline(at.tokens,this.textRenderer)),this.slugger);continue;case"code":Rt+=this.renderer.code(at.text,at.lang,at.escaped);continue;case"table":for(_e="",J="",Oe=at.header.length,Xe=0;Xe<Oe;Xe++)J+=this.renderer.tablecell(this.parseInline(at.tokens.header[Xe]),{header:!0,align:at.align[Xe]});for(_e+=this.renderer.tablerow(J),$e="",Oe=at.cells.length,Xe=0;Xe<Oe;Xe++){for(J="",We=(Ne=at.tokens.cells[Xe]).length,ft=0;ft<We;ft++)J+=this.renderer.tablecell(this.parseInline(Ne[ft]),{header:!1,align:at.align[ft]});$e+=this.renderer.tablerow(J)}Rt+=this.renderer.table(_e,$e);continue;case"blockquote":$e=this.parse(at.tokens),Rt+=this.renderer.blockquote($e);continue;case"list":for(Et=at.ordered,Lt=at.start,Pt=at.loose,Oe=at.items.length,$e="",Xe=0;Xe<Oe;Xe++)bn=(Kt=at.items[Xe]).checked,yn=Kt.task,on="",Kt.task&&(jn=this.renderer.checkbox(bn),Pt?Kt.tokens.length>0&&"text"===Kt.tokens[0].type?(Kt.tokens[0].text=jn+" "+Kt.tokens[0].text,Kt.tokens[0].tokens&&Kt.tokens[0].tokens.length>0&&"text"===Kt.tokens[0].tokens[0].type&&(Kt.tokens[0].tokens[0].text=jn+" "+Kt.tokens[0].tokens[0].text)):Kt.tokens.unshift({type:"text",text:jn}):on+=jn),on+=this.parse(Kt.tokens,Pt),$e+=this.renderer.listitem(on,yn,bn);Rt+=this.renderer.list($e,Et,Lt);continue;case"html":Rt+=this.renderer.html(at.text);continue;case"paragraph":Rt+=this.renderer.paragraph(this.parseInline(at.tokens));continue;case"text":for($e=at.tokens?this.parseInline(at.tokens):at.text;Dt+1<Un&&"text"===nt[Dt+1].type;)$e+="\n"+((at=nt[++Dt]).tokens?this.parseInline(at.tokens):at.text);Rt+=bt?this.renderer.paragraph($e):$e;continue;default:var zn='Token with "'+at.type+'" type was not found.';if(this.options.silent)return void console.error(zn);throw new Error(zn)}return Rt},Ht.parseInline=function(nt,bt){bt=bt||this.renderer;var Dt,Xe,Rt="",ft=nt.length;for(Dt=0;Dt<ft;Dt++)switch(Xe=nt[Dt],Xe.type){case"escape":Rt+=bt.text(Xe.text);break;case"html":Rt+=bt.html(Xe.text);break;case"link":Rt+=bt.link(Xe.href,Xe.title,this.parseInline(Xe.tokens,bt));break;case"image":Rt+=bt.image(Xe.href,Xe.title,Xe.text);break;case"strong":Rt+=bt.strong(this.parseInline(Xe.tokens,bt));break;case"em":Rt+=bt.em(this.parseInline(Xe.tokens,bt));break;case"codespan":Rt+=bt.codespan(Xe.text);break;case"br":Rt+=bt.br();break;case"del":Rt+=bt.del(this.parseInline(Xe.tokens,bt));break;case"text":Rt+=bt.text(Xe.text);break;default:var Oe='Token with "'+Xe.type+'" type was not found.';if(this.options.silent)return void console.error(Oe);throw new Error(Oe)}return Rt},Qt}(),Ge=V_merge,De=V_checkSanitizeDeprecation,Le=V_escape,dt=k.getDefaults,_t=k.changeDefaults,Nt=k.defaults;function zt(Qt,Ht,qt){if(null==Qt)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof Qt)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(Qt)+", string expected");if("function"==typeof Ht&&(qt=Ht,Ht=null),Ht=Ge({},zt.defaults,Ht||{}),De(Ht),qt){var bt,nt=Ht.highlight;try{bt=Ae.lex(Qt,Ht)}catch(ft){return qt(ft)}var Rt=function(Oe){var We;if(!Oe)try{We=ht.parse(bt,Ht)}catch(Ne){Oe=Ne}return Ht.highlight=nt,Oe?qt(Oe):qt(null,We)};if(!nt||nt.length<3||(delete Ht.highlight,!bt.length))return Rt();var Dt=0;return zt.walkTokens(bt,function(ft){"code"===ft.type&&(Dt++,setTimeout(function(){nt(ft.text,ft.lang,function(Oe,We){if(Oe)return Rt(Oe);null!=We&&We!==ft.text&&(ft.text=We,ft.escaped=!0),0==--Dt&&Rt()})},0))}),void(0===Dt&&Rt())}try{var Xe=Ae.lex(Qt,Ht);return Ht.walkTokens&&zt.walkTokens(Xe,Ht.walkTokens),ht.parse(Xe,Ht)}catch(ft){if(ft.message+="\nPlease report this to https://github.com/markedjs/marked.",Ht.silent)return"<p>An error occurred:</p><pre>"+Le(ft.message+"",!0)+"</pre>";throw ft}}return zt.options=zt.setOptions=function(Qt){return Ge(zt.defaults,Qt),_t(zt.defaults),zt},zt.getDefaults=dt,zt.defaults=Nt,zt.use=function(Qt){var Ht=Ge({},Qt);if(Qt.renderer&&function(){var nt=zt.defaults.renderer||new Ue,bt=function(Xe){var ft=nt[Xe];nt[Xe]=function(){for(var Oe=arguments.length,We=new Array(Oe),Ne=0;Ne<Oe;Ne++)We[Ne]=arguments[Ne];var J=Qt.renderer[Xe].apply(nt,We);return!1===J&&(J=ft.apply(nt,We)),J}};for(var Rt in Qt.renderer)bt(Rt);Ht.renderer=nt}(),Qt.tokenizer&&function(){var nt=zt.defaults.tokenizer||new he,bt=function(Xe){var ft=nt[Xe];nt[Xe]=function(){for(var Oe=arguments.length,We=new Array(Oe),Ne=0;Ne<Oe;Ne++)We[Ne]=arguments[Ne];var J=Qt.tokenizer[Xe].apply(nt,We);return!1===J&&(J=ft.apply(nt,We)),J}};for(var Rt in Qt.tokenizer)bt(Rt);Ht.tokenizer=nt}(),Qt.walkTokens){var qt=zt.defaults.walkTokens;Ht.walkTokens=function(nt){Qt.walkTokens(nt),qt&&qt(nt)}}zt.setOptions(Ht)},zt.walkTokens=function(Qt,Ht){for(var nt,qt=j(Qt);!(nt=qt()).done;){var bt=nt.value;switch(Ht(bt),bt.type){case"table":for(var Dt,Rt=j(bt.tokens.header);!(Dt=Rt()).done;)zt.walkTokens(Dt.value,Ht);for(var Oe,ft=j(bt.tokens.cells);!(Oe=ft()).done;)for(var J,Ne=j(Oe.value);!(J=Ne()).done;)zt.walkTokens(J.value,Ht);break;case"list":zt.walkTokens(bt.items,Ht);break;default:bt.tokens&&zt.walkTokens(bt.tokens,Ht)}}},zt.parseInline=function(Qt,Ht){if(null==Qt)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof Qt)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(Qt)+", string expected");Ht=Ge({},zt.defaults,Ht||{}),De(Ht);try{var qt=Ae.lexInline(Qt,Ht);return Ht.walkTokens&&zt.walkTokens(qt,Ht.walkTokens),ht.parseInline(qt,Ht)}catch(nt){if(nt.message+="\nPlease report this to https://github.com/markedjs/marked.",Ht.silent)return"<p>An error occurred:</p><pre>"+Le(nt.message+"",!0)+"</pre>";throw nt}},zt.Parser=ht,zt.parser=ht.parse,zt.Renderer=Ue,zt.TextRenderer=ot,zt.Lexer=Ae,zt.lexer=Ae.lex,zt.Tokenizer=he,zt.Slugger=vt,zt.parse=zt,zt}()},3967:(Ct,Qe,a)=>{"use strict";a.d(Qe,{Q:()=>j});var T=a(9427),U=a(6746);function j(k){let $=JSON.parse(k);return $=O($),$}function O(k,$=0){if(!k||$>200)return k;if("object"==typeof k){switch(k.$mid){case 1:return U.o.revive(k);case 2:return new RegExp(k.source,k.flags)}if(k instanceof T.KN||k instanceof Uint8Array)return k;if(Array.isArray(k))for(let B=0;B<k.length;++B)k[B]=O(k[B],$+1);else for(const B in k)Object.hasOwnProperty.call(k,B)&&(k[B]=O(k[B],$+1))}return k}},2035:(Ct,Qe,a)=>{"use strict";a.d(Qe,{vW:()=>$,sA:()=>C,G8:()=>b});var T=a(8416),U=a(579),j=a(1279),O=a(6857),k=a(8401),$=(()=>{return(w=$||($={})).text="text/plain",w.binary="application/octet-stream",w.unknown="application/unknown",w.markdown="text/markdown",$;var w})();let B=[],R=[],d=[];function C(w,E=!1){const S=function(w){return{id:w.id,mime:w.mime,filename:w.filename,extension:w.extension,filepattern:w.filepattern,firstline:w.firstline,userConfigured:w.userConfigured,filenameLowercase:w.filename?w.filename.toLowerCase():void 0,extensionLowercase:w.extension?w.extension.toLowerCase():void 0,filepatternLowercase:w.filepattern?w.filepattern.toLowerCase():void 0,filepatternOnPath:!!w.filepattern&&w.filepattern.indexOf(T.KR.sep)>=0}}(w);B.push(S),S.userConfigured?d.push(S):R.push(S),E&&!S.userConfigured&&B.forEach(v=>{v.mime===S.mime||v.userConfigured||(S.extension&&v.extension===S.extension&&console.warn(`Overwriting extension <<${S.extension}>> to now point to mime <<${S.mime}>>`),S.filename&&v.filename===S.filename&&console.warn(`Overwriting filename <<${S.filename}>> to now point to mime <<${S.mime}>>`),S.filepattern&&v.filepattern===S.filepattern&&console.warn(`Overwriting filepattern <<${S.filepattern}>> to now point to mime <<${S.mime}>>`),S.firstline&&v.firstline===S.firstline&&console.warn(`Overwriting firstline <<${S.firstline}>> to now point to mime <<${S.mime}>>`))})}function b(w,E){let S;if(w)switch(w.scheme){case O.lg.file:S=w.fsPath;break;case O.lg.data:S=k.Vb.parseMetaData(w).get(k.Vb.META_DATA_LABEL);break;default:S=w.path}if(!S)return[$.unknown];S=S.toLowerCase();const v=(0,T.EZ)(S),M=I(S,v,d);if(M)return[M,$.text];const _=I(S,v,R);if(_)return[_,$.text];if(E){const f=function(w){if((0,U.uS)(w)&&(w=w.substr(1)),w.length>0)for(let E=B.length-1;E>=0;E--){const S=B[E];if(!S.firstline)continue;const v=w.match(S.firstline);if(v&&v.length>0)return S.mime}return null}(E);if(f)return[f,$.text]}return[$.unknown]}function I(w,E,S){let v=null,M=null,_=null;for(let f=S.length-1;f>=0;f--){const m=S[f];if(E===m.filenameLowercase){v=m;break}m.filepattern&&(!M||m.filepattern.length>M.filepattern.length)&&(0,j.EQ)(m.filepatternLowercase,m.filepatternOnPath?w:E)&&(M=m),m.extension&&(!_||m.extension.length>_.extension.length)&&E.endsWith(m.extensionLowercase)&&(_=m)}return v?v.mime:M?M.mime:_?_.mime:null}},6857:(Ct,Qe,a)=>{"use strict";a.d(Qe,{lg:()=>j,WX:()=>k,Gi:()=>B});var T=a(6746),U=a(9190),j=(()=>{return(R=j||(j={})).inMemory="inmemory",R.vscode="vscode",R.internal="private",R.walkThrough="walkThrough",R.walkThroughSnippet="walkThroughSnippet",R.http="http",R.https="https",R.file="file",R.mailto="mailto",R.untitled="untitled",R.data="data",R.command="command",R.vscodeRemote="vscode-remote",R.vscodeRemoteResource="vscode-remote-resource",R.userData="vscode-userdata",R.vscodeCustomEditor="vscode-custom-editor",R.vscodeNotebook="vscode-notebook",R.vscodeNotebookCell="vscode-notebook-cell",R.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",R.vscodeNotebookCellOutput="vscode-notebook-cell-output",R.vscodeInteractive="vscode-interactive",R.vscodeInteractiveInput="vscode-interactive-input",R.vscodeSettings="vscode-settings",R.vscodeWorkspaceTrust="vscode-workspace-trust",R.vscodeTerminal="vscode-terminal",R.webviewPanel="webview-panel",R.vscodeWebview="vscode-webview",R.extension="extension",R.vscodeFileResource="vscode-file",R.tmp="tmp",j;var R})();const k=new class{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null}setPreferredWebSchema(d){this._preferredWebSchema=d}rewrite(d){if(this._delegate)return this._delegate(d);const C=d.authority;let g=this._hosts[C];g&&-1!==g.indexOf(":")&&(g=`[${g}]`);const b=this._ports[C],I=this._connectionTokens[C];let p=`path=${encodeURIComponent(d.path)}`;return"string"==typeof I&&(p+=`&tkn=${encodeURIComponent(I)}`),T.o.from({scheme:U.$L?this._preferredWebSchema:j.vscodeRemoteResource,authority:`${g}:${b}`,path:"/vscode-remote-resource",query:p})}},B=new class{constructor(){this.FALLBACK_AUTHORITY="vscode-app"}asBrowserUri(d,C,g){const b=this.toUri(d,C);if(b.scheme===j.vscodeRemote)return k.rewrite(b);let I=!1;return U.tY&&(g||U.MM)&&b.scheme===j.file&&(I=!0),b.scheme===j.file&&"function"==typeof U.li.importScripts&&"vscode-file://vscode-app"===U.li.origin&&(I=!0),I?b.with({scheme:j.vscodeFileResource,authority:b.authority||this.FALLBACK_AUTHORITY,query:null,fragment:null}):b}toUri(d,C){return T.o.isUri(d)?d:T.o.parse(C.toUrl(d))}}},1902:(Ct,Qe,a)=>{"use strict";function T(j,O,k){return Math.min(Math.max(j,O),k)}a.d(Qe,{u:()=>T,n:()=>U});class U{constructor(){this._n=1,this._val=0}update(O){return this._val=this._val+(O-this._val)/this._n,this._n+=1,this}get value(){return this._val}}},3788:(Ct,Qe,a)=>{"use strict";a.d(Qe,{I8:()=>U,_A:()=>j,rs:()=>k,jB:()=>B,fS:()=>R,CJ:()=>d});var T=a(1882);function U(C){if(!C||"object"!=typeof C||C instanceof RegExp)return C;const g=Array.isArray(C)?[]:{};return Object.keys(C).forEach(b=>{g[b]=C[b]&&"object"==typeof C[b]?U(C[b]):C[b]}),g}function j(C){if(!C||"object"!=typeof C)return C;const g=[C];for(;g.length>0;){const b=g.shift();Object.freeze(b);for(const I in b)if(O.call(b,I)){const p=b[I];"object"==typeof p&&!Object.isFrozen(p)&&g.push(p)}}return C}const O=Object.prototype.hasOwnProperty;function k(C,g){return $(C,g,new Set)}function $(C,g,b){if((0,T.Jp)(C))return C;const I=g(C);if(void 0!==I)return I;if((0,T.kJ)(C)){const p=[];for(const w of C)p.push($(w,g,b));return p}if((0,T.Kn)(C)){if(b.has(C))throw new Error("Cannot clone recursive data-structure");b.add(C);const p={};for(let w in C)O.call(C,w)&&(p[w]=$(C[w],g,b));return b.delete(C),p}return C}function B(C,g,b=!0){return(0,T.Kn)(C)?((0,T.Kn)(g)&&Object.keys(g).forEach(I=>{I in C?b&&((0,T.Kn)(C[I])&&(0,T.Kn)(g[I])?B(C[I],g[I],b):C[I]=g[I]):C[I]=g[I]}),C):g}function R(C,g){if(C===g)return!0;if(null==C||null==g||typeof C!=typeof g||"object"!=typeof C||Array.isArray(C)!==Array.isArray(g))return!1;let b,I;if(Array.isArray(C)){if(C.length!==g.length)return!1;for(b=0;b<C.length;b++)if(!R(C[b],g[b]))return!1}else{const p=[];for(I in C)p.push(I);p.sort();const w=[];for(I in g)w.push(I);if(w.sort(),!R(p,w))return!1;for(b=0;b<p.length;b++)if(!R(C[p[b]],g[p[b]]))return!1}return!0}function d(C,g,b){const I=g(C);return void 0===I?b:I}},8416:(Ct,Qe,a)=>{"use strict";a.d(Qe,{EZ:()=>le,XX:()=>de,DZ:()=>ce,Fv:()=>F,KR:()=>L,Gf:()=>Y,DB:()=>G,ir:()=>be,Ku:()=>m});var T=a(9190);let U;if(void 0!==T.li.vscode&&void 0!==T.li.vscode.process){const N=T.li.vscode.process;U={get platform(){return N.platform},get env(){return N.env},cwd:()=>N.cwd(),nextTick:V=>(0,T.xS)(V)}}else U="undefined"!=typeof process?{get platform(){return process.platform},get env(){return process.env},cwd:()=>process.env.VSCODE_CWD||process.cwd(),nextTick:N=>process.nextTick(N)}:{get platform(){return T.ED?"win32":T.dz?"darwin":"linux"},nextTick:N=>(0,T.xS)(N),get env(){return{}},cwd:()=>"/"};const j=U.cwd,O=U.env,k=U.platform,C=46,g=47,b=92,I=58;class w extends Error{constructor(V,Z,ie){let ue;"string"==typeof Z&&0===Z.indexOf("not ")?(ue="must not be",Z=Z.replace(/^not /,"")):ue="must be";const oe=-1!==V.indexOf(".")?"property":"argument";let ee=`The "${V}" ${oe} ${ue} of type ${Z}`;ee+=". Received type "+typeof ie,super(ee),this.code="ERR_INVALID_ARG_TYPE"}}function E(N,V){if("string"!=typeof N)throw new w(V,"string",N)}function S(N){return N===g||N===b}function v(N){return N===g}function M(N){return N>=65&&N<=90||N>=97&&N<=122}function _(N,V,Z,ie){let ue="",oe=0,ee=-1,K=0,ne=0;for(let he=0;he<=N.length;++he){if(he<N.length)ne=N.charCodeAt(he);else{if(ie(ne))break;ne=g}if(ie(ne)){if(ee!==he-1&&1!==K)if(2===K){if(ue.length<2||2!==oe||ue.charCodeAt(ue.length-1)!==C||ue.charCodeAt(ue.length-2)!==C){if(ue.length>2){const ge=ue.lastIndexOf(Z);-1===ge?(ue="",oe=0):(ue=ue.slice(0,ge),oe=ue.length-1-ue.lastIndexOf(Z)),ee=he,K=0;continue}if(0!==ue.length){ue="",oe=0,ee=he,K=0;continue}}V&&(ue+=ue.length>0?`${Z}..`:"..",oe=2)}else ue.length>0?ue+=`${Z}${N.slice(ee+1,he)}`:ue=N.slice(ee+1,he),oe=he-ee-1;ee=he,K=0}else ne===C&&-1!==K?++K:K=-1}return ue}function f(N,V){if(null===V||"object"!=typeof V)throw new w("pathObject","Object",V);const Z=V.dir||V.root,ie=V.base||`${V.name||""}${V.ext||""}`;return Z?Z===V.root?`${Z}${ie}`:`${Z}${N}${ie}`:ie}const m={resolve(...N){let V="",Z="",ie=!1;for(let ue=N.length-1;ue>=-1;ue--){let oe;if(ue>=0){if(oe=N[ue],E(oe,"path"),0===oe.length)continue}else 0===V.length?oe=j():(oe=O[`=${V}`]||j(),(void 0===oe||oe.slice(0,2).toLowerCase()!==V.toLowerCase()&&oe.charCodeAt(2)===b)&&(oe=`${V}\\`));const ee=oe.length;let K=0,ne="",he=!1;const ge=oe.charCodeAt(0);if(1===ee)S(ge)&&(K=1,he=!0);else if(S(ge))if(he=!0,S(oe.charCodeAt(1))){let re=2,ye=re;for(;re<ee&&!S(oe.charCodeAt(re));)re++;if(re<ee&&re!==ye){const ke=oe.slice(ye,re);for(ye=re;re<ee&&S(oe.charCodeAt(re));)re++;if(re<ee&&re!==ye){for(ye=re;re<ee&&!S(oe.charCodeAt(re));)re++;(re===ee||re!==ye)&&(ne=`\\\\${ke}\\${oe.slice(ye,re)}`,K=re)}}}else K=1;else M(ge)&&oe.charCodeAt(1)===I&&(ne=oe.slice(0,2),K=2,ee>2&&S(oe.charCodeAt(2))&&(he=!0,K=3));if(ne.length>0)if(V.length>0){if(ne.toLowerCase()!==V.toLowerCase())continue}else V=ne;if(ie){if(V.length>0)break}else if(Z=`${oe.slice(K)}\\${Z}`,ie=he,he&&V.length>0)break}return Z=_(Z,!ie,"\\",S),ie?`${V}\\${Z}`:`${V}${Z}`||"."},normalize(N){E(N,"path");const V=N.length;if(0===V)return".";let ie,Z=0,ue=!1;const oe=N.charCodeAt(0);if(1===V)return v(oe)?"\\":N;if(S(oe))if(ue=!0,S(N.charCodeAt(1))){let K=2,ne=K;for(;K<V&&!S(N.charCodeAt(K));)K++;if(K<V&&K!==ne){const he=N.slice(ne,K);for(ne=K;K<V&&S(N.charCodeAt(K));)K++;if(K<V&&K!==ne){for(ne=K;K<V&&!S(N.charCodeAt(K));)K++;if(K===V)return`\\\\${he}\\${N.slice(ne)}\\`;K!==ne&&(ie=`\\\\${he}\\${N.slice(ne,K)}`,Z=K)}}}else Z=1;else M(oe)&&N.charCodeAt(1)===I&&(ie=N.slice(0,2),Z=2,V>2&&S(N.charCodeAt(2))&&(ue=!0,Z=3));let ee=Z<V?_(N.slice(Z),!ue,"\\",S):"";return 0===ee.length&&!ue&&(ee="."),ee.length>0&&S(N.charCodeAt(V-1))&&(ee+="\\"),void 0===ie?ue?`\\${ee}`:ee:ue?`${ie}\\${ee}`:`${ie}${ee}`},isAbsolute(N){E(N,"path");const V=N.length;if(0===V)return!1;const Z=N.charCodeAt(0);return S(Z)||V>2&&M(Z)&&N.charCodeAt(1)===I&&S(N.charCodeAt(2))},join(...N){if(0===N.length)return".";let V,Z;for(let oe=0;oe<N.length;++oe){const ee=N[oe];E(ee,"path"),ee.length>0&&(void 0===V?V=Z=ee:V+=`\\${ee}`)}if(void 0===V)return".";let ie=!0,ue=0;if("string"==typeof Z&&S(Z.charCodeAt(0))){++ue;const oe=Z.length;oe>1&&S(Z.charCodeAt(1))&&(++ue,oe>2&&(S(Z.charCodeAt(2))?++ue:ie=!1))}if(ie){for(;ue<V.length&&S(V.charCodeAt(ue));)ue++;ue>=2&&(V=`\\${V.slice(ue)}`)}return m.normalize(V)},relative(N,V){if(E(N,"from"),E(V,"to"),N===V)return"";const Z=m.resolve(N),ie=m.resolve(V);if(Z===ie||(N=Z.toLowerCase())===(V=ie.toLowerCase()))return"";let ue=0;for(;ue<N.length&&N.charCodeAt(ue)===b;)ue++;let oe=N.length;for(;oe-1>ue&&N.charCodeAt(oe-1)===b;)oe--;const ee=oe-ue;let K=0;for(;K<V.length&&V.charCodeAt(K)===b;)K++;let ne=V.length;for(;ne-1>K&&V.charCodeAt(ne-1)===b;)ne--;const he=ne-K,ge=ee<he?ee:he;let re=-1,ye=0;for(;ye<ge;ye++){const xe=N.charCodeAt(ue+ye);if(xe!==V.charCodeAt(K+ye))break;xe===b&&(re=ye)}if(ye!==ge){if(-1===re)return ie}else{if(he>ge){if(V.charCodeAt(K+ye)===b)return ie.slice(K+ye+1);if(2===ye)return ie.slice(K+ye)}ee>ge&&(N.charCodeAt(ue+ye)===b?re=ye:2===ye&&(re=3)),-1===re&&(re=0)}let ke="";for(ye=ue+re+1;ye<=oe;++ye)(ye===oe||N.charCodeAt(ye)===b)&&(ke+=0===ke.length?"..":"\\..");return K+=re,ke.length>0?`${ke}${ie.slice(K,ne)}`:(ie.charCodeAt(K)===b&&++K,ie.slice(K,ne))},toNamespacedPath(N){if("string"!=typeof N)return N;if(0===N.length)return"";const V=m.resolve(N);if(V.length<=2)return N;if(V.charCodeAt(0)===b){if(V.charCodeAt(1)===b){const Z=V.charCodeAt(2);if(63!==Z&&Z!==C)return`\\\\?\\UNC\\${V.slice(2)}`}}else if(M(V.charCodeAt(0))&&V.charCodeAt(1)===I&&V.charCodeAt(2)===b)return`\\\\?\\${V}`;return N},dirname(N){E(N,"path");const V=N.length;if(0===V)return".";let Z=-1,ie=0;const ue=N.charCodeAt(0);if(1===V)return S(ue)?N:".";if(S(ue)){if(Z=ie=1,S(N.charCodeAt(1))){let K=2,ne=K;for(;K<V&&!S(N.charCodeAt(K));)K++;if(K<V&&K!==ne){for(ne=K;K<V&&S(N.charCodeAt(K));)K++;if(K<V&&K!==ne){for(ne=K;K<V&&!S(N.charCodeAt(K));)K++;if(K===V)return N;K!==ne&&(Z=ie=K+1)}}}}else M(ue)&&N.charCodeAt(1)===I&&(Z=V>2&&S(N.charCodeAt(2))?3:2,ie=Z);let oe=-1,ee=!0;for(let K=V-1;K>=ie;--K)if(S(N.charCodeAt(K))){if(!ee){oe=K;break}}else ee=!1;if(-1===oe){if(-1===Z)return".";oe=Z}return N.slice(0,oe)},basename(N,V){void 0!==V&&E(V,"ext"),E(N,"path");let oe,Z=0,ie=-1,ue=!0;if(N.length>=2&&M(N.charCodeAt(0))&&N.charCodeAt(1)===I&&(Z=2),void 0!==V&&V.length>0&&V.length<=N.length){if(V===N)return"";let ee=V.length-1,K=-1;for(oe=N.length-1;oe>=Z;--oe){const ne=N.charCodeAt(oe);if(S(ne)){if(!ue){Z=oe+1;break}}else-1===K&&(ue=!1,K=oe+1),ee>=0&&(ne===V.charCodeAt(ee)?-1==--ee&&(ie=oe):(ee=-1,ie=K))}return Z===ie?ie=K:-1===ie&&(ie=N.length),N.slice(Z,ie)}for(oe=N.length-1;oe>=Z;--oe)if(S(N.charCodeAt(oe))){if(!ue){Z=oe+1;break}}else-1===ie&&(ue=!1,ie=oe+1);return-1===ie?"":N.slice(Z,ie)},extname(N){E(N,"path");let V=0,Z=-1,ie=0,ue=-1,oe=!0,ee=0;N.length>=2&&N.charCodeAt(1)===I&&M(N.charCodeAt(0))&&(V=ie=2);for(let K=N.length-1;K>=V;--K){const ne=N.charCodeAt(K);if(S(ne)){if(!oe){ie=K+1;break}}else-1===ue&&(oe=!1,ue=K+1),ne===C?-1===Z?Z=K:1!==ee&&(ee=1):-1!==Z&&(ee=-1)}return-1===Z||-1===ue||0===ee||1===ee&&Z===ue-1&&Z===ie+1?"":N.slice(Z,ue)},format:f.bind(null,"\\"),parse(N){E(N,"path");const V={root:"",dir:"",base:"",ext:"",name:""};if(0===N.length)return V;const Z=N.length;let ie=0,ue=N.charCodeAt(0);if(1===Z)return S(ue)?(V.root=V.dir=N,V):(V.base=V.name=N,V);if(S(ue)){if(ie=1,S(N.charCodeAt(1))){let re=2,ye=re;for(;re<Z&&!S(N.charCodeAt(re));)re++;if(re<Z&&re!==ye){for(ye=re;re<Z&&S(N.charCodeAt(re));)re++;if(re<Z&&re!==ye){for(ye=re;re<Z&&!S(N.charCodeAt(re));)re++;re===Z?ie=re:re!==ye&&(ie=re+1)}}}}else if(M(ue)&&N.charCodeAt(1)===I){if(Z<=2)return V.root=V.dir=N,V;if(ie=2,S(N.charCodeAt(2))){if(3===Z)return V.root=V.dir=N,V;ie=3}}ie>0&&(V.root=N.slice(0,ie));let oe=-1,ee=ie,K=-1,ne=!0,he=N.length-1,ge=0;for(;he>=ie;--he)if(ue=N.charCodeAt(he),S(ue)){if(!ne){ee=he+1;break}}else-1===K&&(ne=!1,K=he+1),ue===C?-1===oe?oe=he:1!==ge&&(ge=1):-1!==oe&&(ge=-1);return-1!==K&&(-1===oe||0===ge||1===ge&&oe===K-1&&oe===ee+1?V.base=V.name=N.slice(ee,K):(V.name=N.slice(ee,oe),V.base=N.slice(ee,K),V.ext=N.slice(oe,K))),V.dir=ee>0&&ee!==ie?N.slice(0,ee-1):V.root,V},sep:"\\",delimiter:";",win32:null,posix:null},L={resolve(...N){let V="",Z=!1;for(let ie=N.length-1;ie>=-1&&!Z;ie--){const ue=ie>=0?N[ie]:j();E(ue,"path"),0!==ue.length&&(V=`${ue}/${V}`,Z=ue.charCodeAt(0)===g)}return V=_(V,!Z,"/",v),Z?`/${V}`:V.length>0?V:"."},normalize(N){if(E(N,"path"),0===N.length)return".";const V=N.charCodeAt(0)===g,Z=N.charCodeAt(N.length-1)===g;return 0===(N=_(N,!V,"/",v)).length?V?"/":Z?"./":".":(Z&&(N+="/"),V?`/${N}`:N)},isAbsolute:N=>(E(N,"path"),N.length>0&&N.charCodeAt(0)===g),join(...N){if(0===N.length)return".";let V;for(let Z=0;Z<N.length;++Z){const ie=N[Z];E(ie,"path"),ie.length>0&&(void 0===V?V=ie:V+=`/${ie}`)}return void 0===V?".":L.normalize(V)},relative(N,V){if(E(N,"from"),E(V,"to"),N===V||(N=L.resolve(N))===(V=L.resolve(V)))return"";const ie=N.length,ue=ie-1,ee=V.length-1,K=ue<ee?ue:ee;let ne=-1,he=0;for(;he<K;he++){const re=N.charCodeAt(1+he);if(re!==V.charCodeAt(1+he))break;re===g&&(ne=he)}if(he===K)if(ee>K){if(V.charCodeAt(1+he)===g)return V.slice(1+he+1);if(0===he)return V.slice(1+he)}else ue>K&&(N.charCodeAt(1+he)===g?ne=he:0===he&&(ne=0));let ge="";for(he=1+ne+1;he<=ie;++he)(he===ie||N.charCodeAt(he)===g)&&(ge+=0===ge.length?"..":"/..");return`${ge}${V.slice(1+ne)}`},toNamespacedPath:N=>N,dirname(N){if(E(N,"path"),0===N.length)return".";const V=N.charCodeAt(0)===g;let Z=-1,ie=!0;for(let ue=N.length-1;ue>=1;--ue)if(N.charCodeAt(ue)===g){if(!ie){Z=ue;break}}else ie=!1;return-1===Z?V?"/":".":V&&1===Z?"//":N.slice(0,Z)},basename(N,V){void 0!==V&&E(V,"ext"),E(N,"path");let oe,Z=0,ie=-1,ue=!0;if(void 0!==V&&V.length>0&&V.length<=N.length){if(V===N)return"";let ee=V.length-1,K=-1;for(oe=N.length-1;oe>=0;--oe){const ne=N.charCodeAt(oe);if(ne===g){if(!ue){Z=oe+1;break}}else-1===K&&(ue=!1,K=oe+1),ee>=0&&(ne===V.charCodeAt(ee)?-1==--ee&&(ie=oe):(ee=-1,ie=K))}return Z===ie?ie=K:-1===ie&&(ie=N.length),N.slice(Z,ie)}for(oe=N.length-1;oe>=0;--oe)if(N.charCodeAt(oe)===g){if(!ue){Z=oe+1;break}}else-1===ie&&(ue=!1,ie=oe+1);return-1===ie?"":N.slice(Z,ie)},extname(N){E(N,"path");let V=-1,Z=0,ie=-1,ue=!0,oe=0;for(let ee=N.length-1;ee>=0;--ee){const K=N.charCodeAt(ee);if(K!==g)-1===ie&&(ue=!1,ie=ee+1),K===C?-1===V?V=ee:1!==oe&&(oe=1):-1!==V&&(oe=-1);else if(!ue){Z=ee+1;break}}return-1===V||-1===ie||0===oe||1===oe&&V===ie-1&&V===Z+1?"":N.slice(V,ie)},format:f.bind(null,"/"),parse(N){E(N,"path");const V={root:"",dir:"",base:"",ext:"",name:""};if(0===N.length)return V;const Z=N.charCodeAt(0)===g;let ie;Z?(V.root="/",ie=1):ie=0;let ue=-1,oe=0,ee=-1,K=!0,ne=N.length-1,he=0;for(;ne>=ie;--ne){const ge=N.charCodeAt(ne);if(ge!==g)-1===ee&&(K=!1,ee=ne+1),ge===C?-1===ue?ue=ne:1!==he&&(he=1):-1!==ue&&(he=-1);else if(!K){oe=ne+1;break}}if(-1!==ee){const ge=0===oe&&Z?1:oe;-1===ue||0===he||1===he&&ue===ee-1&&ue===oe+1?V.base=V.name=N.slice(ge,ee):(V.name=N.slice(ge,ue),V.base=N.slice(ge,ee),V.ext=N.slice(ue,ee))}return oe>0?V.dir=N.slice(0,oe-1):Z&&(V.dir="/"),V},sep:"/",delimiter:":",win32:null,posix:null};L.win32=m.win32=m,L.posix=m.posix=L;const F="win32"===k?m.normalize:L.normalize,G="win32"===k?m.resolve:L.resolve,Y="win32"===k?m.relative:L.relative,de="win32"===k?m.dirname:L.dirname,le="win32"===k?m.basename:L.basename,ce="win32"===k?m.extname:L.extname,be="win32"===k?m.sep:L.sep},9190:(Ct,Qe,a)=>{"use strict";var T;a.d(Qe,{li:()=>p,MM:()=>M,ED:()=>f,dz:()=>m,IJ:()=>L,tY:()=>F,$L:()=>G,gn:()=>Y,WE:()=>de,xS:()=>le,OS:()=>ce,r:()=>V});const U="en";let C,b,I,j=!1,O=!1,k=!1,$=!1,B=!1,R=!1,d=!1,g=null;const p="object"==typeof self?self:"object"==typeof global?global:{};let w;void 0!==p.vscode&&void 0!==p.vscode.process?w=p.vscode.process:"undefined"!=typeof process&&(w=process);const E="string"==typeof(null===(T=null==w?void 0:w.versions)||void 0===T?void 0:T.electron)&&"renderer"===w.type,S=E&&(null==w?void 0:w.sandboxed),M="string"==typeof(()=>{if(S)return"bypassHeatCheck";const Z=null==w?void 0:w.env.VSCODE_BROWSER_CODE_LOADING;return"string"==typeof Z?"none"===Z||"code"===Z||"bypassHeatCheck"===Z||"bypassHeatCheckAndEagerCompile"===Z?Z:"bypassHeatCheck":void 0})();if("object"!=typeof navigator||E)if("object"==typeof w){j="win32"===w.platform,O="darwin"===w.platform,k="linux"===w.platform,$=k&&!!w.env.SNAP&&!!w.env.SNAP_REVISION,C=U,g=U;const Z=w.env.VSCODE_NLS_CONFIG;if(Z)try{const ie=JSON.parse(Z);C=ie.locale,g=ie.availableLanguages["*"]||U,b=ie._translationsConfigFile}catch(ie){}B=!0}else console.error("Unable to resolve platform.");else I=navigator.userAgent,j=I.indexOf("Windows")>=0,O=I.indexOf("Macintosh")>=0,d=(I.indexOf("Macintosh")>=0||I.indexOf("iPad")>=0||I.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,k=I.indexOf("Linux")>=0,R=!0,C=navigator.language,g=C;let _=0;O?_=1:j?_=3:k&&(_=2);const f=j,m=O,L=k,F=B,G=R,Y=d,de=I,le=function(){if(p.setImmediate)return p.setImmediate.bind(p);if("function"==typeof p.postMessage&&!p.importScripts){let ue=[];p.addEventListener("message",ee=>{if(ee.data&&ee.data.vscodeSetImmediateId)for(let K=0,ne=ue.length;K<ne;K++){const he=ue[K];if(he.id===ee.data.vscodeSetImmediateId)return ue.splice(K,1),void he.callback()}});let oe=0;return ee=>{const K=++oe;ue.push({id:K,callback:ee}),p.postMessage({vscodeSetImmediateId:K},"*")}}if("function"==typeof(null==w?void 0:w.nextTick))return w.nextTick.bind(w);const ie=Promise.resolve();return ue=>ie.then(ue)}(),ce=O||d?2:j?1:3;let be=!0,N=!1;function V(){if(!N){N=!0;const Z=new Uint8Array(2);Z[0]=1,Z[1]=2,be=513===new Uint16Array(Z.buffer)[0]}return be}},162:(Ct,Qe,a)=>{"use strict";var T;a.d(Qe,{e:()=>T}),function(U){function j(B,R){if(B.start>=R.end||R.start>=B.end)return{start:0,end:0};const d=Math.max(B.start,R.start),C=Math.min(B.end,R.end);return C-d<=0?{start:0,end:0}:{start:d,end:C}}function O(B){return B.end-B.start<=0}U.intersect=j,U.isEmpty=O,U.intersects=function(B,R){return!O(j(B,R))},U.relativeComplement=function(B,R){const d=[],C={start:B.start,end:Math.min(R.start,B.end)},g={start:Math.max(R.end,B.start),end:B.end};return O(C)||d.push(C),O(g)||d.push(g),d}}(T||(T={}))},8401:(Ct,Qe,a)=>{"use strict";a.d(Qe,{z_:()=>$,SF:()=>R,Xy:()=>d,Hx:()=>C,EZ:()=>g,XX:()=>b,Vo:()=>I,AH:()=>p,i3:()=>w,Vb:()=>E});var T=a(9513),U=a(8416),j=a(6746),O=a(579),k=a(6857);function $(S){return(0,j.q)(S,!0)}const R=new class{constructor(v){this._ignorePathCasing=v}compare(v,M,_=!1){return v===M?0:(0,O.qu)(this.getComparisonKey(v,_),this.getComparisonKey(M,_))}isEqual(v,M,_=!1){return v===M||!(!v||!M)&&this.getComparisonKey(v,_)===this.getComparisonKey(M,_)}getComparisonKey(v,M=!1){return v.with({path:this._ignorePathCasing(v)?v.path.toLowerCase():void 0,fragment:M?null:void 0}).toString()}joinPath(v,...M){return j.o.joinPath(v,...M)}basenameOrAuthority(v){return g(v)||v.authority}basename(v){return U.KR.basename(v.path)}dirname(v){if(0===v.path.length)return v;let M;return v.scheme===k.lg.file?M=j.o.file(U.XX($(v))).path:(M=U.KR.dirname(v.path),v.authority&&M.length&&47!==M.charCodeAt(0)&&(console.error(`dirname("${v.toString})) resulted in a relative path`),M="/")),v.with({path:M})}normalizePath(v){if(!v.path.length)return v;let M;return M=v.scheme===k.lg.file?j.o.file(U.Fv($(v))).path:U.KR.normalize(v.path),v.with({path:M})}resolvePath(v,M){if(v.scheme===k.lg.file){const _=j.o.file(U.DB($(v),M));return v.with({authority:_.authority,path:_.path})}return M=T.fn(M),v.with({path:U.KR.resolve(v.path,M)})}}(()=>!1),d=R.isEqual.bind(R),C=R.basenameOrAuthority.bind(R),g=R.basename.bind(R),b=R.dirname.bind(R),I=R.joinPath.bind(R),p=R.normalizePath.bind(R),w=R.resolvePath.bind(R);var E,S;(S=E||(E={})).META_DATA_LABEL="label",S.META_DATA_DESCRIPTION="description",S.META_DATA_SIZE="size",S.META_DATA_MIME="mime",S.parseMetaData=function(M){const _=new Map;M.path.substring(M.path.indexOf(";")+1,M.path.lastIndexOf(";")).split(";").forEach(L=>{const[F,G]=L.split(":");F&&G&&_.set(F,G)});const m=M.path.substring(0,M.path.indexOf(";"));return m&&_.set(S.META_DATA_MIME,m),_}},2372:(Ct,Qe,a)=>{"use strict";a.d(Qe,{Rm:()=>O});var T=a(6723),U=a(1719);class j{constructor(b,I,p,w,E,S){this._scrollStateBrand=void 0,b|=0,I|=0,w|=0,E|=0,S|=0,this.rawScrollLeft=p|=0,this.rawScrollTop=S,b<0&&(b=0),p+b>I&&(p=I-b),p<0&&(p=0),w<0&&(w=0),S+w>E&&(S=E-w),S<0&&(S=0),this.width=b,this.scrollWidth=I,this.scrollLeft=p,this.height=w,this.scrollHeight=E,this.scrollTop=S}equals(b){return this.rawScrollLeft===b.rawScrollLeft&&this.rawScrollTop===b.rawScrollTop&&this.width===b.width&&this.scrollWidth===b.scrollWidth&&this.scrollLeft===b.scrollLeft&&this.height===b.height&&this.scrollHeight===b.scrollHeight&&this.scrollTop===b.scrollTop}withScrollDimensions(b,I){return new j(void 0!==b.width?b.width:this.width,void 0!==b.scrollWidth?b.scrollWidth:this.scrollWidth,I?this.rawScrollLeft:this.scrollLeft,void 0!==b.height?b.height:this.height,void 0!==b.scrollHeight?b.scrollHeight:this.scrollHeight,I?this.rawScrollTop:this.scrollTop)}withScrollPosition(b){return new j(this.width,this.scrollWidth,void 0!==b.scrollLeft?b.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,void 0!==b.scrollTop?b.scrollTop:this.rawScrollTop)}createScrollEvent(b,I){return{inSmoothScrolling:I,oldWidth:b.width,oldScrollWidth:b.scrollWidth,oldScrollLeft:b.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:b.height,oldScrollHeight:b.scrollHeight,oldScrollTop:b.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:this.width!==b.width,scrollWidthChanged:this.scrollWidth!==b.scrollWidth,scrollLeftChanged:this.scrollLeft!==b.scrollLeft,heightChanged:this.height!==b.height,scrollHeightChanged:this.scrollHeight!==b.scrollHeight,scrollTopChanged:this.scrollTop!==b.scrollTop}}}class O extends U.JT{constructor(b,I){super(),this._scrollableBrand=void 0,this._onScroll=this._register(new T.Q5),this.onScroll=this._onScroll.event,this._smoothScrollDuration=b,this._scheduleAtNextAnimationFrame=I,this._state=new j(0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(b){this._smoothScrollDuration=b}validateScrollPosition(b){return this._state.withScrollPosition(b)}getScrollDimensions(){return this._state}setScrollDimensions(b,I){const p=this._state.withScrollDimensions(b,I);this._setState(p,Boolean(this._smoothScrolling)),this._smoothScrolling&&this._smoothScrolling.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(b){const I=this._state.withScrollPosition(b);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(I,!1)}setScrollPositionSmooth(b,I){if(0===this._smoothScrollDuration)return this.setScrollPositionNow(b);if(this._smoothScrolling){const p=this._state.withScrollPosition(b={scrollLeft:void 0===b.scrollLeft?this._smoothScrolling.to.scrollLeft:b.scrollLeft,scrollTop:void 0===b.scrollTop?this._smoothScrolling.to.scrollTop:b.scrollTop});if(this._smoothScrolling.to.scrollLeft===p.scrollLeft&&this._smoothScrolling.to.scrollTop===p.scrollTop)return;let w;w=I?new R(this._smoothScrolling.from,p,this._smoothScrolling.startTime,this._smoothScrolling.duration):this._smoothScrolling.combine(this._state,p,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=w}else{const p=this._state.withScrollPosition(b);this._smoothScrolling=R.start(this._state,p,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{!this._smoothScrolling||(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}_performSmoothScrolling(){if(!this._smoothScrolling)return;const b=this._smoothScrolling.tick(),I=this._state.withScrollPosition(b);if(this._setState(I,!0),this._smoothScrolling){if(b.isDone)return this._smoothScrolling.dispose(),void(this._smoothScrolling=null);this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{!this._smoothScrolling||(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(b,I){const p=this._state;p.equals(b)||(this._state=b,this._onScroll.fire(this._state.createScrollEvent(p,I)))}}class k{constructor(b,I,p){this.scrollLeft=b,this.scrollTop=I,this.isDone=p}}function $(g,b){const I=b-g;return function(p){return g+I*function(g){return 1-function(g){return Math.pow(g,3)}(1-g)}(p)}}class R{constructor(b,I,p,w){this.from=b,this.to=I,this.duration=w,this.startTime=p,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(b,I,p){if(Math.abs(b-I)>2.5*p){let E,S;return b<I?(E=b+.75*p,S=I-.75*p):(E=b-.75*p,S=I+.75*p),function(g,b,I){return function(p){return p<I?g(p/I):b((p-I)/(1-I))}}($(b,E),$(S,I),.33)}return $(b,I)}dispose(){null!==this.animationFrameDisposable&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(b){this.to=b.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(b){const I=(b-this.startTime)/this.duration;if(I<1){const p=this.scrollLeft(I),w=this.scrollTop(I);return new k(p,w,!1)}return new k(this.to.scrollLeft,this.to.scrollTop,!0)}combine(b,I,p){return R.start(b,I,p)}static start(b,I,p){p+=10;const w=Date.now()-10;return new R(b,I,w,p)}}},1022:(Ct,Qe,a)=>{"use strict";a.d(Qe,{Z:()=>j});var T=a(579),U=(()=>{return(O=U||(U={}))[O.Ignore=0]="Ignore",O[O.Info=1]="Info",O[O.Warning=2]="Warning",O[O.Error=3]="Error",U;var O})();!function(O){const k="error",$="warning",R="info";O.fromValue=function(b){return b?T.qq(k,b)?O.Error:T.qq($,b)||T.qq("warn",b)?O.Warning:T.qq(R,b)?O.Info:O.Ignore:O.Ignore},O.toString=function(b){switch(b){case O.Error:return k;case O.Warning:return $;case O.Info:return R;default:return"ignore"}}}(U||(U={}));const j=U},2329:(Ct,Qe,a)=>{"use strict";a.d(Qe,{G:()=>j});var T=a(9190);const U=T.li.performance&&"function"==typeof T.li.performance.now;class j{constructor(k){this._highResolution=U&&k,this._startTime=this._now(),this._stopTime=-1}static create(k=!0){return new j(k)}stop(){this._stopTime=this._now()}elapsed(){return-1!==this._stopTime?this._stopTime-this._startTime:this._now()-this._startTime}_now(){return this._highResolution?T.li.performance.now():Date.now()}}},579:(Ct,Qe,a)=>{"use strict";function T(ve){return!ve||"string"!=typeof ve||0===ve.trim().length}a.d(Qe,{m5:()=>T,WU:()=>j,YU:()=>O,ec:()=>k,fy:()=>$,j3:()=>B,oL:()=>R,un:()=>d,R1:()=>C,GF:()=>g,IO:()=>b,mr:()=>I,uq:()=>p,LC:()=>w,V8:()=>E,ow:()=>S,qu:()=>v,TT:()=>M,zY:()=>_,j_:()=>f,mK:()=>m,df:()=>L,qq:()=>G,ok:()=>de,Mh:()=>le,P1:()=>ce,ZG:()=>be,YK:()=>N,rL:()=>V,ZH:()=>Z,vH:()=>ue,HO:()=>oe,CZ:()=>ee,Ut:()=>ne,RP:()=>ge,$i:()=>ye,Qe:()=>ke,ab:()=>xe,xe:()=>Pe,K7:()=>fe,C8:()=>Te,c1:()=>Ce,uS:()=>Je,Kw:()=>pe,PJ:()=>Ve,S6:()=>Ae,fi:()=>Ee,oH:()=>Ue});const U=/{(\d+)}/g;function j(ve,...ht){return 0===ht.length?ve:ve.replace(U,function(Ge,De){const Le=parseInt(De,10);return isNaN(Le)||Le<0||Le>=ht.length?Ge:ht[Le]})}function O(ve){return ve.replace(/[<>&]/g,function(ht){switch(ht){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return ht}})}function k(ve){return ve.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function $(ve,ht=" "){return R(B(ve,ht),ht)}function B(ve,ht){if(!ve||!ht)return ve;const Ge=ht.length;if(0===Ge||0===ve.length)return ve;let De=0;for(;ve.indexOf(ht,De)===De;)De+=Ge;return ve.substring(De)}function R(ve,ht){if(!ve||!ht)return ve;const Ge=ht.length,De=ve.length;if(0===Ge||0===De)return ve;let Le=De,dt=-1;for(;dt=ve.lastIndexOf(ht,Le-1),-1!==dt&&dt+Ge===Le;){if(0===dt)return"";Le=dt}return ve.substring(0,Le)}function d(ve){return ve.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function C(ve){return ve.replace(/\*/g,"")}function g(ve,ht,Ge={}){if(!ve)throw new Error("Cannot create regex from empty string");ht||(ve=k(ve)),Ge.wholeWord&&(/\B/.test(ve.charAt(0))||(ve="\\b"+ve),/\B/.test(ve.charAt(ve.length-1))||(ve+="\\b"));let De="";return Ge.global&&(De+="g"),Ge.matchCase||(De+="i"),Ge.multiline&&(De+="m"),Ge.unicode&&(De+="u"),new RegExp(ve,De)}function b(ve){return"^"!==ve.source&&"^$"!==ve.source&&"$"!==ve.source&&"^\\s*$"!==ve.source&&!(!ve.exec("")||0!==ve.lastIndex)}function I(ve){return(ve.global?"g":"")+(ve.ignoreCase?"i":"")+(ve.multiline?"m":"")+(ve.unicode?"u":"")}function p(ve){return ve.split(/\r\n|\r|\n/)}function w(ve){for(let ht=0,Ge=ve.length;ht<Ge;ht++){const De=ve.charCodeAt(ht);if(32!==De&&9!==De)return ht}return-1}function E(ve,ht=0,Ge=ve.length){for(let De=ht;De<Ge;De++){const Le=ve.charCodeAt(De);if(32!==Le&&9!==Le)return ve.substring(ht,De)}return ve.substring(ht,Ge)}function S(ve,ht=ve.length-1){for(let Ge=ht;Ge>=0;Ge--){const De=ve.charCodeAt(Ge);if(32!==De&&9!==De)return Ge}return-1}function v(ve,ht){return ve<ht?-1:ve>ht?1:0}function M(ve,ht,Ge=0,De=ve.length,Le=0,dt=ht.length){for(;Ge<De&&Le<dt;Ge++,Le++){let zt=ve.charCodeAt(Ge),pn=ht.charCodeAt(Le);if(zt<pn)return-1;if(zt>pn)return 1}const _t=De-Ge,Nt=dt-Le;return _t<Nt?-1:_t>Nt?1:0}function _(ve,ht){return f(ve,ht,0,ve.length,0,ht.length)}function f(ve,ht,Ge=0,De=ve.length,Le=0,dt=ht.length){for(;Ge<De&&Le<dt;Ge++,Le++){let zt=ve.charCodeAt(Ge),pn=ht.charCodeAt(Le);if(zt===pn)continue;const Qt=zt-pn;if(!(32===Qt&&L(pn)||-32===Qt&&L(zt)))return m(zt)&&m(pn)?Qt:M(ve.toLowerCase(),ht.toLowerCase(),Ge,De,Le,dt)}const _t=De-Ge,Nt=dt-Le;return _t<Nt?-1:_t>Nt?1:0}function m(ve){return ve>=97&&ve<=122}function L(ve){return ve>=65&&ve<=90}function F(ve){return m(ve)||L(ve)}function G(ve,ht){return ve.length===ht.length&&Y(ve,ht)}function Y(ve,ht,Ge=ve.length){for(let De=0;De<Ge;De++){const Le=ve.charCodeAt(De),dt=ht.charCodeAt(De);if(Le!==dt)if(F(Le)&&F(dt)){const _t=Math.abs(Le-dt);if(0!==_t&&32!==_t)return!1}else if(String.fromCharCode(Le).toLowerCase()!==String.fromCharCode(dt).toLowerCase())return!1}return!0}function de(ve,ht){return!(ht.length>ve.length)&&Y(ve,ht,ht.length)}function le(ve,ht){let Ge,De=Math.min(ve.length,ht.length);for(Ge=0;Ge<De;Ge++)if(ve.charCodeAt(Ge)!==ht.charCodeAt(Ge))return Ge;return De}function ce(ve,ht){let Ge,De=Math.min(ve.length,ht.length);const Le=ve.length-1,dt=ht.length-1;for(Ge=0;Ge<De;Ge++)if(ve.charCodeAt(Le-Ge)!==ht.charCodeAt(dt-Ge))return Ge;return De}function be(ve){return 55296<=ve&&ve<=56319}function N(ve){return 56320<=ve&&ve<=57343}function V(ve,ht){return ht-56320+(ve-55296<<10)+65536}function Z(ve,ht,Ge){const De=ve.charCodeAt(Ge);if(be(De)&&Ge+1<ht){const Le=ve.charCodeAt(Ge+1);if(N(Le))return V(De,Le)}return De}function ie(ve,ht){const Ge=ve.charCodeAt(ht-1);if(N(Ge)&&ht>1){const De=ve.charCodeAt(ht-2);if(be(De))return V(De,Ge)}return Ge}function ue(ve,ht){const Ge=ze.getInstance(),De=ht,Le=ve.length,dt=Z(ve,Le,ht);ht+=dt>=65536?2:1;let _t=Ge.getGraphemeBreakType(dt);for(;ht<Le;){const Nt=Z(ve,Le,ht),zt=Ge.getGraphemeBreakType(Nt);if(Ee(_t,zt))break;ht+=Nt>=65536?2:1,_t=zt}return ht-De}function oe(ve,ht){const Ge=ze.getInstance(),De=ht,Le=ie(ve,ht);ht-=Le>=65536?2:1;let dt=Ge.getGraphemeBreakType(Le);for(;ht>0;){const _t=ie(ve,ht),Nt=Ge.getGraphemeBreakType(_t);if(Ee(Nt,dt))break;ht-=_t>=65536?2:1,dt=Nt}return De-ht}function ee(ve){const ht=ve.byteLength,Ge=[];let De=0;for(;De<ht;){const Le=ve[De];let dt;if(dt=Le>=240&&De+3<ht?(7&ve[De++])<<18>>>0|(63&ve[De++])<<12>>>0|(63&ve[De++])<<6>>>0|(63&ve[De++])<<0>>>0:Le>=224&&De+2<ht?(15&ve[De++])<<12>>>0|(63&ve[De++])<<6>>>0|(63&ve[De++])<<0>>>0:Le>=192&&De+1<ht?(31&ve[De++])<<6>>>0|(63&ve[De++])<<0>>>0:ve[De++],dt>=0&&dt<=55295||dt>=57344&&dt<=65535)Ge.push(String.fromCharCode(dt));else if(dt>=65536&&dt<=1114111){const _t=dt-65536,zt=56320+((1023&_t)>>>0);Ge.push(String.fromCharCode(55296+((1047552&_t)>>>10))),Ge.push(String.fromCharCode(zt))}else Ge.push(String.fromCharCode(65533))}return Ge.join("")}const K=/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u08BD\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE33\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDCFF]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD50-\uDFFF]|\uD83B[\uDC00-\uDEBB])/;function ne(ve){return K.test(ve)}const he=/(?:[\u231A\u231B\u23F0\u23F3\u2600-\u27BF\u2B50\u2B55]|\uD83C[\uDDE6-\uDDFF\uDF00-\uDFFF]|\uD83D[\uDC00-\uDE4F\uDE80-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD00-\uDDFF\uDE70-\uDED6])/;function ge(ve){return he.test(ve)}const re=/^[\t\n\r\x20-\x7E]*$/;function ye(ve){return re.test(ve)}const ke=/[\u2028\u2029]/;function xe(ve){return ke.test(ve)}function Pe(ve){for(let ht=0,Ge=ve.length;ht<Ge;ht++)if(fe(ve.charCodeAt(ht)))return!0;return!1}function fe(ve){return(ve=+ve)>=11904&&ve<=55215||ve>=63744&&ve<=64255||ve>=65281&&ve<=65374}function Te(ve){return ve>=127462&&ve<=127487||8986===ve||8987===ve||9200===ve||9203===ve||ve>=9728&&ve<=10175||11088===ve||11093===ve||ve>=127744&&ve<=128591||ve>=128640&&ve<=128764||ve>=128992&&ve<=129003||ve>=129280&&ve<=129535||ve>=129648&&ve<=129750}const Ce=String.fromCharCode(65279);function Je(ve){return!!(ve&&ve.length>0&&65279===ve.charCodeAt(0))}function pe(ve,ht=!1){return!!ve&&(ht&&(ve=ve.replace(/\\./g,"")),ve.toLowerCase()!==ve)}function Ve(ve){return ve%=52,String.fromCharCode(ve<26?97+ve:65+ve-26)}function Ae(ve){return ze.getInstance().getGraphemeBreakType(ve)}function Ee(ve,ht){return 0===ve?5!==ht&&7!==ht:!(2===ve&&3===ht||4!==ve&&2!==ve&&3!==ve&&4!==ht&&2!==ht&&3!==ht&&(8===ve&&(8===ht||9===ht||11===ht||12===ht)||(11===ve||9===ve)&&(9===ht||10===ht)||(12===ve||10===ve)&&10===ht||5===ht||13===ht||7===ht||1===ve||13===ve&&14===ht||6===ve&&6===ht))}let ze=(()=>{class ve{constructor(){this._data=JSON.parse("[0,0,0,51592,51592,11,44424,44424,11,72251,72254,5,7150,7150,7,48008,48008,11,55176,55176,11,128420,128420,14,3276,3277,5,9979,9980,14,46216,46216,11,49800,49800,11,53384,53384,11,70726,70726,5,122915,122916,5,129320,129327,14,2558,2558,5,5906,5908,5,9762,9763,14,43360,43388,8,45320,45320,11,47112,47112,11,48904,48904,11,50696,50696,11,52488,52488,11,54280,54280,11,70082,70083,1,71350,71350,7,73111,73111,5,127892,127893,14,128726,128727,14,129473,129474,14,2027,2035,5,2901,2902,5,3784,3789,5,6754,6754,5,8418,8420,5,9877,9877,14,11088,11088,14,44008,44008,5,44872,44872,11,45768,45768,11,46664,46664,11,47560,47560,11,48456,48456,11,49352,49352,11,50248,50248,11,51144,51144,11,52040,52040,11,52936,52936,11,53832,53832,11,54728,54728,11,69811,69814,5,70459,70460,5,71096,71099,7,71998,71998,5,72874,72880,5,119149,119149,7,127374,127374,14,128335,128335,14,128482,128482,14,128765,128767,14,129399,129400,14,129680,129685,14,1476,1477,5,2377,2380,7,2759,2760,5,3137,3140,7,3458,3459,7,4153,4154,5,6432,6434,5,6978,6978,5,7675,7679,5,9723,9726,14,9823,9823,14,9919,9923,14,10035,10036,14,42736,42737,5,43596,43596,5,44200,44200,11,44648,44648,11,45096,45096,11,45544,45544,11,45992,45992,11,46440,46440,11,46888,46888,11,47336,47336,11,47784,47784,11,48232,48232,11,48680,48680,11,49128,49128,11,49576,49576,11,50024,50024,11,50472,50472,11,50920,50920,11,51368,51368,11,51816,51816,11,52264,52264,11,52712,52712,11,53160,53160,11,53608,53608,11,54056,54056,11,54504,54504,11,54952,54952,11,68108,68111,5,69933,69940,5,70197,70197,7,70498,70499,7,70845,70845,5,71229,71229,5,71727,71735,5,72154,72155,5,72344,72345,5,73023,73029,5,94095,94098,5,121403,121452,5,126981,127182,14,127538,127546,14,127990,127990,14,128391,128391,14,128445,128449,14,128500,128505,14,128752,128752,14,129160,129167,14,129356,129356,14,129432,129442,14,129648,129651,14,129751,131069,14,173,173,4,1757,1757,1,2274,2274,1,2494,2494,5,2641,2641,5,2876,2876,5,3014,3016,7,3262,3262,7,3393,3396,5,3570,3571,7,3968,3972,5,4228,4228,7,6086,6086,5,6679,6680,5,6912,6915,5,7080,7081,5,7380,7392,5,8252,8252,14,9096,9096,14,9748,9749,14,9784,9786,14,9833,9850,14,9890,9894,14,9938,9938,14,9999,9999,14,10085,10087,14,12349,12349,14,43136,43137,7,43454,43456,7,43755,43755,7,44088,44088,11,44312,44312,11,44536,44536,11,44760,44760,11,44984,44984,11,45208,45208,11,45432,45432,11,45656,45656,11,45880,45880,11,46104,46104,11,46328,46328,11,46552,46552,11,46776,46776,11,47000,47000,11,47224,47224,11,47448,47448,11,47672,47672,11,47896,47896,11,48120,48120,11,48344,48344,11,48568,48568,11,48792,48792,11,49016,49016,11,49240,49240,11,49464,49464,11,49688,49688,11,49912,49912,11,50136,50136,11,50360,50360,11,50584,50584,11,50808,50808,11,51032,51032,11,51256,51256,11,51480,51480,11,51704,51704,11,51928,51928,11,52152,52152,11,52376,52376,11,52600,52600,11,52824,52824,11,53048,53048,11,53272,53272,11,53496,53496,11,53720,53720,11,53944,53944,11,54168,54168,11,54392,54392,11,54616,54616,11,54840,54840,11,55064,55064,11,65438,65439,5,69633,69633,5,69837,69837,1,70018,70018,7,70188,70190,7,70368,70370,7,70465,70468,7,70712,70719,5,70835,70840,5,70850,70851,5,71132,71133,5,71340,71340,7,71458,71461,5,71985,71989,7,72002,72002,7,72193,72202,5,72281,72283,5,72766,72766,7,72885,72886,5,73104,73105,5,92912,92916,5,113824,113827,4,119173,119179,5,121505,121519,5,125136,125142,5,127279,127279,14,127489,127490,14,127570,127743,14,127900,127901,14,128254,128254,14,128369,128370,14,128400,128400,14,128425,128432,14,128468,128475,14,128489,128494,14,128715,128720,14,128745,128745,14,128759,128760,14,129004,129023,14,129296,129304,14,129340,129342,14,129388,129392,14,129404,129407,14,129454,129455,14,129485,129487,14,129659,129663,14,129719,129727,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2363,2363,7,2402,2403,5,2507,2508,7,2622,2624,7,2691,2691,7,2786,2787,5,2881,2884,5,3006,3006,5,3072,3072,5,3170,3171,5,3267,3268,7,3330,3331,7,3406,3406,1,3538,3540,5,3655,3662,5,3897,3897,5,4038,4038,5,4184,4185,5,4352,4447,8,6068,6069,5,6155,6157,5,6448,6449,7,6742,6742,5,6783,6783,5,6966,6970,5,7042,7042,7,7143,7143,7,7212,7219,5,7412,7412,5,8206,8207,4,8294,8303,4,8596,8601,14,9410,9410,14,9742,9742,14,9757,9757,14,9770,9770,14,9794,9794,14,9828,9828,14,9855,9855,14,9882,9882,14,9900,9903,14,9929,9933,14,9963,9967,14,9987,9988,14,10006,10006,14,10062,10062,14,10175,10175,14,11744,11775,5,42607,42607,5,43043,43044,7,43263,43263,5,43444,43445,7,43569,43570,5,43698,43700,5,43766,43766,5,44032,44032,11,44144,44144,11,44256,44256,11,44368,44368,11,44480,44480,11,44592,44592,11,44704,44704,11,44816,44816,11,44928,44928,11,45040,45040,11,45152,45152,11,45264,45264,11,45376,45376,11,45488,45488,11,45600,45600,11,45712,45712,11,45824,45824,11,45936,45936,11,46048,46048,11,46160,46160,11,46272,46272,11,46384,46384,11,46496,46496,11,46608,46608,11,46720,46720,11,46832,46832,11,46944,46944,11,47056,47056,11,47168,47168,11,47280,47280,11,47392,47392,11,47504,47504,11,47616,47616,11,47728,47728,11,47840,47840,11,47952,47952,11,48064,48064,11,48176,48176,11,48288,48288,11,48400,48400,11,48512,48512,11,48624,48624,11,48736,48736,11,48848,48848,11,48960,48960,11,49072,49072,11,49184,49184,11,49296,49296,11,49408,49408,11,49520,49520,11,49632,49632,11,49744,49744,11,49856,49856,11,49968,49968,11,50080,50080,11,50192,50192,11,50304,50304,11,50416,50416,11,50528,50528,11,50640,50640,11,50752,50752,11,50864,50864,11,50976,50976,11,51088,51088,11,51200,51200,11,51312,51312,11,51424,51424,11,51536,51536,11,51648,51648,11,51760,51760,11,51872,51872,11,51984,51984,11,52096,52096,11,52208,52208,11,52320,52320,11,52432,52432,11,52544,52544,11,52656,52656,11,52768,52768,11,52880,52880,11,52992,52992,11,53104,53104,11,53216,53216,11,53328,53328,11,53440,53440,11,53552,53552,11,53664,53664,11,53776,53776,11,53888,53888,11,54000,54000,11,54112,54112,11,54224,54224,11,54336,54336,11,54448,54448,11,54560,54560,11,54672,54672,11,54784,54784,11,54896,54896,11,55008,55008,11,55120,55120,11,64286,64286,5,66272,66272,5,68900,68903,5,69762,69762,7,69817,69818,5,69927,69931,5,70003,70003,5,70070,70078,5,70094,70094,7,70194,70195,7,70206,70206,5,70400,70401,5,70463,70463,7,70475,70477,7,70512,70516,5,70722,70724,5,70832,70832,5,70842,70842,5,70847,70848,5,71088,71089,7,71102,71102,7,71219,71226,5,71231,71232,5,71342,71343,7,71453,71455,5,71463,71467,5,71737,71738,5,71995,71996,5,72000,72000,7,72145,72147,7,72160,72160,5,72249,72249,7,72273,72278,5,72330,72342,5,72752,72758,5,72850,72871,5,72882,72883,5,73018,73018,5,73031,73031,5,73109,73109,5,73461,73462,7,94031,94031,5,94192,94193,7,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,126976,126979,14,127184,127231,14,127344,127345,14,127405,127461,14,127514,127514,14,127561,127567,14,127778,127779,14,127896,127896,14,127985,127986,14,127995,127999,5,128326,128328,14,128360,128366,14,128378,128378,14,128394,128397,14,128405,128406,14,128422,128423,14,128435,128443,14,128453,128464,14,128479,128480,14,128484,128487,14,128496,128498,14,128640,128709,14,128723,128724,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129096,129103,14,129292,129292,14,129311,129311,14,129329,129330,14,129344,129349,14,129360,129374,14,129394,129394,14,129402,129402,14,129413,129425,14,129445,129450,14,129466,129471,14,129483,129483,14,129511,129535,14,129653,129655,14,129667,129670,14,129705,129711,14,129731,129743,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2307,2307,7,2366,2368,7,2382,2383,7,2434,2435,7,2497,2500,5,2519,2519,5,2563,2563,7,2631,2632,5,2677,2677,5,2750,2752,7,2763,2764,7,2817,2817,5,2879,2879,5,2891,2892,7,2914,2915,5,3008,3008,5,3021,3021,5,3076,3076,5,3146,3149,5,3202,3203,7,3264,3265,7,3271,3272,7,3298,3299,5,3390,3390,5,3402,3404,7,3426,3427,5,3535,3535,5,3544,3550,7,3635,3635,7,3763,3763,7,3893,3893,5,3953,3966,5,3981,3991,5,4145,4145,7,4157,4158,5,4209,4212,5,4237,4237,5,4520,4607,10,5970,5971,5,6071,6077,5,6089,6099,5,6277,6278,5,6439,6440,5,6451,6456,7,6683,6683,5,6744,6750,5,6765,6770,7,6846,6846,5,6964,6964,5,6972,6972,5,7019,7027,5,7074,7077,5,7083,7085,5,7146,7148,7,7154,7155,7,7222,7223,5,7394,7400,5,7416,7417,5,8204,8204,5,8233,8233,4,8288,8292,4,8413,8416,5,8482,8482,14,8986,8987,14,9193,9203,14,9654,9654,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9775,14,9792,9792,14,9800,9811,14,9825,9826,14,9831,9831,14,9852,9853,14,9872,9873,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9936,9936,14,9941,9960,14,9974,9974,14,9982,9985,14,9992,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10145,10145,14,11013,11015,14,11503,11505,5,12334,12335,5,12951,12951,14,42612,42621,5,43014,43014,5,43047,43047,7,43204,43205,5,43335,43345,5,43395,43395,7,43450,43451,7,43561,43566,5,43573,43574,5,43644,43644,5,43710,43711,5,43758,43759,7,44005,44005,5,44012,44012,7,44060,44060,11,44116,44116,11,44172,44172,11,44228,44228,11,44284,44284,11,44340,44340,11,44396,44396,11,44452,44452,11,44508,44508,11,44564,44564,11,44620,44620,11,44676,44676,11,44732,44732,11,44788,44788,11,44844,44844,11,44900,44900,11,44956,44956,11,45012,45012,11,45068,45068,11,45124,45124,11,45180,45180,11,45236,45236,11,45292,45292,11,45348,45348,11,45404,45404,11,45460,45460,11,45516,45516,11,45572,45572,11,45628,45628,11,45684,45684,11,45740,45740,11,45796,45796,11,45852,45852,11,45908,45908,11,45964,45964,11,46020,46020,11,46076,46076,11,46132,46132,11,46188,46188,11,46244,46244,11,46300,46300,11,46356,46356,11,46412,46412,11,46468,46468,11,46524,46524,11,46580,46580,11,46636,46636,11,46692,46692,11,46748,46748,11,46804,46804,11,46860,46860,11,46916,46916,11,46972,46972,11,47028,47028,11,47084,47084,11,47140,47140,11,47196,47196,11,47252,47252,11,47308,47308,11,47364,47364,11,47420,47420,11,47476,47476,11,47532,47532,11,47588,47588,11,47644,47644,11,47700,47700,11,47756,47756,11,47812,47812,11,47868,47868,11,47924,47924,11,47980,47980,11,48036,48036,11,48092,48092,11,48148,48148,11,48204,48204,11,48260,48260,11,48316,48316,11,48372,48372,11,48428,48428,11,48484,48484,11,48540,48540,11,48596,48596,11,48652,48652,11,48708,48708,11,48764,48764,11,48820,48820,11,48876,48876,11,48932,48932,11,48988,48988,11,49044,49044,11,49100,49100,11,49156,49156,11,49212,49212,11,49268,49268,11,49324,49324,11,49380,49380,11,49436,49436,11,49492,49492,11,49548,49548,11,49604,49604,11,49660,49660,11,49716,49716,11,49772,49772,11,49828,49828,11,49884,49884,11,49940,49940,11,49996,49996,11,50052,50052,11,50108,50108,11,50164,50164,11,50220,50220,11,50276,50276,11,50332,50332,11,50388,50388,11,50444,50444,11,50500,50500,11,50556,50556,11,50612,50612,11,50668,50668,11,50724,50724,11,50780,50780,11,50836,50836,11,50892,50892,11,50948,50948,11,51004,51004,11,51060,51060,11,51116,51116,11,51172,51172,11,51228,51228,11,51284,51284,11,51340,51340,11,51396,51396,11,51452,51452,11,51508,51508,11,51564,51564,11,51620,51620,11,51676,51676,11,51732,51732,11,51788,51788,11,51844,51844,11,51900,51900,11,51956,51956,11,52012,52012,11,52068,52068,11,52124,52124,11,52180,52180,11,52236,52236,11,52292,52292,11,52348,52348,11,52404,52404,11,52460,52460,11,52516,52516,11,52572,52572,11,52628,52628,11,52684,52684,11,52740,52740,11,52796,52796,11,52852,52852,11,52908,52908,11,52964,52964,11,53020,53020,11,53076,53076,11,53132,53132,11,53188,53188,11,53244,53244,11,53300,53300,11,53356,53356,11,53412,53412,11,53468,53468,11,53524,53524,11,53580,53580,11,53636,53636,11,53692,53692,11,53748,53748,11,53804,53804,11,53860,53860,11,53916,53916,11,53972,53972,11,54028,54028,11,54084,54084,11,54140,54140,11,54196,54196,11,54252,54252,11,54308,54308,11,54364,54364,11,54420,54420,11,54476,54476,11,54532,54532,11,54588,54588,11,54644,54644,11,54700,54700,11,54756,54756,11,54812,54812,11,54868,54868,11,54924,54924,11,54980,54980,11,55036,55036,11,55092,55092,11,55148,55148,11,55216,55238,9,65056,65071,5,65529,65531,4,68097,68099,5,68159,68159,5,69446,69456,5,69688,69702,5,69808,69810,7,69815,69816,7,69821,69821,1,69888,69890,5,69932,69932,7,69957,69958,7,70016,70017,5,70067,70069,7,70079,70080,7,70089,70092,5,70095,70095,5,70191,70193,5,70196,70196,5,70198,70199,5,70367,70367,5,70371,70378,5,70402,70403,7,70462,70462,5,70464,70464,5,70471,70472,7,70487,70487,5,70502,70508,5,70709,70711,7,70720,70721,7,70725,70725,7,70750,70750,5,70833,70834,7,70841,70841,7,70843,70844,7,70846,70846,7,70849,70849,7,71087,71087,5,71090,71093,5,71100,71101,5,71103,71104,5,71216,71218,7,71227,71228,7,71230,71230,7,71339,71339,5,71341,71341,5,71344,71349,5,71351,71351,5,71456,71457,7,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123628,123631,5,125252,125258,5,126980,126980,14,127183,127183,14,127245,127247,14,127340,127343,14,127358,127359,14,127377,127386,14,127462,127487,6,127491,127503,14,127535,127535,14,127548,127551,14,127568,127569,14,127744,127777,14,127780,127891,14,127894,127895,14,127897,127899,14,127902,127984,14,127987,127989,14,127991,127994,14,128000,128253,14,128255,128317,14,128329,128334,14,128336,128359,14,128367,128368,14,128371,128377,14,128379,128390,14,128392,128393,14,128398,128399,14,128401,128404,14,128407,128419,14,128421,128421,14,128424,128424,14,128433,128434,14,128444,128444,14,128450,128452,14,128465,128467,14,128476,128478,14,128481,128481,14,128483,128483,14,128488,128488,14,128495,128495,14,128499,128499,14,128506,128591,14,128710,128714,14,128721,128722,14,128725,128725,14,128728,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129664,129666,14,129671,129679,14,129686,129704,14,129712,129718,14,129728,129730,14,129744,129750,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2259,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3134,3136,5,3142,3144,5,3157,3158,5,3201,3201,5,3260,3260,5,3263,3263,5,3266,3266,5,3270,3270,5,3274,3275,7,3285,3286,5,3328,3329,5,3387,3388,5,3391,3392,7,3398,3400,7,3405,3405,5,3415,3415,5,3457,3457,5,3530,3530,5,3536,3537,7,3542,3542,5,3551,3551,5,3633,3633,5,3636,3642,5,3761,3761,5,3764,3772,5,3864,3865,5,3895,3895,5,3902,3903,7,3967,3967,7,3974,3975,5,3993,4028,5,4141,4144,5,4146,4151,5,4155,4156,7,4182,4183,7,4190,4192,5,4226,4226,5,4229,4230,5,4253,4253,5,4448,4519,9,4957,4959,5,5938,5940,5,6002,6003,5,6070,6070,7,6078,6085,7,6087,6088,7,6109,6109,5,6158,6158,4,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6848,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7673,5,8203,8203,4,8205,8205,13,8232,8232,4,8234,8238,4,8265,8265,14,8293,8293,4,8400,8412,5,8417,8417,5,8421,8432,5,8505,8505,14,8617,8618,14,9000,9000,14,9167,9167,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9776,9783,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9935,14,9937,9937,14,9939,9940,14,9961,9962,14,9968,9973,14,9975,9978,14,9981,9981,14,9986,9986,14,9989,9989,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10084,14,10133,10135,14,10160,10160,14,10548,10549,14,11035,11036,14,11093,11093,14,11647,11647,5,12330,12333,5,12336,12336,14,12441,12442,5,12953,12953,14,42608,42610,5,42654,42655,5,43010,43010,5,43019,43019,5,43045,43046,5,43052,43052,5,43188,43203,7,43232,43249,5,43302,43309,5,43346,43347,7,43392,43394,5,43443,43443,5,43446,43449,5,43452,43453,5,43493,43493,5,43567,43568,7,43571,43572,7,43587,43587,5,43597,43597,7,43696,43696,5,43703,43704,5,43713,43713,5,43756,43757,5,43765,43765,7,44003,44004,7,44006,44007,7,44009,44010,7,44013,44013,5,44033,44059,12,44061,44087,12,44089,44115,12,44117,44143,12,44145,44171,12,44173,44199,12,44201,44227,12,44229,44255,12,44257,44283,12,44285,44311,12,44313,44339,12,44341,44367,12,44369,44395,12,44397,44423,12,44425,44451,12,44453,44479,12,44481,44507,12,44509,44535,12,44537,44563,12,44565,44591,12,44593,44619,12,44621,44647,12,44649,44675,12,44677,44703,12,44705,44731,12,44733,44759,12,44761,44787,12,44789,44815,12,44817,44843,12,44845,44871,12,44873,44899,12,44901,44927,12,44929,44955,12,44957,44983,12,44985,45011,12,45013,45039,12,45041,45067,12,45069,45095,12,45097,45123,12,45125,45151,12,45153,45179,12,45181,45207,12,45209,45235,12,45237,45263,12,45265,45291,12,45293,45319,12,45321,45347,12,45349,45375,12,45377,45403,12,45405,45431,12,45433,45459,12,45461,45487,12,45489,45515,12,45517,45543,12,45545,45571,12,45573,45599,12,45601,45627,12,45629,45655,12,45657,45683,12,45685,45711,12,45713,45739,12,45741,45767,12,45769,45795,12,45797,45823,12,45825,45851,12,45853,45879,12,45881,45907,12,45909,45935,12,45937,45963,12,45965,45991,12,45993,46019,12,46021,46047,12,46049,46075,12,46077,46103,12,46105,46131,12,46133,46159,12,46161,46187,12,46189,46215,12,46217,46243,12,46245,46271,12,46273,46299,12,46301,46327,12,46329,46355,12,46357,46383,12,46385,46411,12,46413,46439,12,46441,46467,12,46469,46495,12,46497,46523,12,46525,46551,12,46553,46579,12,46581,46607,12,46609,46635,12,46637,46663,12,46665,46691,12,46693,46719,12,46721,46747,12,46749,46775,12,46777,46803,12,46805,46831,12,46833,46859,12,46861,46887,12,46889,46915,12,46917,46943,12,46945,46971,12,46973,46999,12,47001,47027,12,47029,47055,12,47057,47083,12,47085,47111,12,47113,47139,12,47141,47167,12,47169,47195,12,47197,47223,12,47225,47251,12,47253,47279,12,47281,47307,12,47309,47335,12,47337,47363,12,47365,47391,12,47393,47419,12,47421,47447,12,47449,47475,12,47477,47503,12,47505,47531,12,47533,47559,12,47561,47587,12,47589,47615,12,47617,47643,12,47645,47671,12,47673,47699,12,47701,47727,12,47729,47755,12,47757,47783,12,47785,47811,12,47813,47839,12,47841,47867,12,47869,47895,12,47897,47923,12,47925,47951,12,47953,47979,12,47981,48007,12,48009,48035,12,48037,48063,12,48065,48091,12,48093,48119,12,48121,48147,12,48149,48175,12,48177,48203,12,48205,48231,12,48233,48259,12,48261,48287,12,48289,48315,12,48317,48343,12,48345,48371,12,48373,48399,12,48401,48427,12,48429,48455,12,48457,48483,12,48485,48511,12,48513,48539,12,48541,48567,12,48569,48595,12,48597,48623,12,48625,48651,12,48653,48679,12,48681,48707,12,48709,48735,12,48737,48763,12,48765,48791,12,48793,48819,12,48821,48847,12,48849,48875,12,48877,48903,12,48905,48931,12,48933,48959,12,48961,48987,12,48989,49015,12,49017,49043,12,49045,49071,12,49073,49099,12,49101,49127,12,49129,49155,12,49157,49183,12,49185,49211,12,49213,49239,12,49241,49267,12,49269,49295,12,49297,49323,12,49325,49351,12,49353,49379,12,49381,49407,12,49409,49435,12,49437,49463,12,49465,49491,12,49493,49519,12,49521,49547,12,49549,49575,12,49577,49603,12,49605,49631,12,49633,49659,12,49661,49687,12,49689,49715,12,49717,49743,12,49745,49771,12,49773,49799,12,49801,49827,12,49829,49855,12,49857,49883,12,49885,49911,12,49913,49939,12,49941,49967,12,49969,49995,12,49997,50023,12,50025,50051,12,50053,50079,12,50081,50107,12,50109,50135,12,50137,50163,12,50165,50191,12,50193,50219,12,50221,50247,12,50249,50275,12,50277,50303,12,50305,50331,12,50333,50359,12,50361,50387,12,50389,50415,12,50417,50443,12,50445,50471,12,50473,50499,12,50501,50527,12,50529,50555,12,50557,50583,12,50585,50611,12,50613,50639,12,50641,50667,12,50669,50695,12,50697,50723,12,50725,50751,12,50753,50779,12,50781,50807,12,50809,50835,12,50837,50863,12,50865,50891,12,50893,50919,12,50921,50947,12,50949,50975,12,50977,51003,12,51005,51031,12,51033,51059,12,51061,51087,12,51089,51115,12,51117,51143,12,51145,51171,12,51173,51199,12,51201,51227,12,51229,51255,12,51257,51283,12,51285,51311,12,51313,51339,12,51341,51367,12,51369,51395,12,51397,51423,12,51425,51451,12,51453,51479,12,51481,51507,12,51509,51535,12,51537,51563,12,51565,51591,12,51593,51619,12,51621,51647,12,51649,51675,12,51677,51703,12,51705,51731,12,51733,51759,12,51761,51787,12,51789,51815,12,51817,51843,12,51845,51871,12,51873,51899,12,51901,51927,12,51929,51955,12,51957,51983,12,51985,52011,12,52013,52039,12,52041,52067,12,52069,52095,12,52097,52123,12,52125,52151,12,52153,52179,12,52181,52207,12,52209,52235,12,52237,52263,12,52265,52291,12,52293,52319,12,52321,52347,12,52349,52375,12,52377,52403,12,52405,52431,12,52433,52459,12,52461,52487,12,52489,52515,12,52517,52543,12,52545,52571,12,52573,52599,12,52601,52627,12,52629,52655,12,52657,52683,12,52685,52711,12,52713,52739,12,52741,52767,12,52769,52795,12,52797,52823,12,52825,52851,12,52853,52879,12,52881,52907,12,52909,52935,12,52937,52963,12,52965,52991,12,52993,53019,12,53021,53047,12,53049,53075,12,53077,53103,12,53105,53131,12,53133,53159,12,53161,53187,12,53189,53215,12,53217,53243,12,53245,53271,12,53273,53299,12,53301,53327,12,53329,53355,12,53357,53383,12,53385,53411,12,53413,53439,12,53441,53467,12,53469,53495,12,53497,53523,12,53525,53551,12,53553,53579,12,53581,53607,12,53609,53635,12,53637,53663,12,53665,53691,12,53693,53719,12,53721,53747,12,53749,53775,12,53777,53803,12,53805,53831,12,53833,53859,12,53861,53887,12,53889,53915,12,53917,53943,12,53945,53971,12,53973,53999,12,54001,54027,12,54029,54055,12,54057,54083,12,54085,54111,12,54113,54139,12,54141,54167,12,54169,54195,12,54197,54223,12,54225,54251,12,54253,54279,12,54281,54307,12,54309,54335,12,54337,54363,12,54365,54391,12,54393,54419,12,54421,54447,12,54449,54475,12,54477,54503,12,54505,54531,12,54533,54559,12,54561,54587,12,54589,54615,12,54617,54643,12,54645,54671,12,54673,54699,12,54701,54727,12,54729,54755,12,54757,54783,12,54785,54811,12,54813,54839,12,54841,54867,12,54869,54895,12,54897,54923,12,54925,54951,12,54953,54979,12,54981,55007,12,55009,55035,12,55037,55063,12,55065,55091,12,55093,55119,12,55121,55147,12,55149,55175,12,55177,55203,12,55243,55291,10,65024,65039,5,65279,65279,4,65520,65528,4,66045,66045,5,66422,66426,5,68101,68102,5,68152,68154,5,68325,68326,5,69291,69292,5,69632,69632,7,69634,69634,7,69759,69761,5]")}static getInstance(){return ve._INSTANCE||(ve._INSTANCE=new ve),ve._INSTANCE}getGraphemeBreakType(Ge){if(Ge<32)return 10===Ge?3:13===Ge?2:4;if(Ge<127)return 0;const De=this._data,Le=De.length/3;let dt=1;for(;dt<=Le;)if(Ge<De[3*dt])dt*=2;else{if(!(Ge>De[3*dt+1]))return De[3*dt+2];dt=2*dt+1}return 0}}return ve._INSTANCE=null,ve})();function Ue(ve,ht){if(0===ve)return 0;const Ge=function(ve,ht){let Ge=ie(ht,ve);for(ve-=vt(Ge);At(Ge)||65039===Ge||8419===Ge;){if(0===ve)return;Ge=ie(ht,ve),ve-=vt(Ge)}if(Te(Ge)){if(ve>=0){const De=ie(ht,ve);8205===De&&(ve-=vt(De))}return ve}}(ve,ht);return void 0!==Ge?Ge:ve-vt(ie(ht,ve))}function vt(ve){return ve>=65536?2:1}function At(ve){return 127995<=ve&&ve<=127999}},1882:(Ct,Qe,a)=>{"use strict";function T(v){return Array.isArray(v)}function U(v){return"string"==typeof v}function j(v){return!("object"!=typeof v||null===v||Array.isArray(v)||v instanceof RegExp||v instanceof Date)}function O(v){return"number"==typeof v&&!isNaN(v)}function k(v){return!0===v||!1===v}function $(v){return void 0===v}function B(v){return $(v)||null===v}function R(v,M){if(!v)throw new Error(M?`Unexpected type, expected '${M}'`:"Unexpected type")}function d(v){if(B(v))throw new Error("Assertion Failed: argument is undefined or null");return v}function C(v){return"function"==typeof v}function g(v,M){const _=Math.min(v.length,M.length);for(let f=0;f<_;f++)b(v[f],M[f])}function b(v,M){if(U(M)){if(typeof v!==M)throw new Error(`argument does not match constraint: typeof ${M}`)}else if(C(M)){try{if(v instanceof M)return}catch(_){}if(!B(v)&&v.constructor===M||1===M.length&&!0===M.call(void 0,v))return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}function p(v){const M=[];for(const _ of function(v){let M=[],_=Object.getPrototypeOf(v);for(;Object.prototype!==_;)M=M.concat(Object.getOwnPropertyNames(_)),_=Object.getPrototypeOf(_);return M}(v))"function"==typeof v[_]&&M.push(_);return M}function w(v,M){const _=m=>function(){const L=Array.prototype.slice.call(arguments,0);return M(m,L)};let f={};for(const m of v)f[m]=_(m);return f}function E(v){return null===v?void 0:v}function S(v){throw new Error("Unreachable")}a.d(Qe,{kJ:()=>T,HD:()=>U,Kn:()=>j,hj:()=>O,jn:()=>k,o8:()=>$,Jp:()=>B,p_:()=>R,cW:()=>d,mf:()=>C,D8:()=>g,$E:()=>p,IU:()=>w,f6:()=>E,vE:()=>S})},8837:(Ct,Qe,a)=>{"use strict";function T(j){return j<0?0:j>255?255:0|j}function U(j){return j<0?0:j>4294967295?4294967295:0|j}a.d(Qe,{K:()=>T,A:()=>U})},6746:(Ct,Qe,a)=>{"use strict";a.d(Qe,{o:()=>b,q:()=>v});var T=a(9190),U=a(8416);const j=/^\w[\w\d+.-]*$/,O=/^\//,k=/^\/\//;function $(L,F){if(!L.scheme&&F)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${L.authority}", path: "${L.path}", query: "${L.query}", fragment: "${L.fragment}"}`);if(L.scheme&&!j.test(L.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(L.path)if(L.authority){if(!O.test(L.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(k.test(L.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}const d="",C="/",g=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class b{constructor(F,G,Y,de,le,ce=!1){"object"==typeof F?(this.scheme=F.scheme||d,this.authority=F.authority||d,this.path=F.path||d,this.query=F.query||d,this.fragment=F.fragment||d):(this.scheme=function(L,F){return L||F?L:"file"}(F,ce),this.authority=G||d,this.path=function(L,F){switch(L){case"https":case"http":case"file":F?F[0]!==C&&(F=C+F):F=C}return F}(this.scheme,Y||d),this.query=de||d,this.fragment=le||d,$(this,ce))}static isUri(F){return F instanceof b||!!F&&"string"==typeof F.authority&&"string"==typeof F.fragment&&"string"==typeof F.path&&"string"==typeof F.query&&"string"==typeof F.scheme&&"string"==typeof F.fsPath&&"function"==typeof F.with&&"function"==typeof F.toString}get fsPath(){return v(this,!1)}with(F){if(!F)return this;let{scheme:G,authority:Y,path:de,query:le,fragment:ce}=F;return void 0===G?G=this.scheme:null===G&&(G=d),void 0===Y?Y=this.authority:null===Y&&(Y=d),void 0===de?de=this.path:null===de&&(de=d),void 0===le?le=this.query:null===le&&(le=d),void 0===ce?ce=this.fragment:null===ce&&(ce=d),G===this.scheme&&Y===this.authority&&de===this.path&&le===this.query&&ce===this.fragment?this:new p(G,Y,de,le,ce)}static parse(F,G=!1){const Y=g.exec(F);return Y?new p(Y[2]||d,m(Y[4]||d),m(Y[5]||d),m(Y[7]||d),m(Y[9]||d),G):new p(d,d,d,d,d)}static file(F){let G=d;if(T.ED&&(F=F.replace(/\\/g,C)),F[0]===C&&F[1]===C){const Y=F.indexOf(C,2);-1===Y?(G=F.substring(2),F=C):(G=F.substring(2,Y),F=F.substring(Y)||C)}return new p("file",G,F,d,d)}static from(F){const G=new p(F.scheme,F.authority,F.path,F.query,F.fragment);return $(G,!0),G}static joinPath(F,...G){if(!F.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let Y;return Y=T.ED&&"file"===F.scheme?b.file(U.Ku.join(v(F,!0),...G)).path:U.KR.join(F.path,...G),F.with({path:Y})}toString(F=!1){return M(this,F)}toJSON(){return this}static revive(F){if(F){if(F instanceof b)return F;{const G=new p(F);return G._formatted=F.external,G._fsPath=F._sep===I?F.fsPath:null,G}}return F}}const I=T.ED?1:void 0;class p extends b{constructor(){super(...arguments),this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=v(this,!1)),this._fsPath}toString(F=!1){return F?M(this,!0):(this._formatted||(this._formatted=M(this,!1)),this._formatted)}toJSON(){const F={$mid:1};return this._fsPath&&(F.fsPath=this._fsPath,F._sep=I),this._formatted&&(F.external=this._formatted),this.path&&(F.path=this.path),this.scheme&&(F.scheme=this.scheme),this.authority&&(F.authority=this.authority),this.query&&(F.query=this.query),this.fragment&&(F.fragment=this.fragment),F}}const w={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function E(L,F){let G,Y=-1;for(let de=0;de<L.length;de++){const le=L.charCodeAt(de);if(le>=97&&le<=122||le>=65&&le<=90||le>=48&&le<=57||45===le||46===le||95===le||126===le||F&&47===le)-1!==Y&&(G+=encodeURIComponent(L.substring(Y,de)),Y=-1),void 0!==G&&(G+=L.charAt(de));else{void 0===G&&(G=L.substr(0,de));const ce=w[le];void 0!==ce?(-1!==Y&&(G+=encodeURIComponent(L.substring(Y,de)),Y=-1),G+=ce):-1===Y&&(Y=de)}}return-1!==Y&&(G+=encodeURIComponent(L.substring(Y))),void 0!==G?G:L}function S(L){let F;for(let G=0;G<L.length;G++){const Y=L.charCodeAt(G);35===Y||63===Y?(void 0===F&&(F=L.substr(0,G)),F+=w[Y]):void 0!==F&&(F+=L[G])}return void 0!==F?F:L}function v(L,F){let G;return G=L.authority&&L.path.length>1&&"file"===L.scheme?`//${L.authority}${L.path}`:47===L.path.charCodeAt(0)&&(L.path.charCodeAt(1)>=65&&L.path.charCodeAt(1)<=90||L.path.charCodeAt(1)>=97&&L.path.charCodeAt(1)<=122)&&58===L.path.charCodeAt(2)?F?L.path.substr(1):L.path[1].toLowerCase()+L.path.substr(2):L.path,T.ED&&(G=G.replace(/\//g,"\\")),G}function M(L,F){const G=F?S:E;let Y="",{scheme:de,authority:le,path:ce,query:be,fragment:N}=L;if(de&&(Y+=de,Y+=":"),(le||"file"===de)&&(Y+=C,Y+=C),le){let V=le.indexOf("@");if(-1!==V){const Z=le.substr(0,V);le=le.substr(V+1),V=Z.indexOf(":"),-1===V?Y+=G(Z,!1):(Y+=G(Z.substr(0,V),!1),Y+=":",Y+=G(Z.substr(V+1),!1)),Y+="@"}le=le.toLowerCase(),V=le.indexOf(":"),-1===V?Y+=G(le,!1):(Y+=G(le.substr(0,V),!1),Y+=le.substr(V))}if(ce){if(ce.length>=3&&47===ce.charCodeAt(0)&&58===ce.charCodeAt(2)){const V=ce.charCodeAt(1);V>=65&&V<=90&&(ce=`/${String.fromCharCode(V+32)}:${ce.substr(3)}`)}else if(ce.length>=2&&58===ce.charCodeAt(1)){const V=ce.charCodeAt(0);V>=65&&V<=90&&(ce=`${String.fromCharCode(V+32)}:${ce.substr(2)}`)}Y+=G(ce,!0)}return be&&(Y+="?",Y+=G(be,!1)),N&&(Y+="#",Y+=F?N:E(N,!1)),Y}function _(L){try{return decodeURIComponent(L)}catch(F){return L.length>3?L.substr(0,3)+_(L.substr(3)):L}}const f=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function m(L){return L.match(f)?L.replace(f,F=>_(F)):L}},6104:(Ct,Qe,a)=>{"use strict";a.d(Qe,{X5:()=>T,Jq:()=>U,jG:()=>j});const T={ctrlCmd:!1,alt:!1};var U=(()=>{return(O=U||(U={}))[O.Blur=1]="Blur",O[O.Gesture=2]="Gesture",O[O.Other=3]="Other",U;var O})(),j=(()=>{return(O=j||(j={}))[O.NONE=0]="NONE",O[O.FIRST=1]="FIRST",O[O.SECOND=2]="SECOND",O[O.LAST=3]="LAST",j;var O})()},6664:(Ct,Qe,a)=>{"use strict";a.d(Qe,{H:()=>$});var T=a(5864),U={},j={},O=function(){function B(R){var d=this;this._languageId=R,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise(function(C,g){d._lazyLoadPromiseResolve=C,d._lazyLoadPromiseReject=g})}return B.getOrCreate=function(R){return j[R]||(j[R]=new B(R)),j[R]},B.prototype.whenLoaded=function(){return this._lazyLoadPromise},B.prototype.load=function(){var R=this;return this._loadingTriggered||(this._loadingTriggered=!0,U[this._languageId].loader().then(function(d){return R._lazyLoadPromiseResolve(d)},function(d){return R._lazyLoadPromiseReject(d)})),this._lazyLoadPromise},B}();function $(B){var R=B.id;U[R]=B,T.Mj.register(B);var d=O.getOrCreate(R);T.Mj.setMonarchTokensProvider(R,d.whenLoaded().then(function(C){return C.language})),T.Mj.onLanguage(R,function(){d.load().then(function(C){T.Mj.setLanguageConfiguration(R,C.conf)})})}},4635:(Ct,Qe,a)=>{"use strict";a.r(Qe),(0,a(6664).H)({id:"css",extensions:[".css"],aliases:["CSS","css"],mimetypes:["text/css"],loader:function(){return a.e(737).then(a.bind(a,737))}})},5864:(Ct,Qe,a)=>{"use strict";a.d(Qe,{Mj:()=>T.languages});var T=a(1347)},940:(Ct,Qe,a)=>{"use strict";a.r(Qe),(0,a(6664).H)({id:"xml",extensions:[".xml",".dtd",".ascx",".csproj",".config",".wxi",".wxl",".wxs",".xaml",".svg",".svgz",".opf",".xsl"],firstLine:"(\\<\\?xml.*)|(\\<svg)|(\\<\\!doctype\\s+svg)",aliases:["XML","xml"],mimetypes:["text/xml","application/xml","application/xaml+xml","application/xml-dtd"],loader:function(){return a.e(8376).then(a.bind(a,8376))}})},5477:(Ct,Qe,a)=>{"use strict";a.r(Qe),(0,a(6664).H)({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml","text/x-yaml"],loader:function(){return a.e(7573).then(a.bind(a,7573))}})},1558:(Ct,Qe,a)=>{"use strict";a.d(Qe,{V:()=>w,P:()=>I});var T=a(4991),U=a(6723),j=a(1719),O=a(9190);class k{constructor(S,v){this.chr=S,this.type=v,this.width=0}fulfill(S){this.width=S}}class ${constructor(S,v){this._bareFontInfo=S,this._requests=v,this._container=null,this._testElements=null}read(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){const S=document.createElement("div");S.style.position="absolute",S.style.top="-50000px",S.style.width="50000px";const v=document.createElement("div");v.style.fontFamily=this._bareFontInfo.getMassagedFontFamily(),v.style.fontWeight=this._bareFontInfo.fontWeight,v.style.fontSize=this._bareFontInfo.fontSize+"px",v.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,v.style.lineHeight=this._bareFontInfo.lineHeight+"px",v.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",S.appendChild(v);const M=document.createElement("div");M.style.fontFamily=this._bareFontInfo.getMassagedFontFamily(),M.style.fontWeight="bold",M.style.fontSize=this._bareFontInfo.fontSize+"px",M.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,M.style.lineHeight=this._bareFontInfo.lineHeight+"px",M.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",S.appendChild(M);const _=document.createElement("div");_.style.fontFamily=this._bareFontInfo.getMassagedFontFamily(),_.style.fontWeight=this._bareFontInfo.fontWeight,_.style.fontSize=this._bareFontInfo.fontSize+"px",_.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,_.style.lineHeight=this._bareFontInfo.lineHeight+"px",_.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",_.style.fontStyle="italic",S.appendChild(_);const f=[];for(const m of this._requests){let L;0===m.type&&(L=v),2===m.type&&(L=M),1===m.type&&(L=_),L.appendChild(document.createElement("br"));const F=document.createElement("span");$._render(F,m),L.appendChild(F),f.push(F)}this._container=S,this._testElements=f}static _render(S,v){if(" "===v.chr){let M="\xa0";for(let _=0;_<8;_++)M+=M;S.innerText=M}else{let M=v.chr;for(let _=0;_<8;_++)M+=M;S.textContent=M}}_readFromDomElements(){for(let S=0,v=this._requests.length;S<v;S++)this._requests[S].fulfill(this._testElements[S].offsetWidth/256)}}var R=a(7328),d=a(2547),C=a(4103),g=a(5111);class b{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(S){const v=S.getId();return!!this._values[v]}get(S){const v=S.getId();return this._values[v]}put(S,v){const M=S.getId();this._keys[M]=S,this._values[M]=v}remove(S){const v=S.getId();delete this._keys[v],delete this._values[v]}getValues(){return Object.keys(this._keys).map(S=>this._values[S])}}function I(){p.INSTANCE.clearCache()}class p extends j.JT{constructor(){super(),this._onDidChange=this._register(new U.Q5),this.onDidChange=this._onDidChange.event,this._cache=new b,this._evictUntrustedReadingsTimeout=-1}dispose(){-1!==this._evictUntrustedReadingsTimeout&&(clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearCache(){this._cache=new b,this._onDidChange.fire()}_writeToCache(S,v){this._cache.put(S,v),!v.isTrusted&&-1===this._evictUntrustedReadingsTimeout&&(this._evictUntrustedReadingsTimeout=setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings()},5e3))}_evictUntrustedReadings(){const S=this._cache.getValues();let v=!1;for(const M of S)M.isTrusted||(v=!0,this._cache.remove(M));v&&this._onDidChange.fire()}readConfiguration(S){if(!this._cache.has(S)){let v=p._actualReadConfiguration(S);(v.typicalHalfwidthCharacterWidth<=2||v.typicalFullwidthCharacterWidth<=2||v.spaceWidth<=2||v.maxDigitWidth<=2)&&(v=new g.pR({zoomLevel:T.px(),pixelRatio:T.mX(),fontFamily:v.fontFamily,fontWeight:v.fontWeight,fontSize:v.fontSize,fontFeatureSettings:v.fontFeatureSettings,lineHeight:v.lineHeight,letterSpacing:v.letterSpacing,isMonospace:v.isMonospace,typicalHalfwidthCharacterWidth:Math.max(v.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(v.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:v.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(v.spaceWidth,5),middotWidth:Math.max(v.middotWidth,5),wsmiddotWidth:Math.max(v.wsmiddotWidth,5),maxDigitWidth:Math.max(v.maxDigitWidth,5)},!1)),this._writeToCache(S,v)}return this._cache.get(S)}static createRequest(S,v,M,_){const f=new k(S,v);return M.push(f),_&&_.push(f),f}static _actualReadConfiguration(S){const v=[],M=[],_=this.createRequest("n",0,v,M),f=this.createRequest("\uff4d",0,v,null),m=this.createRequest(" ",0,v,M),L=this.createRequest("0",0,v,M),F=this.createRequest("1",0,v,M),G=this.createRequest("2",0,v,M),Y=this.createRequest("3",0,v,M),de=this.createRequest("4",0,v,M),le=this.createRequest("5",0,v,M),ce=this.createRequest("6",0,v,M),be=this.createRequest("7",0,v,M),N=this.createRequest("8",0,v,M),V=this.createRequest("9",0,v,M),Z=this.createRequest("\u2192",0,v,M),ie=this.createRequest("\uffeb",0,v,null),ue=this.createRequest("\xb7",0,v,M),oe=this.createRequest(String.fromCharCode(11825),0,v,null);this.createRequest("|",0,v,M),this.createRequest("/",0,v,M),this.createRequest("-",0,v,M),this.createRequest("_",0,v,M),this.createRequest("i",0,v,M),this.createRequest("l",0,v,M),this.createRequest("m",0,v,M),this.createRequest("|",1,v,M),this.createRequest("_",1,v,M),this.createRequest("i",1,v,M),this.createRequest("l",1,v,M),this.createRequest("m",1,v,M),this.createRequest("n",1,v,M),this.createRequest("|",2,v,M),this.createRequest("_",2,v,M),this.createRequest("i",2,v,M),this.createRequest("l",2,v,M),this.createRequest("m",2,v,M),this.createRequest("n",2,v,M),function(E,S){new $(E,S).read()}(S,v);const ee=Math.max(L.width,F.width,G.width,Y.width,de.width,le.width,ce.width,be.width,N.width,V.width);let K=S.fontFeatureSettings===C.n0.OFF;const ne=M[0].width;for(let re=1,ye=M.length;K&&re<ye;re++){const ke=ne-M[re].width;if(ke<-.001||ke>.001){K=!1;break}}let he=!0;K&&ie.width!==ne&&(he=!1),ie.width>Z.width&&(he=!1);const ge=T.WP()>2e3;return new g.pR({zoomLevel:T.px(),pixelRatio:T.mX(),fontFamily:S.fontFamily,fontWeight:S.fontWeight,fontSize:S.fontSize,fontFeatureSettings:S.fontFeatureSettings,lineHeight:S.lineHeight,letterSpacing:S.letterSpacing,isMonospace:K,typicalHalfwidthCharacterWidth:_.width,typicalFullwidthCharacterWidth:f.width,canUseHalfwidthRightwardsArrow:he,spaceWidth:m.width,middotWidth:ue.width,wsmiddotWidth:oe.width,maxDigitWidth:ee},ge)}}p.INSTANCE=new p;class w extends d.fv{constructor(S,v,M=null,_){super(S,v),this.accessibilityService=_,this._elementSizeObserver=this._register(new R.I(M,v.dimension,()=>this._recomputeOptions())),this._register(p.INSTANCE.onDidChange(()=>this._recomputeOptions())),this._validatedOptions.get(10)&&this._elementSizeObserver.startObserving(),this._register(T.fX(f=>this._recomputeOptions())),this._register(this.accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions())),this._recomputeOptions()}static applyFontInfoSlow(S,v){S.style.fontFamily=v.getMassagedFontFamily(),S.style.fontWeight=v.fontWeight,S.style.fontSize=v.fontSize+"px",S.style.fontFeatureSettings=v.fontFeatureSettings,S.style.lineHeight=v.lineHeight+"px",S.style.letterSpacing=v.letterSpacing+"px"}static applyFontInfo(S,v){S.setFontFamily(v.getMassagedFontFamily()),S.setFontWeight(v.fontWeight),S.setFontSize(v.fontSize),S.setFontFeatureSettings(v.fontFeatureSettings),S.setLineHeight(v.lineHeight),S.setLetterSpacing(v.letterSpacing)}observeReferenceElement(S){this._elementSizeObserver.observe(S)}updatePixelRatio(){this._recomputeOptions()}static _getExtraEditorClassName(){let S="";return!T.G6&&!T.MG&&(S+="no-user-select "),T.G6&&(S+="no-minimap-shadow "),O.dz&&(S+="mac "),S}_getEnvConfiguration(){return{extraEditorClassName:w._getExtraEditorClassName(),outerWidth:this._elementSizeObserver.getWidth(),outerHeight:this._elementSizeObserver.getHeight(),emptySelectionClipboard:T.Pf||T.vU,pixelRatio:T.mX(),zoomLevel:T.px(),accessibilitySupport:this.accessibilityService.isScreenReaderOptimized()?2:this.accessibilityService.getAccessibilitySupport()}}readConfiguration(S){return p.INSTANCE.readConfiguration(S)}}},7328:(Ct,Qe,a)=>{"use strict";a.d(Qe,{I:()=>U});var T=a(1719);class U extends T.JT{constructor(O,k,$){super(),this.referenceDomElement=O,this.changeCallback=$,this.width=-1,this.height=-1,this.resizeObserver=null,this.measureReferenceDomElementToken=-1,this.measureReferenceDomElement(!1,k)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this.width}getHeight(){return this.height}startObserving(){"undefined"!=typeof ResizeObserver?!this.resizeObserver&&this.referenceDomElement&&(this.resizeObserver=new ResizeObserver(O=>{O&&O[0]&&O[0].contentRect?this.observe({width:O[0].contentRect.width,height:O[0].contentRect.height}):this.observe()}),this.resizeObserver.observe(this.referenceDomElement)):-1===this.measureReferenceDomElementToken&&(this.measureReferenceDomElementToken=setInterval(()=>this.observe(),100))}stopObserving(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),-1!==this.measureReferenceDomElementToken&&(clearInterval(this.measureReferenceDomElementToken),this.measureReferenceDomElementToken=-1)}observe(O){this.measureReferenceDomElement(!0,O)}measureReferenceDomElement(O,k){let $=0,B=0;k?($=k.width,B=k.height):this.referenceDomElement&&($=this.referenceDomElement.clientWidth,B=this.referenceDomElement.clientHeight),$=Math.max(5,$),B=Math.max(5,B),(this.width!==$||this.height!==B)&&(this.width=$,this.height=B,O&&this.changeCallback())}}},6502:(Ct,Qe,a)=>{"use strict";a.r(Qe),a.d(Qe,{CoreEditingCommands:()=>Y,CoreEditorCommand:()=>v,CoreNavigationCommands:()=>m,EditorScroll_:()=>M,RevealLine_:()=>_});var T=a(1606),U=a(4991),j=a(1882),O=a(7579),k=a(4482),$=a(3779),B=a(5),R=a(2109),d=a(8487);class C{static columnSelect(be,N,V,Z,ie,ue){let oe=Math.abs(ie-V)+1,ee=V>ie,K=Z>ue,ne=Z<ue,he=[];for(let ge=0;ge<oe;ge++){let re=V+(ee?-ge:ge),ye=B.io.columnFromVisibleColumn2(be,N,re,Z),ke=B.io.columnFromVisibleColumn2(be,N,re,ue),xe=B.io.visibleColumnFromColumn2(be,N,new R.L(re,ye)),Pe=B.io.visibleColumnFromColumn2(be,N,new R.L(re,ke));ne&&(xe>ue||Pe<Z)||K&&(Pe>Z||xe<ue)||he.push(new B.rS(new d.e(re,ye,re,ye),0,new R.L(re,ke),0))}if(0===he.length)for(let ge=0;ge<oe;ge++){const re=V+(ee?-ge:ge),ye=N.getLineMaxColumn(re);he.push(new B.rS(new d.e(re,ye,re,ye),0,new R.L(re,ye),0))}return{viewStates:he,reversed:ee,fromLineNumber:V,fromVisualColumn:Z,toLineNumber:ie,toVisualColumn:ue}}static columnSelectLeft(be,N,V){let Z=V.toViewVisualColumn;return Z>0&&Z--,C.columnSelect(be,N,V.fromViewLineNumber,V.fromViewVisualColumn,V.toViewLineNumber,Z)}static columnSelectRight(be,N,V){let Z=0;const ie=Math.min(V.fromViewLineNumber,V.toViewLineNumber),ue=Math.max(V.fromViewLineNumber,V.toViewLineNumber);for(let ee=ie;ee<=ue;ee++){const K=N.getLineMaxColumn(ee),ne=B.io.visibleColumnFromColumn2(be,N,new R.L(ee,K));Z=Math.max(Z,ne)}let oe=V.toViewVisualColumn;return oe<Z&&oe++,this.columnSelect(be,N,V.fromViewLineNumber,V.fromViewVisualColumn,V.toViewLineNumber,oe)}static columnSelectUp(be,N,V,Z){const ue=Math.max(1,V.toViewLineNumber-(Z?be.pageSize:1));return this.columnSelect(be,N,V.fromViewLineNumber,V.fromViewVisualColumn,ue,V.toViewVisualColumn)}static columnSelectDown(be,N,V,Z){const ie=Z?be.pageSize:1,ue=Math.min(N.getLineCount(),V.toViewLineNumber+ie);return this.columnSelect(be,N,V.fromViewLineNumber,V.fromViewVisualColumn,ue,V.toViewVisualColumn)}}var M,ce,_,m,g=a(827),b=a(2281),I=a(5741),p=a(9549),w=a(2844),E=a(2331);class v extends k._l{runEditorCommand(be,N,V){const Z=N._getViewModel();!Z||this.runCoreEditorCommand(Z,V||{})}}(ce=M||(M={})).description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory direction value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'up', 'down'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'page', 'halfPage'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n\t\t\t\t",constraint:function(V){if(!j.Kn(V))return!1;const Z=V;return!(!j.HD(Z.to)||!j.o8(Z.by)&&!j.HD(Z.by)||!j.o8(Z.value)&&!j.hj(Z.value)||!j.o8(Z.revealCursor)&&!j.jn(Z.revealCursor))},schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},ce.RawDirection={Up:"up",Down:"down"},ce.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage"},ce.parse=function(V){let Z,ie;switch(V.to){case ce.RawDirection.Up:Z=1;break;case ce.RawDirection.Down:Z=2;break;default:return null}switch(V.by){case ce.RawUnit.Line:ie=1;break;case ce.RawUnit.WrappedLine:ie=2;break;case ce.RawUnit.Page:ie=3;break;case ce.RawUnit.HalfPage:ie=4;break;default:ie=2}return{direction:Z,unit:ie,value:Math.floor(V.value||1),revealCursor:!!V.revealCursor,select:!!V.select}},function(ce){ce.description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'lineNumber': A mandatory line number value.\n\t\t\t\t\t* 'at': Logical position at which line has to be revealed.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'top', 'center', 'bottom'\n\t\t\t\t\t\t```\n\t\t\t\t",constraint:function(N){if(!j.Kn(N))return!1;const V=N;return!(!j.hj(V.lineNumber)&&!j.HD(V.lineNumber)||!j.o8(V.at)&&!j.HD(V.at))},schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},ce.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}}(_||(_={}));class f{constructor(be){be.addImplementation(1e4,"code-editor",(N,V)=>{const Z=N.get($.$).getFocusedCodeEditor();return!(!Z||!Z.hasTextFocus())&&this._runEditorCommand(N,Z,V)}),be.addImplementation(1e3,"generic-dom-input-textarea",(N,V)=>{const Z=document.activeElement;return!!(Z&&["input","textarea"].indexOf(Z.tagName.toLowerCase())>=0)&&(this.runDOMCommand(),!0)}),be.addImplementation(0,"generic-dom",(N,V)=>{const Z=N.get($.$).getActiveCodeEditor();return!!Z&&(Z.focus(),this._runEditorCommand(N,Z,V))})}_runEditorCommand(be,N,V){return this.runEditorCommand(be,N,V)||!0}}!function(ce){class be extends v{constructor(fe){super(fe),this._inSelectionMode=fe.inSelectionMode}runCoreEditorCommand(fe,Te){fe.model.pushStackElement(),fe.setCursorStates(Te.source,3,[b.P.moveTo(fe,fe.getPrimaryCursorState(),this._inSelectionMode,Te.position,Te.viewPosition)]),fe.revealPrimaryCursor(Te.source,!0)}}ce.MoveTo=(0,k.fK)(new be({id:"_moveTo",inSelectionMode:!1,precondition:void 0})),ce.MoveToSelect=(0,k.fK)(new be({id:"_moveToSelect",inSelectionMode:!0,precondition:void 0}));class N extends v{runCoreEditorCommand(fe,Te){fe.model.pushStackElement();const Ce=this._getColumnSelectResult(fe,fe.getPrimaryCursorState(),fe.getCursorColumnSelectData(),Te);fe.setCursorStates(Te.source,3,Ce.viewStates.map(Je=>B.Vi.fromViewState(Je))),fe.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:Ce.fromLineNumber,fromViewVisualColumn:Ce.fromVisualColumn,toViewLineNumber:Ce.toLineNumber,toViewVisualColumn:Ce.toVisualColumn}),Ce.reversed?fe.revealTopMostCursor(Te.source):fe.revealBottomMostCursor(Te.source)}}ce.ColumnSelect=(0,k.fK)(new class extends N{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(Pe,fe,Te,Ce){const Je=Pe.model.validatePosition(Ce.position),pe=Pe.coordinatesConverter.validateViewPosition(new R.L(Ce.viewPosition.lineNumber,Ce.viewPosition.column),Je);return C.columnSelect(Pe.cursorConfig,Pe,Ce.doColumnSelect?Te.fromViewLineNumber:pe.lineNumber,Ce.doColumnSelect?Te.fromViewVisualColumn:Ce.mouseColumn-1,pe.lineNumber,Ce.mouseColumn-1)}}),ce.CursorColumnSelectLeft=(0,k.fK)(new class extends N{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:p.u.textInputFocus,primary:3599,linux:{primary:0}}})}_getColumnSelectResult(Pe,fe,Te,Ce){return C.columnSelectLeft(Pe.cursorConfig,Pe,Te)}}),ce.CursorColumnSelectRight=(0,k.fK)(new class extends N{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:0,kbExpr:p.u.textInputFocus,primary:3601,linux:{primary:0}}})}_getColumnSelectResult(Pe,fe,Te,Ce){return C.columnSelectRight(Pe.cursorConfig,Pe,Te)}});class V extends N{constructor(fe){super(fe),this._isPaged=fe.isPaged}_getColumnSelectResult(fe,Te,Ce,Je){return C.columnSelectUp(fe.cursorConfig,fe,Ce,this._isPaged)}}ce.CursorColumnSelectUp=(0,k.fK)(new V({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:0,kbExpr:p.u.textInputFocus,primary:3600,linux:{primary:0}}})),ce.CursorColumnSelectPageUp=(0,k.fK)(new V({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:p.u.textInputFocus,primary:3595,linux:{primary:0}}}));class Z extends N{constructor(fe){super(fe),this._isPaged=fe.isPaged}_getColumnSelectResult(fe,Te,Ce,Je){return C.columnSelectDown(fe.cursorConfig,fe,Ce,this._isPaged)}}ce.CursorColumnSelectDown=(0,k.fK)(new Z({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:0,kbExpr:p.u.textInputFocus,primary:3602,linux:{primary:0}}})),ce.CursorColumnSelectPageDown=(0,k.fK)(new Z({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:p.u.textInputFocus,primary:3596,linux:{primary:0}}}));class ie extends v{constructor(){super({id:"cursorMove",precondition:void 0,description:b.N.description})}runCoreEditorCommand(fe,Te){const Ce=b.N.parse(Te);!Ce||this._runCursorMove(fe,Te.source,Ce)}_runCursorMove(fe,Te,Ce){fe.model.pushStackElement(),fe.setCursorStates(Te,3,ie._move(fe,fe.getCursorStates(),Ce)),fe.revealPrimaryCursor(Te,!0)}static _move(fe,Te,Ce){const Je=Ce.select,pe=Ce.value;switch(Ce.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return b.P.simpleMove(fe,Te,Ce.direction,Je,pe,Ce.unit);case 11:case 13:case 12:case 14:return b.P.viewportMove(fe,Te,Ce.direction,Je,pe);default:return null}}}ce.CursorMoveImpl=ie,ce.CursorMove=(0,k.fK)(new ie);class ue extends v{constructor(fe){super(fe),this._staticArgs=fe.args}runCoreEditorCommand(fe,Te){let Ce=this._staticArgs;-1===this._staticArgs.value&&(Ce={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:fe.cursorConfig.pageSize}),fe.model.pushStackElement(),fe.setCursorStates(Te.source,3,b.P.simpleMove(fe,fe.getCursorStates(),Ce.direction,Ce.select,Ce.value,Ce.unit)),fe.revealPrimaryCursor(Te.source,!0)}}ce.CursorLeft=(0,k.fK)(new ue({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:p.u.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),ce.CursorLeftSelect=(0,k.fK)(new ue({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:p.u.textInputFocus,primary:1039}})),ce.CursorRight=(0,k.fK)(new ue({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:0,kbExpr:p.u.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),ce.CursorRightSelect=(0,k.fK)(new ue({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:p.u.textInputFocus,primary:1041}})),ce.CursorUp=(0,k.fK)(new ue({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:0,kbExpr:p.u.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),ce.CursorUpSelect=(0,k.fK)(new ue({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:p.u.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),ce.CursorPageUp=(0,k.fK)(new ue({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:p.u.textInputFocus,primary:11}})),ce.CursorPageUpSelect=(0,k.fK)(new ue({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:p.u.textInputFocus,primary:1035}})),ce.CursorDown=(0,k.fK)(new ue({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:0,kbExpr:p.u.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),ce.CursorDownSelect=(0,k.fK)(new ue({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:p.u.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),ce.CursorPageDown=(0,k.fK)(new ue({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:p.u.textInputFocus,primary:12}})),ce.CursorPageDownSelect=(0,k.fK)(new ue({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:p.u.textInputFocus,primary:1036}})),ce.CreateCursor=(0,k.fK)(new class extends v{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(Pe,fe){let Te;Te=fe.wholeLine?b.P.line(Pe,Pe.getPrimaryCursorState(),!1,fe.position,fe.viewPosition):b.P.moveTo(Pe,Pe.getPrimaryCursorState(),!1,fe.position,fe.viewPosition);const Ce=Pe.getCursorStates();if(Ce.length>1){const Je=Te.modelState?Te.modelState.position:null,pe=Te.viewState?Te.viewState.position:null;for(let Ve=0,Ae=Ce.length;Ve<Ae;Ve++){const Ee=Ce[Ve];if((!Je||Ee.modelState.selection.containsPosition(Je))&&(!pe||Ee.viewState.selection.containsPosition(pe)))return Ce.splice(Ve,1),Pe.model.pushStackElement(),void Pe.setCursorStates(fe.source,3,Ce)}}Ce.push(Te),Pe.model.pushStackElement(),Pe.setCursorStates(fe.source,3,Ce)}}),ce.LastCursorMoveToSelect=(0,k.fK)(new class extends v{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(Pe,fe){const Te=Pe.getLastAddedCursorIndex(),Ce=Pe.getCursorStates(),Je=Ce.slice(0);Je[Te]=b.P.moveTo(Pe,Ce[Te],!0,fe.position,fe.viewPosition),Pe.model.pushStackElement(),Pe.setCursorStates(fe.source,3,Je)}});class oe extends v{constructor(fe){super(fe),this._inSelectionMode=fe.inSelectionMode}runCoreEditorCommand(fe,Te){fe.model.pushStackElement(),fe.setCursorStates(Te.source,3,b.P.moveToBeginningOfLine(fe,fe.getCursorStates(),this._inSelectionMode)),fe.revealPrimaryCursor(Te.source,!0)}}ce.CursorHome=(0,k.fK)(new oe({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:0,kbExpr:p.u.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),ce.CursorHomeSelect=(0,k.fK)(new oe({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:p.u.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}}));class ee extends v{constructor(fe){super(fe),this._inSelectionMode=fe.inSelectionMode}runCoreEditorCommand(fe,Te){fe.model.pushStackElement(),fe.setCursorStates(Te.source,3,this._exec(fe.getCursorStates())),fe.revealPrimaryCursor(Te.source,!0)}_exec(fe){const Te=[];for(let Ce=0,Je=fe.length;Ce<Je;Ce++){const pe=fe[Ce];Te[Ce]=B.Vi.fromModelState(pe.modelState.move(this._inSelectionMode,pe.modelState.position.lineNumber,1,0))}return Te}}ce.CursorLineStart=(0,k.fK)(new ee({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:0,kbExpr:p.u.textInputFocus,primary:0,mac:{primary:287}}})),ce.CursorLineStartSelect=(0,k.fK)(new ee({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:p.u.textInputFocus,primary:0,mac:{primary:1311}}}));class K extends v{constructor(fe){super(fe),this._inSelectionMode=fe.inSelectionMode}runCoreEditorCommand(fe,Te){fe.model.pushStackElement(),fe.setCursorStates(Te.source,3,b.P.moveToEndOfLine(fe,fe.getCursorStates(),this._inSelectionMode,Te.sticky||!1)),fe.revealPrimaryCursor(Te.source,!0)}}ce.CursorEnd=(0,k.fK)(new K({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:0,kbExpr:p.u.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}},description:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:T.N("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}})),ce.CursorEndSelect=(0,k.fK)(new K({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:0,kbExpr:p.u.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}},description:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:T.N("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}}));class ne extends v{constructor(fe){super(fe),this._inSelectionMode=fe.inSelectionMode}runCoreEditorCommand(fe,Te){fe.model.pushStackElement(),fe.setCursorStates(Te.source,3,this._exec(fe,fe.getCursorStates())),fe.revealPrimaryCursor(Te.source,!0)}_exec(fe,Te){const Ce=[];for(let Je=0,pe=Te.length;Je<pe;Je++){const Ve=Te[Je],Ae=Ve.modelState.position.lineNumber,Ee=fe.model.getLineMaxColumn(Ae);Ce[Je]=B.Vi.fromModelState(Ve.modelState.move(this._inSelectionMode,Ae,Ee,0))}return Ce}}ce.CursorLineEnd=(0,k.fK)(new ne({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:0,kbExpr:p.u.textInputFocus,primary:0,mac:{primary:291}}})),ce.CursorLineEndSelect=(0,k.fK)(new ne({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:p.u.textInputFocus,primary:0,mac:{primary:1315}}}));class he extends v{constructor(fe){super(fe),this._inSelectionMode=fe.inSelectionMode}runCoreEditorCommand(fe,Te){fe.model.pushStackElement(),fe.setCursorStates(Te.source,3,b.P.moveToBeginningOfBuffer(fe,fe.getCursorStates(),this._inSelectionMode)),fe.revealPrimaryCursor(Te.source,!0)}}ce.CursorTop=(0,k.fK)(new he({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:0,kbExpr:p.u.textInputFocus,primary:2062,mac:{primary:2064}}})),ce.CursorTopSelect=(0,k.fK)(new he({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:p.u.textInputFocus,primary:3086,mac:{primary:3088}}}));class ge extends v{constructor(fe){super(fe),this._inSelectionMode=fe.inSelectionMode}runCoreEditorCommand(fe,Te){fe.model.pushStackElement(),fe.setCursorStates(Te.source,3,b.P.moveToEndOfBuffer(fe,fe.getCursorStates(),this._inSelectionMode)),fe.revealPrimaryCursor(Te.source,!0)}}ce.CursorBottom=(0,k.fK)(new ge({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:0,kbExpr:p.u.textInputFocus,primary:2061,mac:{primary:2066}}})),ce.CursorBottomSelect=(0,k.fK)(new ge({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:p.u.textInputFocus,primary:3085,mac:{primary:3090}}}));class re extends v{constructor(){super({id:"editorScroll",precondition:void 0,description:M.description})}runCoreEditorCommand(fe,Te){const Ce=M.parse(Te);!Ce||this._runEditorScroll(fe,Te.source,Ce)}_runEditorScroll(fe,Te,Ce){const Je=this._computeDesiredScrollTop(fe,Ce);if(Ce.revealCursor){const pe=fe.getCompletelyVisibleViewRangeAtScrollTop(Je);fe.setCursorStates(Te,3,[b.P.findPositionInViewportIfOutside(fe,fe.getPrimaryCursorState(),pe,Ce.select)])}fe.setScrollTop(Je,0)}_computeDesiredScrollTop(fe,Te){if(1===Te.unit){const pe=fe.getCompletelyVisibleViewRange(),Ve=fe.coordinatesConverter.convertViewRangeToModelRange(pe);let Ae;Ae=1===Te.direction?Math.max(1,Ve.startLineNumber-Te.value):Math.min(fe.model.getLineCount(),Ve.startLineNumber+Te.value);const Ee=fe.coordinatesConverter.convertModelPositionToViewPosition(new R.L(Ae,1));return fe.getVerticalOffsetForLineNumber(Ee.lineNumber)}let Ce;Ce=3===Te.unit?fe.cursorConfig.pageSize*Te.value:4===Te.unit?Math.round(fe.cursorConfig.pageSize/2)*Te.value:Te.value;const Je=(1===Te.direction?-1:1)*Ce;return fe.getScrollTop()+Je*fe.cursorConfig.lineHeight}}ce.EditorScrollImpl=re,ce.EditorScroll=(0,k.fK)(new re),ce.ScrollLineUp=(0,k.fK)(new class extends v{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:0,kbExpr:p.u.textInputFocus,primary:2064,mac:{primary:267}}})}runCoreEditorCommand(Pe,fe){ce.EditorScroll._runEditorScroll(Pe,fe.source,{direction:1,unit:2,value:1,revealCursor:!1,select:!1})}}),ce.ScrollPageUp=(0,k.fK)(new class extends v{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:p.u.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})}runCoreEditorCommand(Pe,fe){ce.EditorScroll._runEditorScroll(Pe,fe.source,{direction:1,unit:3,value:1,revealCursor:!1,select:!1})}}),ce.ScrollLineDown=(0,k.fK)(new class extends v{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:0,kbExpr:p.u.textInputFocus,primary:2066,mac:{primary:268}}})}runCoreEditorCommand(Pe,fe){ce.EditorScroll._runEditorScroll(Pe,fe.source,{direction:2,unit:2,value:1,revealCursor:!1,select:!1})}}),ce.ScrollPageDown=(0,k.fK)(new class extends v{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:p.u.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})}runCoreEditorCommand(Pe,fe){ce.EditorScroll._runEditorScroll(Pe,fe.source,{direction:2,unit:3,value:1,revealCursor:!1,select:!1})}});class ye extends v{constructor(fe){super(fe),this._inSelectionMode=fe.inSelectionMode}runCoreEditorCommand(fe,Te){fe.model.pushStackElement(),fe.setCursorStates(Te.source,3,[b.P.word(fe,fe.getPrimaryCursorState(),this._inSelectionMode,Te.position)]),fe.revealPrimaryCursor(Te.source,!0)}}ce.WordSelect=(0,k.fK)(new ye({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),ce.WordSelectDrag=(0,k.fK)(new ye({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),ce.LastCursorWordSelect=(0,k.fK)(new class extends v{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(Pe,fe){const Te=Pe.getLastAddedCursorIndex(),Ce=Pe.getCursorStates(),Je=Ce.slice(0),pe=Ce[Te];Je[Te]=b.P.word(Pe,pe,pe.modelState.hasSelection(),fe.position),Pe.model.pushStackElement(),Pe.setCursorStates(fe.source,3,Je)}});class ke extends v{constructor(fe){super(fe),this._inSelectionMode=fe.inSelectionMode}runCoreEditorCommand(fe,Te){fe.model.pushStackElement(),fe.setCursorStates(Te.source,3,[b.P.line(fe,fe.getPrimaryCursorState(),this._inSelectionMode,Te.position,Te.viewPosition)]),fe.revealPrimaryCursor(Te.source,!1)}}ce.LineSelect=(0,k.fK)(new ke({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),ce.LineSelectDrag=(0,k.fK)(new ke({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class xe extends v{constructor(fe){super(fe),this._inSelectionMode=fe.inSelectionMode}runCoreEditorCommand(fe,Te){const Ce=fe.getLastAddedCursorIndex(),Je=fe.getCursorStates(),pe=Je.slice(0);pe[Ce]=b.P.line(fe,Je[Ce],this._inSelectionMode,Te.position,Te.viewPosition),fe.model.pushStackElement(),fe.setCursorStates(Te.source,3,pe)}}ce.LastCursorLineSelect=(0,k.fK)(new xe({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),ce.LastCursorLineSelectDrag=(0,k.fK)(new xe({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),ce.ExpandLineSelection=(0,k.fK)(new class extends v{constructor(){super({id:"expandLineSelection",precondition:void 0,kbOpts:{weight:0,kbExpr:p.u.textInputFocus,primary:2090}})}runCoreEditorCommand(Pe,fe){Pe.model.pushStackElement(),Pe.setCursorStates(fe.source,3,b.P.expandLineSelection(Pe,Pe.getCursorStates())),Pe.revealPrimaryCursor(fe.source,!0)}}),ce.CancelSelection=(0,k.fK)(new class extends v{constructor(){super({id:"cancelSelection",precondition:p.u.hasNonEmptySelection,kbOpts:{weight:0,kbExpr:p.u.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(Pe,fe){Pe.model.pushStackElement(),Pe.setCursorStates(fe.source,3,[b.P.cancelSelection(Pe,Pe.getPrimaryCursorState())]),Pe.revealPrimaryCursor(fe.source,!0)}}),ce.RemoveSecondaryCursors=(0,k.fK)(new class extends v{constructor(){super({id:"removeSecondaryCursors",precondition:p.u.hasMultipleSelections,kbOpts:{weight:1,kbExpr:p.u.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(Pe,fe){Pe.model.pushStackElement(),Pe.setCursorStates(fe.source,3,[Pe.getPrimaryCursorState()]),Pe.revealPrimaryCursor(fe.source,!0),(0,O.i7)(T.N("removedCursor","Removed secondary cursors"))}}),ce.RevealLine=(0,k.fK)(new class extends v{constructor(){super({id:"revealLine",precondition:void 0,description:_.description})}runCoreEditorCommand(Pe,fe){const Te=fe,Ce=Te.lineNumber||0;let Je="number"==typeof Ce?Ce+1:parseInt(Ce)+1;Je<1&&(Je=1);const pe=Pe.model.getLineCount();Je>pe&&(Je=pe);const Ve=new d.e(Je,1,Je,Pe.model.getLineMaxColumn(Je));let Ae=0;if(Te.at)switch(Te.at){case _.RawAtArgument.Top:Ae=3;break;case _.RawAtArgument.Center:Ae=1;break;case _.RawAtArgument.Bottom:Ae=4}const Ee=Pe.coordinatesConverter.convertModelRangeToViewRange(Ve);Pe.revealRange(fe.source,!1,Ee,Ae,0)}}),ce.SelectAll=new class extends f{constructor(){super(k.Sq)}runDOMCommand(){U.vU&&(document.activeElement.focus(),document.activeElement.select()),document.execCommand("selectAll")}runEditorCommand(Pe,fe,Te){const Ce=fe._getViewModel();!Ce||this.runCoreEditorCommand(Ce,Te)}runCoreEditorCommand(Pe,fe){Pe.model.pushStackElement(),Pe.setCursorStates("keyboard",3,[b.P.selectAll(Pe,Pe.getPrimaryCursorState())])}},ce.SetSelection=(0,k.fK)(new class extends v{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(Pe,fe){Pe.model.pushStackElement(),Pe.setCursorStates(fe.source,3,[B.Vi.fromModelSelection(fe.selection)])}})}(m||(m={}));const L=w.Ao.and(p.u.textInputFocus,p.u.columnSelection);function F(ce,be){E.W.registerKeybindingRule({id:ce,primary:be,when:L,weight:1})}function G(ce){return ce.register(),ce}var Y;F(m.CursorColumnSelectLeft.id,1039),F(m.CursorColumnSelectRight.id,1041),F(m.CursorColumnSelectUp.id,1040),F(m.CursorColumnSelectPageUp.id,1035),F(m.CursorColumnSelectDown.id,1042),F(m.CursorColumnSelectPageDown.id,1036),function(ce){class be extends k._l{runEditorCommand(V,Z,ie){const ue=Z._getViewModel();!ue||this.runCoreEditingCommand(Z,ue,ie||{})}}ce.CoreEditingCommand=be,ce.LineBreakInsert=(0,k.fK)(new class extends be{constructor(){super({id:"lineBreakInsert",precondition:p.u.writable,kbOpts:{weight:0,kbExpr:p.u.textInputFocus,primary:0,mac:{primary:301}}})}runCoreEditingCommand(N,V,Z){N.pushUndoStop(),N.executeCommands(this.id,I.u.lineBreakInsert(V.cursorConfig,V.model,V.getCursorStates().map(ie=>ie.modelState.selection)))}}),ce.Outdent=(0,k.fK)(new class extends be{constructor(){super({id:"outdent",precondition:p.u.writable,kbOpts:{weight:0,kbExpr:w.Ao.and(p.u.editorTextFocus,p.u.tabDoesNotMoveFocus),primary:1026}})}runCoreEditingCommand(N,V,Z){N.pushUndoStop(),N.executeCommands(this.id,I.u.outdent(V.cursorConfig,V.model,V.getCursorStates().map(ie=>ie.modelState.selection))),N.pushUndoStop()}}),ce.Tab=(0,k.fK)(new class extends be{constructor(){super({id:"tab",precondition:p.u.writable,kbOpts:{weight:0,kbExpr:w.Ao.and(p.u.editorTextFocus,p.u.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(N,V,Z){N.pushUndoStop(),N.executeCommands(this.id,I.u.tab(V.cursorConfig,V.model,V.getCursorStates().map(ie=>ie.modelState.selection))),N.pushUndoStop()}}),ce.DeleteLeft=(0,k.fK)(new class extends be{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:p.u.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})}runCoreEditingCommand(N,V,Z){const[ie,ue]=g.A.deleteLeft(V.getPrevEditOperationType(),V.cursorConfig,V.model,V.getCursorStates().map(oe=>oe.modelState.selection),V.getCursorAutoClosedCharacters());ie&&N.pushUndoStop(),N.executeCommands(this.id,ue),V.setPrevEditOperationType(2)}}),ce.DeleteRight=(0,k.fK)(new class extends be{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:0,kbExpr:p.u.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})}runCoreEditingCommand(N,V,Z){const[ie,ue]=g.A.deleteRight(V.getPrevEditOperationType(),V.cursorConfig,V.model,V.getCursorStates().map(oe=>oe.modelState.selection));ie&&N.pushUndoStop(),N.executeCommands(this.id,ue),V.setPrevEditOperationType(3)}}),ce.Undo=new class extends f{constructor(){super(k.n_)}runDOMCommand(){document.execCommand("undo")}runEditorCommand(N,V,Z){if(V.hasModel()&&!0!==V.getOption(78))return V.getModel().undo()}},ce.Redo=new class extends f{constructor(){super(k.kz)}runDOMCommand(){document.execCommand("redo")}runEditorCommand(N,V,Z){if(V.hasModel()&&!0!==V.getOption(78))return V.getModel().redo()}}}(Y||(Y={}));class de extends k.mY{constructor(be,N,V){super({id:be,precondition:void 0,description:V}),this._handlerId=N}runCommand(be,N){const V=be.get($.$).getFocusedCodeEditor();!V||V.trigger("keyboard",this._handlerId,N)}}function le(ce,be){G(new de("default:"+ce,ce)),G(new de(ce,ce,be))}le("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),le("replacePreviousChar"),le("compositionType"),le("compositionStart"),le("compositionEnd"),le("paste"),le("cut")},4110:(Ct,Qe,a)=>{"use strict";a.d(Qe,{pd:()=>b,RA:()=>I,Nl:()=>p,Fz:()=>w});var T=a(4991),U=a(1165),j=a(7922),O=a(6723),k=a(1719),$=a(2035),B=a(9190),R=a(579),d=a(7764),C=a(2109),g=a(9730),b=(()=>((b||(b={})).Tap="-monaco-textarea-synthetic-tap",b))();const I={forceCopyWithSyntaxHighlighting:!1};class p{constructor(){this._lastState=null}set(M,_){this._lastState={lastCopiedValue:M,data:_}}get(M){return this._lastState&&this._lastState.lastCopiedValue===M?this._lastState.data:(this._lastState=null,null)}}p.INSTANCE=new p;class w extends k.JT{constructor(M,_){super(),this.textArea=_,this._onFocus=this._register(new O.Q5),this.onFocus=this._onFocus.event,this._onBlur=this._register(new O.Q5),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new O.Q5),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new O.Q5),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new O.Q5),this.onCut=this._onCut.event,this._onPaste=this._register(new O.Q5),this.onPaste=this._onPaste.event,this._onType=this._register(new O.Q5),this.onType=this._onType.event,this._onCompositionStart=this._register(new O.Q5),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new O.Q5),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new O.Q5),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new O.Q5),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._host=M,this._textArea=this._register(new S(_)),this._asyncTriggerCut=this._register(new j.pY(()=>this._onCut.fire(),0)),this._asyncFocusGainWriteScreenReaderContent=this._register(new j.pY(()=>this.writeScreenReaderContent("asyncFocusGain"),0)),this._textAreaState=d.un.EMPTY,this._selectionChangeListener=null,this.writeScreenReaderContent("ctor"),this._hasFocus=!1,this._isDoingComposition=!1,this._nextCommand=0;let f=null;this._register(U.mu(_.domNode,"keydown",G=>{(109===G.keyCode||this._isDoingComposition&&1===G.keyCode)&&G.stopPropagation(),G.equals(9)&&G.preventDefault(),f=G,this._onKeyDown.fire(G)})),this._register(U.mu(_.domNode,"keyup",G=>{this._onKeyUp.fire(G)})),this._register(U.nm(_.domNode,"compositionstart",G=>{if(d.al&&console.log("[compositionstart]",G),!this._isDoingComposition){if(this._isDoingComposition=!0,B.dz&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===G.data&&(f&&f.equals(109)&&("ArrowRight"===f.code||"ArrowLeft"===f.code)||T.vU))return d.al&&console.log("[compositionstart] Handling long press case on macOS + arrow key or Firefox",G),this._textAreaState=new d.un(this._textAreaState.value,this._textAreaState.selectionStart-1,this._textAreaState.selectionEnd,this._textAreaState.selectionStartPosition?new C.L(this._textAreaState.selectionStartPosition.lineNumber,this._textAreaState.selectionStartPosition.column-1):null,this._textAreaState.selectionEndPosition),void this._onCompositionStart.fire({revealDeltaColumns:-1});if(T.Dt)return void this._onCompositionStart.fire({revealDeltaColumns:-this._textAreaState.selectionStart});this._setAndWriteTextAreaState("compositionstart",d.un.EMPTY),this._onCompositionStart.fire({revealDeltaColumns:0})}}));const m=G=>{const Y=this._textAreaState,de=d.un.readFromTextArea(this._textArea);return[de,d.un.deduceInput(Y,de,G)]},L=()=>{const G=this._textAreaState,Y=d.un.readFromTextArea(this._textArea);return[Y,d.un.deduceAndroidCompositionInput(G,Y)]},F=G=>{const Y=this._textAreaState,de=d.un.selectedText(G);return[de,{text:de.value,replacePrevCharCnt:Y.selectionEnd-Y.selectionStart,replaceNextCharCnt:0,positionDelta:0}]};this._register(U.nm(_.domNode,"compositionupdate",G=>{if(d.al&&console.log("[compositionupdate]",G),T.Dt){const[le,ce]=L();return this._textAreaState=le,this._onType.fire(ce),void this._onCompositionUpdate.fire(G)}const[Y,de]=F(G.data||"");this._textAreaState=Y,this._onType.fire(de),this._onCompositionUpdate.fire(G)})),this._register(U.nm(_.domNode,"compositionend",G=>{if(d.al&&console.log("[compositionend]",G),!this._isDoingComposition)return;if(this._isDoingComposition=!1,T.Dt){const[le,ce]=L();return this._textAreaState=le,this._onType.fire(ce),void this._onCompositionEnd.fire()}const[Y,de]=F(G.data||"");this._textAreaState=Y,this._onType.fire(de),(T.i7||T.vU)&&(this._textAreaState=d.un.readFromTextArea(this._textArea)),this._onCompositionEnd.fire()})),this._register(U.nm(_.domNode,"input",()=>{if(this._textArea.setIgnoreSelectionChangeTime("received input event"),this._isDoingComposition)return;const[G,Y]=m(B.dz);0===Y.replacePrevCharCnt&&1===Y.text.length&&R.ZG(Y.text.charCodeAt(0))||(this._textAreaState=G,0===this._nextCommand?(""!==Y.text||0!==Y.replacePrevCharCnt)&&this._onType.fire(Y):((""!==Y.text||0!==Y.replacePrevCharCnt)&&this._firePaste(Y.text,null),this._nextCommand=0))})),this._register(U.nm(_.domNode,"cut",G=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(G),this._asyncTriggerCut.schedule()})),this._register(U.nm(_.domNode,"copy",G=>{this._ensureClipboardGetsEditorSelection(G)})),this._register(U.nm(_.domNode,"paste",G=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),E.canUseTextData(G)){const[Y,de]=E.getTextData(G);""!==Y&&this._firePaste(Y,de)}else this._textArea.getSelectionStart()!==this._textArea.getSelectionEnd()&&this._setAndWriteTextAreaState("paste",d.un.EMPTY),this._nextCommand=1})),this._register(U.nm(_.domNode,"focus",()=>{const G=this._hasFocus;this._setHasFocus(!0),T.G6&&!G&&this._hasFocus&&this._asyncFocusGainWriteScreenReaderContent.schedule()})),this._register(U.nm(_.domNode,"blur",()=>{this._isDoingComposition&&(this._isDoingComposition=!1,this.writeScreenReaderContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)})),this._register(U.nm(_.domNode,b.Tap,()=>{T.Dt&&this._isDoingComposition&&(this._isDoingComposition=!1,this.writeScreenReaderContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())}))}_installSelectionChangeListener(){let M=0;return U.nm(document,"selectionchange",_=>{if(!this._hasFocus||this._isDoingComposition||!T.i7)return;const f=Date.now(),m=f-M;if(M=f,m<5)return;const L=f-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),L<100||!this._textAreaState.selectionStartPosition||!this._textAreaState.selectionEndPosition)return;const F=this._textArea.getValue();if(this._textAreaState.value!==F)return;const G=this._textArea.getSelectionStart(),Y=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===G&&this._textAreaState.selectionEnd===Y)return;const de=this._textAreaState.deduceEditorPosition(G),le=this._host.deduceModelPosition(de[0],de[1],de[2]),ce=this._textAreaState.deduceEditorPosition(Y),be=this._host.deduceModelPosition(ce[0],ce[1],ce[2]),N=new g.Y(le.lineNumber,le.column,be.lineNumber,be.column);this._onSelectionChangeRequest.fire(N)})}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){const M=U.Ay(this.textArea.domNode);M?this._setHasFocus(M.activeElement===this.textArea.domNode):U.Uw(this.textArea.domNode)?this._setHasFocus(document.activeElement===this.textArea.domNode):this._setHasFocus(!1)}_setHasFocus(M){this._hasFocus!==M&&(this._hasFocus=M,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeScreenReaderContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(M,_){this._hasFocus||(_=_.collapseSelection()),_.writeToTextArea(M,this._textArea,this._hasFocus),this._textAreaState=_}writeScreenReaderContent(M){this._isDoingComposition||this._setAndWriteTextAreaState(M,this._host.getScreenReaderContent(this._textAreaState))}_ensureClipboardGetsEditorSelection(M){const _=this._host.getDataToCopy(E.canUseTextData(M)),f={version:1,isFromEmptySelection:_.isFromEmptySelection,multicursorText:_.multicursorText,mode:_.mode};p.INSTANCE.set(T.vU?_.text.replace(/\r\n/g,"\n"):_.text,f),E.canUseTextData(M)?E.setTextData(M,_.text,_.html,f):this._setAndWriteTextAreaState("copy or cut",d.un.selectedText(_.text))}_firePaste(M,_){_||(_=p.INSTANCE.get(M)),this._onPaste.fire({text:M,metadata:_})}}class E{static canUseTextData(M){return!(!M.clipboardData&&!window.clipboardData)}static getTextData(M){if(M.clipboardData){M.preventDefault();const _=M.clipboardData.getData($.vW.text);let f=null;const m=M.clipboardData.getData("vscode-editor-data");if("string"==typeof m)try{f=JSON.parse(m),1!==f.version&&(f=null)}catch(L){}return[_,f]}if(window.clipboardData)return M.preventDefault(),[window.clipboardData.getData("Text"),null];throw new Error("ClipboardEventUtils.getTextData: Cannot use text data!")}static setTextData(M,_,f,m){if(M.clipboardData)return M.clipboardData.setData($.vW.text,_),"string"==typeof f&&M.clipboardData.setData("text/html",f),M.clipboardData.setData("vscode-editor-data",JSON.stringify(m)),void M.preventDefault();if(window.clipboardData)return window.clipboardData.setData("Text",_),void M.preventDefault();throw new Error("ClipboardEventUtils.setTextData: Cannot use text data!")}}class S extends k.JT{constructor(M){super(),this._actual=M,this._ignoreSelectionChangeTime=0}setIgnoreSelectionChangeTime(M){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.domNode.value}setValue(M,_){const f=this._actual.domNode;f.value!==_&&(this.setIgnoreSelectionChangeTime("setValue"),f.value=_)}getSelectionStart(){return"backward"===this._actual.domNode.selectionDirection?this._actual.domNode.selectionEnd:this._actual.domNode.selectionStart}getSelectionEnd(){return"backward"===this._actual.domNode.selectionDirection?this._actual.domNode.selectionStart:this._actual.domNode.selectionEnd}setSelectionRange(M,_,f){const m=this._actual.domNode;let L=null;const F=U.Ay(m);L=F?F.activeElement:document.activeElement;const G=L===m;if(G&&m.selectionStart===_&&m.selectionEnd===f)T.vU&&window.parent!==window&&m.focus();else{if(G)return this.setIgnoreSelectionChangeTime("setSelectionRange"),m.setSelectionRange(_,f),void(T.vU&&window.parent!==window&&m.focus());try{const le=U.vL(m);this.setIgnoreSelectionChangeTime("setSelectionRange"),m.focus(),m.setSelectionRange(_,f),U._0(m,le)}catch(le){}}}}},7764:(Ct,Qe,a)=>{"use strict";a.d(Qe,{al:()=>O,un:()=>k,ee:()=>$});var T=a(579),U=a(2109),j=a(8487);const O=!1;class k{constructor(R,d,C,g,b){this.value=R,this.selectionStart=d,this.selectionEnd=C,this.selectionStartPosition=g,this.selectionEndPosition=b}toString(){return"[ <"+this.value+">, selectionStart: "+this.selectionStart+", selectionEnd: "+this.selectionEnd+"]"}static readFromTextArea(R){return new k(R.getValue(),R.getSelectionStart(),R.getSelectionEnd(),null,null)}collapseSelection(){return new k(this.value,this.value.length,this.value.length,null,null)}writeToTextArea(R,d,C){O&&console.log("writeToTextArea "+R+": "+this.toString()),d.setValue(R,this.value),C&&d.setSelectionRange(R,this.selectionStart,this.selectionEnd)}deduceEditorPosition(R){if(R<=this.selectionStart){const g=this.value.substring(R,this.selectionStart);return this._finishDeduceEditorPosition(this.selectionStartPosition,g,-1)}if(R>=this.selectionEnd){const g=this.value.substring(this.selectionEnd,R);return this._finishDeduceEditorPosition(this.selectionEndPosition,g,1)}const d=this.value.substring(this.selectionStart,R);if(-1===d.indexOf(String.fromCharCode(8230)))return this._finishDeduceEditorPosition(this.selectionStartPosition,d,1);const C=this.value.substring(R,this.selectionEnd);return this._finishDeduceEditorPosition(this.selectionEndPosition,C,-1)}_finishDeduceEditorPosition(R,d,C){let g=0,b=-1;for(;-1!==(b=d.indexOf("\n",b+1));)g++;return[R,C*d.length,g]}static selectedText(R){return new k(R,0,R.length,null,null)}static deduceInput(R,d,C){if(!R)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};O&&(console.log("------------------------deduceInput"),console.log("PREVIOUS STATE: "+R.toString()),console.log("CURRENT STATE: "+d.toString()));let g=R.value,b=R.selectionStart,I=R.selectionEnd,p=d.value,w=d.selectionStart,E=d.selectionEnd;const S=g.substring(I),v=p.substring(E),M=T.P1(S,v);p=p.substring(0,p.length-M),g=g.substring(0,g.length-M);const _=g.substring(0,b),f=p.substring(0,w),m=T.Mh(_,f);if(p=p.substring(m),g=g.substring(m),w-=m,b-=m,E-=m,I-=m,O&&(console.log("AFTER DIFFING PREVIOUS STATE: <"+g+">, selectionStart: "+b+", selectionEnd: "+I),console.log("AFTER DIFFING CURRENT STATE: <"+p+">, selectionStart: "+w+", selectionEnd: "+E)),C&&w===E&&g.length>0){let F=null;if(w===p.length?p.startsWith(g)&&(F=p.substring(g.length)):p.endsWith(g)&&(F=p.substring(0,p.length-g.length)),null!==F&&F.length>0&&(/\uFE0F/.test(F)||T.RP(F)))return{text:F,replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0}}if(w===E){if(g===p&&0===b&&I===g.length&&w===p.length&&-1===p.indexOf("\n")&&T.xe(p))return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};const F=_.length-m;return O&&console.log("REMOVE PREVIOUS: "+(_.length-m)+" chars"),{text:p,replacePrevCharCnt:F,replaceNextCharCnt:0,positionDelta:0}}return{text:p,replacePrevCharCnt:I-b,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(R,d){if(!R)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(O&&(console.log("------------------------deduceAndroidCompositionInput"),console.log("PREVIOUS STATE: "+R.toString()),console.log("CURRENT STATE: "+d.toString())),R.value===d.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:d.selectionEnd-R.selectionEnd};const C=Math.min(T.Mh(R.value,d.value),R.selectionEnd),g=Math.min(T.P1(R.value,d.value),R.value.length-R.selectionEnd),b=R.value.substring(C,R.value.length-g),I=d.value.substring(C,d.value.length-g),w=R.selectionEnd-C,E=d.selectionStart-C,S=d.selectionEnd-C;return O&&(console.log("AFTER DIFFING PREVIOUS STATE: <"+b+">, selectionStart: "+(R.selectionStart-C)+", selectionEnd: "+w),console.log("AFTER DIFFING CURRENT STATE: <"+I+">, selectionStart: "+E+", selectionEnd: "+S)),{text:I,replacePrevCharCnt:w,replaceNextCharCnt:b.length-w,positionDelta:S-I.length}}}k.EMPTY=new k("",0,0,null,null);class ${static _getPageOfLine(R,d){return Math.floor((R-1)/d)}static _getRangeForPage(R,d){const C=R*d;return new j.e(C+1,1,C+d+1,1)}static fromEditorSelection(R,d,C,g,b){const I=$._getPageOfLine(C.startLineNumber,g),p=$._getRangeForPage(I,g),w=$._getPageOfLine(C.endLineNumber,g),E=$._getRangeForPage(w,g),S=p.intersectRanges(new j.e(1,1,C.startLineNumber,C.startColumn));let v=d.getValueInRange(S,1);const M=d.getLineCount(),_=d.getLineMaxColumn(M),f=E.intersectRanges(new j.e(C.endLineNumber,C.endColumn,M,_));let L,m=d.getValueInRange(f,1);if(I===w||I+1===w)L=d.getValueInRange(C,1);else{const F=p.intersectRanges(C),G=E.intersectRanges(C);L=d.getValueInRange(F,1)+String.fromCharCode(8230)+d.getValueInRange(G,1)}if(b){const F=500;v.length>F&&(v=v.substring(v.length-F,v.length)),m.length>F&&(m=m.substring(0,F)),L.length>2*F&&(L=L.substring(0,F)+String.fromCharCode(8230)+L.substring(L.length-F,L.length))}return new k(v+L+m,v.length,v.length+L.length,new U.L(C.startLineNumber,C.startColumn),new U.L(C.endLineNumber,C.endColumn))}}},1358:(Ct,Qe,a)=>{"use strict";a.d(Qe,{yy:()=>p,Dl:()=>w,ZF:()=>S,YQ:()=>E});var T=a(579),U=a(8487),j=a(9357),O=a(1719),k=a(4482),$=a(2844),B=a(4857),R=a(4562),d=a(4165),C=a(1606);const g=(0,R.yh)("IEditorCancelService"),b=new $.uy("cancellableOperation",!1,(0,C.N)("cancellableOperation","Whether the editor runs a cancellable operation, e.g. like 'Peek References'"));(0,d.z)(g,class{constructor(){this._tokens=new WeakMap}add(v,M){let f,_=this._tokens.get(v);return _||(_=v.invokeWithinContext(m=>({key:b.bindTo(m.get($.i6)),tokens:new B.S})),this._tokens.set(v,_)),_.key.set(!0),f=_.tokens.push(M),()=>{f&&(f(),_.key.set(!_.tokens.isEmpty()),f=void 0)}}cancel(v){const M=this._tokens.get(v);if(!M)return;const _=M.tokens.pop();_&&(_.cancel(),M.key.set(!M.tokens.isEmpty()))}},!0);class I extends j.A{constructor(M,_){super(_),this.editor=M,this._unregister=M.invokeWithinContext(f=>f.get(g).add(M,this))}dispose(){this._unregister(),super.dispose()}}(0,k.fK)(new class extends k._l{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:b})}runEditorCommand(v,M){v.get(g).cancel(M)}});class p{constructor(M,_){if(this.flags=_,0!=(1&this.flags)){const f=M.getModel();this.modelVersionId=f?T.WU("{0}#{1}",f.uri.toString(),f.getVersionId()):null}else this.modelVersionId=null;this.position=0!=(4&this.flags)?M.getPosition():null,this.selection=0!=(2&this.flags)?M.getSelection():null,0!=(8&this.flags)?(this.scrollLeft=M.getScrollLeft(),this.scrollTop=M.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}_equals(M){if(!(M instanceof p))return!1;const _=M;return!(this.modelVersionId!==_.modelVersionId||this.scrollLeft!==_.scrollLeft||this.scrollTop!==_.scrollTop||!this.position&&_.position||this.position&&!_.position||this.position&&_.position&&!this.position.equals(_.position)||!this.selection&&_.selection||this.selection&&!_.selection||this.selection&&_.selection&&!this.selection.equalsRange(_.selection))}validate(M){return this._equals(new p(M,this.flags))}}class w extends I{constructor(M,_,f,m){super(M,m),this._listener=new O.SL,4&_&&this._listener.add(M.onDidChangeCursorPosition(L=>{(!f||!U.e.containsPosition(f,L.position))&&this.cancel()})),2&_&&this._listener.add(M.onDidChangeCursorSelection(L=>{(!f||!U.e.containsRange(f,L.selection))&&this.cancel()})),8&_&&this._listener.add(M.onDidScrollChange(L=>this.cancel())),1&_&&(this._listener.add(M.onDidChangeModel(L=>this.cancel())),this._listener.add(M.onDidChangeModelContent(L=>this.cancel())))}dispose(){this._listener.dispose(),super.dispose()}}class E extends j.A{constructor(M,_){super(_),this._listener=M.onDidChangeContent(()=>this.cancel())}dispose(){this._listener.dispose(),super.dispose()}}class S{constructor(M,_,f){this._visiblePosition=M,this._visiblePositionScrollDelta=_,this._cursorPosition=f}static capture(M){let _=null,f=0;if(0!==M.getScrollTop()){const m=M.getVisibleRanges();if(m.length>0){_=m[0].getStartPosition();const L=M.getTopForPosition(_.lineNumber,_.column);f=M.getScrollTop()-L}}return new S(_,f,M.getPosition())}restore(M){if(this._visiblePosition){const _=M.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);M.setScrollTop(_+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(M){const _=M.getPosition();if(!this._cursorPosition||!_)return;const f=M.getTopForLineNumber(_.lineNumber)-M.getTopForLineNumber(this._cursorPosition.lineNumber);M.setScrollTop(M.getScrollTop()+f)}}},8582:(Ct,Qe,a)=>{"use strict";a.d(Qe,{$:()=>ie});var T=a(1165),U=a(6059),j=a(5160),O=a(4303),k=a(4437),$=a(9926);let B;!function ue(oe,ee,K){function ne(re,ye){if(!ee[re]){if(!oe[re]){if(he)return he(re,!0);var xe=new Error("Cannot find module '"+re+"'");throw xe.code="MODULE_NOT_FOUND",xe}var Pe=ee[re]={exports:{}};oe[re][0].call(Pe.exports,function(fe){return ne(oe[re][1][fe]||fe)},Pe,Pe.exports,ue,oe,ee,K)}return ee[re].exports}for(var he=void 0,ge=0;ge<K.length;ge++)ne(K[ge]);return ne}({1:[function(ue,oe,ee){var K=ue("./toMap");oe.exports={uris:K(["background","base","cite","href","longdesc","src","usemap"])}},{"./toMap":10}],2:[function(ue,oe,ee){oe.exports={allowedAttributes:{"*":["title","accesskey"],a:["href","name","target","aria-label"],iframe:["allowfullscreen","frameborder","src"],img:["src","alt","title","aria-label"]},allowedClasses:{},allowedSchemes:["http","https","mailto"],allowedTags:["a","abbr","article","b","blockquote","br","caption","code","del","details","div","em","h1","h2","h3","h4","h5","h6","hr","i","img","ins","kbd","li","main","mark","ol","p","pre","section","span","strike","strong","sub","summary","sup","table","tbody","td","th","thead","tr","u","ul"],filter:null}},{}],3:[function(ue,oe,ee){var K=ue("./toMap");oe.exports={voids:K(["area","br","col","hr","img","wbr","input","base","basefont","link","meta"])}},{"./toMap":10}],4:[function(ue,oe,ee){ue("he");var ne=ue("assignment"),he=ue("./parser"),ge=ue("./sanitizer"),re=ue("./defaults");function ye(ke,xe,Pe){var fe=[],Te=!0===Pe?xe:ne({},re,xe),Ce=ge(fe,Te);return he(ke,Ce),fe.join("")}ye.defaults=re,oe.exports=ye,B=ye},{"./defaults":2,"./parser":7,"./sanitizer":8,assignment:6,he:9}],5:[function(ue,oe,ee){oe.exports=function(ne){return"string"==typeof ne?ne.toLowerCase():ne}},{}],6:[function(ue,oe,ee){oe.exports=function K(ne){for(var ge,re,he=Array.prototype.slice.call(arguments,1);he.length;)for(re in ge=he.shift())ge.hasOwnProperty(re)&&(ne[re]="[object Object]"===Object.prototype.toString.call(ne[re])?K(ne[re],ge[re]):ge[re]);return ne}},{}],7:[function(ue,oe,ee){var K=ue("he"),ne=ue("./lowercase"),ge=(ue("./attributes"),ue("./elements")),re=/^<\s*([\w:-]+)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*>/,ye=/^<\s*\/\s*([\w:-]+)[^>]*>/,ke=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,xe=/^</,Pe=/^<\s*\//;oe.exports=function(Ce,Je){for(var Ae,pe=function(){var Ce=[];return Ce.lastItem=function(){return Ce[Ce.length-1]},Ce}(),Ve=Ce;Ce;)Ee();function Ee(){Ae=!0,"\x3c!--"===Ce.substr(0,4)?function(){var ve=Ce.indexOf("--\x3e");ve>=0&&(Je.comment&&Je.comment(Ce.substring(4,ve)),Ce=Ce.substring(ve+3),Ae=!1)}():Pe.test(Ce)?Be(ye,At):xe.test(Ce)&&Be(re,vt),function(){if(Ae){var ve,ht=Ce.indexOf("<");ht>=0?(ve=Ce.substring(0,ht),Ce=Ce.substring(ht)):(ve=Ce,Ce=""),Je.chars&&Je.chars(ve)}}();var ve=Ce===Ve;Ve=Ce,ve&&(Ce="")}function Be(ve,ht){var Ge=Ce.match(ve);Ge&&(Ce=Ce.substring(Ge[0].length),Ge[0].replace(ve,ht),Ae=!1)}function vt(ve,ht,Ge,De){var Le={},dt=ne(ht),_t=ge.voids[dt]||!!De;Ge.replace(ke,function(zt,pn,Qt,Ht,qt){Le[pn]=void 0===Qt&&void 0===Ht&&void 0===qt?void 0:K.decode(Qt||Ht||qt||"")}),_t||pe.push(dt),Je.start&&Je.start(dt,Le,_t)}function At(ve,ht){var Ge,De=0,Le=ne(ht);if(Le)for(De=pe.length-1;De>=0&&pe[De]!==Le;De--);if(De>=0){for(Ge=pe.length-1;Ge>=De;Ge--)Je.end&&Je.end(pe[Ge]);pe.length=De}}At()}},{"./attributes":1,"./elements":3,"./lowercase":5,he:9}],8:[function(ue,oe,ee){var K=ue("he"),ne=ue("./lowercase"),he=ue("./attributes"),ge=ue("./elements");oe.exports=function(ye,ke){var Pe,fe=ke||{};return ze(),{start:function(Be,Ue,ot){var vt=ne(Be);Pe.ignoring?Ae(vt):-1!==(fe.allowedTags||[]).indexOf(vt)&&(!fe.filter||fe.filter({tag:vt,attrs:Ue}))?(Te("<"),Te(vt),Object.keys(Ue).forEach(function(ve){var ht=Ue[ve],Ge=(fe.allowedClasses||{})[vt]||[],De=(fe.allowedAttributes||{})[vt]||[];De=De.concat((fe.allowedAttributes||{})["*"]||[]);var dt=ne(ve);("class"===dt&&-1===De.indexOf(dt)?(ht=ht.split(" ").filter(function(Nt){return Ge&&-1!==Ge.indexOf(Nt)}).join(" ").trim()).length:-1!==De.indexOf(dt)&&(!0!==he.uris[dt]||function(Be){var Ue=Be[0];if("#"===Ue||"/"===Ue)return!0;var ot=Be.indexOf(":");if(-1===ot)return!0;var vt=Be.indexOf("?");if(-1!==vt&&ot>vt)return!0;var At=Be.indexOf("#");return-1!==At&&ot>At||fe.allowedSchemes.some(function(ht){return 0===Be.indexOf(ht+":")})}(ht)))&&(Te(" "),Te(ve),"string"==typeof ht&&(Te('="'),Te(K.encode(ht)),Te('"')))}),Te(ot?"/>":">")):Ae(vt)},end:function(Be){var Ue=ne(Be);-1!==(fe.allowedTags||[]).indexOf(Ue)&&!1===Pe.ignoring?(Te("</"),Te(Ue),Te(">")):function(Be){Pe.ignoring===Be&&--Pe.depth<=0&&ze()}(Ue)},chars:function(Be){!1===Pe.ignoring&&Te(fe.transformText?fe.transformText(Be):Be)}};function Te(Be){ye.push(Be)}function Ae(Be){ge.voids[Be]||(!1===Pe.ignoring?Pe={ignoring:Be,depth:1}:Pe.ignoring===Be&&Pe.depth++)}function ze(){Pe={ignoring:!1,depth:0}}}},{"./attributes":1,"./elements":3,"./lowercase":5,he:9}],9:[function(ue,oe,ee){var K={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ne={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},he=/(&amp;|&lt;|&gt;|&quot;|&#39;)/g,ge=/[&<>"']/g;function re(Pe){return K[Pe]}function ye(Pe){return ne[Pe]}function ke(Pe){return null==Pe?"":String(Pe).replace(ge,re)}function xe(Pe){return null==Pe?"":String(Pe).replace(he,ye)}ke.options=xe.options={},oe.exports={encode:ke,escape:ke,decode:xe,unescape:xe,version:"1.0.0-browser"}},{}],10:[function(ue,oe,ee){function ne(he,ge){return he[ge]=!0,he}oe.exports=function(he){return he.reduce(ne,{})}},{}]},{},[4]);var _,R=B,d=a(3967),C=a(3788),g=a(579),b=a(6746),I=a(6857),p=a(9505),w=a(8401),E=a(7631),S=a(6255),v=a(6723),M=a(759);const f=null===(_=window.trustedTypes)||void 0===_?void 0:_.createPolicy("insane",{createHTML:(ue,oe)=>R(ue,oe)});var Z,G=a(1227),Y=a(8923),de=a(5447),le=a(1719),ce=a(6412),N=function(ue,oe){return function(ee,K){oe(ee,K,ue)}};let ie=class yR{constructor(oe,ee,K){this._options=oe,this._modeService=ee,this._openerService=K,this._onDidRenderAsync=new v.Q5,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render(oe,ee,K){const ne=new le.SL;let he;return he=oe?function(ue,oe={},ee={}){var K;const ne=(0,U.az)(oe),he=function(fe){let Te;try{Te=(0,d.Q)(decodeURIComponent(fe))}catch(Ce){}return Te?(Te=(0,C.rs)(Te,Ce=>{if(ue.uris&&ue.uris[Ce])return b.o.revive(ue.uris[Ce])}),encodeURIComponent(JSON.stringify(Te))):fe},ge=function(fe,Te){const Ce=ue.uris&&ue.uris[fe];if(!Ce)return fe;let Je=b.o.revive(Ce);return b.o.parse(fe).toString()===Je.toString()?fe:Te?I.Gi.asBrowserUri(Je).toString(!0):(Je.query&&(Je=Je.with({query:he(Je.query)})),Je.toString())};let re;const ye=new Promise(fe=>re=fe),ke=new $.Renderer;if(ke.image=(fe,Te,Ce)=>{let Je=[],pe=[];if(fe){({href:fe,dimensions:Je}=(0,O.v1)(fe)),fe=ge(fe,!0);try{const Ve=b.o.parse(fe);oe.baseUrl&&Ve.scheme===I.lg.file&&(fe=(0,w.i3)(oe.baseUrl,fe).toString())}catch(Ve){}pe.push(`src="${fe}"`)}return Ce&&pe.push(`alt="${Ce}"`),Te&&pe.push(`title="${Te}"`),Je.length&&(pe=pe.concat(Je)),"<img "+pe.join(" ")+">"},ke.link=(fe,Te,Ce)=>(fe===Ce&&(Ce=(0,O.oR)(Ce)),fe=ge(fe,!1),oe.baseUrl&&(/^\w[\w\d+.-]*:/.test(fe)||(fe=(0,w.i3)(oe.baseUrl,fe).toString())),Te=(0,O.oR)(Te),!(fe=(0,O.oR)(fe))||fe.match(/^data:|javascript:/i)||fe.match(/^command:/i)&&!ue.isTrusted||fe.match(/^command:(\/\/\/)?_workbench\.downloadResource/i)?Ce:`<a href="#" data-href="${fe=fe.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}" title="${Te||fe}">${Ce}</a>`),ke.paragraph=fe=>(ue.supportThemeIcons&&(fe=(0,S.T)(fe).map(Ce=>"string"==typeof Ce?Ce:Ce.outerHTML).join("")),`<p>${fe}</p>`),oe.codeBlockRenderer&&(ke.code=(fe,Te)=>{const Ce=oe.codeBlockRenderer(Te,fe),Je=k.a.nextId(),pe=Promise.all([Ce,ye]).then(Ve=>{const Ae=ne.querySelector(`div[data-code="${Je}"]`);Ae&&T.mc(Ae,Ve[0])}).catch(Ve=>{});return oe.asyncRenderCallback&&pe.then(oe.asyncRenderCallback),`<div class="code" data-code="${Je}">${(0,g.YU)(fe)}</div>`}),oe.actionHandler){const fe=oe.actionHandler.disposeables.add(new M.Y(ne,"click")),Te=oe.actionHandler.disposeables.add(new M.Y(ne,"auxclick"));oe.actionHandler.disposeables.add(v.ju.any(fe.event,Te.event)(Ce=>{const Je=new E.n(Ce);if(!Je.leftButton&&!Je.middleButton)return;let pe=Je.target;if("A"===pe.tagName||(pe=pe.parentElement,pe&&"A"===pe.tagName))try{const Ve=pe.dataset.href;Ve&&oe.actionHandler.callback(Ve,Je)}catch(Ve){(0,j.dL)(Ve)}finally{Je.preventDefault()}}))}ee.sanitizer=fe=>(ue.isTrusted?fe.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?fe:"",ee.sanitize=!0,ee.silent=!0,ee.renderer=ke;let xe=null!==(K=ue.value)&&void 0!==K?K:"";xe.length>1e5&&(xe=`${xe.substr(0,1e5)}\u2026`),ue.supportThemeIcons&&(xe=(0,p.f$)(xe));const Pe=$.parse(xe,ee);if(ne.innerHTML=function(ue,oe){var ee;const K=function(ue){const oe=[I.lg.http,I.lg.https,I.lg.mailto,I.lg.data,I.lg.file,I.lg.vscodeRemote,I.lg.vscodeRemoteResource];return ue.isTrusted&&oe.push(I.lg.command),{allowedSchemes:oe,allowedTags:["ul","li","p","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"],allowedAttributes:{a:["href","name","target","data-href"],img:["src","title","alt","width","height"],div:["class","data-code"],span:["class","style"],th:["align"],td:["align"]},filter:ee=>!("span"===ee.tag&&ue.isTrusted&&(ee.attrs.style&&1===Object.keys(ee.attrs).length?!ee.attrs.style.match(/^(color\:#[0-9a-fA-F]+;)?(background-color\:#[0-9a-fA-F]+;)?$/):!ee.attrs.class||!ee.attrs.class.match(/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/)))}}(ue);return null!==(ee=null==f?void 0:f.createHTML(oe,K))&&void 0!==ee?ee:R(oe,K)}(ue,Pe),re(),oe.asyncRenderCallback)for(const fe of ne.getElementsByTagName("img")){const Te=T.nm(fe,"load",()=>{Te.dispose(),oe.asyncRenderCallback()})}return ne}(oe,Object.assign(Object.assign({},this._getRenderOptions(oe,ne)),ee),K):document.createElement("span"),{element:he,dispose:()=>ne.dispose()}}_getRenderOptions(oe,ee){return{baseUrl:this._options.baseUrl,codeBlockRenderer:(K,ne)=>function(ue,oe,ee,K){return new(ee||(ee=Promise))(function(he,ge){function re(xe){try{ke(K.next(xe))}catch(Pe){ge(Pe)}}function ye(xe){try{ke(K.throw(xe))}catch(Pe){ge(Pe)}}function ke(xe){xe.done?he(xe.value):function(he){return he instanceof ee?he:new ee(function(ge){ge(he)})}(xe.value).then(re,ye)}ke((K=K.apply(ue,oe||[])).next())})}(this,void 0,void 0,function*(){var he,ge,re,ye;let ke;K?ke=this._modeService.getModeIdForLanguageName(K):this._options.editor&&(ke=null===(he=this._options.editor.getModel())||void 0===he?void 0:he.getLanguageIdentifier().language),ke||(ke="plaintext"),this._modeService.triggerMode(ke);const xe=null!==(ge=yield ce.RW.getPromise(ke))&&void 0!==ge?ge:void 0,Pe=document.createElement("span");Pe.innerHTML=null!==(ye=null===(re=yR._ttpTokenizer)||void 0===re?void 0:re.createHTML(ne,xe))&&void 0!==ye?ye:(0,de.C)(ne,xe);let fe=this._options.codeBlockFontFamily;return this._options.editor&&(fe=this._options.editor.getOption(40).fontFamily),fe&&(Pe.style.fontFamily=fe),Pe}),asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:K=>this._openerService.open(K,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:oe.isTrusted}).catch(j.dL),disposeables:ee}}}};ie._ttpTokenizer=null===(Z=window.trustedTypes)||void 0===Z?void 0:Z.createPolicy("tokenizeToString",{createHTML:(ue,oe)=>(0,de.C)(ue,oe)}),ie=function(ue,oe,ee,K){var ge,ne=arguments.length,he=ne<3?oe:null===K?K=Object.getOwnPropertyDescriptor(oe,ee):K;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)he=Reflect.decorate(ue,oe,ee,K);else for(var re=ue.length-1;re>=0;re--)(ge=ue[re])&&(he=(ne<3?ge(he):ne>3?ge(oe,ee,he):ge(oe,ee))||he);return ne>3&&he&&Object.defineProperty(oe,ee,he),he}([N(1,Y.h),N(2,G.v4)],ie)},6957:(Ct,Qe,a)=>{"use strict";a.d(Qe,{CL:()=>U,QI:()=>j,Pi:()=>O});var T=a(3594);function U(k){return!(!k||"function"!=typeof k.getEditorType)&&k.getEditorType()===T.g.ICodeEditor}function j(k){return!(!k||"function"!=typeof k.getEditorType)&&k.getEditorType()===T.g.IDiffEditor}function O(k){return U(k)?k:j(k)?k.getModifiedEditor():null}},4482:(Ct,Qe,a)=>{"use strict";a.d(Qe,{mY:()=>w,AJ:()=>E,_l:()=>v,R6:()=>M,jY:()=>_,sb:()=>f,f:()=>m,fK:()=>L,Qr:()=>F,rn:()=>G,QG:()=>Y,_K:()=>de,Uc:()=>le,n_:()=>V,kz:()=>Z,Sq:()=>ie});var le,ue,T=a(1606),U=a(6746),j=a(3779),O=a(2109),k=a(1954),$=a(4128),B=a(2836),R=a(8896),d=a(2844),C=a(2331),g=a(1161),b=a(5460),I=a(1882),p=a(8998);class w{constructor(oe){this.id=oe.id,this.precondition=oe.precondition,this._kbOpts=oe.kbOpts,this._menuOpts=oe.menuOpts,this._description=oe.description}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){const oe=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(const ee of oe){let K=ee.kbExpr;this.precondition&&(K=K?d.Ao.and(K,this.precondition):this.precondition),C.W.registerKeybindingRule({id:this.id,weight:ee.weight,args:ee.args,when:K,primary:ee.primary,secondary:ee.secondary,win:ee.win,linux:ee.linux,mac:ee.mac})}}R.P.registerCommand({id:this.id,handler:(oe,ee)=>this.runCommand(oe,ee),description:this._description})}_registerMenuItem(oe){B.BH.appendMenuItem(oe.menuId,{group:oe.group,command:{id:this.id,title:oe.title,icon:oe.icon,precondition:this.precondition},when:oe.when,order:oe.order})}}class E extends w{constructor(){super(...arguments),this._implementations=[]}addImplementation(oe,ee,K){return this._implementations.push({priority:oe,name:ee,implementation:K}),this._implementations.sort((ne,he)=>he.priority-ne.priority),{dispose:()=>{for(let ne=0;ne<this._implementations.length;ne++)if(this._implementations[ne].implementation===K)return void this._implementations.splice(ne,1)}}}runCommand(oe,ee){const K=oe.get(p.VZ);for(const ne of this._implementations){const he=ne.implementation(oe,ee);if(he)return K.trace(`Command '${this.id}' was handled by '${ne.name}'.`),"boolean"==typeof he?void 0:he}}}class S extends w{constructor(oe,ee){super(ee),this.command=oe}runCommand(oe,ee){return this.command.runCommand(oe,ee)}}class v extends w{static bindToContribution(oe){return class extends v{constructor(K){super(K),this._callback=K.handler}runEditorCommand(K,ne,he){oe(ne)&&this._callback(oe(ne),he)}}}runCommand(oe,ee){const K=oe.get(j.$),ne=K.getFocusedCodeEditor()||K.getActiveCodeEditor();if(ne)return ne.invokeWithinContext(he=>{if(he.get(d.i6).contextMatchesRules((0,I.f6)(this.precondition)))return this.runEditorCommand(he,ne,ee)})}}class M extends v{constructor(oe){super(M.convertOptions(oe)),this.label=oe.label,this.alias=oe.alias}static convertOptions(oe){let ee;function K(ne){return ne.menuId||(ne.menuId=B.eH.EditorContext),ne.title||(ne.title=oe.label),ne.when=d.Ao.and(oe.precondition,ne.when),ne}return ee=Array.isArray(oe.menuOpts)?oe.menuOpts:oe.menuOpts?[oe.menuOpts]:[],Array.isArray(oe.contextMenuOpts)?ee.push(...oe.contextMenuOpts.map(K)):oe.contextMenuOpts&&ee.push(K(oe.contextMenuOpts)),oe.menuOpts=ee,oe}runEditorCommand(oe,ee,K){return this.reportTelemetry(oe,ee),this.run(oe,ee,K||{})}reportTelemetry(oe,ee){oe.get(b.b).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}class _ extends M{constructor(){super(...arguments),this._implementations=[]}addImplementation(oe,ee){return this._implementations.push([oe,ee]),this._implementations.sort((K,ne)=>ne[0]-K[0]),{dispose:()=>{for(let K=0;K<this._implementations.length;K++)if(this._implementations[K][1]===ee)return void this._implementations.splice(K,1)}}}run(oe,ee,K){for(const ne of this._implementations){const he=ne[1](oe,ee,K);if(he)return"boolean"==typeof he?void 0:he}}}function f(ue,oe){R.P.registerCommand(ue,function(ee,...K){const[ne,he]=K;(0,I.p_)(U.o.isUri(ne)),(0,I.p_)(O.L.isIPosition(he));const ge=ee.get(k.q).getModel(ne);if(ge){const re=O.L.lift(he);return oe(ge,re,...K.slice(2))}return ee.get($.S).createModelReference(ne).then(re=>new Promise((ye,ke)=>{try{ye(oe(re.object.textEditorModel,O.L.lift(he),K.slice(2)))}catch(xe){ke(xe)}}).finally(()=>{re.dispose()}))})}function m(ue,oe){R.P.registerCommand(ue,function(ee,...K){const[ne]=K;(0,I.p_)(U.o.isUri(ne));const he=ee.get(k.q).getModel(ne);return he?oe(he,...K.slice(1)):ee.get($.S).createModelReference(ne).then(ge=>new Promise((re,ye)=>{try{re(oe(ge.object.textEditorModel,K.slice(1)))}catch(ke){ye(ke)}}).finally(()=>{ge.dispose()}))})}function L(ue){return be.INSTANCE.registerEditorCommand(ue),ue}function F(ue){const oe=new ue;return be.INSTANCE.registerEditorAction(oe),oe}function G(ue){return be.INSTANCE.registerEditorAction(ue),ue}function Y(ue){be.INSTANCE.registerEditorAction(ue)}function de(ue,oe){be.INSTANCE.registerEditorContribution(ue,oe)}(ue=le||(le={})).getEditorCommand=function(ge){return be.INSTANCE.getEditorCommand(ge)},ue.getEditorActions=function(){return be.INSTANCE.getEditorActions()},ue.getEditorContributions=function(){return be.INSTANCE.getEditorContributions()},ue.getSomeEditorContributions=function(ge){return be.INSTANCE.getEditorContributions().filter(re=>ge.indexOf(re.id)>=0)},ue.getDiffEditorContributions=function(){return be.INSTANCE.getDiffEditorContributions()};class be{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(oe,ee){this.editorContributions.push({id:oe,ctor:ee})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(oe){oe.register(),this.editorActions.push(oe)}getEditorActions(){return this.editorActions.slice(0)}registerEditorCommand(oe){oe.register(),this.editorCommands[oe.id]=oe}getEditorCommand(oe){return this.editorCommands[oe]||null}}function N(ue){return ue.register(),ue}be.INSTANCE=new be,g.B.add("editor.contributions",be.INSTANCE);const V=N(new E({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2104},menuOpts:[{menuId:B.eH.MenubarEditMenu,group:"1_do",title:T.N({key:"miUndo",comment:["&& denotes a mnemonic"]},"&&Undo"),order:1},{menuId:B.eH.CommandPalette,group:"",title:T.N("undo","Undo"),order:1}]}));N(new S(V,{id:"default:undo",precondition:void 0}));const Z=N(new E({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2103,secondary:[3128],mac:{primary:3128}},menuOpts:[{menuId:B.eH.MenubarEditMenu,group:"1_do",title:T.N({key:"miRedo",comment:["&& denotes a mnemonic"]},"&&Redo"),order:2},{menuId:B.eH.CommandPalette,group:"",title:T.N("redo","Redo"),order:1}]}));N(new S(Z,{id:"default:redo",precondition:void 0}));const ie=N(new E({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2079},menuOpts:[{menuId:B.eH.MenubarSelectionMenu,group:"1_basic",title:T.N({key:"miSelectAll",comment:["&& denotes a mnemonic"]},"&&Select All"),order:1},{menuId:B.eH.CommandPalette,group:"",title:T.N("selectAll","Select All"),order:1}]}))},2168:(Ct,Qe,a)=>{"use strict";a.d(Qe,{vu:()=>O,fo:()=>B,Gl:()=>R});var T=a(4562),U=a(6746),j=a(1882);const O=(0,T.yh)("IWorkspaceEditService");class B{constructor(g){this.metadata=g}static convert(g){return g.edits.map(b=>{if((0,j.Kn)(C=b)&&U.o.isUri(C.resource)&&(0,j.Kn)(C.edit))return new R(b.resource,b.edit,b.modelVersionId,b.metadata);var C;if(function(C){return(0,j.Kn)(C)&&(Boolean(C.newUri)||Boolean(C.oldUri))}(b))return new d(b.oldUri,b.newUri,b.options,b.metadata);throw new Error("Unsupported edit")})}}class R extends B{constructor(g,b,I,p){super(p),this.resource=g,this.textEdit=b,this.versionId=I}}class d extends B{constructor(g,b,I,p){super(p),this.oldResource=g,this.newResource=b,this.options=I}}},3779:(Ct,Qe,a)=>{"use strict";a.d(Qe,{$:()=>U});const U=(0,a(4562).yh)("codeEditorService")},3741:(Ct,Qe,a)=>{"use strict";a.d(Qe,{Gm:()=>Ga});var T=a(7838),U=a(4482);let k=class{constructor(r,c){}dispose(){}};var r;k.ID="editor.contrib.markerDecorations",k=function(yt,r,c,y){var ae,W=arguments.length,z=W<3?r:null===y?y=Object.getOwnPropertyDescriptor(r,c):y;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)z=Reflect.decorate(yt,r,c,y);else for(var Me=yt.length-1;Me>=0;Me--)(ae=yt[Me])&&(z=(W<3?ae(z):W>3?ae(r,c,z):ae(r,c))||z);return W>3&&z&&Object.defineProperty(r,c,z),z}([(1,r=T.i,function(c,y){r(c,y,1)})],k),(0,U._K)(k.ID,k),a(8267);var B=a(1606),R=a(1165),d=a(5160),C=a(6723),g=a(1719),b=a(6857),I=a(1558),p=a(3779),w=a(4991),E=a(9730),S=a(2874),v=a(9190),M=a(1745),_=a(7631),f=a(7922),m=a(3058);class L{constructor(r,c){this.x=r,this.y=c,this._pageCoordinatesBrand=void 0}toClientCoordinates(){return new F(this.x-R.DI.scrollX,this.y-R.DI.scrollY)}}class F{constructor(r,c){this.clientX=r,this.clientY=c,this._clientCoordinatesBrand=void 0}toPageCoordinates(){return new L(this.clientX+R.DI.scrollX,this.clientY+R.DI.scrollY)}}class G{constructor(r,c,y,W){this.x=r,this.y=c,this.width=y,this.height=W,this._editorPagePositionBrand=void 0}}function Y(yt){const r=R.i(yt);return new G(r.left,r.top,r.width,r.height)}class de extends _.n{constructor(r,c){super(r),this._editorMouseEventBrand=void 0,this.pos=new L(this.posx,this.posy),this.editorPos=Y(c)}}class le{constructor(r){this._editorViewDomNode=r}_create(r){return new de(r,this._editorViewDomNode)}onContextMenu(r,c){return R.nm(r,"contextmenu",y=>{c(this._create(y))})}onMouseUp(r,c){return R.nm(r,"mouseup",y=>{c(this._create(y))})}onMouseDown(r,c){return R.nm(r,"mousedown",y=>{c(this._create(y))})}onMouseLeave(r,c){return R.j_(r,y=>{c(this._create(y))})}onMouseMoveThrottled(r,c,y,W){return R.Y_(r,"mousemove",c,(ae,Me)=>y(ae,this._create(Me)),W)}}class ce{constructor(r){this._editorViewDomNode=r}_create(r){return new de(r,this._editorViewDomNode)}onPointerUp(r,c){return R.nm(r,"pointerup",y=>{c(this._create(y))})}onPointerDown(r,c){return R.nm(r,"pointerdown",y=>{c(this._create(y))})}onPointerLeave(r,c){return R.RE(r,y=>{c(this._create(y))})}onPointerMoveThrottled(r,c,y,W){return R.Y_(r,"pointermove",c,(ae,Me)=>y(ae,this._create(Me)),W)}}class be extends g.JT{constructor(r){super(),this._editorViewDomNode=r,this._globalMouseMoveMonitor=this._register(new m.Z),this._keydownListener=null}startMonitoring(r,c,y,W,z){this._keydownListener=R.mu(document,"keydown",Me=>{Me.toKeybinding().isModifierKey()||this._globalMouseMoveMonitor.stopMonitoring(!0,Me.browserEvent)},!0),this._globalMouseMoveMonitor.startMonitoring(r,c,(Me,je)=>y(Me,new de(je,this._editorViewDomNode)),W,Me=>{this._keydownListener.dispose(),z(Me)})}stopMonitoring(){this._globalMouseMoveMonitor.stopMonitoring(!0)}}class N extends g.JT{constructor(){super(),this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(r){return!1}onCompositionEnd(r){return!1}onConfigurationChanged(r){return!1}onCursorStateChanged(r){return!1}onDecorationsChanged(r){return!1}onFlushed(r){return!1}onFocusChanged(r){return!1}onLanguageConfigurationChanged(r){return!1}onLineMappingChanged(r){return!1}onLinesChanged(r){return!1}onLinesDeleted(r){return!1}onLinesInserted(r){return!1}onRevealRangeRequest(r){return!1}onScrollChanged(r){return!1}onThemeChanged(r){return!1}onTokensChanged(r){return!1}onTokensColorsChanged(r){return!1}onZonesChanged(r){return!1}handleEvents(r){let c=!1;for(let y=0,W=r.length;y<W;y++){let z=r[y];switch(z.type){case 0:this.onCompositionStart(z)&&(c=!0);break;case 1:this.onCompositionEnd(z)&&(c=!0);break;case 2:this.onConfigurationChanged(z)&&(c=!0);break;case 3:this.onCursorStateChanged(z)&&(c=!0);break;case 4:this.onDecorationsChanged(z)&&(c=!0);break;case 5:this.onFlushed(z)&&(c=!0);break;case 6:this.onFocusChanged(z)&&(c=!0);break;case 7:this.onLanguageConfigurationChanged(z)&&(c=!0);break;case 8:this.onLineMappingChanged(z)&&(c=!0);break;case 9:this.onLinesChanged(z)&&(c=!0);break;case 10:this.onLinesDeleted(z)&&(c=!0);break;case 11:this.onLinesInserted(z)&&(c=!0);break;case 12:this.onRevealRangeRequest(z)&&(c=!0);break;case 13:this.onScrollChanged(z)&&(c=!0);break;case 15:this.onTokensChanged(z)&&(c=!0);break;case 14:this.onThemeChanged(z)&&(c=!0);break;case 16:this.onTokensColorsChanged(z)&&(c=!0);break;case 17:this.onZonesChanged(z)&&(c=!0);break;default:console.info("View received unknown event: "),console.info(z)}}c&&(this._shouldRender=!0)}}class V extends N{constructor(r){super(),this._context=r,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}class Z{static write(r,c){r.setAttribute("data-mprt",String(c))}static read(r){const c=r.getAttribute("data-mprt");return null===c?0:parseInt(c,10)}static collect(r,c){let y=[],W=0;for(;r&&r!==document.body&&r!==c;)r.nodeType===r.ELEMENT_NODE&&(y[W++]=this.read(r)),r=r.parentElement;const z=new Uint8Array(W);for(let ae=0;ae<W;ae++)z[ae]=y[W-ae-1];return z}}class ue extends class{constructor(r,c){this._restrictedRenderingContextBrand=void 0,this._viewLayout=r,this.viewportData=c,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const y=this._viewLayout.getCurrentViewport();this.scrollTop=y.top,this.scrollLeft=y.left,this.viewportWidth=y.width,this.viewportHeight=y.height}getScrolledTopFromAbsoluteTop(r){return r-this.scrollTop}getVerticalOffsetForLineNumber(r){return this._viewLayout.getVerticalOffsetForLineNumber(r)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}{constructor(r,c,y){super(r,c),this._renderingContextBrand=void 0,this._viewLines=y}linesVisibleRangesForRange(r,c){return this._viewLines.linesVisibleRangesForRange(r,c)}visibleRangeForPosition(r){return this._viewLines.visibleRangeForPosition(r)}}class oe{constructor(r,c,y){this.outsideRenderedLine=r,this.lineNumber=c,this.ranges=y}}class ee{constructor(r,c){this.left=Math.round(r),this.width=Math.round(c)}toString(){return`[${this.left},${this.width}]`}}class K{constructor(r,c){this.outsideRenderedLine=r,this.left=Math.round(c)}}class ne{constructor(r,c){this.outsideRenderedLine=r,this.ranges=c}}class he{constructor(r,c){this._floatHorizontalRangeBrand=void 0,this.left=r,this.width=c}toString(){return`[${this.left},${this.width}]`}static compare(r,c){return r.left-c.left}}class ge{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(r,c){r.selectNodeContents(c)}static _readClientRects(r,c,y,W,z){const ae=this._createRange();try{return ae.setStart(r,c),ae.setEnd(y,W),ae.getClientRects()}catch(Me){return null}finally{this._detachRange(ae,z)}}static _mergeAdjacentRanges(r){if(1===r.length)return[new ee(r[0].left,r[0].width)];r.sort(he.compare);let c=[],y=0,W=r[0].left,z=r[0].width;for(let ae=1,Me=r.length;ae<Me;ae++){const je=r[ae],lt=je.left,gt=je.width;W+z+.9>=lt?z=Math.max(z,lt+gt-W):(c[y++]=new ee(W,z),W=lt,z=gt)}return c[y++]=new ee(W,z),c}static _createHorizontalRangesFromClientRects(r,c){if(!r||0===r.length)return null;const y=[];for(let W=0,z=r.length;W<z;W++){const ae=r[W];y[W]=new he(Math.max(0,ae.left-c),ae.width)}return this._mergeAdjacentRanges(y)}static readHorizontalRanges(r,c,y,W,z,ae,Me){const lt=r.children.length-1;if(0>lt)return null;if((c=Math.min(lt,Math.max(0,c)))===(W=Math.min(lt,Math.max(0,W)))&&y===z&&0===y&&!r.children[c].firstChild){const Gt=r.children[c].getClientRects();return this._createHorizontalRangesFromClientRects(Gt,ae)}c!==W&&W>0&&0===z&&(W--,z=1073741824);let gt=r.children[c].firstChild,St=r.children[W].firstChild;if((!gt||!St)&&(!gt&&0===y&&c>0&&(gt=r.children[c-1].firstChild,y=1073741824),!St&&0===z&&W>0&&(St=r.children[W-1].firstChild,z=1073741824)),!gt||!St)return null;y=Math.min(gt.textContent.length,Math.max(0,y)),z=Math.min(St.textContent.length,Math.max(0,z));const Xt=this._readClientRects(gt,y,St,z,Me);return this._createHorizontalRangesFromClientRects(Xt,ae)}}var re=a(9880),ye=a(712),ke=a(786),xe=a(4103);const Pe=!!v.tY||!(v.IJ||w.vU||w.G6);let fe=!0;class Te{constructor(r,c){this._domNode=r,this._clientRectDeltaLeft=0,this._clientRectDeltaLeftRead=!1,this.endNode=c}get clientRectDeltaLeft(){return this._clientRectDeltaLeftRead||(this._clientRectDeltaLeftRead=!0,this._clientRectDeltaLeft=this._domNode.getBoundingClientRect().left),this._clientRectDeltaLeft}}class Ce{constructor(r,c){this.themeType=c;const y=r.options,W=y.get(40);this.renderWhitespace=y.get(86),this.renderControlCharacters=y.get(80),this.spaceWidth=W.spaceWidth,this.middotWidth=W.middotWidth,this.wsmiddotWidth=W.wsmiddotWidth,this.useMonospaceOptimizations=W.isMonospace&&!y.get(27),this.canUseHalfwidthRightwardsArrow=W.canUseHalfwidthRightwardsArrow,this.lineHeight=y.get(56),this.stopRenderingLineAfter=y.get(103),this.fontLigatures=y.get(41)}equals(r){return this.themeType===r.themeType&&this.renderWhitespace===r.renderWhitespace&&this.renderControlCharacters===r.renderControlCharacters&&this.spaceWidth===r.spaceWidth&&this.middotWidth===r.middotWidth&&this.wsmiddotWidth===r.wsmiddotWidth&&this.useMonospaceOptimizations===r.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===r.canUseHalfwidthRightwardsArrow&&this.lineHeight===r.lineHeight&&this.stopRenderingLineAfter===r.stopRenderingLineAfter&&this.fontLigatures===r.fontLigatures}}let Je=(()=>{class yt{constructor(c){this._options=c,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(c){if(!this._renderedViewLine)throw new Error("I have no rendered view line to set the dom node to...");this._renderedViewLine.domNode=(0,S.X)(c)}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(c){this._isMaybeInvalid=!0,this._options=c}onSelectionChanged(){return(this._options.themeType===ke.e.HIGH_CONTRAST||"selection"===this._options.renderWhitespace)&&(this._isMaybeInvalid=!0,!0)}renderLine(c,y,W,z){if(!1===this._isMaybeInvalid)return!1;this._isMaybeInvalid=!1;const ae=W.getViewLineRenderingData(c),Me=this._options,je=re.Kp.filter(ae.inlineDecorations,c,ae.minColumn,ae.maxColumn);let lt=null;if(Me.themeType===ke.e.HIGH_CONTRAST||"selection"===this._options.renderWhitespace){const Gt=W.selections;for(const an of Gt){if(an.endLineNumber<c||an.startLineNumber>c)continue;const dn=an.startLineNumber===c?an.startColumn:ae.minColumn,Tn=an.endLineNumber===c?an.endColumn:ae.maxColumn;dn<Tn&&(Me.themeType===ke.e.HIGH_CONTRAST||"selection"!==this._options.renderWhitespace?je.push(new re.Kp(dn,Tn,"inline-selected-text",0)):(lt||(lt=[]),lt.push(new ye.zG(dn-1,Tn-1))))}}const gt=new ye.IJ(Me.useMonospaceOptimizations,Me.canUseHalfwidthRightwardsArrow,ae.content,ae.continuesWithWrappedLine,ae.isBasicASCII,ae.containsRTL,ae.minColumn-1,ae.tokens,je,ae.tabSize,ae.startVisibleColumn,Me.spaceWidth,Me.middotWidth,Me.wsmiddotWidth,Me.stopRenderingLineAfter,Me.renderWhitespace,Me.renderControlCharacters,Me.fontLigatures!==xe.n0.OFF,lt);if(this._renderedViewLine&&this._renderedViewLine.input.equals(gt))return!1;z.appendASCIIString('<div style="top:'),z.appendASCIIString(String(y)),z.appendASCIIString("px;height:"),z.appendASCIIString(String(this._options.lineHeight)),z.appendASCIIString('px;" class="'),z.appendASCIIString(yt.CLASS_NAME),z.appendASCIIString('">');const St=(0,ye.d1)(gt,z);z.appendASCIIString("</div>");let Xt=null;return fe&&Pe&&ae.isBasicASCII&&Me.useMonospaceOptimizations&&0===St.containsForeignElements&&ae.content.length<300&&gt.lineTokens.getCount()<100&&(Xt=new pe(this._renderedViewLine?this._renderedViewLine.domNode:null,gt,St.characterMapping)),Xt||(Xt=Ee(this._renderedViewLine?this._renderedViewLine.domNode:null,gt,St.characterMapping,St.containsRTL,St.containsForeignElements)),this._renderedViewLine=Xt,!0}layoutLine(c,y){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(y),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))}getWidth(){return this._renderedViewLine?this._renderedViewLine.getWidth():0}getWidthIsFast(){return!this._renderedViewLine||this._renderedViewLine.getWidthIsFast()}needsMonospaceFontCheck(){return!!this._renderedViewLine&&this._renderedViewLine instanceof pe}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof pe?this._renderedViewLine.monospaceAssumptionsAreValid():fe}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof pe&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(c,y,W){if(!this._renderedViewLine)return null;c|=0,y|=0,c=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,c)),y=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,y));const z=0|this._renderedViewLine.input.stopRenderingLineAfter;let ae=!1;-1!==z&&c>z+1&&y>z+1&&(ae=!0),-1!==z&&c>z+1&&(c=z+1),-1!==z&&y>z+1&&(y=z+1);const Me=this._renderedViewLine.getVisibleRangesForRange(c,y,W);return Me&&Me.length>0?new ne(ae,Me):null}getColumnOfNodeOffset(c,y,W){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(c,y,W):1}}return yt.CLASS_NAME="view-line",yt})();class pe{constructor(r,c,y){this.domNode=r,this.input=c,this._characterMapping=y,this._charWidth=c.spaceWidth}getWidth(){return this._getCharPosition(this._characterMapping.length)}getWidthIsFast(){return!0}monospaceAssumptionsAreValid(){if(!this.domNode)return fe;const r=this.getWidth();return Math.abs(r-this.domNode.domNode.firstChild.offsetWidth)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),fe=!1),fe}toSlowRenderedLine(){return Ee(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(r,c,y){const W=this._getCharPosition(r),z=this._getCharPosition(c);return[new ee(W,z-W)]}_getCharPosition(r){const c=this._characterMapping.getAbsoluteOffset(r);return Math.round(this._charWidth*c)}getColumnOfNodeOffset(r,c,y){const W=c.textContent.length;let z=-1;for(;c;)c=c.previousSibling,z++;return this._characterMapping.getColumn(new ye.Nd(z,y),W)}}class Ve{constructor(r,c,y,W,z){if(this.domNode=r,this.input=c,this._characterMapping=y,this._isWhitespaceOnly=/^\s*$/.test(c.lineContent),this._containsForeignElements=z,this._cachedWidth=-1,this._pixelOffsetCache=null,!W||0===this._characterMapping.length){this._pixelOffsetCache=new Int32Array(Math.max(2,this._characterMapping.length+1));for(let ae=0,Me=this._characterMapping.length;ae<=Me;ae++)this._pixelOffsetCache[ae]=-1}}_getReadingTarget(r){return r.domNode.firstChild}getWidth(){return this.domNode?(-1===this._cachedWidth&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth),this._cachedWidth):0}getWidthIsFast(){return-1!==this._cachedWidth}getVisibleRangesForRange(r,c,y){if(!this.domNode)return null;if(null!==this._pixelOffsetCache){const W=this._readPixelOffset(this.domNode,r,y);if(-1===W)return null;const z=this._readPixelOffset(this.domNode,c,y);return-1===z?null:[new ee(W,z-W)]}return this._readVisibleRangesForRange(this.domNode,r,c,y)}_readVisibleRangesForRange(r,c,y,W){if(c===y){const z=this._readPixelOffset(r,c,W);return-1===z?null:[new ee(z,0)]}return this._readRawVisibleRangesForRange(r,c,y,W)}_readPixelOffset(r,c,y){if(0===this._characterMapping.length){if(0===this._containsForeignElements||2===this._containsForeignElements)return 0;if(1===this._containsForeignElements)return this.getWidth();const W=this._getReadingTarget(r);return W.firstChild?W.firstChild.offsetWidth:0}if(null!==this._pixelOffsetCache){const W=this._pixelOffsetCache[c];if(-1!==W)return W;const z=this._actualReadPixelOffset(r,c,y);return this._pixelOffsetCache[c]=z,z}return this._actualReadPixelOffset(r,c,y)}_actualReadPixelOffset(r,c,y){if(0===this._characterMapping.length){const Me=ge.readHorizontalRanges(this._getReadingTarget(r),0,0,0,0,y.clientRectDeltaLeft,y.endNode);return Me&&0!==Me.length?Me[0].left:-1}if(c===this._characterMapping.length&&this._isWhitespaceOnly&&0===this._containsForeignElements)return this.getWidth();const W=this._characterMapping.getDomPosition(c),z=ge.readHorizontalRanges(this._getReadingTarget(r),W.partIndex,W.charIndex,W.partIndex,W.charIndex,y.clientRectDeltaLeft,y.endNode);if(!z||0===z.length)return-1;const ae=z[0].left;if(this.input.isBasicASCII){const Me=this._characterMapping.getAbsoluteOffset(c),je=Math.round(this.input.spaceWidth*Me);if(Math.abs(je-ae)<=1)return je}return ae}_readRawVisibleRangesForRange(r,c,y,W){if(1===c&&y===this._characterMapping.length)return[new ee(0,this.getWidth())];const z=this._characterMapping.getDomPosition(c),ae=this._characterMapping.getDomPosition(y);return ge.readHorizontalRanges(this._getReadingTarget(r),z.partIndex,z.charIndex,ae.partIndex,ae.charIndex,W.clientRectDeltaLeft,W.endNode)}getColumnOfNodeOffset(r,c,y){const W=c.textContent.length;let z=-1;for(;c;)c=c.previousSibling,z++;return this._characterMapping.getColumn(new ye.Nd(z,y),W)}}class Ae extends Ve{_readVisibleRangesForRange(r,c,y,W){const z=super._readVisibleRangesForRange(r,c,y,W);if(!z||0===z.length||c===y||1===c&&y===this._characterMapping.length)return z;if(!this.input.containsRTL){const ae=this._readPixelOffset(r,y,W);if(-1!==ae){const Me=z[z.length-1];Me.left<ae&&(Me.width=ae-Me.left)}}return z}}const Ee=w.Pf?function(yt,r,c,y,W){return new Ae(yt,r,c,y,W)}:function(yt,r,c,y,W){return new Ve(yt,r,c,y,W)};var Ge,Ue=a(2109),ot=a(8487),vt=a(5),At=a(5078);class ve{constructor(r=null){this.hitTarget=r,this.type=0}}class ht{constructor(r,c){this.position=r,this.spanNode=c,this.type=1}}!function(yt){yt.createFromDOMInfo=function(c,y,W){const z=c.getPositionFromDOMInfo(y,W);return z?new ht(z,y):new ve(y)}}(Ge||(Ge={}));class De{constructor(r,c){this.lastViewCursorsRenderData=r,this.lastTextareaPosition=c}}class Le{constructor(r,c,y=0,W=null,z=null,ae=null){this.element=r,this.type=c,this.mouseColumn=y,this.position=W,!z&&W&&(z=new ot.e(W.lineNumber,W.column,W.lineNumber,W.column)),this.range=z,this.detail=ae}static _typeToString(r){return 1===r?"TEXTAREA":2===r?"GUTTER_GLYPH_MARGIN":3===r?"GUTTER_LINE_NUMBERS":4===r?"GUTTER_LINE_DECORATIONS":5===r?"GUTTER_VIEW_ZONE":6===r?"CONTENT_TEXT":7===r?"CONTENT_EMPTY":8===r?"CONTENT_VIEW_ZONE":9===r?"CONTENT_WIDGET":10===r?"OVERVIEW_RULER":11===r?"SCROLLBAR":12===r?"OVERLAY_WIDGET":"UNKNOWN"}static toString(r){return this._typeToString(r.type)+": "+r.position+" - "+r.range+" - "+r.detail}toString(){return Le.toString(this)}}class dt{static isTextArea(r){return 2===r.length&&3===r[0]&&6===r[1]}static isChildOfViewLines(r){return r.length>=4&&3===r[0]&&7===r[3]}static isStrictChildOfViewLines(r){return r.length>4&&3===r[0]&&7===r[3]}static isChildOfScrollableElement(r){return r.length>=2&&3===r[0]&&5===r[1]}static isChildOfMinimap(r){return r.length>=2&&3===r[0]&&8===r[1]}static isChildOfContentWidgets(r){return r.length>=4&&3===r[0]&&1===r[3]}static isChildOfOverflowingContentWidgets(r){return r.length>=1&&2===r[0]}static isChildOfOverlayWidgets(r){return r.length>=2&&3===r[0]&&4===r[1]}}class _t{constructor(r,c,y){this.model=r.model;const W=r.configuration.options;this.layoutInfo=W.get(128),this.viewDomNode=c.viewDomNode,this.lineHeight=W.get(56),this.stickyTabStops=W.get(102),this.typicalHalfwidthCharacterWidth=W.get(40).typicalHalfwidthCharacterWidth,this.lastRenderData=y,this._context=r,this._viewHelper=c}getZoneAtCoord(r){return _t.getZoneAtCoord(this._context,r)}static getZoneAtCoord(r,c){const y=r.viewLayout.getWhitespaceAtVerticalOffset(c);if(y){const W=y.verticalOffset+y.height/2,z=r.model.getLineCount();let Me,ae=null,je=null;return y.afterLineNumber!==z&&(je=new Ue.L(y.afterLineNumber+1,1)),y.afterLineNumber>0&&(ae=new Ue.L(y.afterLineNumber,r.model.getLineMaxColumn(y.afterLineNumber))),Me=null===je?ae:null===ae?je:c<W?ae:je,{viewZoneId:y.id,afterLineNumber:y.afterLineNumber,positionBefore:ae,positionAfter:je,position:Me}}return null}getFullLineRangeAtCoord(r){if(this._context.viewLayout.isAfterLines(r)){const W=this._context.model.getLineCount(),z=this._context.model.getLineMaxColumn(W);return{range:new ot.e(W,z,W,z),isAfterLines:!0}}const c=this._context.viewLayout.getLineNumberAtVerticalOffset(r),y=this._context.model.getLineMaxColumn(c);return{range:new ot.e(c,1,c,y),isAfterLines:!1}}getLineNumberAtVerticalOffset(r){return this._context.viewLayout.getLineNumberAtVerticalOffset(r)}isAfterLines(r){return this._context.viewLayout.isAfterLines(r)}isInTopPadding(r){return this._context.viewLayout.isInTopPadding(r)}isInBottomPadding(r){return this._context.viewLayout.isInBottomPadding(r)}getVerticalOffsetForLineNumber(r){return this._context.viewLayout.getVerticalOffsetForLineNumber(r)}findAttribute(r,c){return _t._findAttribute(r,c,this._viewHelper.viewDomNode)}static _findAttribute(r,c,y){for(;r&&r!==document.body;){if(r.hasAttribute&&r.hasAttribute(c))return r.getAttribute(c);if(r===y)return null;r=r.parentNode}return null}getLineWidth(r){return this._viewHelper.getLineWidth(r)}visibleRangeForPosition(r,c){return this._viewHelper.visibleRangeForPosition(r,c)}getPositionFromDOMInfo(r,c){return this._viewHelper.getPositionFromDOMInfo(r,c)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}class zt extends class{constructor(r,c,y){this.editorPos=c,this.pos=y,this.mouseVerticalOffset=Math.max(0,r.getCurrentScrollTop()+y.y-c.y),this.mouseContentHorizontalOffset=r.getCurrentScrollLeft()+y.x-c.x-r.layoutInfo.contentLeft,this.isInMarginArea=y.x-c.x<r.layoutInfo.contentLeft&&y.x-c.x>=r.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,Ht._getMouseColumn(this.mouseContentHorizontalOffset,r.typicalHalfwidthCharacterWidth))}}{constructor(r,c,y,W){super(r,c,y),this._ctx=r,W?(this.target=W,this.targetPath=Z.collect(W,r.viewDomNode)):(this.target=null,this.targetPath=new Uint8Array(0))}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}\n\ttarget: ${this.target?this.target.outerHTML:null}`}fulfill(r,c=null,y=null,W=null){let z=this.mouseColumn;return c&&c.column<this._ctx.model.getLineMaxColumn(c.lineNumber)&&(z=vt.io.visibleColumnFromColumn(this._ctx.model.getLineContent(c.lineNumber),c.column,this._ctx.model.getTextModelOptions().tabSize)+1),new Le(this.target,r,z,c,y,W)}withTarget(r){return new zt(this._ctx,this.editorPos,this.pos,r)}}const pn={isAfterLines:!0};function Qt(yt){return{isAfterLines:!1,horizontalDistanceToText:yt}}class Ht{constructor(r,c){this._context=r,this._viewHelper=c}mouseTargetIsWidget(r){const y=Z.collect(r.target,this._viewHelper.viewDomNode);return!!(dt.isChildOfContentWidgets(y)||dt.isChildOfOverflowingContentWidgets(y)||dt.isChildOfOverlayWidgets(y))}createMouseTarget(r,c,y,W){const z=new _t(this._context,this._viewHelper,r),ae=new zt(z,c,y,W);try{return Ht._createMouseTarget(z,ae,!1)}catch(Me){return ae.fulfill(0)}}static _createMouseTarget(r,c,y){if(null===c.target){if(y)return c.fulfill(0);const ae=Ht._doHitTest(r,c);return 1===ae.type?Ht.createMouseTargetFromHitTestPosition(r,c,ae.spanNode,ae.position):this._createMouseTarget(r,c.withTarget(ae.hitTarget),!0)}const W=c;let z=null;return z=z||Ht._hitTestContentWidget(r,W),z=z||Ht._hitTestOverlayWidget(r,W),z=z||Ht._hitTestMinimap(r,W),z=z||Ht._hitTestScrollbarSlider(r,W),z=z||Ht._hitTestViewZone(r,W),z=z||Ht._hitTestMargin(r,W),z=z||Ht._hitTestViewCursor(r,W),z=z||Ht._hitTestTextArea(r,W),z=z||Ht._hitTestViewLines(r,W,y),z=z||Ht._hitTestScrollbar(r,W),z||c.fulfill(0)}static _hitTestContentWidget(r,c){if(dt.isChildOfContentWidgets(c.targetPath)||dt.isChildOfOverflowingContentWidgets(c.targetPath)){const y=r.findAttribute(c.target,"widgetId");return y?c.fulfill(9,null,null,y):c.fulfill(0)}return null}static _hitTestOverlayWidget(r,c){if(dt.isChildOfOverlayWidgets(c.targetPath)){const y=r.findAttribute(c.target,"widgetId");return y?c.fulfill(12,null,null,y):c.fulfill(0)}return null}static _hitTestViewCursor(r,c){if(c.target){const y=r.lastRenderData.lastViewCursorsRenderData;for(const W of y)if(c.target===W.domNode)return c.fulfill(6,W.position,null,{mightBeForeignElement:!1})}if(c.isInContentArea){const y=r.lastRenderData.lastViewCursorsRenderData,W=c.mouseContentHorizontalOffset,z=c.mouseVerticalOffset;for(const ae of y){if(W<ae.contentLeft||W>ae.contentLeft+ae.width)continue;const Me=r.getVerticalOffsetForLineNumber(ae.position.lineNumber);if(Me<=z&&z<=Me+ae.height)return c.fulfill(6,ae.position,null,{mightBeForeignElement:!1})}}return null}static _hitTestViewZone(r,c){const y=r.getZoneAtCoord(c.mouseVerticalOffset);return y?c.fulfill(c.isInContentArea?8:5,y.position,null,y):null}static _hitTestTextArea(r,c){return dt.isTextArea(c.targetPath)?r.lastRenderData.lastTextareaPosition?c.fulfill(6,r.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1}):c.fulfill(1,r.lastRenderData.lastTextareaPosition):null}static _hitTestMargin(r,c){if(c.isInMarginArea){const y=r.getFullLineRangeAtCoord(c.mouseVerticalOffset),W=y.range.getStartPosition();let z=Math.abs(c.pos.x-c.editorPos.x);const ae={isAfterLines:y.isAfterLines,glyphMarginLeft:r.layoutInfo.glyphMarginLeft,glyphMarginWidth:r.layoutInfo.glyphMarginWidth,lineNumbersWidth:r.layoutInfo.lineNumbersWidth,offsetX:z};return z-=r.layoutInfo.glyphMarginLeft,z<=r.layoutInfo.glyphMarginWidth?c.fulfill(2,W,y.range,ae):(z-=r.layoutInfo.glyphMarginWidth,z<=r.layoutInfo.lineNumbersWidth?c.fulfill(3,W,y.range,ae):(z-=r.layoutInfo.lineNumbersWidth,c.fulfill(4,W,y.range,ae)))}return null}static _hitTestViewLines(r,c,y){if(!dt.isChildOfViewLines(c.targetPath))return null;if(r.isInTopPadding(c.mouseVerticalOffset))return c.fulfill(7,new Ue.L(1,1),null,pn);if(r.isAfterLines(c.mouseVerticalOffset)||r.isInBottomPadding(c.mouseVerticalOffset)){const z=r.model.getLineCount(),ae=r.model.getLineMaxColumn(z);return c.fulfill(7,new Ue.L(z,ae),null,pn)}if(y){if(dt.isStrictChildOfViewLines(c.targetPath)){const z=r.getLineNumberAtVerticalOffset(c.mouseVerticalOffset);if(0===r.model.getLineLength(z)){const Me=r.getLineWidth(z),je=Qt(c.mouseContentHorizontalOffset-Me);return c.fulfill(7,new Ue.L(z,1),null,je)}const ae=r.getLineWidth(z);if(c.mouseContentHorizontalOffset>=ae){const Me=Qt(c.mouseContentHorizontalOffset-ae),je=new Ue.L(z,r.model.getLineMaxColumn(z));return c.fulfill(7,je,null,Me)}}return c.fulfill(0)}const W=Ht._doHitTest(r,c);return 1===W.type?Ht.createMouseTargetFromHitTestPosition(r,c,W.spanNode,W.position):this._createMouseTarget(r,c.withTarget(W.hitTarget),!0)}static _hitTestMinimap(r,c){if(dt.isChildOfMinimap(c.targetPath)){const y=r.getLineNumberAtVerticalOffset(c.mouseVerticalOffset),W=r.model.getLineMaxColumn(y);return c.fulfill(11,new Ue.L(y,W))}return null}static _hitTestScrollbarSlider(r,c){if(dt.isChildOfScrollableElement(c.targetPath)&&c.target&&1===c.target.nodeType){const y=c.target.className;if(y&&/\b(slider|scrollbar)\b/.test(y)){const W=r.getLineNumberAtVerticalOffset(c.mouseVerticalOffset),z=r.model.getLineMaxColumn(W);return c.fulfill(11,new Ue.L(W,z))}}return null}static _hitTestScrollbar(r,c){if(dt.isChildOfScrollableElement(c.targetPath)){const y=r.getLineNumberAtVerticalOffset(c.mouseVerticalOffset),W=r.model.getLineMaxColumn(y);return c.fulfill(11,new Ue.L(y,W))}return null}getMouseColumn(r,c){const y=this._context.configuration.options,W=y.get(128),z=this._context.viewLayout.getCurrentScrollLeft()+c.x-r.x-W.contentLeft;return Ht._getMouseColumn(z,y.get(40).typicalHalfwidthCharacterWidth)}static _getMouseColumn(r,c){return r<0?1:Math.round(r/c)+1}static createMouseTargetFromHitTestPosition(r,c,y,W){const z=W.lineNumber,ae=W.column,Me=r.getLineWidth(z);if(c.mouseContentHorizontalOffset>Me){const dn=Qt(c.mouseContentHorizontalOffset-Me);return c.fulfill(7,W,null,dn)}const je=r.visibleRangeForPosition(z,ae);if(!je)return c.fulfill(0,W);if(c.mouseContentHorizontalOffset===je.left)return c.fulfill(6,W,null,{mightBeForeignElement:!1});const gt=[];if(gt.push({offset:je.left,column:ae}),ae>1){const dn=r.visibleRangeForPosition(z,ae-1);dn&&gt.push({offset:dn.left,column:ae-1})}if(ae<r.model.getLineMaxColumn(z)){const dn=r.visibleRangeForPosition(z,ae+1);dn&&gt.push({offset:dn.left,column:ae+1})}gt.sort((dn,Tn)=>dn.offset-Tn.offset);const Xt=c.pos.toClientCoordinates(),Gt=y.getBoundingClientRect(),an=Gt.left<=Xt.clientX&&Xt.clientX<=Gt.right;for(let dn=1;dn<gt.length;dn++){const Tn=gt[dn-1],$n=gt[dn];if(Tn.offset<=c.mouseContentHorizontalOffset&&c.mouseContentHorizontalOffset<=$n.offset){const Hn=new ot.e(z,Tn.column,z,$n.column);return c.fulfill(6,W,Hn,{mightBeForeignElement:!an})}}return c.fulfill(6,W,null,{mightBeForeignElement:!an})}static _doHitTestWithCaretRangeFromPoint(r,c){const y=r.getLineNumberAtVerticalOffset(c.mouseVerticalOffset),z=r.getVerticalOffsetForLineNumber(y)+Math.floor(r.lineHeight/2);let ae=c.pos.y+(z-c.mouseVerticalOffset);ae<=c.editorPos.y&&(ae=c.editorPos.y+1),ae>=c.editorPos.y+r.layoutInfo.height&&(ae=c.editorPos.y+r.layoutInfo.height-1);const Me=new L(c.pos.x,ae),je=this._actualDoHitTestWithCaretRangeFromPoint(r,Me.toClientCoordinates());return 1===je.type?je:this._actualDoHitTestWithCaretRangeFromPoint(r,c.pos.toClientCoordinates())}static _actualDoHitTestWithCaretRangeFromPoint(r,c){const y=R.Ay(r.viewDomNode);let W;if(W=y?void 0===y.caretRangeFromPoint?function(yt,r,c){const y=document.createRange();let W=yt.elementFromPoint(r,c);if(null!==W){for(;W&&W.firstChild&&W.firstChild.nodeType!==W.firstChild.TEXT_NODE&&W.lastChild&&W.lastChild.firstChild;)W=W.lastChild;const z=W.getBoundingClientRect(),ae=window.getComputedStyle(W,null).getPropertyValue("font"),Me=W.innerText;let gt,je=z.left,lt=0;if(r>z.left+z.width)lt=Me.length;else{const St=nt.getInstance();for(let Xt=0;Xt<Me.length+1;Xt++){if(gt=St.getCharWidth(Me.charAt(Xt),ae)/2,je+=gt,r<je){lt=Xt;break}je+=gt}}y.setStart(W.firstChild,lt),y.setEnd(W.firstChild,lt)}return y}(y,c.clientX,c.clientY):y.caretRangeFromPoint(c.clientX,c.clientY):document.caretRangeFromPoint(c.clientX,c.clientY),!W||!W.startContainer)return new ve;const z=W.startContainer;if(z.nodeType===z.TEXT_NODE){const ae=z.parentNode,Me=ae?ae.parentNode:null,je=Me?Me.parentNode:null;return(je&&je.nodeType===je.ELEMENT_NODE?je.className:null)===Je.CLASS_NAME?Ge.createFromDOMInfo(r,ae,W.startOffset):new ve(z.parentNode)}if(z.nodeType===z.ELEMENT_NODE){const ae=z.parentNode,Me=ae?ae.parentNode:null;return(Me&&Me.nodeType===Me.ELEMENT_NODE?Me.className:null)===Je.CLASS_NAME?Ge.createFromDOMInfo(r,z,z.textContent.length):new ve(z)}return new ve}static _doHitTestWithCaretPositionFromPoint(r,c){const y=document.caretPositionFromPoint(c.clientX,c.clientY);if(y.offsetNode.nodeType===y.offsetNode.TEXT_NODE){const W=y.offsetNode.parentNode,z=W?W.parentNode:null,ae=z?z.parentNode:null;return(ae&&ae.nodeType===ae.ELEMENT_NODE?ae.className:null)===Je.CLASS_NAME?Ge.createFromDOMInfo(r,y.offsetNode.parentNode,y.offset):new ve(y.offsetNode.parentNode)}if(y.offsetNode.nodeType===y.offsetNode.ELEMENT_NODE){const W=y.offsetNode.parentNode,ae=W?W.parentNode:null,Me=ae&&ae.nodeType===ae.ELEMENT_NODE?ae.className:null;if((W&&W.nodeType===W.ELEMENT_NODE?W.className:null)===Je.CLASS_NAME){const je=y.offsetNode.childNodes[Math.min(y.offset,y.offsetNode.childNodes.length-1)];if(je)return Ge.createFromDOMInfo(r,je,0)}else if(Me===Je.CLASS_NAME)return Ge.createFromDOMInfo(r,y.offsetNode,0)}return new ve(y.offsetNode)}static _snapToSoftTabBoundary(r,c){const y=c.getLineContent(r.lineNumber),{tabSize:W}=c.getTextModelOptions(),z=At.l.atomicPosition(y,r.column-1,W,2);return-1!==z?new Ue.L(r.lineNumber,z+1):r}static _doHitTest(r,c){let y=new ve;return"function"==typeof document.caretRangeFromPoint?y=this._doHitTestWithCaretRangeFromPoint(r,c):document.caretPositionFromPoint&&(y=this._doHitTestWithCaretPositionFromPoint(r,c.pos.toClientCoordinates())),1===y.type&&r.stickyTabStops&&(y=new ht(this._snapToSoftTabBoundary(y.position,r.model),y.spanNode)),y}}let nt=(()=>{class yt{constructor(){this._cache={},this._canvas=document.createElement("canvas")}static getInstance(){return yt._INSTANCE||(yt._INSTANCE=new yt),yt._INSTANCE}getCharWidth(c,y){const W=c+y;if(this._cache[W])return this._cache[W];const z=this._canvas.getContext("2d");z.font=y;const Me=z.measureText(c).width;return this._cache[W]=Me,Me}}return yt._INSTANCE=null,yt})();var bt=a(2303);function Rt(yt){return function(r,c){let y=!1;return yt&&(y=yt.mouseTargetIsWidget(c)),y||c.preventDefault(),c}}let Dt=(()=>{class yt extends N{constructor(c,y,W){super(),this._context=c,this.viewController=y,this.viewHelper=W,this.mouseTargetFactory=new Ht(this._context,W),this._mouseDownOperation=this._register(new Xe(this._context,this.viewController,this.viewHelper,(Me,je)=>this._createMouseTarget(Me,je),Me=>this._getMouseColumn(Me))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(128).height;const z=new le(this.viewHelper.viewDomNode);this._register(z.onContextMenu(this.viewHelper.viewDomNode,Me=>this._onContextMenu(Me,!0))),this._register(z.onMouseMoveThrottled(this.viewHelper.viewDomNode,Me=>this._onMouseMove(Me),Rt(this.mouseTargetFactory),yt.MOUSE_MOVE_MINIMUM_TIME)),this._register(z.onMouseUp(this.viewHelper.viewDomNode,Me=>this._onMouseUp(Me))),this._register(z.onMouseLeave(this.viewHelper.viewDomNode,Me=>this._onMouseLeave(Me))),this._register(z.onMouseDown(this.viewHelper.viewDomNode,Me=>this._onMouseDown(Me))),this._register(R.nm(this.viewHelper.viewDomNode,R.tw.MOUSE_WHEEL,Me=>{if(this.viewController.emitMouseWheel(Me),!this._context.configuration.options.get(65))return;const je=new _.q(Me);if(v.dz?(Me.metaKey||Me.ctrlKey)&&!Me.shiftKey&&!Me.altKey:Me.ctrlKey&&!Me.metaKey&&!Me.shiftKey&&!Me.altKey){const gt=bt.C.getZoomLevel();bt.C.setZoomLevel(gt+(je.deltaY>0?1:-1)),je.preventDefault(),je.stopPropagation()}},{capture:!0,passive:!1})),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(c){if(c.hasChanged(128)){const y=this._context.configuration.options.get(128).height;this._height!==y&&(this._height=y,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(c){return this._mouseDownOperation.onCursorStateChanged(c),!1}onFocusChanged(c){return!1}onScrollChanged(c){return this._mouseDownOperation.onScrollChanged(),!1}getTargetAtClientPoint(c,y){const z=new F(c,y).toPageCoordinates(),ae=Y(this.viewHelper.viewDomNode);return z.y<ae.y||z.y>ae.y+ae.height||z.x<ae.x||z.x>ae.x+ae.width?null:this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),ae,z,null)}_createMouseTarget(c,y){return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),c.editorPos,c.pos,y?c.target:null)}_getMouseColumn(c){return this.mouseTargetFactory.getMouseColumn(c.editorPos,c.pos)}_onContextMenu(c,y){this.viewController.emitContextMenu({event:c,target:this._createMouseTarget(c,y)})}_onMouseMove(c){this._mouseDownOperation.isActive()||c.timestamp<this.lastMouseLeaveTime||this.viewController.emitMouseMove({event:c,target:this._createMouseTarget(c,!0)})}_onMouseLeave(c){this.lastMouseLeaveTime=(new Date).getTime(),this.viewController.emitMouseLeave({event:c,target:null})}_onMouseUp(c){this.viewController.emitMouseUp({event:c,target:this._createMouseTarget(c,!0)})}_onMouseDown(c){const y=this._createMouseTarget(c,!0),W=6===y.type||7===y.type,z=2===y.type||3===y.type||4===y.type,ae=3===y.type,Me=this._context.configuration.options.get(96),je=8===y.type||5===y.type,lt=9===y.type;let gt=c.leftButton||c.middleButton;v.dz&&c.leftButton&&c.ctrlKey&&(gt=!1);const St=()=>{c.preventDefault(),this.viewHelper.focusTextArea()};gt&&(W||ae&&Me)?(St(),this._mouseDownOperation.start(y.type,c)):z?c.preventDefault():je?this.viewHelper.shouldSuppressMouseDownOnViewZone(y.detail.viewZoneId)&&(St(),this._mouseDownOperation.start(y.type,c),c.preventDefault()):lt&&this.viewHelper.shouldSuppressMouseDownOnWidget(y.detail)&&(St(),c.preventDefault()),this.viewController.emitMouseDown({event:c,target:y})}}return yt.MOUSE_MOVE_MINIMUM_TIME=100,yt})();class Xe extends g.JT{constructor(r,c,y,W,z){super(),this._context=r,this._viewController=c,this._viewHelper=y,this._createMouseTarget=W,this._getMouseColumn=z,this._mouseMoveMonitor=this._register(new be(this._viewHelper.viewDomNode)),this._onScrollTimeout=this._register(new f._F),this._mouseState=new ft,this._currentSelection=new E.Y(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(r){this._lastMouseEvent=r,this._mouseState.setModifiers(r);const c=this._findMousePosition(r,!0);!c||(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:r,target:c}):this._dispatchMouse(c,!0))}start(r,c){this._lastMouseEvent=c,this._mouseState.setStartedOnLineNumbers(3===r),this._mouseState.setStartButtons(c),this._mouseState.setModifiers(c);const y=this._findMousePosition(c,!0);if(!y||!y.position)return;this._mouseState.trySetCount(c.detail,y.position),c.detail=this._mouseState.count;const W=this._context.configuration.options;if(!W.get(78)&&W.get(29)&&!W.get(16)&&!this._mouseState.altKey&&c.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&6===y.type&&y.position&&this._currentSelection.containsPosition(y.position))return this._mouseState.isDragAndDrop=!0,this._isActive=!0,void this._mouseMoveMonitor.startMonitoring(c.target,c.buttons,Rt(null),z=>this._onMouseDownThenMove(z),z=>{const ae=this._findMousePosition(this._lastMouseEvent,!0);z&&z instanceof KeyboardEvent?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:ae?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()});this._mouseState.isDragAndDrop=!1,this._dispatchMouse(y,c.shiftKey),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(c.target,c.buttons,Rt(null),z=>this._onMouseDownThenMove(z),()=>this._stop()))}_stop(){this._isActive=!1,this._onScrollTimeout.cancel()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onScrollChanged(){!this._isActive||this._onScrollTimeout.setIfNotSet(()=>{if(!this._lastMouseEvent)return;const r=this._findMousePosition(this._lastMouseEvent,!1);!r||this._mouseState.isDragAndDrop||this._dispatchMouse(r,!0)},10)}onCursorStateChanged(r){this._currentSelection=r.selections[0]}_getPositionOutsideEditor(r){const c=r.editorPos,y=this._context.model,W=this._context.viewLayout,z=this._getMouseColumn(r);if(r.posy<c.y){const Me=Math.max(W.getCurrentScrollTop()-(c.y-r.posy),0),je=_t.getZoneAtCoord(this._context,Me);if(je){const gt=this._helpPositionJumpOverViewZone(je);if(gt)return new Le(null,13,z,gt)}const lt=W.getLineNumberAtVerticalOffset(Me);return new Le(null,13,z,new Ue.L(lt,1))}if(r.posy>c.y+c.height){const Me=W.getCurrentScrollTop()+(r.posy-c.y),je=_t.getZoneAtCoord(this._context,Me);if(je){const gt=this._helpPositionJumpOverViewZone(je);if(gt)return new Le(null,13,z,gt)}const lt=W.getLineNumberAtVerticalOffset(Me);return new Le(null,13,z,new Ue.L(lt,y.getLineMaxColumn(lt)))}const ae=W.getLineNumberAtVerticalOffset(W.getCurrentScrollTop()+(r.posy-c.y));return r.posx<c.x?new Le(null,13,z,new Ue.L(ae,1)):r.posx>c.x+c.width?new Le(null,13,z,new Ue.L(ae,y.getLineMaxColumn(ae))):null}_findMousePosition(r,c){const y=this._getPositionOutsideEditor(r);if(y)return y;const W=this._createMouseTarget(r,c);if(!W.position)return null;if(8===W.type||5===W.type){const ae=this._helpPositionJumpOverViewZone(W.detail);if(ae)return new Le(W.element,W.type,W.mouseColumn,ae,null,W.detail)}return W}_helpPositionJumpOverViewZone(r){const c=new Ue.L(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),y=r.positionBefore,W=r.positionAfter;return y&&W?y.isBefore(c)?y:W:null}_dispatchMouse(r,c){!r.position||this._viewController.dispatchMouse({position:r.position,mouseColumn:r.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,inSelectionMode:c,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton})}}let ft=(()=>{class yt{constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}get count(){return this._lastMouseDownCount}setModifiers(c){this._altKey=c.altKey,this._ctrlKey=c.ctrlKey,this._metaKey=c.metaKey,this._shiftKey=c.shiftKey}setStartButtons(c){this._leftButton=c.leftButton,this._middleButton=c.middleButton}setStartedOnLineNumbers(c){this._startedOnLineNumbers=c}trySetCount(c,y){const W=(new Date).getTime();W-this._lastSetMouseDownCountTime>yt.CLEAR_MOUSE_DOWN_COUNT_TIME&&(c=1),this._lastSetMouseDownCountTime=W,c>this._lastMouseDownCount+1&&(c=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(y)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=y,this._lastMouseDownCount=Math.min(c,this._lastMouseDownPositionEqualCount)}}return yt.CLEAR_MOUSE_DOWN_COUNT_TIME=400,yt})();var Oe=a(1927),We=a(4110);class Ne extends Dt{constructor(r,c,y){super(r,c,y),this._register(M.o.addTarget(this.viewHelper.linesContentDomNode)),this._register(R.nm(this.viewHelper.linesContentDomNode,M.t.Tap,z=>this.onTap(z))),this._register(R.nm(this.viewHelper.linesContentDomNode,M.t.Change,z=>this.onChange(z))),this._register(R.nm(this.viewHelper.linesContentDomNode,M.t.Contextmenu,z=>this._onContextMenu(new de(z,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(R.nm(this.viewHelper.linesContentDomNode,"pointerdown",z=>{const ae=z.pointerType;this._lastPointerType="mouse"!==ae?"touch"===ae?"touch":"pen":"mouse"}));const W=new ce(this.viewHelper.viewDomNode);this._register(W.onPointerMoveThrottled(this.viewHelper.viewDomNode,z=>this._onMouseMove(z),Rt(this.mouseTargetFactory),Dt.MOUSE_MOVE_MINIMUM_TIME)),this._register(W.onPointerUp(this.viewHelper.viewDomNode,z=>this._onMouseUp(z))),this._register(W.onPointerLeave(this.viewHelper.viewDomNode,z=>this._onMouseLeave(z))),this._register(W.onPointerDown(this.viewHelper.viewDomNode,z=>this._onMouseDown(z)))}onTap(r){if(!r.initialTarget||!this.viewHelper.linesContentDomNode.contains(r.initialTarget))return;r.preventDefault(),this.viewHelper.focusTextArea();const c=this._createMouseTarget(new de(r,this.viewHelper.viewDomNode),!1);c.position&&this.viewController.dispatchMouse({position:c.position,mouseColumn:c.position.column,startedOnLineNumbers:!1,mouseDownCount:r.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1})}onChange(r){"touch"===this._lastPointerType&&this._context.model.deltaScrollNow(-r.translationX,-r.translationY)}_onMouseDown(r){"touch"!==r.browserEvent.pointerType&&super._onMouseDown(r)}}class J extends Dt{constructor(r,c,y){super(r,c,y),this._register(M.o.addTarget(this.viewHelper.linesContentDomNode)),this._register(R.nm(this.viewHelper.linesContentDomNode,M.t.Tap,W=>this.onTap(W))),this._register(R.nm(this.viewHelper.linesContentDomNode,M.t.Change,W=>this.onChange(W))),this._register(R.nm(this.viewHelper.linesContentDomNode,M.t.Contextmenu,W=>this._onContextMenu(new de(W,this.viewHelper.viewDomNode),!1)))}onTap(r){r.preventDefault(),this.viewHelper.focusTextArea();const c=this._createMouseTarget(new de(r,this.viewHelper.viewDomNode),!1);if(c.position){const y=document.createEvent("CustomEvent");y.initEvent(We.pd.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(y),this.viewController.moveTo(c.position)}}onChange(r){this._context.model.deltaScrollNow(-r.translationX,-r.translationY)}}class _e extends g.JT{constructor(r,c,y){super(),this.handler=v.gn&&Oe.D.pointerEvents?this._register(new Ne(r,c,y)):window.TouchEvent?this._register(new J(r,c,y)):this._register(new Dt(r,c,y))}getTargetAtClientPoint(r,c){return this.handler.getTargetAtClientPoint(r,c)}}a(9745);var at=a(579),Et=a(7764);a(7225);class Pt extends N{}var on=a(3258),Kt=a(6803);let bn=(()=>{class yt extends Pt{constructor(c){super(),this._context=c,this._readConfig(),this._lastCursorModelPosition=new Ue.L(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){const c=this._context.configuration.options;this._lineHeight=c.get(56);const y=c.get(57);this._renderLineNumbers=y.renderType,this._renderCustomLineNumbers=y.renderFn,this._renderFinalNewline=c.get(82);const W=c.get(128);this._lineNumbersLeft=W.lineNumbersLeft,this._lineNumbersWidth=W.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(c){return this._readConfig(),!0}onCursorStateChanged(c){const y=c.selections[0].getPosition();this._lastCursorModelPosition=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(y);let W=!1;return this._activeLineNumber!==y.lineNumber&&(this._activeLineNumber=y.lineNumber,W=!0),(2===this._renderLineNumbers||3===this._renderLineNumbers)&&(W=!0),W}onFlushed(c){return!0}onLinesChanged(c){return!0}onLinesDeleted(c){return!0}onLinesInserted(c){return!0}onScrollChanged(c){return c.scrollTopChanged}onZonesChanged(c){return!0}_getLineRenderLineNumber(c){const y=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new Ue.L(c,1));if(1!==y.column)return"";const W=y.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(W);if(2===this._renderLineNumbers){const z=Math.abs(this._lastCursorModelPosition.lineNumber-W);return 0===z?'<span class="relative-current-line-number">'+W+"</span>":String(z)}return 3===this._renderLineNumbers?this._lastCursorModelPosition.lineNumber===W||W%10==0?String(W):"":String(W)}prepareRender(c){if(0===this._renderLineNumbers)return void(this._renderResult=null);const y=v.IJ?this._lineHeight%2==0?" lh-even":" lh-odd":"",W=c.visibleRange.startLineNumber,z=c.visibleRange.endLineNumber,ae='<div class="'+yt.CLASS_NAME+y+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">',Me=this._context.model.getLineCount(),je=[];for(let lt=W;lt<=z;lt++){const gt=lt-W;if(!this._renderFinalNewline&&lt===Me&&0===this._context.model.getLineLength(lt)){je[gt]="";continue}const St=this._getLineRenderLineNumber(lt);je[gt]=St?lt===this._activeLineNumber?'<div class="active-line-number '+yt.CLASS_NAME+y+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">'+St+"</div>":ae+St+"</div>":""}this._renderResult=je}render(c,y){if(!this._renderResult)return"";const W=y-c;return W<0||W>=this._renderResult.length?"":this._renderResult[W]}}return yt.CLASS_NAME="line-numbers",yt})();(0,Kt.Ic)((yt,r)=>{const c=yt.getColor(on.hw);c&&r.addRule(`.monaco-editor .line-numbers { color: ${c}; }`);const y=yt.getColor(on.DD);y&&r.addRule(`.monaco-editor .line-numbers.active-line-number { color: ${y}; }`)});let yn=(()=>{class yt extends V{constructor(c){super(c);const y=this._context.configuration.options,W=y.get(128);this._canUseLayerHinting=!y.get(26),this._contentLeft=W.contentLeft,this._glyphMarginLeft=W.glyphMarginLeft,this._glyphMarginWidth=W.glyphMarginWidth,this._domNode=(0,S.X)(document.createElement("div")),this._domNode.setClassName(yt.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=(0,S.X)(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(yt.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(c){const y=this._context.configuration.options,W=y.get(128);return this._canUseLayerHinting=!y.get(26),this._contentLeft=W.contentLeft,this._glyphMarginLeft=W.glyphMarginLeft,this._glyphMarginWidth=W.glyphMarginWidth,!0}onScrollChanged(c){return super.onScrollChanged(c)||c.scrollTopChanged}prepareRender(c){}render(c){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict"),this._domNode.setTop(-(c.scrollTop-c.bigNumbersDelta));const W=Math.min(c.scrollHeight,1e6);this._domNode.setHeight(W),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(W)}}return yt.CLASS_NAME="glyph-margin",yt.OUTER_CLASS_NAME="margin",yt})();var jn=a(8509),Un=a(2e3);class zn{constructor(r,c,y){this._visibleTextAreaBrand=void 0,this.top=r,this.left=c,this.width=y}setWidth(r){return new zn(this.top,this.left,r)}}const ci=w.vU;class vi extends V{constructor(r,c,y){super(r),this._primaryCursorPosition=new Ue.L(1,1),this._primaryCursorVisibleRange=null,this._viewController=c,this._viewHelper=y,this._scrollLeft=0,this._scrollTop=0;const W=this._context.configuration.options,z=W.get(128);this._setAccessibilityOptions(W),this._contentLeft=z.contentLeft,this._contentWidth=z.contentWidth,this._contentHeight=z.height,this._fontInfo=W.get(40),this._lineHeight=W.get(56),this._emptySelectionClipboard=W.get(30),this._copyWithSyntaxHighlighting=W.get(19),this._visibleTextArea=null,this._selections=[new E.Y(1,1,1,1)],this._modelSelections=[new E.Y(1,1,1,1)],this._lastRenderPosition=null,this.textArea=(0,S.X)(document.createElement("textarea")),Z.write(this.textArea,6),this.textArea.setClassName(`inputarea ${Un.S}`),this.textArea.setAttribute("wrap","off"),this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(W)),this.textArea.setAttribute("tabindex",String(W.get(110))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",B.N("editor","editor")),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),W.get(28)&&W.get(78)&&this.textArea.setAttribute("readonly","true"),this.textAreaCover=(0,S.X)(document.createElement("div")),this.textAreaCover.setPosition("absolute");const ae={getLineCount:()=>this._context.model.getLineCount(),getLineMaxColumn:je=>this._context.model.getLineMaxColumn(je),getValueInRange:(je,lt)=>this._context.model.getValueInRange(je,lt)};this._textAreaInput=this._register(new We.Fz({getDataToCopy:je=>{const lt=this._context.model.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,v.ED),gt=this._context.model.getEOL(),St=this._emptySelectionClipboard&&1===this._modelSelections.length&&this._modelSelections[0].isEmpty(),Xt=Array.isArray(lt)?lt:null,Gt=Array.isArray(lt)?lt.join(gt):lt;let an,dn=null;if(je&&(We.RA.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&Gt.length<65536)){const Tn=this._context.model.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);Tn&&(an=Tn.html,dn=Tn.mode)}return{isFromEmptySelection:St,multicursorText:Xt,text:Gt,html:an,mode:dn}},getScreenReaderContent:je=>{if(1===this._accessibilitySupport){if(v.dz){const lt=this._selections[0];if(lt.isEmpty()){const gt=lt.getStartPosition();let St=this._getWordBeforePosition(gt);if(0===St.length&&(St=this._getCharacterBeforePosition(gt)),St.length>0)return new Et.un(St,St.length,St.length,gt,gt)}}return Et.un.EMPTY}if(w.Dt){const lt=this._selections[0];if(lt.isEmpty()){const gt=lt.getStartPosition(),[St,Xt]=this._getAndroidWordAtPosition(gt);if(St.length>0)return new Et.un(St,Xt,Xt,gt,gt)}return Et.un.EMPTY}return Et.ee.fromEditorSelection(je,ae,this._selections[0],this._accessibilityPageSize,0===this._accessibilitySupport)},deduceModelPosition:(je,lt,gt)=>this._context.model.deduceModelPositionRelativeToViewPosition(je,lt,gt)},this.textArea)),this._register(this._textAreaInput.onKeyDown(je=>{this._viewController.emitKeyDown(je)})),this._register(this._textAreaInput.onKeyUp(je=>{this._viewController.emitKeyUp(je)})),this._register(this._textAreaInput.onPaste(je=>{let lt=!1,gt=null,St=null;je.metadata&&(lt=this._emptySelectionClipboard&&!!je.metadata.isFromEmptySelection,gt=void 0!==je.metadata.multicursorText?je.metadata.multicursorText:null,St=je.metadata.mode),this._viewController.paste(je.text,lt,gt,St)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType(je=>{je.replacePrevCharCnt||je.replaceNextCharCnt||je.positionDelta?(Et.al&&console.log(` => compositionType: <<${je.text}>>, ${je.replacePrevCharCnt}, ${je.replaceNextCharCnt}, ${je.positionDelta}`),this._viewController.compositionType(je.text,je.replacePrevCharCnt,je.replaceNextCharCnt,je.positionDelta)):(Et.al&&console.log(` => type: <<${je.text}>>`),this._viewController.type(je.text))})),this._register(this._textAreaInput.onSelectionChangeRequest(je=>{this._viewController.setSelection(je)})),this._register(this._textAreaInput.onCompositionStart(je=>{const lt=this._selections[0].startLineNumber,gt=this._selections[0].startColumn+je.revealDeltaColumns;this._context.model.revealRange("keyboard",!0,new ot.e(lt,gt,lt,gt),0,1);const St=this._viewHelper.visibleRangeForPositionRelativeToEditor(lt,gt);St&&(this._visibleTextArea=new zn(this._context.viewLayout.getVerticalOffsetForLineNumber(lt),St.left,ci?0:1),this._render()),this.textArea.setClassName(`inputarea ${Un.S} ime-input`),this._viewController.compositionStart(),this._context.model.onCompositionStart()})),this._register(this._textAreaInput.onCompositionUpdate(je=>{!this._visibleTextArea||(this._visibleTextArea=this._visibleTextArea.setWidth(function(yt,r){const y=document.createElement("canvas").getContext("2d");y.font=function(yt){return function(yt,r,c,y,W){return`normal normal ${r} ${c}px / ${y}px ${W}`}(0,yt.fontWeight,yt.fontSize,yt.lineHeight,yt.fontFamily)}(r);const W=y.measureText(yt);return w.vU?W.width+2:W.width}(je.data,this._fontInfo)),this._render())})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this._render(),this.textArea.setClassName(`inputarea ${Un.S}`),this._viewController.compositionEnd(),this._context.model.onCompositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.model.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.model.setHasFocus(!1)}))}dispose(){super.dispose()}_getAndroidWordAtPosition(r){const y=this._context.model.getLineContent(r.lineNumber),W=(0,jn.u)('`~!@#$%^&*()-=+[{]}\\|;:",.<>/?');let z=!0,ae=r.column,Me=!0,je=r.column,lt=0;for(;lt<50&&(z||Me);){if(z&&ae<=1&&(z=!1),z){const gt=y.charCodeAt(ae-2);0!==W.get(gt)?z=!1:ae--}if(Me&&je>y.length&&(Me=!1),Me){const gt=y.charCodeAt(je-1);0!==W.get(gt)?Me=!1:je++}lt++}return[y.substring(ae-1,je-1),r.column-ae]}_getWordBeforePosition(r){const c=this._context.model.getLineContent(r.lineNumber),y=(0,jn.u)(this._context.configuration.options.get(114));let W=r.column,z=0;for(;W>1;){const ae=c.charCodeAt(W-2);if(0!==y.get(ae)||z>50)return c.substring(W-1,r.column-1);z++,W--}return c.substring(0,r.column-1)}_getCharacterBeforePosition(r){if(r.column>1){const y=this._context.model.getLineContent(r.lineNumber).charAt(r.column-2);if(!at.ZG(y.charCodeAt(0)))return y}return""}_getAriaLabel(r){return 1===r.get(2)?B.N("accessibilityOffAriaLabel","The editor is not accessible at this time. Press {0} for options.",v.IJ?"Shift+Alt+F1":"Alt+F1"):r.get(4)}_setAccessibilityOptions(r){this._accessibilitySupport=r.get(2);const c=r.get(3);this._accessibilityPageSize=2===this._accessibilitySupport&&c===xe.BH.accessibilityPageSize.defaultValue?500:c}onConfigurationChanged(r){const c=this._context.configuration.options,y=c.get(128);return this._setAccessibilityOptions(c),this._contentLeft=y.contentLeft,this._contentWidth=y.contentWidth,this._contentHeight=y.height,this._fontInfo=c.get(40),this._lineHeight=c.get(56),this._emptySelectionClipboard=c.get(30),this._copyWithSyntaxHighlighting=c.get(19),this.textArea.setAttribute("aria-label",this._getAriaLabel(c)),this.textArea.setAttribute("tabindex",String(c.get(110))),(r.hasChanged(28)||r.hasChanged(78))&&(c.get(28)&&c.get(78)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")),r.hasChanged(2)&&this._textAreaInput.writeScreenReaderContent("strategy changed"),!0}onCursorStateChanged(r){return this._selections=r.selections.slice(0),this._modelSelections=r.modelSelections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0}onDecorationsChanged(r){return!0}onFlushed(r){return!0}onLinesChanged(r){return!0}onLinesDeleted(r){return!0}onLinesInserted(r){return!0}onScrollChanged(r){return this._scrollLeft=r.scrollLeft,this._scrollTop=r.scrollTop,!0}onZonesChanged(r){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(r){r.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",r.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),r.role&&this.textArea.setAttribute("role",r.role)}prepareRender(r){this._primaryCursorPosition=new Ue.L(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=r.visibleRangeForPosition(this._primaryCursorPosition)}render(r){this._textAreaInput.writeScreenReaderContent("render"),this._render()}_render(){if(this._visibleTextArea)return void this._renderInsideEditor(null,this._visibleTextArea.top-this._scrollTop,this._contentLeft+this._visibleTextArea.left-this._scrollLeft,this._visibleTextArea.width,this._lineHeight);if(!this._primaryCursorVisibleRange)return void this._renderAtTopLeft();const r=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(r<this._contentLeft||r>this._contentLeft+this._contentWidth)return void this._renderAtTopLeft();const c=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;c<0||c>this._contentHeight?this._renderAtTopLeft():this._renderInsideEditor(this._primaryCursorPosition,c,r,ci?0:1,v.dz?this._lineHeight:ci?0:1)}_renderInsideEditor(r,c,y,W,z){this._lastRenderPosition=r;const ae=this.textArea,Me=this.textAreaCover;I.V.applyFontInfo(ae,this._fontInfo),ae.setTop(c),ae.setLeft(y),ae.setWidth(W),ae.setHeight(z),Me.setTop(0),Me.setLeft(0),Me.setWidth(0),Me.setHeight(0)}_renderAtTopLeft(){this._lastRenderPosition=null;const r=this.textArea,c=this.textAreaCover;if(I.V.applyFontInfo(r,this._fontInfo),r.setTop(0),r.setLeft(0),c.setTop(0),c.setLeft(0),ci)return r.setWidth(0),r.setHeight(0),c.setWidth(0),void c.setHeight(0);r.setWidth(1),r.setHeight(1),c.setWidth(1),c.setHeight(1);const y=this._context.configuration.options;y.get(46)?c.setClassName("monaco-editor-background textAreaCover "+yn.OUTER_CLASS_NAME):0!==y.get(57).renderType?c.setClassName("monaco-editor-background textAreaCover "+bn.CLASS_NAME):c.setClassName("monaco-editor-background textAreaCover")}}var Mt=a(6502);class kt{constructor(r,c,y,W){this.configuration=r,this.viewModel=c,this.userInputEvents=y,this.commandDelegate=W}paste(r,c,y,W){this.commandDelegate.paste(r,c,y,W)}type(r){this.commandDelegate.type(r)}compositionType(r,c,y,W){this.commandDelegate.compositionType(r,c,y,W)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(r){Mt.CoreNavigationCommands.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:r})}_validateViewColumn(r){const c=this.viewModel.getLineMinColumn(r.lineNumber);return r.column<c?new Ue.L(r.lineNumber,c):r}_hasMulticursorModifier(r){switch(this.configuration.options.get(67)){case"altKey":return r.altKey;case"ctrlKey":return r.ctrlKey;case"metaKey":return r.metaKey;default:return!1}}_hasNonMulticursorModifier(r){switch(this.configuration.options.get(67)){case"altKey":return r.ctrlKey||r.metaKey;case"ctrlKey":return r.altKey||r.metaKey;case"metaKey":return r.ctrlKey||r.altKey;default:return!1}}dispatchMouse(r){const c=this.configuration.options,y=v.IJ&&c.get(94),W=c.get(16);r.middleButton&&!y?this._columnSelect(r.position,r.mouseColumn,r.inSelectionMode):r.startedOnLineNumbers?this._hasMulticursorModifier(r)?r.inSelectionMode?this._lastCursorLineSelect(r.position):this._createCursor(r.position,!0):r.inSelectionMode?this._lineSelectDrag(r.position):this._lineSelect(r.position):r.mouseDownCount>=4?this._selectAll():3===r.mouseDownCount?this._hasMulticursorModifier(r)?r.inSelectionMode?this._lastCursorLineSelectDrag(r.position):this._lastCursorLineSelect(r.position):r.inSelectionMode?this._lineSelectDrag(r.position):this._lineSelect(r.position):2===r.mouseDownCount?this._hasMulticursorModifier(r)?this._lastCursorWordSelect(r.position):r.inSelectionMode?this._wordSelectDrag(r.position):this._wordSelect(r.position):this._hasMulticursorModifier(r)?this._hasNonMulticursorModifier(r)||(r.shiftKey?this._columnSelect(r.position,r.mouseColumn,!0):r.inSelectionMode?this._lastCursorMoveToSelect(r.position):this._createCursor(r.position,!1)):r.inSelectionMode?r.altKey||W?this._columnSelect(r.position,r.mouseColumn,!0):this._moveToSelect(r.position):this.moveTo(r.position)}_usualArgs(r){return r=this._validateViewColumn(r),{source:"mouse",position:this._convertViewToModelPosition(r),viewPosition:r}}moveTo(r){Mt.CoreNavigationCommands.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(r))}_moveToSelect(r){Mt.CoreNavigationCommands.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(r))}_columnSelect(r,c,y){r=this._validateViewColumn(r),Mt.CoreNavigationCommands.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(r),viewPosition:r,mouseColumn:c,doColumnSelect:y})}_createCursor(r,c){r=this._validateViewColumn(r),Mt.CoreNavigationCommands.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(r),viewPosition:r,wholeLine:c})}_lastCursorMoveToSelect(r){Mt.CoreNavigationCommands.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(r))}_wordSelect(r){Mt.CoreNavigationCommands.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(r))}_wordSelectDrag(r){Mt.CoreNavigationCommands.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(r))}_lastCursorWordSelect(r){Mt.CoreNavigationCommands.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(r))}_lineSelect(r){Mt.CoreNavigationCommands.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(r))}_lineSelectDrag(r){Mt.CoreNavigationCommands.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(r))}_lastCursorLineSelect(r){Mt.CoreNavigationCommands.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(r))}_lastCursorLineSelectDrag(r){Mt.CoreNavigationCommands.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(r))}_selectAll(){Mt.CoreNavigationCommands.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(r){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(r)}emitKeyDown(r){this.userInputEvents.emitKeyDown(r)}emitKeyUp(r){this.userInputEvents.emitKeyUp(r)}emitContextMenu(r){this.userInputEvents.emitContextMenu(r)}emitMouseMove(r){this.userInputEvents.emitMouseMove(r)}emitMouseLeave(r){this.userInputEvents.emitMouseLeave(r)}emitMouseUp(r){this.userInputEvents.emitMouseUp(r)}emitMouseDown(r){this.userInputEvents.emitMouseDown(r)}emitMouseDrag(r){this.userInputEvents.emitMouseDrag(r)}emitMouseDrop(r){this.userInputEvents.emitMouseDrop(r)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(r){this.userInputEvents.emitMouseWheel(r)}}class nn{constructor(r){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=r}emitKeyDown(r){this.onKeyDown&&this.onKeyDown(r)}emitKeyUp(r){this.onKeyUp&&this.onKeyUp(r)}emitContextMenu(r){this.onContextMenu&&this.onContextMenu(this._convertViewToModelMouseEvent(r))}emitMouseMove(r){this.onMouseMove&&this.onMouseMove(this._convertViewToModelMouseEvent(r))}emitMouseLeave(r){this.onMouseLeave&&this.onMouseLeave(this._convertViewToModelMouseEvent(r))}emitMouseDown(r){this.onMouseDown&&this.onMouseDown(this._convertViewToModelMouseEvent(r))}emitMouseUp(r){this.onMouseUp&&this.onMouseUp(this._convertViewToModelMouseEvent(r))}emitMouseDrag(r){this.onMouseDrag&&this.onMouseDrag(this._convertViewToModelMouseEvent(r))}emitMouseDrop(r){this.onMouseDrop&&this.onMouseDrop(this._convertViewToModelMouseEvent(r))}emitMouseDropCanceled(){this.onMouseDropCanceled&&this.onMouseDropCanceled()}emitMouseWheel(r){this.onMouseWheel&&this.onMouseWheel(r)}_convertViewToModelMouseEvent(r){return r.target?{event:r.event,target:this._convertViewToModelMouseTarget(r.target)}:r}_convertViewToModelMouseTarget(r){return nn.convertViewToModelMouseTarget(r,this._coordinatesConverter)}static convertViewToModelMouseTarget(r,c){return new sn(r.element,r.type,r.mouseColumn,r.position?c.convertViewPositionToModelPosition(r.position):null,r.range?c.convertViewRangeToModelRange(r.range):null,r.detail)}}class sn{constructor(r,c,y,W,z,ae){this.element=r,this.type=c,this.mouseColumn=y,this.position=W,this.range=z,this.detail=ae}toString(){return Le.toString(this)}}var En,gn=a(8918);class Zn{constructor(r){this._createLine=r,this._set(1,[])}flush(){this._set(1,[])}_set(r,c){this._lines=c,this._rendLineNumberStart=r}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(r){const c=r-this._rendLineNumberStart;if(c<0||c>=this._lines.length)throw new Error("Illegal value for lineNumber");return this._lines[c]}onLinesDeleted(r,c){if(0===this.getCount())return null;const y=this.getStartLineNumber(),W=this.getEndLineNumber();if(c<y)return this._rendLineNumberStart-=c-r+1,null;if(r>W)return null;let z=0,ae=0;for(let je=y;je<=W;je++){const lt=je-this._rendLineNumberStart;r<=je&&je<=c&&(0===ae?(z=lt,ae=1):ae++)}if(r<y){let je=0;je=c<y?c-r+1:y-r,this._rendLineNumberStart-=je}return this._lines.splice(z,ae)}onLinesChanged(r,c){if(0===this.getCount())return!1;const y=this.getStartLineNumber(),W=this.getEndLineNumber();let z=!1;for(let ae=r;ae<=c;ae++)ae>=y&&ae<=W&&(this._lines[ae-this._rendLineNumberStart].onContentChanged(),z=!0);return z}onLinesInserted(r,c){if(0===this.getCount())return null;const y=c-r+1,W=this.getStartLineNumber(),z=this.getEndLineNumber();if(r<=W)return this._rendLineNumberStart+=y,null;if(r>z)return null;if(y+r>z)return this._lines.splice(r-this._rendLineNumberStart,z-r+1);const ae=[];for(let St=0;St<y;St++)ae[St]=this._createLine();const Me=r-this._rendLineNumberStart,je=this._lines.slice(0,Me),lt=this._lines.slice(Me,this._lines.length-y),gt=this._lines.slice(this._lines.length-y,this._lines.length);return this._lines=je.concat(ae).concat(lt),gt}onTokensChanged(r){if(0===this.getCount())return!1;const c=this.getStartLineNumber(),y=this.getEndLineNumber();let W=!1;for(let z=0,ae=r.length;z<ae;z++){const Me=r[z];if(Me.toLineNumber<c||Me.fromLineNumber>y)continue;const je=Math.max(c,Me.fromLineNumber),lt=Math.min(y,Me.toLineNumber);for(let gt=je;gt<=lt;gt++)this._lines[gt-this._rendLineNumberStart].onTokensChanged(),W=!0}return W}}class ai{constructor(r){this._host=r,this.domNode=this._createDomNode(),this._linesCollection=new Zn(()=>this._host.createVisibleLine())}_createDomNode(){const r=(0,S.X)(document.createElement("div"));return r.setClassName("view-layer"),r.setPosition("absolute"),r.domNode.setAttribute("role","presentation"),r.domNode.setAttribute("aria-hidden","true"),r}onConfigurationChanged(r){return!!r.hasChanged(128)}onFlushed(r){return this._linesCollection.flush(),!0}onLinesChanged(r){return this._linesCollection.onLinesChanged(r.fromLineNumber,r.toLineNumber)}onLinesDeleted(r){const c=this._linesCollection.onLinesDeleted(r.fromLineNumber,r.toLineNumber);if(c)for(let y=0,W=c.length;y<W;y++){const z=c[y].getDomNode();z&&this.domNode.domNode.removeChild(z)}return!0}onLinesInserted(r){const c=this._linesCollection.onLinesInserted(r.fromLineNumber,r.toLineNumber);if(c)for(let y=0,W=c.length;y<W;y++){const z=c[y].getDomNode();z&&this.domNode.domNode.removeChild(z)}return!0}onScrollChanged(r){return r.scrollTopChanged}onTokensChanged(r){return this._linesCollection.onTokensChanged(r.ranges)}onZonesChanged(r){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(r){return this._linesCollection.getLine(r)}renderLines(r){const c=this._linesCollection._get(),z=new Yn(this.domNode.domNode,this._host,r).render({rendLineNumberStart:c.rendLineNumberStart,lines:c.lines,linesLength:c.lines.length},r.startLineNumber,r.endLineNumber,r.relativeVerticalOffset);this._linesCollection._set(z.rendLineNumberStart,z.lines)}}class Yn{constructor(r,c,y){this.domNode=r,this.host=c,this.viewportData=y}render(r,c,y,W){const z={rendLineNumberStart:r.rendLineNumberStart,lines:r.lines.slice(0),linesLength:r.linesLength};if(z.rendLineNumberStart+z.linesLength-1<c||y<z.rendLineNumberStart){z.rendLineNumberStart=c,z.linesLength=y-c+1,z.lines=[];for(let ae=c;ae<=y;ae++)z.lines[ae-c]=this.host.createVisibleLine();return this._finishRendering(z,!0,W),z}if(this._renderUntouchedLines(z,Math.max(c-z.rendLineNumberStart,0),Math.min(y-z.rendLineNumberStart,z.linesLength-1),W,c),z.rendLineNumberStart>c){const ae=c,Me=Math.min(y,z.rendLineNumberStart-1);ae<=Me&&(this._insertLinesBefore(z,ae,Me,W,c),z.linesLength+=Me-ae+1)}else if(z.rendLineNumberStart<c){const ae=Math.min(z.linesLength,c-z.rendLineNumberStart);ae>0&&(this._removeLinesBefore(z,ae),z.linesLength-=ae)}if(z.rendLineNumberStart=c,z.rendLineNumberStart+z.linesLength-1<y){const ae=z.rendLineNumberStart+z.linesLength,Me=y;ae<=Me&&(this._insertLinesAfter(z,ae,Me,W,c),z.linesLength+=Me-ae+1)}else if(z.rendLineNumberStart+z.linesLength-1>y){const ae=Math.max(0,y-z.rendLineNumberStart+1),je=z.linesLength-1-ae+1;je>0&&(this._removeLinesAfter(z,je),z.linesLength-=je)}return this._finishRendering(z,!1,W),z}_renderUntouchedLines(r,c,y,W,z){const ae=r.rendLineNumberStart,Me=r.lines;for(let je=c;je<=y;je++){const lt=ae+je;Me[je].layoutLine(lt,W[lt-z])}}_insertLinesBefore(r,c,y,W,z){const ae=[];let Me=0;for(let je=c;je<=y;je++)ae[Me++]=this.host.createVisibleLine();r.lines=ae.concat(r.lines)}_removeLinesBefore(r,c){for(let y=0;y<c;y++){const W=r.lines[y].getDomNode();W&&this.domNode.removeChild(W)}r.lines.splice(0,c)}_insertLinesAfter(r,c,y,W,z){const ae=[];let Me=0;for(let je=c;je<=y;je++)ae[Me++]=this.host.createVisibleLine();r.lines=r.lines.concat(ae)}_removeLinesAfter(r,c){const y=r.linesLength-c;for(let W=0;W<c;W++){const z=r.lines[y+W].getDomNode();z&&this.domNode.removeChild(z)}r.lines.splice(y,c)}_finishRenderingNewLines(r,c,y,W){Yn._ttPolicy&&(y=Yn._ttPolicy.createHTML(y));const z=this.domNode.lastChild;c||!z?this.domNode.innerHTML=y:z.insertAdjacentHTML("afterend",y);let ae=this.domNode.lastChild;for(let Me=r.linesLength-1;Me>=0;Me--){const je=r.lines[Me];W[Me]&&(je.setDomNode(ae),ae=ae.previousSibling)}}_finishRenderingInvalidLines(r,c,y){const W=document.createElement("div");Yn._ttPolicy&&(c=Yn._ttPolicy.createHTML(c)),W.innerHTML=c;for(let z=0;z<r.linesLength;z++){const ae=r.lines[z];if(y[z]){const Me=W.firstChild,je=ae.getDomNode();je.parentNode.replaceChild(Me,je),ae.setDomNode(Me)}}}_finishRendering(r,c,y){const W=Yn._sb,z=r.linesLength,ae=r.lines,Me=r.rendLineNumberStart,je=[];{W.reset();let lt=!1;for(let gt=0;gt<z;gt++){const St=ae[gt];je[gt]=!1,!St.getDomNode()&&St.renderLine(gt+Me,y[gt],this.viewportData,W)&&(je[gt]=!0,lt=!0)}lt&&this._finishRenderingNewLines(r,c,W.build(),je)}{W.reset();let lt=!1;const gt=[];for(let St=0;St<z;St++){const Xt=ae[St];gt[St]=!1,!je[St]&&Xt.renderLine(St+Me,y[St],this.viewportData,W)&&(gt[St]=!0,lt=!0)}lt&&this._finishRenderingInvalidLines(r,W.build(),gt)}}}Yn._ttPolicy=null===(En=window.trustedTypes)||void 0===En?void 0:En.createPolicy("editorViewLayer",{createHTML:yt=>yt}),Yn._sb=(0,gn.l$)(1e5);class Mn extends V{constructor(r){super(r),this._visibleLines=new ai(this),this.domNode=this._visibleLines.domNode,this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let r=0,c=this._dynamicOverlays.length;r<c;r++)if(this._dynamicOverlays[r].shouldRender())return!0;return!1}dispose(){super.dispose();for(let r=0,c=this._dynamicOverlays.length;r<c;r++)this._dynamicOverlays[r].dispose();this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new Nn(this._context.configuration,this._dynamicOverlays)}addDynamicOverlay(r){this._dynamicOverlays.push(r)}onConfigurationChanged(r){this._visibleLines.onConfigurationChanged(r);const c=this._visibleLines.getStartLineNumber(),y=this._visibleLines.getEndLineNumber();for(let W=c;W<=y;W++)this._visibleLines.getVisibleLine(W).onConfigurationChanged(r);return!0}onFlushed(r){return this._visibleLines.onFlushed(r)}onFocusChanged(r){return this._isFocused=r.isFocused,!0}onLinesChanged(r){return this._visibleLines.onLinesChanged(r)}onLinesDeleted(r){return this._visibleLines.onLinesDeleted(r)}onLinesInserted(r){return this._visibleLines.onLinesInserted(r)}onScrollChanged(r){return this._visibleLines.onScrollChanged(r)||!0}onTokensChanged(r){return this._visibleLines.onTokensChanged(r)}onZonesChanged(r){return this._visibleLines.onZonesChanged(r)}prepareRender(r){const c=this._dynamicOverlays.filter(y=>y.shouldRender());for(let y=0,W=c.length;y<W;y++){const z=c[y];z.prepareRender(r),z.onDidRender()}}render(r){this._viewOverlaysRender(r),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(r){this._visibleLines.renderLines(r.viewportData)}}class Nn{constructor(r,c){this._configuration=r,this._lineHeight=this._configuration.options.get(56),this._dynamicOverlays=c,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(r){this._domNode=(0,S.X)(r)}onContentChanged(){}onTokensChanged(){}onConfigurationChanged(r){this._lineHeight=this._configuration.options.get(56)}renderLine(r,c,y,W){let z="";for(let ae=0,Me=this._dynamicOverlays.length;ae<Me;ae++)z+=this._dynamicOverlays[ae].render(y.startLineNumber,r);return this._renderedContent!==z&&(this._renderedContent=z,W.appendASCIIString('<div style="position:absolute;top:'),W.appendASCIIString(String(c)),W.appendASCIIString("px;width:100%;height:"),W.appendASCIIString(String(this._lineHeight)),W.appendASCIIString('px;">'),W.appendASCIIString(z),W.appendASCIIString("</div>"),!0)}layoutLine(r,c){this._domNode&&(this._domNode.setTop(c),this._domNode.setHeight(this._lineHeight))}}class Li extends Mn{constructor(r){super(r);const y=this._context.configuration.options.get(128);this._contentWidth=y.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(r){const y=this._context.configuration.options.get(128);return this._contentWidth=y.contentWidth,super.onConfigurationChanged(r)||!0}onScrollChanged(r){return super.onScrollChanged(r)||r.scrollWidthChanged}_viewOverlaysRender(r){super._viewOverlaysRender(r),this.domNode.setWidth(Math.max(r.scrollWidth,this._contentWidth))}}class si extends Mn{constructor(r){super(r);const c=this._context.configuration.options,y=c.get(128);this._contentLeft=y.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),I.V.applyFontInfo(this.domNode,c.get(40))}onConfigurationChanged(r){const c=this._context.configuration.options;I.V.applyFontInfo(this.domNode,c.get(40));const y=c.get(128);return this._contentLeft=y.contentLeft,super.onConfigurationChanged(r)||!0}onScrollChanged(r){return super.onScrollChanged(r)||r.scrollHeightChanged}_viewOverlaysRender(r){super._viewOverlaysRender(r);const c=Math.min(r.scrollHeight,1e6);this.domNode.setHeight(c),this.domNode.setWidth(this._contentLeft)}}class Wi{constructor(r,c){this._coordinateBrand=void 0,this.top=r,this.left=c}}class rs extends V{constructor(r,c){super(r),this._viewDomNode=c,this._widgets={},this.domNode=(0,S.X)(document.createElement("div")),Z.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=(0,S.X)(document.createElement("div")),Z.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(r){const c=Object.keys(this._widgets);for(const y of c)this._widgets[y].onConfigurationChanged(r);return!0}onDecorationsChanged(r){return!0}onFlushed(r){return!0}onLineMappingChanged(r){const c=Object.keys(this._widgets);for(const y of c)this._widgets[y].onLineMappingChanged(r);return!0}onLinesChanged(r){return!0}onLinesDeleted(r){return!0}onLinesInserted(r){return!0}onScrollChanged(r){return!0}onZonesChanged(r){return!0}addWidget(r){const c=new vs(this._context,this._viewDomNode,r);this._widgets[c.id]=c,c.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(c.domNode):this.domNode.appendChild(c.domNode),this.setShouldRender()}setWidgetPosition(r,c,y){this._widgets[r.getId()].setPosition(c,y),this.setShouldRender()}removeWidget(r){const c=r.getId();if(this._widgets.hasOwnProperty(c)){const y=this._widgets[c];delete this._widgets[c];const W=y.domNode.domNode;W.parentNode.removeChild(W),W.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(r){return!!this._widgets.hasOwnProperty(r)&&this._widgets[r].suppressMouseDown}onBeforeRender(r){const c=Object.keys(this._widgets);for(const y of c)this._widgets[y].onBeforeRender(r)}prepareRender(r){const c=Object.keys(this._widgets);for(const y of c)this._widgets[y].prepareRender(r)}render(r){const c=Object.keys(this._widgets);for(const y of c)this._widgets[y].render(r)}}class vs{constructor(r,c,y){this._context=r,this._viewDomNode=c,this._actual=y,this.domNode=(0,S.X)(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const W=this._context.configuration.options,z=W.get(128);this._fixedOverflowWidgets=W.get(34),this._contentWidth=z.contentWidth,this._contentLeft=z.contentLeft,this._lineHeight=W.get(56),this._range=null,this._viewRange=null,this._preference=[],this._cachedDomNodeClientWidth=-1,this._cachedDomNodeClientHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(r){const c=this._context.configuration.options;if(this._lineHeight=c.get(56),r.hasChanged(128)){const y=c.get(128);this._contentLeft=y.contentLeft,this._contentWidth=y.contentWidth,this._maxWidth=this._getMaxWidth()}}onLineMappingChanged(r){this._setPosition(this._range)}_setPosition(r){if(this._range=r,this._viewRange=null,this._range){const c=this._context.model.validateModelRange(this._range);(this._context.model.coordinatesConverter.modelPositionIsVisible(c.getStartPosition())||this._context.model.coordinatesConverter.modelPositionIsVisible(c.getEndPosition()))&&(this._viewRange=this._context.model.coordinatesConverter.convertModelRangeToViewRange(c))}}_getMaxWidth(){return this.allowEditorOverflow?window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth:this._contentWidth}setPosition(r,c){this._setPosition(r),this._preference=c,this._cachedDomNodeClientWidth=-1,this._cachedDomNodeClientHeight=-1}_layoutBoxInViewport(r,c,y,W,z){const ae=r.top,je=c.top+this._lineHeight;let an=r.left,dn=c.left;return an+y>z.scrollLeft+z.viewportWidth&&(an=z.scrollLeft+z.viewportWidth-y),dn+y>z.scrollLeft+z.viewportWidth&&(dn=z.scrollLeft+z.viewportWidth-y),an<z.scrollLeft&&(an=z.scrollLeft),dn<z.scrollLeft&&(dn=z.scrollLeft),{fitsAbove:ae>=W,aboveTop:ae-W,aboveLeft:an,fitsBelow:z.viewportHeight-je>=W,belowTop:je,belowLeft:dn}}_layoutHorizontalSegmentInPage(r,c,y,W){const z=Math.max(0,c.left-W),ae=Math.min(c.left+c.width+W,r.width);let Me=c.left+y-R.DI.scrollX;if(Me+W>ae){const je=Me-(ae-W);Me-=je,y-=je}if(Me<z){const je=Me-z;Me-=je,y-=je}return[y,Me]}_layoutBoxInPage(r,c,y,W,z){const ae=r.top-W,Me=c.top+this._lineHeight,je=R.i(this._viewDomNode.domNode),lt=je.top+ae-R.DI.scrollY,gt=je.top+Me-R.DI.scrollY,St=R.D6(document.body),[Xt,Gt]=this._layoutHorizontalSegmentInPage(St,je,r.left-z.scrollLeft+this._contentLeft,y),[an,dn]=this._layoutHorizontalSegmentInPage(St,je,c.left-z.scrollLeft+this._contentLeft,y),Hn=lt>=22,Vn=gt+W<=St.height-22;return this._fixedOverflowWidgets?{fitsAbove:Hn,aboveTop:Math.max(lt,22),aboveLeft:Gt,fitsBelow:Vn,belowTop:gt,belowLeft:dn}:{fitsAbove:Hn,aboveTop:ae,aboveLeft:Xt,fitsBelow:Vn,belowTop:Me,belowLeft:an}}_prepareRenderWidgetAtExactPositionOverflowing(r){return new Wi(r.top,r.left+this._contentLeft)}_getTopAndBottomLeft(r){if(!this._viewRange)return[null,null];const c=r.linesVisibleRangesForRange(this._viewRange,!1);if(!c||0===c.length)return[null,null];let y=c[0],W=c[0];for(const St of c)St.lineNumber<y.lineNumber&&(y=St),St.lineNumber>W.lineNumber&&(W=St);let z=1073741824;for(const St of y.ranges)St.left<z&&(z=St.left);let ae=1073741824;for(const St of W.ranges)St.left<ae&&(ae=St.left);const Me=r.getVerticalOffsetForLineNumber(y.lineNumber)-r.scrollTop,je=new Wi(Me,z),lt=r.getVerticalOffsetForLineNumber(W.lineNumber)-r.scrollTop;return[je,new Wi(lt,ae)]}_prepareRenderWidget(r){const[c,y]=this._getTopAndBottomLeft(r);if(!c||!y)return null;if(-1===this._cachedDomNodeClientWidth||-1===this._cachedDomNodeClientHeight){let z=null;if("function"==typeof this._actual.beforeRender&&(z=Ut(this._actual.beforeRender,this._actual)),z)this._cachedDomNodeClientWidth=z.width,this._cachedDomNodeClientHeight=z.height;else{const ae=this.domNode.domNode;this._cachedDomNodeClientWidth=ae.clientWidth,this._cachedDomNodeClientHeight=ae.clientHeight}}let W;if(W=this.allowEditorOverflow?this._layoutBoxInPage(c,y,this._cachedDomNodeClientWidth,this._cachedDomNodeClientHeight,r):this._layoutBoxInViewport(c,y,this._cachedDomNodeClientWidth,this._cachedDomNodeClientHeight,r),this._preference)for(let z=1;z<=2;z++)for(const ae of this._preference)if(1===ae){if(!W)return null;if(2===z||W.fitsAbove)return{coordinate:new Wi(W.aboveTop,W.aboveLeft),position:1}}else{if(2!==ae)return this.allowEditorOverflow?{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(c),position:0}:{coordinate:c,position:0};if(!W)return null;if(2===z||W.fitsBelow)return{coordinate:new Wi(W.belowTop,W.belowLeft),position:2}}return null}onBeforeRender(r){!this._viewRange||!this._preference||this._viewRange.endLineNumber<r.startLineNumber||this._viewRange.startLineNumber>r.endLineNumber||this.domNode.setMaxWidth(this._maxWidth)}prepareRender(r){this._renderData=this._prepareRenderWidget(r)}render(r){if(!this._renderData)return this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden")),void("function"==typeof this._actual.afterRender&&Ut(this._actual.afterRender,this._actual,null));this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+r.scrollTop-r.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),"function"==typeof this._actual.afterRender&&Ut(this._actual.afterRender,this._actual,this._renderData.position)}}function Ut(yt,r,...c){try{return yt.call(r,...c)}catch(y){return null}}a(1501);var q=a(2291);let me=!0;class Ke extends Pt{constructor(r){super(),this._context=r;const c=this._context.configuration.options,y=c.get(128);this._lineHeight=c.get(56),this._renderLineHighlight=c.get(83),this._renderLineHighlightOnlyWhenFocus=c.get(84),this._contentLeft=y.contentLeft,this._contentWidth=y.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new E.Y(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let r=!1;const c=me?this._selections.slice(0,1):this._selections,y=c.map(z=>z.positionLineNumber);y.sort((z,ae)=>z-ae),q.fS(this._cursorLineNumbers,y)||(this._cursorLineNumbers=y,r=!0);const W=c.every(z=>z.isEmpty());return this._selectionIsEmpty!==W&&(this._selectionIsEmpty=W,r=!0),r}onThemeChanged(r){return this._readFromSelections()}onConfigurationChanged(r){const c=this._context.configuration.options,y=c.get(128);return this._lineHeight=c.get(56),this._renderLineHighlight=c.get(83),this._renderLineHighlightOnlyWhenFocus=c.get(84),this._contentLeft=y.contentLeft,this._contentWidth=y.contentWidth,!0}onCursorStateChanged(r){return this._selections=r.selections,this._readFromSelections()}onFlushed(r){return!0}onLinesDeleted(r){return!0}onLinesInserted(r){return!0}onScrollChanged(r){return r.scrollWidthChanged||r.scrollTopChanged}onZonesChanged(r){return!0}onFocusChanged(r){return!!this._renderLineHighlightOnlyWhenFocus&&(this._focused=r.isFocused,!0)}prepareRender(r){if(!this._shouldRenderThis())return void(this._renderData=null);const c=this._renderOne(r),y=r.visibleRange.startLineNumber,W=r.visibleRange.endLineNumber,z=this._cursorLineNumbers.length;let ae=0;const Me=[];for(let je=y;je<=W;je++){const lt=je-y;for(;ae<z&&this._cursorLineNumbers[ae]<je;)ae++;Me[lt]=ae<z&&this._cursorLineNumbers[ae]===je?c:""}this._renderData=Me}render(r,c){if(!this._renderData)return"";const y=c-r;return y>=this._renderData.length?"":this._renderData[y]}}class qe extends Ke{_renderOne(r){return`<div class="${"current-line"+(this._shouldRenderOther()?" current-line-both":"")}" style="width:${Math.max(r.scrollWidth,this._contentWidth)}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return("line"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderOther(){return("gutter"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}class st extends Ke{_renderOne(r){return`<div class="${"current-line"+(this._shouldRenderMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")}" style="width:${this._contentLeft}px; height:${this._lineHeight}px;"></div>`}_shouldRenderMargin(){return("gutter"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderThis(){return!0}_shouldRenderOther(){return("line"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}(0,Kt.Ic)((yt,r)=>{me=!1;const c=yt.getColor(on.Kh);if(c&&(r.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${c}; }`),r.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${c}; border: none; }`)),!c||c.isTransparent()||yt.defines(on.Mm)){const y=yt.getColor(on.Mm);y&&(me=!0,r.addRule(`.monaco-editor .view-overlays .current-line { border: 2px solid ${y}; }`),r.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid ${y}; }`),"hc"===yt.type&&(r.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"),r.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")))}}),a(4310);class Ft extends Pt{constructor(r){super(),this._context=r;const c=this._context.configuration.options;this._lineHeight=c.get(56),this._typicalHalfwidthCharacterWidth=c.get(40).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(r){const c=this._context.configuration.options;return this._lineHeight=c.get(56),this._typicalHalfwidthCharacterWidth=c.get(40).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(r){return!0}onFlushed(r){return!0}onLinesChanged(r){return!0}onLinesDeleted(r){return!0}onLinesInserted(r){return!0}onScrollChanged(r){return r.scrollTopChanged||r.scrollWidthChanged}onZonesChanged(r){return!0}prepareRender(r){const c=r.getDecorationsInViewport();let y=[],W=0;for(let je=0,lt=c.length;je<lt;je++){const gt=c[je];gt.options.className&&(y[W++]=gt)}y=y.sort((je,lt)=>{if(je.options.zIndex<lt.options.zIndex)return-1;if(je.options.zIndex>lt.options.zIndex)return 1;const gt=je.options.className,St=lt.options.className;return gt<St?-1:gt>St?1:ot.e.compareRangesUsingStarts(je.range,lt.range)});const z=r.visibleRange.startLineNumber,ae=r.visibleRange.endLineNumber,Me=[];for(let je=z;je<=ae;je++)Me[je-z]="";this._renderWholeLineDecorations(r,y,Me),this._renderNormalDecorations(r,y,Me),this._renderResult=Me}_renderWholeLineDecorations(r,c,y){const W=String(this._lineHeight),z=r.visibleRange.startLineNumber,ae=r.visibleRange.endLineNumber;for(let Me=0,je=c.length;Me<je;Me++){const lt=c[Me];if(!lt.options.isWholeLine)continue;const gt='<div class="cdr '+lt.options.className+'" style="left:0;width:100%;height:'+W+'px;"></div>',St=Math.max(lt.range.startLineNumber,z),Xt=Math.min(lt.range.endLineNumber,ae);for(let Gt=St;Gt<=Xt;Gt++)y[Gt-z]+=gt}}_renderNormalDecorations(r,c,y){const W=String(this._lineHeight),z=r.visibleRange.startLineNumber;let ae=null,Me=!1,je=null;for(let lt=0,gt=c.length;lt<gt;lt++){const St=c[lt];if(St.options.isWholeLine)continue;const Xt=St.options.className,Gt=Boolean(St.options.showIfCollapsed);let an=St.range;Gt&&1===an.endColumn&&an.endLineNumber!==an.startLineNumber&&(an=new ot.e(an.startLineNumber,an.startColumn,an.endLineNumber-1,this._context.model.getLineMaxColumn(an.endLineNumber-1))),ae===Xt&&Me===Gt&&ot.e.areIntersectingOrTouching(je,an)?je=ot.e.plusRange(je,an):(null!==ae&&this._renderNormalDecoration(r,je,ae,Me,W,z,y),ae=Xt,Me=Gt,je=an)}null!==ae&&this._renderNormalDecoration(r,je,ae,Me,W,z,y)}_renderNormalDecoration(r,c,y,W,z,ae,Me){const je=r.linesVisibleRangesForRange(c,"findMatch"===y);if(je)for(let lt=0,gt=je.length;lt<gt;lt++){const St=je[lt];if(St.outsideRenderedLine)continue;const Xt=St.lineNumber-ae;if(W&&1===St.ranges.length){const Gt=St.ranges[0];0===Gt.width&&(St.ranges[0]=new ee(Gt.left,this._typicalHalfwidthCharacterWidth))}for(let Gt=0,an=St.ranges.length;Gt<an;Gt++){const dn=St.ranges[Gt],Tn='<div class="cdr '+y+'" style="left:'+String(dn.left)+"px;width:"+String(dn.width)+"px;height:"+z+'px;"></div>';Me[Xt]+=Tn}}}render(r,c){if(!this._renderResult)return"";const y=c-r;return y<0||y>=this._renderResult.length?"":this._renderResult[y]}}var en=a(4304);class Yt extends V{constructor(r,c,y,W){super(r);const z=this._context.configuration.options,ae=z.get(90),Me=z.get(64),je=z.get(32),lt=z.get(93),gt={listenOnDomNode:y.domNode,className:"editor-scrollable "+(0,Kt.m6)(r.theme.type),useShadows:!1,lazyRender:!0,vertical:ae.vertical,horizontal:ae.horizontal,verticalHasArrows:ae.verticalHasArrows,horizontalHasArrows:ae.horizontalHasArrows,verticalScrollbarSize:ae.verticalScrollbarSize,verticalSliderSize:ae.verticalSliderSize,horizontalScrollbarSize:ae.horizontalScrollbarSize,horizontalSliderSize:ae.horizontalSliderSize,handleMouseWheel:ae.handleMouseWheel,alwaysConsumeMouseWheel:ae.alwaysConsumeMouseWheel,arrowSize:ae.arrowSize,mouseWheelScrollSensitivity:Me,fastScrollSensitivity:je,scrollPredominantAxis:lt,scrollByPage:ae.scrollByPage};this.scrollbar=this._register(new en.$Z(c.domNode,gt,this._context.viewLayout.getScrollable())),Z.write(this.scrollbar.getDomNode(),5),this.scrollbarDomNode=(0,S.X)(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const St=(Xt,Gt,an)=>{const dn={};if(Gt){const Tn=Xt.scrollTop;Tn&&(dn.scrollTop=this._context.viewLayout.getCurrentScrollTop()+Tn,Xt.scrollTop=0)}if(an){const Tn=Xt.scrollLeft;Tn&&(dn.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+Tn,Xt.scrollLeft=0)}this._context.model.setScrollPosition(dn,1)};this._register(R.nm(y.domNode,"scroll",Xt=>St(y.domNode,!0,!0))),this._register(R.nm(c.domNode,"scroll",Xt=>St(c.domNode,!0,!1))),this._register(R.nm(W.domNode,"scroll",Xt=>St(W.domNode,!0,!1))),this._register(R.nm(this.scrollbarDomNode.domNode,"scroll",Xt=>St(this.scrollbarDomNode.domNode,!0,!1)))}dispose(){super.dispose()}_setLayout(){const r=this._context.configuration.options,c=r.get(128);this.scrollbarDomNode.setLeft(c.contentLeft),"right"===r.get(62).side?this.scrollbarDomNode.setWidth(c.contentWidth+c.minimap.minimapWidth):this.scrollbarDomNode.setWidth(c.contentWidth),this.scrollbarDomNode.setHeight(c.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarMouseDown(r){this.scrollbar.delegateVerticalScrollbarMouseDown(r)}onConfigurationChanged(r){if(r.hasChanged(90)||r.hasChanged(64)||r.hasChanged(32)){const c=this._context.configuration.options,y=c.get(90),W=c.get(64),z=c.get(32),ae=c.get(93);this.scrollbar.updateOptions({vertical:y.vertical,horizontal:y.horizontal,verticalScrollbarSize:y.verticalScrollbarSize,horizontalScrollbarSize:y.horizontalScrollbarSize,scrollByPage:y.scrollByPage,handleMouseWheel:y.handleMouseWheel,mouseWheelScrollSensitivity:W,fastScrollSensitivity:z,scrollPredominantAxis:ae})}return r.hasChanged(128)&&this._setLayout(),!0}onScrollChanged(r){return!0}onThemeChanged(r){return this.scrollbar.updateClassName("editor-scrollable "+(0,Kt.m6)(this._context.theme.type)),!0}prepareRender(r){}render(r){this.scrollbar.renderNow()}}a(8870);class un{constructor(r,c,y){this._decorationToRenderBrand=void 0,this.startLineNumber=+r,this.endLineNumber=+c,this.className=String(y)}}class Cn extends Pt{_render(r,c,y){const W=[];for(let Me=r;Me<=c;Me++)W[Me-r]=[];if(0===y.length)return W;y.sort((Me,je)=>Me.className===je.className?Me.startLineNumber===je.startLineNumber?Me.endLineNumber-je.endLineNumber:Me.startLineNumber-je.startLineNumber:Me.className<je.className?-1:1);let z=null,ae=0;for(let Me=0,je=y.length;Me<je;Me++){const lt=y[Me],gt=lt.className;let St=Math.max(lt.startLineNumber,r)-r;const Xt=Math.min(lt.endLineNumber,c)-r;z===gt?(St=Math.max(ae+1,St),ae=Math.max(ae,Xt)):(z=gt,ae=Xt);for(let Gt=St;Gt<=ae;Gt++)W[Gt].push(z)}return W}}class An extends Cn{constructor(r){super(),this._context=r;const c=this._context.configuration.options,y=c.get(128);this._lineHeight=c.get(56),this._glyphMargin=c.get(46),this._glyphMarginLeft=y.glyphMarginLeft,this._glyphMarginWidth=y.glyphMarginWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(r){const c=this._context.configuration.options,y=c.get(128);return this._lineHeight=c.get(56),this._glyphMargin=c.get(46),this._glyphMarginLeft=y.glyphMarginLeft,this._glyphMarginWidth=y.glyphMarginWidth,!0}onDecorationsChanged(r){return!0}onFlushed(r){return!0}onLinesChanged(r){return!0}onLinesDeleted(r){return!0}onLinesInserted(r){return!0}onScrollChanged(r){return r.scrollTopChanged}onZonesChanged(r){return!0}_getDecorations(r){const c=r.getDecorationsInViewport();let y=[],W=0;for(let z=0,ae=c.length;z<ae;z++){const Me=c[z],je=Me.options.glyphMarginClassName;je&&(y[W++]=new un(Me.range.startLineNumber,Me.range.endLineNumber,je))}return y}prepareRender(r){if(!this._glyphMargin)return void(this._renderResult=null);const c=r.visibleRange.startLineNumber,y=r.visibleRange.endLineNumber,W=this._render(c,y,this._getDecorations(r)),z=this._lineHeight.toString(),je='" style="left:'+this._glyphMarginLeft.toString()+"px;width:"+this._glyphMarginWidth.toString()+"px;height:"+z+'px;"></div>',lt=[];for(let gt=c;gt<=y;gt++){const St=gt-c,Xt=W[St];lt[St]=0===Xt.length?"":'<div class="cgmr codicon '+Xt.join(" ")+je}this._renderResult=lt}render(r,c){if(!this._renderResult)return"";const y=c-r;return y<0||y>=this._renderResult.length?"":this._renderResult[y]}}a(3451);class kn extends Pt{constructor(r){super(),this._context=r,this._primaryLineNumber=0;const c=this._context.configuration.options,y=c.get(129),W=c.get(40);this._lineHeight=c.get(56),this._spaceWidth=W.spaceWidth,this._enabled=c.get(81),this._activeIndentEnabled=c.get(49),this._maxIndentLeft=-1===y.wrappingColumn?-1:y.wrappingColumn*W.typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(r){const c=this._context.configuration.options,y=c.get(129),W=c.get(40);return this._lineHeight=c.get(56),this._spaceWidth=W.spaceWidth,this._enabled=c.get(81),this._activeIndentEnabled=c.get(49),this._maxIndentLeft=-1===y.wrappingColumn?-1:y.wrappingColumn*W.typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(r){const c=r.selections[0],y=c.isEmpty()?c.positionLineNumber:0;return this._primaryLineNumber!==y&&(this._primaryLineNumber=y,!0)}onDecorationsChanged(r){return!0}onFlushed(r){return!0}onLinesChanged(r){return!0}onLinesDeleted(r){return!0}onLinesInserted(r){return!0}onScrollChanged(r){return r.scrollTopChanged}onZonesChanged(r){return!0}onLanguageConfigurationChanged(r){return!0}prepareRender(r){if(!this._enabled)return void(this._renderResult=null);const c=r.visibleRange.startLineNumber,y=r.visibleRange.endLineNumber,{indentSize:W}=this._context.model.getTextModelOptions(),z=W*this._spaceWidth,ae=r.scrollWidth,Me=this._lineHeight,je=this._context.model.getLinesIndentGuides(c,y);let lt=0,gt=0,St=0;if(this._activeIndentEnabled&&this._primaryLineNumber){const Gt=this._context.model.getActiveIndentGuide(this._primaryLineNumber,c,y);lt=Gt.startLineNumber,gt=Gt.endLineNumber,St=Gt.indent}const Xt=[];for(let Gt=c;Gt<=y;Gt++){const an=lt<=Gt&&Gt<=gt,dn=Gt-c,Tn=je[dn];let $n="";if(Tn>=1){const Hn=r.visibleRangeForPosition(new Ue.L(Gt,1));let Vn=Hn?Hn.left:0;for(let hi=1;hi<=Tn&&($n+=`<div class="${an&&hi===St?"cigra":"cigr"}" style="left:${Vn}px;height:${Me}px;width:${z}px"></div>`,Vn+=z,!(Vn>ae||this._maxIndentLeft>0&&Vn>this._maxIndentLeft));hi++);}Xt[dn]=$n}this._renderResult=Xt}render(r,c){if(!this._renderResult)return"";const y=c-r;return y<0||y>=this._renderResult.length?"":this._renderResult[y]}}(0,Kt.Ic)((yt,r)=>{const c=yt.getColor(on.tR);c&&r.addRule(`.monaco-editor .lines-content .cigr { box-shadow: 1px 0 0 0 ${c} inset; }`);const y=yt.getColor(on.Ym)||c;y&&r.addRule(`.monaco-editor .lines-content .cigra { box-shadow: 1px 0 0 0 ${y} inset; }`)}),a(1726);class fi{constructor(){this._currentVisibleRange=new ot.e(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(r){this._currentVisibleRange=r}}class hn{constructor(r,c,y,W,z,ae){this.lineNumber=r,this.startColumn=c,this.endColumn=y,this.startScrollTop=W,this.stopScrollTop=z,this.scrollType=ae,this.type="range",this.minLineNumber=r,this.maxLineNumber=r}}class Ze{constructor(r,c,y,W){this.selections=r,this.startScrollTop=c,this.stopScrollTop=y,this.scrollType=W,this.type="selections";let z=r[0].startLineNumber,ae=r[0].endLineNumber;for(let Me=1,je=r.length;Me<je;Me++){const lt=r[Me];z=Math.min(z,lt.startLineNumber),ae=Math.max(ae,lt.endLineNumber)}this.minLineNumber=z,this.maxLineNumber=ae}}let rt=(()=>{class yt extends V{constructor(c,y){super(c),this._linesContent=y,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new ai(this),this.domNode=this._visibleLines.domNode;const W=this._context.configuration,z=this._context.configuration.options,ae=z.get(40),Me=z.get(129);this._lineHeight=z.get(56),this._typicalHalfwidthCharacterWidth=ae.typicalHalfwidthCharacterWidth,this._isViewportWrapping=Me.isViewportWrapping,this._revealHorizontalRightPadding=z.get(87),this._cursorSurroundingLines=z.get(23),this._cursorSurroundingLinesStyle=z.get(24),this._canUseLayerHinting=!z.get(26),this._viewLineOptions=new Ce(W,this._context.theme.type),Z.write(this.domNode,7),this.domNode.setClassName(`view-lines ${Un.S}`),I.V.applyFontInfo(this.domNode,ae),this._maxLineWidth=0,this._asyncUpdateLineWidths=new f.pY(()=>{this._updateLineWidthsSlow()},200),this._asyncCheckMonospaceFontAssumptions=new f.pY(()=>{this._checkMonospaceFontAssumptions()},2e3),this._lastRenderedData=new fi,this._horizontalRevealRequest=null}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new Je(this._viewLineOptions)}onConfigurationChanged(c){this._visibleLines.onConfigurationChanged(c),c.hasChanged(129)&&(this._maxLineWidth=0);const y=this._context.configuration.options,W=y.get(40),z=y.get(129);return this._lineHeight=y.get(56),this._typicalHalfwidthCharacterWidth=W.typicalHalfwidthCharacterWidth,this._isViewportWrapping=z.isViewportWrapping,this._revealHorizontalRightPadding=y.get(87),this._cursorSurroundingLines=y.get(23),this._cursorSurroundingLinesStyle=y.get(24),this._canUseLayerHinting=!y.get(26),I.V.applyFontInfo(this.domNode,W),this._onOptionsMaybeChanged(),c.hasChanged(128)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const y=new Ce(this._context.configuration,this._context.theme.type);if(!this._viewLineOptions.equals(y)){this._viewLineOptions=y;const W=this._visibleLines.getStartLineNumber(),z=this._visibleLines.getEndLineNumber();for(let ae=W;ae<=z;ae++)this._visibleLines.getVisibleLine(ae).onOptionsChanged(this._viewLineOptions);return!0}return!1}onCursorStateChanged(c){const y=this._visibleLines.getStartLineNumber(),W=this._visibleLines.getEndLineNumber();let z=!1;for(let ae=y;ae<=W;ae++)z=this._visibleLines.getVisibleLine(ae).onSelectionChanged()||z;return z}onDecorationsChanged(c){{const y=this._visibleLines.getStartLineNumber(),W=this._visibleLines.getEndLineNumber();for(let z=y;z<=W;z++)this._visibleLines.getVisibleLine(z).onDecorationsChanged()}return!0}onFlushed(c){const y=this._visibleLines.onFlushed(c);return this._maxLineWidth=0,y}onLinesChanged(c){return this._visibleLines.onLinesChanged(c)}onLinesDeleted(c){return this._visibleLines.onLinesDeleted(c)}onLinesInserted(c){return this._visibleLines.onLinesInserted(c)}onRevealRangeRequest(c){const y=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),c.source,c.range,c.selections,c.verticalType);if(-1===y)return!1;let W=this._context.viewLayout.validateScrollPosition({scrollTop:y});c.revealHorizontal?c.range&&c.range.startLineNumber!==c.range.endLineNumber?W={scrollTop:W.scrollTop,scrollLeft:0}:c.range?this._horizontalRevealRequest=new hn(c.range.startLineNumber,c.range.startColumn,c.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),W.scrollTop,c.scrollType):c.selections&&c.selections.length>0&&(this._horizontalRevealRequest=new Ze(c.selections,this._context.viewLayout.getCurrentScrollTop(),W.scrollTop,c.scrollType)):this._horizontalRevealRequest=null;const ae=Math.abs(this._context.viewLayout.getCurrentScrollTop()-W.scrollTop)<=this._lineHeight?1:c.scrollType;return this._context.model.setScrollPosition(W,ae),!0}onScrollChanged(c){if(this._horizontalRevealRequest&&c.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&c.scrollTopChanged){const y=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),W=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(c.scrollTop<y||c.scrollTop>W)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(c.scrollWidth),this._visibleLines.onScrollChanged(c)||!0}onTokensChanged(c){return this._visibleLines.onTokensChanged(c)}onZonesChanged(c){return this._context.model.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(c)}onThemeChanged(c){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(c,y){const W=this._getViewLineDomNode(c);if(null===W)return null;const z=this._getLineNumberFor(W);if(-1===z||z<1||z>this._context.model.getLineCount())return null;if(1===this._context.model.getLineMaxColumn(z))return new Ue.L(z,1);const ae=this._visibleLines.getStartLineNumber(),Me=this._visibleLines.getEndLineNumber();if(z<ae||z>Me)return null;let je=this._visibleLines.getVisibleLine(z).getColumnOfNodeOffset(z,c,y);const lt=this._context.model.getLineMinColumn(z);return je<lt&&(je=lt),new Ue.L(z,je)}_getViewLineDomNode(c){for(;c&&1===c.nodeType;){if(c.className===Je.CLASS_NAME)return c;c=c.parentElement}return null}_getLineNumberFor(c){const y=this._visibleLines.getStartLineNumber(),W=this._visibleLines.getEndLineNumber();for(let z=y;z<=W;z++)if(c===this._visibleLines.getVisibleLine(z).getDomNode())return z;return-1}getLineWidth(c){const y=this._visibleLines.getStartLineNumber(),W=this._visibleLines.getEndLineNumber();return c<y||c>W?-1:this._visibleLines.getVisibleLine(c).getWidth()}linesVisibleRangesForRange(c,y){if(this.shouldRender())return null;const W=c.endLineNumber,z=ot.e.intersectRanges(c,this._lastRenderedData.getCurrentVisibleRange());if(!z)return null;let ae=[],Me=0;const je=new Te(this.domNode.domNode,this._textRangeRestingSpot);let lt=0;y&&(lt=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new Ue.L(z.startLineNumber,1)).lineNumber);const gt=this._visibleLines.getStartLineNumber(),St=this._visibleLines.getEndLineNumber();for(let Xt=z.startLineNumber;Xt<=z.endLineNumber;Xt++){if(Xt<gt||Xt>St)continue;const Gt=Xt===z.startLineNumber?z.startColumn:1,an=Xt===z.endLineNumber?z.endColumn:this._context.model.getLineMaxColumn(Xt),dn=this._visibleLines.getVisibleLine(Xt).getVisibleRangesForRange(Gt,an,je);if(dn){if(y&&Xt<W){const Tn=lt;lt=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new Ue.L(Xt+1,1)).lineNumber,Tn!==lt&&(dn.ranges[dn.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}ae[Me++]=new oe(dn.outsideRenderedLine,Xt,dn.ranges)}}return 0===Me?null:ae}_visibleRangesForLineRange(c,y,W){return this.shouldRender()||c<this._visibleLines.getStartLineNumber()||c>this._visibleLines.getEndLineNumber()?null:this._visibleLines.getVisibleLine(c).getVisibleRangesForRange(y,W,new Te(this.domNode.domNode,this._textRangeRestingSpot))}visibleRangeForPosition(c){const y=this._visibleRangesForLineRange(c.lineNumber,c.column,c.column);return y?new K(y.outsideRenderedLine,y.ranges[0].left):null}updateLineWidths(){this._updateLineWidths(!1)}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidths(c){const y=this._visibleLines.getStartLineNumber(),W=this._visibleLines.getEndLineNumber();let z=1,ae=!0;for(let Me=y;Me<=W;Me++){const je=this._visibleLines.getVisibleLine(Me);!c||je.getWidthIsFast()?z=Math.max(z,je.getWidth()):ae=!1}return ae&&1===y&&W===this._context.model.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(z),ae}_checkMonospaceFontAssumptions(){let c=-1,y=-1;const W=this._visibleLines.getStartLineNumber(),z=this._visibleLines.getEndLineNumber();for(let ae=W;ae<=z;ae++){const Me=this._visibleLines.getVisibleLine(ae);if(Me.needsMonospaceFontCheck()){const je=Me.getWidth();je>y&&(y=je,c=ae)}}if(-1!==c&&!this._visibleLines.getVisibleLine(c).monospaceAssumptionsAreValid())for(let ae=W;ae<=z;ae++)this._visibleLines.getVisibleLine(ae).onMonospaceAssumptionsInvalidated()}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(c){if(this._visibleLines.renderLines(c),this._lastRenderedData.setCurrentVisibleRange(c.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const W=this._horizontalRevealRequest;if(c.startLineNumber<=W.minLineNumber&&W.maxLineNumber<=c.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const z=this._computeScrollLeftToReveal(W);z&&(this._isViewportWrapping||this._ensureMaxLineWidth(z.maxHorizontalOffset),this._context.model.setScrollPosition({scrollLeft:z.scrollLeft},W.scrollType))}}if(this._updateLineWidthsFast()||this._asyncUpdateLineWidths.schedule(),v.IJ&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const W=this._visibleLines.getStartLineNumber(),z=this._visibleLines.getEndLineNumber();for(let ae=W;ae<=z;ae++)if(this._visibleLines.getVisibleLine(ae).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const y=this._context.viewLayout.getCurrentScrollTop()-c.bigNumbersDelta;this._linesContent.setTop(-y),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(c){const y=Math.ceil(c);this._maxLineWidth<y&&(this._maxLineWidth=y,this._context.model.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(c,y,W,z,ae){const Me=c.top,je=c.height,lt=Me+je;let gt,St,Xt,an;if(z&&z.length>0){let dn=z[0].startLineNumber,Tn=z[0].endLineNumber;for(let $n=1,Hn=z.length;$n<Hn;$n++){const Vn=z[$n];dn=Math.min(dn,Vn.startLineNumber),Tn=Math.max(Tn,Vn.endLineNumber)}gt=!1,St=this._context.viewLayout.getVerticalOffsetForLineNumber(dn),Xt=this._context.viewLayout.getVerticalOffsetForLineNumber(Tn)+this._lineHeight}else{if(!W)return-1;gt=!0,St=this._context.viewLayout.getVerticalOffsetForLineNumber(W.startLineNumber),Xt=this._context.viewLayout.getVerticalOffsetForLineNumber(W.endLineNumber)+this._lineHeight}if("mouse"!==y||"default"!==this._cursorSurroundingLinesStyle){const dn=Math.min(je/this._lineHeight/2,this._cursorSurroundingLines);St-=dn*this._lineHeight,Xt+=Math.max(0,dn-1)*this._lineHeight}if((0===ae||4===ae)&&(Xt+=this._lineHeight),Xt-St>je){if(!gt)return-1;an=St}else if(5===ae||6===ae)if(6===ae&&Me<=St&&Xt<=lt)an=Me;else{const dn=Math.max(5*this._lineHeight,.2*je);an=Math.max(Xt-je,St-dn)}else an=1===ae||2===ae?2===ae&&Me<=St&&Xt<=lt?Me:Math.max(0,(St+Xt)/2-je/2):this._computeMinimumScrolling(Me,lt,St,Xt,3===ae,4===ae);return an}_computeScrollLeftToReveal(c){const y=this._context.viewLayout.getCurrentViewport(),W=y.left,z=W+y.width;let ae=1073741824,Me=0;if("range"===c.type){const lt=this._visibleRangesForLineRange(c.lineNumber,c.startColumn,c.endColumn);if(!lt)return null;for(const gt of lt.ranges)ae=Math.min(ae,gt.left),Me=Math.max(Me,gt.left+gt.width)}else for(const lt of c.selections){if(lt.startLineNumber!==lt.endLineNumber)return null;const gt=this._visibleRangesForLineRange(lt.startLineNumber,lt.startColumn,lt.endColumn);if(!gt)return null;for(const St of gt.ranges)ae=Math.min(ae,St.left),Me=Math.max(Me,St.left+St.width)}return ae=Math.max(0,ae-yt.HORIZONTAL_EXTRA_PX),Me+=this._revealHorizontalRightPadding,"selections"===c.type&&Me-ae>y.width?null:{scrollLeft:this._computeMinimumScrolling(W,z,ae,Me),maxHorizontalOffset:Me}}_computeMinimumScrolling(c,y,W,z,ae,Me){ae=!!ae,Me=!!Me;const je=(y|=0)-(c|=0);return(z|=0)-(W|=0)<je?ae?W:Me?Math.max(0,z-je):W<c?W:z>y?Math.max(0,z-je):c:W}}return yt.HORIZONTAL_EXTRA_PX=30,yt})();a(6232);class we extends Cn{constructor(r){super(),this._context=r;const y=this._context.configuration.options.get(128);this._decorationsLeft=y.decorationsLeft,this._decorationsWidth=y.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(r){const y=this._context.configuration.options.get(128);return this._decorationsLeft=y.decorationsLeft,this._decorationsWidth=y.decorationsWidth,!0}onDecorationsChanged(r){return!0}onFlushed(r){return!0}onLinesChanged(r){return!0}onLinesDeleted(r){return!0}onLinesInserted(r){return!0}onScrollChanged(r){return r.scrollTopChanged}onZonesChanged(r){return!0}_getDecorations(r){const c=r.getDecorationsInViewport();let y=[],W=0;for(let z=0,ae=c.length;z<ae;z++){const Me=c[z],je=Me.options.linesDecorationsClassName;je&&(y[W++]=new un(Me.range.startLineNumber,Me.range.endLineNumber,je));const lt=Me.options.firstLineDecorationClassName;lt&&(y[W++]=new un(Me.range.startLineNumber,Me.range.startLineNumber,lt))}return y}prepareRender(r){const c=r.visibleRange.startLineNumber,y=r.visibleRange.endLineNumber,W=this._render(c,y,this._getDecorations(r)),Me='" style="left:'+this._decorationsLeft.toString()+"px;width:"+this._decorationsWidth.toString()+'px;"></div>',je=[];for(let lt=c;lt<=y;lt++){const gt=lt-c,St=W[gt];let Xt="";for(let Gt=0,an=St.length;Gt<an;Gt++)Xt+='<div class="cldr '+St[Gt]+Me;je[gt]=Xt}this._renderResult=je}render(r,c){return this._renderResult?this._renderResult[c-r]:""}}a(1356);class Ye extends Cn{constructor(r){super(),this._context=r,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(r){return!0}onDecorationsChanged(r){return!0}onFlushed(r){return!0}onLinesChanged(r){return!0}onLinesDeleted(r){return!0}onLinesInserted(r){return!0}onScrollChanged(r){return r.scrollTopChanged}onZonesChanged(r){return!0}_getDecorations(r){const c=r.getDecorationsInViewport();let y=[],W=0;for(let z=0,ae=c.length;z<ae;z++){const Me=c[z],je=Me.options.marginClassName;je&&(y[W++]=new un(Me.range.startLineNumber,Me.range.endLineNumber,je))}return y}prepareRender(r){const c=r.visibleRange.startLineNumber,y=r.visibleRange.endLineNumber,W=this._render(c,y,this._getDecorations(r)),z=[];for(let ae=c;ae<=y;ae++){const Me=ae-c,je=W[Me];let lt="";for(let gt=0,St=je.length;gt<St;gt++)lt+='<div class="cmdr '+je[gt]+'" style=""></div>';z[Me]=lt}this._renderResult=z}render(r,c){return this._renderResult?this._renderResult[c-r]:""}}a(8435);class $t{constructor(r,c,y,W){this._rgba8Brand=void 0,this.r=$t._clamp(r),this.g=$t._clamp(c),this.b=$t._clamp(y),this.a=$t._clamp(W)}equals(r){return this.r===r.r&&this.g===r.g&&this.b===r.b&&this.a===r.a}static _clamp(r){return r<0?0:r>255?255:0|r}}$t.Empty=new $t(0,0,0,0);var Zt=a(6412);let fn=(()=>{class yt{constructor(){this._onDidChange=new C.Q5,this.onDidChange=this._onDidChange.event,this._updateColorMap(),Zt.RW.onDidChange(c=>{c.changedColorMap&&this._updateColorMap()})}static getInstance(){return this._INSTANCE||(this._INSTANCE=new yt),this._INSTANCE}_updateColorMap(){const c=Zt.RW.getColorMap();if(!c)return this._colors=[$t.Empty],void(this._backgroundIsLight=!0);this._colors=[$t.Empty];for(let W=1;W<c.length;W++){const z=c[W].rgba;this._colors[W]=new $t(z.r,z.g,z.b,Math.round(255*z.a))}let y=c[2].getRelativeLuminance();this._backgroundIsLight=y>=.5,this._onDidChange.fire(void 0)}getColor(c){return(c<1||c>=this._colors.length)&&(c=2),this._colors[c]}backgroundIsLight(){return this._backgroundIsLight}}return yt._INSTANCE=null,yt})();var In=a(5670),_n=a(7251);const On=(()=>{const yt=[];for(let r=32;r<=126;r++)yt.push(r);return yt.push(65533),yt})();var Wn=a(8837);class oi{constructor(r,c){this.scale=c,this._minimapCharRendererBrand=void 0,this.charDataNormal=oi.soften(r,.8),this.charDataLight=oi.soften(r,50/60)}static soften(r,c){let y=new Uint8ClampedArray(r.length);for(let W=0,z=r.length;W<z;W++)y[W]=(0,Wn.K)(r[W]*c);return y}renderChar(r,c,y,W,z,ae,Me,je,lt){const gt=1*this.scale,St=2*this.scale,Xt=lt?1:St;if(c+gt>r.width||y+Xt>r.height)return void console.warn("bad render request outside image data");const Gt=je?this.charDataLight:this.charDataNormal,an=((yt,r)=>(yt-=32)<0||yt>96?r<=2?(yt+96)%96:95:yt)(W,Me),dn=4*r.width,Tn=ae.r,$n=ae.g,Hn=ae.b,Vn=z.r-Tn,hi=z.g-$n,Jn=z.b-Hn,li=r.data;let ui=an*gt*St,_i=y*dn+4*c;for(let xi=0;xi<Xt;xi++){let Ai=_i;for(let wi=0;wi<gt;wi++){const Is=Gt[ui++]/255;li[Ai++]=Tn+Vn*Is,li[Ai++]=$n+hi*Is,li[Ai++]=Hn+Jn*Is,Ai++}_i+=dn}}blockRenderChar(r,c,y,W,z,ae,Me){const je=1*this.scale,gt=Me?1:2*this.scale;if(c+je>r.width||y+gt>r.height)return void console.warn("bad render request outside image data");const St=4*r.width,Gt=z.r,an=z.g,dn=z.b,Vn=Gt+.5*(W.r-Gt),hi=an+.5*(W.g-an),Jn=dn+.5*(W.b-dn),li=r.data;let ui=y*St+4*c;for(let _i=0;_i<gt;_i++){let xi=ui;for(let Ai=0;Ai<je;Ai++)li[xi++]=Vn,li[xi++]=hi,li[xi++]=Jn,xi++;ui+=St}}}var Wt=a(3245);const X={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15},Ie=yt=>{const r=new Uint8ClampedArray(yt.length/2);for(let c=0;c<yt.length;c+=2)r[c>>1]=X[yt[c]]<<4|15&X[yt[c+1]];return r},et={1:(0,Wt.I)(()=>Ie("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:(0,Wt.I)(()=>Ie("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))};class wt{static create(r,c){if(this.lastCreated&&r===this.lastCreated.scale&&c===this.lastFontFamily)return this.lastCreated;let y;return y=et[r]?new oi(et[r](),r):wt.createFromSampleData(wt.createSampleData(c).data,r),this.lastFontFamily=c,this.lastCreated=y,y}static createSampleData(r){const c=document.createElement("canvas"),y=c.getContext("2d");c.style.height="16px",c.height=16,c.width=960,c.style.width="960px",y.fillStyle="#ffffff",y.font=`bold 16px ${r}`,y.textBaseline="middle";let W=0;for(const z of On)y.fillText(String.fromCharCode(z),W,8),W+=10;return y.getImageData(0,0,960,16)}static createFromSampleData(r,c){if(61440!==r.length)throw new Error("Unexpected source in MinimapCharRenderer");let W=wt._downsample(r,c);return new oi(W,c)}static _downsampleChar(r,c,y,W,z){const ae=1*z,Me=2*z;let je=W,lt=0;for(let gt=0;gt<Me;gt++){const St=gt/Me*16,Xt=(gt+1)/Me*16;for(let Gt=0;Gt<ae;Gt++){const an=Gt/ae*10,dn=(Gt+1)/ae*10;let Tn=0,$n=0;for(let Vn=St;Vn<Xt;Vn++){const hi=c+3840*Math.floor(Vn),Jn=1-(Vn-Math.floor(Vn));for(let li=an;li<dn;li++){const ui=1-(li-Math.floor(li)),_i=hi+4*Math.floor(li),xi=ui*Jn;$n+=xi,Tn+=r[_i]*r[_i+3]/255*xi}}const Hn=Tn/$n;lt=Math.max(lt,Hn),y[je++]=(0,Wn.K)(Hn)}}return lt}static _downsample(r,c){const y=2*c*1*c,W=96*y,z=new Uint8ClampedArray(W);let ae=0,Me=0,je=0;for(let lt=0;lt<96;lt++)je=Math.max(je,this._downsampleChar(r,Me,z,ae,c)),ae+=y,Me+=40;if(je>0){const lt=255/je;for(let gt=0;gt<W;gt++)z[gt]*=lt}return z}}var Vt=a(2902);class wn{constructor(r,c,y){const W=r.options,z=W.get(126),ae=W.get(128),Me=ae.minimap,je=W.get(40),lt=W.get(62);this.renderMinimap=Me.renderMinimap,this.size=lt.size,this.minimapHeightIsEditorHeight=Me.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=W.get(92),this.showSlider=lt.showSlider,this.pixelRatio=z,this.typicalHalfwidthCharacterWidth=je.typicalHalfwidthCharacterWidth,this.lineHeight=W.get(56),this.minimapLeft=Me.minimapLeft,this.minimapWidth=Me.minimapWidth,this.minimapHeight=ae.height,this.canvasInnerWidth=Me.minimapCanvasInnerWidth,this.canvasInnerHeight=Me.minimapCanvasInnerHeight,this.canvasOuterWidth=Me.minimapCanvasOuterWidth,this.canvasOuterHeight=Me.minimapCanvasOuterHeight,this.isSampling=Me.minimapIsSampling,this.editorHeight=ae.height,this.fontScale=Me.minimapScale,this.minimapLineHeight=Me.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=(0,Wt.I)(()=>wt.create(this.fontScale,je.fontFamily)),this.backgroundColor=wn._getMinimapBackground(c,y)}static _getMinimapBackground(r,c){const y=r.getColor(_n.kV);return y?new $t(y.rgba.r,y.rgba.g,y.rgba.b,y.rgba.a):c.getColor(2)}equals(r){return this.renderMinimap===r.renderMinimap&&this.size===r.size&&this.minimapHeightIsEditorHeight===r.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===r.scrollBeyondLastLine&&this.showSlider===r.showSlider&&this.pixelRatio===r.pixelRatio&&this.typicalHalfwidthCharacterWidth===r.typicalHalfwidthCharacterWidth&&this.lineHeight===r.lineHeight&&this.minimapLeft===r.minimapLeft&&this.minimapWidth===r.minimapWidth&&this.minimapHeight===r.minimapHeight&&this.canvasInnerWidth===r.canvasInnerWidth&&this.canvasInnerHeight===r.canvasInnerHeight&&this.canvasOuterWidth===r.canvasOuterWidth&&this.canvasOuterHeight===r.canvasOuterHeight&&this.isSampling===r.isSampling&&this.editorHeight===r.editorHeight&&this.fontScale===r.fontScale&&this.minimapLineHeight===r.minimapLineHeight&&this.minimapCharWidth===r.minimapCharWidth&&this.backgroundColor&&this.backgroundColor.equals(r.backgroundColor)}}class Ln{constructor(r,c,y,W,z,ae,Me,je){this.scrollTop=r,this.scrollHeight=c,this.sliderNeeded=y,this._computedSliderRatio=W,this.sliderTop=z,this.sliderHeight=ae,this.startLineNumber=Me,this.endLineNumber=je}getDesiredScrollTopFromDelta(r){return Math.round(this.scrollTop+r/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(r){return Math.round((r-this.sliderHeight/2)/this._computedSliderRatio)}static create(r,c,y,W,z,ae,Me,je,lt,gt,St){const Xt=r.pixelRatio,Gt=r.minimapLineHeight,an=Math.floor(r.canvasInnerHeight/Gt),dn=r.lineHeight;if(r.minimapHeightIsEditorHeight){const li=Math.max(1,Math.floor(z*z/(je*r.lineHeight+(r.scrollBeyondLastLine?z-r.lineHeight:0)))),ui=Math.max(0,r.minimapHeight-li),_i=ui/(gt-z),xi=lt*_i,Ai=ui>0,wi=Math.floor(r.canvasInnerHeight/r.minimapLineHeight);return new Ln(lt,gt,Ai,_i,xi,li,1,Math.min(Me,wi))}let Tn,$n;Tn=ae&&y!==Me?Math.floor((y-c+1)*Gt/Xt):Math.floor(z/dn*Gt/Xt),$n=r.scrollBeyondLastLine?(Me-1)*Gt/Xt:Math.max(0,Me*Gt/Xt-Tn),$n=Math.min(r.minimapHeight-Tn,$n);const Hn=$n/(gt-z),Vn=lt*Hn;let hi=0;if(r.scrollBeyondLastLine&&(hi=z/dn-1),an>=Me+hi)return new Ln(lt,gt,$n>0,Hn,Vn,Tn,1,Me);{let Jn=Math.max(1,Math.floor(c-Vn*Xt/Gt));St&&St.scrollHeight===gt&&(St.scrollTop>lt&&(Jn=Math.min(Jn,St.startLineNumber)),St.scrollTop<lt&&(Jn=Math.max(Jn,St.startLineNumber)));const li=Math.min(Me,Jn+an-1);return new Ln(lt,gt,!0,Hn,(c-Jn+(lt-W)/dn)*Gt/Xt,Tn,Jn,li)}}}class Rn{constructor(r){this.dy=r}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}Rn.INVALID=new Rn(-1);class Gn{constructor(r,c,y){this.renderedLayout=r,this._imageData=c,this._renderedLines=new Zn(()=>Rn.INVALID),this._renderedLines._set(r.startLineNumber,y)}linesEquals(r){if(!this.scrollEquals(r))return!1;const y=this._renderedLines._get().lines;for(let W=0,z=y.length;W<z;W++)if(-1===y[W].dy)return!1;return!0}scrollEquals(r){return this.renderedLayout.startLineNumber===r.startLineNumber&&this.renderedLayout.endLineNumber===r.endLineNumber}_get(){const r=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:r.rendLineNumberStart,lines:r.lines}}onLinesChanged(r,c){return this._renderedLines.onLinesChanged(r,c)}onLinesDeleted(r,c){this._renderedLines.onLinesDeleted(r,c)}onLinesInserted(r,c){this._renderedLines.onLinesInserted(r,c)}onTokensChanged(r){return this._renderedLines.onTokensChanged(r)}}class ei{constructor(r,c,y,W){this._backgroundFillData=ei._createBackgroundFillData(c,y,W),this._buffers=[r.createImageData(c,y),r.createImageData(c,y)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const r=this._buffers[this._lastUsedBuffer];return r.data.set(this._backgroundFillData),r}static _createBackgroundFillData(r,c,y){const W=y.r,z=y.g,ae=y.b,Me=new Uint8ClampedArray(r*c*4);let je=0;for(let lt=0;lt<c;lt++)for(let gt=0;gt<r;gt++)Me[je]=W,Me[je+1]=z,Me[je+2]=ae,Me[je+3]=255,je+=4;return Me}}class Xn{constructor(r,c){this.samplingRatio=r,this.minimapLines=c}static compute(r,c,y){if(0===r.renderMinimap||!r.isSampling)return[null,[]];const W=r.pixelRatio,z=r.lineHeight,ae=r.scrollBeyondLastLine,{minimapLineCount:Me}=xe.gk.computeContainedMinimapLineCount({viewLineCount:c,scrollBeyondLastLine:ae,height:r.editorHeight,lineHeight:z,pixelRatio:W}),je=c/Me,lt=je/2;if(!y||0===y.minimapLines.length){let Vn=[];if(Vn[0]=1,Me>1){for(let hi=0,Jn=Me-1;hi<Jn;hi++)Vn[hi]=Math.round(hi*je+lt);Vn[Me-1]=c}return[new Xn(je,Vn),[]]}const gt=y.minimapLines,St=gt.length;let Xt=[],Gt=0,an=0,dn=1,$n=[],Hn=null;for(let Vn=0;Vn<Me;Vn++){const hi=Math.max(dn,Math.round(Vn*je)),Jn=Math.max(hi,Math.round((Vn+1)*je));for(;Gt<St&&gt[Gt]<hi;){if($n.length<10){const ui=Gt+1+an;Hn&&"deleted"===Hn.type&&Hn._oldIndex===Gt-1?Hn.deleteToLineNumber++:(Hn={type:"deleted",_oldIndex:Gt,deleteFromLineNumber:ui,deleteToLineNumber:ui},$n.push(Hn)),an--}Gt++}let li;if(Gt<St&&gt[Gt]<=Jn)li=gt[Gt],Gt++;else if(li=0===Vn?1:Vn+1===Me?c:Math.round(Vn*je+lt),$n.length<10){const ui=Gt+1+an;Hn&&"inserted"===Hn.type&&Hn._i===Vn-1?Hn.insertToLineNumber++:(Hn={type:"inserted",_i:Vn,insertFromLineNumber:ui,insertToLineNumber:ui},$n.push(Hn)),an++}Xt[Vn]=li,dn=li}if($n.length<10)for(;Gt<St;){const Vn=Gt+1+an;Hn&&"deleted"===Hn.type&&Hn._oldIndex===Gt-1?Hn.deleteToLineNumber++:(Hn={type:"deleted",_oldIndex:Gt,deleteFromLineNumber:Vn,deleteToLineNumber:Vn},$n.push(Hn)),an--,Gt++}else $n=[{type:"flush"}];return[new Xn(je,Xt),$n]}modelLineToMinimapLine(r){return Math.min(this.minimapLines.length,Math.max(1,Math.round(r/this.samplingRatio)))}modelLineRangeToMinimapLineRange(r,c){let y=this.modelLineToMinimapLine(r)-1;for(;y>0&&this.minimapLines[y-1]>=r;)y--;let W=this.modelLineToMinimapLine(c)-1;for(;W+1<this.minimapLines.length&&this.minimapLines[W+1]<=c;)W++;if(y===W){const z=this.minimapLines[y];if(z<r||z>c)return null}return[y+1,W+1]}decorationLineRangeToMinimapLineRange(r,c){let y=this.modelLineToMinimapLine(r),W=this.modelLineToMinimapLine(c);return r!==c&&W===y&&(W===this.minimapLines.length?y>1&&y--:W++),[y,W]}onLinesDeleted(r){const c=r.toLineNumber-r.fromLineNumber+1;let y=this.minimapLines.length,W=0;for(let z=this.minimapLines.length-1;z>=0&&!(this.minimapLines[z]<r.fromLineNumber);z--)this.minimapLines[z]<=r.toLineNumber?(this.minimapLines[z]=Math.max(1,r.fromLineNumber-1),y=Math.min(y,z),W=Math.max(W,z)):this.minimapLines[z]-=c;return[y,W]}onLinesInserted(r){const c=r.toLineNumber-r.fromLineNumber+1;for(let y=this.minimapLines.length-1;y>=0&&!(this.minimapLines[y]<r.fromLineNumber);y--)this.minimapLines[y]+=c}}class Sn extends V{constructor(r){super(r),this.tokensColorTracker=fn.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new wn(this._context.configuration,this._context.theme,this.tokensColorTracker);const[c]=Xn.compute(this.options,this._context.model.getLineCount(),null);this._samplingState=c,this._shouldCheckSampling=!1,this._actual=new Qn(r.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const r=new wn(this._context.configuration,this._context.theme,this.tokensColorTracker);return!this.options.equals(r)&&(this.options=r,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(r){return this._onOptionsMaybeChanged()}onCursorStateChanged(r){return this._selections=r.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(r){return!!r.affectsMinimap&&this._actual.onDecorationsChanged()}onFlushed(r){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(r){if(this._samplingState){const c=this._samplingState.modelLineRangeToMinimapLineRange(r.fromLineNumber,r.toLineNumber);return!!c&&this._actual.onLinesChanged(c[0],c[1])}return this._actual.onLinesChanged(r.fromLineNumber,r.toLineNumber)}onLinesDeleted(r){if(this._samplingState){const[c,y]=this._samplingState.onLinesDeleted(r);return c<=y&&this._actual.onLinesChanged(c+1,y+1),this._shouldCheckSampling=!0,!0}return this._actual.onLinesDeleted(r.fromLineNumber,r.toLineNumber)}onLinesInserted(r){return this._samplingState?(this._samplingState.onLinesInserted(r),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(r.fromLineNumber,r.toLineNumber)}onScrollChanged(r){return this._actual.onScrollChanged()}onThemeChanged(r){return this._context.model.invalidateMinimapColorCache(),this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(r){if(this._samplingState){let c=[];for(const y of r.ranges){const W=this._samplingState.modelLineRangeToMinimapLineRange(y.fromLineNumber,y.toLineNumber);W&&c.push({fromLineNumber:W[0],toLineNumber:W[1]})}return!!c.length&&this._actual.onTokensChanged(c)}return this._actual.onTokensChanged(r.ranges)}onTokensColorsChanged(r){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(r){return this._actual.onZonesChanged()}prepareRender(r){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(r){let c=r.visibleRange.startLineNumber,y=r.visibleRange.endLineNumber;this._samplingState&&(c=this._samplingState.modelLineToMinimapLine(c),y=this._samplingState.modelLineToMinimapLine(y));const W={viewportContainsWhitespaceGaps:r.viewportData.whitespaceViewportData.length>0,scrollWidth:r.scrollWidth,scrollHeight:r.scrollHeight,viewportStartLineNumber:c,viewportEndLineNumber:y,viewportStartLineNumberVerticalOffset:r.getVerticalOffsetForLineNumber(c),scrollTop:r.scrollTop,scrollLeft:r.scrollLeft,viewportWidth:r.viewportWidth,viewportHeight:r.viewportHeight};this._actual.render(W)}_recreateLineSampling(){this._minimapSelections=null;const r=Boolean(this._samplingState),[c,y]=Xn.compute(this.options,this._context.model.getLineCount(),this._samplingState);if(this._samplingState=c,r&&this._samplingState)for(const W of y)switch(W.type){case"deleted":this._actual.onLinesDeleted(W.deleteFromLineNumber,W.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(W.insertFromLineNumber,W.insertToLineNumber);break;case"flush":this._actual.onFlushed()}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.model.getLineCount()}getRealLineCount(){return this._context.model.getLineCount()}getLineContent(r){return this._context.model.getLineContent(this._samplingState?this._samplingState.minimapLines[r-1]:r)}getMinimapLinesRenderingData(r,c,y){if(this._samplingState){let W=[];for(let z=0,ae=c-r+1;z<ae;z++)W[z]=y[z]?this._context.model.getViewLineData(this._samplingState.minimapLines[r+z-1]):null;return W}return this._context.model.getMinimapLinesRenderingData(r,c,y).data}getSelections(){if(null===this._minimapSelections)if(this._samplingState){this._minimapSelections=[];for(const r of this._selections){const[c,y]=this._samplingState.decorationLineRangeToMinimapLineRange(r.startLineNumber,r.endLineNumber);this._minimapSelections.push(new E.Y(c,r.startColumn,y,r.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(r,c){let y;if(this._samplingState){const ae=this._samplingState.minimapLines[c-1];y=new ot.e(this._samplingState.minimapLines[r-1],1,ae,this._context.model.getLineMaxColumn(ae))}else y=new ot.e(r,1,c,this._context.model.getLineMaxColumn(c));const W=this._context.model.getDecorationsInViewport(y);if(this._samplingState){let z=[];for(const ae of W){if(!ae.options.minimap)continue;const Me=ae.range,je=this._samplingState.modelLineToMinimapLine(Me.startLineNumber),lt=this._samplingState.modelLineToMinimapLine(Me.endLineNumber);z.push(new In.$l(new ot.e(je,Me.startColumn,lt,Me.endColumn),ae.options))}return z}return W}getOptions(){return this._context.model.getTextModelOptions()}revealLineNumber(r){this._samplingState&&(r=this._samplingState.minimapLines[r-1]),this._context.model.revealRange("mouse",!1,new ot.e(r,1,r,1),1,0)}setScrollTop(r){this._context.model.setScrollPosition({scrollTop:r},1)}}class Qn extends g.JT{constructor(r,c){super(),this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=r,this._model=c,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(_n.ov),this._domNode=(0,S.X)(document.createElement("div")),Z.write(this._domNode,8),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=(0,S.X)(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=(0,S.X)(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=(0,S.X)(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=(0,S.X)(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=(0,S.X)(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._mouseDownListener=R.mu(this._domNode.domNode,"mousedown",y=>{if(y.preventDefault(),0===this._model.options.renderMinimap||!this._lastRenderData)return;if("proportional"!==this._model.options.size){if(y.leftButton&&this._lastRenderData){const lt=R.i(this._slider.domNode);this._startSliderDragging(y.buttons,y.posx,lt.top+lt.height/2,y.posy,this._lastRenderData.renderedLayout)}return}let je=Math.floor(this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*y.browserEvent.offsetY/this._model.options.minimapLineHeight)+this._lastRenderData.renderedLayout.startLineNumber;je=Math.min(je,this._model.getLineCount()),this._model.revealLineNumber(je)}),this._sliderMouseMoveMonitor=new m.Z,this._sliderMouseDownListener=R.mu(this._slider.domNode,"mousedown",y=>{y.preventDefault(),y.stopPropagation(),y.leftButton&&this._lastRenderData&&this._startSliderDragging(y.buttons,y.posx,y.posy,y.posy,this._lastRenderData.renderedLayout)}),this._gestureDisposable=M.o.addTarget(this._domNode.domNode),this._sliderTouchStartListener=R.nm(this._domNode.domNode,M.t.Start,y=>{y.preventDefault(),y.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(y))},{passive:!1}),this._sliderTouchMoveListener=R.nm(this._domNode.domNode,M.t.Change,y=>{y.preventDefault(),y.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(y)},{passive:!1}),this._sliderTouchEndListener=R.mu(this._domNode.domNode,M.t.End,y=>{y.preventDefault(),y.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)})}_startSliderDragging(r,c,y,W,z){this._slider.toggleClassName("active",!0);const ae=(Me,je)=>{const lt=Math.abs(je-c);this._model.setScrollTop(v.ED&&lt>140?z.scrollTop:z.getDesiredScrollTopFromDelta(Me-y))};W!==y&&ae(W,c),this._sliderMouseMoveMonitor.startMonitoring(this._slider.domNode,r,m.e,Me=>ae(Me.posy,Me.posx),()=>{this._slider.toggleClassName("active",!1)})}scrollDueToTouchEvent(r){const c=this._domNode.domNode.getBoundingClientRect().top,y=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(r.pageY-c);this._model.setScrollTop(y)}dispose(){this._mouseDownListener.dispose(),this._sliderMouseMoveMonitor.dispose(),this._sliderMouseDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){return"always"===this._model.options.showSlider?"minimap slider-always":"minimap slider-mouseover"}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new ei(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(r,c){return!!this._lastRenderData&&this._lastRenderData.onLinesChanged(r,c)}onLinesDeleted(r,c){return this._lastRenderData&&this._lastRenderData.onLinesDeleted(r,c),!0}onLinesInserted(r,c){return this._lastRenderData&&this._lastRenderData.onLinesInserted(r,c),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(_n.ov),this._renderDecorations=!0,!0}onTokensChanged(r){return!!this._lastRenderData&&this._lastRenderData.onTokensChanged(r)}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(r){if(0===this._model.options.renderMinimap)return this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),void this._sliderHorizontal.setHeight(0);this._shadow.setClassName(r.scrollLeft+r.viewportWidth>=r.scrollWidth?"minimap-shadow-hidden":"minimap-shadow-visible");const y=Ln.create(this._model.options,r.viewportStartLineNumber,r.viewportEndLineNumber,r.viewportStartLineNumberVerticalOffset,r.viewportHeight,r.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),r.scrollTop,r.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(y.sliderNeeded?"block":"none"),this._slider.setTop(y.sliderTop),this._slider.setHeight(y.sliderHeight);const z=Math.min(this._model.options.minimapWidth,Math.round(r.scrollLeft/this._model.options.typicalHalfwidthCharacterWidth*this._model.options.minimapCharWidth/this._model.options.pixelRatio));this._sliderHorizontal.setLeft(z),this._sliderHorizontal.setWidth(this._model.options.minimapWidth-z),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(y.sliderHeight),this.renderDecorations(y),this._lastRenderData=this.renderLines(y)}renderDecorations(r){if(this._renderDecorations){this._renderDecorations=!1;const c=this._model.getSelections(),y=this._model.getMinimapDecorationsInViewport(r.startLineNumber,r.endLineNumber),{canvasInnerWidth:W,canvasInnerHeight:z}=this._model.options,ae=this._model.options.minimapLineHeight,Me=this._model.options.minimapCharWidth,je=this._model.getOptions().tabSize,lt=this._decorationsCanvas.domNode.getContext("2d");lt.clearRect(0,0,W,z);const gt=new Map;for(let St=0;St<c.length;St++){const Xt=c[St];for(let Gt=Xt.startLineNumber;Gt<=Xt.endLineNumber;Gt++)this.renderDecorationOnLine(lt,gt,Xt,this._selectionColor,r,Gt,ae,ae,je,Me)}for(let St=0;St<y.length;St++){const Xt=y[St];if(!Xt.options.minimap)continue;const Gt=Xt.options.minimap.getColor(this._theme);for(let an=Xt.range.startLineNumber;an<=Xt.range.endLineNumber;an++)switch(Xt.options.minimap.position){case Vt.F5.Inline:this.renderDecorationOnLine(lt,gt,Xt.range,Gt,r,an,ae,ae,je,Me);continue;case Vt.F5.Gutter:this.renderDecoration(lt,Gt,2,(an-r.startLineNumber)*ae,2,ae);continue}}}}renderDecorationOnLine(r,c,y,W,z,ae,Me,je,lt,gt){const St=(ae-z.startLineNumber)*je;if(St+Me<0||St>this._model.options.canvasInnerHeight)return;let Xt=c.get(ae);const Gt=!Xt;if(!Xt){const hi=this._model.getLineContent(ae);Xt=[xe.y0];for(let Jn=1;Jn<hi.length+1;Jn++){const li=hi.charCodeAt(Jn-1),ui=9===li?lt*gt:at.K7(li)?2*gt:gt;Xt[Jn]=Xt[Jn-1]+ui}c.set(ae,Xt)}const{startColumn:an,endColumn:dn,startLineNumber:Tn,endLineNumber:$n}=y,Hn=Tn===ae?Xt[an-1]:xe.y0,Vn=$n>ae?Xt.length-1:dn-1;Vn>0&&this.renderDecoration(r,W,Hn,St,Xt[Vn]-Hn||2,Me),Gt&&this.renderLineHighlight(r,W,St,Me)}renderLineHighlight(r,c,y,W){r.fillStyle=c&&c.transparent(.5).toString()||"",r.fillRect(xe.y0,y,r.canvas.width,W)}renderDecoration(r,c,y,W,z,ae){r.fillStyle=c&&c.toString()||"",r.fillRect(y,W,z,ae)}renderLines(r){const c=r.startLineNumber,y=r.endLineNumber,W=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(r)){const wi=this._lastRenderData._get();return new Gn(r,wi.imageData,wi.lines)}const z=this._getBuffer();if(!z)return null;let[ae,Me,je]=Qn._renderUntouchedLines(z,c,y,W,this._lastRenderData);const lt=this._model.getMinimapLinesRenderingData(c,y,je),gt=this._model.getOptions().tabSize,St=this._model.options.backgroundColor,Xt=this._model.tokensColorTracker,Gt=Xt.backgroundIsLight(),an=this._model.options.renderMinimap,dn=this._model.options.charRenderer(),Tn=this._model.options.fontScale,$n=this._model.options.minimapCharWidth,Vn=(1===an?2:3)*Tn,hi=W>Vn?Math.floor((W-Vn)/2):0;let Jn=0;const li=[];for(let wi=0,Is=y-c+1;wi<Is;wi++)je[wi]&&Qn._renderLine(z,St,Gt,an,$n,Xt,dn,Jn,hi,gt,lt[wi],Tn,W),li[wi]=new Rn(Jn),Jn+=W;const ui=-1===ae?0:ae,xi=(-1===Me?z.height:Me)-ui;return this._canvas.domNode.getContext("2d").putImageData(z,0,0,0,ui,z.width,xi),new Gn(r,z,li)}static _renderUntouchedLines(r,c,y,W,z){const ae=[];if(!z){for(let _i=0,xi=y-c+1;_i<xi;_i++)ae[_i]=!0;return[-1,-1,ae]}const Me=z._get(),je=Me.imageData.data,lt=Me.rendLineNumberStart,gt=Me.lines,St=gt.length,Xt=r.width,Gt=r.data,an=(y-c+1)*W*Xt*4;let dn=-1,Tn=-1,$n=-1,Hn=-1,Vn=-1,hi=-1,Jn=0;for(let _i=c;_i<=y;_i++){const xi=_i-c,Ai=_i-lt,wi=Ai>=0&&Ai<St?gt[Ai].dy:-1;if(-1===wi){ae[xi]=!0,Jn+=W;continue}const Is=wi*Xt*4,Ts=(wi+W)*Xt*4,Hs=Jn*Xt*4,Cs=(Jn+W)*Xt*4;Hn===Is&&hi===Hs?(Hn=Ts,hi=Cs):(-1!==$n&&(Gt.set(je.subarray($n,Hn),Vn),-1===dn&&0===$n&&$n===Vn&&(dn=Hn),-1===Tn&&Hn===an&&$n===Vn&&(Tn=$n)),$n=Is,Hn=Ts,Vn=Hs,hi=Cs),ae[xi]=!1,Jn+=W}return-1!==$n&&(Gt.set(je.subarray($n,Hn),Vn),-1===dn&&0===$n&&$n===Vn&&(dn=Hn),-1===Tn&&Hn===an&&$n===Vn&&(Tn=$n)),[-1===dn?-1:dn/(4*Xt),-1===Tn?-1:Tn/(4*Xt),ae]}static _renderLine(r,c,y,W,z,ae,Me,je,lt,gt,St,Xt,Gt){const an=St.content,dn=St.tokens,Tn=r.width-z,$n=1===Gt;let Hn=xe.y0,Vn=0,hi=0;for(let Jn=0,li=dn.getCount();Jn<li;Jn++){const ui=dn.getEndOffset(Jn),_i=dn.getForeground(Jn),xi=ae.getColor(_i);for(;Vn<ui;Vn++){if(Hn>Tn)return;const Ai=an.charCodeAt(Vn);if(9===Ai){const wi=gt-(Vn+hi)%gt;hi+=wi-1,Hn+=wi*z}else if(32===Ai)Hn+=z;else{const wi=at.K7(Ai)?2:1;for(let Is=0;Is<wi;Is++)if(2===W?Me.blockRenderChar(r,Hn,je+lt,xi,c,y,$n):Me.renderChar(r,Hn,je+lt,Ai,xi,c,Xt,y,$n),Hn+=z,Hn>Tn)return}}}}}(0,Kt.Ic)((yt,r)=>{const c=yt.getColor(_n.kV);c&&r.addRule(`.monaco-editor .minimap > canvas { opacity: ${c.rgba.a}; will-change: opacity; }`);const y=yt.getColor(_n.CA);y&&r.addRule(`.monaco-editor .minimap-slider .minimap-slider-horizontal { background: ${y}; }`);const W=yt.getColor(_n.Xy);W&&r.addRule(`.monaco-editor .minimap-slider:hover .minimap-slider-horizontal { background: ${W}; }`);const z=yt.getColor(_n.br);z&&r.addRule(`.monaco-editor .minimap-slider.active .minimap-slider-horizontal { background: ${z}; }`);const ae=yt.getColor(_n._w);ae&&r.addRule(`.monaco-editor .minimap-shadow-visible { box-shadow: ${ae} -6px 0 6px -6px inset; }`)}),a(6219);class Hi extends V{constructor(r){super(r);const y=this._context.configuration.options.get(128);this._widgets={},this._verticalScrollbarWidth=y.verticalScrollbarWidth,this._minimapWidth=y.minimap.minimapWidth,this._horizontalScrollbarHeight=y.horizontalScrollbarHeight,this._editorHeight=y.height,this._editorWidth=y.width,this._domNode=(0,S.X)(document.createElement("div")),Z.write(this._domNode,4),this._domNode.setClassName("overlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(r){const y=this._context.configuration.options.get(128);return this._verticalScrollbarWidth=y.verticalScrollbarWidth,this._minimapWidth=y.minimap.minimapWidth,this._horizontalScrollbarHeight=y.horizontalScrollbarHeight,this._editorHeight=y.height,this._editorWidth=y.width,!0}addWidget(r){const c=(0,S.X)(r.getDomNode());this._widgets[r.getId()]={widget:r,preference:null,domNode:c},c.setPosition("absolute"),c.setAttribute("widgetId",r.getId()),this._domNode.appendChild(c),this.setShouldRender()}setWidgetPosition(r,c){const y=this._widgets[r.getId()];return y.preference!==c&&(y.preference=c,this.setShouldRender(),!0)}removeWidget(r){const c=r.getId();if(this._widgets.hasOwnProperty(c)){const W=this._widgets[c].domNode.domNode;delete this._widgets[c],W.parentNode.removeChild(W),this.setShouldRender()}}_renderWidget(r){const c=r.domNode;null!==r.preference?0===r.preference?(c.setTop(0),c.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)):1===r.preference?(c.setTop(this._editorHeight-c.domNode.clientHeight-2*this._horizontalScrollbarHeight),c.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)):2===r.preference&&(c.setTop(0),c.domNode.style.right="50%"):c.unsetTop()}prepareRender(r){}render(r){this._domNode.setWidth(this._editorWidth);const c=Object.keys(this._widgets);for(let y=0,W=c.length;y<W;y++)this._renderWidget(this._widgets[c[y]])}}var js=a(3727);class Rs{constructor(r,c){const y=r.options;this.lineHeight=y.get(56),this.pixelRatio=y.get(126),this.overviewRulerLanes=y.get(71),this.renderBorder=y.get(70);const W=c.getColor(on.zw);this.borderColor=W?W.toString():null,this.hideCursor=y.get(48);const z=c.getColor(on.n0);this.cursorColor=z?z.transparent(.7).toString():null,this.themeType=c.type;const ae=y.get(62),je=ae.side,lt=ae.enabled?c.getColor(on.e_)||Zt.RW.getDefaultBackground():null;this.backgroundColor=null===lt||"left"===je?null:js.Il.Format.CSS.formatHex(lt);const St=y.get(128).overviewRuler;this.top=St.top,this.right=St.right,this.domWidth=St.width,this.domHeight=St.height,0===this.overviewRulerLanes?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[Xt,Gt]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=Xt,this.w=Gt}_initLanes(r,c,y){const W=c-r;if(y>=3){const z=Math.floor(W/3),ae=Math.floor(W/3),Me=W-z-ae,lt=r+z;return[[0,r,lt,r,r+z+Me,r,lt,r],[0,z,Me,z+Me,ae,z+Me+ae,Me+ae,z+Me+ae]]}if(2===y){const z=Math.floor(W/2),ae=W-z;return[[0,r,r,r,r+z,r,r,r],[0,z,z,z,ae,z+ae,z+ae,z+ae]]}return[[0,r,r,r,r,r,r,r],[0,W,W,W,W,W,W,W]]}equals(r){return this.lineHeight===r.lineHeight&&this.pixelRatio===r.pixelRatio&&this.overviewRulerLanes===r.overviewRulerLanes&&this.renderBorder===r.renderBorder&&this.borderColor===r.borderColor&&this.hideCursor===r.hideCursor&&this.cursorColor===r.cursorColor&&this.themeType===r.themeType&&this.backgroundColor===r.backgroundColor&&this.top===r.top&&this.right===r.right&&this.domWidth===r.domWidth&&this.domHeight===r.domHeight&&this.canvasWidth===r.canvasWidth&&this.canvasHeight===r.canvasHeight}}class Ks extends V{constructor(r){super(r),this._domNode=(0,S.X)(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=Zt.RW.onDidChange(c=>{c.changedColorMap&&this._updateSettings(!0)}),this._cursorPositions=[]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(r){const c=new Rs(this._context.configuration,this._context.theme);return!(this._settings&&this._settings.equals(c)||(this._settings=c,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,r&&this._render(),0))}onConfigurationChanged(r){return this._updateSettings(!1)}onCursorStateChanged(r){this._cursorPositions=[];for(let c=0,y=r.selections.length;c<y;c++)this._cursorPositions[c]=r.selections[c].getPosition();return this._cursorPositions.sort(Ue.L.compare),!0}onDecorationsChanged(r){return!!r.affectsOverviewRuler}onFlushed(r){return!0}onScrollChanged(r){return r.scrollHeightChanged}onZonesChanged(r){return!0}onThemeChanged(r){return this._context.model.invalidateOverviewRulerColorCache(),this._updateSettings(!1)}getDomNode(){return this._domNode.domNode}prepareRender(r){}render(r){this._render()}_render(){if(0===this._settings.overviewRulerLanes)return void this._domNode.setBackgroundColor(this._settings.backgroundColor?this._settings.backgroundColor:"");const r=this._settings.canvasWidth,c=this._settings.canvasHeight,y=this._settings.lineHeight,W=this._context.viewLayout,ae=c/this._context.viewLayout.getScrollHeight(),Me=this._context.model.getAllOverviewRulerDecorations(this._context.theme),je=6*this._settings.pixelRatio|0,lt=je/2|0,gt=this._domNode.domNode.getContext("2d");null===this._settings.backgroundColor?gt.clearRect(0,0,r,c):(gt.fillStyle=this._settings.backgroundColor,gt.fillRect(0,0,r,c));const St=this._settings.x,Xt=this._settings.w,Gt=Object.keys(Me);Gt.sort();for(let an=0,dn=Gt.length;an<dn;an++){const Tn=Gt[an],$n=Me[Tn];gt.fillStyle=Tn;let Hn=0,Vn=0,hi=0;for(let Jn=0,li=$n.length;Jn<li;Jn++){const ui=$n[3*Jn],xi=$n[3*Jn+2];let Ai=W.getVerticalOffsetForLineNumber($n[3*Jn+1])*ae|0,wi=(W.getVerticalOffsetForLineNumber(xi)+y)*ae|0;if(wi-Ai<je){let Ts=(Ai+wi)/2|0;Ts<lt?Ts=lt:Ts+lt>c&&(Ts=c-lt),Ai=Ts-lt,wi=Ts+lt}Ai>hi+1||ui!==Hn?(0!==Jn&&gt.fillRect(St[Hn],Vn,Xt[Hn],hi-Vn),Hn=ui,Vn=Ai,hi=wi):wi>hi&&(hi=wi)}gt.fillRect(St[Hn],Vn,Xt[Hn],hi-Vn)}if(!this._settings.hideCursor&&this._settings.cursorColor){const an=2*this._settings.pixelRatio|0,dn=an/2|0,Tn=this._settings.x[7],$n=this._settings.w[7];gt.fillStyle=this._settings.cursorColor;let Hn=-100,Vn=-100;for(let hi=0,Jn=this._cursorPositions.length;hi<Jn;hi++){let ui=W.getVerticalOffsetForLineNumber(this._cursorPositions[hi].lineNumber)*ae|0;ui<dn?ui=dn:ui+dn>c&&(ui=c-dn);const _i=ui-dn,xi=_i+an;_i>Vn+1?(0!==hi&&gt.fillRect(Tn,Hn,$n,Vn-Hn),Hn=_i,Vn=xi):xi>Vn&&(Vn=xi)}gt.fillRect(Tn,Hn,$n,Vn-Hn)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(gt.beginPath(),gt.lineWidth=1,gt.strokeStyle=this._settings.borderColor,gt.moveTo(0,0),gt.lineTo(0,c),gt.stroke(),gt.moveTo(0,0),gt.lineTo(r,0),gt.stroke())}}var os=a(5684);class Ms extends N{constructor(r,c){super(),this._context=r;const y=this._context.configuration.options;this._domNode=(0,S.X)(document.createElement("canvas")),this._domNode.setClassName(c),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new os.Tj(W=>this._context.viewLayout.getVerticalOffsetForLineNumber(W)),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(y.get(56)),this._zoneManager.setPixelRatio(y.get(126)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(r){const c=this._context.configuration.options;return r.hasChanged(56)&&(this._zoneManager.setLineHeight(c.get(56)),this._render()),r.hasChanged(126)&&(this._zoneManager.setPixelRatio(c.get(126)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(r){return this._render(),!0}onScrollChanged(r){return r.scrollHeightChanged&&(this._zoneManager.setOuterHeight(r.scrollHeight),this._render()),!0}onZonesChanged(r){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(r){this._domNode.setTop(r.top),this._domNode.setRight(r.right);let c=!1;c=this._zoneManager.setDOMWidth(r.width)||c,c=this._zoneManager.setDOMHeight(r.height)||c,c&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(r){this._zoneManager.setZones(r),this._render()}_render(){if(0===this._zoneManager.getOuterHeight())return!1;const r=this._zoneManager.getCanvasWidth(),c=this._zoneManager.getCanvasHeight(),y=this._zoneManager.resolveColorZones(),W=this._zoneManager.getId2Color(),z=this._domNode.domNode.getContext("2d");return z.clearRect(0,0,r,c),y.length>0&&this._renderOneLane(z,y,W,r),!0}_renderOneLane(r,c,y,W){let z=0,ae=0,Me=0;for(const je of c){const lt=je.colorId,gt=je.from,St=je.to;lt!==z?(r.fillRect(0,ae,W,Me-ae),z=lt,r.fillStyle=y[z],ae=gt,Me=St):Me>=gt?Me=Math.max(Me,St):(r.fillRect(0,ae,W,Me-ae),ae=gt,Me=St)}r.fillRect(0,ae,W,Me-ae)}}a(5534);class zi extends V{constructor(r){super(r),this.domNode=(0,S.X)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const c=this._context.configuration.options;this._rulers=c.get(89),this._typicalHalfwidthCharacterWidth=c.get(40).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(r){const c=this._context.configuration.options;return this._rulers=c.get(89),this._typicalHalfwidthCharacterWidth=c.get(40).typicalHalfwidthCharacterWidth,!0}onScrollChanged(r){return r.scrollHeightChanged}prepareRender(r){}_ensureRulersCount(){const r=this._renderedRulers.length,c=this._rulers.length;if(r===c)return;if(r<c){const{tabSize:W}=this._context.model.getTextModelOptions(),z=W;let ae=c-r;for(;ae>0;){const Me=(0,S.X)(document.createElement("div"));Me.setClassName("view-ruler"),Me.setWidth(z),this.domNode.appendChild(Me),this._renderedRulers.push(Me),ae--}return}let y=r-c;for(;y>0;){const W=this._renderedRulers.pop();this.domNode.removeChild(W),y--}}render(r){this._ensureRulersCount();for(let c=0,y=this._rulers.length;c<y;c++){const W=this._renderedRulers[c],z=this._rulers[c];W.setBoxShadow(z.color?`1px 0 0 0 ${z.color} inset`:""),W.setHeight(Math.min(r.scrollHeight,1e6)),W.setLeft(z.column*this._typicalHalfwidthCharacterWidth)}}}(0,Kt.Ic)((yt,r)=>{const c=yt.getColor(on.zk);c&&r.addRule(`.monaco-editor .view-ruler { box-shadow: 1px 0 0 0 ${c} inset; }`)}),a(7652);class Ys extends V{constructor(r){super(r),this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const y=this._context.configuration.options.get(90);this._useShadows=y.useShadows,this._domNode=(0,S.X)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const r=this._useShadows&&this._scrollTop>0;return this._shouldShow!==r&&(this._shouldShow=r,!0)}getDomNode(){return this._domNode}_updateWidth(){const c=this._context.configuration.options.get(128);this._width=0===c.minimap.renderMinimap||c.minimap.minimapWidth>0&&0===c.minimap.minimapLeft?c.width:c.width-c.minimap.minimapWidth-c.verticalScrollbarWidth}onConfigurationChanged(r){const y=this._context.configuration.options.get(90);return this._useShadows=y.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(r){return this._scrollTop=r.scrollTop,this._updateShouldShow()}prepareRender(r){}render(r){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}(0,Kt.Ic)((yt,r)=>{const c=yt.getColor(_n._w);c&&r.addRule(`.monaco-editor .scroll-decoration { box-shadow: ${c} 0 6px 6px -6px inset; }`)}),a(3133);class zr{constructor(r){this.left=r.left,this.width=r.width,this.startStyle=null,this.endStyle=null}}class Os{constructor(r,c){this.lineNumber=r,this.ranges=c}}function _l(yt){return new zr(yt)}function Tr(yt){return new Os(yt.lineNumber,yt.ranges.map(_l))}let ar=(()=>{class yt extends Pt{constructor(c){super(),this._previousFrameVisibleRangesWithStyle=[],this._context=c;const y=this._context.configuration.options;this._lineHeight=y.get(56),this._roundedSelection=y.get(88),this._typicalHalfwidthCharacterWidth=y.get(40).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(c){const y=this._context.configuration.options;return this._lineHeight=y.get(56),this._roundedSelection=y.get(88),this._typicalHalfwidthCharacterWidth=y.get(40).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(c){return this._selections=c.selections.slice(0),!0}onDecorationsChanged(c){return!0}onFlushed(c){return!0}onLinesChanged(c){return!0}onLinesDeleted(c){return!0}onLinesInserted(c){return!0}onScrollChanged(c){return c.scrollTopChanged}onZonesChanged(c){return!0}_visibleRangesHaveGaps(c){for(let y=0,W=c.length;y<W;y++)if(c[y].ranges.length>1)return!0;return!1}_enrichVisibleRangesWithStyle(c,y,W){const z=this._typicalHalfwidthCharacterWidth/4;let ae=null,Me=null;if(W&&W.length>0&&y.length>0){const je=y[0].lineNumber;if(je===c.startLineNumber)for(let gt=0;!ae&&gt<W.length;gt++)W[gt].lineNumber===je&&(ae=W[gt].ranges[0]);const lt=y[y.length-1].lineNumber;if(lt===c.endLineNumber)for(let gt=W.length-1;!Me&&gt>=0;gt--)W[gt].lineNumber===lt&&(Me=W[gt].ranges[0]);ae&&!ae.startStyle&&(ae=null),Me&&!Me.startStyle&&(Me=null)}for(let je=0,lt=y.length;je<lt;je++){const gt=y[je].ranges[0],St=gt.left,Xt=gt.left+gt.width,Gt={top:0,bottom:0},an={top:0,bottom:0};if(je>0){const dn=y[je-1].ranges[0].left,Tn=y[je-1].ranges[0].left+y[je-1].ranges[0].width;yi(St-dn)<z?Gt.top=2:St>dn&&(Gt.top=1),yi(Xt-Tn)<z?an.top=2:dn<Xt&&Xt<Tn&&(an.top=1)}else ae&&(Gt.top=ae.startStyle.top,an.top=ae.endStyle.top);if(je+1<lt){const dn=y[je+1].ranges[0].left,Tn=y[je+1].ranges[0].left+y[je+1].ranges[0].width;yi(St-dn)<z?Gt.bottom=2:dn<St&&St<Tn&&(Gt.bottom=1),yi(Xt-Tn)<z?an.bottom=2:Xt<Tn&&(an.bottom=1)}else Me&&(Gt.bottom=Me.startStyle.bottom,an.bottom=Me.endStyle.bottom);gt.startStyle=Gt,gt.endStyle=an}}_getVisibleRangesWithStyle(c,y,W){const ae=(y.linesVisibleRangesForRange(c,!0)||[]).map(Tr);return!this._visibleRangesHaveGaps(ae)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(y.visibleRange,ae,W),ae}_createSelectionPiece(c,y,W,z,ae){return'<div class="cslr '+W+'" style="top:'+c.toString()+"px;left:"+z.toString()+"px;width:"+ae.toString()+"px;height:"+y+'px;"></div>'}_actualRenderOneSelection(c,y,W,z){if(0===z.length)return;const ae=!!z[0].ranges[0].startStyle,Me=this._lineHeight.toString(),je=(this._lineHeight-1).toString(),lt=z[0].lineNumber,gt=z[z.length-1].lineNumber;for(let St=0,Xt=z.length;St<Xt;St++){const Gt=z[St],an=Gt.lineNumber,dn=an-y,Tn=!W||an!==gt&&an!==lt?Me:je,$n=W&&an===lt?1:0;let Hn="",Vn="";for(let hi=0,Jn=Gt.ranges.length;hi<Jn;hi++){const li=Gt.ranges[hi];if(ae){const _i=li.startStyle,xi=li.endStyle;if(1===_i.top||1===_i.bottom){Hn+=this._createSelectionPiece($n,Tn,yt.SELECTION_CLASS_NAME,li.left-yt.ROUNDED_PIECE_WIDTH,yt.ROUNDED_PIECE_WIDTH);let Ai=yt.EDITOR_BACKGROUND_CLASS_NAME;1===_i.top&&(Ai+=" "+yt.SELECTION_TOP_RIGHT),1===_i.bottom&&(Ai+=" "+yt.SELECTION_BOTTOM_RIGHT),Hn+=this._createSelectionPiece($n,Tn,Ai,li.left-yt.ROUNDED_PIECE_WIDTH,yt.ROUNDED_PIECE_WIDTH)}if(1===xi.top||1===xi.bottom){Hn+=this._createSelectionPiece($n,Tn,yt.SELECTION_CLASS_NAME,li.left+li.width,yt.ROUNDED_PIECE_WIDTH);let Ai=yt.EDITOR_BACKGROUND_CLASS_NAME;1===xi.top&&(Ai+=" "+yt.SELECTION_TOP_LEFT),1===xi.bottom&&(Ai+=" "+yt.SELECTION_BOTTOM_LEFT),Hn+=this._createSelectionPiece($n,Tn,Ai,li.left+li.width,yt.ROUNDED_PIECE_WIDTH)}}let ui=yt.SELECTION_CLASS_NAME;if(ae){const _i=li.startStyle,xi=li.endStyle;0===_i.top&&(ui+=" "+yt.SELECTION_TOP_LEFT),0===_i.bottom&&(ui+=" "+yt.SELECTION_BOTTOM_LEFT),0===xi.top&&(ui+=" "+yt.SELECTION_TOP_RIGHT),0===xi.bottom&&(ui+=" "+yt.SELECTION_BOTTOM_RIGHT)}Vn+=this._createSelectionPiece($n,Tn,ui,li.left,li.width)}c[dn][0]+=Hn,c[dn][1]+=Vn}}prepareRender(c){const y=[],W=c.visibleRange.startLineNumber,z=c.visibleRange.endLineNumber;for(let Me=W;Me<=z;Me++)y[Me-W]=["",""];const ae=[];for(let Me=0,je=this._selections.length;Me<je;Me++){const lt=this._selections[Me];if(lt.isEmpty()){ae[Me]=null;continue}const gt=this._getVisibleRangesWithStyle(lt,c,this._previousFrameVisibleRangesWithStyle[Me]);ae[Me]=gt,this._actualRenderOneSelection(y,W,this._selections.length>1,gt)}this._previousFrameVisibleRangesWithStyle=ae,this._renderResult=y.map(([Me,je])=>Me+je)}render(c,y){if(!this._renderResult)return"";const W=y-c;return W<0||W>=this._renderResult.length?"":this._renderResult[W]}}return yt.SELECTION_CLASS_NAME="selected-text",yt.SELECTION_TOP_LEFT="top-left-radius",yt.SELECTION_BOTTOM_LEFT="bottom-left-radius",yt.SELECTION_TOP_RIGHT="top-right-radius",yt.SELECTION_BOTTOM_RIGHT="bottom-right-radius",yt.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",yt.ROUNDED_PIECE_WIDTH=10,yt})();function yi(yt){return yt<0?-yt:yt}(0,Kt.Ic)((yt,r)=>{const c=yt.getColor(_n.hE);c&&r.addRule(`.monaco-editor .focused .selected-text { background-color: ${c}; }`);const y=yt.getColor(_n.ES);y&&r.addRule(`.monaco-editor .selected-text { background-color: ${y}; }`);const W=yt.getColor(_n.yb);W&&!W.isTransparent()&&r.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${W}; }`)}),a(3134);class Jd{constructor(r,c,y,W,z,ae){this.top=r,this.left=c,this.width=y,this.height=W,this.textContent=z,this.textContentClassName=ae}}class wr{constructor(r){this._context=r;const c=this._context.configuration.options,y=c.get(40);this._cursorStyle=c.get(22),this._lineHeight=c.get(56),this._typicalHalfwidthCharacterWidth=y.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(c.get(25),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=(0,S.X)(document.createElement("div")),this._domNode.setClassName(`cursor ${Un.S}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),I.V.applyFontInfo(this._domNode,y),this._domNode.setDisplay("none"),this._position=new Ue.L(1,1),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(r){const c=this._context.configuration.options,y=c.get(40);return this._cursorStyle=c.get(22),this._lineHeight=c.get(56),this._typicalHalfwidthCharacterWidth=y.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(c.get(25),this._typicalHalfwidthCharacterWidth),I.V.applyFontInfo(this._domNode,y),!0}onCursorPositionChanged(r){return this._position=r,!0}_prepareRender(r){let c="";if(this._cursorStyle===xe.d2.Line||this._cursorStyle===xe.d2.LineThin){const Xt=r.visibleRangeForPosition(this._position);if(!Xt||Xt.outsideRenderedLine)return null;let Gt;if(this._cursorStyle===xe.d2.Line){if(Gt=R.Uh(this._lineCursorWidth>0?this._lineCursorWidth:2),Gt>2){const Tn=this._context.model.getLineContent(this._position.lineNumber),$n=at.vH(Tn,this._position.column-1);c=Tn.substr(this._position.column-1,$n)}}else Gt=R.Uh(1);let an=Xt.left;Gt>=2&&an>=1&&(an-=1);const dn=r.getVerticalOffsetForLineNumber(this._position.lineNumber)-r.bigNumbersDelta;return new Jd(dn,an,Gt,this._lineHeight,c,"")}const y=this._context.model.getLineContent(this._position.lineNumber),W=at.vH(y,this._position.column-1),z=r.linesVisibleRangesForRange(new ot.e(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column+W),!1);if(!z||0===z.length)return null;const ae=z[0];if(ae.outsideRenderedLine||0===ae.ranges.length)return null;const Me=ae.ranges[0],je=Me.width<1?this._typicalHalfwidthCharacterWidth:Me.width;let lt="";if(this._cursorStyle===xe.d2.Block){const Xt=this._context.model.getViewLineData(this._position.lineNumber);c=y.substr(this._position.column-1,W);const Gt=Xt.tokens.findTokenIndexAtOffset(this._position.column-1);lt=Xt.tokens.getClassName(Gt)}let gt=r.getVerticalOffsetForLineNumber(this._position.lineNumber)-r.bigNumbersDelta,St=this._lineHeight;return(this._cursorStyle===xe.d2.Underline||this._cursorStyle===xe.d2.UnderlineThin)&&(gt+=this._lineHeight-2,St=2),new Jd(gt,Me.left,je,St,c,lt)}prepareRender(r){this._renderData=this._prepareRender(r)}render(r){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor ${Un.S} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}let nc=(()=>{class yt extends V{constructor(c){super(c);const y=this._context.configuration.options;this._readOnly=y.get(78),this._cursorBlinking=y.get(20),this._cursorStyle=y.get(22),this._cursorSmoothCaretAnimation=y.get(21),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new wr(this._context),this._secondaryCursors=[],this._renderData=[],this._domNode=(0,S.X)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new f._F,this._cursorFlatBlinkInterval=new f.zh,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(c){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(c){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(c){const y=this._context.configuration.options;this._readOnly=y.get(78),this._cursorBlinking=y.get(20),this._cursorStyle=y.get(22),this._cursorSmoothCaretAnimation=y.get(21),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(c);for(let W=0,z=this._secondaryCursors.length;W<z;W++)this._secondaryCursors[W].onConfigurationChanged(c);return!0}_onCursorPositionChanged(c,y){if(this._primaryCursor.onCursorPositionChanged(c),this._updateBlinking(),this._secondaryCursors.length<y.length){const W=y.length-this._secondaryCursors.length;for(let z=0;z<W;z++){const ae=new wr(this._context);this._domNode.domNode.insertBefore(ae.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(ae)}}else if(this._secondaryCursors.length>y.length){const W=this._secondaryCursors.length-y.length;for(let z=0;z<W;z++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let W=0;W<y.length;W++)this._secondaryCursors[W].onCursorPositionChanged(y[W])}onCursorStateChanged(c){const y=[];for(let z=0,ae=c.selections.length;z<ae;z++)y[z]=c.selections[z].getPosition();this._onCursorPositionChanged(y[0],y.slice(1));const W=c.selections[0].isEmpty();return this._selectionIsEmpty!==W&&(this._selectionIsEmpty=W,this._updateDomClassName()),!0}onDecorationsChanged(c){return!0}onFlushed(c){return!0}onFocusChanged(c){return this._editorHasFocus=c.isFocused,this._updateBlinking(),!1}onLinesChanged(c){return!0}onLinesDeleted(c){return!0}onLinesInserted(c){return!0}onScrollChanged(c){return!0}onTokensChanged(c){const y=W=>{for(let z=0,ae=c.ranges.length;z<ae;z++)if(c.ranges[z].fromLineNumber<=W.lineNumber&&W.lineNumber<=c.ranges[z].toLineNumber)return!0;return!1};if(y(this._primaryCursor.getPosition()))return!0;for(const W of this._secondaryCursors)if(y(W.getPosition()))return!0;return!1}onZonesChanged(c){return!0}_getCursorBlinking(){return this._isComposingInput||!this._editorHasFocus?0:this._readOnly?5:this._cursorBlinking}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const c=this._getCursorBlinking(),y=0===c,W=5===c;y?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),!y&&!W&&(1===c?this._cursorFlatBlinkInterval.cancelAndSet(()=>{this._isVisible?this._hide():this._show()},yt.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet(()=>{this._blinkingEnabled=!0,this._updateDomClassName()},yt.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let c="cursors-layer";switch(this._selectionIsEmpty||(c+=" has-selection"),this._cursorStyle){case xe.d2.Line:c+=" cursor-line-style";break;case xe.d2.Block:c+=" cursor-block-style";break;case xe.d2.Underline:c+=" cursor-underline-style";break;case xe.d2.LineThin:c+=" cursor-line-thin-style";break;case xe.d2.BlockOutline:c+=" cursor-block-outline-style";break;case xe.d2.UnderlineThin:c+=" cursor-underline-thin-style";break;default:c+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:c+=" cursor-blink";break;case 2:c+=" cursor-smooth";break;case 3:c+=" cursor-phase";break;case 4:c+=" cursor-expand";break;case 5:c+=" cursor-solid";break;default:c+=" cursor-solid"}else c+=" cursor-solid";return this._cursorSmoothCaretAnimation&&(c+=" cursor-smooth-caret-animation"),c}_show(){this._primaryCursor.show();for(let c=0,y=this._secondaryCursors.length;c<y;c++)this._secondaryCursors[c].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let c=0,y=this._secondaryCursors.length;c<y;c++)this._secondaryCursors[c].hide();this._isVisible=!1}prepareRender(c){this._primaryCursor.prepareRender(c);for(let y=0,W=this._secondaryCursors.length;y<W;y++)this._secondaryCursors[y].prepareRender(c)}render(c){let y=[],W=0;const z=this._primaryCursor.render(c);z&&(y[W++]=z);for(let ae=0,Me=this._secondaryCursors.length;ae<Me;ae++){const je=this._secondaryCursors[ae].render(c);je&&(y[W++]=je)}this._renderData=y}getLastRenderData(){return this._renderData}}return yt.BLINK_INTERVAL=500,yt})();(0,Kt.Ic)((yt,r)=>{const c=yt.getColor(on.n0);if(c){let y=yt.getColor(on.fY);y||(y=c.opposite()),r.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${c}; border-color: ${c}; color: ${y}; }`),"hc"===yt.type&&r.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${y}; border-right: 1px solid ${y}; }`)}});const Kr=()=>{throw new Error("Invalid change accessor")};class ic extends V{constructor(r){super(r);const c=this._context.configuration.options,y=c.get(128);this._lineHeight=c.get(56),this._contentWidth=y.contentWidth,this._contentLeft=y.contentLeft,this.domNode=(0,S.X)(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=(0,S.X)(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const r=this._context.viewLayout.getWhitespaces(),c=new Map;for(const W of r)c.set(W.id,W);let y=!1;return this._context.model.changeWhitespace(W=>{const z=Object.keys(this._zones);for(let ae=0,Me=z.length;ae<Me;ae++){const je=z[ae],lt=this._zones[je],gt=this._computeWhitespaceProps(lt.delegate),St=c.get(je);St&&(St.afterLineNumber!==gt.afterViewLineNumber||St.height!==gt.heightInPx)&&(W.changeOneWhitespace(je,gt.afterViewLineNumber,gt.heightInPx),this._safeCallOnComputedHeight(lt.delegate,gt.heightInPx),y=!0)}}),y}onConfigurationChanged(r){const c=this._context.configuration.options,y=c.get(128);return this._lineHeight=c.get(56),this._contentWidth=y.contentWidth,this._contentLeft=y.contentLeft,r.hasChanged(56)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(r){return this._recomputeWhitespacesProps()}onLinesDeleted(r){return!0}onScrollChanged(r){return r.scrollTopChanged||r.scrollWidthChanged}onZonesChanged(r){return!0}onLinesInserted(r){return!0}_getZoneOrdinal(r){return void 0!==r.afterColumn?r.afterColumn:1e4}_computeWhitespaceProps(r){if(0===r.afterLineNumber)return{afterViewLineNumber:0,heightInPx:this._heightInPixels(r),minWidthInPx:this._minWidthInPixels(r)};let c,y;if(void 0!==r.afterColumn)c=this._context.model.validateModelPosition({lineNumber:r.afterLineNumber,column:r.afterColumn});else{const ae=this._context.model.validateModelPosition({lineNumber:r.afterLineNumber,column:1}).lineNumber;c=new Ue.L(ae,this._context.model.getModelLineMaxColumn(ae))}y=c.column===this._context.model.getModelLineMaxColumn(c.lineNumber)?this._context.model.validateModelPosition({lineNumber:c.lineNumber+1,column:1}):this._context.model.validateModelPosition({lineNumber:c.lineNumber,column:c.column+1});const W=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(c),z=this._context.model.coordinatesConverter.modelPositionIsVisible(y);return{afterViewLineNumber:W.lineNumber,heightInPx:z?this._heightInPixels(r):0,minWidthInPx:this._minWidthInPixels(r)}}changeViewZones(r){let c=!1;return this._context.model.changeWhitespace(y=>{const W={addZone:z=>(c=!0,this._addZone(y,z)),removeZone:z=>{!z||(c=this._removeZone(y,z)||c)},layoutZone:z=>{!z||(c=this._layoutZone(y,z)||c)}};(function(yt,r){try{yt(r)}catch(c){(0,d.dL)(c)}})(r,W),W.addZone=Kr,W.removeZone=Kr,W.layoutZone=Kr}),c}_addZone(r,c){const y=this._computeWhitespaceProps(c),z={whitespaceId:r.insertWhitespace(y.afterViewLineNumber,this._getZoneOrdinal(c),y.heightInPx,y.minWidthInPx),delegate:c,isVisible:!1,domNode:(0,S.X)(c.domNode),marginDomNode:c.marginDomNode?(0,S.X)(c.marginDomNode):null};return this._safeCallOnComputedHeight(z.delegate,y.heightInPx),z.domNode.setPosition("absolute"),z.domNode.domNode.style.width="100%",z.domNode.setDisplay("none"),z.domNode.setAttribute("monaco-view-zone",z.whitespaceId),this.domNode.appendChild(z.domNode),z.marginDomNode&&(z.marginDomNode.setPosition("absolute"),z.marginDomNode.domNode.style.width="100%",z.marginDomNode.setDisplay("none"),z.marginDomNode.setAttribute("monaco-view-zone",z.whitespaceId),this.marginDomNode.appendChild(z.marginDomNode)),this._zones[z.whitespaceId]=z,this.setShouldRender(),z.whitespaceId}_removeZone(r,c){if(this._zones.hasOwnProperty(c)){const y=this._zones[c];return delete this._zones[c],r.removeWhitespace(y.whitespaceId),y.domNode.removeAttribute("monaco-visible-view-zone"),y.domNode.removeAttribute("monaco-view-zone"),y.domNode.domNode.parentNode.removeChild(y.domNode.domNode),y.marginDomNode&&(y.marginDomNode.removeAttribute("monaco-visible-view-zone"),y.marginDomNode.removeAttribute("monaco-view-zone"),y.marginDomNode.domNode.parentNode.removeChild(y.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(r,c){if(this._zones.hasOwnProperty(c)){const y=this._zones[c],W=this._computeWhitespaceProps(y.delegate);return r.changeOneWhitespace(y.whitespaceId,W.afterViewLineNumber,W.heightInPx),this._safeCallOnComputedHeight(y.delegate,W.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(r){return!!this._zones.hasOwnProperty(r)&&Boolean(this._zones[r].delegate.suppressMouseDown)}_heightInPixels(r){return"number"==typeof r.heightInPx?r.heightInPx:"number"==typeof r.heightInLines?this._lineHeight*r.heightInLines:this._lineHeight}_minWidthInPixels(r){return"number"==typeof r.minWidthInPx?r.minWidthInPx:0}_safeCallOnComputedHeight(r,c){if("function"==typeof r.onComputedHeight)try{r.onComputedHeight(c)}catch(y){(0,d.dL)(y)}}_safeCallOnDomNodeTop(r,c){if("function"==typeof r.onDomNodeTop)try{r.onDomNodeTop(c)}catch(y){(0,d.dL)(y)}}prepareRender(r){}render(r){const c=r.viewportData.whitespaceViewportData,y={};let W=!1;for(let ae=0,Me=c.length;ae<Me;ae++)y[c[ae].id]=c[ae],W=!0;const z=Object.keys(this._zones);for(let ae=0,Me=z.length;ae<Me;ae++){const je=z[ae],lt=this._zones[je];let gt=0,St=0,Xt="none";y.hasOwnProperty(je)?(gt=y[je].verticalOffset-r.bigNumbersDelta,St=y[je].height,Xt="block",lt.isVisible||(lt.domNode.setAttribute("monaco-visible-view-zone","true"),lt.isVisible=!0),this._safeCallOnDomNodeTop(lt.delegate,r.getScrolledTopFromAbsoluteTop(y[je].verticalOffset))):(lt.isVisible&&(lt.domNode.removeAttribute("monaco-visible-view-zone"),lt.isVisible=!1),this._safeCallOnDomNodeTop(lt.delegate,r.getScrolledTopFromAbsoluteTop(-1e6))),lt.domNode.setTop(gt),lt.domNode.setHeight(St),lt.domNode.setDisplay(Xt),lt.marginDomNode&&(lt.marginDomNode.setTop(gt),lt.marginDomNode.setHeight(St),lt.marginDomNode.setDisplay(Xt))}W&&(this.domNode.setWidth(Math.max(r.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}class go{constructor(r){this._theme=r}get type(){return this._theme.type}update(r){this._theme=r}getColor(r){return this._theme.getColor(r)}}class Kc{constructor(r,c,y){this.configuration=r,this.theme=new go(c),this.model=y,this.viewLayout=y.viewLayout}addEventHandler(r){this.model.addViewEventHandler(r)}removeEventHandler(r){this.model.removeViewEventHandler(r)}}class Sr{constructor(r,c,y,W){this.selections=r,this.startLineNumber=0|c.startLineNumber,this.endLineNumber=0|c.endLineNumber,this.relativeVerticalOffset=c.relativeVerticalOffset,this.bigNumbersDelta=0|c.bigNumbersDelta,this.whitespaceViewportData=y,this._model=W,this.visibleRange=new ot.e(c.startLineNumber,this._model.getLineMinColumn(c.startLineNumber),c.endLineNumber,this._model.getLineMaxColumn(c.endLineNumber))}getViewLineRenderingData(r){return this._model.getViewLineRenderingData(this.visibleRange,r)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}class Ro extends N{constructor(r,c,y,W,z,ae){super(),this._selections=[new E.Y(1,1,1,1)],this._renderAnimationFrame=null;const Me=new kt(c,W,z,r);this._context=new Kc(c,y.getColorTheme(),W),this._configPixelRatio=this._context.configuration.options.get(126),this._context.addEventHandler(this),this._register(y.onDidColorThemeChange(dn=>{this._context.theme.update(dn),this._context.model.onDidColorThemeChange(),this.render(!0,!1)})),this._viewParts=[],this._textAreaHandler=new vi(this._context,Me,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=(0,S.X)(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=(0,S.X)(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=(0,S.X)(document.createElement("div")),Z.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new Yt(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new rt(this._context,this._linesContent),this._viewZones=new ic(this._context),this._viewParts.push(this._viewZones);const je=new Ks(this._context);this._viewParts.push(je);const lt=new Ys(this._context);this._viewParts.push(lt);const gt=new Li(this._context);this._viewParts.push(gt),gt.addDynamicOverlay(new qe(this._context)),gt.addDynamicOverlay(new ar(this._context)),gt.addDynamicOverlay(new kn(this._context)),gt.addDynamicOverlay(new Ft(this._context));const St=new si(this._context);this._viewParts.push(St),St.addDynamicOverlay(new st(this._context)),St.addDynamicOverlay(new An(this._context)),St.addDynamicOverlay(new Ye(this._context)),St.addDynamicOverlay(new we(this._context)),St.addDynamicOverlay(new bn(this._context));const Xt=new yn(this._context);Xt.getDomNode().appendChild(this._viewZones.marginDomNode),Xt.getDomNode().appendChild(St.getDomNode()),this._viewParts.push(Xt),this._contentWidgets=new rs(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new nc(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new Hi(this._context),this._viewParts.push(this._overlayWidgets);const Gt=new zi(this._context);this._viewParts.push(Gt);const an=new Sn(this._context);if(this._viewParts.push(an),je){const dn=this._scrollbar.getOverviewRulerLayoutInfo();dn.parent.insertBefore(je.getDomNode(),dn.insertBefore)}this._linesContent.appendChild(gt.getDomNode()),this._linesContent.appendChild(Gt.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(Xt.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(lt.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(an.getDomNode()),this.domNode.appendChild(this._overflowGuardContainer),ae?ae.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode):this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this._applyLayout(),this._pointerHandler=this._register(new _e(this._context,Me,this._createPointerHandlerHelper()))}_flushAccumulatedAndRenderNow(){this._renderNow()}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:r=>{this._textAreaHandler.textArea.domNode.dispatchEvent(r)},getLastRenderData:()=>{const r=this._viewCursors.getLastRenderData()||[],c=this._textAreaHandler.getLastRenderData();return new De(r,c)},shouldSuppressMouseDownOnViewZone:r=>this._viewZones.shouldSuppressMouseDownOnViewZone(r),shouldSuppressMouseDownOnWidget:r=>this._contentWidgets.shouldSuppressMouseDownOnWidget(r),getPositionFromDOMInfo:(r,c)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(r,c)),visibleRangeForPosition:(r,c)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new Ue.L(r,c))),getLineWidth:r=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(r))}}_createTextAreaHandlerHelper(){return{visibleRangeForPositionRelativeToEditor:(r,c)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new Ue.L(r,c)))}}_applyLayout(){const c=this._context.configuration.options.get(128);this.domNode.setWidth(c.width),this.domNode.setHeight(c.height),this._overflowGuardContainer.setWidth(c.width),this._overflowGuardContainer.setHeight(c.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}_getEditorClassName(){const r=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(125)+" "+(0,Kt.m6)(this._context.theme.type)+r}handleEvents(r){super.handleEvents(r),this._scheduleRender()}onConfigurationChanged(r){return this._configPixelRatio=this._context.configuration.options.get(126),this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(r){return this._selections=r.selections,!1}onFocusChanged(r){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(r){return this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){null!==this._renderAnimationFrame&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(const r of this._viewParts)r.dispose();super.dispose()}_scheduleRender(){null===this._renderAnimationFrame&&(this._renderAnimationFrame=R.lI(this._onRenderScheduled.bind(this),100))}_onRenderScheduled(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()}_renderNow(){!function(yt){try{yt()}catch(r){(0,d.dL)(r)}}(()=>this._actualRender())}_getViewPartsToRender(){let r=[],c=0;for(const y of this._viewParts)y.shouldRender()&&(r[c++]=y);return r}_actualRender(){if(!R.Uw(this.domNode.domNode))return;let r=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&0===r.length)return;const c=this._context.viewLayout.getLinesViewportData();this._context.model.setViewport(c.startLineNumber,c.endLineNumber,c.centeredLineNumber);const y=new Sr(this._selections,c,this._context.viewLayout.getWhitespaceViewportData(),this._context.model);this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(y),this._viewLines.shouldRender()&&(this._viewLines.renderText(y),this._viewLines.onDidRender(),r=this._getViewPartsToRender());const W=new ue(this._context.viewLayout,y,this._viewLines);for(const z of r)z.prepareRender(W);for(const z of r)z.render(W),z.onDidRender();Math.abs(w.mX()-this._configPixelRatio)>.001&&this._context.configuration.updatePixelRatio()}delegateVerticalScrollbarMouseDown(r){this._scrollbar.delegateVerticalScrollbarMouseDown(r)}restoreState(r){this._context.model.setScrollPosition({scrollTop:r.scrollTop},1),this._context.model.tokenizeViewport(),this._renderNow(),this._viewLines.updateLineWidths(),this._context.model.setScrollPosition({scrollLeft:r.scrollLeft},1)}getOffsetForColumn(r,c){const y=this._context.model.validateModelPosition({lineNumber:r,column:c}),W=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(y);this._flushAccumulatedAndRenderNow();const z=this._viewLines.visibleRangeForPosition(new Ue.L(W.lineNumber,W.column));return z?z.left:-1}getTargetAtClientPoint(r,c){const y=this._pointerHandler.getTargetAtClientPoint(r,c);return y?nn.convertViewToModelMouseTarget(y,this._context.model.coordinatesConverter):null}createOverviewRuler(r){return new Ms(this._context,r)}change(r){this._viewZones.changeViewZones(r),this._scheduleRender()}render(r,c){if(c){this._viewLines.forceShouldRender();for(const y of this._viewParts)y.forceShouldRender()}r?this._flushAccumulatedAndRenderNow():this._scheduleRender()}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(r){this._textAreaHandler.setAriaOptions(r)}addContentWidget(r){this._contentWidgets.addWidget(r.widget),this.layoutContentWidget(r),this._scheduleRender()}layoutContentWidget(r){let c=r.position&&r.position.range||null;if(null===c){const W=r.position?r.position.position:null;null!==W&&(c=new ot.e(W.lineNumber,W.column,W.lineNumber,W.column))}this._contentWidgets.setWidgetPosition(r.widget,c,r.position?r.position.preference:null),this._scheduleRender()}removeContentWidget(r){this._contentWidgets.removeWidget(r.widget),this._scheduleRender()}addOverlayWidget(r){this._overlayWidgets.addWidget(r.widget),this.layoutOverlayWidget(r),this._scheduleRender()}layoutOverlayWidget(r){this._overlayWidgets.setWidgetPosition(r.widget,r.position?r.position.preference:null)&&this._scheduleRender()}removeOverlayWidget(r){this._overlayWidgets.removeWidget(r.widget),this._scheduleRender()}}class Wa{constructor(r){this._selTrackedRange=null,this._trackSelection=!0,this._setState(r,new vt.rS(new ot.e(1,1,1,1),0,new Ue.L(1,1),0),new vt.rS(new ot.e(1,1,1,1),0,new Ue.L(1,1),0))}dispose(r){this._removeTrackedRange(r)}startTrackingSelection(r){this._trackSelection=!0,this._updateTrackedRange(r)}stopTrackingSelection(r){this._trackSelection=!1,this._removeTrackedRange(r)}_updateTrackedRange(r){!this._trackSelection||(this._selTrackedRange=r.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(r){this._selTrackedRange=r.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new vt.Vi(this.modelState,this.viewState)}readSelectionFromMarkers(r){const c=r.model._getTrackedRange(this._selTrackedRange);return 0===this.modelState.selection.getDirection()?new E.Y(c.startLineNumber,c.startColumn,c.endLineNumber,c.endColumn):new E.Y(c.endLineNumber,c.endColumn,c.startLineNumber,c.startColumn)}ensureValidState(r){this._setState(r,this.modelState,this.viewState)}setState(r,c,y){this._setState(r,c,y)}_setState(r,c,y){if(c){const W=r.model.validateRange(c.selectionStart),z=c.selectionStart.equalsRange(W)?c.selectionStartLeftoverVisibleColumns:0,ae=r.model.validatePosition(c.position),Me=c.position.equals(ae)?c.leftoverVisibleColumns:0;c=new vt.rS(W,z,ae,Me)}else{if(!y)return;const W=r.model.validateRange(r.coordinatesConverter.convertViewRangeToModelRange(y.selectionStart)),z=r.model.validatePosition(r.coordinatesConverter.convertViewPositionToModelPosition(y.position));c=new vt.rS(W,y.selectionStartLeftoverVisibleColumns,z,y.leftoverVisibleColumns)}if(y){const W=r.coordinatesConverter.validateViewRange(y.selectionStart,c.selectionStart),z=r.coordinatesConverter.validateViewPosition(y.position,c.position);y=new vt.rS(W,c.selectionStartLeftoverVisibleColumns,z,c.leftoverVisibleColumns)}else{const W=r.coordinatesConverter.convertModelPositionToViewPosition(new Ue.L(c.selectionStart.startLineNumber,c.selectionStart.startColumn)),z=r.coordinatesConverter.convertModelPositionToViewPosition(new Ue.L(c.selectionStart.endLineNumber,c.selectionStart.endColumn)),ae=new ot.e(W.lineNumber,W.column,z.lineNumber,z.column),Me=r.coordinatesConverter.convertModelPositionToViewPosition(c.position);y=new vt.rS(ae,c.selectionStartLeftoverVisibleColumns,Me,c.leftoverVisibleColumns)}this.modelState=c,this.viewState=y,this._updateTrackedRange(r)}}class ha{constructor(r){this.context=r,this.primaryCursor=new Wa(r),this.secondaryCursors=[],this.lastAddedCursorIndex=0}dispose(){this.primaryCursor.dispose(this.context),this.killSecondaryCursors()}startTrackingSelections(){this.primaryCursor.startTrackingSelection(this.context);for(let r=0,c=this.secondaryCursors.length;r<c;r++)this.secondaryCursors[r].startTrackingSelection(this.context)}stopTrackingSelections(){this.primaryCursor.stopTrackingSelection(this.context);for(let r=0,c=this.secondaryCursors.length;r<c;r++)this.secondaryCursors[r].stopTrackingSelection(this.context)}updateContext(r){this.context=r}ensureValidState(){this.primaryCursor.ensureValidState(this.context);for(let r=0,c=this.secondaryCursors.length;r<c;r++)this.secondaryCursors[r].ensureValidState(this.context)}readSelectionFromMarkers(){let r=[];r[0]=this.primaryCursor.readSelectionFromMarkers(this.context);for(let c=0,y=this.secondaryCursors.length;c<y;c++)r[c+1]=this.secondaryCursors[c].readSelectionFromMarkers(this.context);return r}getAll(){let r=[];r[0]=this.primaryCursor.asCursorState();for(let c=0,y=this.secondaryCursors.length;c<y;c++)r[c+1]=this.secondaryCursors[c].asCursorState();return r}getViewPositions(){let r=[];r[0]=this.primaryCursor.viewState.position;for(let c=0,y=this.secondaryCursors.length;c<y;c++)r[c+1]=this.secondaryCursors[c].viewState.position;return r}getTopMostViewPosition(){let r=this.primaryCursor.viewState.position;for(let c=0,y=this.secondaryCursors.length;c<y;c++){const W=this.secondaryCursors[c].viewState.position;W.isBefore(r)&&(r=W)}return r}getBottomMostViewPosition(){let r=this.primaryCursor.viewState.position;for(let c=0,y=this.secondaryCursors.length;c<y;c++){const W=this.secondaryCursors[c].viewState.position;r.isBeforeOrEqual(W)&&(r=W)}return r}getSelections(){let r=[];r[0]=this.primaryCursor.modelState.selection;for(let c=0,y=this.secondaryCursors.length;c<y;c++)r[c+1]=this.secondaryCursors[c].modelState.selection;return r}getViewSelections(){let r=[];r[0]=this.primaryCursor.viewState.selection;for(let c=0,y=this.secondaryCursors.length;c<y;c++)r[c+1]=this.secondaryCursors[c].viewState.selection;return r}setSelections(r){this.setStates(vt.Vi.fromModelSelections(r))}getPrimaryCursor(){return this.primaryCursor.asCursorState()}setStates(r){null!==r&&(this.primaryCursor.setState(this.context,r[0].modelState,r[0].viewState),this._setSecondaryStates(r.slice(1)))}_setSecondaryStates(r){const c=this.secondaryCursors.length,y=r.length;if(c<y){let W=y-c;for(let z=0;z<W;z++)this._addSecondaryCursor()}else if(c>y){let W=c-y;for(let z=0;z<W;z++)this._removeSecondaryCursor(this.secondaryCursors.length-1)}for(let W=0;W<y;W++)this.secondaryCursors[W].setState(this.context,r[W].modelState,r[W].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.secondaryCursors.push(new Wa(this.context)),this.lastAddedCursorIndex=this.secondaryCursors.length}getLastAddedCursorIndex(){return 0===this.secondaryCursors.length||0===this.lastAddedCursorIndex?0:this.lastAddedCursorIndex}_removeSecondaryCursor(r){this.lastAddedCursorIndex>=r+1&&this.lastAddedCursorIndex--,this.secondaryCursors[r].dispose(this.context),this.secondaryCursors.splice(r,1)}_getAll(){let r=[];r[0]=this.primaryCursor;for(let c=0,y=this.secondaryCursors.length;c<y;c++)r[c+1]=this.secondaryCursors[c];return r}normalize(){if(0===this.secondaryCursors.length)return;let r=this._getAll(),c=[];for(let y=0,W=r.length;y<W;y++)c.push({index:y,selection:r[y].modelState.selection});c.sort((y,W)=>y.selection.startLineNumber===W.selection.startLineNumber?y.selection.startColumn-W.selection.startColumn:y.selection.startLineNumber-W.selection.startLineNumber);for(let y=0;y<c.length-1;y++){const W=c[y],z=c[y+1],ae=W.selection,Me=z.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let je;if(je=Me.isEmpty()||ae.isEmpty()?Me.getStartPosition().isBeforeOrEqual(ae.getEndPosition()):Me.getStartPosition().isBefore(ae.getEndPosition()),je){const lt=W.index<z.index?y:y+1,gt=W.index<z.index?y+1:y,St=c[gt].index,Xt=c[lt].index,Gt=c[gt].selection,an=c[lt].selection;if(!Gt.equalsSelection(an)){const dn=Gt.plusRange(an),Tn=Gt.selectionStartLineNumber===Gt.startLineNumber&&Gt.selectionStartColumn===Gt.startColumn,$n=an.selectionStartLineNumber===an.startLineNumber&&an.selectionStartColumn===an.startColumn;let Hn,Vn;St===this.lastAddedCursorIndex?(Hn=Tn,this.lastAddedCursorIndex=Xt):Hn=$n,Vn=Hn?new E.Y(dn.startLineNumber,dn.startColumn,dn.endLineNumber,dn.endColumn):new E.Y(dn.endLineNumber,dn.endColumn,dn.startLineNumber,dn.startColumn),c[lt].selection=Vn;const hi=vt.Vi.fromModelSelection(Vn);r[Xt].setState(this.context,hi.modelState,hi.viewState)}for(const dn of c)dn.index>St&&dn.index--;r.splice(St,1),c.splice(gt,1),this._removeSecondaryCursor(St-1),y--}}}}var Go=a(827),fa=a(5741);class Ph{constructor(){this.type=0}}class kh{constructor(){this.type=1}}class Fh{constructor(r){this.type=2,this._source=r}hasChanged(r){return this._source.hasChanged(r)}}class qd{constructor(r,c){this.type=3,this.selections=r,this.modelSelections=c}}class vl{constructor(r){this.type=4,r?(this.affectsMinimap=r.affectsMinimap,this.affectsOverviewRuler=r.affectsOverviewRuler):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0)}}class $c{constructor(){this.type=5}}class Gc{constructor(r){this.type=6,this.isFocused=r}}class qg{constructor(){this.type=7}}class sc{constructor(){this.type=8}}class eu{constructor(r,c){this.type=9,this.fromLineNumber=r,this.toLineNumber=c}}class Yc{constructor(r,c){this.type=10,this.fromLineNumber=r,this.toLineNumber=c}}class tu{constructor(r,c){this.type=11,this.fromLineNumber=r,this.toLineNumber=c}}class Cl{constructor(r,c,y,W,z,ae){this.type=12,this.source=r,this.range=c,this.selections=y,this.verticalType=W,this.revealHorizontal=z,this.scrollType=ae}}class em{constructor(r){this.type=13,this.scrollWidth=r.scrollWidth,this.scrollLeft=r.scrollLeft,this.scrollHeight=r.scrollHeight,this.scrollTop=r.scrollTop,this.scrollWidthChanged=r.scrollWidthChanged,this.scrollLeftChanged=r.scrollLeftChanged,this.scrollHeightChanged=r.scrollHeightChanged,this.scrollTopChanged=r.scrollTopChanged}}class tm{constructor(){this.type=14}}class Qc{constructor(r){this.type=15,this.ranges=r}}class nm{constructor(){this.type=16}}class nu{constructor(){this.type=17}}class Zc extends g.JT{constructor(){super(),this._onEvent=this._register(new C.Q5),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(r){this._addOutgoingEvent(r),this._emitOugoingEvents()}_addOutgoingEvent(r){for(let c=0,y=this._outgoingEvents.length;c<y;c++)if(this._outgoingEvents[c].kind===r.kind)return void(this._outgoingEvents[c]=this._outgoingEvents[c].merge(r));this._outgoingEvents.push(r)}_emitOugoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const r=this._outgoingEvents.shift();r.isNoOp()||this._onEvent.fire(r)}}addViewEventHandler(r){for(let c=0,y=this._eventHandlers.length;c<y;c++)this._eventHandlers[c]===r&&console.warn("Detected duplicate listener in ViewEventDispatcher",r);this._eventHandlers.push(r)}removeViewEventHandler(r){for(let c=0;c<this._eventHandlers.length;c++)if(this._eventHandlers[c]===r){this._eventHandlers.splice(c,1);break}}beginEmitViewEvents(){return this._collectorCnt++,1===this._collectorCnt&&(this._collector=new im),this._collector}endEmitViewEvents(){if(this._collectorCnt--,0===this._collectorCnt){const r=this._collector.outgoingEvents,c=this._collector.viewEvents;this._collector=null;for(const y of r)this._addOutgoingEvent(y);c.length>0&&this._emitMany(c)}this._emitOugoingEvents()}emitSingleViewEvent(r){try{this.beginEmitViewEvents().emitViewEvent(r)}finally{this.endEmitViewEvents()}}_emitMany(r){this._viewEventQueue=this._viewEventQueue?this._viewEventQueue.concat(r):r,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const r=this._viewEventQueue;this._viewEventQueue=null;const c=this._eventHandlers.slice(0);for(const y of c)y.handleEvents(r)}}}class im{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(r){this.viewEvents.push(r)}emitOutgoingEvent(r){this.outgoingEvents.push(r)}}class iu{constructor(r,c,y,W){this.kind=0,this._oldContentWidth=r,this._oldContentHeight=c,this.contentWidth=y,this.contentHeight=W,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}merge(r){return 0!==r.kind?this:new iu(this._oldContentWidth,this._oldContentHeight,r.contentWidth,r.contentHeight)}}class su{constructor(r,c){this.kind=1,this.oldHasFocus=r,this.hasFocus=c}isNoOp(){return this.oldHasFocus===this.hasFocus}merge(r){return 1!==r.kind?this:new su(this.oldHasFocus,r.hasFocus)}}class Ar{constructor(r,c,y,W,z,ae,Me,je){this.kind=2,this._oldScrollWidth=r,this._oldScrollLeft=c,this._oldScrollHeight=y,this._oldScrollTop=W,this.scrollWidth=z,this.scrollLeft=ae,this.scrollHeight=Me,this.scrollTop=je,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!(this.scrollWidthChanged||this.scrollLeftChanged||this.scrollHeightChanged||this.scrollTopChanged)}merge(r){return 2!==r.kind?this:new Ar(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,r.scrollWidth,r.scrollLeft,r.scrollHeight,r.scrollTop)}}class Ha{constructor(){this.kind=3}isNoOp(){return!1}merge(r){return this}}class Qi{constructor(r,c,y,W,z,ae,Me){this.kind=5,this.oldSelections=r,this.selections=c,this.oldModelVersionId=y,this.modelVersionId=W,this.source=z,this.reason=ae,this.reachedMaxCursorCount=Me}static _selectionsAreEqual(r,c){if(!r&&!c)return!0;if(!r||!c)return!1;const y=r.length;if(y!==c.length)return!1;for(let z=0;z<y;z++)if(!r[z].equalsSelection(c[z]))return!1;return!0}isNoOp(){return Qi._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}merge(r){return 5!==r.kind?this:new Qi(this.oldSelections,r.selections,this.oldModelVersionId,r.modelVersionId,r.source,r.reason,this.reachedMaxCursorCount||r.reachedMaxCursorCount)}}class Ws{constructor(){this.kind=4}isNoOp(){return!1}merge(r){return this}}class lr{constructor(r,c){this.modelVersionId=r.getVersionId(),this.cursorState=c.getCursorStates()}equals(r){if(!r||this.modelVersionId!==r.modelVersionId||this.cursorState.length!==r.cursorState.length)return!1;for(let c=0,y=this.cursorState.length;c<y;c++)if(!this.cursorState[c].equals(r.cursorState[c]))return!1;return!0}}class oo{constructor(r,c,y){this._model=r,this._autoClosedCharactersDecorations=c,this._autoClosedEnclosingDecorations=y}static getAllAutoClosedCharacters(r){let c=[];for(const y of r)c=c.concat(y.getAutoClosedCharactersRanges());return c}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){let r=[];for(let c=0;c<this._autoClosedCharactersDecorations.length;c++){const y=this._model.getDecorationRange(this._autoClosedCharactersDecorations[c]);y&&r.push(y)}return r}isValid(r){let c=[];for(let y=0;y<this._autoClosedEnclosingDecorations.length;y++){const W=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[y]);if(W&&(c.push(W),W.startLineNumber!==W.endLineNumber))return!1}c.sort(ot.e.compareRangesUsingStarts),r.sort(ot.e.compareRangesUsingStarts);for(let y=0;y<r.length;y++)if(y>=c.length||!c[y].strictContainsRange(r[y]))return!1;return!0}}let Rr=(()=>{class yt extends g.JT{constructor(c,y,W,z){super(),this._model=c,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=y,this._coordinatesConverter=W,this.context=new vt.zp(this._model,this._coordinatesConverter,z),this._cursors=new ha(this.context),this._hasFocus=!1,this._isHandling=!1,this._isDoingComposition=!1,this._selectionsWhenCompositionStarted=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=(0,g.B9)(this._autoClosedActions),super.dispose()}updateConfiguration(c){this.context=new vt.zp(this._model,this._coordinatesConverter,c),this._cursors.updateContext(this.context)}onLineMappingChanged(c){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(c,"viewModel",0,this.getCursorStates())}setHasFocus(c){this._hasFocus=c}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){let c=this._cursors.getSelections();for(let y=0;y<this._autoClosedActions.length;y++){const W=this._autoClosedActions[y];W.isValid(c)||(W.dispose(),this._autoClosedActions.splice(y,1),y--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(c,y,W,z){let ae=!1;null!==z&&z.length>yt.MAX_CURSOR_COUNT&&(z=z.slice(0,yt.MAX_CURSOR_COUNT),ae=!0);const Me=new lr(this._model,this);return this._cursors.setStates(z),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(c,y,W,Me,ae)}setCursorColumnSelectData(c){this._columnSelectData=c}revealPrimary(c,y,W,z){const ae=this._cursors.getViewPositions();if(ae.length>1)this._emitCursorRevealRange(c,y,null,this._cursors.getViewSelections(),0,W,z);else{const Me=ae[0],je=new ot.e(Me.lineNumber,Me.column,Me.lineNumber,Me.column);this._emitCursorRevealRange(c,y,je,null,0,W,z)}}_revealPrimaryCursor(c,y,W,z,ae){const Me=this._cursors.getViewPositions();if(Me.length>1)this._emitCursorRevealRange(c,y,null,this._cursors.getViewSelections(),W,z,ae);else{const je=Me[0],lt=new ot.e(je.lineNumber,je.column,je.lineNumber,je.column);this._emitCursorRevealRange(c,y,lt,null,W,z,ae)}}_emitCursorRevealRange(c,y,W,z,ae,Me,je){c.emitViewEvent(new Cl(y,W,z,ae,Me,je))}saveState(){let c=[];const y=this._cursors.getSelections();for(let W=0,z=y.length;W<z;W++){const ae=y[W];c.push({inSelectionMode:!ae.isEmpty(),selectionStart:{lineNumber:ae.selectionStartLineNumber,column:ae.selectionStartColumn},position:{lineNumber:ae.positionLineNumber,column:ae.positionColumn}})}return c}restoreState(c,y){let W=[];for(let z=0,ae=y.length;z<ae;z++){const Me=y[z];let je=1,lt=1;Me.position&&Me.position.lineNumber&&(je=Me.position.lineNumber),Me.position&&Me.position.column&&(lt=Me.position.column);let gt=je,St=lt;Me.selectionStart&&Me.selectionStart.lineNumber&&(gt=Me.selectionStart.lineNumber),Me.selectionStart&&Me.selectionStart.column&&(St=Me.selectionStart.column),W.push({selectionStartLineNumber:gt,selectionStartColumn:St,positionLineNumber:je,positionColumn:lt})}this.setStates(c,"restoreState",0,vt.Vi.fromModelSelections(W)),this.revealPrimary(c,"restoreState",!0,1)}onModelContentChanged(c,y){if(this._knownModelVersionId=y.versionId,this._isHandling)return;const W=y.containsEvent(1);if(this._prevEditOperationType=0,W)this._cursors.dispose(),this._cursors=new ha(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(c,"model",1,null,!1);else if(this._hasFocus&&y.resultingSelection&&y.resultingSelection.length>0){const z=vt.Vi.fromModelSelections(y.resultingSelection);this.setStates(c,"modelChange",y.isUndoing?5:y.isRedoing?6:2,z)&&this._revealPrimaryCursor(c,"modelChange",0,!0,0)}else{const z=this._cursors.readSelectionFromMarkers();this.setStates(c,"modelChange",2,vt.Vi.fromModelSelections(z))}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const c=this._cursors.getPrimaryCursor(),y=c.viewState.selectionStart.getStartPosition(),W=c.viewState.position;return{isReal:!1,fromViewLineNumber:y.lineNumber,fromViewVisualColumn:vt.io.visibleColumnFromColumn2(this.context.cursorConfig,this._viewModel,y),toViewLineNumber:W.lineNumber,toViewVisualColumn:vt.io.visibleColumnFromColumn2(this.context.cursorConfig,this._viewModel,W)}}getSelections(){return this._cursors.getSelections()}setSelections(c,y,W,z){this.setStates(c,y,z,vt.Vi.fromModelSelections(W))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(c){this._prevEditOperationType=c}_pushAutoClosedAction(c,y){let W=[],z=[];for(let je=0,lt=c.length;je<lt;je++)W.push({range:c[je],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),z.push({range:y[je],options:{description:"auto-closed-enclosing",stickiness:1}});const ae=this._model.deltaDecorations([],W),Me=this._model.deltaDecorations([],z);this._autoClosedActions.push(new oo(this._model,ae,Me))}_executeEditOperation(c){if(!c)return;c.shouldPushStackElementBefore&&this._model.pushStackElement();const y=class{static executeCommands(r,c,y){const W={model:r,selectionsBefore:c,trackedRanges:[],trackedRangesDirection:[]},z=this._innerExecuteCommands(W,y);for(let ae=0,Me=W.trackedRanges.length;ae<Me;ae++)W.model._setTrackedRange(W.trackedRanges[ae],null,0);return z}static _innerExecuteCommands(r,c){if(this._arrayIsEmpty(c))return null;const y=this._getEditOperations(r,c);if(0===y.operations.length)return null;const W=y.operations,z=this._getLoserCursorMap(W);if(z.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;let ae=[];for(let lt=0,gt=W.length;lt<gt;lt++)z.hasOwnProperty(W[lt].identifier.major.toString())||ae.push(W[lt]);y.hadTrackedEditOperation&&ae.length>0&&(ae[0]._isTracked=!0);let Me=r.model.pushEditOperations(r.selectionsBefore,ae,lt=>{let gt=[];for(let Gt=0;Gt<r.selectionsBefore.length;Gt++)gt[Gt]=[];for(const Gt of lt)!Gt.identifier||gt[Gt.identifier.major].push(Gt);const St=(Gt,an)=>Gt.identifier.minor-an.identifier.minor;let Xt=[];for(let Gt=0;Gt<r.selectionsBefore.length;Gt++)gt[Gt].length>0?(gt[Gt].sort(St),Xt[Gt]=c[Gt].computeCursorState(r.model,{getInverseEditOperations:()=>gt[Gt],getTrackedSelection:an=>{const dn=parseInt(an,10),Tn=r.model._getTrackedRange(r.trackedRanges[dn]);return 0===r.trackedRangesDirection[dn]?new E.Y(Tn.startLineNumber,Tn.startColumn,Tn.endLineNumber,Tn.endColumn):new E.Y(Tn.endLineNumber,Tn.endColumn,Tn.startLineNumber,Tn.startColumn)}})):Xt[Gt]=r.selectionsBefore[Gt];return Xt});Me||(Me=r.selectionsBefore);let je=[];for(let lt in z)z.hasOwnProperty(lt)&&je.push(parseInt(lt,10));je.sort((lt,gt)=>gt-lt);for(const lt of je)Me.splice(lt,1);return Me}static _arrayIsEmpty(r){for(let c=0,y=r.length;c<y;c++)if(r[c])return!1;return!0}static _getEditOperations(r,c){let y=[],W=!1;for(let z=0,ae=c.length;z<ae;z++){const Me=c[z];if(Me){const je=this._getEditOperationsFromCommand(r,z,Me);y=y.concat(je.operations),W=W||je.hadTrackedEditOperation}}return{operations:y,hadTrackedEditOperation:W}}static _getEditOperationsFromCommand(r,c,y){let W=[],z=0;const ae=(St,Xt,Gt=!1)=>{ot.e.isEmpty(St)&&""===Xt||W.push({identifier:{major:c,minor:z++},range:St,text:Xt,forceMoveMarkers:Gt,isAutoWhitespaceEdit:y.insertsAutoWhitespace})};let Me=!1;const gt={addEditOperation:ae,addTrackedEditOperation:(St,Xt,Gt)=>{Me=!0,ae(St,Xt,Gt)},trackSelection:(St,Xt)=>{const Gt=E.Y.liftSelection(St);let an;if(Gt.isEmpty())if("boolean"==typeof Xt)an=Xt?2:3;else{const $n=r.model.getLineMaxColumn(Gt.startLineNumber);an=Gt.startColumn===$n?2:3}else an=1;const dn=r.trackedRanges.length,Tn=r.model._setTrackedRange(null,Gt,an);return r.trackedRanges[dn]=Tn,r.trackedRangesDirection[dn]=Gt.getDirection(),dn.toString()}};try{y.getEditOperations(r.model,gt)}catch(St){return(0,d.dL)(St),{operations:[],hadTrackedEditOperation:!1}}return{operations:W,hadTrackedEditOperation:Me}}static _getLoserCursorMap(r){(r=r.slice(0)).sort((y,W)=>-ot.e.compareRangesUsingEnds(y.range,W.range));let c={};for(let y=1;y<r.length;y++){const W=r[y-1],z=r[y];if(ot.e.getStartPosition(W.range).isBefore(ot.e.getEndPosition(z.range))){let ae;ae=W.identifier.major>z.identifier.major?W.identifier.major:z.identifier.major,c[ae.toString()]=!0;for(let Me=0;Me<r.length;Me++)r[Me].identifier.major===ae&&(r.splice(Me,1),Me<y&&y--,Me--);y>0&&y--}}return c}}.executeCommands(this._model,this._cursors.getSelections(),c.commands);if(y){this._interpretCommandResult(y);let W=[],z=[];for(let ae=0;ae<c.commands.length;ae++){const Me=c.commands[ae];Me instanceof fa.g&&Me.enclosingRange&&Me.closeCharacterRange&&(W.push(Me.closeCharacterRange),z.push(Me.enclosingRange))}W.length>0&&this._pushAutoClosedAction(W,z),this._prevEditOperationType=c.type}c.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(c){(!c||0===c.length)&&(c=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(c),this._cursors.normalize()}_emitStateChangedIfNecessary(c,y,W,z,ae){const Me=new lr(this._model,this);if(Me.equals(z))return!1;const je=this._cursors.getSelections(),lt=this._cursors.getViewSelections();if(c.emitViewEvent(new qd(lt,je)),!z||z.cursorState.length!==Me.cursorState.length||Me.cursorState.some((gt,St)=>!gt.modelState.equals(z.cursorState[St].modelState))){const gt=z?z.cursorState.map(Xt=>Xt.modelState.selection):null;c.emitOutgoingEvent(new Qi(gt,je,z?z.modelVersionId:0,Me.modelVersionId,y||"keyboard",W,ae))}return!0}_findAutoClosingPairs(c){if(!c.length)return null;let y=[];for(let W=0,z=c.length;W<z;W++){const ae=c[W];if(!ae.text||ae.text.indexOf("\n")>=0)return null;const Me=ae.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!Me)return null;const lt=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(Me[1]);if(!lt||1!==lt.length)return null;const St=ae.text.length-Me[2].length-1,Xt=ae.text.lastIndexOf(lt[0].open,St-1);if(-1===Xt)return null;y.push([Xt,St])}return y}executeEdits(c,y,W,z){let ae=null;"snippet"===y&&(ae=this._findAutoClosingPairs(W)),ae&&(W[0]._isTracked=!0);let Me=[],je=[];const lt=this._model.pushEditOperations(this.getSelections(),W,gt=>{if(ae)for(let Xt=0,Gt=ae.length;Xt<Gt;Xt++){const[an,dn]=ae[Xt],Tn=gt[Xt],$n=Tn.range.startLineNumber,Hn=Tn.range.startColumn-1+an,Vn=Tn.range.startColumn-1+dn;Me.push(new ot.e($n,Vn+1,$n,Vn+2)),je.push(new ot.e($n,Hn+1,$n,Vn+2))}const St=z(gt);return St&&(this._isHandling=!0),St});lt&&(this._isHandling=!1,this.setSelections(c,y,lt,0)),Me.length>0&&this._pushAutoClosedAction(Me,je)}_executeEdit(c,y,W,z=0){if(this.context.cursorConfig.readOnly)return;const ae=new lr(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),c()}catch(Me){(0,d.dL)(Me)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(y,W,z,ae,!1)&&this._revealPrimaryCursor(y,W,0,!0,0)}setIsDoingComposition(c){this._isDoingComposition=c}getAutoClosedCharacters(){return oo.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(c){this._selectionsWhenCompositionStarted=this.getSelections().slice(0)}endComposition(c,y){this._executeEdit(()=>{"keyboard"===y&&(this._executeEditOperation(fa.u.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this._selectionsWhenCompositionStarted,this.getSelections(),this.getAutoClosedCharacters())),this._selectionsWhenCompositionStarted=null)},c,y)}type(c,y,W){this._executeEdit(()=>{if("keyboard"===W){const z=y.length;let ae=0;for(;ae<z;){const Me=at.vH(y,ae),je=y.substr(ae,Me);this._executeEditOperation(fa.u.typeWithInterceptors(this._isDoingComposition,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),je)),ae+=Me}}else this._executeEditOperation(fa.u.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),y))},c,W)}compositionType(c,y,W,z,ae,Me){if(0!==y.length||0!==W||0!==z)this._executeEdit(()=>{this._executeEditOperation(fa.u.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),y,W,z,ae))},c,Me);else if(0!==ae){const je=this.getSelections().map(lt=>{const gt=lt.getPosition();return new E.Y(gt.lineNumber,gt.column+ae,gt.lineNumber,gt.column+ae)});this.setSelections(c,Me,je,0)}}paste(c,y,W,z,ae){this._executeEdit(()=>{this._executeEditOperation(fa.u.paste(this.context.cursorConfig,this._model,this.getSelections(),y,W,z||[]))},c,ae,4)}cut(c,y){this._executeEdit(()=>{this._executeEditOperation(Go.A.cut(this.context.cursorConfig,this._model,this.getSelections()))},c,y)}executeCommand(c,y,W){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new vt.Tp(0,[y],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},c,W)}executeCommands(c,y,W){this._executeEdit(()=>{this._executeEditOperation(new vt.Tp(0,y,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},c,W)}}return yt.MAX_CURSOR_COUNT=1e4,yt})();var ga=a(6302),bl=a(3594),ms=a(9549),mo=a(2116),ou=a(5447),ru=a(2372);class Xc{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(r){this._hasPending=!0,this._inserts.push(r)}change(r){this._hasPending=!0,this._changes.push(r)}remove(r){this._hasPending=!0,this._removes.push(r)}mustCommit(){return this._hasPending}commit(r){if(!this._hasPending)return;const c=this._inserts,y=this._changes,W=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],r._commitPendingChanges(c,y,W)}}class Bh{constructor(r,c,y,W,z){this.id=r,this.afterLineNumber=c,this.ordinal=y,this.height=W,this.minWidth=z,this.prefixSum=0}}let yl=(()=>{class yt{constructor(c,y,W,z){this._instanceId=at.PJ(++yt.INSTANCE_COUNT),this._pendingChanges=new Xc,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=c,this._lineHeight=y,this._paddingTop=W,this._paddingBottom=z}static findInsertionIndex(c,y,W){let z=0,ae=c.length;for(;z<ae;){const Me=z+ae>>>1;y===c[Me].afterLineNumber?W<c[Me].ordinal?ae=Me:z=Me+1:y<c[Me].afterLineNumber?ae=Me:z=Me+1}return z}setLineHeight(c){this._checkPendingChanges(),this._lineHeight=c}setPadding(c,y){this._paddingTop=c,this._paddingBottom=y}onFlushed(c){this._checkPendingChanges(),this._lineCount=c}changeWhitespace(c){let y=!1;try{c({insertWhitespace:(z,ae,Me,je)=>{y=!0,z|=0,ae|=0,Me|=0,je|=0;const lt=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new Bh(lt,z,ae,Me,je)),lt},changeOneWhitespace:(z,ae,Me)=>{y=!0,this._pendingChanges.change({id:z,newAfterLineNumber:ae|=0,newHeight:Me|=0})},removeWhitespace:z=>{y=!0,this._pendingChanges.remove({id:z})}})}finally{this._pendingChanges.commit(this)}return y}_commitPendingChanges(c,y,W){if((c.length>0||W.length>0)&&(this._minWidth=-1),c.length+y.length+W.length<=1){for(const lt of c)this._insertWhitespace(lt);for(const lt of y)this._changeOneWhitespace(lt.id,lt.newAfterLineNumber,lt.newHeight);for(const lt of W){const gt=this._findWhitespaceIndex(lt.id);-1!==gt&&this._removeWhitespace(gt)}return}const z=new Set;for(const lt of W)z.add(lt.id);const ae=new Map;for(const lt of y)ae.set(lt.id,lt);const Me=lt=>{let gt=[];for(const St of lt)if(!z.has(St.id)){if(ae.has(St.id)){const Xt=ae.get(St.id);St.afterLineNumber=Xt.newAfterLineNumber,St.height=Xt.newHeight}gt.push(St)}return gt},je=Me(this._arr).concat(Me(c));je.sort((lt,gt)=>lt.afterLineNumber===gt.afterLineNumber?lt.ordinal-gt.ordinal:lt.afterLineNumber-gt.afterLineNumber),this._arr=je,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(c){const y=yt.findInsertionIndex(this._arr,c.afterLineNumber,c.ordinal);this._arr.splice(y,0,c),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,y-1)}_findWhitespaceIndex(c){const y=this._arr;for(let W=0,z=y.length;W<z;W++)if(y[W].id===c)return W;return-1}_changeOneWhitespace(c,y,W){const z=this._findWhitespaceIndex(c);if(-1!==z&&(this._arr[z].height!==W&&(this._arr[z].height=W,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,z-1)),this._arr[z].afterLineNumber!==y)){const ae=this._arr[z];this._removeWhitespace(z),ae.afterLineNumber=y,this._insertWhitespace(ae)}}_removeWhitespace(c){this._arr.splice(c,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,c-1)}onLinesDeleted(c,y){this._checkPendingChanges(),this._lineCount-=(y|=0)-(c|=0)+1;for(let W=0,z=this._arr.length;W<z;W++){const ae=this._arr[W].afterLineNumber;c<=ae&&ae<=y?this._arr[W].afterLineNumber=c-1:ae>y&&(this._arr[W].afterLineNumber-=y-c+1)}}onLinesInserted(c,y){this._checkPendingChanges(),this._lineCount+=(y|=0)-(c|=0)+1;for(let W=0,z=this._arr.length;W<z;W++)c<=this._arr[W].afterLineNumber&&(this._arr[W].afterLineNumber+=y-c+1)}getWhitespacesTotalHeight(){return this._checkPendingChanges(),0===this._arr.length?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(c){this._checkPendingChanges(),c|=0;let y=Math.max(0,this._prefixSumValidIndex+1);0===y&&(this._arr[0].prefixSum=this._arr[0].height,y++);for(let W=y;W<=c;W++)this._arr[W].prefixSum=this._arr[W-1].prefixSum+this._arr[W].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,c),this._arr[c].prefixSum}getLinesTotalHeight(){return this._checkPendingChanges(),this._lineHeight*this._lineCount+this.getWhitespacesTotalHeight()+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(c){this._checkPendingChanges();const y=this._findLastWhitespaceBeforeLineNumber(c|=0);return-1===y?0:this.getWhitespacesAccumulatedHeight(y)}_findLastWhitespaceBeforeLineNumber(c){c|=0;const y=this._arr;let W=0,z=y.length-1;for(;W<=z;){const je=W+((z-W|0)/2|0)|0;if(y[je].afterLineNumber<c){if(je+1>=y.length||y[je+1].afterLineNumber>=c)return je;W=je+1|0}else z=je-1|0}return-1}_findFirstWhitespaceAfterLineNumber(c){const W=this._findLastWhitespaceBeforeLineNumber(c|=0)+1;return W<this._arr.length?W:-1}getFirstWhitespaceIndexAfterLineNumber(c){return this._checkPendingChanges(),this._findFirstWhitespaceAfterLineNumber(c|=0)}getVerticalOffsetForLineNumber(c){let y;return this._checkPendingChanges(),y=(c|=0)>1?this._lineHeight*(c-1):0,y+this.getWhitespaceAccumulatedHeightBeforeLineNumber(c)+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),-1===this._minWidth){let c=0;for(let y=0,W=this._arr.length;y<W;y++)c=Math.max(c,this._arr[y].minWidth);this._minWidth=c}return this._minWidth}isAfterLines(c){return this._checkPendingChanges(),c>this.getLinesTotalHeight()}isInTopPadding(c){return 0!==this._paddingTop&&(this._checkPendingChanges(),c<this._paddingTop)}isInBottomPadding(c){return 0!==this._paddingBottom&&(this._checkPendingChanges(),c>=this.getLinesTotalHeight()-this._paddingBottom)}getLineNumberAtOrAfterVerticalOffset(c){if(this._checkPendingChanges(),(c|=0)<0)return 1;const y=0|this._lineCount,W=this._lineHeight;let z=1,ae=y;for(;z<ae;){const Me=(z+ae)/2|0,je=0|this.getVerticalOffsetForLineNumber(Me);if(c>=je+W)z=Me+1;else{if(c>=je)return Me;ae=Me}}return z>y?y:z}getLinesViewportData(c,y){this._checkPendingChanges(),y|=0;const W=this._lineHeight,z=0|this.getLineNumberAtOrAfterVerticalOffset(c|=0),ae=0|this.getVerticalOffsetForLineNumber(z);let Me=0|this._lineCount,je=0|this.getFirstWhitespaceIndexAfterLineNumber(z);const lt=0|this.getWhitespacesCount();let gt,St;-1===je?(je=lt,St=Me+1,gt=0):(St=0|this.getAfterLineNumberForWhitespaceIndex(je),gt=0|this.getHeightForWhitespaceIndex(je));let Xt=ae,Gt=Xt;const an=5e5;let dn=0;ae>=an&&(dn=Math.floor(ae/an)*an,dn=Math.floor(dn/W)*W,Gt-=dn);const Tn=[],$n=c+(y-c)/2;let Hn=-1;for(let li=z;li<=Me;li++){if(-1===Hn){const ui=Xt,_i=Xt+W;(ui<=$n&&$n<_i||ui>$n)&&(Hn=li)}for(Xt+=W,Tn[li-z]=Gt,Gt+=W;St===li;)Gt+=gt,Xt+=gt,je++,je>=lt?St=Me+1:(St=0|this.getAfterLineNumberForWhitespaceIndex(je),gt=0|this.getHeightForWhitespaceIndex(je));if(Xt>=y){Me=li;break}}-1===Hn&&(Hn=Me);const Vn=0|this.getVerticalOffsetForLineNumber(Me);let hi=z,Jn=Me;return hi<Jn&&ae<c&&hi++,hi<Jn&&Vn+W>y&&Jn--,{bigNumbersDelta:dn,startLineNumber:z,endLineNumber:Me,relativeVerticalOffset:Tn,centeredLineNumber:Hn,completelyVisibleStartLineNumber:hi,completelyVisibleEndLineNumber:Jn}}getVerticalOffsetForWhitespaceIndex(c){this._checkPendingChanges();const y=this.getAfterLineNumberForWhitespaceIndex(c|=0);let W,z;return W=y>=1?this._lineHeight*y:0,z=c>0?this.getWhitespacesAccumulatedHeight(c-1):0,W+z+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(c){this._checkPendingChanges(),c|=0;let y=0,W=this.getWhitespacesCount()-1;if(W<0)return-1;if(c>=this.getVerticalOffsetForWhitespaceIndex(W)+this.getHeightForWhitespaceIndex(W))return-1;for(;y<W;){const Me=Math.floor((y+W)/2),je=this.getVerticalOffsetForWhitespaceIndex(Me);if(c>=je+this.getHeightForWhitespaceIndex(Me))y=Me+1;else{if(c>=je)return Me;W=Me}}return y}getWhitespaceAtVerticalOffset(c){this._checkPendingChanges();const y=this.getWhitespaceIndexAtOrAfterVerticallOffset(c|=0);if(y<0||y>=this.getWhitespacesCount())return null;const W=this.getVerticalOffsetForWhitespaceIndex(y);if(W>c)return null;const z=this.getHeightForWhitespaceIndex(y);return{id:this.getIdForWhitespaceIndex(y),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(y),verticalOffset:W,height:z}}getWhitespaceViewportData(c,y){this._checkPendingChanges(),y|=0;const W=this.getWhitespaceIndexAtOrAfterVerticallOffset(c|=0),z=this.getWhitespacesCount()-1;if(W<0)return[];let ae=[];for(let Me=W;Me<=z;Me++){const je=this.getVerticalOffsetForWhitespaceIndex(Me),lt=this.getHeightForWhitespaceIndex(Me);if(je>=y)break;ae.push({id:this.getIdForWhitespaceIndex(Me),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(Me),verticalOffset:je,height:lt})}return ae}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(c){return this._checkPendingChanges(),this._arr[c|=0].id}getAfterLineNumberForWhitespaceIndex(c){return this._checkPendingChanges(),this._arr[c|=0].afterLineNumber}getHeightForWhitespaceIndex(c){return this._checkPendingChanges(),this._arr[c|=0].height}}return yt.INSTANCE_COUNT=0,yt})();class Ps{constructor(r,c,y,W){(r|=0)<0&&(r=0),(c|=0)<0&&(c=0),(y|=0)<0&&(y=0),(W|=0)<0&&(W=0),this.width=r,this.contentWidth=c,this.scrollWidth=Math.max(r,c),this.height=y,this.contentHeight=W,this.scrollHeight=Math.max(y,W)}equals(r){return this.width===r.width&&this.contentWidth===r.contentWidth&&this.height===r.height&&this.contentHeight===r.contentHeight}}class oc extends g.JT{constructor(r,c){super(),this._onDidContentSizeChange=this._register(new C.Q5),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new Ps(0,0,0,0),this._scrollable=this._register(new ru.Rm(r,c)),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(r){this._scrollable.setSmoothScrollDuration(r)}validateScrollPosition(r){return this._scrollable.validateScrollPosition(r)}getScrollDimensions(){return this._dimensions}setScrollDimensions(r){if(this._dimensions.equals(r))return;const c=this._dimensions;this._dimensions=r,this._scrollable.setScrollDimensions({width:r.width,scrollWidth:r.scrollWidth,height:r.height,scrollHeight:r.scrollHeight},!0),(c.contentWidth!==r.contentWidth||c.contentHeight!==r.contentHeight)&&this._onDidContentSizeChange.fire(new iu(c.contentWidth,c.contentHeight,r.contentWidth,r.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(r){this._scrollable.setScrollPositionNow(r)}setScrollPositionSmooth(r){this._scrollable.setScrollPositionSmooth(r)}}class wl extends g.JT{constructor(r,c,y){super(),this._configuration=r;const W=this._configuration.options,z=W.get(128),ae=W.get(72);this._linesLayout=new yl(c,W.get(56),ae.top,ae.bottom),this._scrollable=this._register(new oc(0,y)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new Ps(z.contentWidth,0,z.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(101)?125:0)}onConfigurationChanged(r){const c=this._configuration.options;if(r.hasChanged(56)&&this._linesLayout.setLineHeight(c.get(56)),r.hasChanged(72)){const y=c.get(72);this._linesLayout.setPadding(y.top,y.bottom)}if(r.hasChanged(128)){const y=c.get(128),W=y.contentWidth,z=y.height,ae=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new Ps(W,ae.contentWidth,z,this._getContentHeight(W,z,ae.contentWidth)))}else this._updateHeight();r.hasChanged(101)&&this._configureSmoothScrollDuration()}onFlushed(r){this._linesLayout.onFlushed(r)}onLinesDeleted(r,c){this._linesLayout.onLinesDeleted(r,c)}onLinesInserted(r,c){this._linesLayout.onLinesInserted(r,c)}_getHorizontalScrollbarHeight(r,c){const W=this._configuration.options.get(90);return 2===W.horizontal||r>=c?0:W.horizontalScrollbarSize}_getContentHeight(r,c,y){const W=this._configuration.options;let z=this._linesLayout.getLinesTotalHeight();return W.get(92)?z+=Math.max(0,c-W.get(56)-W.get(72).bottom):z+=this._getHorizontalScrollbarHeight(r,y),z}_updateHeight(){const r=this._scrollable.getScrollDimensions(),c=r.width,y=r.height;this._scrollable.setScrollDimensions(new Ps(c,r.contentWidth,y,this._getContentHeight(c,y,r.contentWidth)))}getCurrentViewport(){const r=this._scrollable.getScrollDimensions(),c=this._scrollable.getCurrentScrollPosition();return new In.l_(c.scrollTop,c.scrollLeft,r.width,r.height)}getFutureViewport(){const r=this._scrollable.getScrollDimensions(),c=this._scrollable.getFutureScrollPosition();return new In.l_(c.scrollTop,c.scrollLeft,r.width,r.height)}_computeContentWidth(r){const c=this._configuration.options,y=c.get(129),W=c.get(40);if(y.isViewportWrapping){const z=c.get(128),ae=c.get(62);return r>z.contentWidth+W.typicalHalfwidthCharacterWidth&&ae.enabled&&"right"===ae.side?r+z.verticalScrollbarWidth:r}{const z=c.get(91)*W.typicalHalfwidthCharacterWidth,ae=this._linesLayout.getWhitespaceMinWidth();return Math.max(r+z,ae)}}setMaxLineWidth(r){const c=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new Ps(c.width,this._computeContentWidth(r),c.height,c.contentHeight)),this._updateHeight()}saveState(){const r=this._scrollable.getFutureScrollPosition();let c=r.scrollTop,y=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(c);return{scrollTop:c,scrollTopWithoutViewZones:c-this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(y),scrollLeft:r.scrollLeft}}changeWhitespace(r){const c=this._linesLayout.changeWhitespace(r);return c&&this.onHeightMaybeChanged(),c}getVerticalOffsetForLineNumber(r){return this._linesLayout.getVerticalOffsetForLineNumber(r)}isAfterLines(r){return this._linesLayout.isAfterLines(r)}isInTopPadding(r){return this._linesLayout.isInTopPadding(r)}isInBottomPadding(r){return this._linesLayout.isInBottomPadding(r)}getLineNumberAtVerticalOffset(r){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(r)}getWhitespaceAtVerticalOffset(r){return this._linesLayout.getWhitespaceAtVerticalOffset(r)}getLinesViewportData(){const r=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(r.top,r.top+r.height)}getLinesViewportDataAtScrollTop(r){const c=this._scrollable.getScrollDimensions();return r+c.height>c.scrollHeight&&(r=c.scrollHeight-c.height),r<0&&(r=0),this._linesLayout.getLinesViewportData(r,r+c.height)}getWhitespaceViewportData(){const r=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(r.top,r.top+r.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(r){return this._scrollable.validateScrollPosition(r)}setScrollPosition(r,c){1===c?this._scrollable.setScrollPositionNow(r):this._scrollable.setScrollPositionSmooth(r)}deltaScrollNow(r,c){const y=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:y.scrollLeft+r,scrollTop:y.scrollTop+c})}}var Jc=a(1959),Qs=a(111),au=a(3468);class qc{constructor(r){this._lines=r}convertViewPositionToModelPosition(r){return this._lines.convertViewPositionToModelPosition(r.lineNumber,r.column)}convertViewRangeToModelRange(r){return this._lines.convertViewRangeToModelRange(r)}validateViewPosition(r,c){return this._lines.validateViewPosition(r.lineNumber,r.column,c)}validateViewRange(r,c){return this._lines.validateViewRange(r,c)}convertModelPositionToViewPosition(r){return this._lines.convertModelPositionToViewPosition(r.lineNumber,r.column)}convertModelRangeToViewRange(r){return this._lines.convertModelRangeToViewRange(r)}modelPositionIsVisible(r){return this._lines.modelPositionIsVisible(r.lineNumber,r.column)}getModelLineViewLineCount(r){return this._lines.getModelLineViewLineCount(r)}}class Or{constructor(r){this._counts=r,this._isValid=!1,this._validEndIndex=-1,this._modelToView=[],this._viewToModel=[]}_invalidate(r){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,r-1)}_ensureValid(){if(!this._isValid){for(let r=this._validEndIndex+1,c=this._counts.length;r<c;r++){const y=this._counts[r],W=r>0?this._modelToView[r-1]:0;this._modelToView[r]=W+y;for(let z=0;z<y;z++)this._viewToModel[W+z]=r}this._modelToView.length=this._counts.length,this._viewToModel.length=this._modelToView[this._modelToView.length-1],this._isValid=!0,this._validEndIndex=this._counts.length-1}}changeValue(r,c){this._counts[r]!==c&&(this._counts[r]=c,this._invalidate(r))}removeValues(r,c){this._counts.splice(r,c),this._invalidate(r)}insertValues(r,c){this._counts=q.Zv(this._counts,r,c),this._invalidate(r)}getTotalValue(){return this._ensureValid(),this._viewToModel.length}getAccumulatedValue(r){return this._ensureValid(),this._modelToView[r]}getIndexOf(r){this._ensureValid();const c=this._viewToModel[r];return new au.T(c,r-(c>0?this._modelToView[c-1]:0))}}class Oo{constructor(r,c,y,W,z,ae,Me,je,lt){this._editorId=r,this.model=c,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=y,this._monospaceLineBreaksComputerFactory=W,this.fontInfo=z,this.tabSize=ae,this.wrappingStrategy=Me,this.wrappingColumn=je,this.wrappingIndent=lt,this._constructLines(!0,null)}dispose(){this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,[])}createCoordinatesConverter(){return new qc(this)}_constructLines(r,c){this.lines=[],r&&(this.hiddenAreasIds=[]);const y=this.model.getLinesContent(),W=this.model.getInjectedTextDecorations(this._editorId),z=mo.gk.fromDecorations(W),ae=y.length,Me=this.createLineBreaksComputer(),je=z.length;let lt=0,gt=lt<je?z[lt].lineNumber:ae+1;for(let Hn=0;Hn<ae;Hn++){let Vn=null;if(Hn+1===gt)for(Vn=[];Hn+1===gt&&lt<je;)Vn.push(z[lt]),lt++,gt=lt<je?z[lt].lineNumber:ae+1;Me.addRequest(y[Hn],Vn,c?c[Hn]:null)}const St=Me.finalize();let Xt=[],Gt=this.hiddenAreasIds.map(Hn=>this.model.getDecorationRange(Hn)).sort(ot.e.compareRangesUsingStarts),an=1,dn=0,Tn=-1,$n=Tn+1<Gt.length?dn+1:ae+2;for(let Hn=0;Hn<ae;Hn++){let Vn=Hn+1;Vn===$n&&(Tn++,an=Gt[Tn].startLineNumber,dn=Gt[Tn].endLineNumber,$n=Tn+1<Gt.length?dn+1:ae+2);let Jn=El(St[Hn],!(Vn>=an&&Vn<=dn));Xt[Hn]=Jn.getViewLineCount(),this.lines[Hn]=Jn}this._validModelVersionId=this.model.getVersionId(),this.prefixSumComputer=new Or(Xt)}getHiddenAreas(){return this.hiddenAreasIds.map(r=>this.model.getDecorationRange(r))}_reduceRanges(r){if(0===r.length)return[];let c=r.map(ae=>this.model.validateRange(ae)).sort(ot.e.compareRangesUsingStarts),y=[],W=c[0].startLineNumber,z=c[0].endLineNumber;for(let ae=1,Me=c.length;ae<Me;ae++){let je=c[ae];je.startLineNumber>z+1?(y.push(new ot.e(W,1,z,1)),W=je.startLineNumber,z=je.endLineNumber):je.endLineNumber>z&&(z=je.endLineNumber)}return y.push(new ot.e(W,1,z,1)),y}setHiddenAreas(r){let c=this._reduceRanges(r),y=this.hiddenAreasIds.map(St=>this.model.getDecorationRange(St)).sort(ot.e.compareRangesUsingStarts);if(c.length===y.length){let St=!1;for(let Xt=0;Xt<c.length;Xt++)if(!c[Xt].equalsRange(y[Xt])){St=!0;break}if(!St)return!1}let W=[];for(const St of c)W.push({range:St,options:Qs.qx.EMPTY});this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,W);let z=c,ae=1,Me=0,je=-1,lt=je+1<z.length?Me+1:this.lines.length+2,gt=!1;for(let St=0;St<this.lines.length;St++){let Xt=St+1;Xt===lt&&(je++,ae=z[je].startLineNumber,Me=z[je].endLineNumber,lt=je+1<z.length?Me+1:this.lines.length+2);let Gt=!1;if(Xt>=ae&&Xt<=Me?this.lines[St].isVisible()&&(this.lines[St]=this.lines[St].setVisible(!1),Gt=!0):(gt=!0,this.lines[St].isVisible()||(this.lines[St]=this.lines[St].setVisible(!0),Gt=!0)),Gt){let an=this.lines[St].getViewLineCount();this.prefixSumComputer.changeValue(St,an)}}return gt||this.setHiddenAreas([]),!0}modelPositionIsVisible(r,c){return!(r<1||r>this.lines.length)&&this.lines[r-1].isVisible()}getModelLineViewLineCount(r){return r<1||r>this.lines.length?1:this.lines[r-1].getViewLineCount()}setTabSize(r){return this.tabSize!==r&&(this.tabSize=r,this._constructLines(!1,null),!0)}setWrappingSettings(r,c,y,W){const z=this.fontInfo.equals(r),ae=this.wrappingStrategy===c,Me=this.wrappingColumn===y,je=this.wrappingIndent===W;if(z&&ae&&Me&&je)return!1;const lt=z&&ae&&!Me&&je;this.fontInfo=r,this.wrappingStrategy=c,this.wrappingColumn=y,this.wrappingIndent=W;let gt=null;if(lt){gt=[];for(let St=0,Xt=this.lines.length;St<Xt;St++)gt[St]=this.lines[St].getLineBreakData()}return this._constructLines(!1,gt),!0}createLineBreaksComputer(){return("advanced"===this.wrappingStrategy?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(r,c,y){if(!r||r<=this._validModelVersionId)return null;let W=1===c?1:this.prefixSumComputer.getAccumulatedValue(c-2)+1,z=this.prefixSumComputer.getAccumulatedValue(y-1);return this.lines.splice(c-1,y-c+1),this.prefixSumComputer.removeValues(c-1,y-c+1),new Yc(W,z)}onModelLinesInserted(r,c,y,W){if(!r||r<=this._validModelVersionId)return null;const z=c>2&&!this.lines[c-2].isVisible();let ae=1===c?1:this.prefixSumComputer.getAccumulatedValue(c-2)+1,Me=0,je=[],lt=[];for(let gt=0,St=W.length;gt<St;gt++){let Xt=El(W[gt],!z);je.push(Xt);let Gt=Xt.getViewLineCount();Me+=Gt,lt[gt]=Gt}return this.lines=this.lines.slice(0,c-1).concat(je).concat(this.lines.slice(c-1)),this.prefixSumComputer.insertValues(c-1,lt),new tu(ae,ae+Me-1)}onModelLineChanged(r,c,y){if(null!==r&&r<=this._validModelVersionId)return[!1,null,null,null];let W=c-1,z=this.lines[W].getViewLineCount(),Me=El(y,this.lines[W].isVisible());this.lines[W]=Me;let je=this.lines[W].getViewLineCount(),lt=!1,gt=0,St=-1,Xt=0,Gt=-1,an=0,dn=-1;return z>je?(gt=1===c?1:this.prefixSumComputer.getAccumulatedValue(c-2)+1,St=gt+je-1,an=St+1,dn=an+(z-je)-1,lt=!0):z<je?(gt=1===c?1:this.prefixSumComputer.getAccumulatedValue(c-2)+1,St=gt+z-1,Xt=St+1,Gt=Xt+(je-z)-1,lt=!0):(gt=1===c?1:this.prefixSumComputer.getAccumulatedValue(c-2)+1,St=gt+je-1),this.prefixSumComputer.changeValue(W,je),[lt,gt<=St?new eu(gt,St):null,Xt<=Gt?new tu(Xt,Gt):null,an<=dn?new Yc(an,dn):null]}acceptVersionId(r){this._validModelVersionId=r,1===this.lines.length&&!this.lines[0].isVisible()&&this.setHiddenAreas([])}getViewLineCount(){return this.prefixSumComputer.getTotalValue()}_toValidViewLineNumber(r){if(r<1)return 1;const c=this.getViewLineCount();return r>c?c:0|r}getActiveIndentGuide(r,c,y){r=this._toValidViewLineNumber(r),c=this._toValidViewLineNumber(c),y=this._toValidViewLineNumber(y);const W=this.convertViewPositionToModelPosition(r,this.getViewLineMinColumn(r)),z=this.convertViewPositionToModelPosition(c,this.getViewLineMinColumn(c)),ae=this.convertViewPositionToModelPosition(y,this.getViewLineMinColumn(y)),Me=this.model.getActiveIndentGuide(W.lineNumber,z.lineNumber,ae.lineNumber),je=this.convertModelPositionToViewPosition(Me.startLineNumber,1),lt=this.convertModelPositionToViewPosition(Me.endLineNumber,this.model.getLineMaxColumn(Me.endLineNumber));return{startLineNumber:je.lineNumber,endLineNumber:lt.lineNumber,indent:Me.indent}}getViewLinesIndentGuides(r,c){r=this._toValidViewLineNumber(r),c=this._toValidViewLineNumber(c);const y=this.convertViewPositionToModelPosition(r,this.getViewLineMinColumn(r)),W=this.convertViewPositionToModelPosition(c,this.getViewLineMaxColumn(c));let z=[],ae=[],Me=[];const je=y.lineNumber-1,lt=W.lineNumber-1;let gt=null;for(let an=je;an<=lt;an++){const dn=this.lines[an];if(dn.isVisible()){let Tn=dn.getViewLineNumberOfModelPosition(0,an===je?y.column:1),$n=dn.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(an+1)),Hn=$n-Tn+1,Vn=0;Hn>1&&1===dn.getViewLineMinColumn(this.model,an+1,$n)&&(Vn=0===Tn?1:2),ae.push(Hn),Me.push(Vn),null===gt&&(gt=new Ue.L(an+1,0))}else null!==gt&&(z=z.concat(this.model.getLinesIndentGuides(gt.lineNumber,an)),gt=null)}null!==gt&&(z=z.concat(this.model.getLinesIndentGuides(gt.lineNumber,W.lineNumber)),gt=null);const St=c-r+1;let Xt=new Array(St),Gt=0;for(let an=0,dn=z.length;an<dn;an++){let Vn,Tn=z[an],$n=Math.min(St-Gt,ae[an]),Hn=Me[an];Vn=2===Hn?0:1===Hn?1:$n;for(let hi=0;hi<$n;hi++)hi===Vn&&(Tn=0),Xt[Gt++]=Tn}return Xt}getViewLineContent(r){r=this._toValidViewLineNumber(r);let c=this.prefixSumComputer.getIndexOf(r-1),y=c.index;return this.lines[y].getViewLineContent(this.model,y+1,c.remainder)}getViewLineLength(r){r=this._toValidViewLineNumber(r);let c=this.prefixSumComputer.getIndexOf(r-1),y=c.index;return this.lines[y].getViewLineLength(this.model,y+1,c.remainder)}getViewLineMinColumn(r){r=this._toValidViewLineNumber(r);let c=this.prefixSumComputer.getIndexOf(r-1),y=c.index;return this.lines[y].getViewLineMinColumn(this.model,y+1,c.remainder)}getViewLineMaxColumn(r){r=this._toValidViewLineNumber(r);let c=this.prefixSumComputer.getIndexOf(r-1),y=c.index;return this.lines[y].getViewLineMaxColumn(this.model,y+1,c.remainder)}getViewLineData(r){r=this._toValidViewLineNumber(r);let c=this.prefixSumComputer.getIndexOf(r-1),y=c.index;return this.lines[y].getViewLineData(this.model,y+1,c.remainder)}getViewLinesData(r,c,y){r=this._toValidViewLineNumber(r),c=this._toValidViewLineNumber(c);let W=this.prefixSumComputer.getIndexOf(r-1),z=r,ae=W.index,Me=W.remainder,je=[];for(let lt=ae,gt=this.model.getLineCount();lt<gt;lt++){let St=this.lines[lt];if(!St.isVisible())continue;let Xt=lt===ae?Me:0,Gt=St.getViewLineCount()-Xt,an=!1;if(z+Gt>c&&(an=!0,Gt=c-z+1),St.getViewLinesData(this.model,lt+1,Xt,Xt+Gt,z-r,y,je),z+=Gt,an)break}return je}validateViewPosition(r,c,y){r=this._toValidViewLineNumber(r);let W=this.prefixSumComputer.getIndexOf(r-1),z=W.index,ae=W.remainder,Me=this.lines[z],je=Me.getViewLineMinColumn(this.model,z+1,ae),lt=Me.getViewLineMaxColumn(this.model,z+1,ae);c<je&&(c=je),c>lt&&(c=lt);let gt=Me.getModelColumnOfViewPosition(ae,c);return this.model.validatePosition(new Ue.L(z+1,gt)).equals(y)?new Ue.L(r,c):this.convertModelPositionToViewPosition(y.lineNumber,y.column)}validateViewRange(r,c){const y=this.validateViewPosition(r.startLineNumber,r.startColumn,c.getStartPosition()),W=this.validateViewPosition(r.endLineNumber,r.endColumn,c.getEndPosition());return new ot.e(y.lineNumber,y.column,W.lineNumber,W.column)}convertViewPositionToModelPosition(r,c){r=this._toValidViewLineNumber(r);let y=this.prefixSumComputer.getIndexOf(r-1),W=y.index,ae=this.lines[W].getModelColumnOfViewPosition(y.remainder,c);return this.model.validatePosition(new Ue.L(W+1,ae))}convertViewRangeToModelRange(r){const c=this.convertViewPositionToModelPosition(r.startLineNumber,r.startColumn),y=this.convertViewPositionToModelPosition(r.endLineNumber,r.endColumn);return new ot.e(c.lineNumber,c.column,y.lineNumber,y.column)}convertModelPositionToViewPosition(r,c){const y=this.model.validatePosition(new Ue.L(r,c)),W=y.lineNumber,z=y.column;let ae=W-1,Me=!1;for(;ae>0&&!this.lines[ae].isVisible();)ae--,Me=!0;if(0===ae&&!this.lines[ae].isVisible())return new Ue.L(1,1);const je=1+(0===ae?0:this.prefixSumComputer.getAccumulatedValue(ae-1));let lt;return lt=Me?this.lines[ae].getViewPositionOfModelPosition(je,this.model.getLineMaxColumn(ae+1)):this.lines[W-1].getViewPositionOfModelPosition(je,z),lt}convertModelRangeToViewRange(r){let c=this.convertModelPositionToViewPosition(r.startLineNumber,r.startColumn),y=this.convertModelPositionToViewPosition(r.endLineNumber,r.endColumn);return r.startLineNumber===r.endLineNumber&&c.lineNumber!==y.lineNumber&&y.column===this.getViewLineMinColumn(y.lineNumber)?new ot.e(c.lineNumber,c.column,y.lineNumber-1,this.getViewLineMaxColumn(y.lineNumber-1)):new ot.e(c.lineNumber,c.column,y.lineNumber,y.column)}_getViewLineNumberForModelPosition(r,c){let y=r-1;if(this.lines[y].isVisible()){const z=1+(0===y?0:this.prefixSumComputer.getAccumulatedValue(y-1));return this.lines[y].getViewLineNumberOfModelPosition(z,c)}for(;y>0&&!this.lines[y].isVisible();)y--;if(0===y&&!this.lines[y].isVisible())return 1;const W=1+(0===y?0:this.prefixSumComputer.getAccumulatedValue(y-1));return this.lines[y].getViewLineNumberOfModelPosition(W,this.model.getLineMaxColumn(y+1))}getAllOverviewRulerDecorations(r,c,y){const W=this.model.getOverviewRulerDecorations(r,c),z=new rc;for(const ae of W){const Me=ae.options.overviewRuler,je=Me?Me.position:0;if(0===je)continue;const lt=Me.getColor(y),gt=this._getViewLineNumberForModelPosition(ae.range.startLineNumber,ae.range.startColumn),St=this._getViewLineNumberForModelPosition(ae.range.endLineNumber,ae.range.endColumn);z.accept(lt,gt,St,je)}return z.result}getDecorationsInRange(r,c,y){const W=this.convertViewPositionToModelPosition(r.startLineNumber,r.startColumn),z=this.convertViewPositionToModelPosition(r.endLineNumber,r.endColumn);if(z.lineNumber-W.lineNumber<=r.endLineNumber-r.startLineNumber)return this.model.getDecorationsInRange(new ot.e(W.lineNumber,1,z.lineNumber,z.column),c,y);let ae=[];const Me=W.lineNumber-1,je=z.lineNumber-1;let lt=null;for(let Gt=Me;Gt<=je;Gt++)if(this.lines[Gt].isVisible())null===lt&&(lt=new Ue.L(Gt+1,Gt===Me?W.column:1));else if(null!==lt){const dn=this.model.getLineMaxColumn(Gt);ae=ae.concat(this.model.getDecorationsInRange(new ot.e(lt.lineNumber,lt.column,Gt,dn),c,y)),lt=null}null!==lt&&(ae=ae.concat(this.model.getDecorationsInRange(new ot.e(lt.lineNumber,lt.column,z.lineNumber,z.column),c,y)),lt=null),ae.sort((Gt,an)=>{const dn=ot.e.compareRangesUsingStarts(Gt.range,an.range);return 0===dn?Gt.id<an.id?-1:Gt.id>an.id?1:0:dn});let gt=[],St=0,Xt=null;for(const Gt of ae){const an=Gt.id;Xt!==an&&(Xt=an,gt[St++]=Gt)}return gt}normalizePosition(r,c){const y=this._toValidViewLineNumber(r.lineNumber),W=this.prefixSumComputer.getIndexOf(y-1),z=W.index;return this.lines[z].normalizePosition(this.model,z+1,W.remainder,r,c)}getLineIndentColumn(r){const c=this._toValidViewLineNumber(r),y=this.prefixSumComputer.getIndexOf(c-1);return 0===y.remainder?this.model.getLineIndentColumn(y.index+1):0}}class fs{constructor(){}isVisible(){return!0}setVisible(r){return r?this:Ua.INSTANCE}getLineBreakData(){return null}getViewLineCount(){return 1}getViewLineContent(r,c,y){return r.getLineContent(c)}getViewLineLength(r,c,y){return r.getLineLength(c)}getViewLineMinColumn(r,c,y){return r.getLineMinColumn(c)}getViewLineMaxColumn(r,c,y){return r.getLineMaxColumn(c)}getViewLineData(r,c,y){let W=r.getLineTokens(c),z=W.getLineContent();return new In.IP(z,!1,1,z.length+1,0,W.inflate())}getViewLinesData(r,c,y,W,z,ae,Me){Me[z]=ae[z]?this.getViewLineData(r,c,0):null}getModelColumnOfViewPosition(r,c){return c}getViewPositionOfModelPosition(r,c){return new Ue.L(r,c)}getViewLineNumberOfModelPosition(r,c){return r}normalizePosition(r,c,y,W,z){return W}}fs.INSTANCE=new fs;class Ua{constructor(){}isVisible(){return!1}setVisible(r){return r?fs.INSTANCE:this}getLineBreakData(){return null}getViewLineCount(){return 0}getViewLineContent(r,c,y){throw new Error("Not supported")}getViewLineLength(r,c,y){throw new Error("Not supported")}getViewLineMinColumn(r,c,y){throw new Error("Not supported")}getViewLineMaxColumn(r,c,y){throw new Error("Not supported")}getViewLineData(r,c,y){throw new Error("Not supported")}getViewLinesData(r,c,y,W,z,ae,Me){throw new Error("Not supported")}getModelColumnOfViewPosition(r,c){throw new Error("Not supported")}getViewPositionOfModelPosition(r,c){throw new Error("Not supported")}getViewLineNumberOfModelPosition(r,c){throw new Error("Not supported")}normalizePosition(r,c,y,W,z){throw new Error("Not supported")}}Ua.INSTANCE=new Ua;class ma{constructor(r,c){this._lineBreakData=r,this._isVisible=c}isVisible(){return this._isVisible}setVisible(r){return this._isVisible=r,this}getLineBreakData(){return this._lineBreakData}getViewLineCount(){return this._isVisible?this._lineBreakData.breakOffsets.length:0}getInputStartOffsetOfOutputLineIndex(r){return this._lineBreakData.getInputOffsetOfOutputPosition(r,0)}getInputEndOffsetOfOutputLineIndex(r,c,y){return y+1===this._lineBreakData.breakOffsets.length?r.getLineMaxColumn(c)-1:this._lineBreakData.getInputOffsetOfOutputPosition(y+1,0)}getViewLineContent(r,c,y){if(!this._isVisible)throw new Error("Not supported");let W=this.getInputStartOffsetOfOutputLineIndex(y),z=this.getInputEndOffsetOfOutputLineIndex(r,c,y),ae=r.getValueInRange({startLineNumber:c,startColumn:W+1,endLineNumber:c,endColumn:z+1});return y>0&&(ae=ja(this._lineBreakData.wrappedTextIndentLength)+ae),ae}getViewLineLength(r,c,y){if(!this._isVisible)throw new Error("Not supported");let ae=(y<this._lineBreakData.breakOffsets.length?this._lineBreakData.breakOffsets[y]:this._lineBreakData.breakOffsets[this._lineBreakData.breakOffsets.length-1])-(y>0?this._lineBreakData.breakOffsets[y-1]:0);return y>0&&(ae=this._lineBreakData.wrappedTextIndentLength+ae),ae}getViewLineMinColumn(r,c,y){if(!this._isVisible)throw new Error("Not supported");return this._getViewLineMinColumn(y)}_getViewLineMinColumn(r){return r>0?this._lineBreakData.wrappedTextIndentLength+1:1}getViewLineMaxColumn(r,c,y){if(!this._isVisible)throw new Error("Not supported");return this.getViewLineLength(r,c,y)+1}getViewLineData(r,c,y){if(!this._isVisible)throw new Error("Not supported");const W=this._lineBreakData,z=y>0?W.wrappedTextIndentLength:0,ae=W.injectionOffsets,Me=W.injectionTexts;let je,lt;if(ae){const an=r.getLineTokens(c).withInserted(ae.map(($n,Hn)=>({offset:$n,text:Me[Hn],tokenMetadata:Jc.A.defaultTokenMetadata}))),dn=y>0?W.breakOffsets[y-1]:0,Tn=W.breakOffsets[y];je=an.getLineContent().substring(dn,Tn),lt=an.sliceAndInflate(dn,Tn,z)}else{const an=this.getInputStartOffsetOfOutputLineIndex(y),dn=this.getInputEndOffsetOfOutputLineIndex(r,c,y),Tn=r.getLineTokens(c);je=r.getValueInRange({startLineNumber:c,startColumn:an+1,endLineNumber:c,endColumn:dn+1}),lt=Tn.sliceAndInflate(an,dn,z)}y>0&&(je=ja(W.wrappedTextIndentLength)+je);const gt=y>0?W.wrappedTextIndentLength+1:1,St=je.length+1,Xt=y+1<this.getViewLineCount();return new In.IP(je,Xt,gt,St,0===y?0:W.breakOffsetsVisibleColumn[y-1],lt)}getViewLinesData(r,c,y,W,z,ae,Me){if(!this._isVisible)throw new Error("Not supported");for(let je=y;je<W;je++){let lt=z+je-y;Me[lt]=ae[lt]?this.getViewLineData(r,c,je):null}}getModelColumnOfViewPosition(r,c){if(!this._isVisible)throw new Error("Not supported");let y=c-1;return r>0&&(y<this._lineBreakData.wrappedTextIndentLength?y=0:y-=this._lineBreakData.wrappedTextIndentLength),this._lineBreakData.getInputOffsetOfOutputPosition(r,y)+1}getViewPositionOfModelPosition(r,c){if(!this._isVisible)throw new Error("Not supported");let y=this._lineBreakData.getOutputPositionOfInputOffset(c-1),W=y.outputLineIndex,z=y.outputOffset+1;return W>0&&(z+=this._lineBreakData.wrappedTextIndentLength),new Ue.L(r+W,z)}getViewLineNumberOfModelPosition(r,c){if(!this._isVisible)throw new Error("Not supported");return r+this._lineBreakData.getOutputPositionOfInputOffset(c-1).outputLineIndex}normalizePosition(r,c,y,W,z){if(0===z){if(y>0&&W.column===this._getViewLineMinColumn(y))return new Ue.L(W.lineNumber-1,this.getViewLineMaxColumn(r,c,y-1))}else if(1===z&&y<this.getViewLineCount()-1&&W.column===this.getViewLineMaxColumn(r,c,y))return new Ue.L(W.lineNumber+1,this._getViewLineMinColumn(y+1));return W}}let Eo=[""];function ja(yt){if(yt>=Eo.length)for(let r=1;r<=yt;r++)Eo[r]=Sl(r);return Eo[yt]}function Sl(yt){return new Array(yt+1).join(" ")}function El(yt,r){return null===yt?r?fs.INSTANCE:Ua.INSTANCE:new ma(yt,r)}class Pr{constructor(r){this._lines=r}_validPosition(r){return this._lines.model.validatePosition(r)}_validRange(r){return this._lines.model.validateRange(r)}convertViewPositionToModelPosition(r){return this._validPosition(r)}convertViewRangeToModelRange(r){return this._validRange(r)}validateViewPosition(r,c){return this._validPosition(c)}validateViewRange(r,c){return this._validRange(c)}convertModelPositionToViewPosition(r){return this._validPosition(r)}convertModelRangeToViewRange(r){return this._validRange(r)}modelPositionIsVisible(r){const c=this._lines.model.getLineCount();return!(r.lineNumber<1||r.lineNumber>c)}getModelLineViewLineCount(r){return 1}}class ed{constructor(r){this.model=r}dispose(){}createCoordinatesConverter(){return new Pr(this)}getHiddenAreas(){return[]}setHiddenAreas(r){return!1}setTabSize(r){return!1}setWrappingSettings(r,c,y,W){return!1}createLineBreaksComputer(){let r=[];return{addRequest:(c,y,W)=>{r.push(null)},finalize:()=>r}}onModelFlushed(){}onModelLinesDeleted(r,c,y){return new Yc(c,y)}onModelLinesInserted(r,c,y,W){return new tu(c,y)}onModelLineChanged(r,c,y){return[!1,new eu(c,c),null,null]}acceptVersionId(r){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(r,c,y){return{startLineNumber:r,endLineNumber:r,indent:0}}getViewLinesIndentGuides(r,c){const y=c-r+1;let W=new Array(y);for(let z=0;z<y;z++)W[z]=0;return W}getViewLineContent(r){return this.model.getLineContent(r)}getViewLineLength(r){return this.model.getLineLength(r)}getViewLineMinColumn(r){return this.model.getLineMinColumn(r)}getViewLineMaxColumn(r){return this.model.getLineMaxColumn(r)}getViewLineData(r){let c=this.model.getLineTokens(r),y=c.getLineContent();return new In.IP(y,!1,1,y.length+1,0,c.inflate())}getViewLinesData(r,c,y){const W=this.model.getLineCount();r=Math.min(Math.max(1,r),W),c=Math.min(Math.max(1,c),W);let z=[];for(let ae=r;ae<=c;ae++){let Me=ae-r;y[Me]||(z[Me]=null),z[Me]=this.getViewLineData(ae)}return z}getAllOverviewRulerDecorations(r,c,y){const W=this.model.getOverviewRulerDecorations(r,c),z=new rc;for(const ae of W){const Me=ae.options.overviewRuler,je=Me?Me.position:0;if(0===je)continue;const lt=Me.getColor(y);z.accept(lt,ae.range.startLineNumber,ae.range.endLineNumber,je)}return z.result}getDecorationsInRange(r,c,y){return this.model.getDecorationsInRange(r,c,y)}normalizePosition(r,c){return this.model.normalizePosition(r,c)}getLineIndentColumn(r){return this.model.getLineIndentColumn(r)}}class rc{constructor(){this.result=Object.create(null)}accept(r,c,y,W){let z=this.result[r];if(z){const Me=z[z.length-1];if(z[z.length-3]===W&&Me+1>=c)return void(y>Me&&(z[z.length-1]=y));z.push(W,c,y)}else this.result[r]=[W,c,y]}}class Oi{constructor(r,c,y,W,z){this.editorId=r,this.model=c,this.configuration=y,this._linesCollection=W,this._coordinatesConverter=z,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(r){const c=r.id;let y=this._decorationsCache[c];if(!y){const W=r.range,z=r.options;let ae;if(z.isWholeLine){const Me=this._coordinatesConverter.convertModelPositionToViewPosition(new Ue.L(W.startLineNumber,1)),je=this._coordinatesConverter.convertModelPositionToViewPosition(new Ue.L(W.endLineNumber,this.model.getLineMaxColumn(W.endLineNumber)));ae=new ot.e(Me.lineNumber,Me.column,je.lineNumber,je.column)}else ae=this._coordinatesConverter.convertModelRangeToViewRange(W);y=new In.$l(ae,z),this._decorationsCache[c]=y}return y}getDecorationsViewportData(r){let c=null!==this._cachedModelDecorationsResolver;return c=c&&r.equalsRange(this._cachedModelDecorationsResolverViewRange),c||(this._cachedModelDecorationsResolver=this._getDecorationsViewportData(r),this._cachedModelDecorationsResolverViewRange=r),this._cachedModelDecorationsResolver}_getDecorationsViewportData(r){const c=this._linesCollection.getDecorationsInRange(r,this.editorId,(0,xe.$J)(this.configuration.options)),y=r.startLineNumber,W=r.endLineNumber;let z=[],ae=0,Me=[];for(let je=y;je<=W;je++)Me[je-y]=[];for(let je=0,lt=c.length;je<lt;je++){let gt=c[je],St=gt.options,Xt=this._getOrCreateViewModelDecoration(gt),Gt=Xt.range;if(z[ae++]=Xt,St.inlineClassName){let an=new In.$t(Gt,St.inlineClassName,St.inlineClassNameAffectsLetterSpacing?3:0),dn=Math.max(y,Gt.startLineNumber),Tn=Math.min(W,Gt.endLineNumber);for(let $n=dn;$n<=Tn;$n++)Me[$n-y].push(an)}if(St.beforeContentClassName&&y<=Gt.startLineNumber&&Gt.startLineNumber<=W){let an=new In.$t(new ot.e(Gt.startLineNumber,Gt.startColumn,Gt.startLineNumber,Gt.startColumn),St.beforeContentClassName,1);Me[Gt.startLineNumber-y].push(an)}if(St.afterContentClassName&&y<=Gt.endLineNumber&&Gt.endLineNumber<=W){let an=new In.$t(new ot.e(Gt.endLineNumber,Gt.endColumn,Gt.endLineNumber,Gt.endColumn),St.afterContentClassName,2);Me[Gt.endLineNumber-y].push(an)}}return{decorations:z,inlineDecorations:Me}}}class pa extends g.JT{constructor(r,c,y,W,z,ae){if(super(),this._editorId=r,this._configuration=c,this.model=y,this._eventDispatcher=new Zc,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new vt.LM(this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._tokenizeViewportSoon=this._register(new f.pY(()=>this.tokenizeViewport(),50)),this._updateConfigurationViewLineCount=this._register(new f.pY(()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStartLine=-1,this._viewportStartLineTrackedRange=null,this._viewportStartLineDelta=0,this.model.isTooLargeForTokenization())this._lines=new ed(this.model);else{const Me=this._configuration.options,je=Me.get(40),lt=Me.get(122),gt=Me.get(129),St=Me.get(121);this._lines=new Oo(this._editorId,this.model,W,z,je,this.model.getOptions().tabSize,lt,gt.wrappingColumn,St)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new Rr(y,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new wl(this._configuration,this.getLineCount(),ae)),this._register(this.viewLayout.onDidScroll(Me=>{Me.scrollTopChanged&&this._tokenizeViewportSoon.schedule(),this._eventDispatcher.emitSingleViewEvent(new em(Me)),this._eventDispatcher.emitOutgoingEvent(new Ar(Me.oldScrollWidth,Me.oldScrollLeft,Me.oldScrollHeight,Me.oldScrollTop,Me.scrollWidth,Me.scrollLeft,Me.scrollHeight,Me.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange(Me=>{this._eventDispatcher.emitOutgoingEvent(Me)})),this._decorations=new Oi(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast(Me=>{try{const je=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(je,Me)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(fn.getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new nm)})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this.invalidateMinimapColorCache(),this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,null,1),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(r){this._eventDispatcher.addViewEventHandler(r)}removeViewEventHandler(r){this._eventDispatcher.removeViewEventHandler(r)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}tokenizeViewport(){const r=this.viewLayout.getLinesViewportData(),c=this.coordinatesConverter.convertViewPositionToModelPosition(new Ue.L(r.startLineNumber,1)),y=this.coordinatesConverter.convertViewPositionToModelPosition(new Ue.L(r.endLineNumber,1));this.model.tokenizeViewport(c.lineNumber,y.lineNumber)}setHasFocus(r){this._hasFocus=r,this._cursor.setHasFocus(r),this._eventDispatcher.emitSingleViewEvent(new Gc(r)),this._eventDispatcher.emitOutgoingEvent(new su(!r,r))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new Ph)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new kh)}onDidColorThemeChange(){this._eventDispatcher.emitSingleViewEvent(new tm)}_onConfigurationChanged(r,c){let y=null;if(-1!==this._viewportStartLine){let gt=new Ue.L(this._viewportStartLine,this.getLineMinColumn(this._viewportStartLine));y=this.coordinatesConverter.convertViewPositionToModelPosition(gt)}let W=!1;const z=this._configuration.options,ae=z.get(40),Me=z.get(122),je=z.get(129),lt=z.get(121);if(this._lines.setWrappingSettings(ae,Me,je.wrappingColumn,lt)&&(r.emitViewEvent(new $c),r.emitViewEvent(new sc),r.emitViewEvent(new vl(null)),this._cursor.onLineMappingChanged(r),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),0!==this.viewLayout.getCurrentScrollTop()&&(W=!0),this._updateConfigurationViewLineCount.schedule()),c.hasChanged(78)&&(this._decorations.reset(),r.emitViewEvent(new vl(null))),r.emitViewEvent(new Fh(c)),this.viewLayout.onConfigurationChanged(c),W&&y){const gt=this.coordinatesConverter.convertModelPositionToViewPosition(y),St=this.viewLayout.getVerticalOffsetForLineNumber(gt.lineNumber);this.viewLayout.setScrollPosition({scrollTop:St+this._viewportStartLineDelta},1)}vt.LM.shouldRecreate(c)&&(this.cursorConfig=new vt.LM(this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText(r=>{try{const c=this._eventDispatcher.beginEmitViewEvents();let y=!1,W=!1;const z=r.changes,ae=r instanceof mo.dQ?r.versionId:null,Me=this._lines.createLineBreaksComputer();for(const gt of z)switch(gt.changeType){case 4:for(let St=0;St<gt.detail.length;St++){const Xt=gt.detail[St];let Gt=gt.injectedTexts[St];Gt&&(Gt=Gt.filter(an=>!an.ownerId||an.ownerId===this._editorId)),Me.addRequest(Xt,Gt,null)}break;case 2:{let St=null;gt.injectedText&&(St=gt.injectedText.filter(Xt=>!Xt.ownerId||Xt.ownerId===this._editorId)),Me.addRequest(gt.detail,St,null);break}}const je=Me.finalize();let lt=0;for(const gt of z)switch(gt.changeType){case 1:this._lines.onModelFlushed(),c.emitViewEvent(new $c),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),y=!0;break;case 3:{const St=this._lines.onModelLinesDeleted(ae,gt.fromLineNumber,gt.toLineNumber);null!==St&&(c.emitViewEvent(St),this.viewLayout.onLinesDeleted(St.fromLineNumber,St.toLineNumber)),y=!0;break}case 4:{const St=je.slice(lt,lt+gt.detail.length);lt+=gt.detail.length;const Xt=this._lines.onModelLinesInserted(ae,gt.fromLineNumber,gt.toLineNumber,St);null!==Xt&&(c.emitViewEvent(Xt),this.viewLayout.onLinesInserted(Xt.fromLineNumber,Xt.toLineNumber)),y=!0;break}case 2:{const St=je[lt];lt++;const[Xt,Gt,an,dn]=this._lines.onModelLineChanged(ae,gt.lineNumber,St);W=Xt,Gt&&c.emitViewEvent(Gt),an&&(c.emitViewEvent(an),this.viewLayout.onLinesInserted(an.fromLineNumber,an.toLineNumber)),dn&&(c.emitViewEvent(dn),this.viewLayout.onLinesDeleted(dn.fromLineNumber,dn.toLineNumber));break}}null!==ae&&this._lines.acceptVersionId(ae),this.viewLayout.onHeightMaybeChanged(),!y&&W&&(c.emitViewEvent(new sc),c.emitViewEvent(new vl(null)),this._cursor.onLineMappingChanged(c),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}if(this._viewportStartLine=-1,this._configuration.setMaxLineNumber(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&this._viewportStartLineTrackedRange){const c=this.model._getTrackedRange(this._viewportStartLineTrackedRange);if(c){const y=this.coordinatesConverter.convertModelPositionToViewPosition(c.getStartPosition()),W=this.viewLayout.getVerticalOffsetForLineNumber(y.lineNumber);this.viewLayout.setScrollPosition({scrollTop:W+this._viewportStartLineDelta},1)}}if(r instanceof mo.dQ)try{const c=this._eventDispatcher.beginEmitViewEvents();this._cursor.onModelContentChanged(c,r)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(this.model.onDidChangeTokens(r=>{let c=[];for(let y=0,W=r.ranges.length;y<W;y++){const z=r.ranges[y],ae=this.coordinatesConverter.convertModelPositionToViewPosition(new Ue.L(z.fromLineNumber,1)).lineNumber,Me=this.coordinatesConverter.convertModelPositionToViewPosition(new Ue.L(z.toLineNumber,this.model.getLineMaxColumn(z.toLineNumber))).lineNumber;c[y]={fromLineNumber:ae,toLineNumber:Me}}this._eventDispatcher.emitSingleViewEvent(new Qc(c)),r.tokenizationSupportChanged&&this._tokenizeViewportSoon.schedule()})),this._register(this.model.onDidChangeLanguageConfiguration(r=>{this._eventDispatcher.emitSingleViewEvent(new qg),this.cursorConfig=new vt.LM(this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeLanguage(r=>{this.cursorConfig=new vt.LM(this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeOptions(r=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const c=this._eventDispatcher.beginEmitViewEvents();c.emitViewEvent(new $c),c.emitViewEvent(new sc),c.emitViewEvent(new vl(null)),this._cursor.onLineMappingChanged(c),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new vt.LM(this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeDecorations(r=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new vl(r))}))}setHiddenAreas(r){try{const c=this._eventDispatcher.beginEmitViewEvents();this._lines.setHiddenAreas(r)&&(c.emitViewEvent(new $c),c.emitViewEvent(new sc),c.emitViewEvent(new vl(null)),this._cursor.onLineMappingChanged(c),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}getVisibleRangesPlusViewportAboveBelow(){const r=this._configuration.options.get(128),c=this._configuration.options.get(56),y=Math.max(20,Math.round(r.height/c)),W=this.viewLayout.getLinesViewportData(),z=Math.max(1,W.completelyVisibleStartLineNumber-y),ae=Math.min(this.getLineCount(),W.completelyVisibleEndLineNumber+y);return this._toModelVisibleRanges(new ot.e(z,this.getLineMinColumn(z),ae,this.getLineMaxColumn(ae)))}getVisibleRanges(){const r=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(r)}_toModelVisibleRanges(r){const c=this.coordinatesConverter.convertViewRangeToModelRange(r),y=this._lines.getHiddenAreas();if(0===y.length)return[c];let W=[],z=0,ae=c.startLineNumber,Me=c.startColumn,je=c.endLineNumber,lt=c.endColumn;for(let gt=0,St=y.length;gt<St;gt++){const Xt=y[gt].startLineNumber,Gt=y[gt].endLineNumber;Gt<ae||Xt>je||(ae<Xt&&(W[z++]=new ot.e(ae,Me,Xt-1,this.model.getLineMaxColumn(Xt-1))),ae=Gt+1,Me=1)}return(ae<je||ae===je&&Me<lt)&&(W[z++]=new ot.e(ae,Me,je,lt)),W}getCompletelyVisibleViewRange(){const r=this.viewLayout.getLinesViewportData(),c=r.completelyVisibleStartLineNumber,y=r.completelyVisibleEndLineNumber;return new ot.e(c,this.getLineMinColumn(c),y,this.getLineMaxColumn(y))}getCompletelyVisibleViewRangeAtScrollTop(r){const c=this.viewLayout.getLinesViewportDataAtScrollTop(r),y=c.completelyVisibleStartLineNumber,W=c.completelyVisibleEndLineNumber;return new ot.e(y,this.getLineMinColumn(y),W,this.getLineMaxColumn(W))}saveState(){const r=this.viewLayout.saveState(),c=r.scrollTop,y=this.viewLayout.getLineNumberAtVerticalOffset(c),W=this.coordinatesConverter.convertViewPositionToModelPosition(new Ue.L(y,this.getLineMinColumn(y))),z=this.viewLayout.getVerticalOffsetForLineNumber(y)-c;return{scrollLeft:r.scrollLeft,firstPosition:W,firstPositionDeltaTop:z}}reduceRestoreState(r){if(void 0===r.firstPosition)return this._reduceRestoreStateCompatibility(r);const c=this.model.validatePosition(r.firstPosition),y=this.coordinatesConverter.convertModelPositionToViewPosition(c),W=this.viewLayout.getVerticalOffsetForLineNumber(y.lineNumber)-r.firstPositionDeltaTop;return{scrollLeft:r.scrollLeft,scrollTop:W}}_reduceRestoreStateCompatibility(r){return{scrollLeft:r.scrollLeft,scrollTop:r.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getTextModelOptions(){return this.model.getOptions()}getLineCount(){return this._lines.getViewLineCount()}setViewport(r,c,y){this._viewportStartLine=r;let W=this.coordinatesConverter.convertViewPositionToModelPosition(new Ue.L(r,this.getLineMinColumn(r)));this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,new ot.e(W.lineNumber,W.column,W.lineNumber,W.column),1);const z=this.viewLayout.getVerticalOffsetForLineNumber(r),ae=this.viewLayout.getCurrentScrollTop();this._viewportStartLineDelta=ae-z}getActiveIndentGuide(r,c,y){return this._lines.getActiveIndentGuide(r,c,y)}getLinesIndentGuides(r,c){return this._lines.getViewLinesIndentGuides(r,c)}getLineContent(r){return this._lines.getViewLineContent(r)}getLineLength(r){return this._lines.getViewLineLength(r)}getLineMinColumn(r){return this._lines.getViewLineMinColumn(r)}getLineMaxColumn(r){return this._lines.getViewLineMaxColumn(r)}getLineFirstNonWhitespaceColumn(r){const c=at.LC(this.getLineContent(r));return-1===c?0:c+1}getLineLastNonWhitespaceColumn(r){const c=at.ow(this.getLineContent(r));return-1===c?0:c+2}getDecorationsInViewport(r){return this._decorations.getDecorationsViewportData(r).decorations}getViewLineRenderingData(r,c){let y=this.model.mightContainRTL(),W=this.model.mightContainNonBasicASCII(),z=this.getTabSize(),ae=this._lines.getViewLineData(c),je=this._decorations.getDecorationsViewportData(r).inlineDecorations[c-r.startLineNumber];return new In.wA(ae.minColumn,ae.maxColumn,ae.content,ae.continuesWithWrappedLine,y,W,ae.tokens,je,z,ae.startVisibleColumn)}getViewLineData(r){return this._lines.getViewLineData(r)}getMinimapLinesRenderingData(r,c,y){let W=this._lines.getViewLinesData(r,c,y);return new In.ud(this.getTabSize(),W)}getAllOverviewRulerDecorations(r){return this._lines.getAllOverviewRulerDecorations(this._editorId,(0,xe.$J)(this._configuration.options),r)}invalidateOverviewRulerColorCache(){const r=this.model.getOverviewRulerDecorations();for(const c of r){const y=c.options.overviewRuler;y&&y.invalidateCachedColor()}}invalidateMinimapColorCache(){const r=this.model.getAllDecorations();for(const c of r){const y=c.options.minimap;y&&y.invalidateCachedColor()}}getValueInRange(r,c){const y=this.coordinatesConverter.convertViewRangeToModelRange(r);return this.model.getValueInRange(y,c)}getModelLineMaxColumn(r){return this.model.getLineMaxColumn(r)}validateModelPosition(r){return this.model.validatePosition(r)}validateModelRange(r){return this.model.validateRange(r)}deduceModelPositionRelativeToViewPosition(r,c,y){const W=this.coordinatesConverter.convertViewPositionToModelPosition(r);2===this.model.getEOL().length&&(c<0?c-=y:c+=y);const ae=this.model.getOffsetAt(W)+c;return this.model.getPositionAt(ae)}getEOL(){return this.model.getEOL()}getPlainTextToCopy(r,c,y){const W=y?"\r\n":this.model.getEOL();(r=r.slice(0)).sort(ot.e.compareRangesUsingStarts);let z=!1,ae=!1;for(const je of r)je.isEmpty()?z=!0:ae=!0;if(!ae){if(!c)return"";const je=r.map(gt=>gt.startLineNumber);let lt="";for(let gt=0;gt<je.length;gt++)gt>0&&je[gt-1]===je[gt]||(lt+=this.model.getLineContent(je[gt])+W);return lt}if(z&&c){let je=[],lt=0;for(const gt of r){const St=gt.startLineNumber;gt.isEmpty()?St!==lt&&je.push(this.model.getLineContent(St)):je.push(this.model.getValueInRange(gt,y?2:0)),lt=St}return 1===je.length?je[0]:je}let Me=[];for(const je of r)je.isEmpty()||Me.push(this.model.getValueInRange(je,y?2:0));return 1===Me.length?Me[0]:Me}getRichTextToCopy(r,c){const y=this.model.getLanguageIdentifier();if(1===y.id||1!==r.length)return null;let W=r[0];if(W.isEmpty()){if(!c)return null;const gt=W.startLineNumber;W=new ot.e(gt,this.model.getLineMinColumn(gt),gt,this.model.getLineMaxColumn(gt))}const z=this._configuration.options.get(40),ae=this._getColorMap();let lt;return/[:;\\\/<>]/.test(z.fontFamily)||z.fontFamily===xe.hL.fontFamily?lt=xe.hL.fontFamily:(lt=z.fontFamily,lt=lt.replace(/"/g,"'"),/[,']/.test(lt)||/[+ ]/.test(lt)&&(lt=`'${lt}'`),lt=`${lt}, ${xe.hL.fontFamily}`),{mode:y.language,html:`<div style="color: ${ae[1]};background-color: ${ae[2]};font-family: ${lt};font-weight: ${z.fontWeight};font-size: ${z.fontSize}px;line-height: ${z.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(W,ae)+"</div>"}}_getHTMLToCopy(r,c){const y=r.startLineNumber,W=r.startColumn,z=r.endLineNumber,ae=r.endColumn,Me=this.getTabSize();let je="";for(let lt=y;lt<=z;lt++){const gt=this.model.getLineTokens(lt),St=gt.getLineContent(),Xt=lt===y?W-1:0,Gt=lt===z?ae-1:St.length;je+=""===St?"<br>":(0,ou.F)(St,gt.inflate(),c,Xt,Gt,Me,v.ED)}return je}_getColorMap(){let r=Zt.RW.getColorMap(),c=["#000000"];if(r)for(let y=1,W=r.length;y<W;y++)c[y]=js.Il.Format.CSS.formatHex(r[y]);return c}pushStackElement(){this.model.pushStackElement()}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(r,c,y){this._withViewEventsCollector(W=>this._cursor.setStates(W,r,c,y))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(r){this._cursor.setCursorColumnSelectData(r)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(r){this._cursor.setPrevEditOperationType(r)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(r,c,y=0){this._withViewEventsCollector(W=>this._cursor.setSelections(W,r,c,y))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(r){this._withViewEventsCollector(c=>this._cursor.restoreState(c,r))}_executeCursorEdit(r){this._cursor.context.cursorConfig.readOnly?this._eventDispatcher.emitOutgoingEvent(new Ws):this._withViewEventsCollector(r)}executeEdits(r,c,y){this._executeCursorEdit(W=>this._cursor.executeEdits(W,r,c,y))}startComposition(){this._cursor.setIsDoingComposition(!0),this._executeCursorEdit(r=>this._cursor.startComposition(r))}endComposition(r){this._cursor.setIsDoingComposition(!1),this._executeCursorEdit(c=>this._cursor.endComposition(c,r))}type(r,c){this._executeCursorEdit(y=>this._cursor.type(y,r,c))}compositionType(r,c,y,W,z){this._executeCursorEdit(ae=>this._cursor.compositionType(ae,r,c,y,W,z))}paste(r,c,y,W){this._executeCursorEdit(z=>this._cursor.paste(z,r,c,y,W))}cut(r){this._executeCursorEdit(c=>this._cursor.cut(c,r))}executeCommand(r,c){this._executeCursorEdit(y=>this._cursor.executeCommand(y,r,c))}executeCommands(r,c){this._executeCursorEdit(y=>this._cursor.executeCommands(y,r,c))}revealPrimaryCursor(r,c){this._withViewEventsCollector(y=>this._cursor.revealPrimary(y,r,c,0))}revealTopMostCursor(r){const c=this._cursor.getTopMostViewPosition(),y=new ot.e(c.lineNumber,c.column,c.lineNumber,c.column);this._withViewEventsCollector(W=>W.emitViewEvent(new Cl(r,y,null,0,!0,0)))}revealBottomMostCursor(r){const c=this._cursor.getBottomMostViewPosition(),y=new ot.e(c.lineNumber,c.column,c.lineNumber,c.column);this._withViewEventsCollector(W=>W.emitViewEvent(new Cl(r,y,null,0,!0,0)))}revealRange(r,c,y,W,z){this._withViewEventsCollector(ae=>ae.emitViewEvent(new Cl(r,y,null,W,c,z)))}getVerticalOffsetForLineNumber(r){return this.viewLayout.getVerticalOffsetForLineNumber(r)}getScrollTop(){return this.viewLayout.getCurrentScrollTop()}setScrollTop(r,c){this.viewLayout.setScrollPosition({scrollTop:r},c)}setScrollPosition(r,c){this.viewLayout.setScrollPosition(r,c)}deltaScrollNow(r,c){this.viewLayout.deltaScrollNow(r,c)}changeWhitespace(r){this.viewLayout.changeWhitespace(r)&&(this._eventDispatcher.emitSingleViewEvent(new nu),this._eventDispatcher.emitOutgoingEvent(new Ha))}setMaxLineWidth(r){this.viewLayout.setMaxLineWidth(r)}_withViewEventsCollector(r){try{r(this._eventDispatcher.beginEmitViewEvents())}finally{this._eventDispatcher.endEmitViewEvents()}}normalizePosition(r,c){return this._lines.normalizePosition(r,c)}getLineIndentColumn(r){return this._lines.getLineIndentColumn(r)}}var Vh=a(8896),nd=a(2844),lu=a(4562),Wh=a(6748),Gr=a(1004),ti=a(2668),ps=a(1882),_a=a(5610);class eo extends _a.N{constructor(r,c){super(0);for(let y=0;y<r.length;y++)this.set(r.charCodeAt(y),1);for(let y=0;y<c.length;y++)this.set(c.charCodeAt(y),2)}get(r){return r>=0&&r<256?this._asciiMap[r]:r>=12352&&r<=12543||r>=13312&&r<=19903||r>=19968&&r<=40959?3:this._map.get(r)||this._defaultValue}}let ac=[],Yr=[];class Yo{constructor(r,c){this.classifier=new eo(r,c)}static create(r){return new Yo(r.get(117),r.get(116))}createLineBreaksComputer(r,c,y,W){c|=0,y=+y;const z=[],ae=[],Me=[];return{addRequest:(je,lt,gt)=>{z.push(je),ae.push(lt),Me.push(gt)},finalize:()=>{const je=r.typicalFullwidthCharacterWidth/r.typicalHalfwidthCharacterWidth;let lt=[];for(let gt=0,St=z.length;gt<St;gt++){const Xt=ae[gt],Gt=Me[gt];lt[gt]=!Gt||Gt.injectionTexts||Xt?sd(this.classifier,z[gt],Xt,c,y,je,W):id(this.classifier,Gt,z[gt],c,y,je,W)}return ac.length=0,Yr.length=0,lt}}}}function id(yt,r,c,y,W,z,ae){if(-1===W)return null;const Me=c.length;if(Me<=1)return null;const je=r.breakOffsets,lt=r.breakOffsetsVisibleColumn,gt=Vo(c,y,W,z,ae),St=W-gt;let Xt=ac,Gt=Yr,an=0,dn=0,Tn=0,$n=W;const Hn=je.length;let Vn=0;if(Vn>=0){let hi=Math.abs(lt[Vn]-$n);for(;Vn+1<Hn;){const Jn=Math.abs(lt[Vn+1]-$n);if(Jn>=hi)break;hi=Jn,Vn++}}for(;Vn<Hn;){let hi=Vn<0?0:je[Vn],Jn=Vn<0?0:lt[Vn];dn>hi&&(hi=dn,Jn=Tn);let li=0,ui=0,_i=0,xi=0;if(Jn<=$n){let wi=Jn,Is=0===hi?0:c.charCodeAt(hi-1),Ts=0===hi?0:yt.get(Is),Hs=!0;for(let Cs=hi;Cs<Me;Cs++){const Zs=Cs,Xs=c.charCodeAt(Cs);let Zo,Zr;if(at.ZG(Xs)?(Cs++,Zo=0,Zr=2):(Zo=yt.get(Xs),Zr=za(Xs,wi,y,z)),Zs>dn&&Ka(0,Ts,Xs,Zo)&&(li=Zs,ui=wi),wi+=Zr,wi>$n){Zs>dn?(_i=Zs,xi=wi-Zr):(_i=Cs+1,xi=wi),wi-ui>St&&(li=0),Hs=!1;break}Is=Xs,Ts=Zo}if(Hs){an>0&&(Xt[an]=je[je.length-1],Gt[an]=lt[je.length-1],an++);break}}if(0===li){let wi=Jn,Is=c.charCodeAt(hi),Ts=yt.get(Is),Hs=!1;for(let Cs=hi-1;Cs>=dn;Cs--){const Zs=Cs+1,Xs=c.charCodeAt(Cs);if(9===Xs){Hs=!0;break}let Zo,Zr;if(at.YK(Xs)?(Cs--,Zo=0,Zr=2):(Zo=yt.get(Xs),Zr=at.K7(Xs)?z:1),wi<=$n){if(0===_i&&(_i=Zs,xi=wi),wi<=$n-St)break;if(Ka(0,Zo,Is,Ts)){li=Zs,ui=wi;break}}wi-=Zr,Is=Xs,Ts=Zo}if(0!==li){const Cs=St-(xi-ui);if(Cs<=y){const Zs=c.charCodeAt(_i);let Xs;Xs=at.ZG(Zs)?2:za(Zs,xi,y,z),Cs-Xs<0&&(li=0)}}if(Hs){Vn--;continue}}if(0===li&&(li=_i,ui=xi),li<=dn){const wi=c.charCodeAt(dn);at.ZG(wi)?(li=dn+2,ui=Tn+2):(li=dn+1,ui=Tn+za(wi,Tn,y,z))}for(dn=li,Xt[an]=li,Tn=ui,Gt[an]=ui,an++,$n=ui+St;Vn<0||Vn<Hn&&lt[Vn]<ui;)Vn++;let Ai=Math.abs(lt[Vn]-$n);for(;Vn+1<Hn;){const wi=Math.abs(lt[Vn+1]-$n);if(wi>=Ai)break;Ai=wi,Vn++}}return 0===an?null:(Xt.length=an,Gt.length=an,ac=r.breakOffsets,Yr=r.breakOffsetsVisibleColumn,r.breakOffsets=Xt,r.breakOffsetsVisibleColumn=Gt,r.wrappedTextIndentLength=gt,r)}function sd(yt,r,c,y,W,z,ae){const Me=mo.gk.applyInjectedText(r,c);let je,lt;if(c&&c.length>0?(je=c.map(ui=>ui.text),lt=c.map(ui=>ui.column-1)):(je=null,lt=null),-1===W)return je?new In.le([Me.length],[],0,je,lt):null;const gt=Me.length;if(gt<=1)return je?new In.le([Me.length],[],0,je,lt):null;const St=Vo(Me,y,W,z,ae),Xt=W-St;let Gt=[],an=[],dn=0,Tn=0,$n=0,Hn=W,Vn=Me.charCodeAt(0),hi=yt.get(Vn),Jn=za(Vn,0,y,z),li=1;at.ZG(Vn)&&(Jn+=1,Vn=Me.charCodeAt(1),hi=yt.get(Vn),li++);for(let ui=li;ui<gt;ui++){const _i=ui,xi=Me.charCodeAt(ui);let Ai,wi;at.ZG(xi)?(ui++,Ai=0,wi=2):(Ai=yt.get(xi),wi=za(xi,Jn,y,z)),Ka(0,hi,xi,Ai)&&(Tn=_i,$n=Jn),Jn+=wi,Jn>Hn&&((0===Tn||Jn-$n>Xt)&&(Tn=_i,$n=Jn-wi),Gt[dn]=Tn,an[dn]=$n,dn++,Hn=$n+Xt,Tn=0),Vn=xi,hi=Ai}return 0!==dn||c&&0!==c.length?(Gt[dn]=gt,an[dn]=Jn,new In.le(Gt,an,St,je,lt)):null}function za(yt,r,c,y){return 9===yt?c-r%c:at.K7(yt)||yt<32?y:1}function lc(yt,r){return r-yt%r}function Ka(yt,r,c,y){return 32!==c&&(2===r||3===r&&2!==y||1===y||3===y&&1!==r)}function Vo(yt,r,c,y,W){let z=0;if(0!==W){const ae=at.LC(yt);if(-1!==ae){for(let je=0;je<ae;je++)z+=9===yt.charCodeAt(je)?lc(z,r):1;const Me=3===W?2:2===W?1:0;for(let je=0;je<Me;je++)z+=lc(z,r);z+y>c&&(z=0)}}return z}var Ci;const Qo=null===(Ci=window.trustedTypes)||void 0===Ci?void 0:Ci.createPolicy("domLineBreaksComputer",{createHTML:yt=>yt});class cc{static create(){return new cc}constructor(){}createLineBreaksComputer(r,c,y,W){c|=0,y=+y;let z=[],ae=[];return{addRequest:(Me,je,lt)=>{z.push(Me),ae.push(je)},finalize:()=>function(yt,r,c,y,W,z){var ae;function Me(Jn){const li=z[Jn];if(li){const ui=mo.gk.applyInjectedText(yt[Jn],li),_i=li.map(Ai=>Ai.text),xi=li.map(Ai=>Ai.column-1);return new In.le([ui.length],[],0,_i,xi)}return null}if(-1===y){const Jn=[];for(let li=0,ui=yt.length;li<ui;li++)Jn[li]=Me(li);return Jn}const je=Math.round(y*r.typicalHalfwidthCharacterWidth);(2===W||3===W)&&(W=1);const lt=document.createElement("div");I.V.applyFontInfoSlow(lt,r);const gt=(0,gn.l$)(1e4),St=[],Xt=[],Gt=[],an=[],dn=[];for(let Jn=0;Jn<yt.length;Jn++){const li=mo.gk.applyInjectedText(yt[Jn],z[Jn]);let ui=0,_i=0,xi=je;if(0!==W)if(ui=at.LC(li),-1===ui)ui=0;else{for(let Ts=0;Ts<ui;Ts++)_i+=9===li.charCodeAt(Ts)?c-_i%c:1;const Is=Math.ceil(r.spaceWidth*_i);Is+r.typicalFullwidthCharacterWidth>je?(ui=0,_i=0):xi=je-Is}const Ai=li.substr(ui),wi=cr(Ai,_i,c,xi,gt);St[Jn]=ui,Xt[Jn]=_i,Gt[Jn]=Ai,an[Jn]=wi[0],dn[Jn]=wi[1]}const Tn=gt.build(),$n=null!==(ae=null==Qo?void 0:Qo.createHTML(Tn))&&void 0!==ae?ae:Tn;lt.innerHTML=$n,lt.style.position="absolute",lt.style.top="10000",lt.style.wordWrap="break-word",document.body.appendChild(lt);let Hn=document.createRange();const Vn=Array.prototype.slice.call(lt.children,0);let hi=[];for(let Jn=0;Jn<yt.length;Jn++){const ui=Hh(Hn,Vn[Jn],Gt[Jn],an[Jn]);if(null===ui){hi[Jn]=Me(Jn);continue}const _i=St[Jn],xi=Xt[Jn],Ai=dn[Jn],wi=[];for(let Cs=0,Zs=ui.length;Cs<Zs;Cs++)wi[Cs]=Ai[ui[Cs]];if(0!==_i)for(let Cs=0,Zs=ui.length;Cs<Zs;Cs++)ui[Cs]+=_i;let Is,Ts;const Hs=z[Jn];Hs?(Is=Hs.map(Cs=>Cs.text),Ts=Hs.map(Cs=>Cs.column-1)):(Is=null,Ts=null),hi[Jn]=new In.le(ui,wi,xi,Is,Ts)}return document.body.removeChild(lt),hi}(z,r,c,y,W,ae)}}}function cr(yt,r,c,y,W){W.appendASCIIString('<div style="width:'),W.appendASCIIString(String(y)),W.appendASCIIString('px;">');const z=yt.length;let ae=r,Me=0,je=[],lt=[],gt=0<z?yt.charCodeAt(0):0;W.appendASCIIString("<span>");for(let St=0;St<z;St++){0!==St&&St%16384==0&&W.appendASCIIString("</span><span>"),je[St]=Me,lt[St]=ae;const Xt=gt;gt=St+1<z?yt.charCodeAt(St+1):0;let Gt=1,an=1;switch(Xt){case 9:Gt=c-ae%c,an=Gt;for(let dn=1;dn<=Gt;dn++)dn<Gt?W.write1(160):W.appendASCII(32);break;case 32:32===gt?W.write1(160):W.appendASCII(32);break;case 60:W.appendASCIIString("&lt;");break;case 62:W.appendASCIIString("&gt;");break;case 38:W.appendASCIIString("&amp;");break;case 0:W.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:W.write1(65533);break;default:at.K7(Xt)&&an++,W.write1(Xt<32?9216+Xt:Xt)}Me+=Gt,ae+=an}return W.appendASCIIString("</span>"),je[yt.length]=Me,lt[yt.length]=ae,W.appendASCIIString("</div>"),[je,lt]}function Hh(yt,r,c,y){if(c.length<=1)return null;const W=Array.prototype.slice.call(r.children,0),z=[];try{dc(yt,W,y,0,null,c.length-1,null,z)}catch(ae){return console.log(ae),null}return 0===z.length?null:(z.push(c.length),z)}function dc(yt,r,c,y,W,z,ae,Me){if(y===z||(W=W||kr(yt,r,c[y],c[y+1]),ae=ae||kr(yt,r,c[z],c[z+1]),Math.abs(W[0].top-ae[0].top)<=.1))return;if(y+1===z)return void Me.push(z);const je=y+(z-y)/2|0,lt=kr(yt,r,c[je],c[je+1]);dc(yt,r,c,y,W,je,lt,Me),dc(yt,r,c,je,lt,z,ae,Me)}function kr(yt,r,c,y){return yt.setStart(r[c/16384|0].firstChild,c%16384),yt.setEnd(r[y/16384|0].firstChild,y%16384),yt.getClientRects()}var uc=a(5581),Fr=function(yt,r){return function(c,y){r(c,y,yt)}};let cu=0;class hc{constructor(r,c,y,W,z){this.model=r,this.viewModel=c,this.view=y,this.hasRealView=W,this.listenersToRemove=z}dispose(){(0,g.B9)(this.listenersToRemove),this.model.onBeforeDetached(),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}let Ga=class nv extends g.JT{constructor(r,c,y,W,z,ae,Me,je,lt,gt){super(),this._onDidDispose=this._register(new C.Q5),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new C.Q5),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new C.Q5),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new C.Q5),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new C.Q5),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new C.Q5),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeConfiguration=this._register(new C.Q5),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onDidChangeModel=this._register(new C.Q5),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new C.Q5),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new C.Q5),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new C.Q5),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new C.Q5),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new Dl),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new Dl),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new C.Q5),this.onWillType=this._onWillType.event,this._onDidType=this._register(new C.Q5),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new C.Q5),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new C.Q5),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new C.Q5),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new C.Q5),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new C.Q5),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new C.Q5),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new C.Q5),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new C.Q5),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onContextMenu=this._register(new C.Q5),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new C.Q5),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new C.Q5),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new C.Q5),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new C.Q5),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new C.Q5),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new C.Q5),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new C.Q5),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new C.Q5),this.onDidChangeViewZones=this._onDidChangeViewZones.event;const St=Object.assign({},c);let Xt;this._domElement=r,this._overflowWidgetsDomNode=St.overflowWidgetsDomNode,delete St.overflowWidgetsDomNode,this._id=++cu,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this.isSimpleWidget=y.isSimpleWidget||!1,this._telemetryData=y.telemetryData,this._configuration=this._register(this._createConfiguration(St,gt)),this._register(this._configuration.onDidChange(Gt=>{this._onDidChangeConfiguration.fire(Gt);const an=this._configuration.options;if(Gt.hasChanged(128)){const dn=an.get(128);this._onDidLayoutChange.fire(dn)}})),this._contextKeyService=this._register(Me.createScoped(this._domElement)),this._notificationService=lt,this._codeEditorService=z,this._commandService=ae,this._themeService=je,this._register(new Ya(this,this._contextKeyService)),this._register(new du(this,this._contextKeyService)),this._instantiationService=W.createChild(new Wh.y([nd.i6,this._contextKeyService])),this._modelData=null,this._contributions={},this._actions={},this._focusTracker=new va(r),this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())}),this._contentWidgets={},this._overlayWidgets={},Xt=Array.isArray(y.contributions)?y.contributions:U.Uc.getEditorContributions();for(const Gt of Xt)if(this._contributions[Gt.id])(0,d.dL)(new Error(`Cannot have two contributions with the same id ${Gt.id}`));else try{const an=this._instantiationService.createInstance(Gt.ctor,this);this._contributions[Gt.id]=an}catch(an){(0,d.dL)(an)}U.Uc.getEditorActions().forEach(Gt=>{if(this._actions[Gt.id])return void(0,d.dL)(new Error(`Cannot have two actions with the same id ${Gt.id}`));const an=new ga.p(Gt.id,Gt.label,Gt.alias,(0,ps.f6)(Gt.precondition),()=>this._instantiationService.invokeFunction(dn=>Promise.resolve(Gt.runEditorCommand(dn,this,null))),this._contextKeyService);this._actions[an.id]=an}),this._codeEditorService.addCodeEditor(this)}_createConfiguration(r,c){return new I.V(this.isSimpleWidget,r,this._domElement,c)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return bl.g.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose();const r=Object.keys(this._contributions);for(let c=0,y=r.length;c<y;c++)this._contributions[r[c]].dispose();this._contributions={},this._actions={},this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(r){return this._instantiationService.invokeFunction(r)}updateOptions(r){this._configuration.updateOptions(r)}getOptions(){return this._configuration.options}getOption(r){return this._configuration.options.get(r)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(r){return this._modelData?uc.w.getWordAtPosition(this._modelData.model,this._configuration.options.get(114),r):null}getValue(r=null){if(!this._modelData)return"";let y=0;return r&&r.lineEnding&&"\n"===r.lineEnding?y=1:r&&r.lineEnding&&"\r\n"===r.lineEnding&&(y=2),this._modelData.model.getValue(y,!(!r||!r.preserveBOM))}setValue(r){!this._modelData||this._modelData.model.setValue(r)}getModel(){return this._modelData?this._modelData.model:null}setModel(r=null){const c=r;if(null===this._modelData&&null===c||this._modelData&&this._modelData.model===c)return;const y=this.hasTextFocus(),W=this._detachModel();this._attachModel(c),y&&this.hasModel()&&this.focus();const z={oldModelUrl:W?W.uri:null,newModelUrl:c?c.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(z),this._postDetachModelCleanup(W)}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(let r in this._decorationTypeSubtypes){const c=this._decorationTypeSubtypes[r];for(let y in c)this._removeDecorationType(r+"-"+y)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetForPosition(r,c,y){const W=r.model.validatePosition({lineNumber:c,column:y}),z=r.viewModel.coordinatesConverter.convertModelPositionToViewPosition(W);return r.viewModel.viewLayout.getVerticalOffsetForLineNumber(z.lineNumber)}getTopForLineNumber(r){return this._modelData?nv._getVerticalOffsetForPosition(this._modelData,r,1):-1}getTopForPosition(r,c){return this._modelData?nv._getVerticalOffsetForPosition(this._modelData,r,c):-1}setHiddenAreas(r){this._modelData&&this._modelData.viewModel.setHiddenAreas(r.map(c=>ot.e.lift(c)))}getVisibleColumnFromPosition(r){if(!this._modelData)return r.column;const c=this._modelData.model.validatePosition(r),y=this._modelData.model.getOptions().tabSize;return vt.io.visibleColumnFromColumn(this._modelData.model.getLineContent(c.lineNumber),c.column,y)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(r){if(this._modelData){if(!Ue.L.isIPosition(r))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections("api",[{selectionStartLineNumber:r.lineNumber,selectionStartColumn:r.column,positionLineNumber:r.lineNumber,positionColumn:r.column}])}}_sendRevealRange(r,c,y,W){if(!this._modelData)return;if(!ot.e.isIRange(r))throw new Error("Invalid arguments");const z=this._modelData.model.validateRange(r),ae=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(z);this._modelData.viewModel.revealRange("api",y,ae,c,W)}revealLine(r,c=0){this._revealLine(r,0,c)}revealLineInCenter(r,c=0){this._revealLine(r,1,c)}revealLineInCenterIfOutsideViewport(r,c=0){this._revealLine(r,2,c)}revealLineNearTop(r,c=0){this._revealLine(r,5,c)}_revealLine(r,c,y){if("number"!=typeof r)throw new Error("Invalid arguments");this._sendRevealRange(new ot.e(r,1,r,1),c,!1,y)}revealPosition(r,c=0){this._revealPosition(r,0,!0,c)}revealPositionInCenter(r,c=0){this._revealPosition(r,1,!0,c)}revealPositionInCenterIfOutsideViewport(r,c=0){this._revealPosition(r,2,!0,c)}revealPositionNearTop(r,c=0){this._revealPosition(r,5,!0,c)}_revealPosition(r,c,y,W){if(!Ue.L.isIPosition(r))throw new Error("Invalid arguments");this._sendRevealRange(new ot.e(r.lineNumber,r.column,r.lineNumber,r.column),c,y,W)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(r){const c=E.Y.isISelection(r),y=ot.e.isIRange(r);if(!c&&!y)throw new Error("Invalid arguments");c?this._setSelectionImpl(r):y&&this._setSelectionImpl({selectionStartLineNumber:r.startLineNumber,selectionStartColumn:r.startColumn,positionLineNumber:r.endLineNumber,positionColumn:r.endColumn})}_setSelectionImpl(r){if(!this._modelData)return;const c=new E.Y(r.selectionStartLineNumber,r.selectionStartColumn,r.positionLineNumber,r.positionColumn);this._modelData.viewModel.setSelections("api",[c])}revealLines(r,c,y=0){this._revealLines(r,c,0,y)}revealLinesInCenter(r,c,y=0){this._revealLines(r,c,1,y)}revealLinesInCenterIfOutsideViewport(r,c,y=0){this._revealLines(r,c,2,y)}revealLinesNearTop(r,c,y=0){this._revealLines(r,c,5,y)}_revealLines(r,c,y,W){if("number"!=typeof r||"number"!=typeof c)throw new Error("Invalid arguments");this._sendRevealRange(new ot.e(r,1,c,1),y,!1,W)}revealRange(r,c=0,y=!1,W=!0){this._revealRange(r,y?1:0,W,c)}revealRangeInCenter(r,c=0){this._revealRange(r,1,!0,c)}revealRangeInCenterIfOutsideViewport(r,c=0){this._revealRange(r,2,!0,c)}revealRangeNearTop(r,c=0){this._revealRange(r,5,!0,c)}revealRangeNearTopIfOutsideViewport(r,c=0){this._revealRange(r,6,!0,c)}revealRangeAtTop(r,c=0){this._revealRange(r,3,!0,c)}_revealRange(r,c,y,W){if(!ot.e.isIRange(r))throw new Error("Invalid arguments");this._sendRevealRange(ot.e.lift(r),c,y,W)}setSelections(r,c="api",y=0){if(this._modelData){if(!r||0===r.length)throw new Error("Invalid arguments");for(let W=0,z=r.length;W<z;W++)if(!E.Y.isISelection(r[W]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(c,r,y)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(r,c=1){if(this._modelData){if("number"!=typeof r)throw new Error("Invalid arguments");this._modelData.viewModel.setScrollPosition({scrollLeft:r},c)}}setScrollTop(r,c=1){if(this._modelData){if("number"!=typeof r)throw new Error("Invalid arguments");this._modelData.viewModel.setScrollPosition({scrollTop:r},c)}}setScrollPosition(r,c=1){!this._modelData||this._modelData.viewModel.setScrollPosition(r,c)}saveViewState(){if(!this._modelData)return null;const r={},c=Object.keys(this._contributions);for(const z of c){const ae=this._contributions[z];"function"==typeof ae.saveViewState&&(r[z]=ae.saveViewState())}return{cursorState:this._modelData.viewModel.saveCursorState(),viewState:this._modelData.viewModel.saveState(),contributionsState:r}}restoreViewState(r){if(!this._modelData||!this._modelData.hasRealView)return;const c=r;if(c&&c.cursorState&&c.viewState){const y=c.cursorState;Array.isArray(y)?this._modelData.viewModel.restoreCursorState(y):this._modelData.viewModel.restoreCursorState([y]);const W=c.contributionsState||{},z=Object.keys(this._contributions);for(let Me=0,je=z.length;Me<je;Me++){const lt=z[Me],gt=this._contributions[lt];"function"==typeof gt.restoreViewState&&gt.restoreViewState(W[lt])}const ae=this._modelData.viewModel.reduceRestoreState(c.viewState);this._modelData.view.restoreState(ae)}}getContribution(r){return this._contributions[r]||null}getActions(){const r=[],c=Object.keys(this._actions);for(let y=0,W=c.length;y<W;y++)r.push(this._actions[c[y]]);return r}getSupportedActions(){let r=this.getActions();return r=r.filter(c=>c.isSupported()),r}getAction(r){return this._actions[r]||null}trigger(r,c,y){switch(y=y||{},c){case"compositionStart":return void this._startComposition();case"compositionEnd":return void this._endComposition(r);case"type":return void this._type(r,y.text||"");case"replacePreviousChar":return void this._compositionType(r,y.text||"",y.replaceCharCnt||0,0,0);case"compositionType":return void this._compositionType(r,y.text||"",y.replacePrevCharCnt||0,y.replaceNextCharCnt||0,y.positionDelta||0);case"paste":return void this._paste(r,y.text||"",y.pasteOnNewLine||!1,y.multicursorText||null,y.mode||null);case"cut":return void this._cut(r)}const W=this.getAction(c);W?Promise.resolve(W.run()).then(void 0,d.dL):!this._modelData||this._triggerEditorCommand(r,c,y)||this._triggerCommand(c,y)}_triggerCommand(r,c){this._commandService.executeCommand(r,c)}_startComposition(){!this._modelData||(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(r){!this._modelData||(this._modelData.viewModel.endComposition(r),this._onDidCompositionEnd.fire())}_type(r,c){!this._modelData||0===c.length||("keyboard"===r&&this._onWillType.fire(c),this._modelData.viewModel.type(c,r),"keyboard"===r&&this._onDidType.fire(c))}_compositionType(r,c,y,W,z){!this._modelData||this._modelData.viewModel.compositionType(c,y,W,z,r)}_paste(r,c,y,W,z){if(!this._modelData||0===c.length)return;const ae=this._modelData.viewModel.getSelection().getStartPosition();this._modelData.viewModel.paste(c,y,W,r);const Me=this._modelData.viewModel.getSelection().getStartPosition();"keyboard"===r&&this._onDidPaste.fire({range:new ot.e(ae.lineNumber,ae.column,Me.lineNumber,Me.column),mode:z})}_cut(r){!this._modelData||this._modelData.viewModel.cut(r)}_triggerEditorCommand(r,c,y){const W=U.Uc.getEditorCommand(c);return!!W&&((y=y||{}).source=r,this._instantiationService.invokeFunction(z=>{Promise.resolve(W.runEditorCommand(z,this,y)).then(void 0,d.dL)}),!0)}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!(!this._modelData||this._configuration.options.get(78)||(this._modelData.model.pushStackElement(),0))}popUndoStop(){return!(!this._modelData||this._configuration.options.get(78)||(this._modelData.model.popStackElement(),0))}executeEdits(r,c,y){if(!this._modelData||this._configuration.options.get(78))return!1;let W;return W=y?Array.isArray(y)?()=>y:y:()=>null,this._modelData.viewModel.executeEdits(r,c,W),!0}executeCommand(r,c){!this._modelData||this._modelData.viewModel.executeCommand(c,r)}executeCommands(r,c){!this._modelData||this._modelData.viewModel.executeCommands(c,r)}changeDecorations(r){return this._modelData?this._modelData.model.changeDecorations(r,this._id):null}getLineDecorations(r){return this._modelData?this._modelData.model.getLineDecorations(r,this._id,(0,xe.$J)(this._configuration.options)):null}deltaDecorations(r,c){return this._modelData?0===r.length&&0===c.length?r:this._modelData.model.deltaDecorations(r,c,this._id):[]}removeDecorations(r){const c=this._decorationTypeKeysToIds[r];c&&this.deltaDecorations(c,[]),this._decorationTypeKeysToIds.hasOwnProperty(r)&&delete this._decorationTypeKeysToIds[r],this._decorationTypeSubtypes.hasOwnProperty(r)&&delete this._decorationTypeSubtypes[r]}getLayoutInfo(){return this._configuration.options.get(128)}createOverviewRuler(r){return this._modelData&&this._modelData.hasRealView?this._modelData.view.createOverviewRuler(r):null}getContainerDomNode(){return this._domElement}getDomNode(){return this._modelData&&this._modelData.hasRealView?this._modelData.view.domNode.domNode:null}delegateVerticalScrollbarMouseDown(r){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateVerticalScrollbarMouseDown(r)}layout(r){this._configuration.observeReferenceElement(r),this.render()}focus(){!this._modelData||!this._modelData.hasRealView||this._modelData.view.focus()}hasTextFocus(){return!(!this._modelData||!this._modelData.hasRealView)&&this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(r){const c={widget:r,position:r.getPosition()};this._contentWidgets.hasOwnProperty(r.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[r.getId()]=c,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(c)}layoutContentWidget(r){const c=r.getId();if(this._contentWidgets.hasOwnProperty(c)){const y=this._contentWidgets[c];y.position=r.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(y)}}removeContentWidget(r){const c=r.getId();if(this._contentWidgets.hasOwnProperty(c)){const y=this._contentWidgets[c];delete this._contentWidgets[c],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(y)}}addOverlayWidget(r){const c={widget:r,position:r.getPosition()};this._overlayWidgets.hasOwnProperty(r.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[r.getId()]=c,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(c)}layoutOverlayWidget(r){const c=r.getId();if(this._overlayWidgets.hasOwnProperty(c)){const y=this._overlayWidgets[c];y.position=r.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(y)}}removeOverlayWidget(r){const c=r.getId();if(this._overlayWidgets.hasOwnProperty(c)){const y=this._overlayWidgets[c];delete this._overlayWidgets[c],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(y)}}changeViewZones(r){!this._modelData||!this._modelData.hasRealView||this._modelData.view.change(r)}getTargetAtClientPoint(r,c){return this._modelData&&this._modelData.hasRealView?this._modelData.view.getTargetAtClientPoint(r,c):null}getScrolledVisiblePosition(r){if(!this._modelData||!this._modelData.hasRealView)return null;const c=this._modelData.model.validatePosition(r),y=this._configuration.options,W=y.get(128);return{top:nv._getVerticalOffsetForPosition(this._modelData,c.lineNumber,c.column)-this.getScrollTop(),left:this._modelData.view.getOffsetForColumn(c.lineNumber,c.column)+W.glyphMarginWidth+W.lineNumbersWidth+W.decorationsWidth-this.getScrollLeft(),height:y.get(56)}}getOffsetForColumn(r,c){return this._modelData&&this._modelData.hasRealView?this._modelData.view.getOffsetForColumn(r,c):-1}render(r=!1){!this._modelData||!this._modelData.hasRealView||this._modelData.view.render(!0,r)}setAriaOptions(r){!this._modelData||!this._modelData.hasRealView||this._modelData.view.setAriaOptions(r)}applyFontInfo(r){I.V.applyFontInfoSlow(r,this._configuration.options.get(40))}_attachModel(r){if(!r)return void(this._modelData=null);const c=[];this._domElement.setAttribute("data-mode-id",r.getLanguageIdentifier().language),this._configuration.setIsDominatedByLongLines(r.isDominatedByLongLines()),this._configuration.setMaxLineNumber(r.getLineCount()),r.onBeforeAttached();const y=new pa(this._id,this._configuration,r,cc.create(),Yo.create(this._configuration.options),ae=>R.jL(ae));c.push(r.onDidChangeDecorations(ae=>this._onDidChangeModelDecorations.fire(ae))),c.push(r.onDidChangeLanguage(ae=>{this._domElement.setAttribute("data-mode-id",r.getLanguageIdentifier().language),this._onDidChangeModelLanguage.fire(ae)})),c.push(r.onDidChangeLanguageConfiguration(ae=>this._onDidChangeModelLanguageConfiguration.fire(ae))),c.push(r.onDidChangeContent(ae=>this._onDidChangeModelContent.fire(ae))),c.push(r.onDidChangeOptions(ae=>this._onDidChangeModelOptions.fire(ae))),c.push(r.onWillDispose(()=>this.setModel(null))),c.push(y.onEvent(ae=>{switch(ae.kind){case 0:this._onDidContentSizeChange.fire(ae);break;case 1:this._editorTextFocus.setValue(ae.hasFocus);break;case 2:this._onDidScrollChange.fire(ae);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidAttemptReadOnlyEdit.fire();break;case 5:{ae.reachedMaxCursorCount&&this._notificationService.warn(B.N("cursors.maximum","The number of cursors has been limited to {0}.",Rr.MAX_CURSOR_COUNT));const Me=[];for(let gt=0,St=ae.selections.length;gt<St;gt++)Me[gt]=ae.selections[gt].getPosition();const je={position:Me[0],secondaryPositions:Me.slice(1),reason:ae.reason,source:ae.source};this._onDidChangeCursorPosition.fire(je);const lt={selection:ae.selections[0],secondarySelections:ae.selections.slice(1),modelVersionId:ae.modelVersionId,oldSelections:ae.oldSelections,oldModelVersionId:ae.oldModelVersionId,source:ae.source,reason:ae.reason};this._onDidChangeCursorSelection.fire(lt);break}}}));const[W,z]=this._createView(y);if(z){this._domElement.appendChild(W.domNode.domNode);let ae=Object.keys(this._contentWidgets);for(let Me=0,je=ae.length;Me<je;Me++)W.addContentWidget(this._contentWidgets[ae[Me]]);ae=Object.keys(this._overlayWidgets);for(let Me=0,je=ae.length;Me<je;Me++)W.addOverlayWidget(this._overlayWidgets[ae[Me]]);W.render(!1,!0),W.domNode.domNode.setAttribute("data-uri",r.uri.toString())}this._modelData=new hc(r,y,W,z,c)}_createView(r){let c;c=this.isSimpleWidget?{paste:(z,ae,Me,je)=>{this._paste("keyboard",z,ae,Me,je)},type:z=>{this._type("keyboard",z)},compositionType:(z,ae,Me,je)=>{this._compositionType("keyboard",z,ae,Me,je)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:{paste:(z,ae,Me,je)=>{this._commandService.executeCommand("paste",{text:z,pasteOnNewLine:ae,multicursorText:Me,mode:je})},type:z=>{this._commandService.executeCommand("type",{text:z})},compositionType:(z,ae,Me,je)=>{Me||je?this._commandService.executeCommand("compositionType",{text:z,replacePrevCharCnt:ae,replaceNextCharCnt:Me,positionDelta:je}):this._commandService.executeCommand("replacePreviousChar",{text:z,replaceCharCnt:ae})},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const y=new nn(r.coordinatesConverter);return y.onKeyDown=z=>this._onKeyDown.fire(z),y.onKeyUp=z=>this._onKeyUp.fire(z),y.onContextMenu=z=>this._onContextMenu.fire(z),y.onMouseMove=z=>this._onMouseMove.fire(z),y.onMouseLeave=z=>this._onMouseLeave.fire(z),y.onMouseDown=z=>this._onMouseDown.fire(z),y.onMouseUp=z=>this._onMouseUp.fire(z),y.onMouseDrag=z=>this._onMouseDrag.fire(z),y.onMouseDrop=z=>this._onMouseDrop.fire(z),y.onMouseDropCanceled=z=>this._onMouseDropCanceled.fire(z),y.onMouseWheel=z=>this._onMouseWheel.fire(z),[new Ro(c,this._configuration,this._themeService,r,y,this._overflowWidgetsDomNode),!0]}_postDetachModelCleanup(r){r&&r.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){if(!this._modelData)return null;const r=this._modelData.model,c=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),c&&this._domElement.contains(c)&&this._domElement.removeChild(c),r}_removeDecorationType(r){this._codeEditorService.removeDecorationType(r)}hasModel(){return null!==this._modelData}};Ga=function(yt,r,c,y){var ae,W=arguments.length,z=W<3?r:null===y?y=Object.getOwnPropertyDescriptor(r,c):y;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)z=Reflect.decorate(yt,r,c,y);else for(var Me=yt.length-1;Me>=0;Me--)(ae=yt[Me])&&(z=(W<3?ae(z):W>3?ae(r,c,z):ae(r,c))||z);return W>3&&z&&Object.defineProperty(r,c,z),z}([Fr(3,lu.TG),Fr(4,p.$),Fr(5,Vh.H),Fr(6,nd.i6),Fr(7,Kt.XE),Fr(8,Gr.lT),Fr(9,ti.F)],Ga);class Dl extends g.JT{constructor(){super(),this._onDidChangeToTrue=this._register(new C.Q5),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new C.Q5),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(r){const c=r?2:1;this._value!==c&&(this._value=c,2===this._value?this._onDidChangeToTrue.fire():1===this._value&&this._onDidChangeToFalse.fire())}}class Ya extends g.JT{constructor(r,c){super(),this._editor=r,c.createKey("editorId",r.getId()),this._editorSimpleInput=ms.u.editorSimpleInput.bindTo(c),this._editorFocus=ms.u.focus.bindTo(c),this._textInputFocus=ms.u.textInputFocus.bindTo(c),this._editorTextFocus=ms.u.editorTextFocus.bindTo(c),this._editorTabMovesFocus=ms.u.tabMovesFocus.bindTo(c),this._editorReadonly=ms.u.readOnly.bindTo(c),this._inDiffEditor=ms.u.inDiffEditor.bindTo(c),this._editorColumnSelection=ms.u.columnSelection.bindTo(c),this._hasMultipleSelections=ms.u.hasMultipleSelections.bindTo(c),this._hasNonEmptySelection=ms.u.hasNonEmptySelection.bindTo(c),this._canUndo=ms.u.canUndo.bindTo(c),this._canRedo=ms.u.canRedo.bindTo(c),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const r=this._editor.getOptions();this._editorTabMovesFocus.set(r.get(127)),this._editorReadonly.set(r.get(78)),this._inDiffEditor.set(r.get(51)),this._editorColumnSelection.set(r.get(16))}_updateFromSelection(){const r=this._editor.getSelections();r?(this._hasMultipleSelections.set(r.length>1),this._hasNonEmptySelection.set(r.some(c=>!c.isEmpty()))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const r=this._editor.getModel();this._canUndo.set(Boolean(r&&r.canUndo())),this._canRedo.set(Boolean(r&&r.canRedo()))}}class du extends g.JT{constructor(r,c){super(),this._editor=r,this._contextKeyService=c,this._langId=ms.u.languageId.bindTo(c),this._hasCompletionItemProvider=ms.u.hasCompletionItemProvider.bindTo(c),this._hasCodeActionsProvider=ms.u.hasCodeActionsProvider.bindTo(c),this._hasCodeLensProvider=ms.u.hasCodeLensProvider.bindTo(c),this._hasDefinitionProvider=ms.u.hasDefinitionProvider.bindTo(c),this._hasDeclarationProvider=ms.u.hasDeclarationProvider.bindTo(c),this._hasImplementationProvider=ms.u.hasImplementationProvider.bindTo(c),this._hasTypeDefinitionProvider=ms.u.hasTypeDefinitionProvider.bindTo(c),this._hasHoverProvider=ms.u.hasHoverProvider.bindTo(c),this._hasDocumentHighlightProvider=ms.u.hasDocumentHighlightProvider.bindTo(c),this._hasDocumentSymbolProvider=ms.u.hasDocumentSymbolProvider.bindTo(c),this._hasReferenceProvider=ms.u.hasReferenceProvider.bindTo(c),this._hasRenameProvider=ms.u.hasRenameProvider.bindTo(c),this._hasSignatureHelpProvider=ms.u.hasSignatureHelpProvider.bindTo(c),this._hasInlayHintsProvider=ms.u.hasInlayHintsProvider.bindTo(c),this._hasDocumentFormattingProvider=ms.u.hasDocumentFormattingProvider.bindTo(c),this._hasDocumentSelectionFormattingProvider=ms.u.hasDocumentSelectionFormattingProvider.bindTo(c),this._hasMultipleDocumentFormattingProvider=ms.u.hasMultipleDocumentFormattingProvider.bindTo(c),this._hasMultipleDocumentSelectionFormattingProvider=ms.u.hasMultipleDocumentSelectionFormattingProvider.bindTo(c),this._isInWalkThrough=ms.u.isInWalkThroughSnippet.bindTo(c);const y=()=>this._update();this._register(r.onDidChangeModel(y)),this._register(r.onDidChangeModelLanguage(y)),this._register(Zt.KZ.onDidChange(y)),this._register(Zt.H9.onDidChange(y)),this._register(Zt.He.onDidChange(y)),this._register(Zt.Ct.onDidChange(y)),this._register(Zt.RN.onDidChange(y)),this._register(Zt.vI.onDidChange(y)),this._register(Zt.tA.onDidChange(y)),this._register(Zt.xp.onDidChange(y)),this._register(Zt.vH.onDidChange(y)),this._register(Zt.vJ.onDidChange(y)),this._register(Zt.FL.onDidChange(y)),this._register(Zt.G0.onDidChange(y)),this._register(Zt.Az.onDidChange(y)),this._register(Zt.vN.onDidChange(y)),this._register(Zt.nD.onDidChange(y)),this._register(Zt.mX.onDidChange(y)),y()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()})}_update(){const r=this._editor.getModel();r?this._contextKeyService.bufferChangeEvents(()=>{this._langId.set(r.getLanguageIdentifier().language),this._hasCompletionItemProvider.set(Zt.KZ.has(r)),this._hasCodeActionsProvider.set(Zt.H9.has(r)),this._hasCodeLensProvider.set(Zt.He.has(r)),this._hasDefinitionProvider.set(Zt.Ct.has(r)),this._hasDeclarationProvider.set(Zt.RN.has(r)),this._hasImplementationProvider.set(Zt.vI.has(r)),this._hasTypeDefinitionProvider.set(Zt.tA.has(r)),this._hasHoverProvider.set(Zt.xp.has(r)),this._hasDocumentHighlightProvider.set(Zt.vH.has(r)),this._hasDocumentSymbolProvider.set(Zt.vJ.has(r)),this._hasReferenceProvider.set(Zt.FL.has(r)),this._hasRenameProvider.set(Zt.G0.has(r)),this._hasSignatureHelpProvider.set(Zt.nD.has(r)),this._hasInlayHintsProvider.set(Zt.mX.has(r)),this._hasDocumentFormattingProvider.set(Zt.Az.has(r)||Zt.vN.has(r)),this._hasDocumentSelectionFormattingProvider.set(Zt.vN.has(r)),this._hasMultipleDocumentFormattingProvider.set(Zt.Az.all(r).length+Zt.vN.all(r).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(Zt.vN.all(r).length>1),this._isInWalkThrough.set(r.uri.scheme===b.lg.walkThroughSnippet)}):this.reset()}}class va extends g.JT{constructor(r){super(),this._onChange=this._register(new C.Q5),this.onChange=this._onChange.event,this._hasFocus=!1,this._domFocusTracker=this._register(R.go(r)),this._register(this._domFocusTracker.onDidFocus(()=>{this._hasFocus=!0,this._onChange.fire(void 0)})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasFocus=!1,this._onChange.fire(void 0)}))}hasFocus(){return this._hasFocus}}const uu=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),hu=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function Er(yt){return uu+encodeURIComponent(yt.toString())+hu}const od=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),Qa=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');(0,Kt.Ic)((yt,r)=>{const c=yt.getColor(_n.b6);c&&r.addRule(`.monaco-editor .squiggly-error { border-bottom: 4px double ${c}; }`);const y=yt.getColor(_n.lX);y&&r.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${Er(y)}") repeat-x bottom left; }`);const W=yt.getColor(_n.A2);W&&r.addRule(`.monaco-editor .squiggly-error::before { display: block; content: ''; width: 100%; height: 100%; background: ${W}; }`);const z=yt.getColor(_n.pW);z&&r.addRule(`.monaco-editor .squiggly-warning { border-bottom: 4px double ${z}; }`);const ae=yt.getColor(_n.uo);ae&&r.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${Er(ae)}") repeat-x bottom left; }`);const Me=yt.getColor(_n.gp);Me&&r.addRule(`.monaco-editor .squiggly-warning::before { display: block; content: ''; width: 100%; height: 100%; background: ${Me}; }`);const je=yt.getColor(_n.T8);je&&r.addRule(`.monaco-editor .squiggly-info { border-bottom: 4px double ${je}; }`);const lt=yt.getColor(_n.c6);lt&&r.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${Er(lt)}") repeat-x bottom left; }`);const gt=yt.getColor(_n.fe);gt&&r.addRule(`.monaco-editor .squiggly-info::before { display: block; content: ''; width: 100%; height: 100%; background: ${gt}; }`);const St=yt.getColor(_n.fE);St&&r.addRule(`.monaco-editor .squiggly-hint { border-bottom: 2px dotted ${St}; }`);const Xt=yt.getColor(_n.Du);Xt&&r.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${function(yt){return od+encodeURIComponent(yt.toString())+Qa}(Xt)}") no-repeat bottom left; }`);const Gt=yt.getColor(on.zu);Gt&&r.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${Gt.rgba.a}; }`);const an=yt.getColor(on.kp);an&&r.addRule(`.monaco-editor.showUnused .squiggly-unnecessary { border-bottom: 2px dashed ${an}; }`);const dn=yt.getColor(_n.NO)||"inherit";r.addRule(`.monaco-editor.showDeprecated .squiggly-inline-deprecated { text-decoration: line-through; text-decoration-color: ${dn}}`)})},5212:(Ct,Qe,a)=>{"use strict";a.d(Qe,{p:()=>_t}),a(1238);var be,U=a(1606),j=a(1165),O=a(2874),k=a(6209),$=a(7922),B=a(6723),R=a(1719),d=a(1558),C=a(1358),g=a(3779),b=a(3741),p=(a(3672),a(1764)),w=a(4304),E=a(7513),S=a(4482),v=a(4103),M=a(1959),_=a(2109),f=a(3258),m=a(712),L=a(5670),F=a(2844),G=a(7251),Y=a(6803),de=a(521),le=a(6571);class V{constructor(J,_e,$e,at){this.originalLineStart=J,this.originalLineEnd=_e,this.modifiedLineStart=$e,this.modifiedLineEnd=at}getType(){return 0===this.originalLineStart?1:0===this.modifiedLineStart?2:0}}class Z{constructor(J){this.entries=J}}const ie=(0,le.q5)("diff-review-insert",de.lA.add,U.N("diffReviewInsertIcon","Icon for 'Insert' in diff review.")),ue=(0,le.q5)("diff-review-remove",de.lA.remove,U.N("diffReviewRemoveIcon","Icon for 'Remove' in diff review.")),oe=(0,le.q5)("diff-review-close",de.lA.close,U.N("diffReviewCloseIcon","Icon for 'Close' in diff review."));class ee extends R.JT{constructor(J){super(),this._width=0,this._diffEditor=J,this._isVisible=!1,this.shadow=(0,O.X)(document.createElement("div")),this.shadow.setClassName("diff-review-shadow"),this.actionBarContainer=(0,O.X)(document.createElement("div")),this.actionBarContainer.setClassName("diff-review-actions"),this._actionBar=this._register(new p.o(this.actionBarContainer.domNode)),this._actionBar.push(new E.aU("diffreview.close",U.N("label.close","Close"),"close-diff-review "+Y.kS.asClassName(oe),!0,()=>function(Ne,J,_e,$e){return new(_e||(_e=Promise))(function(Et,Lt){function Pt(bn){try{Kt($e.next(bn))}catch(yn){Lt(yn)}}function on(bn){try{Kt($e.throw(bn))}catch(yn){Lt(yn)}}function Kt(bn){bn.done?Et(bn.value):function(Et){return Et instanceof _e?Et:new _e(function(Lt){Lt(Et)})}(bn.value).then(Pt,on)}Kt(($e=$e.apply(Ne,J||[])).next())})}(this,void 0,void 0,function*(){return this.hide()})),{label:!1,icon:!0}),this.domNode=(0,O.X)(document.createElement("div")),this.domNode.setClassName("diff-review monaco-editor-background"),this._content=(0,O.X)(document.createElement("div")),this._content.setClassName("diff-review-content"),this._content.setAttribute("role","code"),this.scrollbar=this._register(new w.s$(this._content.domNode,{})),this.domNode.domNode.appendChild(this.scrollbar.getDomNode()),this._register(J.onDidUpdateDiff(()=>{!this._isVisible||(this._diffs=this._compute(),this._render())})),this._register(J.getModifiedEditor().onDidChangeCursorPosition(()=>{!this._isVisible||this._render()})),this._register(j.mu(this.domNode.domNode,"click",_e=>{_e.preventDefault();let $e=j.Fx(_e.target,"diff-review-row");$e&&this._goToRow($e)})),this._register(j.mu(this.domNode.domNode,"keydown",_e=>{(_e.equals(18)||_e.equals(2066)||_e.equals(530))&&(_e.preventDefault(),this._goToRow(this._getNextRow())),(_e.equals(16)||_e.equals(2064)||_e.equals(528))&&(_e.preventDefault(),this._goToRow(this._getPrevRow())),(_e.equals(9)||_e.equals(2057)||_e.equals(521)||_e.equals(1033))&&(_e.preventDefault(),this.hide()),(_e.equals(10)||_e.equals(3))&&(_e.preventDefault(),this.accept())})),this._diffs=[],this._currentDiff=null}prev(){let J=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let $e=-1;for(let at=0,Et=this._diffs.length;at<Et;at++)if(this._diffs[at]===this._currentDiff){$e=at;break}J=this._diffs.length+$e-1}else J=this._findDiffIndex(this._diffEditor.getPosition());if(0===this._diffs.length)return;J%=this._diffs.length;const _e=this._diffs[J].entries;this._diffEditor.setPosition(new _.L(_e[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:_e[0].modifiedLineStart,endColumn:1073741824,endLineNumber:_e[_e.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}next(){let J=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let $e=-1;for(let at=0,Et=this._diffs.length;at<Et;at++)if(this._diffs[at]===this._currentDiff){$e=at;break}J=$e+1}else J=this._findDiffIndex(this._diffEditor.getPosition());if(0===this._diffs.length)return;J%=this._diffs.length;const _e=this._diffs[J].entries;this._diffEditor.setPosition(new _.L(_e[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:_e[0].modifiedLineStart,endColumn:1073741824,endLineNumber:_e[_e.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}accept(){let J=-1,_e=this._getCurrentFocusedRow();if(_e){let $e=parseInt(_e.getAttribute("data-line"),10);isNaN($e)||(J=$e)}this.hide(),-1!==J&&(this._diffEditor.setPosition(new _.L(J,1)),this._diffEditor.revealPosition(new _.L(J,1),1))}hide(){this._isVisible=!1,this._diffEditor.updateOptions({readOnly:!1}),this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()}_getPrevRow(){let J=this._getCurrentFocusedRow();return J?J.previousElementSibling?J.previousElementSibling:J:this._getFirstRow()}_getNextRow(){let J=this._getCurrentFocusedRow();return J?J.nextElementSibling?J.nextElementSibling:J:this._getFirstRow()}_getFirstRow(){return this.domNode.domNode.querySelector(".diff-review-row")}_getCurrentFocusedRow(){let J=document.activeElement;return J&&/diff-review-row/.test(J.className)?J:null}_goToRow(J){let _e=this._getCurrentFocusedRow();J.tabIndex=0,J.focus(),_e&&_e!==J&&(_e.tabIndex=-1),this.scrollbar.scanDomNode()}isVisible(){return this._isVisible}layout(J,_e,$e){this._width=_e,this.shadow.setTop(J-6),this.shadow.setWidth(_e),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(J),this.domNode.setWidth(_e),this.domNode.setHeight($e),this._content.setHeight($e),this._content.setWidth(_e),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))}_compute(){const J=this._diffEditor.getLineChanges();if(!J||0===J.length)return[];const _e=this._diffEditor.getOriginalEditor().getModel(),$e=this._diffEditor.getModifiedEditor().getModel();return _e&&$e?ee._mergeAdjacent(J,_e.getLineCount(),$e.getLineCount()):[]}static _mergeAdjacent(J,_e,$e){if(!J||0===J.length)return[];let at=[],Et=0;for(let Kt=0,bn=J.length;Kt<bn;Kt++){const yn=J[Kt],jn=yn.originalStartLineNumber,Un=yn.originalEndLineNumber,zn=yn.modifiedStartLineNumber,ci=yn.modifiedEndLineNumber;let vi=[],Ii=0;{const Fn=0===Un?jn:jn-1,ut=0===ci?zn:zn-1;let Mt=1,kt=1;if(Kt>0){const gn=J[Kt-1];Mt=0===gn.originalEndLineNumber?gn.originalStartLineNumber+1:gn.originalEndLineNumber+1,kt=0===gn.modifiedEndLineNumber?gn.modifiedStartLineNumber+1:gn.modifiedEndLineNumber+1}let nn=Fn-3+1,sn=ut-3+1;if(nn<Mt){const gn=Mt-nn;nn+=gn,sn+=gn}if(sn<kt){const gn=kt-sn;nn+=gn,sn+=gn}vi[Ii++]=new V(nn,Fn,sn,ut)}0!==Un&&(vi[Ii++]=new V(jn,Un,0,0)),0!==ci&&(vi[Ii++]=new V(0,0,zn,ci));{const Fn=0===Un?jn+1:Un+1,ut=0===ci?zn+1:ci+1;let Mt=_e,kt=$e;if(Kt+1<bn){const gn=J[Kt+1];Mt=0===gn.originalEndLineNumber?gn.originalStartLineNumber:gn.originalStartLineNumber-1,kt=0===gn.modifiedEndLineNumber?gn.modifiedStartLineNumber:gn.modifiedStartLineNumber-1}let nn=Fn+3-1,sn=ut+3-1;if(nn>Mt){const gn=Mt-nn;nn+=gn,sn+=gn}if(sn>kt){const gn=kt-sn;nn+=gn,sn+=gn}vi[Ii++]=new V(Fn,nn,ut,sn)}at[Et++]=new Z(vi)}let Lt=at[0].entries,Pt=[],on=0;for(let Kt=1,bn=at.length;Kt<bn;Kt++){const yn=at[Kt].entries,jn=Lt[Lt.length-1],Un=yn[0];0===jn.getType()&&0===Un.getType()&&Un.originalLineStart<=jn.originalLineEnd?(Lt[Lt.length-1]=new V(jn.originalLineStart,Un.originalLineEnd,jn.modifiedLineStart,Un.modifiedLineEnd),Lt=Lt.concat(yn.slice(1))):(Pt[on++]=new Z(Lt),Lt=yn)}return Pt[on++]=new Z(Lt),Pt}_findDiffIndex(J){const _e=J.lineNumber;for(let $e=0,at=this._diffs.length;$e<at;$e++){const Et=this._diffs[$e].entries;if(_e<=Et[Et.length-1].modifiedLineEnd)return $e}return 0}_render(){const J=this._diffEditor.getOriginalEditor().getOptions(),_e=this._diffEditor.getModifiedEditor().getOptions(),$e=this._diffEditor.getOriginalEditor().getModel(),at=this._diffEditor.getModifiedEditor().getModel(),Et=$e.getOptions(),Lt=at.getOptions();if(!this._isVisible||!$e||!at)return j.PO(this._content.domNode),this._currentDiff=null,void this.scrollbar.scanDomNode();this._diffEditor.updateOptions({readOnly:!0});const Pt=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs[Pt]===this._currentDiff)return;this._currentDiff=this._diffs[Pt];const on=this._diffs[Pt].entries;let Kt=document.createElement("div");Kt.className="diff-review-table",Kt.setAttribute("role","list"),Kt.setAttribute("aria-label",'Difference review. Use "Stage | Unstage | Revert Selected Ranges" commands'),d.V.applyFontInfoSlow(Kt,_e.get(40));let bn=0,yn=0,jn=0,Un=0;for(let sn=0,gn=on.length;sn<gn;sn++){const En=on[sn],Zn=En.originalLineStart,ai=En.originalLineEnd,Yn=En.modifiedLineStart,Mn=En.modifiedLineEnd;0!==Zn&&(0===bn||Zn<bn)&&(bn=Zn),0!==ai&&(0===yn||ai>yn)&&(yn=ai),0!==Yn&&(0===jn||Yn<jn)&&(jn=Yn),0!==Mn&&(0===Un||Mn>Un)&&(Un=Mn)}let zn=document.createElement("div");zn.className="diff-review-row";let ci=document.createElement("div");ci.className="diff-review-cell diff-review-summary";const vi=yn-bn+1,Ii=Un-jn+1;ci.appendChild(document.createTextNode(`${Pt+1}/${this._diffs.length}: @@ -${bn},${vi} +${jn},${Ii} @@`)),zn.setAttribute("data-line",String(jn));const Fn=sn=>0===sn?U.N("no_lines_changed","no lines changed"):1===sn?U.N("one_line_changed","1 line changed"):U.N("more_lines_changed","{0} lines changed",sn),ut=Fn(vi),Mt=Fn(Ii);zn.setAttribute("aria-label",U.N({key:"header",comment:["This is the ARIA label for a git diff header.","A git diff header looks like this: @@ -154,12 +159,39 @@.","That encodes that at original line 154 (which is now line 159), 12 lines were removed/changed with 39 lines.","Variables 0 and 1 refer to the diff index out of total number of diffs.","Variables 2 and 4 will be numbers (a line number).",'Variables 3 and 5 will be "no lines changed", "1 line changed" or "X lines changed", localized separately.']},"Difference {0} of {1}: original line {2}, {3}, modified line {4}, {5}",Pt+1,this._diffs.length,bn,ut,jn,Mt)),zn.appendChild(ci),zn.setAttribute("role","listitem"),Kt.appendChild(zn);const kt=_e.get(56);let nn=jn;for(let sn=0,gn=on.length;sn<gn;sn++){const En=on[sn];ee._renderSection(Kt,En,nn,kt,this._width,J,$e,Et,_e,at,Lt),0!==En.modifiedLineStart&&(nn=En.modifiedLineEnd)}j.PO(this._content.domNode),this._content.domNode.appendChild(Kt),this.scrollbar.scanDomNode()}static _renderSection(J,_e,$e,at,Et,Lt,Pt,on,Kt,bn,yn){const jn=_e.getType();let Un="diff-review-row",zn="",vi=null;switch(jn){case 1:Un="diff-review-row line-insert",zn=" char-insert",vi=ie;break;case 2:Un="diff-review-row line-delete",zn=" char-delete",vi=ue}const Ii=_e.originalLineStart,ut=_e.modifiedLineStart,kt=Math.max(_e.modifiedLineEnd-ut,_e.originalLineEnd-Ii),nn=Lt.get(128),sn=nn.glyphMarginWidth+nn.lineNumbersWidth,gn=Kt.get(128),En=10+gn.glyphMarginWidth+gn.lineNumbersWidth;for(let Zn=0;Zn<=kt;Zn++){const ai=0===Ii?0:Ii+Zn,Yn=0===ut?0:ut+Zn,Mn=document.createElement("div");Mn.style.minWidth=Et+"px",Mn.className=Un,Mn.setAttribute("role","listitem"),0!==Yn&&($e=Yn),Mn.setAttribute("data-line",String($e));let Nn=document.createElement("div");Nn.className="diff-review-cell",Nn.style.height=`${at}px`,Mn.appendChild(Nn);const Li=document.createElement("span");Li.style.width=sn+"px",Li.style.minWidth=sn+"px",Li.className="diff-review-line-number"+zn,0!==ai?Li.appendChild(document.createTextNode(String(ai))):Li.innerText="\xa0",Nn.appendChild(Li);const si=document.createElement("span");si.style.width=En+"px",si.style.minWidth=En+"px",si.style.paddingRight="10px",si.className="diff-review-line-number"+zn,0!==Yn?si.appendChild(document.createTextNode(String(Yn))):si.innerText="\xa0",Nn.appendChild(si);const Wi=document.createElement("span");if(Wi.className="diff-review-spacer",vi){const Ut=document.createElement("span");Ut.className=Y.kS.asClassName(vi),Ut.innerText="\xa0\xa0",Wi.appendChild(Ut)}else Wi.innerText="\xa0\xa0";let rs;if(Nn.appendChild(Wi),0!==Yn){let Ut=this._renderLine(bn,Kt,yn.tabSize,Yn);ee._ttPolicy&&(Ut=ee._ttPolicy.createHTML(Ut)),Nn.insertAdjacentHTML("beforeend",Ut),rs=bn.getLineContent(Yn)}else{let Ut=this._renderLine(Pt,Lt,on.tabSize,ai);ee._ttPolicy&&(Ut=ee._ttPolicy.createHTML(Ut)),Nn.insertAdjacentHTML("beforeend",Ut),rs=Pt.getLineContent(ai)}0===rs.length&&(rs=U.N("blankLine","blank"));let vs="";switch(jn){case 0:vs=ai===Yn?U.N({key:"unchangedLine",comment:["The placeholders are contents of the line and should not be translated."]},"{0} unchanged line {1}",rs,ai):U.N("equalLine","{0} original line {1} modified line {2}",rs,ai,Yn);break;case 1:vs=U.N("insertLine","+ {0} modified line {1}",rs,Yn);break;case 2:vs=U.N("deleteLine","- {0} original line {1}",rs,ai)}Mn.setAttribute("aria-label",vs),J.appendChild(Mn)}}static _renderLine(J,_e,$e,at){const Et=J.getLineContent(at),Lt=_e.get(40),Pt=M.A.createEmpty(Et),on=L.wA.isBasicASCII(Et,J.mightContainNonBasicASCII()),Kt=L.wA.containsRTL(Et,on,J.mightContainRTL());return(0,m.tF)(new m.IJ(Lt.isMonospace&&!_e.get(27),Lt.canUseHalfwidthRightwardsArrow,Et,!1,on,Kt,0,Pt,[],$e,0,Lt.spaceWidth,Lt.middotWidth,Lt.wsmiddotWidth,_e.get(103),_e.get(86),_e.get(80),_e.get(41)!==v.n0.OFF,null)).html}}function he(Ne){const J=Ne.get(g.$),_e=J.listDiffEditors(),$e=J.getActiveCodeEditor();if(!$e)return null;for(let at=0,Et=_e.length;at<Et;at++){const Lt=_e[at];if(Lt.getModifiedEditor().getId()===$e.getId()||Lt.getOriginalEditor().getId()===$e.getId())return Lt}return null}ee._ttPolicy=null===(be=window.trustedTypes)||void 0===be?void 0:be.createPolicy("diffReview",{createHTML:Ne=>Ne}),(0,Y.Ic)((Ne,J)=>{const _e=Ne.getColor(f.hw);_e&&J.addRule(`.monaco-diff-editor .diff-review-line-number { color: ${_e}; }`);const $e=Ne.getColor(G._w);$e&&J.addRule(`.monaco-diff-editor .diff-review-shadow { box-shadow: ${$e} 0 -6px 6px -6px inset; }`)}),(0,S.Qr)(class extends S.R6{constructor(){super({id:"editor.action.diffReview.next",label:U.N("editor.action.diffReview.next","Go to Next Difference"),alias:"Go to Next Difference",precondition:F.Ao.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:65,weight:100}})}run(J,_e){const $e=he(J);$e&&$e.diffReviewNext()}}),(0,S.Qr)(class extends S.R6{constructor(){super({id:"editor.action.diffReview.prev",label:U.N("editor.action.diffReview.prev","Go to Previous Difference"),alias:"Go to Previous Difference",precondition:F.Ao.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:1089,weight:100}})}run(J,_e){const $e=he(J);$e&&$e.diffReviewPrev()}});var ge=a(8487),re=a(8918),ye=a(3594),ke=a(111),xe=a(4725),Pe=a(5684),fe=a(9880),Te=a(4562),Ce=a(6748),Je=a(1004),pe=a(652),Ve=function(Ne,J,_e,$e){return new(_e||(_e=Promise))(function(Et,Lt){function Pt(bn){try{Kt($e.next(bn))}catch(yn){Lt(yn)}}function on(bn){try{Kt($e.throw(bn))}catch(yn){Lt(yn)}}function Kt(bn){bn.done?Et(bn.value):function(Et){return Et instanceof _e?Et:new _e(function(Lt){Lt(Et)})}(bn.value).then(Pt,on)}Kt(($e=$e.apply(Ne,J||[])).next())})};class Ae extends R.JT{constructor(J,_e,$e,at,Et,Lt){super(),this._viewZoneId=J,this._marginDomNode=_e,this.editor=$e,this.diff=at,this._contextMenuService=Et,this._clipboardService=Lt,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=de.lA.lightBulb.classNames+" lightbulb-glyph",this._diffActions.style.position="absolute";const Pt=$e.getOption(56),on=$e.getModel().getEOL();this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${Pt}px`,this._diffActions.style.lineHeight=`${Pt}px`,this._marginDomNode.appendChild(this._diffActions);const Kt=[];Kt.push(new E.aU("diff.clipboard.copyDeletedContent",at.originalEndLineNumber>at.modifiedStartLineNumber?U.N("diff.clipboard.copyDeletedLinesContent.label","Copy deleted lines"):U.N("diff.clipboard.copyDeletedLinesContent.single.label","Copy deleted line"),void 0,!0,()=>Ve(this,void 0,void 0,function*(){const zn=new ge.e(at.originalStartLineNumber,1,at.originalEndLineNumber+1,1),ci=at.originalModel.getValueInRange(zn);yield this._clipboardService.writeText(ci)})));let yn,bn=0;at.originalEndLineNumber>at.modifiedStartLineNumber&&(yn=new E.aU("diff.clipboard.copyDeletedLineContent",U.N("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",at.originalStartLineNumber),void 0,!0,()=>Ve(this,void 0,void 0,function*(){const zn=at.originalModel.getLineContent(at.originalStartLineNumber+bn);yield this._clipboardService.writeText(zn)})),Kt.push(yn)),$e.getOption(78)||Kt.push(new E.aU("diff.inline.revertChange",U.N("diff.inline.revertChange.label","Revert this change"),void 0,!0,()=>Ve(this,void 0,void 0,function*(){const zn=new ge.e(at.originalStartLineNumber,1,at.originalEndLineNumber,at.originalModel.getLineMaxColumn(at.originalEndLineNumber)),ci=at.originalModel.getValueInRange(zn);if(0===at.modifiedEndLineNumber){const vi=$e.getModel().getLineMaxColumn(at.modifiedStartLineNumber);$e.executeEdits("diffEditor",[{range:new ge.e(at.modifiedStartLineNumber,vi,at.modifiedStartLineNumber,vi),text:on+ci}])}else{const vi=$e.getModel().getLineMaxColumn(at.modifiedEndLineNumber);$e.executeEdits("diffEditor",[{range:new ge.e(at.modifiedStartLineNumber,1,at.modifiedEndLineNumber,vi),text:ci}])}})));const Un=(zn,ci)=>{this._contextMenuService.showContextMenu({getAnchor:()=>({x:zn,y:ci}),getActions:()=>(yn&&(yn.label=U.N("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",at.originalStartLineNumber+bn)),Kt),autoSelectFirstItem:!0})};this._register(j.mu(this._diffActions,"mousedown",zn=>{const{top:ci,height:vi}=j.i(this._diffActions);let Ii=Math.floor(Pt/3);zn.preventDefault(),Un(zn.posx,ci+vi+Ii)})),this._register($e.onMouseMove(zn=>{8!==zn.target.type&&5!==zn.target.type||zn.target.detail.viewZoneId!==this._viewZoneId?this.visibility=!1:(this.visibility=!0,bn=this._updateLightBulbPosition(this._marginDomNode,zn.event.browserEvent.y,Pt))})),this._register($e.onMouseDown(zn=>{!zn.event.rightButton||(8===zn.target.type||5===zn.target.type)&&zn.target.detail.viewZoneId===this._viewZoneId&&(zn.event.preventDefault(),bn=this._updateLightBulbPosition(this._marginDomNode,zn.event.browserEvent.y,Pt),Un(zn.event.posx,zn.event.posy+Pt))}))}get visibility(){return this._visibility}set visibility(J){this._visibility!==J&&(this._visibility=J,this._diffActions.style.visibility=J?"visible":"hidden")}_updateLightBulbPosition(J,_e,$e){const{top:at}=j.i(J),Lt=Math.floor((_e-at)/$e);if(this._diffActions.style.top=Lt*$e+"px",this.diff.viewLineCounts){let on=0;for(let Kt=0;Kt<this.diff.viewLineCounts.length;Kt++)if(on+=this.diff.viewLineCounts[Kt],Lt<on)return Kt}return Lt}}var ve,Ee=a(2957),ze=a(5160),Be=a(723),Ue=a(7328),ot=a(2e3),At=function(Ne,J){return function(_e,$e){J(_e,$e,Ne)}};class ht{constructor(J,_e){this._contextMenuService=J,this._clipboardService=_e,this._zones=[],this._inlineDiffMargins=[],this._zonesMap={},this._decorations=[]}getForeignViewZones(J){return J.filter(_e=>!this._zonesMap[String(_e.id)])}clean(J){this._zones.length>0&&J.changeViewZones(_e=>{for(const $e of this._zones)_e.removeZone($e)}),this._zones=[],this._zonesMap={},this._decorations=J.deltaDecorations(this._decorations,[])}apply(J,_e,$e,at){const Et=at?C.ZF.capture(J):null;J.changeViewZones(Lt=>{for(const Pt of this._zones)Lt.removeZone(Pt);for(const Pt of this._inlineDiffMargins)Pt.dispose();this._zones=[],this._zonesMap={},this._inlineDiffMargins=[];for(let Pt=0,on=$e.zones.length;Pt<on;Pt++){const Kt=$e.zones[Pt];Kt.suppressMouseDown=!0;const bn=Lt.addZone(Kt);this._zones.push(bn),this._zonesMap[String(bn)]=!0,$e.zones[Pt].diff&&Kt.marginDomNode&&(Kt.suppressMouseDown=!1,this._inlineDiffMargins.push(new Ae(bn,Kt.marginDomNode,J,$e.zones[Pt].diff,this._contextMenuService,this._clipboardService)))}}),Et&&Et.restore(J),this._decorations=J.deltaDecorations(this._decorations,$e.decorations),_e&&_e.setZones($e.overviewZones)}}let Ge=0;const De=(0,le.q5)("diff-insert",de.lA.add,U.N("diffInsertIcon","Line decoration for inserts in the diff editor.")),Le=(0,le.q5)("diff-remove",de.lA.remove,U.N("diffRemoveIcon","Line decoration for removals in the diff editor.")),dt=null===(ve=window.trustedTypes)||void 0===ve?void 0:ve.createPolicy("diffEditorWidget",{createHTML:Ne=>Ne});let _t=class Ao extends R.JT{constructor(J,_e,$e,at,Et,Lt,Pt,on,Kt,bn,yn,jn){super(),this._editorProgressService=jn,this._onDidDispose=this._register(new B.Q5),this.onDidDispose=this._onDidDispose.event,this._onDidUpdateDiff=this._register(new B.Q5),this.onDidUpdateDiff=this._onDidUpdateDiff.event,this._onDidContentSizeChange=this._register(new B.Q5),this._lastOriginalWarning=null,this._lastModifiedWarning=null,this._editorWorkerService=Et,this._codeEditorService=on,this._contextKeyService=this._register(Lt.createScoped(J)),this._instantiationService=Pt.createChild(new Ce.y([F.i6,this._contextKeyService])),this._contextKeyService.createKey("isInDiffEditor",!0),this._themeService=Kt,this._notificationService=bn,this._id=++Ge,this._state=0,this._updatingDiffProgress=null,this._domElement=J,_e=_e||{},this._renderSideBySide=!0,void 0!==_e.renderSideBySide&&(this._renderSideBySide=_e.renderSideBySide),this._maxComputationTime=5e3,void 0!==_e.maxComputationTime&&(this._maxComputationTime=_e.maxComputationTime),this._ignoreTrimWhitespace=!0,void 0!==_e.ignoreTrimWhitespace&&(this._ignoreTrimWhitespace=_e.ignoreTrimWhitespace),this._renderIndicators=!0,void 0!==_e.renderIndicators&&(this._renderIndicators=_e.renderIndicators),this._originalIsEditable=(0,v.O7)(_e.originalEditable,!1),this._diffCodeLens=(0,v.O7)(_e.diffCodeLens,!1),this._diffWordWrap=Dt(_e.diffWordWrap,"inherit"),this._contextKeyService.createKey("isInEmbeddedDiffEditor",void 0!==_e.isInEmbeddedEditor&&_e.isInEmbeddedEditor),this._renderOverviewRuler=!0,void 0!==_e.renderOverviewRuler&&(this._renderOverviewRuler=Boolean(_e.renderOverviewRuler)),this._updateDecorationsRunner=this._register(new $.pY(()=>this._updateDecorations(),0)),this._containerDomElement=document.createElement("div"),this._containerDomElement.className=Ao._getClassName(this._themeService.getColorTheme(),this._renderSideBySide),this._containerDomElement.style.position="relative",this._containerDomElement.style.height="100%",this._domElement.appendChild(this._containerDomElement),this._overviewViewportDomElement=(0,O.X)(document.createElement("div")),this._overviewViewportDomElement.setClassName("diffViewport"),this._overviewViewportDomElement.setPosition("absolute"),this._overviewDomElement=document.createElement("div"),this._overviewDomElement.className="diffOverview",this._overviewDomElement.style.position="absolute",this._overviewDomElement.appendChild(this._overviewViewportDomElement.domNode),this._register(j.mu(this._overviewDomElement,"mousedown",zn=>{this._modifiedEditor.delegateVerticalScrollbarMouseDown(zn)})),this._renderOverviewRuler&&this._containerDomElement.appendChild(this._overviewDomElement),this._originalDomNode=document.createElement("div"),this._originalDomNode.className="editor original",this._originalDomNode.style.position="absolute",this._originalDomNode.style.height="100%",this._containerDomElement.appendChild(this._originalDomNode),this._modifiedDomNode=document.createElement("div"),this._modifiedDomNode.className="editor modified",this._modifiedDomNode.style.position="absolute",this._modifiedDomNode.style.height="100%",this._containerDomElement.appendChild(this._modifiedDomNode),this._beginUpdateDecorationsTimeout=-1,this._currentlyChangingViewZones=!1,this._diffComputationToken=0,this._originalEditorState=new ht(yn,at),this._modifiedEditorState=new ht(yn,at),this._isVisible=!0,this._isHandlingScrollEvent=!1,this._elementSizeObserver=this._register(new Ue.I(this._containerDomElement,_e.dimension,()=>this._onDidContainerSizeChanged())),_e.automaticLayout&&this._elementSizeObserver.startObserving(),this._diffComputationResult=null,this._originalEditor=this._createLeftHandSideEditor(_e,$e.originalEditor||{}),this._modifiedEditor=this._createRightHandSideEditor(_e,$e.modifiedEditor||{}),this._originalOverviewRuler=null,this._modifiedOverviewRuler=null,this._reviewPane=new ee(this),this._containerDomElement.appendChild(this._reviewPane.domNode.domNode),this._containerDomElement.appendChild(this._reviewPane.shadow.domNode),this._containerDomElement.appendChild(this._reviewPane.actionBarContainer.domNode),this._enableSplitViewResizing=!0,void 0!==_e.enableSplitViewResizing&&(this._enableSplitViewResizing=_e.enableSplitViewResizing),this._setStrategy(this._renderSideBySide?new qt(this._createDataSource(),this._enableSplitViewResizing):new bt(this._createDataSource(),this._enableSplitViewResizing)),this._register(Kt.onDidColorThemeChange(zn=>{this._strategy&&this._strategy.applyColors(zn)&&this._updateDecorationsRunner.schedule(),this._containerDomElement.className=Ao._getClassName(this._themeService.getColorTheme(),this._renderSideBySide)}));const Un=S.Uc.getDiffEditorContributions();for(const zn of Un)try{this._register(Pt.createInstance(zn.ctor,this))}catch(ci){(0,ze.dL)(ci)}this._codeEditorService.addDiffEditor(this)}_setState(J){this._state!==J&&(this._state=J,this._updatingDiffProgress&&(this._updatingDiffProgress.done(),this._updatingDiffProgress=null),1===this._state&&(this._updatingDiffProgress=this._editorProgressService.show(!0,1e3)))}diffReviewNext(){this._reviewPane.next()}diffReviewPrev(){this._reviewPane.prev()}static _getClassName(J,_e){let $e="monaco-diff-editor monaco-editor-background ";return _e&&($e+="side-by-side "),$e+=(0,Y.m6)(J.type),$e}_recreateOverviewRulers(){!this._renderOverviewRuler||(this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._originalEditor.hasModel()&&(this._originalOverviewRuler=this._originalEditor.createOverviewRuler("original diffOverviewRuler"),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode())),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._modifiedEditor.hasModel()&&(this._modifiedOverviewRuler=this._modifiedEditor.createOverviewRuler("modified diffOverviewRuler"),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode())),this._layoutOverviewRulers())}_createLeftHandSideEditor(J,_e){const $e=this._createInnerEditor(this._instantiationService,this._originalDomNode,this._adjustOptionsForLeftHandSide(J),_e);this._register($e.onDidScrollChange(Et=>{this._isHandlingScrollEvent||!Et.scrollTopChanged&&!Et.scrollLeftChanged&&!Et.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._modifiedEditor.setScrollPosition({scrollLeft:Et.scrollLeft,scrollTop:Et.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register($e.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register($e.onDidChangeConfiguration(Et=>{!$e.getModel()||(Et.hasChanged(40)&&this._updateDecorationsRunner.schedule(),Et.hasChanged(129)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register($e.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()}));const at=this._contextKeyService.createKey("isInDiffLeftEditor",$e.hasWidgetFocus());return this._register($e.onDidFocusEditorWidget(()=>at.set(!0))),this._register($e.onDidBlurEditorWidget(()=>at.set(!1))),this._register($e.onDidContentSizeChange(Et=>{const Lt=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+Ao.ONE_OVERVIEW_WIDTH,Pt=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:Pt,contentWidth:Lt,contentHeightChanged:Et.contentHeightChanged,contentWidthChanged:Et.contentWidthChanged})})),$e}_createRightHandSideEditor(J,_e){const $e=this._createInnerEditor(this._instantiationService,this._modifiedDomNode,this._adjustOptionsForRightHandSide(J),_e);this._register($e.onDidScrollChange(Et=>{this._isHandlingScrollEvent||!Et.scrollTopChanged&&!Et.scrollLeftChanged&&!Et.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._originalEditor.setScrollPosition({scrollLeft:Et.scrollLeft,scrollTop:Et.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register($e.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register($e.onDidChangeConfiguration(Et=>{!$e.getModel()||(Et.hasChanged(40)&&this._updateDecorationsRunner.schedule(),Et.hasChanged(129)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register($e.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()})),this._register($e.onDidChangeModelOptions(Et=>{Et.tabSize&&this._updateDecorationsRunner.schedule()}));const at=this._contextKeyService.createKey("isInDiffRightEditor",$e.hasWidgetFocus());return this._register($e.onDidFocusEditorWidget(()=>at.set(!0))),this._register($e.onDidBlurEditorWidget(()=>at.set(!1))),this._register($e.onDidContentSizeChange(Et=>{const Lt=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+Ao.ONE_OVERVIEW_WIDTH,Pt=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:Pt,contentWidth:Lt,contentHeightChanged:Et.contentHeightChanged,contentWidthChanged:Et.contentWidthChanged})})),$e}_createInnerEditor(J,_e,$e,at){return J.createInstance(b.Gm,_e,$e,at)}dispose(){this._codeEditorService.removeDiffEditor(this),-1!==this._beginUpdateDecorationsTimeout&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._overviewDomElement.removeChild(this._overviewViewportDomElement.domNode),this._renderOverviewRuler&&this._containerDomElement.removeChild(this._overviewDomElement),this._containerDomElement.removeChild(this._originalDomNode),this._originalEditor.dispose(),this._containerDomElement.removeChild(this._modifiedDomNode),this._modifiedEditor.dispose(),this._strategy.dispose(),this._containerDomElement.removeChild(this._reviewPane.domNode.domNode),this._containerDomElement.removeChild(this._reviewPane.shadow.domNode),this._containerDomElement.removeChild(this._reviewPane.actionBarContainer.domNode),this._reviewPane.dispose(),this._domElement.removeChild(this._containerDomElement),this._onDidDispose.fire(),super.dispose()}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return ye.g.IDiffEditor}getLineChanges(){return this._diffComputationResult?this._diffComputationResult.changes:null}getOriginalEditor(){return this._originalEditor}getModifiedEditor(){return this._modifiedEditor}updateOptions(J){let _e=!1;void 0!==J.renderSideBySide&&this._renderSideBySide!==J.renderSideBySide&&(this._renderSideBySide=J.renderSideBySide,_e=!0),void 0!==J.maxComputationTime&&(this._maxComputationTime=J.maxComputationTime,this._isVisible&&this._beginUpdateDecorationsSoon());let $e=!1;void 0!==J.ignoreTrimWhitespace&&this._ignoreTrimWhitespace!==J.ignoreTrimWhitespace&&(this._ignoreTrimWhitespace=J.ignoreTrimWhitespace,$e=!0),void 0!==J.renderIndicators&&this._renderIndicators!==J.renderIndicators&&(this._renderIndicators=J.renderIndicators,$e=!0),$e&&this._beginUpdateDecorations(),this._originalIsEditable=(0,v.O7)(J.originalEditable,this._originalIsEditable),this._diffCodeLens=(0,v.O7)(J.diffCodeLens,this._diffCodeLens),this._diffWordWrap=Dt(J.diffWordWrap,this._diffWordWrap),this._modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(J)),this._originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(J)),void 0!==J.enableSplitViewResizing&&(this._enableSplitViewResizing=J.enableSplitViewResizing),this._strategy.setEnableSplitViewResizing(this._enableSplitViewResizing),_e&&(this._setStrategy(this._renderSideBySide?new qt(this._createDataSource(),this._enableSplitViewResizing):new bt(this._createDataSource(),this._enableSplitViewResizing)),this._containerDomElement.className=Ao._getClassName(this._themeService.getColorTheme(),this._renderSideBySide)),void 0!==J.renderOverviewRuler&&this._renderOverviewRuler!==J.renderOverviewRuler&&(this._renderOverviewRuler=J.renderOverviewRuler,this._renderOverviewRuler?this._containerDomElement.appendChild(this._overviewDomElement):this._containerDomElement.removeChild(this._overviewDomElement))}getModel(){return{original:this._originalEditor.getModel(),modified:this._modifiedEditor.getModel()}}setModel(J){if(J&&(!J.original||!J.modified))throw new Error(J.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this._originalEditor.setModel(J?J.original:null),this._modifiedEditor.setModel(J?J.modified:null),this._updateDecorationsRunner.cancel(),J&&(this._originalEditor.setScrollTop(0),this._modifiedEditor.setScrollTop(0)),this._diffComputationResult=null,this._diffComputationToken++,this._setState(0),J&&(this._recreateOverviewRulers(),this._beginUpdateDecorations()),this._layoutOverviewViewport()}getDomNode(){return this._domElement}getVisibleColumnFromPosition(J){return this._modifiedEditor.getVisibleColumnFromPosition(J)}getPosition(){return this._modifiedEditor.getPosition()}setPosition(J){this._modifiedEditor.setPosition(J)}revealLine(J,_e=0){this._modifiedEditor.revealLine(J,_e)}revealLineInCenter(J,_e=0){this._modifiedEditor.revealLineInCenter(J,_e)}revealLineInCenterIfOutsideViewport(J,_e=0){this._modifiedEditor.revealLineInCenterIfOutsideViewport(J,_e)}revealLineNearTop(J,_e=0){this._modifiedEditor.revealLineNearTop(J,_e)}revealPosition(J,_e=0){this._modifiedEditor.revealPosition(J,_e)}revealPositionInCenter(J,_e=0){this._modifiedEditor.revealPositionInCenter(J,_e)}revealPositionInCenterIfOutsideViewport(J,_e=0){this._modifiedEditor.revealPositionInCenterIfOutsideViewport(J,_e)}revealPositionNearTop(J,_e=0){this._modifiedEditor.revealPositionNearTop(J,_e)}getSelection(){return this._modifiedEditor.getSelection()}getSelections(){return this._modifiedEditor.getSelections()}setSelection(J){this._modifiedEditor.setSelection(J)}setSelections(J){this._modifiedEditor.setSelections(J)}revealLines(J,_e,$e=0){this._modifiedEditor.revealLines(J,_e,$e)}revealLinesInCenter(J,_e,$e=0){this._modifiedEditor.revealLinesInCenter(J,_e,$e)}revealLinesInCenterIfOutsideViewport(J,_e,$e=0){this._modifiedEditor.revealLinesInCenterIfOutsideViewport(J,_e,$e)}revealLinesNearTop(J,_e,$e=0){this._modifiedEditor.revealLinesNearTop(J,_e,$e)}revealRange(J,_e=0,$e=!1,at=!0){this._modifiedEditor.revealRange(J,_e,$e,at)}revealRangeInCenter(J,_e=0){this._modifiedEditor.revealRangeInCenter(J,_e)}revealRangeInCenterIfOutsideViewport(J,_e=0){this._modifiedEditor.revealRangeInCenterIfOutsideViewport(J,_e)}revealRangeNearTop(J,_e=0){this._modifiedEditor.revealRangeNearTop(J,_e)}revealRangeNearTopIfOutsideViewport(J,_e=0){this._modifiedEditor.revealRangeNearTopIfOutsideViewport(J,_e)}revealRangeAtTop(J,_e=0){this._modifiedEditor.revealRangeAtTop(J,_e)}getSupportedActions(){return this._modifiedEditor.getSupportedActions()}saveViewState(){return{original:this._originalEditor.saveViewState(),modified:this._modifiedEditor.saveViewState()}}restoreViewState(J){if(J&&J.original&&J.modified){const _e=J;this._originalEditor.restoreViewState(_e.original),this._modifiedEditor.restoreViewState(_e.modified)}}layout(J){this._elementSizeObserver.observe(J)}focus(){this._modifiedEditor.focus()}hasTextFocus(){return this._originalEditor.hasTextFocus()||this._modifiedEditor.hasTextFocus()}trigger(J,_e,$e){this._modifiedEditor.trigger(J,_e,$e)}changeDecorations(J){return this._modifiedEditor.changeDecorations(J)}_onDidContainerSizeChanged(){this._doLayout()}_getReviewHeight(){return this._reviewPane.isVisible()?this._elementSizeObserver.getHeight():0}_layoutOverviewRulers(){if(!this._renderOverviewRuler||!this._originalOverviewRuler||!this._modifiedOverviewRuler)return;const J=this._elementSizeObserver.getHeight(),_e=this._getReviewHeight(),$e=Ao.ENTIRE_DIFF_OVERVIEW_WIDTH-2*Ao.ONE_OVERVIEW_WIDTH;this._modifiedEditor.getLayoutInfo()&&(this._originalOverviewRuler.setLayout({top:0,width:Ao.ONE_OVERVIEW_WIDTH,right:$e+Ao.ONE_OVERVIEW_WIDTH,height:J-_e}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:Ao.ONE_OVERVIEW_WIDTH,height:J-_e}))}_onViewZonesChanged(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()}_beginUpdateDecorationsSoon(){-1!==this._beginUpdateDecorationsTimeout&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout(()=>this._beginUpdateDecorations(),Ao.UPDATE_DIFF_DECORATIONS_DELAY)}static _equals(J,_e){return!J&&!_e||!(!J||!_e)&&J.toString()===_e.toString()}_beginUpdateDecorations(){this._beginUpdateDecorationsTimeout=-1;const J=this._originalEditor.getModel(),_e=this._modifiedEditor.getModel();if(!J||!_e)return;this._diffComputationToken++;const $e=this._diffComputationToken;this._setState(1),this._editorWorkerService.canComputeDiff(J.uri,_e.uri)?this._editorWorkerService.computeDiff(J.uri,_e.uri,this._ignoreTrimWhitespace,this._maxComputationTime).then(at=>{$e===this._diffComputationToken&&J===this._originalEditor.getModel()&&_e===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=at,this._updateDecorationsRunner.schedule(),this._onDidUpdateDiff.fire())},at=>{$e===this._diffComputationToken&&J===this._originalEditor.getModel()&&_e===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=null,this._updateDecorationsRunner.schedule())}):(!Ao._equals(J.uri,this._lastOriginalWarning)||!Ao._equals(_e.uri,this._lastModifiedWarning))&&(this._lastOriginalWarning=J.uri,this._lastModifiedWarning=_e.uri,this._notificationService.warn(U.N("diff.tooLarge","Cannot compare files because one file is too large.")))}_cleanViewZonesAndDecorations(){this._originalEditorState.clean(this._originalEditor),this._modifiedEditorState.clean(this._modifiedEditor)}_updateDecorations(){if(!this._originalEditor.getModel()||!this._modifiedEditor.getModel())return;const J=this._diffComputationResult?this._diffComputationResult.changes:[],_e=this._originalEditorState.getForeignViewZones(this._originalEditor.getWhitespaces()),$e=this._modifiedEditorState.getForeignViewZones(this._modifiedEditor.getWhitespaces()),at=this._strategy.getEditorsDiffDecorations(J,this._ignoreTrimWhitespace,this._renderIndicators,_e,$e);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this._originalEditor,this._originalOverviewRuler,at.original,!1),this._modifiedEditorState.apply(this._modifiedEditor,this._modifiedOverviewRuler,at.modified,!0)}finally{this._currentlyChangingViewZones=!1}}_adjustOptionsForSubEditor(J){const _e=Object.assign({},J);return _e.inDiffEditor=!0,_e.automaticLayout=!1,_e.scrollbar=Object.assign({},_e.scrollbar||{}),_e.scrollbar.vertical="visible",_e.folding=!1,_e.codeLens=this._diffCodeLens,_e.fixedOverflowWidgets=!0,_e.minimap=Object.assign({},_e.minimap||{}),_e.minimap.enabled=!1,_e}_adjustOptionsForLeftHandSide(J){const _e=this._adjustOptionsForSubEditor(J);return _e.wordWrapOverride1=this._renderSideBySide?this._diffWordWrap:"off",J.originalAriaLabel&&(_e.ariaLabel=J.originalAriaLabel),_e.readOnly=!this._originalIsEditable,_e.extraEditorClassName="original-in-monaco-diff-editor",Object.assign(Object.assign({},_e),{dimension:{height:0,width:0}})}_adjustOptionsForRightHandSide(J){const _e=this._adjustOptionsForSubEditor(J);return J.modifiedAriaLabel&&(_e.ariaLabel=J.modifiedAriaLabel),_e.wordWrapOverride1=this._diffWordWrap,_e.revealHorizontalRightPadding=v.BH.revealHorizontalRightPadding.defaultValue+Ao.ENTIRE_DIFF_OVERVIEW_WIDTH,_e.scrollbar.verticalHasArrows=!1,_e.extraEditorClassName="modified-in-monaco-diff-editor",Object.assign(Object.assign({},_e),{dimension:{height:0,width:0}})}doLayout(){this._elementSizeObserver.observe(),this._doLayout()}_doLayout(){const J=this._elementSizeObserver.getWidth(),_e=this._elementSizeObserver.getHeight(),$e=this._getReviewHeight(),at=this._strategy.layout();this._originalDomNode.style.width=at+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=J-at+"px",this._modifiedDomNode.style.left=at+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.height=_e-$e+"px",this._overviewDomElement.style.width=Ao.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=J-Ao.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.setWidth(Ao.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this._originalEditor.layout({width:at,height:_e-$e}),this._modifiedEditor.layout({width:J-at-(this._renderOverviewRuler?Ao.ENTIRE_DIFF_OVERVIEW_WIDTH:0),height:_e-$e}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(_e-$e,J,$e),this._layoutOverviewViewport()}_layoutOverviewViewport(){const J=this._computeOverviewViewport();J?(this._overviewViewportDomElement.setTop(J.top),this._overviewViewportDomElement.setHeight(J.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))}_computeOverviewViewport(){const J=this._modifiedEditor.getLayoutInfo();if(!J)return null;const _e=this._modifiedEditor.getScrollTop(),$e=this._modifiedEditor.getScrollHeight(),at=Math.max(0,J.height),Et=Math.max(0,at-0),Lt=$e>0?Et/$e:0;return{height:Math.max(0,Math.floor(J.height*Lt)),top:Math.floor(_e*Lt)}}_createDataSource(){return{getWidth:()=>this._elementSizeObserver.getWidth(),getHeight:()=>this._elementSizeObserver.getHeight()-this._getReviewHeight(),getOptions:()=>({renderOverviewRuler:this._renderOverviewRuler}),getContainerDomNode:()=>this._containerDomElement,relayoutEditors:()=>{this._doLayout()},getOriginalEditor:()=>this._originalEditor,getModifiedEditor:()=>this._modifiedEditor}}_setStrategy(J){this._strategy&&this._strategy.dispose(),this._strategy=J,J.applyColors(this._themeService.getColorTheme()),this._diffComputationResult&&this._updateDecorations(),this._doLayout()}_getLineChangeAtOrBeforeLineNumber(J,_e){const $e=this._diffComputationResult?this._diffComputationResult.changes:[];if(0===$e.length||J<_e($e[0]))return null;let at=0,Et=$e.length-1;for(;at<Et;){const Lt=Math.floor((at+Et)/2),Pt=_e($e[Lt]),on=Lt+1<=Et?_e($e[Lt+1]):1073741824;J<Pt?Et=Lt-1:J>=on?at=Lt+1:(at=Lt,Et=Lt)}return $e[at]}_getEquivalentLineForOriginalLineNumber(J){const _e=this._getLineChangeAtOrBeforeLineNumber(J,on=>on.originalStartLineNumber);if(!_e)return J;const at=_e.modifiedStartLineNumber+(_e.modifiedEndLineNumber>0?-1:0),Et=_e.originalEndLineNumber>0?_e.originalEndLineNumber-_e.originalStartLineNumber+1:0,Lt=_e.modifiedEndLineNumber>0?_e.modifiedEndLineNumber-_e.modifiedStartLineNumber+1:0,Pt=J-(_e.originalStartLineNumber+(_e.originalEndLineNumber>0?-1:0));return Pt<=Et?at+Math.min(Pt,Lt):at+Lt-Et+Pt}_getEquivalentLineForModifiedLineNumber(J){const _e=this._getLineChangeAtOrBeforeLineNumber(J,on=>on.modifiedStartLineNumber);if(!_e)return J;const $e=_e.originalStartLineNumber+(_e.originalEndLineNumber>0?-1:0),Et=_e.originalEndLineNumber>0?_e.originalEndLineNumber-_e.originalStartLineNumber+1:0,Lt=_e.modifiedEndLineNumber>0?_e.modifiedEndLineNumber-_e.modifiedStartLineNumber+1:0,Pt=J-(_e.modifiedStartLineNumber+(_e.modifiedEndLineNumber>0?-1:0));return Pt<=Lt?$e+Math.min(Pt,Et):$e+Et-Lt+Pt}getDiffLineInformationForOriginal(J){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(J)}:null}getDiffLineInformationForModified(J){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(J)}:null}};_t.ONE_OVERVIEW_WIDTH=15,_t.ENTIRE_DIFF_OVERVIEW_WIDTH=30,_t.UPDATE_DIFF_DECORATIONS_DELAY=200,_t=function(Ne,J,_e,$e){var Lt,at=arguments.length,Et=at<3?J:null===$e?$e=Object.getOwnPropertyDescriptor(J,_e):$e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Et=Reflect.decorate(Ne,J,_e,$e);else for(var Pt=Ne.length-1;Pt>=0;Pt--)(Lt=Ne[Pt])&&(Et=(at<3?Lt(Et):at>3?Lt(J,_e,Et):Lt(J,_e))||Et);return at>3&&Et&&Object.defineProperty(J,_e,Et),Et}([At(3,Ee.p),At(4,xe.p),At(5,F.i6),At(6,Te.TG),At(7,g.$),At(8,Y.XE),At(9,Je.lT),At(10,pe.i),At(11,Be.e)],_t);class Nt extends R.JT{constructor(J){super(),this._dataSource=J,this._insertColor=null,this._removeColor=null}applyColors(J){const _e=(J.getColor(G.yp)||G.Cz).transparent(2),$e=(J.getColor(G.P4)||G.ke).transparent(2),at=!_e.equals(this._insertColor)||!$e.equals(this._removeColor);return this._insertColor=_e,this._removeColor=$e,at}getEditorsDiffDecorations(J,_e,$e,at,Et){Et=Et.sort((Kt,bn)=>Kt.afterLineNumber-bn.afterLineNumber),at=at.sort((Kt,bn)=>Kt.afterLineNumber-bn.afterLineNumber);const Lt=this._getViewZones(J,at,Et,$e),Pt=this._getOriginalEditorDecorations(J,_e,$e),on=this._getModifiedEditorDecorations(J,_e,$e);return{original:{decorations:Pt.decorations,overviewZones:Pt.overviewZones,zones:Lt.original},modified:{decorations:on.decorations,overviewZones:on.overviewZones,zones:Lt.modified}}}}class zt{constructor(J){this._source=J,this._index=-1,this.current=null,this.advance()}advance(){this._index++,this.current=this._index<this._source.length?this._source[this._index]:null}}class pn{constructor(J,_e,$e,at,Et){this._lineChanges=J,this._originalForeignVZ=_e,this._modifiedForeignVZ=$e,this._originalEditor=at,this._modifiedEditor=Et}static _getViewLineCount(J,_e,$e){const at=J.getModel(),Et=J._getViewModel();if(at&&Et){const Lt=We(at,Et,_e,$e);return Lt.endLineNumber-Lt.startLineNumber+1}return $e-_e+1}getViewZones(){const J=this._originalEditor.getOption(56),_e=this._modifiedEditor.getOption(56),$e=-1!==this._originalEditor.getOption(129).wrappingColumn,at=-1!==this._modifiedEditor.getOption(129).wrappingColumn,Et=$e||at,Lt=this._originalEditor.getModel(),Pt=this._originalEditor._getViewModel().coordinatesConverter,on=this._modifiedEditor._getViewModel().coordinatesConverter,Kt_original=[],Kt_modified=[];let bn=0,yn=0,jn=0,Un=0,zn=0,ci=0;const vi=(nn,sn)=>nn.afterLineNumber-sn.afterLineNumber,Ii=(nn,sn)=>{if(null===sn.domNode&&nn.length>0){const gn=nn[nn.length-1];if(gn.afterLineNumber===sn.afterLineNumber&&null===gn.domNode)return void(gn.heightInLines+=sn.heightInLines)}nn.push(sn)},Fn=new zt(this._modifiedForeignVZ),ut=new zt(this._originalForeignVZ);let Mt=1,kt=1;for(let nn=0,sn=this._lineChanges.length;nn<=sn;nn++){const gn=nn<sn?this._lineChanges[nn]:null;null!==gn?(jn=gn.originalStartLineNumber+(gn.originalEndLineNumber>0?-1:0),Un=gn.modifiedStartLineNumber+(gn.modifiedEndLineNumber>0?-1:0),yn=gn.originalEndLineNumber>0?pn._getViewLineCount(this._originalEditor,gn.originalStartLineNumber,gn.originalEndLineNumber):0,bn=gn.modifiedEndLineNumber>0?pn._getViewLineCount(this._modifiedEditor,gn.modifiedStartLineNumber,gn.modifiedEndLineNumber):0,zn=Math.max(gn.originalStartLineNumber,gn.originalEndLineNumber),ci=Math.max(gn.modifiedStartLineNumber,gn.modifiedEndLineNumber)):(jn+=1e7+yn,Un+=1e7+bn,zn=jn,ci=Un);let En=[],Zn=[];if(Et){let Mn;Mn=gn?gn.originalEndLineNumber>0?gn.originalStartLineNumber-Mt:gn.modifiedStartLineNumber-kt:Lt.getLineCount()-Mt;for(let Nn=0;Nn<Mn;Nn++){const Li=Mt+Nn,si=kt+Nn,Wi=Pt.getModelLineViewLineCount(Li),rs=on.getModelLineViewLineCount(si);Wi<rs?En.push({afterLineNumber:Li,heightInLines:rs-Wi,domNode:null,marginDomNode:null}):Wi>rs&&Zn.push({afterLineNumber:si,heightInLines:Wi-rs,domNode:null,marginDomNode:null})}gn&&(Mt=(gn.originalEndLineNumber>0?gn.originalEndLineNumber:gn.originalStartLineNumber)+1,kt=(gn.modifiedEndLineNumber>0?gn.modifiedEndLineNumber:gn.modifiedStartLineNumber)+1)}for(;Fn.current&&Fn.current.afterLineNumber<=ci;){let Mn;Mn=Fn.current.afterLineNumber<=Un?jn-Un+Fn.current.afterLineNumber:zn;let Nn=null;gn&&gn.modifiedStartLineNumber<=Fn.current.afterLineNumber&&Fn.current.afterLineNumber<=gn.modifiedEndLineNumber&&(Nn=this._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion()),En.push({afterLineNumber:Mn,heightInLines:Fn.current.height/_e,domNode:null,marginDomNode:Nn}),Fn.advance()}for(;ut.current&&ut.current.afterLineNumber<=zn;){let Mn;Mn=ut.current.afterLineNumber<=jn?Un-jn+ut.current.afterLineNumber:ci,Zn.push({afterLineNumber:Mn,heightInLines:ut.current.height/J,domNode:null}),ut.advance()}if(null!==gn&&Xe(gn)){const Mn=this._produceOriginalFromDiff(gn,yn,bn);Mn&&En.push(Mn)}if(null!==gn&&ft(gn)){const Mn=this._produceModifiedFromDiff(gn,yn,bn);Mn&&Zn.push(Mn)}let ai=0,Yn=0;for(En=En.sort(vi),Zn=Zn.sort(vi);ai<En.length&&Yn<Zn.length;){const Mn=En[ai],Nn=Zn[Yn],Li=Mn.afterLineNumber-jn,si=Nn.afterLineNumber-Un;Li<si?(Ii(Kt_original,Mn),ai++):si<Li?(Ii(Kt_modified,Nn),Yn++):Mn.shouldNotShrink?(Ii(Kt_original,Mn),ai++):Nn.shouldNotShrink?(Ii(Kt_modified,Nn),Yn++):Mn.heightInLines>=Nn.heightInLines?(Mn.heightInLines-=Nn.heightInLines,Yn++):(Nn.heightInLines-=Mn.heightInLines,ai++)}for(;ai<En.length;)Ii(Kt_original,En[ai]),ai++;for(;Yn<Zn.length;)Ii(Kt_modified,Zn[Yn]),Yn++}return{original:pn._ensureDomNodes(Kt_original),modified:pn._ensureDomNodes(Kt_modified)}}static _ensureDomNodes(J){return J.map(_e=>(_e.domNode||(_e.domNode=Oe()),_e))}}function Qt(Ne,J,_e,$e,at){return{range:new ge.e(Ne,J,_e,$e),options:at}}const Ht={charDelete:ke.qx.register({description:"diff-editor-char-delete",className:"char-delete"}),charDeleteWholeLine:ke.qx.register({description:"diff-editor-char-delete-whole-line",className:"char-delete",isWholeLine:!0}),charInsert:ke.qx.register({description:"diff-editor-char-insert",className:"char-insert"}),charInsertWholeLine:ke.qx.register({description:"diff-editor-char-insert-whole-line",className:"char-insert",isWholeLine:!0}),lineInsert:ke.qx.register({description:"diff-editor-line-insert",className:"line-insert",marginClassName:"line-insert",isWholeLine:!0}),lineInsertWithSign:ke.qx.register({description:"diff-editor-line-insert-with-sign",className:"line-insert",linesDecorationsClassName:"insert-sign "+Y.kS.asClassName(De),marginClassName:"line-insert",isWholeLine:!0}),lineDelete:ke.qx.register({description:"diff-editor-line-delete",className:"line-delete",marginClassName:"line-delete",isWholeLine:!0}),lineDeleteWithSign:ke.qx.register({description:"diff-editor-line-delete-with-sign",className:"line-delete",linesDecorationsClassName:"delete-sign "+Y.kS.asClassName(Le),marginClassName:"line-delete",isWholeLine:!0}),lineDeleteMargin:ke.qx.register({description:"diff-editor-line-delete-margin",marginClassName:"line-delete"})};let qt=(()=>{class Ne extends Nt{constructor(_e,$e){super(_e),this._disableSash=!1===$e,this._sashRatio=null,this._sashPosition=null,this._startSashPosition=null,this._sash=this._register(new k.g(this._dataSource.getContainerDomNode(),this,{orientation:0})),this._disableSash&&(this._sash.state=0),this._sash.onDidStart(()=>this._onSashDragStart()),this._sash.onDidChange(at=>this._onSashDrag(at)),this._sash.onDidEnd(()=>this._onSashDragEnd()),this._sash.onDidReset(()=>this._onSashReset())}setEnableSplitViewResizing(_e){const $e=!1===_e;this._disableSash!==$e&&(this._disableSash=$e,this._sash.state=this._disableSash?0:3)}layout(_e=this._sashRatio){const at=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?_t.ENTIRE_DIFF_OVERVIEW_WIDTH:0);let Et=Math.floor((_e||.5)*at);const Lt=Math.floor(.5*at);return Et=this._disableSash?Lt:Et||Lt,at>2*Ne.MINIMUM_EDITOR_WIDTH?(Et<Ne.MINIMUM_EDITOR_WIDTH&&(Et=Ne.MINIMUM_EDITOR_WIDTH),Et>at-Ne.MINIMUM_EDITOR_WIDTH&&(Et=at-Ne.MINIMUM_EDITOR_WIDTH)):Et=Lt,this._sashPosition!==Et&&(this._sashPosition=Et,this._sash.layout()),this._sashPosition}_onSashDragStart(){this._startSashPosition=this._sashPosition}_onSashDrag(_e){const at=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?_t.ENTIRE_DIFF_OVERVIEW_WIDTH:0),Et=this.layout((this._startSashPosition+(_e.currentX-_e.startX))/at);this._sashRatio=Et/at,this._dataSource.relayoutEditors()}_onSashDragEnd(){this._sash.layout()}_onSashReset(){this._sashRatio=.5,this._dataSource.relayoutEditors(),this._sash.layout()}getVerticalSashTop(_e){return 0}getVerticalSashLeft(_e){return this._sashPosition}getVerticalSashHeight(_e){return this._dataSource.getHeight()}_getViewZones(_e,$e,at){const Et=this._dataSource.getOriginalEditor(),Lt=this._dataSource.getModifiedEditor();return new nt(_e,$e,at,Et,Lt).getViewZones()}_getOriginalEditorDecorations(_e,$e,at){const Et=this._dataSource.getOriginalEditor(),Lt=String(this._removeColor),Pt={decorations:[],overviewZones:[]},on=Et.getModel(),Kt=Et._getViewModel();for(const bn of _e)if(ft(bn)){Pt.decorations.push({range:new ge.e(bn.originalStartLineNumber,1,bn.originalEndLineNumber,1073741824),options:at?Ht.lineDeleteWithSign:Ht.lineDelete}),(!Xe(bn)||!bn.charChanges)&&Pt.decorations.push(Qt(bn.originalStartLineNumber,1,bn.originalEndLineNumber,1073741824,Ht.charDeleteWholeLine));const yn=We(on,Kt,bn.originalStartLineNumber,bn.originalEndLineNumber);if(Pt.overviewZones.push(new Pe.EY(yn.startLineNumber,yn.endLineNumber,Lt)),bn.charChanges)for(const jn of bn.charChanges)if(ft(jn))if($e)for(let Un=jn.originalStartLineNumber;Un<=jn.originalEndLineNumber;Un++){let zn,ci;zn=Un===jn.originalStartLineNumber?jn.originalStartColumn:on.getLineFirstNonWhitespaceColumn(Un),ci=Un===jn.originalEndLineNumber?jn.originalEndColumn:on.getLineLastNonWhitespaceColumn(Un),Pt.decorations.push(Qt(Un,zn,Un,ci,Ht.charDelete))}else Pt.decorations.push(Qt(jn.originalStartLineNumber,jn.originalStartColumn,jn.originalEndLineNumber,jn.originalEndColumn,Ht.charDelete))}return Pt}_getModifiedEditorDecorations(_e,$e,at){const Et=this._dataSource.getModifiedEditor(),Lt=String(this._insertColor),Pt={decorations:[],overviewZones:[]},on=Et.getModel(),Kt=Et._getViewModel();for(const bn of _e)if(Xe(bn)){Pt.decorations.push({range:new ge.e(bn.modifiedStartLineNumber,1,bn.modifiedEndLineNumber,1073741824),options:at?Ht.lineInsertWithSign:Ht.lineInsert}),(!ft(bn)||!bn.charChanges)&&Pt.decorations.push(Qt(bn.modifiedStartLineNumber,1,bn.modifiedEndLineNumber,1073741824,Ht.charInsertWholeLine));const yn=We(on,Kt,bn.modifiedStartLineNumber,bn.modifiedEndLineNumber);if(Pt.overviewZones.push(new Pe.EY(yn.startLineNumber,yn.endLineNumber,Lt)),bn.charChanges)for(const jn of bn.charChanges)if(Xe(jn))if($e)for(let Un=jn.modifiedStartLineNumber;Un<=jn.modifiedEndLineNumber;Un++){let zn,ci;zn=Un===jn.modifiedStartLineNumber?jn.modifiedStartColumn:on.getLineFirstNonWhitespaceColumn(Un),ci=Un===jn.modifiedEndLineNumber?jn.modifiedEndColumn:on.getLineLastNonWhitespaceColumn(Un),Pt.decorations.push(Qt(Un,zn,Un,ci,Ht.charInsert))}else Pt.decorations.push(Qt(jn.modifiedStartLineNumber,jn.modifiedStartColumn,jn.modifiedEndLineNumber,jn.modifiedEndColumn,Ht.charInsert))}return Pt}}return Ne.MINIMUM_EDITOR_WIDTH=100,Ne})();class nt extends pn{constructor(J,_e,$e,at,Et){super(J,_e,$e,at,Et)}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){return null}_produceOriginalFromDiff(J,_e,$e){return $e>_e?{afterLineNumber:Math.max(J.originalStartLineNumber,J.originalEndLineNumber),heightInLines:$e-_e,domNode:null}:null}_produceModifiedFromDiff(J,_e,$e){return _e>$e?{afterLineNumber:Math.max(J.modifiedStartLineNumber,J.modifiedEndLineNumber),heightInLines:_e-$e,domNode:null}:null}}class bt extends Nt{constructor(J,_e){super(J),this._decorationsLeft=J.getOriginalEditor().getLayoutInfo().decorationsLeft,this._register(J.getOriginalEditor().onDidLayoutChange($e=>{this._decorationsLeft!==$e.decorationsLeft&&(this._decorationsLeft=$e.decorationsLeft,J.relayoutEditors())}))}setEnableSplitViewResizing(J){}_getViewZones(J,_e,$e,at){const Et=this._dataSource.getOriginalEditor(),Lt=this._dataSource.getModifiedEditor();return new Rt(J,_e,$e,Et,Lt,at).getViewZones()}_getOriginalEditorDecorations(J,_e,$e){const at=String(this._removeColor),Et={decorations:[],overviewZones:[]},Lt=this._dataSource.getOriginalEditor(),Pt=Lt.getModel(),on=Lt._getViewModel();for(const Kt of J)if(ft(Kt)){Et.decorations.push({range:new ge.e(Kt.originalStartLineNumber,1,Kt.originalEndLineNumber,1073741824),options:Ht.lineDeleteMargin});const bn=We(Pt,on,Kt.originalStartLineNumber,Kt.originalEndLineNumber);Et.overviewZones.push(new Pe.EY(bn.startLineNumber,bn.endLineNumber,at))}return Et}_getModifiedEditorDecorations(J,_e,$e){const at=this._dataSource.getModifiedEditor(),Et=String(this._insertColor),Lt={decorations:[],overviewZones:[]},Pt=at.getModel(),on=at._getViewModel();for(const Kt of J)if(Xe(Kt)){Lt.decorations.push({range:new ge.e(Kt.modifiedStartLineNumber,1,Kt.modifiedEndLineNumber,1073741824),options:$e?Ht.lineInsertWithSign:Ht.lineInsert});const bn=We(Pt,on,Kt.modifiedStartLineNumber,Kt.modifiedEndLineNumber);if(Lt.overviewZones.push(new Pe.EY(bn.startLineNumber,bn.endLineNumber,Et)),Kt.charChanges){for(const yn of Kt.charChanges)if(Xe(yn))if(_e)for(let jn=yn.modifiedStartLineNumber;jn<=yn.modifiedEndLineNumber;jn++){let Un,zn;Un=jn===yn.modifiedStartLineNumber?yn.modifiedStartColumn:Pt.getLineFirstNonWhitespaceColumn(jn),zn=jn===yn.modifiedEndLineNumber?yn.modifiedEndColumn:Pt.getLineLastNonWhitespaceColumn(jn),Lt.decorations.push(Qt(jn,Un,jn,zn,Ht.charInsert))}else Lt.decorations.push(Qt(yn.modifiedStartLineNumber,yn.modifiedStartColumn,yn.modifiedEndLineNumber,yn.modifiedEndColumn,Ht.charInsert))}else Lt.decorations.push(Qt(Kt.modifiedStartLineNumber,1,Kt.modifiedEndLineNumber,1073741824,Ht.charInsertWholeLine))}return Lt}layout(){return Math.max(5,this._decorationsLeft)}}class Rt extends pn{constructor(J,_e,$e,at,Et,Lt){super(J,_e,$e,at,Et),this._originalModel=at.getModel(),this._renderIndicators=Lt,this._pendingLineChange=[],this._pendingViewZones=[],this._lineBreaksComputer=this._modifiedEditor._getViewModel().createLineBreaksComputer()}getViewZones(){const J=super.getViewZones();return this._finalize(J),J}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){const J=document.createElement("div");return J.className="inline-added-margin-view-zone",J}_produceOriginalFromDiff(J,_e,$e){const at=document.createElement("div");return at.className="inline-added-margin-view-zone",{afterLineNumber:Math.max(J.originalStartLineNumber,J.originalEndLineNumber),heightInLines:$e,domNode:document.createElement("div"),marginDomNode:at}}_produceModifiedFromDiff(J,_e,$e){const at=document.createElement("div");at.className=`view-lines line-delete ${ot.S}`;const Et=document.createElement("div");Et.className="inline-deleted-margin-view-zone";const Lt={shouldNotShrink:!0,afterLineNumber:0===J.modifiedEndLineNumber?J.modifiedStartLineNumber:J.modifiedStartLineNumber-1,heightInLines:_e,minWidthInPx:0,domNode:at,marginDomNode:Et,diff:{originalStartLineNumber:J.originalStartLineNumber,originalEndLineNumber:J.originalEndLineNumber,modifiedStartLineNumber:J.modifiedStartLineNumber,modifiedEndLineNumber:J.modifiedEndLineNumber,originalModel:this._originalModel,viewLineCounts:null}};for(let Pt=J.originalStartLineNumber;Pt<=J.originalEndLineNumber;Pt++)this._lineBreaksComputer.addRequest(this._originalModel.getLineContent(Pt),null,null);return this._pendingLineChange.push(J),this._pendingViewZones.push(Lt),Lt}_finalize(J){const _e=this._modifiedEditor.getOptions(),$e=this._modifiedEditor.getModel().getOptions().tabSize,at=_e.get(40),Et=_e.get(27),Lt=at.typicalHalfwidthCharacterWidth,Pt=_e.get(91),on=this._originalModel.mightContainNonBasicASCII(),Kt=this._originalModel.mightContainRTL(),bn=_e.get(56),jn=_e.get(128).decorationsWidth,Un=_e.get(103),zn=_e.get(86),ci=_e.get(80),vi=_e.get(41),Ii=this._lineBreaksComputer.finalize();let Fn=0;for(let ut=0;ut<this._pendingLineChange.length;ut++){const Mt=this._pendingLineChange[ut],kt=this._pendingViewZones[ut],nn=kt.domNode;d.V.applyFontInfoSlow(nn,at);const sn=kt.marginDomNode;d.V.applyFontInfoSlow(sn,at);const gn=[];if(Mt.charChanges)for(const si of Mt.charChanges)ft(si)&&gn.push(new L.$t(new ge.e(si.originalStartLineNumber,si.originalStartColumn,si.originalEndLineNumber,si.originalEndColumn),"char-delete",0));const En=gn.length>0,Zn=(0,re.l$)(1e4);let ai=0,Yn=0,Mn=null;for(let si=Mt.originalStartLineNumber;si<=Mt.originalEndLineNumber;si++){const Wi=si-Mt.originalStartLineNumber,rs=this._originalModel.getLineTokens(si),vs=rs.getLineContent(),Ut=Ii[Fn++],P=fe.Kp.filter(gn,si,1,vs.length+1);if(Ut){let q=0;for(const Ke of Ut.breakOffsets){const qe=rs.sliceAndInflate(q,Ke,0),st=vs.substring(q,Ke);ai=Math.max(ai,this._renderOriginalLine(Yn++,st,qe,fe.Kp.extractWrapped(P,q,Ke),En,on,Kt,at,Et,bn,jn,Un,zn,ci,vi,$e,Zn,sn)),q=Ke}for(Mn||(Mn=[]);Mn.length<Wi;)Mn[Mn.length]=1;Mn[Wi]=Ut.breakOffsets.length,kt.heightInLines+=Ut.breakOffsets.length-1;const me=document.createElement("div");me.className="line-delete",J.original.push({afterLineNumber:si,afterColumn:0,heightInLines:Ut.breakOffsets.length-1,domNode:Oe(),marginDomNode:me})}else ai=Math.max(ai,this._renderOriginalLine(Yn++,vs,rs,P,En,on,Kt,at,Et,bn,jn,Un,zn,ci,vi,$e,Zn,sn))}ai+=Pt;const Nn=Zn.build(),Li=dt?dt.createHTML(Nn):Nn;if(nn.innerHTML=Li,kt.minWidthInPx=ai*Lt,Mn){const si=Mt.originalEndLineNumber-Mt.originalStartLineNumber;for(;Mn.length<=si;)Mn[Mn.length]=1}kt.diff.viewLineCounts=Mn}J.original.sort((ut,Mt)=>ut.afterLineNumber-Mt.afterLineNumber)}_renderOriginalLine(J,_e,$e,at,Et,Lt,Pt,on,Kt,bn,yn,jn,Un,zn,ci,vi,Ii,Fn){Ii.appendASCIIString('<div class="view-line'),Et||Ii.appendASCIIString(" char-delete"),Ii.appendASCIIString('" style="top:'),Ii.appendASCIIString(String(J*bn)),Ii.appendASCIIString('px;width:1000000px;">');const ut=L.wA.isBasicASCII(_e,Lt),Mt=L.wA.containsRTL(_e,ut,Pt),kt=(0,m.d1)(new m.IJ(on.isMonospace&&!Kt,on.canUseHalfwidthRightwardsArrow,_e,!1,ut,Mt,0,$e,at,vi,0,on.spaceWidth,on.middotWidth,on.wsmiddotWidth,jn,Un,zn,ci!==v.n0.OFF,null),Ii);if(Ii.appendASCIIString("</div>"),this._renderIndicators){const nn=document.createElement("div");nn.className=`delete-sign ${Y.kS.asClassName(Le)}`,nn.setAttribute("style",`position:absolute;top:${J*bn}px;width:${yn}px;height:${bn}px;right:0;`),Fn.appendChild(nn)}return kt.characterMapping.getAbsoluteOffset(kt.characterMapping.length)}}function Dt(Ne,J){return(0,v.NY)(Ne,J,["off","on","inherit"])}function Xe(Ne){return Ne.modifiedEndLineNumber>0}function ft(Ne){return Ne.originalEndLineNumber>0}function Oe(){const Ne=document.createElement("div");return Ne.className="diagonal-fill",Ne}function We(Ne,J,_e,$e){const at=Ne.getLineCount();return _e=Math.min(at,Math.max(1,_e)),$e=Math.min(at,Math.max(1,$e)),J.coordinatesConverter.convertModelRangeToViewRange(new ge.e(_e,Ne.getLineMinColumn(_e),$e,Ne.getLineMaxColumn($e)))}(0,Y.Ic)((Ne,J)=>{const _e=Ne.getColor(G.yp);_e&&(J.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { background-color: ${_e}; }`),J.addRule(`.monaco-diff-editor .line-insert, .monaco-diff-editor .char-insert { background-color: ${_e}; }`),J.addRule(`.monaco-editor .inline-added-margin-view-zone { background-color: ${_e}; }`));const $e=Ne.getColor(G.P4);$e&&(J.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { background-color: ${$e}; }`),J.addRule(`.monaco-diff-editor .line-delete, .monaco-diff-editor .char-delete { background-color: ${$e}; }`),J.addRule(`.monaco-editor .inline-deleted-margin-view-zone { background-color: ${$e}; }`));const at=Ne.getColor(G.XL);at&&J.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { border: 1px ${"hc"===Ne.type?"dashed":"solid"} ${at}; }`);const Et=Ne.getColor(G.mH);Et&&J.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { border: 1px ${"hc"===Ne.type?"dashed":"solid"} ${Et}; }`);const Lt=Ne.getColor(G._w);Lt&&J.addRule(`.monaco-diff-editor.side-by-side .editor.modified { box-shadow: -6px 0 5px -5px ${Lt}; }`);const Pt=Ne.getColor(G.LL);Pt&&J.addRule(`.monaco-diff-editor.side-by-side .editor.modified { border-left: 1px solid ${Pt}; }`);const on=Ne.getColor(G.et);on&&J.addRule(`\n\t\t\t.monaco-diff-editor .diffViewport {\n\t\t\t\tbackground: ${on};\n\t\t\t}\n\t\t`);const Kt=Ne.getColor(G.AB);Kt&&J.addRule(`\n\t\t\t.monaco-diff-editor .diffViewport:hover {\n\t\t\t\tbackground: ${Kt};\n\t\t\t}\n\t\t`);const bn=Ne.getColor(G.yn);bn&&J.addRule(`\n\t\t\t.monaco-diff-editor .diffViewport:active {\n\t\t\t\tbackground: ${bn};\n\t\t\t}\n\t\t`);const yn=Ne.getColor(G.L_);J.addRule(`\n\t.monaco-editor .diagonal-fill {\n\t\tbackground-image: linear-gradient(\n\t\t\t-45deg,\n\t\t\t${yn} 12.5%,\n\t\t\t#0000 12.5%, #0000 50%,\n\t\t\t${yn} 50%, ${yn} 62.5%,\n\t\t\t#0000 62.5%, #0000 100%\n\t\t);\n\t\tbackground-size: 8px 8px;\n\t}\n\t`)})},3099:(Ct,Qe,a)=>{"use strict";a.d(Qe,{F:()=>B});var T=a(7582),U=a(6723),j=a(1719),O=a(3788),k=a(8487);const $={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0};class B extends j.JT{constructor(d,C={}){super(),this._onDidUpdate=this._register(new U.Q5),this._editor=d,this._options=O.jB(C,$,!1),this.disposed=!1,this.nextIdx=-1,this.ranges=[],this.ignoreSelectionChange=!1,this.revealFirst=Boolean(this._options.alwaysRevealFirst),this._register(this._editor.onDidDispose(()=>this.dispose())),this._register(this._editor.onDidUpdateDiff(()=>this._onDiffUpdated())),this._options.followsCaret&&this._register(this._editor.getModifiedEditor().onDidChangeCursorPosition(g=>{this.ignoreSelectionChange||(this.nextIdx=-1)})),this._options.alwaysRevealFirst&&this._register(this._editor.getModifiedEditor().onDidChangeModel(g=>{this.revealFirst=!0})),this._init()}_init(){this._editor.getLineChanges()}_onDiffUpdated(){this._init(),this._compute(this._editor.getLineChanges()),this.revealFirst&&null!==this._editor.getLineChanges()&&(this.revealFirst=!1,this.nextIdx=-1,this.next(1))}_compute(d){this.ranges=[],d&&d.forEach(C=>{!this._options.ignoreCharChanges&&C.charChanges?C.charChanges.forEach(g=>{this.ranges.push({rhs:!0,range:new k.e(g.modifiedStartLineNumber,g.modifiedStartColumn,g.modifiedEndLineNumber,g.modifiedEndColumn)})}):this.ranges.push({rhs:!0,range:new k.e(C.modifiedStartLineNumber,1,C.modifiedStartLineNumber,1)})}),this.ranges.sort((C,g)=>C.range.getStartPosition().isBeforeOrEqual(g.range.getStartPosition())?-1:g.range.getStartPosition().isBeforeOrEqual(C.range.getStartPosition())?1:0),this._onDidUpdate.fire(this)}_initIdx(d){let C=!1,g=this._editor.getPosition();if(g){for(let b=0,I=this.ranges.length;b<I&&!C;b++)g.isBeforeOrEqual(this.ranges[b].range.getStartPosition())&&(this.nextIdx=b+(d?0:-1),C=!0);C||(this.nextIdx=d?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)}else this.nextIdx=0}_move(d,C){if(T.ok(!this.disposed,"Illegal State - diff navigator has been disposed"),!this.canNavigate())return;-1===this.nextIdx?this._initIdx(d):d?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));let g=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{let b=g.range.getStartPosition();this._editor.setPosition(b),this._editor.revealPositionInCenter(b,C)}finally{this.ignoreSelectionChange=!1}}canNavigate(){return this.ranges&&this.ranges.length>0}next(d=0){this._move(!0,d)}previous(d=0){this._move(!1,d)}dispose(){super.dispose(),this.ranges=[],this.disposed=!0}}},4406:(Ct,Qe,a)=>{"use strict";a.d(Qe,{H:()=>b});var T=a(3788),U=a(3779),j=a(3741),O=a(8896),k=a(2844),$=a(4562),B=a(1004),R=a(6803),d=a(2668),g=function(I,p){return function(w,E){p(w,E,I)}};let b=class extends j.Gm{constructor(p,w,E,S,v,M,_,f,m,L){super(p,Object.assign(Object.assign({},E.getRawOptions()),{overflowWidgetsDomNode:E.getOverflowWidgetsDomNode()}),{},S,v,M,_,f,m,L),this._parentEditor=E,this._overwriteOptions=w,super.updateOptions(this._overwriteOptions),this._register(E.onDidChangeConfiguration(F=>this._onParentConfigurationChanged(F)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(p){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(p){T.jB(this._overwriteOptions,p,!0),super.updateOptions(this._overwriteOptions)}};b=function(I,p,w,E){var M,S=arguments.length,v=S<3?p:null===E?E=Object.getOwnPropertyDescriptor(p,w):E;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)v=Reflect.decorate(I,p,w,E);else for(var _=I.length-1;_>=0;_--)(M=I[_])&&(v=(S<3?M(v):S>3?M(p,w,v):M(p,w))||v);return S>3&&v&&Object.defineProperty(p,w,v),v}([g(3,$.TG),g(4,U.$),g(5,O.H),g(6,k.i6),g(7,R.XE),g(8,B.lT),g(9,d.F)],b)},8571:(Ct,Qe,a)=>{"use strict";a.d(Qe,{T4:()=>U,OY:()=>j,Sj:()=>O,Uo:()=>k,hP:()=>$});var T=a(9730);class U{constructor(R,d,C=!1){this._range=R,this._text=d,this.insertsAutoWhitespace=C}getEditOperations(R,d){d.addTrackedEditOperation(this._range,this._text)}computeCursorState(R,d){let g=d.getInverseEditOperations()[0].range;return new T.Y(g.endLineNumber,g.endColumn,g.endLineNumber,g.endColumn)}}class j{constructor(R,d){this._range=R,this._text=d}getEditOperations(R,d){d.addTrackedEditOperation(this._range,this._text)}computeCursorState(R,d){const g=d.getInverseEditOperations()[0].range;return new T.Y(g.startLineNumber,g.startColumn,g.endLineNumber,g.endColumn)}}class O{constructor(R,d,C=!1){this._range=R,this._text=d,this.insertsAutoWhitespace=C}getEditOperations(R,d){d.addTrackedEditOperation(this._range,this._text)}computeCursorState(R,d){let g=d.getInverseEditOperations()[0].range;return new T.Y(g.startLineNumber,g.startColumn,g.startLineNumber,g.startColumn)}}class k{constructor(R,d,C,g,b=!1){this._range=R,this._text=d,this._columnDeltaOffset=g,this._lineNumberDeltaOffset=C,this.insertsAutoWhitespace=b}getEditOperations(R,d){d.addTrackedEditOperation(this._range,this._text)}computeCursorState(R,d){let g=d.getInverseEditOperations()[0].range;return new T.Y(g.endLineNumber+this._lineNumberDeltaOffset,g.endColumn+this._columnDeltaOffset,g.endLineNumber+this._lineNumberDeltaOffset,g.endColumn+this._columnDeltaOffset)}}class ${constructor(R,d,C,g=!1){this._range=R,this._text=d,this._initialSelection=C,this._forceMoveMarkers=g,this._selectionId=null}getEditOperations(R,d){d.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=d.trackSelection(this._initialSelection)}computeCursorState(R,d){return d.getTrackedSelection(this._selectionId)}}},6108:(Ct,Qe,a)=>{"use strict";a.d(Qe,{U:()=>R});var T=a(579),U=a(5),j=a(8487),O=a(9730),k=a(2587);const $=Object.create(null);function B(d,C){if(C<=0)return"";$[d]||($[d]=["",d]);const g=$[d];for(let b=g.length;b<=C;b++)g[b]=g[b-1]+d;return g[C]}class R{constructor(C,g){this._opts=g,this._selection=C,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}static unshiftIndent(C,g,b,I,p){const w=U.io.visibleColumnFromColumn(C,g,b);if(p){const E=B(" ",I);return B(E,U.io.prevIndentTabStop(w,I)/I)}return B("\t",U.io.prevRenderTabStop(w,b)/b)}static shiftIndent(C,g,b,I,p){const w=U.io.visibleColumnFromColumn(C,g,b);if(p){const E=B(" ",I);return B(E,U.io.nextIndentTabStop(w,I)/I)}return B("\t",U.io.nextRenderTabStop(w,b)/b)}_addEditOperation(C,g,b){this._useLastEditRangeForCursorEndPosition?C.addTrackedEditOperation(g,b):C.addEditOperation(g,b)}getEditOperations(C,g){const b=this._selection.startLineNumber;let I=this._selection.endLineNumber;1===this._selection.endColumn&&b!==I&&(I-=1);const{tabSize:p,indentSize:w,insertSpaces:E}=this._opts,S=b===I;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(C.getLineContent(b))&&(this._useLastEditRangeForCursorEndPosition=!0);let v=0,M=0;for(let _=b;_<=I;_++,v=M){M=0;let L,f=C.getLineContent(_),m=T.LC(f);if((!this._opts.isUnshift||0!==f.length&&0!==m)&&(S||this._opts.isUnshift||0!==f.length)){if(-1===m&&(m=f.length),_>1&&U.io.visibleColumnFromColumn(f,m+1,p)%w!=0&&C.isCheapToTokenize(_-1)){let G=k.zu.getEnterAction(this._opts.autoIndent,C,new j.e(_-1,C.getLineMaxColumn(_-1),_-1,C.getLineMaxColumn(_-1)));if(G){if(M=v,G.appendText)for(let Y=0,de=G.appendText.length;Y<de&&M<w&&32===G.appendText.charCodeAt(Y);Y++)M++;G.removeText&&(M=Math.max(0,M-G.removeText));for(let Y=0;Y<M&&0!==m&&32===f.charCodeAt(m-1);Y++)m--}}this._opts.isUnshift&&0===m||(L=this._opts.isUnshift?R.unshiftIndent(f,m+1,p,w,E):R.shiftIndent(f,m+1,p,w,E),this._addEditOperation(g,new j.e(_,1,_,m+1),L),_===b&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=m+1))}}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&0===C.getLineLength(b)&&(this._useLastEditRangeForCursorEndPosition=!0);const v=E?B(" ",w):"\t";for(let M=b;M<=I;M++){const _=C.getLineContent(M);let f=T.LC(_);if((!this._opts.isUnshift||0!==_.length&&0!==f)&&(S||this._opts.isUnshift||0!==_.length)&&(-1===f&&(f=_.length),!this._opts.isUnshift||0!==f))if(this._opts.isUnshift){f=Math.min(f,w);for(let m=0;m<f;m++)if(9===_.charCodeAt(m)){f=m+1;break}this._addEditOperation(g,new j.e(M,1,M,f+1),"")}else this._addEditOperation(g,new j.e(M,1,M,1),v),M===b&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=1===this._selection.startColumn)}}this._selectionId=g.trackSelection(this._selection)}computeCursorState(C,g){if(this._useLastEditRangeForCursorEndPosition){let I=g.getInverseEditOperations()[0];return new O.Y(I.range.endLineNumber,I.range.endColumn,I.range.endLineNumber,I.range.endColumn)}const b=g.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){let I=this._selection.startColumn;return b.startColumn<=I?b:0===b.getDirection()?new O.Y(b.startLineNumber,I,b.endLineNumber,b.endColumn):new O.Y(b.endLineNumber,b.endColumn,b.startLineNumber,I)}return b}}},2547:(Ct,Qe,a)=>{"use strict";a.d(Qe,{nG:()=>b,fv:()=>M,ei:()=>Y,Pe:()=>de});var T=a(1606),U=a(6723),j=a(1719),O=a(3788),k=a(2291),$=a(4103),B=a(2303),R=a(5111),d=a(1631),C=a(1161),g=a(5252);const b=new class{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new U.Q5,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(le){this._tabFocus!==le&&(this._tabFocus=le,this._onDidChangeTabFocus.fire(this._tabFocus))}},I=Object.hasOwnProperty;class p{constructor(){this._values=[]}_read(ce){return this._values[ce]}get(ce){return this._values[ce]}_write(ce,be){this._values[ce]=be}}class w{constructor(){this._values=[]}_read(ce){return this._values[ce]}_write(ce,be){this._values[ce]=be}}class E{static readOptions(ce){const be=ce,N=new w;for(const V of $.Bc)N._write(V.id,"_never_"===V.name?void 0:be[V.name]);return N}static validateOptions(ce){const be=new $.hu;for(const N of $.Bc)be._write(N.id,N.validate(ce._read(N.id)));return be}static computeOptions(ce,be){const N=new p;for(const V of $.Bc)N._write(V.id,V.compute(be,N,ce._read(V.id)));return N}static _deepEquals(ce,be){if("object"!=typeof ce||"object"!=typeof be)return ce===be;if(Array.isArray(ce)||Array.isArray(be))return!(!Array.isArray(ce)||!Array.isArray(be))&&k.fS(ce,be);for(let N in ce)if(!E._deepEquals(ce[N],be[N]))return!1;return!0}static checkEquals(ce,be){const N=[];let V=!1;for(const Z of $.Bc){const ie=!E._deepEquals(ce._read(Z.id),be._read(Z.id));N[Z.id]=ie,ie&&(V=!0)}return V?new $.Bb(N):null}}function v(le){const ce=O.I8(le);return function(le){const ce=le.wordWrap;!0===ce?le.wordWrap="on":!1===ce&&(le.wordWrap="off");const be=le.lineNumbers;!0===be?le.lineNumbers="on":!1===be&&(le.lineNumbers="off"),!1===le.autoClosingBrackets&&(le.autoClosingBrackets="never",le.autoClosingQuotes="never",le.autoSurround="never"),"visible"===le.cursorBlinking&&(le.cursorBlinking="solid");const Z=le.renderWhitespace;!0===Z?le.renderWhitespace="boundary":!1===Z&&(le.renderWhitespace="none");const ie=le.renderLineHighlight;!0===ie?le.renderLineHighlight="line":!1===ie&&(le.renderLineHighlight="none");const ue=le.acceptSuggestionOnEnter;!0===ue?le.acceptSuggestionOnEnter="on":!1===ue&&(le.acceptSuggestionOnEnter="off");const oe=le.tabCompletion;!1===oe?le.tabCompletion="off":!0===oe&&(le.tabCompletion="onlySnippets");const ee=le.suggest;ee&&"object"==typeof ee.filteredTypes&&ee.filteredTypes&&(0,g.E)({method:"showMethods",function:"showFunctions",constructor:"showConstructors",deprecated:"showDeprecated",field:"showFields",variable:"showVariables",class:"showClasses",struct:"showStructs",interface:"showInterfaces",module:"showModules",property:"showProperties",event:"showEvents",operator:"showOperators",unit:"showUnits",value:"showValues",constant:"showConstants",enum:"showEnums",enumMember:"showEnumMembers",keyword:"showKeywords",text:"showWords",color:"showColors",file:"showFiles",reference:"showReferences",folder:"showFolders",typeParameter:"showTypeParameters",snippet:"showSnippets"},ye=>{const ke=ee.filteredTypes[ye.key];!1===ke&&(ee[ye.value]=ke)});const K=le.hover;!0===K?le.hover={enabled:!0}:!1===K&&(le.hover={enabled:!1});const ne=le.parameterHints;!0===ne?le.parameterHints={enabled:!0}:!1===ne&&(le.parameterHints={enabled:!1});const he=le.autoIndent;!0===he?le.autoIndent="full":!1===he&&(le.autoIndent="advanced");const ge=le.matchBrackets;!0===ge?le.matchBrackets="always":!1===ge&&(le.matchBrackets="never")}(ce),ce}class M extends j.JT{constructor(ce,be){super(),this._onDidChange=this._register(new U.Q5),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new U.Q5),this.onDidChangeFast=this._onDidChangeFast.event,this.isSimpleWidget=ce,this._isDominatedByLongLines=!1,this._computeOptionsMemory=new $.LJ,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._rawOptions=v(be),this._readOptions=E.readOptions(this._rawOptions),this._validatedOptions=E.validateOptions(this._readOptions),this._register(B.C.onDidChangeZoomLevel(N=>this._recomputeOptions())),this._register(b.onDidChangeTabFocus(N=>this._recomputeOptions()))}observeReferenceElement(ce){}updatePixelRatio(){}_recomputeOptions(){const ce=this.options,be=this._computeInternalOptions();if(ce){const N=E.checkEquals(ce,be);if(null===N)return;this.options=be,this._onDidChangeFast.fire(N),this._onDidChange.fire(N)}else this.options=be}getRawOptions(){return this._rawOptions}_computeInternalOptions(){const ce=this._getEnvConfiguration(),be=R.E4.createFromValidatedSettings(this._validatedOptions,ce.zoomLevel,ce.pixelRatio,this.isSimpleWidget),N={memory:this._computeOptionsMemory,outerWidth:ce.outerWidth,outerHeight:ce.outerHeight,fontInfo:this.readConfiguration(be),extraEditorClassName:ce.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:ce.emptySelectionClipboard,pixelRatio:ce.pixelRatio,tabFocusMode:b.getTabFocusMode(),accessibilitySupport:ce.accessibilitySupport};return E.computeOptions(this._validatedOptions,N)}static _subsetEquals(ce,be){for(const N in be)if(I.call(be,N)){const V=be[N],Z=ce[N];if(Z===V)continue;if(Array.isArray(Z)&&Array.isArray(V)){if(!k.fS(Z,V))return!1;continue}if(Z&&"object"==typeof Z&&V&&"object"==typeof V){if(!this._subsetEquals(Z,V))return!1;continue}return!1}return!0}updateOptions(ce){if(void 0===ce)return;const be=v(ce);M._subsetEquals(this._rawOptions,be)||(this._rawOptions=O.jB(this._rawOptions,be||{}),this._readOptions=E.readOptions(this._rawOptions),this._validatedOptions=E.validateOptions(this._readOptions),this._recomputeOptions())}setIsDominatedByLongLines(ce){this._isDominatedByLongLines=ce,this._recomputeOptions()}setMaxLineNumber(ce){const be=M._digitCount(ce);this._lineNumbersDigitCount!==be&&(this._lineNumbersDigitCount=be,this._recomputeOptions())}setViewLineCount(ce){this._viewLineCount!==ce&&(this._viewLineCount=ce,this._recomputeOptions())}static _digitCount(ce){let be=0;for(;ce;)ce=Math.floor(ce/10),be++;return be||1}}const _=Object.freeze({id:"editor",order:5,type:"object",title:T.N("editorConfigurationTitle","Editor"),scope:5}),f=C.B.as(d.IP.Configuration),m=Object.assign(Object.assign({},_),{properties:{"editor.tabSize":{type:"number",default:$.DB.tabSize,minimum:1,markdownDescription:T.N("tabSize","The number of spaces a tab is equal to. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.insertSpaces":{type:"boolean",default:$.DB.insertSpaces,markdownDescription:T.N("insertSpaces","Insert spaces when pressing `Tab`. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.detectIndentation":{type:"boolean",default:$.DB.detectIndentation,markdownDescription:T.N("detectIndentation","Controls whether `#editor.tabSize#` and `#editor.insertSpaces#` will be automatically detected when a file is opened based on the file contents.")},"editor.trimAutoWhitespace":{type:"boolean",default:$.DB.trimAutoWhitespace,description:T.N("trimAutoWhitespace","Remove trailing auto inserted whitespace.")},"editor.largeFileOptimizations":{type:"boolean",default:$.DB.largeFileOptimizations,description:T.N("largeFileOptimizations","Special handling for large files to disable certain memory intensive features.")},"editor.wordBasedSuggestions":{type:"boolean",default:!0,description:T.N("wordBasedSuggestions","Controls whether completions should be computed based on words in the document.")},"editor.wordBasedSuggestionsMode":{enum:["currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[T.N("wordBasedSuggestionsMode.currentDocument","Only suggest words from the active document."),T.N("wordBasedSuggestionsMode.matchingDocuments","Suggest words from all open documents of the same language."),T.N("wordBasedSuggestionsMode.allDocuments","Suggest words from all open documents.")],description:T.N("wordBasedSuggestionsMode","Controls from which documents word based completions are computed.")},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[T.N("semanticHighlighting.true","Semantic highlighting enabled for all color themes."),T.N("semanticHighlighting.false","Semantic highlighting disabled for all color themes."),T.N("semanticHighlighting.configuredByTheme","Semantic highlighting is configured by the current color theme's `semanticHighlighting` setting.")],default:"configuredByTheme",description:T.N("semanticHighlighting.enabled","Controls whether the semanticHighlighting is shown for the languages that support it.")},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:T.N("stablePeek","Keep peek editors open even when double clicking their content or when hitting `Escape`.")},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:T.N("maxTokenizationLineLength","Lines above this length will not be tokenized for performance reasons")},"diffEditor.maxComputationTime":{type:"number",default:5e3,description:T.N("maxComputationTime","Timeout in milliseconds after which diff computation is cancelled. Use 0 for no timeout.")},"diffEditor.renderSideBySide":{type:"boolean",default:!0,description:T.N("sideBySide","Controls whether the diff editor shows the diff side by side or inline.")},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:!0,description:T.N("ignoreTrimWhitespace","When enabled, the diff editor ignores changes in leading or trailing whitespace.")},"diffEditor.renderIndicators":{type:"boolean",default:!0,description:T.N("renderIndicators","Controls whether the diff editor shows +/- indicators for added/removed changes.")},"diffEditor.codeLens":{type:"boolean",default:!1,description:T.N("codeLens","Controls whether the editor shows CodeLens.")},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:"inherit",markdownEnumDescriptions:[T.N("wordWrap.off","Lines will never wrap."),T.N("wordWrap.on","Lines will wrap at the viewport width."),T.N("wordWrap.inherit","Lines will wrap according to the `#editor.wordWrap#` setting.")]}}});function L(le){return void 0!==le.type||void 0!==le.anyOf}for(const le of $.Bc){const ce=le.schema;if(void 0!==ce)if(L(ce))m.properties[`editor.${le.name}`]=ce;else for(let be in ce)I.call(ce,be)&&(m.properties[be]=ce[be])}let F=null;function G(){return null===F&&(F=Object.create(null),Object.keys(m.properties).forEach(le=>{F[le]=!0})),F}function Y(le){return G()[`editor.${le}`]||!1}function de(le){return G()[`diffEditor.${le}`]||!1}f.registerConfiguration(m)},4103:(Ct,Qe,a)=>{"use strict";a.d(Qe,{y0:()=>O,Bb:()=>k,hu:()=>$,LJ:()=>B,O7:()=>g,NY:()=>E,d2:()=>L,n0:()=>le,gk:()=>ie,$J:()=>xe,hL:()=>ot,DB:()=>vt,Bc:()=>At,BH:()=>ht});var T=a(1606),U=a(9190),j=a(6983);const O=8;class k{constructor(De){this._values=De}hasChanged(De){return this._values[De]}}class ${constructor(){this._values=[]}_read(De){return this._values[De]}get(De){return this._values[De]}_write(De,Le){this._values[De]=Le}}class B{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}class R{constructor(De,Le,dt,_t){this.id=De,this.name=Le,this.defaultValue=dt,this.schema=_t}compute(De,Le,dt){return dt}}class d{constructor(De,Le=null){this.schema=void 0,this.id=De,this.name="_never_",this.defaultValue=void 0,this.deps=Le}validate(De){return this.defaultValue}}class C{constructor(De,Le,dt,_t){this.id=De,this.name=Le,this.defaultValue=dt,this.schema=_t}validate(De){return void 0===De?this.defaultValue:De}compute(De,Le,dt){return dt}}function g(Ge,De){return void 0===Ge?De:"false"!==Ge&&Boolean(Ge)}class b extends C{constructor(De,Le,dt,_t){void 0!==_t&&(_t.type="boolean",_t.default=dt),super(De,Le,dt,_t)}validate(De){return g(De,this.defaultValue)}}class I extends C{constructor(De,Le,dt,_t,Nt,zt){void 0!==zt&&(zt.type="integer",zt.default=dt,zt.minimum=_t,zt.maximum=Nt),super(De,Le,dt,zt),this.minimum=_t,this.maximum=Nt}static clampedInt(De,Le,dt,_t){if(void 0===De)return Le;let Nt=parseInt(De,10);return isNaN(Nt)?Le:(Nt=Math.max(dt,Nt),Nt=Math.min(_t,Nt),0|Nt)}validate(De){return I.clampedInt(De,this.defaultValue,this.minimum,this.maximum)}}class p extends C{constructor(De,Le,dt,_t,Nt){void 0!==Nt&&(Nt.type="number",Nt.default=dt),super(De,Le,dt,Nt),this.validationFn=_t}static clamp(De,Le,dt){return De<Le?Le:De>dt?dt:De}static float(De,Le){if("number"==typeof De)return De;if(void 0===De)return Le;const dt=parseFloat(De);return isNaN(dt)?Le:dt}validate(De){return this.validationFn(p.float(De,this.defaultValue))}}class w extends C{static string(De,Le){return"string"!=typeof De?Le:De}constructor(De,Le,dt,_t){void 0!==_t&&(_t.type="string",_t.default=dt),super(De,Le,dt,_t)}validate(De){return w.string(De,this.defaultValue)}}function E(Ge,De,Le){return"string"!=typeof Ge||-1===Le.indexOf(Ge)?De:Ge}class S extends C{constructor(De,Le,dt,_t,Nt){void 0!==Nt&&(Nt.type="string",Nt.enum=_t,Nt.default=dt),super(De,Le,dt,Nt),this._allowedValues=_t}validate(De){return E(De,this.defaultValue,this._allowedValues)}}class v extends R{constructor(De,Le,dt,_t,Nt,zt,pn){void 0!==pn&&(pn.type="string",pn.enum=Nt,pn.default=_t),super(De,Le,dt,pn),this._allowedValues=Nt,this._convert=zt}validate(De){return"string"!=typeof De||-1===this._allowedValues.indexOf(De)?this.defaultValue:this._convert(De)}}var L=(()=>{return(Ge=L||(L={}))[Ge.Line=1]="Line",Ge[Ge.Block=2]="Block",Ge[Ge.Underline=3]="Underline",Ge[Ge.LineThin=4]="LineThin",Ge[Ge.BlockOutline=5]="BlockOutline",Ge[Ge.UnderlineThin=6]="UnderlineThin",L;var Ge})();let le=(()=>{class Ge extends R{constructor(){super(41,"fontLigatures",Ge.OFF,{anyOf:[{type:"boolean",description:T.N("fontLigatures","Enables/Disables font ligatures ('calt' and 'liga' font features). Change this to a string for fine-grained control of the 'font-feature-settings' CSS property.")},{type:"string",description:T.N("fontFeatureSettings","Explicit 'font-feature-settings' CSS property. A boolean can be passed instead if one only needs to turn on/off ligatures.")}],description:T.N("fontLigaturesGeneral","Configures font ligatures or font features. Can be either a boolean to enable/disable ligatures or a string for the value of the CSS 'font-feature-settings' property."),default:!1})}validate(Le){return void 0===Le?this.defaultValue:"string"==typeof Le?"false"===Le?Ge.OFF:"true"===Le?Ge.ON:Le:Boolean(Le)?Ge.ON:Ge.OFF}}return Ge.OFF='"liga" off, "calt" off',Ge.ON='"liga" on, "calt" on',Ge})(),N=(()=>{class Ge extends R{constructor(){super(43,"fontWeight",ot.fontWeight,{anyOf:[{type:"number",minimum:Ge.MINIMUM_VALUE,maximum:Ge.MAXIMUM_VALUE,errorMessage:T.N("fontWeightErrorMessage",'Only "normal" and "bold" keywords or numbers between 1 and 1000 are allowed.')},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:Ge.SUGGESTION_VALUES}],default:ot.fontWeight,description:T.N("fontWeight",'Controls the font weight. Accepts "normal" and "bold" keywords or numbers between 1 and 1000.')})}validate(Le){return"normal"===Le||"bold"===Le?Le:String(I.clampedInt(Le,ot.fontWeight,Ge.MINIMUM_VALUE,Ge.MAXIMUM_VALUE))}}return Ge.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],Ge.MINIMUM_VALUE=1,Ge.MAXIMUM_VALUE=1e3,Ge})();class ie extends d{constructor(){super(128,[46,55,35,62,90,57,58,92,115,118,119,120,2])}compute(De,Le,dt){return ie.computeLayout(Le,{memory:De.memory,outerWidth:De.outerWidth,outerHeight:De.outerHeight,isDominatedByLongLines:De.isDominatedByLongLines,lineHeight:De.fontInfo.lineHeight,viewLineCount:De.viewLineCount,lineNumbersDigitCount:De.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:De.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:De.fontInfo.maxDigitWidth,pixelRatio:De.pixelRatio})}static computeContainedMinimapLineCount(De){const Le=De.height/De.lineHeight,dt=De.scrollBeyondLastLine?Le-1:0,_t=(De.viewLineCount+dt)/(De.pixelRatio*De.height);return{typicalViewportLineCount:Le,extraLinesBeyondLastLine:dt,desiredRatio:_t,minimapLineCount:Math.floor(De.viewLineCount/_t)}}static _computeMinimapLayout(De,Le){const dt=De.outerWidth,_t=De.outerHeight,Nt=De.pixelRatio;if(!De.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(Nt*_t),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:_t};const zt=Le.stableMinimapLayoutInput,pn=zt&&De.outerHeight===zt.outerHeight&&De.lineHeight===zt.lineHeight&&De.typicalHalfwidthCharacterWidth===zt.typicalHalfwidthCharacterWidth&&De.pixelRatio===zt.pixelRatio&&De.scrollBeyondLastLine===zt.scrollBeyondLastLine&&De.minimap.enabled===zt.minimap.enabled&&De.minimap.side===zt.minimap.side&&De.minimap.size===zt.minimap.size&&De.minimap.showSlider===zt.minimap.showSlider&&De.minimap.renderCharacters===zt.minimap.renderCharacters&&De.minimap.maxColumn===zt.minimap.maxColumn&&De.minimap.scale===zt.minimap.scale&&De.verticalScrollbarWidth===zt.verticalScrollbarWidth&&De.isViewportWrapping===zt.isViewportWrapping,Qt=De.lineHeight,Ht=De.typicalHalfwidthCharacterWidth,qt=De.scrollBeyondLastLine,nt=De.minimap.renderCharacters;let bt=Nt>=2?Math.round(2*De.minimap.scale):De.minimap.scale;const Rt=De.minimap.maxColumn,Dt=De.minimap.size,Xe=De.minimap.side,ft=De.verticalScrollbarWidth,Oe=De.viewLineCount,We=De.remainingWidth,Ne=De.isViewportWrapping,J=nt?2:3;let _e=Math.floor(Nt*_t);const $e=_e/Nt;let at=!1,Et=!1,Lt=J*bt,Pt=bt/Nt,on=1;if("fill"===Dt||"fit"===Dt){const{typicalViewportLineCount:ci,extraLinesBeyondLastLine:vi,desiredRatio:Ii,minimapLineCount:Fn}=ie.computeContainedMinimapLineCount({viewLineCount:Oe,scrollBeyondLastLine:qt,height:_t,lineHeight:Qt,pixelRatio:Nt});if(Oe/Fn>1)at=!0,Et=!0,bt=1,Lt=1,Pt=bt/Nt;else{let Mt=!1,kt=bt+1;if("fit"===Dt){const nn=Math.ceil((Oe+vi)*Lt);Ne&&pn&&We<=Le.stableFitRemainingWidth?(Mt=!0,kt=Le.stableFitMaxMinimapScale):Mt=nn>_e}if("fill"===Dt||Mt){at=!0;const nn=bt;Lt=Math.min(Qt*Nt,Math.max(1,Math.floor(1/Ii))),Ne&&pn&&We<=Le.stableFitRemainingWidth&&(kt=Le.stableFitMaxMinimapScale),bt=Math.min(kt,Math.max(1,Math.floor(Lt/J))),bt>nn&&(on=Math.min(2,bt/nn)),Pt=bt/Nt/on,_e=Math.ceil(Math.max(ci,Oe+vi)*Lt),Ne?(Le.stableMinimapLayoutInput=De,Le.stableFitRemainingWidth=We,Le.stableFitMaxMinimapScale=bt):(Le.stableMinimapLayoutInput=null,Le.stableFitRemainingWidth=0)}}}const Kt=Math.floor(Rt*Pt),bn=Math.min(Kt,Math.max(0,Math.floor((We-ft-2)*Pt/(Ht+Pt)))+O);let yn=Math.floor(Nt*bn);const jn=yn/Nt;return yn=Math.floor(yn*on),{renderMinimap:nt?1:2,minimapLeft:"left"===Xe?0:dt-bn-ft,minimapWidth:bn,minimapHeightIsEditorHeight:at,minimapIsSampling:Et,minimapScale:bt,minimapLineHeight:Lt,minimapCanvasInnerWidth:yn,minimapCanvasInnerHeight:_e,minimapCanvasOuterWidth:jn,minimapCanvasOuterHeight:$e}}static computeLayout(De,Le){const dt=0|Le.outerWidth,_t=0|Le.outerHeight,Nt=0|Le.lineHeight,zt=0|Le.lineNumbersDigitCount,pn=Le.typicalHalfwidthCharacterWidth,Qt=Le.maxDigitWidth,Ht=Le.pixelRatio,qt=Le.viewLineCount,nt=De.get(120),bt="inherit"===nt?De.get(119):nt,Rt="inherit"===bt?De.get(115):bt,Dt=De.get(118),Xe=De.get(2),ft=Le.isDominatedByLongLines,Oe=De.get(46),We=0!==De.get(57).renderType,Ne=De.get(58),J=De.get(92),_e=De.get(62),$e=De.get(90),at=$e.verticalScrollbarSize,Et=$e.verticalHasArrows,Lt=$e.arrowSize,Pt=$e.horizontalScrollbarSize,on=De.get(55),Kt=De.get(35);let bn;if("string"==typeof on&&/^\d+(\.\d+)?ch$/.test(on)){const En=parseFloat(on.substr(0,on.length-2));bn=I.clampedInt(En*pn,0,0,1e3)}else bn=I.clampedInt(on,0,0,1e3);Kt&&(bn+=16);let yn=0;if(We){const En=Math.max(zt,Ne);yn=Math.round(En*Qt)}let jn=0;Oe&&(jn=Nt);let Un=0,zn=Un+jn,ci=zn+yn,vi=ci+bn;const Ii=dt-jn-yn-bn;let Fn=!1,ut=!1,Mt=-1;2!==Xe&&("inherit"===bt&&ft?(Fn=!0,ut=!0):"on"===Rt||"bounded"===Rt?ut=!0:"wordWrapColumn"===Rt&&(Mt=Dt));const kt=ie._computeMinimapLayout({outerWidth:dt,outerHeight:_t,lineHeight:Nt,typicalHalfwidthCharacterWidth:pn,pixelRatio:Ht,scrollBeyondLastLine:J,minimap:_e,verticalScrollbarWidth:at,viewLineCount:qt,remainingWidth:Ii,isViewportWrapping:ut},Le.memory||new B);0!==kt.renderMinimap&&0===kt.minimapLeft&&(Un+=kt.minimapWidth,zn+=kt.minimapWidth,ci+=kt.minimapWidth,vi+=kt.minimapWidth);const nn=Ii-kt.minimapWidth,sn=Math.max(1,Math.floor((nn-at-2)/pn)),gn=Et?Lt:0;return ut&&(Mt=Math.max(1,sn),"bounded"===Rt&&(Mt=Math.min(Mt,Dt))),{width:dt,height:_t,glyphMarginLeft:Un,glyphMarginWidth:jn,lineNumbersLeft:zn,lineNumbersWidth:yn,decorationsLeft:ci,decorationsWidth:bn,contentLeft:vi,contentWidth:nn,minimap:kt,viewportColumn:sn,isWordWrapMinified:Fn,isViewportWrapping:ut,wrappingColumn:Mt,verticalScrollbarWidth:at,horizontalScrollbarHeight:Pt,overviewRuler:{top:gn,width:at,height:_t-2*gn,right:0}}}}function xe(Ge){const De=Ge.get(85);return"editable"===De?Ge.get(78):"on"!==De}function fe(Ge,De){if("string"!=typeof Ge)return De;switch(Ge){case"hidden":return 2;case"visible":return 3;default:return 1}}const ot={fontFamily:U.dz?"Menlo, Monaco, 'Courier New', monospace":U.IJ?"'Droid Sans Mono', 'monospace', monospace, 'Droid Sans Fallback'":"Consolas, 'Courier New', monospace",fontWeight:"normal",fontSize:U.dz?12:14,lineHeight:0,letterSpacing:0},vt={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0},At=[];function ve(Ge){return At[Ge.id]=Ge,Ge}const ht={acceptSuggestionOnCommitCharacter:ve(new b(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:T.N("acceptSuggestionOnCommitCharacter","Controls whether suggestions should be accepted on commit characters. For example, in JavaScript, the semi-colon (`;`) can be a commit character that accepts a suggestion and types that character.")})),acceptSuggestionOnEnter:ve(new S(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",T.N("acceptSuggestionOnEnterSmart","Only accept a suggestion with `Enter` when it makes a textual change."),""],markdownDescription:T.N("acceptSuggestionOnEnter","Controls whether suggestions should be accepted on `Enter`, in addition to `Tab`. Helps to avoid ambiguity between inserting new lines or accepting suggestions.")})),accessibilitySupport:ve(new class extends R{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[T.N("accessibilitySupport.auto","The editor will use platform APIs to detect when a Screen Reader is attached."),T.N("accessibilitySupport.on","The editor will be permanently optimized for usage with a Screen Reader. Word wrapping will be disabled."),T.N("accessibilitySupport.off","The editor will never be optimized for usage with a Screen Reader.")],default:"auto",description:T.N("accessibilitySupport","Controls whether the editor should run in a mode where it is optimized for screen readers. Setting to on will disable word wrapping.")})}validate(De){switch(De){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(De,Le,dt){return 0===dt?De.accessibilitySupport:dt}}),accessibilityPageSize:ve(new I(3,"accessibilityPageSize",10,1,1073741824,{description:T.N("accessibilityPageSize","Controls the number of lines in the editor that can be read out by a screen reader at once. When we detect a screen reader we automatically set the default to be 500. Warning: this has a performance implication for numbers larger than the default.")})),ariaLabel:ve(new w(4,"ariaLabel",T.N("editorViewAccessibleLabel","Editor content"))),autoClosingBrackets:ve(new S(5,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",T.N("editor.autoClosingBrackets.languageDefined","Use language configurations to determine when to autoclose brackets."),T.N("editor.autoClosingBrackets.beforeWhitespace","Autoclose brackets only when the cursor is to the left of whitespace."),""],description:T.N("autoClosingBrackets","Controls whether the editor should automatically close brackets after the user adds an opening bracket.")})),autoClosingDelete:ve(new S(6,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",T.N("editor.autoClosingDelete.auto","Remove adjacent closing quotes or brackets only if they were automatically inserted."),""],description:T.N("autoClosingDelete","Controls whether the editor should remove adjacent closing quotes or brackets when deleting.")})),autoClosingOvertype:ve(new S(7,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",T.N("editor.autoClosingOvertype.auto","Type over closing quotes or brackets only if they were automatically inserted."),""],description:T.N("autoClosingOvertype","Controls whether the editor should type over closing quotes or brackets.")})),autoClosingQuotes:ve(new S(8,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",T.N("editor.autoClosingQuotes.languageDefined","Use language configurations to determine when to autoclose quotes."),T.N("editor.autoClosingQuotes.beforeWhitespace","Autoclose quotes only when the cursor is to the left of whitespace."),""],description:T.N("autoClosingQuotes","Controls whether the editor should automatically close quotes after the user adds an opening quote.")})),autoIndent:ve(new v(9,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],function(Ge){switch(Ge){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}},{enumDescriptions:[T.N("editor.autoIndent.none","The editor will not insert indentation automatically."),T.N("editor.autoIndent.keep","The editor will keep the current line's indentation."),T.N("editor.autoIndent.brackets","The editor will keep the current line's indentation and honor language defined brackets."),T.N("editor.autoIndent.advanced","The editor will keep the current line's indentation, honor language defined brackets and invoke special onEnterRules defined by languages."),T.N("editor.autoIndent.full","The editor will keep the current line's indentation, honor language defined brackets, invoke special onEnterRules defined by languages, and honor indentationRules defined by languages.")],description:T.N("autoIndent","Controls whether the editor should automatically adjust the indentation when users type, paste, move or indent lines.")})),automaticLayout:ve(new b(10,"automaticLayout",!1)),autoSurround:ve(new S(11,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[T.N("editor.autoSurround.languageDefined","Use language configurations to determine when to automatically surround selections."),T.N("editor.autoSurround.quotes","Surround with quotes but not brackets."),T.N("editor.autoSurround.brackets","Surround with brackets but not quotes."),""],description:T.N("autoSurround","Controls whether the editor should automatically surround selections when typing quotes or brackets.")})),stickyTabStops:ve(new b(102,"stickyTabStops",!1,{description:T.N("stickyTabStops","Emulate selection behavior of tab characters when using spaces for indentation. Selection will stick to tab stops.")})),codeLens:ve(new b(12,"codeLens",!0,{description:T.N("codeLens","Controls whether the editor shows CodeLens.")})),codeLensFontFamily:ve(new w(13,"codeLensFontFamily","",{description:T.N("codeLensFontFamily","Controls the font family for CodeLens.")})),codeLensFontSize:ve(new I(14,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:T.N("codeLensFontSize","Controls the font size in pixels for CodeLens. When set to `0`, the 90% of `#editor.fontSize#` is used.")})),colorDecorators:ve(new b(15,"colorDecorators",!0,{description:T.N("colorDecorators","Controls whether the editor should render the inline color decorators and color picker.")})),columnSelection:ve(new b(16,"columnSelection",!1,{description:T.N("columnSelection","Enable that the selection with the mouse and keys is doing column selection.")})),comments:ve(new class extends R{constructor(){const De={insertSpace:!0,ignoreEmptyLines:!0};super(17,"comments",De,{"editor.comments.insertSpace":{type:"boolean",default:De.insertSpace,description:T.N("comments.insertSpace","Controls whether a space character is inserted when commenting.")},"editor.comments.ignoreEmptyLines":{type:"boolean",default:De.ignoreEmptyLines,description:T.N("comments.ignoreEmptyLines","Controls if empty lines should be ignored with toggle, add or remove actions for line comments.")}})}validate(De){if(!De||"object"!=typeof De)return this.defaultValue;const Le=De;return{insertSpace:g(Le.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:g(Le.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}),contextmenu:ve(new b(18,"contextmenu",!0)),copyWithSyntaxHighlighting:ve(new b(19,"copyWithSyntaxHighlighting",!0,{description:T.N("copyWithSyntaxHighlighting","Controls whether syntax highlighting should be copied into the clipboard.")})),cursorBlinking:ve(new v(20,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],function(Ge){switch(Ge){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}},{description:T.N("cursorBlinking","Control the cursor animation style.")})),cursorSmoothCaretAnimation:ve(new b(21,"cursorSmoothCaretAnimation",!1,{description:T.N("cursorSmoothCaretAnimation","Controls whether the smooth caret animation should be enabled.")})),cursorStyle:ve(new v(22,"cursorStyle",L.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],function(Ge){switch(Ge){case"line":return L.Line;case"block":return L.Block;case"underline":return L.Underline;case"line-thin":return L.LineThin;case"block-outline":return L.BlockOutline;case"underline-thin":return L.UnderlineThin}},{description:T.N("cursorStyle","Controls the cursor style.")})),cursorSurroundingLines:ve(new I(23,"cursorSurroundingLines",0,0,1073741824,{description:T.N("cursorSurroundingLines","Controls the minimal number of visible leading and trailing lines surrounding the cursor. Known as 'scrollOff' or 'scrollOffset' in some other editors.")})),cursorSurroundingLinesStyle:ve(new S(24,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[T.N("cursorSurroundingLinesStyle.default","`cursorSurroundingLines` is enforced only when triggered via the keyboard or API."),T.N("cursorSurroundingLinesStyle.all","`cursorSurroundingLines` is enforced always.")],description:T.N("cursorSurroundingLinesStyle","Controls when `cursorSurroundingLines` should be enforced.")})),cursorWidth:ve(new I(25,"cursorWidth",0,0,1073741824,{markdownDescription:T.N("cursorWidth","Controls the width of the cursor when `#editor.cursorStyle#` is set to `line`.")})),disableLayerHinting:ve(new b(26,"disableLayerHinting",!1)),disableMonospaceOptimizations:ve(new b(27,"disableMonospaceOptimizations",!1)),domReadOnly:ve(new b(28,"domReadOnly",!1)),dragAndDrop:ve(new b(29,"dragAndDrop",!0,{description:T.N("dragAndDrop","Controls whether the editor should allow moving selections via drag and drop.")})),emptySelectionClipboard:ve(new class extends b{constructor(){super(30,"emptySelectionClipboard",!0,{description:T.N("emptySelectionClipboard","Controls whether copying without a selection copies the current line.")})}compute(De,Le,dt){return dt&&De.emptySelectionClipboard}}),extraEditorClassName:ve(new w(31,"extraEditorClassName","")),fastScrollSensitivity:ve(new p(32,"fastScrollSensitivity",5,Ge=>Ge<=0?5:Ge,{markdownDescription:T.N("fastScrollSensitivity","Scrolling speed multiplier when pressing `Alt`.")})),find:ve(new class extends R{constructor(){const De={cursorMoveOnType:!0,seedSearchStringFromSelection:!0,autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(33,"find",De,{"editor.find.cursorMoveOnType":{type:"boolean",default:De.cursorMoveOnType,description:T.N("find.cursorMoveOnType","Controls whether the cursor should jump to find matches while typing.")},"editor.find.seedSearchStringFromSelection":{type:"boolean",default:De.seedSearchStringFromSelection,description:T.N("find.seedSearchStringFromSelection","Controls whether the search string in the Find Widget is seeded from the editor selection.")},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:De.autoFindInSelection,enumDescriptions:[T.N("editor.find.autoFindInSelection.never","Never turn on Find in selection automatically (default)."),T.N("editor.find.autoFindInSelection.always","Always turn on Find in selection automatically."),T.N("editor.find.autoFindInSelection.multiline","Turn on Find in selection automatically when multiple lines of content are selected.")],description:T.N("find.autoFindInSelection","Controls the condition for turning on find in selection automatically.")},"editor.find.globalFindClipboard":{type:"boolean",default:De.globalFindClipboard,description:T.N("find.globalFindClipboard","Controls whether the Find Widget should read or modify the shared find clipboard on macOS."),included:U.dz},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:De.addExtraSpaceOnTop,description:T.N("find.addExtraSpaceOnTop","Controls whether the Find Widget should add extra lines on top of the editor. When true, you can scroll beyond the first line when the Find Widget is visible.")},"editor.find.loop":{type:"boolean",default:De.loop,description:T.N("find.loop","Controls whether the search automatically restarts from the beginning (or the end) when no further matches can be found.")}})}validate(De){if(!De||"object"!=typeof De)return this.defaultValue;const Le=De;return{cursorMoveOnType:g(Le.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:g(Le.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection),autoFindInSelection:"boolean"==typeof De.autoFindInSelection?De.autoFindInSelection?"always":"never":E(Le.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:g(Le.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:g(Le.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:g(Le.loop,this.defaultValue.loop)}}}),fixedOverflowWidgets:ve(new b(34,"fixedOverflowWidgets",!1)),folding:ve(new b(35,"folding",!0,{description:T.N("folding","Controls whether the editor has code folding enabled.")})),foldingStrategy:ve(new S(36,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[T.N("foldingStrategy.auto","Use a language-specific folding strategy if available, else the indentation-based one."),T.N("foldingStrategy.indentation","Use the indentation-based folding strategy.")],description:T.N("foldingStrategy","Controls the strategy for computing folding ranges.")})),foldingHighlight:ve(new b(37,"foldingHighlight",!0,{description:T.N("foldingHighlight","Controls whether the editor should highlight folded ranges.")})),unfoldOnClickAfterEndOfLine:ve(new b(38,"unfoldOnClickAfterEndOfLine",!1,{description:T.N("unfoldOnClickAfterEndOfLine","Controls whether clicking on the empty content after a folded line will unfold the line.")})),fontFamily:ve(new w(39,"fontFamily",ot.fontFamily,{description:T.N("fontFamily","Controls the font family.")})),fontInfo:ve(new class extends d{constructor(){super(40)}compute(De,Le,dt){return De.fontInfo}}),fontLigatures2:ve(new le),fontSize:ve(new class extends C{constructor(){super(42,"fontSize",ot.fontSize,{type:"number",minimum:6,maximum:100,default:ot.fontSize,description:T.N("fontSize","Controls the font size in pixels.")})}validate(De){let Le=p.float(De,this.defaultValue);return 0===Le?ot.fontSize:p.clamp(Le,6,100)}compute(De,Le,dt){return De.fontInfo.fontSize}}),fontWeight:ve(new N),formatOnPaste:ve(new b(44,"formatOnPaste",!1,{description:T.N("formatOnPaste","Controls whether the editor should automatically format the pasted content. A formatter must be available and the formatter should be able to format a range in a document.")})),formatOnType:ve(new b(45,"formatOnType",!1,{description:T.N("formatOnType","Controls whether the editor should automatically format the line after typing.")})),glyphMargin:ve(new b(46,"glyphMargin",!0,{description:T.N("glyphMargin","Controls whether the editor should render the vertical glyph margin. Glyph margin is mostly used for debugging.")})),gotoLocation:ve(new class extends R{constructor(){const De={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},Le={type:"string",enum:["peek","gotoAndPeek","goto"],default:De.multiple,enumDescriptions:[T.N("editor.gotoLocation.multiple.peek","Show peek view of the results (default)"),T.N("editor.gotoLocation.multiple.gotoAndPeek","Go to the primary result and show a peek view"),T.N("editor.gotoLocation.multiple.goto","Go to the primary result and enable peek-less navigation to others")]},dt=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(47,"gotoLocation",De,{"editor.gotoLocation.multiple":{deprecationMessage:T.N("editor.gotoLocation.multiple.deprecated","This setting is deprecated, please use separate settings like 'editor.editor.gotoLocation.multipleDefinitions' or 'editor.editor.gotoLocation.multipleImplementations' instead.")},"editor.gotoLocation.multipleDefinitions":Object.assign({description:T.N("editor.editor.gotoLocation.multipleDefinitions","Controls the behavior the 'Go to Definition'-command when multiple target locations exist.")},Le),"editor.gotoLocation.multipleTypeDefinitions":Object.assign({description:T.N("editor.editor.gotoLocation.multipleTypeDefinitions","Controls the behavior the 'Go to Type Definition'-command when multiple target locations exist.")},Le),"editor.gotoLocation.multipleDeclarations":Object.assign({description:T.N("editor.editor.gotoLocation.multipleDeclarations","Controls the behavior the 'Go to Declaration'-command when multiple target locations exist.")},Le),"editor.gotoLocation.multipleImplementations":Object.assign({description:T.N("editor.editor.gotoLocation.multipleImplemenattions","Controls the behavior the 'Go to Implementations'-command when multiple target locations exist.")},Le),"editor.gotoLocation.multipleReferences":Object.assign({description:T.N("editor.editor.gotoLocation.multipleReferences","Controls the behavior the 'Go to References'-command when multiple target locations exist.")},Le),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:De.alternativeDefinitionCommand,enum:dt,description:T.N("alternativeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Definition' is the current location.")},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:De.alternativeTypeDefinitionCommand,enum:dt,description:T.N("alternativeTypeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Type Definition' is the current location.")},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:De.alternativeDeclarationCommand,enum:dt,description:T.N("alternativeDeclarationCommand","Alternative command id that is being executed when the result of 'Go to Declaration' is the current location.")},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:De.alternativeImplementationCommand,enum:dt,description:T.N("alternativeImplementationCommand","Alternative command id that is being executed when the result of 'Go to Implementation' is the current location.")},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:De.alternativeReferenceCommand,enum:dt,description:T.N("alternativeReferenceCommand","Alternative command id that is being executed when the result of 'Go to Reference' is the current location.")}})}validate(De){var Le,dt,_t,Nt,zt;if(!De||"object"!=typeof De)return this.defaultValue;const pn=De;return{multiple:E(pn.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:null!==(Le=pn.multipleDefinitions)&&void 0!==Le?Le:E(pn.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:null!==(dt=pn.multipleTypeDefinitions)&&void 0!==dt?dt:E(pn.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:null!==(_t=pn.multipleDeclarations)&&void 0!==_t?_t:E(pn.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:null!==(Nt=pn.multipleImplementations)&&void 0!==Nt?Nt:E(pn.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:null!==(zt=pn.multipleReferences)&&void 0!==zt?zt:E(pn.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:w.string(pn.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:w.string(pn.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:w.string(pn.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:w.string(pn.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:w.string(pn.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}),hideCursorInOverviewRuler:ve(new b(48,"hideCursorInOverviewRuler",!1,{description:T.N("hideCursorInOverviewRuler","Controls whether the cursor should be hidden in the overview ruler.")})),highlightActiveIndentGuide:ve(new b(49,"highlightActiveIndentGuide",!0,{description:T.N("highlightActiveIndentGuide","Controls whether the editor should highlight the active indent guide.")})),hover:ve(new class extends R{constructor(){const De={enabled:!0,delay:300,sticky:!0};super(50,"hover",De,{"editor.hover.enabled":{type:"boolean",default:De.enabled,description:T.N("hover.enabled","Controls whether the hover is shown.")},"editor.hover.delay":{type:"number",default:De.delay,description:T.N("hover.delay","Controls the delay in milliseconds after which the hover is shown.")},"editor.hover.sticky":{type:"boolean",default:De.sticky,description:T.N("hover.sticky","Controls whether the hover should remain visible when mouse is moved over it.")}})}validate(De){if(!De||"object"!=typeof De)return this.defaultValue;const Le=De;return{enabled:g(Le.enabled,this.defaultValue.enabled),delay:I.clampedInt(Le.delay,this.defaultValue.delay,0,1e4),sticky:g(Le.sticky,this.defaultValue.sticky)}}}),inDiffEditor:ve(new b(51,"inDiffEditor",!1)),letterSpacing:ve(new p(53,"letterSpacing",ot.letterSpacing,Ge=>p.clamp(Ge,-5,20),{description:T.N("letterSpacing","Controls the letter spacing in pixels.")})),lightbulb:ve(new class extends R{constructor(){const De={enabled:!0};super(54,"lightbulb",De,{"editor.lightbulb.enabled":{type:"boolean",default:De.enabled,description:T.N("codeActions","Enables the code action lightbulb in the editor.")}})}validate(De){return De&&"object"==typeof De?{enabled:g(De.enabled,this.defaultValue.enabled)}:this.defaultValue}}),lineDecorationsWidth:ve(new C(55,"lineDecorationsWidth",10)),lineHeight:ve(new class extends p{constructor(){super(56,"lineHeight",ot.lineHeight,De=>p.clamp(De,0,150),{markdownDescription:T.N("lineHeight","Controls the line height. \n - Use 0 to automatically compute the line height from the font size.\n - Values between 0 and 8 will be used as a multiplier with the font size.\n - Values greater than or equal to 8 will be used as effective values.")})}compute(De,Le,dt){return De.fontInfo.lineHeight}}),lineNumbers:ve(new class extends R{constructor(){super(57,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[T.N("lineNumbers.off","Line numbers are not rendered."),T.N("lineNumbers.on","Line numbers are rendered as absolute number."),T.N("lineNumbers.relative","Line numbers are rendered as distance in lines to cursor position."),T.N("lineNumbers.interval","Line numbers are rendered every 10 lines.")],default:"on",description:T.N("lineNumbers","Controls the display of line numbers.")})}validate(De){let Le=this.defaultValue.renderType,dt=this.defaultValue.renderFn;return void 0!==De&&("function"==typeof De?(Le=4,dt=De):Le="interval"===De?3:"relative"===De?2:"on"===De?1:0),{renderType:Le,renderFn:dt}}}),lineNumbersMinChars:ve(new I(58,"lineNumbersMinChars",5,1,300)),linkedEditing:ve(new b(59,"linkedEditing",!1,{description:T.N("linkedEditing","Controls whether the editor has linked editing enabled. Depending on the language, related symbols, e.g. HTML tags, are updated while editing.")})),links:ve(new b(60,"links",!0,{description:T.N("links","Controls whether the editor should detect links and make them clickable.")})),matchBrackets:ve(new S(61,"matchBrackets","always",["always","near","never"],{description:T.N("matchBrackets","Highlight matching brackets.")})),minimap:ve(new class extends R{constructor(){const De={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",renderCharacters:!0,maxColumn:120,scale:1};super(62,"minimap",De,{"editor.minimap.enabled":{type:"boolean",default:De.enabled,description:T.N("minimap.enabled","Controls whether the minimap is shown.")},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[T.N("minimap.size.proportional","The minimap has the same size as the editor contents (and might scroll)."),T.N("minimap.size.fill","The minimap will stretch or shrink as necessary to fill the height of the editor (no scrolling)."),T.N("minimap.size.fit","The minimap will shrink as necessary to never be larger than the editor (no scrolling).")],default:De.size,description:T.N("minimap.size","Controls the size of the minimap.")},"editor.minimap.side":{type:"string",enum:["left","right"],default:De.side,description:T.N("minimap.side","Controls the side where to render the minimap.")},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:De.showSlider,description:T.N("minimap.showSlider","Controls when the minimap slider is shown.")},"editor.minimap.scale":{type:"number",default:De.scale,minimum:1,maximum:3,enum:[1,2,3],description:T.N("minimap.scale","Scale of content drawn in the minimap: 1, 2 or 3.")},"editor.minimap.renderCharacters":{type:"boolean",default:De.renderCharacters,description:T.N("minimap.renderCharacters","Render the actual characters on a line as opposed to color blocks.")},"editor.minimap.maxColumn":{type:"number",default:De.maxColumn,description:T.N("minimap.maxColumn","Limit the width of the minimap to render at most a certain number of columns.")}})}validate(De){if(!De||"object"!=typeof De)return this.defaultValue;const Le=De;return{enabled:g(Le.enabled,this.defaultValue.enabled),size:E(Le.size,this.defaultValue.size,["proportional","fill","fit"]),side:E(Le.side,this.defaultValue.side,["right","left"]),showSlider:E(Le.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:g(Le.renderCharacters,this.defaultValue.renderCharacters),scale:I.clampedInt(Le.scale,1,1,3),maxColumn:I.clampedInt(Le.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}),mouseStyle:ve(new S(63,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:ve(new p(64,"mouseWheelScrollSensitivity",1,Ge=>0===Ge?1:Ge,{markdownDescription:T.N("mouseWheelScrollSensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")})),mouseWheelZoom:ve(new b(65,"mouseWheelZoom",!1,{markdownDescription:T.N("mouseWheelZoom","Zoom the font of the editor when using mouse wheel and holding `Ctrl`.")})),multiCursorMergeOverlapping:ve(new b(66,"multiCursorMergeOverlapping",!0,{description:T.N("multiCursorMergeOverlapping","Merge multiple cursors when they are overlapping.")})),multiCursorModifier:ve(new v(67,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],function(Ge){return"ctrlCmd"===Ge?U.dz?"metaKey":"ctrlKey":"altKey"},{markdownEnumDescriptions:[T.N("multiCursorModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),T.N("multiCursorModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],markdownDescription:T.N({key:"multiCursorModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add multiple cursors with the mouse. The Go To Definition and Open Link mouse gestures will adapt such that they do not conflict with the multicursor modifier. [Read more](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier).")})),multiCursorPaste:ve(new S(68,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[T.N("multiCursorPaste.spread","Each cursor pastes a single line of the text."),T.N("multiCursorPaste.full","Each cursor pastes the full text.")],markdownDescription:T.N("multiCursorPaste","Controls pasting when the line count of the pasted text matches the cursor count.")})),occurrencesHighlight:ve(new b(69,"occurrencesHighlight",!0,{description:T.N("occurrencesHighlight","Controls whether the editor should highlight semantic symbol occurrences.")})),overviewRulerBorder:ve(new b(70,"overviewRulerBorder",!0,{description:T.N("overviewRulerBorder","Controls whether a border should be drawn around the overview ruler.")})),overviewRulerLanes:ve(new I(71,"overviewRulerLanes",3,0,3)),padding:ve(new class extends R{constructor(){super(72,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:T.N("padding.top","Controls the amount of space between the top edge of the editor and the first line.")},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:T.N("padding.bottom","Controls the amount of space between the bottom edge of the editor and the last line.")}})}validate(De){if(!De||"object"!=typeof De)return this.defaultValue;const Le=De;return{top:I.clampedInt(Le.top,0,0,1e3),bottom:I.clampedInt(Le.bottom,0,0,1e3)}}}),parameterHints:ve(new class extends R{constructor(){const De={enabled:!0,cycle:!1};super(73,"parameterHints",De,{"editor.parameterHints.enabled":{type:"boolean",default:De.enabled,description:T.N("parameterHints.enabled","Enables a pop-up that shows parameter documentation and type information as you type.")},"editor.parameterHints.cycle":{type:"boolean",default:De.cycle,description:T.N("parameterHints.cycle","Controls whether the parameter hints menu cycles or closes when reaching the end of the list.")}})}validate(De){if(!De||"object"!=typeof De)return this.defaultValue;const Le=De;return{enabled:g(Le.enabled,this.defaultValue.enabled),cycle:g(Le.cycle,this.defaultValue.cycle)}}}),peekWidgetDefaultFocus:ve(new S(74,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[T.N("peekWidgetDefaultFocus.tree","Focus the tree when opening peek"),T.N("peekWidgetDefaultFocus.editor","Focus the editor when opening peek")],description:T.N("peekWidgetDefaultFocus","Controls whether to focus the inline editor or the tree in the peek widget.")})),definitionLinkOpensInPeek:ve(new b(75,"definitionLinkOpensInPeek",!1,{description:T.N("definitionLinkOpensInPeek","Controls whether the Go to Definition mouse gesture always opens the peek widget.")})),quickSuggestions:ve(new class extends R{constructor(){const De={other:!0,comments:!1,strings:!1};super(76,"quickSuggestions",De,{anyOf:[{type:"boolean"},{type:"object",properties:{strings:{type:"boolean",default:De.strings,description:T.N("quickSuggestions.strings","Enable quick suggestions inside strings.")},comments:{type:"boolean",default:De.comments,description:T.N("quickSuggestions.comments","Enable quick suggestions inside comments.")},other:{type:"boolean",default:De.other,description:T.N("quickSuggestions.other","Enable quick suggestions outside of strings and comments.")}}}],default:De,description:T.N("quickSuggestions","Controls whether suggestions should automatically show up while typing.")}),this.defaultValue=De}validate(De){if("boolean"==typeof De)return De;if(De&&"object"==typeof De){const Le=De,dt={other:g(Le.other,this.defaultValue.other),comments:g(Le.comments,this.defaultValue.comments),strings:g(Le.strings,this.defaultValue.strings)};return!!(dt.other&&dt.comments&&dt.strings)||!!(dt.other||dt.comments||dt.strings)&&dt}return this.defaultValue}}),quickSuggestionsDelay:ve(new I(77,"quickSuggestionsDelay",10,0,1073741824,{description:T.N("quickSuggestionsDelay","Controls the delay in milliseconds after which quick suggestions will show up.")})),readOnly:ve(new b(78,"readOnly",!1)),renameOnType:ve(new b(79,"renameOnType",!1,{description:T.N("renameOnType","Controls whether the editor auto renames on type."),markdownDeprecationMessage:T.N("renameOnTypeDeprecate","Deprecated, use `editor.linkedEditing` instead.")})),renderControlCharacters:ve(new b(80,"renderControlCharacters",!1,{description:T.N("renderControlCharacters","Controls whether the editor should render control characters.")})),renderIndentGuides:ve(new b(81,"renderIndentGuides",!0,{description:T.N("renderIndentGuides","Controls whether the editor should render indent guides.")})),renderFinalNewline:ve(new b(82,"renderFinalNewline",!0,{description:T.N("renderFinalNewline","Render last line number when the file ends with a newline.")})),renderLineHighlight:ve(new S(83,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",T.N("renderLineHighlight.all","Highlights both the gutter and the current line.")],description:T.N("renderLineHighlight","Controls how the editor should render the current line highlight.")})),renderLineHighlightOnlyWhenFocus:ve(new b(84,"renderLineHighlightOnlyWhenFocus",!1,{description:T.N("renderLineHighlightOnlyWhenFocus","Controls if the editor should render the current line highlight only when the editor is focused.")})),renderValidationDecorations:ve(new S(85,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:ve(new S(86,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",T.N("renderWhitespace.boundary","Render whitespace characters except for single spaces between words."),T.N("renderWhitespace.selection","Render whitespace characters only on selected text."),T.N("renderWhitespace.trailing","Render only trailing whitespace characters."),""],description:T.N("renderWhitespace","Controls how the editor should render whitespace characters.")})),revealHorizontalRightPadding:ve(new I(87,"revealHorizontalRightPadding",30,0,1e3)),roundedSelection:ve(new b(88,"roundedSelection",!0,{description:T.N("roundedSelection","Controls whether selections should have rounded corners.")})),rulers:ve(new class extends R{constructor(){const De=[],Le={type:"number",description:T.N("rulers.size","Number of monospace characters at which this editor ruler will render.")};super(89,"rulers",De,{type:"array",items:{anyOf:[Le,{type:["object"],properties:{column:Le,color:{type:"string",description:T.N("rulers.color","Color of this editor ruler."),format:"color-hex"}}}]},default:De,description:T.N("rulers","Render vertical rulers after a certain number of monospace characters. Use multiple values for multiple rulers. No rulers are drawn if array is empty.")})}validate(De){if(Array.isArray(De)){let Le=[];for(let dt of De)if("number"==typeof dt)Le.push({column:I.clampedInt(dt,0,0,1e4),color:null});else if(dt&&"object"==typeof dt){const _t=dt;Le.push({column:I.clampedInt(_t.column,0,0,1e4),color:_t.color})}return Le.sort((dt,_t)=>dt.column-_t.column),Le}return this.defaultValue}}),scrollbar:ve(new class extends R{constructor(){const De={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1};super(90,"scrollbar",De,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[T.N("scrollbar.vertical.auto","The vertical scrollbar will be visible only when necessary."),T.N("scrollbar.vertical.visible","The vertical scrollbar will always be visible."),T.N("scrollbar.vertical.fit","The vertical scrollbar will always be hidden.")],default:"auto",description:T.N("scrollbar.vertical","Controls the visibility of the vertical scrollbar.")},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[T.N("scrollbar.horizontal.auto","The horizontal scrollbar will be visible only when necessary."),T.N("scrollbar.horizontal.visible","The horizontal scrollbar will always be visible."),T.N("scrollbar.horizontal.fit","The horizontal scrollbar will always be hidden.")],default:"auto",description:T.N("scrollbar.horizontal","Controls the visibility of the horizontal scrollbar.")},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:De.verticalScrollbarSize,description:T.N("scrollbar.verticalScrollbarSize","The width of the vertical scrollbar.")},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:De.horizontalScrollbarSize,description:T.N("scrollbar.horizontalScrollbarSize","The height of the horizontal scrollbar.")},"editor.scrollbar.scrollByPage":{type:"boolean",default:De.scrollByPage,description:T.N("scrollbar.scrollByPage","Controls whether clicks scroll by page or jump to click position.")}})}validate(De){if(!De||"object"!=typeof De)return this.defaultValue;const Le=De,dt=I.clampedInt(Le.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),_t=I.clampedInt(Le.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:I.clampedInt(Le.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:fe(Le.vertical,this.defaultValue.vertical),horizontal:fe(Le.horizontal,this.defaultValue.horizontal),useShadows:g(Le.useShadows,this.defaultValue.useShadows),verticalHasArrows:g(Le.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:g(Le.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:g(Le.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:g(Le.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:dt,horizontalSliderSize:I.clampedInt(Le.horizontalSliderSize,dt,0,1e3),verticalScrollbarSize:_t,verticalSliderSize:I.clampedInt(Le.verticalSliderSize,_t,0,1e3),scrollByPage:g(Le.scrollByPage,this.defaultValue.scrollByPage)}}}),scrollBeyondLastColumn:ve(new I(91,"scrollBeyondLastColumn",5,0,1073741824,{description:T.N("scrollBeyondLastColumn","Controls the number of extra characters beyond which the editor will scroll horizontally.")})),scrollBeyondLastLine:ve(new b(92,"scrollBeyondLastLine",!0,{description:T.N("scrollBeyondLastLine","Controls whether the editor will scroll beyond the last line.")})),scrollPredominantAxis:ve(new b(93,"scrollPredominantAxis",!0,{description:T.N("scrollPredominantAxis","Scroll only along the predominant axis when scrolling both vertically and horizontally at the same time. Prevents horizontal drift when scrolling vertically on a trackpad.")})),selectionClipboard:ve(new b(94,"selectionClipboard",!0,{description:T.N("selectionClipboard","Controls whether the Linux primary clipboard should be supported."),included:U.IJ})),selectionHighlight:ve(new b(95,"selectionHighlight",!0,{description:T.N("selectionHighlight","Controls whether the editor should highlight matches similar to the selection.")})),selectOnLineNumbers:ve(new b(96,"selectOnLineNumbers",!0)),showFoldingControls:ve(new S(97,"showFoldingControls","mouseover",["always","mouseover"],{enumDescriptions:[T.N("showFoldingControls.always","Always show the folding controls."),T.N("showFoldingControls.mouseover","Only show the folding controls when the mouse is over the gutter.")],description:T.N("showFoldingControls","Controls when the folding controls on the gutter are shown.")})),showUnused:ve(new b(98,"showUnused",!0,{description:T.N("showUnused","Controls fading out of unused code.")})),showDeprecated:ve(new b(123,"showDeprecated",!0,{description:T.N("showDeprecated","Controls strikethrough deprecated variables.")})),inlayHints:ve(new class extends R{constructor(){const De={enabled:!0,fontSize:0,fontFamily:ot.fontFamily};super(124,"inlayHints",De,{"editor.inlayHints.enabled":{type:"boolean",default:De.enabled,description:T.N("inlayHints.enable","Enables the inlay hints in the editor.")},"editor.inlayHints.fontSize":{type:"number",default:De.fontSize,markdownDescription:T.N("inlayHints.fontSize","Controls font size of inlay hints in the editor. When set to `0`, the 90% of `#editor.fontSize#` is used.")},"editor.inlayHints.fontFamily":{type:"string",default:De.fontFamily,description:T.N("inlayHints.fontFamily","Controls font family of inlay hints in the editor.")}})}validate(De){if(!De||"object"!=typeof De)return this.defaultValue;const Le=De;return{enabled:g(Le.enabled,this.defaultValue.enabled),fontSize:I.clampedInt(Le.fontSize,this.defaultValue.fontSize,0,100),fontFamily:w.string(Le.fontFamily,this.defaultValue.fontFamily)}}}),snippetSuggestions:ve(new S(99,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[T.N("snippetSuggestions.top","Show snippet suggestions on top of other suggestions."),T.N("snippetSuggestions.bottom","Show snippet suggestions below other suggestions."),T.N("snippetSuggestions.inline","Show snippets suggestions with other suggestions."),T.N("snippetSuggestions.none","Do not show snippet suggestions.")],description:T.N("snippetSuggestions","Controls whether snippets are shown with other suggestions and how they are sorted.")})),smartSelect:ve(new class extends R{constructor(){super(100,"smartSelect",{selectLeadingAndTrailingWhitespace:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:T.N("selectLeadingAndTrailingWhitespace","Whether leading and trailing whitespace should always be selected."),default:!0,type:"boolean"}})}validate(De){return De&&"object"==typeof De?{selectLeadingAndTrailingWhitespace:g(De.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace)}:this.defaultValue}}),smoothScrolling:ve(new b(101,"smoothScrolling",!1,{description:T.N("smoothScrolling","Controls whether the editor will scroll using an animation.")})),stopRenderingLineAfter:ve(new I(103,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:ve(new class extends R{constructor(){const De={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!0,localityBonus:!1,shareSuggestSelections:!1,showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"prefix",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(104,"suggest",De,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[T.N("suggest.insertMode.insert","Insert suggestion without overwriting text right of the cursor."),T.N("suggest.insertMode.replace","Insert suggestion and overwrite text right of the cursor.")],default:De.insertMode,description:T.N("suggest.insertMode","Controls whether words are overwritten when accepting completions. Note that this depends on extensions opting into this feature.")},"editor.suggest.filterGraceful":{type:"boolean",default:De.filterGraceful,description:T.N("suggest.filterGraceful","Controls whether filtering and sorting suggestions accounts for small typos.")},"editor.suggest.localityBonus":{type:"boolean",default:De.localityBonus,description:T.N("suggest.localityBonus","Controls whether sorting favors words that appear close to the cursor.")},"editor.suggest.shareSuggestSelections":{type:"boolean",default:De.shareSuggestSelections,markdownDescription:T.N("suggest.shareSuggestSelections","Controls whether remembered suggestion selections are shared between multiple workspaces and windows (needs `#editor.suggestSelection#`).")},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:De.snippetsPreventQuickSuggestions,description:T.N("suggest.snippetsPreventQuickSuggestions","Controls whether an active snippet prevents quick suggestions.")},"editor.suggest.showIcons":{type:"boolean",default:De.showIcons,description:T.N("suggest.showIcons","Controls whether to show or hide icons in suggestions.")},"editor.suggest.showStatusBar":{type:"boolean",default:De.showStatusBar,description:T.N("suggest.showStatusBar","Controls the visibility of the status bar at the bottom of the suggest widget.")},"editor.suggest.preview":{type:"boolean",default:De.preview,description:T.N("suggest.preview","Controls whether to preview the suggestion outcome in the editor.")},"editor.suggest.previewMode":{type:"string",enum:["prefix","subwordDiff"],enumDescriptions:[T.N("suggest.previewMode.prefix","Only render a preview if the replace text is a prefix of the insert text."),T.N("suggest.previewMode.subwordDiff","Only render a preview if the replace text is a subword of the insert text.")],default:De.previewMode,description:T.N("suggest.previewMode","Controls which mode to use for rendering the suggest preview.")},"editor.suggest.showInlineDetails":{type:"boolean",default:De.showInlineDetails,description:T.N("suggest.showInlineDetails","Controls whether suggest details show inline with the label or only in the details widget")},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:T.N("suggest.maxVisibleSuggestions.dep","This setting is deprecated. The suggest widget can now be resized.")},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:T.N("deprecated","This setting is deprecated, please use separate settings like 'editor.suggest.showKeywords' or 'editor.suggest.showSnippets' instead.")},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:T.N("editor.suggest.showMethods","When enabled IntelliSense shows `method`-suggestions.")},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:T.N("editor.suggest.showFunctions","When enabled IntelliSense shows `function`-suggestions.")},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:T.N("editor.suggest.showConstructors","When enabled IntelliSense shows `constructor`-suggestions.")},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:T.N("editor.suggest.showDeprecated","When enabled IntelliSense shows `deprecated`-suggestions.")},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:T.N("editor.suggest.showFields","When enabled IntelliSense shows `field`-suggestions.")},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:T.N("editor.suggest.showVariables","When enabled IntelliSense shows `variable`-suggestions.")},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:T.N("editor.suggest.showClasss","When enabled IntelliSense shows `class`-suggestions.")},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:T.N("editor.suggest.showStructs","When enabled IntelliSense shows `struct`-suggestions.")},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:T.N("editor.suggest.showInterfaces","When enabled IntelliSense shows `interface`-suggestions.")},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:T.N("editor.suggest.showModules","When enabled IntelliSense shows `module`-suggestions.")},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:T.N("editor.suggest.showPropertys","When enabled IntelliSense shows `property`-suggestions.")},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:T.N("editor.suggest.showEvents","When enabled IntelliSense shows `event`-suggestions.")},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:T.N("editor.suggest.showOperators","When enabled IntelliSense shows `operator`-suggestions.")},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:T.N("editor.suggest.showUnits","When enabled IntelliSense shows `unit`-suggestions.")},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:T.N("editor.suggest.showValues","When enabled IntelliSense shows `value`-suggestions.")},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:T.N("editor.suggest.showConstants","When enabled IntelliSense shows `constant`-suggestions.")},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:T.N("editor.suggest.showEnums","When enabled IntelliSense shows `enum`-suggestions.")},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:T.N("editor.suggest.showEnumMembers","When enabled IntelliSense shows `enumMember`-suggestions.")},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:T.N("editor.suggest.showKeywords","When enabled IntelliSense shows `keyword`-suggestions.")},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:T.N("editor.suggest.showTexts","When enabled IntelliSense shows `text`-suggestions.")},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:T.N("editor.suggest.showColors","When enabled IntelliSense shows `color`-suggestions.")},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:T.N("editor.suggest.showFiles","When enabled IntelliSense shows `file`-suggestions.")},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:T.N("editor.suggest.showReferences","When enabled IntelliSense shows `reference`-suggestions.")},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:T.N("editor.suggest.showCustomcolors","When enabled IntelliSense shows `customcolor`-suggestions.")},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:T.N("editor.suggest.showFolders","When enabled IntelliSense shows `folder`-suggestions.")},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:T.N("editor.suggest.showTypeParameters","When enabled IntelliSense shows `typeParameter`-suggestions.")},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:T.N("editor.suggest.showSnippets","When enabled IntelliSense shows `snippet`-suggestions.")},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:T.N("editor.suggest.showUsers","When enabled IntelliSense shows `user`-suggestions.")},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:T.N("editor.suggest.showIssues","When enabled IntelliSense shows `issues`-suggestions.")}})}validate(De){if(!De||"object"!=typeof De)return this.defaultValue;const Le=De;return{insertMode:E(Le.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:g(Le.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:g(Le.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:g(Le.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:g(Le.shareSuggestSelections,this.defaultValue.shareSuggestSelections),showIcons:g(Le.showIcons,this.defaultValue.showIcons),showStatusBar:g(Le.showStatusBar,this.defaultValue.showStatusBar),preview:g(Le.preview,this.defaultValue.preview),previewMode:E(Le.previewMode,this.defaultValue.previewMode,["prefix","subwordDiff"]),showInlineDetails:g(Le.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:g(Le.showMethods,this.defaultValue.showMethods),showFunctions:g(Le.showFunctions,this.defaultValue.showFunctions),showConstructors:g(Le.showConstructors,this.defaultValue.showConstructors),showDeprecated:g(Le.showDeprecated,this.defaultValue.showDeprecated),showFields:g(Le.showFields,this.defaultValue.showFields),showVariables:g(Le.showVariables,this.defaultValue.showVariables),showClasses:g(Le.showClasses,this.defaultValue.showClasses),showStructs:g(Le.showStructs,this.defaultValue.showStructs),showInterfaces:g(Le.showInterfaces,this.defaultValue.showInterfaces),showModules:g(Le.showModules,this.defaultValue.showModules),showProperties:g(Le.showProperties,this.defaultValue.showProperties),showEvents:g(Le.showEvents,this.defaultValue.showEvents),showOperators:g(Le.showOperators,this.defaultValue.showOperators),showUnits:g(Le.showUnits,this.defaultValue.showUnits),showValues:g(Le.showValues,this.defaultValue.showValues),showConstants:g(Le.showConstants,this.defaultValue.showConstants),showEnums:g(Le.showEnums,this.defaultValue.showEnums),showEnumMembers:g(Le.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:g(Le.showKeywords,this.defaultValue.showKeywords),showWords:g(Le.showWords,this.defaultValue.showWords),showColors:g(Le.showColors,this.defaultValue.showColors),showFiles:g(Le.showFiles,this.defaultValue.showFiles),showReferences:g(Le.showReferences,this.defaultValue.showReferences),showFolders:g(Le.showFolders,this.defaultValue.showFolders),showTypeParameters:g(Le.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:g(Le.showSnippets,this.defaultValue.showSnippets),showUsers:g(Le.showUsers,this.defaultValue.showUsers),showIssues:g(Le.showIssues,this.defaultValue.showIssues)}}}),inlineSuggest:ve(new class extends R{constructor(){const De={enabled:!1,mode:"subwordDiff"};super(52,"inlineSuggest",De,{"editor.inlineSuggest.enabled":{type:"boolean",default:De.enabled,description:T.N("inlineSuggest.enabled","Controls whether to automatically show inline suggestions in the editor.")},"editor.inlineSuggest.mode":{type:"string",enum:["prefix","subwordDiff"],enumDescriptions:[T.N("inlineSuggest.mode.prefix","Only render an inline suggestion if the replace text is a prefix of the insert text."),T.N("inlineSuggest.mode.subwordDiff","Only render an inline suggestion if the replace text is a subword of the insert text.")],default:De.mode,description:T.N("inlineSuggest.mode","Controls which mode to use for rendering inline suggestions.")}})}validate(De){if(!De||"object"!=typeof De)return this.defaultValue;const Le=De;return{enabled:g(Le.enabled,this.defaultValue.enabled),mode:E(Le.mode,this.defaultValue.mode,["prefix","subwordDiff"])}}}),suggestFontSize:ve(new I(105,"suggestFontSize",0,0,1e3,{markdownDescription:T.N("suggestFontSize","Font size for the suggest widget. When set to `0`, the value of `#editor.fontSize#` is used.")})),suggestLineHeight:ve(new I(106,"suggestLineHeight",0,0,1e3,{markdownDescription:T.N("suggestLineHeight","Line height for the suggest widget. When set to `0`, the value of `#editor.lineHeight#` is used. The minimum value is 8.")})),suggestOnTriggerCharacters:ve(new b(107,"suggestOnTriggerCharacters",!0,{description:T.N("suggestOnTriggerCharacters","Controls whether suggestions should automatically show up when typing trigger characters.")})),suggestSelection:ve(new S(108,"suggestSelection","recentlyUsed",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[T.N("suggestSelection.first","Always select the first suggestion."),T.N("suggestSelection.recentlyUsed","Select recent suggestions unless further typing selects one, e.g. `console.| -> console.log` because `log` has been completed recently."),T.N("suggestSelection.recentlyUsedByPrefix","Select suggestions based on previous prefixes that have completed those suggestions, e.g. `co -> console` and `con -> const`.")],description:T.N("suggestSelection","Controls how suggestions are pre-selected when showing the suggest list.")})),tabCompletion:ve(new S(109,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[T.N("tabCompletion.on","Tab complete will insert the best matching suggestion when pressing tab."),T.N("tabCompletion.off","Disable tab completions."),T.N("tabCompletion.onlySnippets","Tab complete snippets when their prefix match. Works best when 'quickSuggestions' aren't enabled.")],description:T.N("tabCompletion","Enables tab completions.")})),tabIndex:ve(new I(110,"tabIndex",0,-1,1073741824)),unusualLineTerminators:ve(new S(111,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[T.N("unusualLineTerminators.auto","Unusual line terminators are automatically removed."),T.N("unusualLineTerminators.off","Unusual line terminators are ignored."),T.N("unusualLineTerminators.prompt","Unusual line terminators prompt to be removed.")],description:T.N("unusualLineTerminators","Remove unusual line terminators that might cause problems.")})),useShadowDOM:ve(new b(112,"useShadowDOM",!0)),useTabStops:ve(new b(113,"useTabStops",!0,{description:T.N("useTabStops","Inserting and deleting whitespace follows tab stops.")})),wordSeparators:ve(new w(114,"wordSeparators",j.vu,{description:T.N("wordSeparators","Characters that will be used as word separators when doing word related navigations or operations.")})),wordWrap:ve(new S(115,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[T.N("wordWrap.off","Lines will never wrap."),T.N("wordWrap.on","Lines will wrap at the viewport width."),T.N({key:"wordWrap.wordWrapColumn",comment:["- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at `#editor.wordWrapColumn#`."),T.N({key:"wordWrap.bounded",comment:["- viewport means the edge of the visible window size.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at the minimum of viewport and `#editor.wordWrapColumn#`.")],description:T.N({key:"wordWrap",comment:["- 'off', 'on', 'wordWrapColumn' and 'bounded' refer to values the setting can take and should not be localized.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Controls how lines should wrap.")})),wordWrapBreakAfterCharacters:ve(new w(116,"wordWrapBreakAfterCharacters"," \t})]?|/&.,;\xa2\xb0\u2032\u2033\u2030\u2103\u3001\u3002\uff61\uff64\uffe0\uff0c\uff0e\uff1a\uff1b\uff1f\uff01\uff05\u30fb\uff65\u309d\u309e\u30fd\u30fe\u30fc\u30a1\u30a3\u30a5\u30a7\u30a9\u30c3\u30e3\u30e5\u30e7\u30ee\u30f5\u30f6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308e\u3095\u3096\u31f0\u31f1\u31f2\u31f3\u31f4\u31f5\u31f6\u31f7\u31f8\u31f9\u31fa\u31fb\u31fc\u31fd\u31fe\u31ff\u3005\u303b\uff67\uff68\uff69\uff6a\uff6b\uff6c\uff6d\uff6e\uff6f\uff70\u201d\u3009\u300b\u300d\u300f\u3011\u3015\uff09\uff3d\uff5d\uff63")),wordWrapBreakBeforeCharacters:ve(new w(117,"wordWrapBreakBeforeCharacters","([{\u2018\u201c\u3008\u300a\u300c\u300e\u3010\u3014\uff08\uff3b\uff5b\uff62\xa3\xa5\uff04\uffe1\uffe5+\uff0b")),wordWrapColumn:ve(new I(118,"wordWrapColumn",80,1,1073741824,{markdownDescription:T.N({key:"wordWrapColumn",comment:["- `editor.wordWrap` refers to a different setting and should not be localized.","- 'wordWrapColumn' and 'bounded' refer to values the different setting can take and should not be localized."]},"Controls the wrapping column of the editor when `#editor.wordWrap#` is `wordWrapColumn` or `bounded`.")})),wordWrapOverride1:ve(new S(119,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:ve(new S(120,"wordWrapOverride2","inherit",["off","on","inherit"])),wrappingIndent:ve(new v(121,"wrappingIndent",1,"same",["none","same","indent","deepIndent"],function(Ge){switch(Ge){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}},{enumDescriptions:[T.N("wrappingIndent.none","No indentation. Wrapped lines begin at column 1."),T.N("wrappingIndent.same","Wrapped lines get the same indentation as the parent."),T.N("wrappingIndent.indent","Wrapped lines get +1 indentation toward the parent."),T.N("wrappingIndent.deepIndent","Wrapped lines get +2 indentation toward the parent.")],description:T.N("wrappingIndent","Controls the indentation of wrapped lines.")})),wrappingStrategy:ve(new S(122,"wrappingStrategy","simple",["simple","advanced"],{enumDescriptions:[T.N("wrappingStrategy.simple","Assumes that all characters are of the same width. This is a fast algorithm that works correctly for monospace fonts and certain scripts (like Latin characters) where glyphs are of equal width."),T.N("wrappingStrategy.advanced","Delegates wrapping points computation to the browser. This is a slow algorithm, that might cause freezes for large files, but it works correctly in all cases.")],description:T.N("wrappingStrategy","Controls the algorithm that computes wrapping points.")})),editorClassName:ve(new class extends d{constructor(){super(125,[63,31])}compute(De,Le,dt){const _t=["monaco-editor"];return Le.get(31)&&_t.push(Le.get(31)),De.extraEditorClassName&&_t.push(De.extraEditorClassName),"default"===Le.get(63)?_t.push("mouse-default"):"copy"===Le.get(63)&&_t.push("mouse-copy"),Le.get(98)&&_t.push("showUnused"),Le.get(123)&&_t.push("showDeprecated"),_t.join(" ")}}),pixelRatio:ve(new class extends d{constructor(){super(126)}compute(De,Le,dt){return De.pixelRatio}}),tabFocusMode:ve(new class extends d{constructor(){super(127,[78])}compute(De,Le,dt){return!!Le.get(78)||De.tabFocusMode}}),layoutInfo:ve(new ie),wrappingInfo:ve(new class extends d{constructor(){super(129,[128])}compute(De,Le,dt){const _t=Le.get(128);return{isDominatedByLongLines:De.isDominatedByLongLines,isWordWrapMinified:_t.isWordWrapMinified,isViewportWrapping:_t.isViewportWrapping,wrappingColumn:_t.wrappingColumn}}})}},2303:(Ct,Qe,a)=>{"use strict";a.d(Qe,{C:()=>U});var T=a(6723);const U=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new T.Q5,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(j){j=Math.min(Math.max(-5,j),20),this._zoomLevel!==j&&(this._zoomLevel=j,this._onDidChangeZoomLevel.fire(this._zoomLevel))}}},5111:(Ct,Qe,a)=>{"use strict";a.d(Qe,{E4:()=>k,pR:()=>B});var T=a(9190),U=a(2303);const j=T.dz?1.5:1.35;class k{constructor(d){this._bareFontInfoBrand=void 0,this.zoomLevel=d.zoomLevel,this.pixelRatio=d.pixelRatio,this.fontFamily=String(d.fontFamily),this.fontWeight=String(d.fontWeight),this.fontSize=d.fontSize,this.fontFeatureSettings=d.fontFeatureSettings,this.lineHeight=0|d.lineHeight,this.letterSpacing=d.letterSpacing}static createFromValidatedSettings(d,C,g,b){const I=d.get(39),p=d.get(43),w=d.get(42),E=d.get(41),S=d.get(56),v=d.get(53);return k._create(I,p,w,E,S,v,C,g,b)}static _create(d,C,g,b,I,p,w,E,S){0===I?I=j*g:I<8&&(I*=g),(I=Math.round(I))<8&&(I=8);const v=1+(S?0:.1*U.C.getZoomLevel());return new k({zoomLevel:w,pixelRatio:E,fontFamily:d,fontWeight:C,fontSize:g*=v,fontFeatureSettings:b,lineHeight:I*=v,letterSpacing:p})}getId(){return this.zoomLevel+"-"+this.pixelRatio+"-"+this.fontFamily+"-"+this.fontWeight+"-"+this.fontSize+"-"+this.fontFeatureSettings+"-"+this.lineHeight+"-"+this.letterSpacing}getMassagedFontFamily(){return/[,"']/.test(this.fontFamily)?this.fontFamily:/[+ ]/.test(this.fontFamily)?`"${this.fontFamily}"`:this.fontFamily}}class B extends k{constructor(d,C){super(d),this._editorStylingBrand=void 0,this.version=1,this.isTrusted=C,this.isMonospace=d.isMonospace,this.typicalHalfwidthCharacterWidth=d.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=d.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=d.canUseHalfwidthRightwardsArrow,this.spaceWidth=d.spaceWidth,this.middotWidth=d.middotWidth,this.wsmiddotWidth=d.wsmiddotWidth,this.maxDigitWidth=d.maxDigitWidth}equals(d){return this.fontFamily===d.fontFamily&&this.fontWeight===d.fontWeight&&this.fontSize===d.fontSize&&this.fontFeatureSettings===d.fontFeatureSettings&&this.lineHeight===d.lineHeight&&this.letterSpacing===d.letterSpacing&&this.typicalHalfwidthCharacterWidth===d.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===d.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===d.canUseHalfwidthRightwardsArrow&&this.spaceWidth===d.spaceWidth&&this.middotWidth===d.middotWidth&&this.wsmiddotWidth===d.wsmiddotWidth&&this.maxDigitWidth===d.maxDigitWidth}}},5078:(Ct,Qe,a)=>{"use strict";a.d(Qe,{l:()=>U});var T=a(5);class U{static whitespaceVisibleColumn(O,k,$){const B=O.length;let R=0,d=-1,C=-1;for(let g=0;g<B;g++){if(g===k)return[d,C,R];switch(R%$==0&&(d=g,C=R),O.charCodeAt(g)){case 32:R+=1;break;case 9:R=T.io.nextRenderTabStop(R,$);break;default:return[-1,-1,-1]}}return k===B?[d,C,R]:[-1,-1,-1]}static atomicPosition(O,k,$,B){const R=O.length,[d,C,g]=U.whitespaceVisibleColumn(O,k,$);if(-1===g)return-1;let b;switch(B){case 0:b=!0;break;case 1:b=!1;break;case 2:if(g%$==0)return k;b=g%$<=$/2}if(b){if(-1===d)return-1;let w=C;for(let E=d;E<R;++E){if(w===C+$)return d;switch(O.charCodeAt(E)){case 32:w+=1;break;case 9:w=T.io.nextRenderTabStop(w,$);break;default:return-1}}return w===C+$?d:-1}const I=T.io.nextRenderTabStop(g,$);let p=g;for(let w=k;w<R;w++){if(p===I)return w;switch(O.charCodeAt(w)){case 32:p+=1;break;case 9:p=T.io.nextRenderTabStop(p,$);break;default:return-1}}return p===I?R:-1}}},5:(Ct,Qe,a)=>{"use strict";a.d(Qe,{LM:()=>g,rS:()=>b,zp:()=>I,Vi:()=>E,Tp:()=>S,io:()=>v,LN:()=>M});var T=a(5160),U=a(579),j=a(2109),O=a(8487),k=a(9730),$=a(111),B=a(2587);const R=()=>!0,d=()=>!1,C=_=>" "===_||"\t"===_;class g{constructor(f,m,L){this._cursorMoveConfigurationBrand=void 0,this._languageIdentifier=f;const F=L.options,G=F.get(128);this.readOnly=F.get(78),this.tabSize=m.tabSize,this.indentSize=m.indentSize,this.insertSpaces=m.insertSpaces,this.stickyTabStops=F.get(102),this.lineHeight=F.get(56),this.pageSize=Math.max(1,Math.floor(G.height/this.lineHeight)-2),this.useTabStops=F.get(113),this.wordSeparators=F.get(114),this.emptySelectionClipboard=F.get(30),this.copyWithSyntaxHighlighting=F.get(19),this.multiCursorMergeOverlapping=F.get(66),this.multiCursorPaste=F.get(68),this.autoClosingBrackets=F.get(5),this.autoClosingQuotes=F.get(8),this.autoClosingDelete=F.get(6),this.autoClosingOvertype=F.get(7),this.autoSurround=F.get(11),this.autoIndent=F.get(9),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:g._getShouldAutoClose(f,this.autoClosingQuotes),bracket:g._getShouldAutoClose(f,this.autoClosingBrackets)},this.autoClosingPairs=B.zu.getAutoClosingPairs(f.id);let Y=g._getSurroundingPairs(f);if(Y)for(const de of Y)this.surroundingPairs[de.open]=de.close}static shouldRecreate(f){return f.hasChanged(128)||f.hasChanged(114)||f.hasChanged(30)||f.hasChanged(66)||f.hasChanged(68)||f.hasChanged(5)||f.hasChanged(8)||f.hasChanged(6)||f.hasChanged(7)||f.hasChanged(11)||f.hasChanged(113)||f.hasChanged(56)||f.hasChanged(78)}get electricChars(){if(!this._electricChars){this._electricChars={};let f=g._getElectricCharacters(this._languageIdentifier);if(f)for(const m of f)this._electricChars[m]=!0}return this._electricChars}normalizeIndentation(f){return $.yO.normalizeIndentation(f,this.indentSize,this.insertSpaces)}static _getElectricCharacters(f){try{return B.zu.getElectricCharacters(f.id)}catch(m){return(0,T.dL)(m),null}}static _getShouldAutoClose(f,m){switch(m){case"beforeWhitespace":return C;case"languageDefined":return g._getLanguageDefinedShouldAutoClose(f);case"always":return R;case"never":return d}}static _getLanguageDefinedShouldAutoClose(f){try{const m=B.zu.getAutoCloseBeforeSet(f.id);return L=>-1!==m.indexOf(L)}catch(m){return(0,T.dL)(m),d}}static _getSurroundingPairs(f){try{return B.zu.getSurroundingPairs(f.id)}catch(m){return(0,T.dL)(m),null}}}class b{constructor(f,m,L,F){this._singleCursorStateBrand=void 0,this.selectionStart=f,this.selectionStartLeftoverVisibleColumns=m,this.position=L,this.leftoverVisibleColumns=F,this.selection=b._computeSelection(this.selectionStart,this.position)}equals(f){return this.selectionStartLeftoverVisibleColumns===f.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===f.leftoverVisibleColumns&&this.position.equals(f.position)&&this.selectionStart.equalsRange(f.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(f,m,L,F){return f?new b(this.selectionStart,this.selectionStartLeftoverVisibleColumns,new j.L(m,L),F):new b(new O.e(m,L,m,L),F,new j.L(m,L),F)}static _computeSelection(f,m){let L,F,G,Y;return f.isEmpty()?(L=f.startLineNumber,F=f.startColumn,G=m.lineNumber,Y=m.column):m.isBeforeOrEqual(f.getStartPosition())?(L=f.endLineNumber,F=f.endColumn,G=m.lineNumber,Y=m.column):(L=f.startLineNumber,F=f.startColumn,G=m.lineNumber,Y=m.column),new k.Y(L,F,G,Y)}}class I{constructor(f,m,L){this._cursorContextBrand=void 0,this.model=f,this.coordinatesConverter=m,this.cursorConfig=L}}class p{constructor(f){this.modelState=f,this.viewState=null}}class w{constructor(f){this.modelState=null,this.viewState=f}}class E{constructor(f,m){this._cursorStateBrand=void 0,this.modelState=f,this.viewState=m}static fromModelState(f){return new p(f)}static fromViewState(f){return new w(f)}static fromModelSelection(f){const m=f.selectionStartLineNumber,L=f.selectionStartColumn,F=f.positionLineNumber,G=f.positionColumn,Y=new b(new O.e(m,L,m,L),0,new j.L(F,G),0);return E.fromModelState(Y)}static fromModelSelections(f){let m=[];for(let L=0,F=f.length;L<F;L++)m[L]=this.fromModelSelection(f[L]);return m}equals(f){return this.viewState.equals(f.viewState)&&this.modelState.equals(f.modelState)}}class S{constructor(f,m,L){this._editOperationResultBrand=void 0,this.type=f,this.commands=m,this.shouldPushStackElementBefore=L.shouldPushStackElementBefore,this.shouldPushStackElementAfter=L.shouldPushStackElementAfter}}class v{static visibleColumnFromColumn(f,m,L){const F=f.length,G=m-1<F?m-1:F;let Y=0,de=0;for(;de<G;){const le=U.ZH(f,G,de);if(de+=le>=65536?2:1,9===le)Y=v.nextRenderTabStop(Y,L);else{let ce=U.S6(le);for(;de<G;){const be=U.ZH(f,G,de),N=U.S6(be);if(U.fi(ce,N))break;de+=be>=65536?2:1,ce=N}U.K7(le)||U.C8(le)?Y+=2:Y+=1}}return Y}static visibleColumnsByColumns(f,m){const L=f.length;let F=new Array;F.push(-1);let G=0,Y=0;for(;Y<L;){const de=U.ZH(f,L,Y);if(Y+=de>=65536?2:1,F.push(G),de>=65536&&F.push(G),9===de)G=v.nextRenderTabStop(G,m);else{let le=U.S6(de);for(;Y<L;){const ce=U.ZH(f,L,Y),be=U.S6(ce);if(U.fi(le,be))break;Y+=ce>=65536?2:1,F.push(G),de>=65536&&F.push(G),le=be}U.K7(de)||U.C8(de)?G+=2:G+=1}}return F.push(G),F}static visibleColumnFromColumn2(f,m,L){return this.visibleColumnFromColumn(m.getLineContent(L.lineNumber),L.column,f.tabSize)}static columnFromVisibleColumn(f,m,L){if(m<=0)return 1;const F=f.length;let G=0,Y=1,de=0;for(;de<F;){const le=U.ZH(f,F,de);let ce;if(de+=le>=65536?2:1,9===le)ce=v.nextRenderTabStop(G,L);else{let N=U.S6(le);for(;de<F;){const V=U.ZH(f,F,de),Z=U.S6(V);if(U.fi(N,Z))break;de+=V>=65536?2:1,N=Z}ce=U.K7(le)||U.C8(le)?G+2:G+1}const be=de+1;if(ce>=m)return ce-m<m-G?be:Y;G=ce,Y=be}return F+1}static columnFromVisibleColumn2(f,m,L,F){let G=this.columnFromVisibleColumn(m.getLineContent(L),F,f.tabSize),Y=m.getLineMinColumn(L);if(G<Y)return Y;let de=m.getLineMaxColumn(L);return G>de?de:G}static nextRenderTabStop(f,m){return f+m-f%m}static nextIndentTabStop(f,m){return f+m-f%m}static prevRenderTabStop(f,m){return Math.max(0,f-1-(f-1)%m)}static prevIndentTabStop(f,m){return Math.max(0,f-1-(f-1)%m)}}function M(_){return"'"===_||'"'===_||"`"===_}},827:(Ct,Qe,a)=>{"use strict";a.d(Qe,{A:()=>B});var T=a(579),U=a(8571),j=a(5),O=a(6443),k=a(8487),$=a(2109);class B{static deleteRight(d,C,g,b){let I=[],p=3!==d;for(let w=0,E=b.length;w<E;w++){const S=b[w];let v=S;if(v.isEmpty()){let M=S.getPosition(),_=O.o.right(C,g,M);v=new k.e(_.lineNumber,_.column,M.lineNumber,M.column)}v.isEmpty()?I[w]=null:(v.startLineNumber!==v.endLineNumber&&(p=!0),I[w]=new U.T4(v,""))}return[p,I]}static isAutoClosingPairDelete(d,C,g,b,I,p,w){if("never"===C&&"never"===g||"never"===d)return!1;for(let E=0,S=p.length;E<S;E++){const v=p[E],M=v.getPosition();if(!v.isEmpty())return!1;const _=I.getLineContent(M.lineNumber);if(M.column<2||M.column>=_.length+1)return!1;const f=_.charAt(M.column-2),m=b.get(f);if(!m)return!1;if((0,j.LN)(f)){if("never"===g)return!1}else if("never"===C)return!1;const L=_.charAt(M.column-1);let F=!1;for(const G of m)G.open===f&&G.close===L&&(F=!0);if(!F)return!1;if("auto"===d){let G=!1;for(let Y=0,de=w.length;Y<de;Y++){const le=w[Y];if(M.lineNumber===le.startLineNumber&&M.column===le.startColumn){G=!0;break}}if(!G)return!1}}return!0}static _runAutoClosingPairDelete(d,C,g){let b=[];for(let I=0,p=g.length;I<p;I++){const w=g[I].getPosition(),E=new k.e(w.lineNumber,w.column-1,w.lineNumber,w.column+1);b[I]=new U.T4(E,"")}return[!0,b]}static deleteLeft(d,C,g,b,I){if(this.isAutoClosingPairDelete(C.autoClosingDelete,C.autoClosingBrackets,C.autoClosingQuotes,C.autoClosingPairs.autoClosingPairsOpenByEnd,g,b,I))return this._runAutoClosingPairDelete(C,g,b);const p=[];let w=2!==d;for(let E=0,S=b.length;E<S;E++){let v=B.getDeleteRange(b[E],g,C);v.isEmpty()?p[E]=null:(v.startLineNumber!==v.endLineNumber&&(w=!0),p[E]=new U.T4(v,""))}return[w,p]}static getDeleteRange(d,C,g){if(!d.isEmpty())return d;const b=d.getPosition();if(g.useTabStops&&b.column>1){const I=C.getLineContent(b.lineNumber),p=T.LC(I);if(b.column<=(-1===p?I.length+1:p+1)){const E=j.io.visibleColumnFromColumn2(g,C,b),S=j.io.prevIndentTabStop(E,g.indentSize),v=j.io.columnFromVisibleColumn2(g,C,b.lineNumber,S);return new k.e(b.lineNumber,v,b.lineNumber,b.column)}}return k.e.fromPositions(B.getPositionAfterDeleteLeft(b,C),b)}static getPositionAfterDeleteLeft(d,C){if(d.column>1){const g=T.oH(d.column-1,C.getLineContent(d.lineNumber));return d.with(void 0,g+1)}if(d.lineNumber>1){const g=d.lineNumber-1;return new $.L(g,C.getLineMaxColumn(g))}return d}static cut(d,C,g){let b=[];for(let I=0,p=g.length;I<p;I++){const w=g[I];if(w.isEmpty())if(d.emptySelectionClipboard){let S,v,M,_,E=w.getPosition();E.lineNumber<C.getLineCount()?(S=E.lineNumber,v=1,M=E.lineNumber+1,_=1):E.lineNumber>1?(S=E.lineNumber-1,v=C.getLineMaxColumn(E.lineNumber-1),M=E.lineNumber,_=C.getLineMaxColumn(E.lineNumber)):(S=E.lineNumber,v=1,M=E.lineNumber,_=C.getLineMaxColumn(E.lineNumber));let f=new k.e(S,v,M,_);b[I]=f.isEmpty()?null:new U.T4(f,"")}else b[I]=null;else b[I]=new U.T4(w,"")}return new j.Tp(0,b,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}},2281:(Ct,Qe,a)=>{"use strict";a.d(Qe,{P:()=>B,N:()=>R});var R,d,T=a(1882),U=a(5),j=a(6443),O=a(5581),k=a(2109),$=a(8487);class B{static addCursorDown(C,g,b){let I=[],p=0;for(let w=0,E=g.length;w<E;w++){const S=g[w];I[p++]=new U.Vi(S.modelState,S.viewState),I[p++]=b?U.Vi.fromModelState(j.o.translateDown(C.cursorConfig,C.model,S.modelState)):U.Vi.fromViewState(j.o.translateDown(C.cursorConfig,C,S.viewState))}return I}static addCursorUp(C,g,b){let I=[],p=0;for(let w=0,E=g.length;w<E;w++){const S=g[w];I[p++]=new U.Vi(S.modelState,S.viewState),I[p++]=b?U.Vi.fromModelState(j.o.translateUp(C.cursorConfig,C.model,S.modelState)):U.Vi.fromViewState(j.o.translateUp(C.cursorConfig,C,S.viewState))}return I}static moveToBeginningOfLine(C,g,b){let I=[];for(let p=0,w=g.length;p<w;p++)I[p]=this._moveToLineStart(C,g[p],b);return I}static _moveToLineStart(C,g,b){const I=g.viewState.position.column,w=I===g.modelState.position.column,S=C.getLineFirstNonWhitespaceColumn(g.viewState.position.lineNumber);return w||I===S?this._moveToLineStartByModel(C,g,b):this._moveToLineStartByView(C,g,b)}static _moveToLineStartByView(C,g,b){return U.Vi.fromViewState(j.o.moveToBeginningOfLine(C.cursorConfig,C,g.viewState,b))}static _moveToLineStartByModel(C,g,b){return U.Vi.fromModelState(j.o.moveToBeginningOfLine(C.cursorConfig,C.model,g.modelState,b))}static moveToEndOfLine(C,g,b,I){let p=[];for(let w=0,E=g.length;w<E;w++)p[w]=this._moveToLineEnd(C,g[w],b,I);return p}static _moveToLineEnd(C,g,b,I){const p=g.viewState.position,w=C.getLineMaxColumn(p.lineNumber),E=p.column===w,S=g.modelState.position,v=C.model.getLineMaxColumn(S.lineNumber);return E||w-p.column==v-S.column?this._moveToLineEndByModel(C,g,b,I):this._moveToLineEndByView(C,g,b,I)}static _moveToLineEndByView(C,g,b,I){return U.Vi.fromViewState(j.o.moveToEndOfLine(C.cursorConfig,C,g.viewState,b,I))}static _moveToLineEndByModel(C,g,b,I){return U.Vi.fromModelState(j.o.moveToEndOfLine(C.cursorConfig,C.model,g.modelState,b,I))}static expandLineSelection(C,g){let b=[];for(let I=0,p=g.length;I<p;I++){const w=g[I],E=w.modelState.selection.startLineNumber,S=C.model.getLineCount();let M,v=w.modelState.selection.endLineNumber;v===S?M=C.model.getLineMaxColumn(S):(v++,M=1),b[I]=U.Vi.fromModelState(new U.rS(new $.e(E,1,E,1),0,new k.L(v,M),0))}return b}static moveToBeginningOfBuffer(C,g,b){let I=[];for(let p=0,w=g.length;p<w;p++)I[p]=U.Vi.fromModelState(j.o.moveToBeginningOfBuffer(C.cursorConfig,C.model,g[p].modelState,b));return I}static moveToEndOfBuffer(C,g,b){let I=[];for(let p=0,w=g.length;p<w;p++)I[p]=U.Vi.fromModelState(j.o.moveToEndOfBuffer(C.cursorConfig,C.model,g[p].modelState,b));return I}static selectAll(C,g){const b=C.model.getLineCount(),I=C.model.getLineMaxColumn(b);return U.Vi.fromModelState(new U.rS(new $.e(1,1,1,1),0,new k.L(b,I),0))}static line(C,g,b,I,p){const w=C.model.validatePosition(I),E=p?C.coordinatesConverter.validateViewPosition(new k.L(p.lineNumber,p.column),w):C.coordinatesConverter.convertModelPositionToViewPosition(w);if(!b||!g.modelState.hasSelection()){const v=C.model.getLineCount();let M=w.lineNumber+1,_=1;return M>v&&(M=v,_=C.model.getLineMaxColumn(M)),U.Vi.fromModelState(new U.rS(new $.e(w.lineNumber,1,M,_),0,new k.L(M,_),0))}const S=g.modelState.selectionStart.getStartPosition().lineNumber;if(w.lineNumber<S)return U.Vi.fromViewState(g.viewState.move(g.modelState.hasSelection(),E.lineNumber,1,0));if(w.lineNumber>S){const v=C.getLineCount();let M=E.lineNumber+1,_=1;return M>v&&(M=v,_=C.getLineMaxColumn(M)),U.Vi.fromViewState(g.viewState.move(g.modelState.hasSelection(),M,_,0))}{const v=g.modelState.selectionStart.getEndPosition();return U.Vi.fromModelState(g.modelState.move(g.modelState.hasSelection(),v.lineNumber,v.column,0))}}static word(C,g,b,I){const p=C.model.validatePosition(I);return U.Vi.fromModelState(O.w.word(C.cursorConfig,C.model,g.modelState,b,p))}static cancelSelection(C,g){if(!g.modelState.hasSelection())return new U.Vi(g.modelState,g.viewState);const b=g.viewState.position.lineNumber,I=g.viewState.position.column;return U.Vi.fromViewState(new U.rS(new $.e(b,I,b,I),0,new k.L(b,I),0))}static moveTo(C,g,b,I,p){const w=C.model.validatePosition(I),E=p?C.coordinatesConverter.validateViewPosition(new k.L(p.lineNumber,p.column),w):C.coordinatesConverter.convertModelPositionToViewPosition(w);return U.Vi.fromViewState(g.viewState.move(b,E.lineNumber,E.column,0))}static simpleMove(C,g,b,I,p,w){switch(b){case 0:return 4===w?this._moveHalfLineLeft(C,g,I):this._moveLeft(C,g,I,p);case 1:return 4===w?this._moveHalfLineRight(C,g,I):this._moveRight(C,g,I,p);case 2:return 2===w?this._moveUpByViewLines(C,g,I,p):this._moveUpByModelLines(C,g,I,p);case 3:return 2===w?this._moveDownByViewLines(C,g,I,p):this._moveDownByModelLines(C,g,I,p);case 4:return g.map(2===w?E=>U.Vi.fromViewState(j.o.moveToPrevBlankLine(C.cursorConfig,C,E.viewState,I)):E=>U.Vi.fromModelState(j.o.moveToPrevBlankLine(C.cursorConfig,C.model,E.modelState,I)));case 5:return g.map(2===w?E=>U.Vi.fromViewState(j.o.moveToNextBlankLine(C.cursorConfig,C,E.viewState,I)):E=>U.Vi.fromModelState(j.o.moveToNextBlankLine(C.cursorConfig,C.model,E.modelState,I)));case 6:return this._moveToViewMinColumn(C,g,I);case 7:return this._moveToViewFirstNonWhitespaceColumn(C,g,I);case 8:return this._moveToViewCenterColumn(C,g,I);case 9:return this._moveToViewMaxColumn(C,g,I);case 10:return this._moveToViewLastNonWhitespaceColumn(C,g,I);default:return null}}static viewportMove(C,g,b,I,p){const w=C.getCompletelyVisibleViewRange(),E=C.coordinatesConverter.convertViewRangeToModelRange(w);switch(b){case 11:{const S=this._firstLineNumberInRange(C.model,E,p),v=C.model.getLineFirstNonWhitespaceColumn(S);return[this._moveToModelPosition(C,g[0],I,S,v)]}case 13:{const S=this._lastLineNumberInRange(C.model,E,p),v=C.model.getLineFirstNonWhitespaceColumn(S);return[this._moveToModelPosition(C,g[0],I,S,v)]}case 12:{const S=Math.round((E.startLineNumber+E.endLineNumber)/2),v=C.model.getLineFirstNonWhitespaceColumn(S);return[this._moveToModelPosition(C,g[0],I,S,v)]}case 14:{let S=[];for(let v=0,M=g.length;v<M;v++)S[v]=this.findPositionInViewportIfOutside(C,g[v],w,I);return S}default:return null}}static findPositionInViewportIfOutside(C,g,b,I){let p=g.viewState.position.lineNumber;if(b.startLineNumber<=p&&p<=b.endLineNumber-1)return new U.Vi(g.modelState,g.viewState);{p>b.endLineNumber-1&&(p=b.endLineNumber-1),p<b.startLineNumber&&(p=b.startLineNumber);const w=C.getLineFirstNonWhitespaceColumn(p);return this._moveToViewPosition(C,g,I,p,w)}}static _firstLineNumberInRange(C,g,b){let I=g.startLineNumber;return g.startColumn!==C.getLineMinColumn(I)&&I++,Math.min(g.endLineNumber,I+b-1)}static _lastLineNumberInRange(C,g,b){let I=g.startLineNumber;return g.startColumn!==C.getLineMinColumn(I)&&I++,Math.max(I,g.endLineNumber-b+1)}static _moveLeft(C,g,b,I){return g.map(p=>U.Vi.fromViewState(j.o.moveLeft(C.cursorConfig,C,p.viewState,b,I)))}static _moveHalfLineLeft(C,g,b){let I=[];for(let p=0,w=g.length;p<w;p++){const E=g[p],v=Math.round(C.getLineContent(E.viewState.position.lineNumber).length/2);I[p]=U.Vi.fromViewState(j.o.moveLeft(C.cursorConfig,C,E.viewState,b,v))}return I}static _moveRight(C,g,b,I){return g.map(p=>U.Vi.fromViewState(j.o.moveRight(C.cursorConfig,C,p.viewState,b,I)))}static _moveHalfLineRight(C,g,b){let I=[];for(let p=0,w=g.length;p<w;p++){const E=g[p],v=Math.round(C.getLineContent(E.viewState.position.lineNumber).length/2);I[p]=U.Vi.fromViewState(j.o.moveRight(C.cursorConfig,C,E.viewState,b,v))}return I}static _moveDownByViewLines(C,g,b,I){let p=[];for(let w=0,E=g.length;w<E;w++)p[w]=U.Vi.fromViewState(j.o.moveDown(C.cursorConfig,C,g[w].viewState,b,I));return p}static _moveDownByModelLines(C,g,b,I){let p=[];for(let w=0,E=g.length;w<E;w++)p[w]=U.Vi.fromModelState(j.o.moveDown(C.cursorConfig,C.model,g[w].modelState,b,I));return p}static _moveUpByViewLines(C,g,b,I){let p=[];for(let w=0,E=g.length;w<E;w++)p[w]=U.Vi.fromViewState(j.o.moveUp(C.cursorConfig,C,g[w].viewState,b,I));return p}static _moveUpByModelLines(C,g,b,I){let p=[];for(let w=0,E=g.length;w<E;w++)p[w]=U.Vi.fromModelState(j.o.moveUp(C.cursorConfig,C.model,g[w].modelState,b,I));return p}static _moveToViewPosition(C,g,b,I,p){return U.Vi.fromViewState(g.viewState.move(b,I,p,0))}static _moveToModelPosition(C,g,b,I,p){return U.Vi.fromModelState(g.modelState.move(b,I,p,0))}static _moveToViewMinColumn(C,g,b){let I=[];for(let p=0,w=g.length;p<w;p++){const E=g[p],S=E.viewState.position.lineNumber,v=C.getLineMinColumn(S);I[p]=this._moveToViewPosition(C,E,b,S,v)}return I}static _moveToViewFirstNonWhitespaceColumn(C,g,b){let I=[];for(let p=0,w=g.length;p<w;p++){const E=g[p],S=E.viewState.position.lineNumber,v=C.getLineFirstNonWhitespaceColumn(S);I[p]=this._moveToViewPosition(C,E,b,S,v)}return I}static _moveToViewCenterColumn(C,g,b){let I=[];for(let p=0,w=g.length;p<w;p++){const E=g[p],S=E.viewState.position.lineNumber,v=Math.round((C.getLineMaxColumn(S)+C.getLineMinColumn(S))/2);I[p]=this._moveToViewPosition(C,E,b,S,v)}return I}static _moveToViewMaxColumn(C,g,b){let I=[];for(let p=0,w=g.length;p<w;p++){const E=g[p],S=E.viewState.position.lineNumber,v=C.getLineMaxColumn(S);I[p]=this._moveToViewPosition(C,E,b,S,v)}return I}static _moveToViewLastNonWhitespaceColumn(C,g,b){let I=[];for(let p=0,w=g.length;p<w;p++){const E=g[p],S=E.viewState.position.lineNumber,v=C.getLineLastNonWhitespaceColumn(S);I[p]=this._moveToViewPosition(C,E,b,S,v)}return I}}(d=R||(R={})).description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory logical position value providing where to move the cursor.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',\n\t\t\t\t\t\t'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'\n\t\t\t\t\t\t'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'\n\t\t\t\t\t\t'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'character', 'halfLine'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'select': If 'true' makes the selection. Default is 'false'.\n\t\t\t\t",constraint:function(b){if(!T.Kn(b))return!1;let I=b;return!(!T.HD(I.to)||!T.o8(I.select)&&!T.jn(I.select)||!T.o8(I.by)&&!T.HD(I.by)||!T.o8(I.value)&&!T.hj(I.value))},schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},d.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},d.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"},d.parse=function(b){if(!b.to)return null;let I;switch(b.to){case d.RawDirection.Left:I=0;break;case d.RawDirection.Right:I=1;break;case d.RawDirection.Up:I=2;break;case d.RawDirection.Down:I=3;break;case d.RawDirection.PrevBlankLine:I=4;break;case d.RawDirection.NextBlankLine:I=5;break;case d.RawDirection.WrappedLineStart:I=6;break;case d.RawDirection.WrappedLineFirstNonWhitespaceCharacter:I=7;break;case d.RawDirection.WrappedLineColumnCenter:I=8;break;case d.RawDirection.WrappedLineEnd:I=9;break;case d.RawDirection.WrappedLineLastNonWhitespaceCharacter:I=10;break;case d.RawDirection.ViewPortTop:I=11;break;case d.RawDirection.ViewPortBottom:I=13;break;case d.RawDirection.ViewPortCenter:I=12;break;case d.RawDirection.ViewPortIfOutside:I=14;break;default:return null}let p=0;switch(b.by){case d.RawUnit.Line:p=1;break;case d.RawUnit.WrappedLine:p=2;break;case d.RawUnit.Character:p=3;break;case d.RawUnit.HalfLine:p=4}return{direction:I,unit:p,select:!!b.select,value:b.value||1}}},6443:(Ct,Qe,a)=>{"use strict";a.d(Qe,{o:()=>B});var T=a(5),U=a(2109),j=a(8487),O=a(579),k=a(5078);class ${constructor(d,C,g){this._cursorPositionBrand=void 0,this.lineNumber=d,this.column=C,this.leftoverVisibleColumns=g}}class B{static leftPosition(d,C){if(C.column>d.getLineMinColumn(C.lineNumber))return C.delta(void 0,-O.HO(d.getLineContent(C.lineNumber),C.column-1));if(C.lineNumber>1){const g=C.lineNumber-1;return new U.L(g,d.getLineMaxColumn(g))}return C}static leftPositionAtomicSoftTabs(d,C,g){if(C.column<=d.getLineIndentColumn(C.lineNumber)){const b=d.getLineMinColumn(C.lineNumber),I=d.getLineContent(C.lineNumber),p=k.l.atomicPosition(I,C.column-1,g,0);if(-1!==p&&p+1>=b)return new U.L(C.lineNumber,p+1)}return this.leftPosition(d,C)}static left(d,C,g){const b=d.stickyTabStops?B.leftPositionAtomicSoftTabs(C,g,d.tabSize):B.leftPosition(C,g);return new $(b.lineNumber,b.column,0)}static moveLeft(d,C,g,b,I){let p,w;if(g.hasSelection()&&!b)p=g.selection.startLineNumber,w=g.selection.startColumn;else{const E=g.position.delta(void 0,-(I-1)),S=C.normalizePosition(B.clipPositionColumn(E,C),0),v=B.left(d,C,S);p=v.lineNumber,w=v.column}return g.move(b,p,w,0)}static clipPositionColumn(d,C){return new U.L(d.lineNumber,B.clipRange(d.column,C.getLineMinColumn(d.lineNumber),C.getLineMaxColumn(d.lineNumber)))}static clipRange(d,C,g){return d<C?C:d>g?g:d}static rightPosition(d,C,g){return g<d.getLineMaxColumn(C)?g+=O.vH(d.getLineContent(C),g-1):C<d.getLineCount()&&(g=d.getLineMinColumn(C+=1)),new U.L(C,g)}static rightPositionAtomicSoftTabs(d,C,g,b,I){if(g<d.getLineIndentColumn(C)){const p=d.getLineContent(C),w=k.l.atomicPosition(p,g-1,b,1);if(-1!==w)return new U.L(C,w+1)}return this.rightPosition(d,C,g)}static right(d,C,g){const b=d.stickyTabStops?B.rightPositionAtomicSoftTabs(C,g.lineNumber,g.column,d.tabSize,d.indentSize):B.rightPosition(C,g.lineNumber,g.column);return new $(b.lineNumber,b.column,0)}static moveRight(d,C,g,b,I){let p,w;if(g.hasSelection()&&!b)p=g.selection.endLineNumber,w=g.selection.endColumn;else{const E=g.position.delta(void 0,I-1),S=C.normalizePosition(B.clipPositionColumn(E,C),1),v=B.right(d,C,S);p=v.lineNumber,w=v.column}return g.move(b,p,w,0)}static down(d,C,g,b,I,p,w){const E=T.io.visibleColumnFromColumn(C.getLineContent(g),b,d.tabSize)+I,S=C.getLineCount(),v=g===S&&b===C.getLineMaxColumn(g);return(g+=p)>S?(g=S,b=w?C.getLineMaxColumn(g):Math.min(C.getLineMaxColumn(g),b)):b=T.io.columnFromVisibleColumn2(d,C,g,E),I=v?0:E-T.io.visibleColumnFromColumn(C.getLineContent(g),b,d.tabSize),new $(g,b,I)}static moveDown(d,C,g,b,I){let p,w;g.hasSelection()&&!b?(p=g.selection.endLineNumber,w=g.selection.endColumn):(p=g.position.lineNumber,w=g.position.column);let E=B.down(d,C,p,w,g.leftoverVisibleColumns,I,!0);return g.move(b,E.lineNumber,E.column,E.leftoverVisibleColumns)}static translateDown(d,C,g){let b=g.selection,I=B.down(d,C,b.selectionStartLineNumber,b.selectionStartColumn,g.selectionStartLeftoverVisibleColumns,1,!1),p=B.down(d,C,b.positionLineNumber,b.positionColumn,g.leftoverVisibleColumns,1,!1);return new T.rS(new j.e(I.lineNumber,I.column,I.lineNumber,I.column),I.leftoverVisibleColumns,new U.L(p.lineNumber,p.column),p.leftoverVisibleColumns)}static up(d,C,g,b,I,p,w){const E=T.io.visibleColumnFromColumn(C.getLineContent(g),b,d.tabSize)+I,S=1===g&&1===b;return(g-=p)<1?(g=1,b=w?C.getLineMinColumn(g):Math.min(C.getLineMaxColumn(g),b)):b=T.io.columnFromVisibleColumn2(d,C,g,E),I=S?0:E-T.io.visibleColumnFromColumn(C.getLineContent(g),b,d.tabSize),new $(g,b,I)}static moveUp(d,C,g,b,I){let p,w;g.hasSelection()&&!b?(p=g.selection.startLineNumber,w=g.selection.startColumn):(p=g.position.lineNumber,w=g.position.column);let E=B.up(d,C,p,w,g.leftoverVisibleColumns,I,!0);return g.move(b,E.lineNumber,E.column,E.leftoverVisibleColumns)}static translateUp(d,C,g){let b=g.selection,I=B.up(d,C,b.selectionStartLineNumber,b.selectionStartColumn,g.selectionStartLeftoverVisibleColumns,1,!1),p=B.up(d,C,b.positionLineNumber,b.positionColumn,g.leftoverVisibleColumns,1,!1);return new T.rS(new j.e(I.lineNumber,I.column,I.lineNumber,I.column),I.leftoverVisibleColumns,new U.L(p.lineNumber,p.column),p.leftoverVisibleColumns)}static _isBlankLine(d,C){return 0===d.getLineFirstNonWhitespaceColumn(C)}static moveToPrevBlankLine(d,C,g,b){let I=g.position.lineNumber;for(;I>1&&this._isBlankLine(C,I);)I--;for(;I>1&&!this._isBlankLine(C,I);)I--;return g.move(b,I,C.getLineMinColumn(I),0)}static moveToNextBlankLine(d,C,g,b){const I=C.getLineCount();let p=g.position.lineNumber;for(;p<I&&this._isBlankLine(C,p);)p++;for(;p<I&&!this._isBlankLine(C,p);)p++;return g.move(b,p,C.getLineMinColumn(p),0)}static moveToBeginningOfLine(d,C,g,b){let E,I=g.position.lineNumber,p=C.getLineMinColumn(I),w=C.getLineFirstNonWhitespaceColumn(I)||p;return E=g.position.column===w?p:w,g.move(b,I,E,0)}static moveToEndOfLine(d,C,g,b,I){let p=g.position.lineNumber,w=C.getLineMaxColumn(p);return g.move(b,p,w,I?1073741824-w:0)}static moveToBeginningOfBuffer(d,C,g,b){return g.move(b,1,1,0)}static moveToEndOfBuffer(d,C,g,b){let I=C.getLineCount(),p=C.getLineMaxColumn(I);return g.move(b,I,p,0)}}},5741:(Ct,Qe,a)=>{"use strict";a.d(Qe,{u:()=>b,g:()=>I});var T=a(5160),U=a(579),j=a(8571),O=a(6108),k=a(8487),$=a(9730);class B{constructor(M,_,f){this._range=M,this._charBeforeSelection=_,this._charAfterSelection=f}getEditOperations(M,_){_.addTrackedEditOperation(new k.e(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),_.addTrackedEditOperation(new k.e(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(M,_){let f=_.getInverseEditOperations(),m=f[0].range,L=f[1].range;return new $.Y(m.endLineNumber,m.endColumn,L.endLineNumber,L.endColumn-this._charAfterSelection.length)}}var R=a(5),d=a(8509),C=a(1533),g=a(2587);class b{static indent(M,_,f){if(null===_||null===f)return[];let m=[];for(let L=0,F=f.length;L<F;L++)m[L]=new O.U(f[L],{isUnshift:!1,tabSize:M.tabSize,indentSize:M.indentSize,insertSpaces:M.insertSpaces,useTabStops:M.useTabStops,autoIndent:M.autoIndent});return m}static outdent(M,_,f){let m=[];for(let L=0,F=f.length;L<F;L++)m[L]=new O.U(f[L],{isUnshift:!0,tabSize:M.tabSize,indentSize:M.indentSize,insertSpaces:M.insertSpaces,useTabStops:M.useTabStops,autoIndent:M.autoIndent});return m}static shiftIndent(M,_,f){return O.U.shiftIndent(_,_.length+(f=f||1),M.tabSize,M.indentSize,M.insertSpaces)}static unshiftIndent(M,_,f){return O.U.unshiftIndent(_,_.length+(f=f||1),M.tabSize,M.indentSize,M.insertSpaces)}static _distributedPaste(M,_,f,m){let L=[];for(let F=0,G=f.length;F<G;F++)L[F]=new j.T4(f[F],m[F]);return new R.Tp(0,L,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(M,_,f,m,L){let F=[];for(let G=0,Y=f.length;G<Y;G++){const de=f[G];let le=de.getPosition();if(L&&!de.isEmpty()&&(L=!1),L&&m.indexOf("\n")!==m.length-1&&(L=!1),L){let ce=new k.e(le.lineNumber,1,le.lineNumber,1);F[G]=new j.hP(ce,m,de,!0)}else F[G]=new j.T4(de,m)}return new R.Tp(0,F,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(M,_,f,m,L){if(m||1===_.length)return null;if(L&&L.length===_.length)return L;if("spread"===M.multiCursorPaste){10===f.charCodeAt(f.length-1)&&(f=f.substr(0,f.length-1)),13===f.charCodeAt(f.length-1)&&(f=f.substr(0,f.length-1));let F=U.uq(f);if(F.length===_.length)return F}return null}static paste(M,_,f,m,L,F){const G=this._distributePasteToCursors(M,f,m,L,F);return G?(f=f.sort(k.e.compareRangesUsingStarts),this._distributedPaste(M,_,f,G)):this._simplePaste(M,_,f,m,L)}static _goodIndentForLine(M,_,f){let m=null,L="";const F=g.zu.getInheritIndentForLine(M.autoIndent,_,f,!1);if(F)m=F.action,L=F.indentation;else if(f>1){let G;for(G=f-1;G>=1;G--){const le=_.getLineContent(G);if(U.ow(le)>=0)break}if(G<1)return null;const Y=_.getLineMaxColumn(G),de=g.zu.getEnterAction(M.autoIndent,_,new k.e(G,Y,G,Y));de&&(L=de.indentation+de.appendText)}return m&&(m===C.wU.Indent&&(L=b.shiftIndent(M,L)),m===C.wU.Outdent&&(L=b.unshiftIndent(M,L)),L=M.normalizeIndentation(L)),L||null}static _replaceJumpToNextIndent(M,_,f,m){let L="",F=f.getStartPosition();if(M.insertSpaces){let G=R.io.visibleColumnFromColumn2(M,_,F),Y=M.indentSize,de=Y-G%Y;for(let le=0;le<de;le++)L+=" "}else L="\t";return new j.T4(f,L,m)}static tab(M,_,f){let m=[];for(let L=0,F=f.length;L<F;L++){const G=f[L];if(G.isEmpty()){let Y=_.getLineContent(G.startLineNumber);if(/^\s*$/.test(Y)&&_.isCheapToTokenize(G.startLineNumber)){let de=this._goodIndentForLine(M,_,G.startLineNumber);de=de||"\t";let le=M.normalizeIndentation(de);if(!Y.startsWith(le)){m[L]=new j.T4(new k.e(G.startLineNumber,1,G.startLineNumber,Y.length+1),le,!0);continue}}m[L]=this._replaceJumpToNextIndent(M,_,G,!0)}else{if(G.startLineNumber===G.endLineNumber){let Y=_.getLineMaxColumn(G.startLineNumber);if(1!==G.startColumn||G.endColumn!==Y){m[L]=this._replaceJumpToNextIndent(M,_,G,!1);continue}}m[L]=new O.U(G,{isUnshift:!1,tabSize:M.tabSize,indentSize:M.indentSize,insertSpaces:M.insertSpaces,useTabStops:M.useTabStops,autoIndent:M.autoIndent})}}return m}static compositionType(M,_,f,m,L,F,G,Y){const de=m.map(le=>this._compositionType(f,le,L,F,G,Y));return new R.Tp(4,de,{shouldPushStackElementBefore:w(M,4),shouldPushStackElementAfter:!1})}static _compositionType(M,_,f,m,L,F){if(!_.isEmpty())return null;const G=_.getPosition(),Y=Math.max(1,G.column-m),de=Math.min(M.getLineMaxColumn(G.lineNumber),G.column+L),le=new k.e(G.lineNumber,Y,G.lineNumber,de);return M.getValueInRange(le)===f&&0===F?null:new j.Uo(le,f,0,F)}static _typeCommand(M,_,f){return f?new j.Sj(M,_,!0):new j.T4(M,_,!0)}static _enter(M,_,f,m){if(0===M.autoIndent)return b._typeCommand(m,"\n",f);if(!_.isCheapToTokenize(m.getStartPosition().lineNumber)||1===M.autoIndent){let Y=_.getLineContent(m.startLineNumber),de=U.V8(Y).substring(0,m.startColumn-1);return b._typeCommand(m,"\n"+M.normalizeIndentation(de),f)}const L=g.zu.getEnterAction(M.autoIndent,_,m);if(L){if(L.indentAction===C.wU.None)return b._typeCommand(m,"\n"+M.normalizeIndentation(L.indentation+L.appendText),f);if(L.indentAction===C.wU.Indent)return b._typeCommand(m,"\n"+M.normalizeIndentation(L.indentation+L.appendText),f);if(L.indentAction===C.wU.IndentOutdent){const Y=M.normalizeIndentation(L.indentation),de=M.normalizeIndentation(L.indentation+L.appendText),le="\n"+de+"\n"+Y;return f?new j.Sj(m,le,!0):new j.Uo(m,le,-1,de.length-Y.length,!0)}if(L.indentAction===C.wU.Outdent){const Y=b.unshiftIndent(M,L.indentation);return b._typeCommand(m,"\n"+M.normalizeIndentation(Y+L.appendText),f)}}const F=_.getLineContent(m.startLineNumber),G=U.V8(F).substring(0,m.startColumn-1);if(M.autoIndent>=4){const Y=g.zu.getIndentForEnter(M.autoIndent,_,m,{unshiftIndent:de=>b.unshiftIndent(M,de),shiftIndent:de=>b.shiftIndent(M,de),normalizeIndentation:de=>M.normalizeIndentation(de)});if(Y){let de=R.io.visibleColumnFromColumn2(M,_,m.getEndPosition());const le=m.endColumn,ce=_.getLineContent(m.endLineNumber),be=U.LC(ce);if(m=m.setEndPosition(m.endLineNumber,be>=0?Math.max(m.endColumn,be+1):_.getLineMaxColumn(m.endLineNumber)),f)return new j.Sj(m,"\n"+M.normalizeIndentation(Y.afterEnter),!0);{let N=0;return le<=be+1&&(M.insertSpaces||(de=Math.ceil(de/M.indentSize)),N=Math.min(de+1-M.normalizeIndentation(Y.afterEnter).length-1,0)),new j.Uo(m,"\n"+M.normalizeIndentation(Y.afterEnter),0,N,!0)}}}return b._typeCommand(m,"\n"+M.normalizeIndentation(G),f)}static _isAutoIndentType(M,_,f){if(M.autoIndent<4)return!1;for(let m=0,L=f.length;m<L;m++)if(!_.isCheapToTokenize(f[m].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(M,_,f,m){const L=g.zu.getIndentationAtPosition(_,f.startLineNumber,f.startColumn),F=g.zu.getIndentActionForType(M.autoIndent,_,f,m,{shiftIndent:G=>b.shiftIndent(M,G),unshiftIndent:G=>b.unshiftIndent(M,G)});if(null===F)return null;if(F!==M.normalizeIndentation(L)){const G=_.getLineFirstNonWhitespaceColumn(f.startLineNumber);return b._typeCommand(new k.e(f.startLineNumber,1,f.endLineNumber,f.endColumn),0===G?M.normalizeIndentation(F)+m:M.normalizeIndentation(F)+_.getLineContent(f.startLineNumber).substring(G-1,f.startColumn-1)+m,!1)}return null}static _isAutoClosingOvertype(M,_,f,m,L){if("never"===M.autoClosingOvertype||!M.autoClosingPairs.autoClosingPairsCloseSingleChar.has(L))return!1;for(let F=0,G=f.length;F<G;F++){const Y=f[F];if(!Y.isEmpty())return!1;const de=Y.getPosition(),le=_.getLineContent(de.lineNumber);if(le.charAt(de.column-1)!==L)return!1;const be=(0,R.LN)(L);if(92===(de.column>2?le.charCodeAt(de.column-2):0)&&be)return!1;if("auto"===M.autoClosingOvertype){let V=!1;for(let Z=0,ie=m.length;Z<ie;Z++){const ue=m[Z];if(de.lineNumber===ue.startLineNumber&&de.column===ue.startColumn){V=!0;break}}if(!V)return!1}}return!0}static _runAutoClosingOvertype(M,_,f,m,L){let F=[];for(let G=0,Y=m.length;G<Y;G++){const le=m[G].getPosition(),ce=new k.e(le.lineNumber,le.column,le.lineNumber,le.column+1);F[G]=new j.T4(ce,L)}return new R.Tp(4,F,{shouldPushStackElementBefore:w(M,4),shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(M,_){const f=_.charAt(0),m=M.autoClosingPairs.autoClosingPairsOpenByStart.get(f)||[],L=M.autoClosingPairs.autoClosingPairsCloseByStart.get(f)||[],F=m.some(Y=>_.startsWith(Y.open)),G=L.some(Y=>_.startsWith(Y.close));return!F&&G}static _findAutoClosingPairOpen(M,_,f,m){const L=M.autoClosingPairs.autoClosingPairsOpenByEnd.get(m);if(!L)return null;let F=null;for(const G of L)if(null===F||G.open.length>F.open.length){let Y=!0;for(const de of f)if(_.getValueInRange(new k.e(de.lineNumber,de.column-G.open.length+1,de.lineNumber,de.column))+m!==G.open){Y=!1;break}Y&&(F=G)}return F}static _findSubAutoClosingPairClose(M,_){if(_.open.length<=1)return"";const f=_.close.charAt(_.close.length-1),m=M.autoClosingPairs.autoClosingPairsCloseByEnd.get(f)||[];let L=null;for(const F of m)F.open!==_.open&&_.open.includes(F.open)&&_.close.endsWith(F.close)&&(!L||F.open.length>L.open.length)&&(L=F);return L?L.close:""}static _getAutoClosingPairClose(M,_,f,m,L){const F=(0,R.LN)(m),G=F?M.autoClosingQuotes:M.autoClosingBrackets;if("never"===G)return null;const Y=this._findAutoClosingPairOpen(M,_,f.map(be=>be.getPosition()),m);if(!Y)return null;const de=this._findSubAutoClosingPairClose(M,Y);let le=!0;const ce=F?M.shouldAutoCloseBefore.quote:M.shouldAutoCloseBefore.bracket;for(let be=0,N=f.length;be<N;be++){const V=f[be];if(!V.isEmpty())return null;const Z=V.getPosition(),ie=_.getLineContent(Z.lineNumber),ue=ie.substring(Z.column-1);if(ue.startsWith(de)||(le=!1),ie.length>Z.column-1){const K=ie.charAt(Z.column-1);if(!b._isBeforeClosingBrace(M,ue)&&!ce(K))return null}if(!_.isCheapToTokenize(Z.lineNumber))return null;if(1===Y.open.length&&F&&"always"!==G){const K=(0,d.u)(M.wordSeparators);if(L&&Z.column>1&&0===K.get(ie.charCodeAt(Z.column-2))||!L&&Z.column>2&&0===K.get(ie.charCodeAt(Z.column-3)))return null}_.forceTokenization(Z.lineNumber);const oe=_.getLineTokens(Z.lineNumber);let ee=!1;try{ee=g.zu.shouldAutoClosePair(Y,oe,L?Z.column:Z.column-1)}catch(K){(0,T.dL)(K)}if(!ee)return null}return le?Y.close.substring(0,Y.close.length-de.length):Y.close}static _runAutoClosingOpenCharType(M,_,f,m,L,F,G){let Y=[];for(let de=0,le=m.length;de<le;de++)Y[de]=new I(m[de],L,F,G);return new R.Tp(4,Y,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(M,_){return(0,R.LN)(_)?"quotes"===M.autoSurround||"languageDefined"===M.autoSurround:"brackets"===M.autoSurround||"languageDefined"===M.autoSurround}static _isSurroundSelectionType(M,_,f,m){if(!b._shouldSurroundChar(M,m)||!M.surroundingPairs.hasOwnProperty(m))return!1;const L=(0,R.LN)(m);for(let F=0,G=f.length;F<G;F++){const Y=f[F];if(Y.isEmpty())return!1;let de=!0;for(let le=Y.startLineNumber;le<=Y.endLineNumber;le++){const ce=_.getLineContent(le),V=ce.substring(le===Y.startLineNumber?Y.startColumn-1:0,le===Y.endLineNumber?Y.endColumn-1:ce.length);if(/[^ \t]/.test(V)){de=!1;break}}if(de)return!1;if(L&&Y.startLineNumber===Y.endLineNumber&&Y.startColumn+1===Y.endColumn){const le=_.getValueInRange(Y);if((0,R.LN)(le))return!1}}return!0}static _runSurroundSelectionType(M,_,f,m,L){let F=[];for(let G=0,Y=m.length;G<Y;G++)F[G]=new B(m[G],L,_.surroundingPairs[L]);return new R.Tp(0,F,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(M,_,f){return!(1!==f.length||!_.isCheapToTokenize(f[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(M,_,f,m,L){if(!_.electricChars.hasOwnProperty(L)||!m.isEmpty())return null;let F=m.getPosition();f.forceTokenization(F.lineNumber);let Y,G=f.getLineTokens(F.lineNumber);try{Y=g.zu.onElectricCharacter(L,G,F.column)}catch(de){return(0,T.dL)(de),null}if(!Y)return null;if(Y.matchOpenBracket){let de=(G.getLineContent()+L).lastIndexOf(Y.matchOpenBracket)+1,le=f.findMatchingBracketUp(Y.matchOpenBracket,{lineNumber:F.lineNumber,column:de});if(le){if(le.startLineNumber===F.lineNumber)return null;let ce=f.getLineContent(le.startLineNumber),be=U.V8(ce),N=_.normalizeIndentation(be),V=f.getLineContent(F.lineNumber),Z=f.getLineFirstNonWhitespaceColumn(F.lineNumber)||F.column,ue=N+V.substring(Z-1,F.column-1)+L,oe=new k.e(F.lineNumber,1,F.lineNumber,F.column);const ee=new j.T4(oe,ue);return new R.Tp(p(ue,M),[ee],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(M,_,f,m,L,F){if(!m||$.Y.selectionsArrEqual(m,L))return null;let G=null;for(const de of L){if(!de.isEmpty())return null;const le=de.getPosition(),ce=f.getValueInRange(new k.e(le.lineNumber,le.column-1,le.lineNumber,le.column));if(null===G)G=ce;else if(G!==ce)return null}if(!G)return null;if(this._isAutoClosingOvertype(_,f,L,F,G)){const de=L.map(le=>new j.T4(new k.e(le.positionLineNumber,le.positionColumn,le.positionLineNumber,le.positionColumn+1),"",!1));return new R.Tp(4,de,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const Y=this._getAutoClosingPairClose(_,f,L,G,!1);return null!==Y?this._runAutoClosingOpenCharType(M,_,f,L,G,!1,Y):null}static typeWithInterceptors(M,_,f,m,L,F,G){if(!M&&"\n"===G){let le=[];for(let ce=0,be=L.length;ce<be;ce++)le[ce]=b._enter(f,m,!1,L[ce]);return new R.Tp(4,le,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!M&&this._isAutoIndentType(f,m,L)){let le=[],ce=!1;for(let be=0,N=L.length;be<N;be++)if(le[be]=this._runAutoIndentType(f,m,L[be],G),!le[be]){ce=!0;break}if(!ce)return new R.Tp(4,le,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!M&&this._isAutoClosingOvertype(f,m,L,F,G))return this._runAutoClosingOvertype(_,f,m,L,G);if(!M){const le=this._getAutoClosingPairClose(f,m,L,G,!0);if(le)return this._runAutoClosingOpenCharType(_,f,m,L,G,!0,le)}if(this._isSurroundSelectionType(f,m,L,G))return this._runSurroundSelectionType(_,f,m,L,G);if(!M&&this._isTypeInterceptorElectricChar(f,m,L)){const le=this._typeInterceptorElectricChar(_,f,m,L[0],G);if(le)return le}let Y=[];for(let le=0,ce=L.length;le<ce;le++)Y[le]=new j.T4(L[le],G);const de=p(G,_);return new R.Tp(de,Y,{shouldPushStackElementBefore:w(_,de),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(M,_,f,m,L){let F=[];for(let Y=0,de=m.length;Y<de;Y++)F[Y]=new j.T4(m[Y],L);const G=p(L,M);return new R.Tp(G,F,{shouldPushStackElementBefore:w(M,G),shouldPushStackElementAfter:!1})}static lineInsertBefore(M,_,f){if(null===_||null===f)return[];let m=[];for(let L=0,F=f.length;L<F;L++){let G=f[L].positionLineNumber;if(1===G)m[L]=new j.Sj(new k.e(1,1,1,1),"\n");else{G--;let Y=_.getLineMaxColumn(G);m[L]=this._enter(M,_,!1,new k.e(G,Y,G,Y))}}return m}static lineInsertAfter(M,_,f){if(null===_||null===f)return[];let m=[];for(let L=0,F=f.length;L<F;L++){const G=f[L].positionLineNumber;let Y=_.getLineMaxColumn(G);m[L]=this._enter(M,_,!1,new k.e(G,Y,G,Y))}return m}static lineBreakInsert(M,_,f){let m=[];for(let L=0,F=f.length;L<F;L++)m[L]=this._enter(M,_,!0,f[L]);return m}}class I extends j.Uo{constructor(M,_,f,m){super(M,(f?_:"")+m,0,-m.length),this._openCharacter=_,this._closeCharacter=m,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(M,_){let m=_.getInverseEditOperations()[0].range;return this.closeCharacterRange=new k.e(m.startLineNumber,m.endColumn-this._closeCharacter.length,m.endLineNumber,m.endColumn),this.enclosingRange=new k.e(m.startLineNumber,m.endColumn-this._openCharacter.length-this._closeCharacter.length,m.endLineNumber,m.endColumn),super.computeCursorState(M,_)}}function p(v,M){return" "===v?5===M||6===M?6:5:4}function w(v,M){return!(!S(v)||S(M))||5!==v&&E(v)!==E(M)}function E(v){return 6===v||5===v?"space":v}function S(v){return 4===v||5===v||6===v}},5581:(Ct,Qe,a)=>{"use strict";a.d(Qe,{w:()=>B,L:()=>R});var T=a(579),U=a(5),j=a(827),O=a(8509),k=a(2109),$=a(8487);class B{static _createWord(g,b,I,p,w){return{start:p,end:w,wordType:b,nextCharClass:I}}static _findPreviousWordOnLine(g,b,I){let p=b.getLineContent(I.lineNumber);return this._doFindPreviousWordOnLine(p,g,I)}static _doFindPreviousWordOnLine(g,b,I){let p=0;for(let w=I.column-2;w>=0;w--){let E=g.charCodeAt(w),S=b.get(E);if(0===S){if(2===p)return this._createWord(g,p,S,w+1,this._findEndOfWord(g,b,p,w+1));p=1}else if(2===S){if(1===p)return this._createWord(g,p,S,w+1,this._findEndOfWord(g,b,p,w+1));p=2}else if(1===S&&0!==p)return this._createWord(g,p,S,w+1,this._findEndOfWord(g,b,p,w+1))}return 0!==p?this._createWord(g,p,1,0,this._findEndOfWord(g,b,p,0)):null}static _findEndOfWord(g,b,I,p){let w=g.length;for(let E=p;E<w;E++){let S=g.charCodeAt(E),v=b.get(S);if(1===v||1===I&&2===v||2===I&&0===v)return E}return w}static _findNextWordOnLine(g,b,I){let p=b.getLineContent(I.lineNumber);return this._doFindNextWordOnLine(p,g,I)}static _doFindNextWordOnLine(g,b,I){let p=0,w=g.length;for(let E=I.column-1;E<w;E++){let S=g.charCodeAt(E),v=b.get(S);if(0===v){if(2===p)return this._createWord(g,p,v,this._findStartOfWord(g,b,p,E-1),E);p=1}else if(2===v){if(1===p)return this._createWord(g,p,v,this._findStartOfWord(g,b,p,E-1),E);p=2}else if(1===v&&0!==p)return this._createWord(g,p,v,this._findStartOfWord(g,b,p,E-1),E)}return 0!==p?this._createWord(g,p,1,this._findStartOfWord(g,b,p,w-1),w):null}static _findStartOfWord(g,b,I,p){for(let w=p;w>=0;w--){let E=g.charCodeAt(w),S=b.get(E);if(1===S||1===I&&2===S||2===I&&0===S)return w+1}return 0}static moveWordLeft(g,b,I,p){let w=I.lineNumber,E=I.column;1===E&&w>1&&(w-=1,E=b.getLineMaxColumn(w));let S=B._findPreviousWordOnLine(g,b,new k.L(w,E));if(0===p)return new k.L(w,S?S.start+1:1);if(1===p)return S&&2===S.wordType&&S.end-S.start==1&&0===S.nextCharClass&&(S=B._findPreviousWordOnLine(g,b,new k.L(w,S.start+1))),new k.L(w,S?S.start+1:1);if(3===p){for(;S&&2===S.wordType;)S=B._findPreviousWordOnLine(g,b,new k.L(w,S.start+1));return new k.L(w,S?S.start+1:1)}return S&&E<=S.end+1&&(S=B._findPreviousWordOnLine(g,b,new k.L(w,S.start+1))),new k.L(w,S?S.end+1:1)}static _moveWordPartLeft(g,b){const I=b.lineNumber,p=g.getLineMaxColumn(I);if(1===b.column)return I>1?new k.L(I-1,g.getLineMaxColumn(I-1)):b;const w=g.getLineContent(I);for(let E=b.column-1;E>1;E--){const S=w.charCodeAt(E-2),v=w.charCodeAt(E-1);if(95===S&&95!==v)return new k.L(I,E);if(T.mK(S)&&T.df(v))return new k.L(I,E);if(T.df(S)&&T.df(v)&&E+1<p){const M=w.charCodeAt(E);if(T.mK(M))return new k.L(I,E)}}return new k.L(I,1)}static moveWordRight(g,b,I,p){let w=I.lineNumber,E=I.column,S=!1;E===b.getLineMaxColumn(w)&&w<b.getLineCount()&&(S=!0,w+=1,E=1);let v=B._findNextWordOnLine(g,b,new k.L(w,E));if(2===p)v&&2===v.wordType&&v.end-v.start==1&&0===v.nextCharClass&&(v=B._findNextWordOnLine(g,b,new k.L(w,v.end+1))),E=v?v.end+1:b.getLineMaxColumn(w);else if(3===p){for(S&&(E=0);v&&(2===v.wordType||v.start+1<=E);)v=B._findNextWordOnLine(g,b,new k.L(w,v.end+1));E=v?v.start+1:b.getLineMaxColumn(w)}else v&&!S&&E>=v.start+1&&(v=B._findNextWordOnLine(g,b,new k.L(w,v.end+1))),E=v?v.start+1:b.getLineMaxColumn(w);return new k.L(w,E)}static _moveWordPartRight(g,b){const I=b.lineNumber,p=g.getLineMaxColumn(I);if(b.column===p)return I<g.getLineCount()?new k.L(I+1,1):b;const w=g.getLineContent(I);for(let E=b.column+1;E<p;E++){const S=w.charCodeAt(E-2),v=w.charCodeAt(E-1);if(95!==S&&95===v)return new k.L(I,E);if(T.mK(S)&&T.df(v))return new k.L(I,E);if(T.df(S)&&T.df(v)&&E+1<p){const M=w.charCodeAt(E);if(T.mK(M))return new k.L(I,E)}}return new k.L(I,p)}static _deleteWordLeftWhitespace(g,b){const I=g.getLineContent(b.lineNumber),p=b.column-2,w=T.ow(I,p);return w+1<p?new $.e(b.lineNumber,w+2,b.lineNumber,b.column):null}static deleteWordLeft(g,b){const I=g.wordSeparators,p=g.model,w=g.selection,E=g.whitespaceHeuristics;if(!w.isEmpty())return w;if(j.A.isAutoClosingPairDelete(g.autoClosingDelete,g.autoClosingBrackets,g.autoClosingQuotes,g.autoClosingPairs.autoClosingPairsOpenByEnd,g.model,[g.selection],g.autoClosedCharacters)){const f=g.selection.getPosition();return new $.e(f.lineNumber,f.column-1,f.lineNumber,f.column+1)}const S=new k.L(w.positionLineNumber,w.positionColumn);let v=S.lineNumber,M=S.column;if(1===v&&1===M)return null;if(E){let f=this._deleteWordLeftWhitespace(p,S);if(f)return f}let _=B._findPreviousWordOnLine(I,p,S);return 0===b?_?M=_.start+1:M>1?M=1:(v--,M=p.getLineMaxColumn(v)):(_&&M<=_.end+1&&(_=B._findPreviousWordOnLine(I,p,new k.L(v,_.start+1))),_?M=_.end+1:M>1?M=1:(v--,M=p.getLineMaxColumn(v))),new $.e(v,M,S.lineNumber,S.column)}static deleteInsideWord(g,b,I){if(!I.isEmpty())return I;const p=new k.L(I.positionLineNumber,I.positionColumn);return this._deleteInsideWordWhitespace(b,p)||this._deleteInsideWordDetermineDeleteRange(g,b,p)}static _charAtIsWhitespace(g,b){const I=g.charCodeAt(b);return 32===I||9===I}static _deleteInsideWordWhitespace(g,b){const I=g.getLineContent(b.lineNumber),p=I.length;if(0===p)return null;let w=Math.max(b.column-2,0);if(!this._charAtIsWhitespace(I,w))return null;let E=Math.min(b.column-1,p-1);if(!this._charAtIsWhitespace(I,E))return null;for(;w>0&&this._charAtIsWhitespace(I,w-1);)w--;for(;E+1<p&&this._charAtIsWhitespace(I,E+1);)E++;return new $.e(b.lineNumber,w+1,b.lineNumber,E+2)}static _deleteInsideWordDetermineDeleteRange(g,b,I){const p=b.getLineContent(I.lineNumber),w=p.length;if(0===w)return I.lineNumber>1?new $.e(I.lineNumber-1,b.getLineMaxColumn(I.lineNumber-1),I.lineNumber,1):I.lineNumber<b.getLineCount()?new $.e(I.lineNumber,1,I.lineNumber+1,1):new $.e(I.lineNumber,1,I.lineNumber,1);const E=f=>f.start+1<=I.column&&I.column<=f.end+1,S=(f,m)=>(f=Math.min(f,I.column),m=Math.max(m,I.column),new $.e(I.lineNumber,f,I.lineNumber,m)),v=f=>{let m=f.start+1,L=f.end+1,F=!1;for(;L-1<w&&this._charAtIsWhitespace(p,L-1);)F=!0,L++;if(!F)for(;m>1&&this._charAtIsWhitespace(p,m-2);)m--;return S(m,L)},M=B._findPreviousWordOnLine(g,b,I);if(M&&E(M))return v(M);const _=B._findNextWordOnLine(g,b,I);return _&&E(_)?v(_):M&&_?S(M.end+1,_.start+1):M?S(M.start+1,M.end+1):_?S(_.start+1,_.end+1):S(1,w+1)}static _deleteWordPartLeft(g,b){if(!b.isEmpty())return b;const I=b.getPosition(),p=B._moveWordPartLeft(g,I);return new $.e(I.lineNumber,I.column,p.lineNumber,p.column)}static _findFirstNonWhitespaceChar(g,b){let I=g.length;for(let p=b;p<I;p++){let w=g.charAt(p);if(" "!==w&&"\t"!==w)return p}return I}static _deleteWordRightWhitespace(g,b){const I=g.getLineContent(b.lineNumber),p=b.column-1,w=this._findFirstNonWhitespaceChar(I,p);return p+1<w?new $.e(b.lineNumber,b.column,b.lineNumber,w+1):null}static deleteWordRight(g,b){const I=g.wordSeparators,p=g.model,w=g.selection,E=g.whitespaceHeuristics;if(!w.isEmpty())return w;const S=new k.L(w.positionLineNumber,w.positionColumn);let v=S.lineNumber,M=S.column;const _=p.getLineCount(),f=p.getLineMaxColumn(v);if(v===_&&M===f)return null;if(E){let L=this._deleteWordRightWhitespace(p,S);if(L)return L}let m=B._findNextWordOnLine(I,p,S);return 2===b?m?M=m.end+1:M<f||v===_?M=f:(v++,m=B._findNextWordOnLine(I,p,new k.L(v,1)),M=m?m.start+1:p.getLineMaxColumn(v)):(m&&M>=m.start+1&&(m=B._findNextWordOnLine(I,p,new k.L(v,m.end+1))),m?M=m.start+1:M<f||v===_?M=f:(v++,m=B._findNextWordOnLine(I,p,new k.L(v,1)),M=m?m.start+1:p.getLineMaxColumn(v))),new $.e(v,M,S.lineNumber,S.column)}static _deleteWordPartRight(g,b){if(!b.isEmpty())return b;const I=b.getPosition(),p=B._moveWordPartRight(g,I);return new $.e(I.lineNumber,I.column,p.lineNumber,p.column)}static _createWordAtPosition(g,b,I){const p=new $.e(b,I.start+1,b,I.end+1);return{word:g.getValueInRange(p),startColumn:p.startColumn,endColumn:p.endColumn}}static getWordAtPosition(g,b,I){const p=(0,O.u)(b),w=B._findPreviousWordOnLine(p,g,I);if(w&&1===w.wordType&&w.start<=I.column-1&&I.column-1<=w.end)return B._createWordAtPosition(g,I.lineNumber,w);const E=B._findNextWordOnLine(p,g,I);return E&&1===E.wordType&&E.start<=I.column-1&&I.column-1<=E.end?B._createWordAtPosition(g,I.lineNumber,E):null}static word(g,b,I,p,w){const E=(0,O.u)(g.wordSeparators);let M,_,S=B._findPreviousWordOnLine(E,b,w),v=B._findNextWordOnLine(E,b,w);if(!p){let L,F;return S&&1===S.wordType&&S.start<=w.column-1&&w.column-1<=S.end?(L=S.start+1,F=S.end+1):v&&1===v.wordType&&v.start<=w.column-1&&w.column-1<=v.end?(L=v.start+1,F=v.end+1):(L=S?S.end+1:1,F=v?v.start+1:b.getLineMaxColumn(w.lineNumber)),new U.rS(new $.e(w.lineNumber,L,w.lineNumber,F),0,new k.L(w.lineNumber,F),0)}S&&1===S.wordType&&S.start<w.column-1&&w.column-1<S.end?(M=S.start+1,_=S.end+1):v&&1===v.wordType&&v.start<w.column-1&&w.column-1<v.end?(M=v.start+1,_=v.end+1):(M=w.column,_=w.column);let m,f=w.lineNumber;if(I.selectionStart.containsPosition(w))m=I.selectionStart.endColumn;else if(w.isBeforeOrEqual(I.selectionStart.getStartPosition())){m=M;let L=new k.L(f,m);I.selectionStart.containsPosition(L)&&(m=I.selectionStart.endColumn)}else{m=_;let L=new k.L(f,m);I.selectionStart.containsPosition(L)&&(m=I.selectionStart.startColumn)}return I.move(!0,f,m,0)}}class R extends B{static deleteWordPartLeft(g){const b=d([B.deleteWordLeft(g,0),B.deleteWordLeft(g,2),B._deleteWordPartLeft(g.model,g.selection)]);return b.sort($.e.compareRangesUsingEnds),b[2]}static deleteWordPartRight(g){const b=d([B.deleteWordRight(g,0),B.deleteWordRight(g,2),B._deleteWordPartRight(g.model,g.selection)]);return b.sort($.e.compareRangesUsingStarts),b[0]}static moveWordPartLeft(g,b,I){const p=d([B.moveWordLeft(g,b,I,0),B.moveWordLeft(g,b,I,2),B._moveWordPartLeft(b,I)]);return p.sort(k.L.compare),p[2]}static moveWordPartRight(g,b,I){const p=d([B.moveWordRight(g,b,I,0),B.moveWordRight(g,b,I,2),B._moveWordPartRight(b,I)]);return p.sort(k.L.compare),p[0]}}function d(C){return C.filter(g=>Boolean(g))}},8509:(Ct,Qe,a)=>{"use strict";a.d(Qe,{u:()=>O});var T=a(5610);class U extends T.N{constructor($){super(0);for(let B=0,R=$.length;B<R;B++)this.set($.charCodeAt(B),2);this.set(32,1),this.set(9,1)}}const O=function(k){let $={};return B=>($.hasOwnProperty(B)||($[B]=(k=>new U(k))(B)),$[B])}()},5610:(Ct,Qe,a)=>{"use strict";a.d(Qe,{N:()=>U,q:()=>j});var T=a(8837);class U{constructor(k){let $=(0,T.K)(k);this._defaultValue=$,this._asciiMap=U._createAsciiMap($),this._map=new Map}static _createAsciiMap(k){let $=new Uint8Array(256);for(let B=0;B<256;B++)$[B]=k;return $}set(k,$){let B=(0,T.K)($);k>=0&&k<256?this._asciiMap[k]=B:this._map.set(k,B)}get(k){return k>=0&&k<256?this._asciiMap[k]:this._map.get(k)||this._defaultValue}}class j{constructor(){this._actual=new U(0)}add(k){this._actual.set(k,1)}has(k){return 1===this._actual.get(k)}}},7900:(Ct,Qe,a)=>{"use strict";a.d(Qe,{h:()=>U});var T=a(8487);class U{static insert(O,k){return{range:new T.e(O.lineNumber,O.column,O.lineNumber,O.column),text:k,forceMoveMarkers:!0}}static delete(O){return{range:O,text:null}}static replace(O,k){return{range:O,text:k}}static replaceMove(O,k){return{range:O,text:k,forceMoveMarkers:!0}}}},1959:(Ct,Qe,a)=>{"use strict";a.d(Qe,{A:()=>U});var T=a(6412);let U=(()=>{class O{constructor($,B){this._lineTokensBrand=void 0,this._tokens=$,this._tokensCount=this._tokens.length>>>1,this._text=B}static createEmpty($){const B=O.defaultTokenMetadata,R=new Uint32Array(2);return R[0]=$.length,R[1]=B,new O(R,$)}equals($){return $ instanceof O&&this.slicedEquals($,0,this._tokensCount)}slicedEquals($,B,R){if(this._text!==$._text||this._tokensCount!==$._tokensCount)return!1;const d=B<<1,C=d+(R<<1);for(let g=d;g<C;g++)if(this._tokens[g]!==$._tokens[g])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset($){return $>0?this._tokens[$-1<<1]:0}getMetadata($){return this._tokens[1+($<<1)]}getLanguageId($){return T.NX.getLanguageId(this._tokens[1+($<<1)])}getStandardTokenType($){return T.NX.getTokenType(this._tokens[1+($<<1)])}getForeground($){return T.NX.getForeground(this._tokens[1+($<<1)])}getClassName($){return T.NX.getClassNameFromMetadata(this._tokens[1+($<<1)])}getInlineStyle($,B){return T.NX.getInlineStyleFromMetadata(this._tokens[1+($<<1)],B)}getEndOffset($){return this._tokens[$<<1]}findTokenIndexAtOffset($){return O.findIndexInTokensArray(this._tokens,$)}inflate(){return this}sliceAndInflate($,B,R){return new j(this,$,B,R)}static convertToEndOffset($,B){const d=($.length>>>1)-1;for(let C=0;C<d;C++)$[C<<1]=$[C+1<<1];$[d<<1]=B}static findIndexInTokensArray($,B){if($.length<=2)return 0;let R=0,d=($.length>>>1)-1;for(;R<d;){const C=R+Math.floor((d-R)/2),g=$[C<<1];if(g===B)return C+1;g<B?R=C+1:g>B&&(d=C)}return R}withInserted($){if(0===$.length)return this;let B=0,R=0,d="";const C=new Array;let g=0;for(;;){let b=B<this._tokensCount?this._tokens[B<<1]:-1,I=R<$.length?$[R]:null;if(-1!==b&&(null===I||b<=I.offset))d+=this._text.substring(g,b),C.push(d.length,this._tokens[1+(B<<1)]),B++,g=b;else{if(!I)break;I.offset>g&&(d+=this._text.substring(g,I.offset),C.push(d.length,this._tokens[1+(B<<1)]),g=I.offset),d+=I.text,C.push(d.length,I.tokenMetadata),R++}}return new O(new Uint32Array(C),d)}}return O.defaultTokenMetadata=16793600,O})();class j{constructor(k,$,B,R){this._source=k,this._startOffset=$,this._endOffset=B,this._deltaOffset=R,this._firstTokenIndex=k.findTokenIndexAtOffset($),this._tokensCount=0;for(let d=this._firstTokenIndex,C=k.getCount();d<C&&!(k.getStartOffset(d)>=B);d++)this._tokensCount++}equals(k){return k instanceof j&&this._startOffset===k._startOffset&&this._endOffset===k._endOffset&&this._deltaOffset===k._deltaOffset&&this._source.slicedEquals(k._source,this._firstTokenIndex,this._tokensCount)}getCount(){return this._tokensCount}getForeground(k){return this._source.getForeground(this._firstTokenIndex+k)}getEndOffset(k){const $=this._source.getEndOffset(this._firstTokenIndex+k);return Math.min(this._endOffset,$)-this._startOffset+this._deltaOffset}getClassName(k){return this._source.getClassName(this._firstTokenIndex+k)}getInlineStyle(k,$){return this._source.getInlineStyle(this._firstTokenIndex+k,$)}findTokenIndexAtOffset(k){return this._source.findTokenIndexAtOffset(k+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}},2109:(Ct,Qe,a)=>{"use strict";a.d(Qe,{L:()=>T});class T{constructor(j,O){this.lineNumber=j,this.column=O}with(j=this.lineNumber,O=this.column){return j===this.lineNumber&&O===this.column?this:new T(j,O)}delta(j=0,O=0){return this.with(this.lineNumber+j,this.column+O)}equals(j){return T.equals(this,j)}static equals(j,O){return!j&&!O||!!j&&!!O&&j.lineNumber===O.lineNumber&&j.column===O.column}isBefore(j){return T.isBefore(this,j)}static isBefore(j,O){return j.lineNumber<O.lineNumber||!(O.lineNumber<j.lineNumber)&&j.column<O.column}isBeforeOrEqual(j){return T.isBeforeOrEqual(this,j)}static isBeforeOrEqual(j,O){return j.lineNumber<O.lineNumber||!(O.lineNumber<j.lineNumber)&&j.column<=O.column}static compare(j,O){let k=0|j.lineNumber,$=0|O.lineNumber;return k===$?(0|j.column)-(0|O.column):k-$}clone(){return new T(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(j){return new T(j.lineNumber,j.column)}static isIPosition(j){return j&&"number"==typeof j.lineNumber&&"number"==typeof j.column}}},8487:(Ct,Qe,a)=>{"use strict";a.d(Qe,{e:()=>U});var T=a(2109);class U{constructor(O,k,$,B){O>$||O===$&&k>B?(this.startLineNumber=$,this.startColumn=B,this.endLineNumber=O,this.endColumn=k):(this.startLineNumber=O,this.startColumn=k,this.endLineNumber=$,this.endColumn=B)}isEmpty(){return U.isEmpty(this)}static isEmpty(O){return O.startLineNumber===O.endLineNumber&&O.startColumn===O.endColumn}containsPosition(O){return U.containsPosition(this,O)}static containsPosition(O,k){return!(k.lineNumber<O.startLineNumber||k.lineNumber>O.endLineNumber||k.lineNumber===O.startLineNumber&&k.column<O.startColumn||k.lineNumber===O.endLineNumber&&k.column>O.endColumn)}containsRange(O){return U.containsRange(this,O)}static containsRange(O,k){return!(k.startLineNumber<O.startLineNumber||k.endLineNumber<O.startLineNumber||k.startLineNumber>O.endLineNumber||k.endLineNumber>O.endLineNumber||k.startLineNumber===O.startLineNumber&&k.startColumn<O.startColumn||k.endLineNumber===O.endLineNumber&&k.endColumn>O.endColumn)}strictContainsRange(O){return U.strictContainsRange(this,O)}static strictContainsRange(O,k){return!(k.startLineNumber<O.startLineNumber||k.endLineNumber<O.startLineNumber||k.startLineNumber>O.endLineNumber||k.endLineNumber>O.endLineNumber||k.startLineNumber===O.startLineNumber&&k.startColumn<=O.startColumn||k.endLineNumber===O.endLineNumber&&k.endColumn>=O.endColumn)}plusRange(O){return U.plusRange(this,O)}static plusRange(O,k){let $,B,R,d;return k.startLineNumber<O.startLineNumber?($=k.startLineNumber,B=k.startColumn):k.startLineNumber===O.startLineNumber?($=k.startLineNumber,B=Math.min(k.startColumn,O.startColumn)):($=O.startLineNumber,B=O.startColumn),k.endLineNumber>O.endLineNumber?(R=k.endLineNumber,d=k.endColumn):k.endLineNumber===O.endLineNumber?(R=k.endLineNumber,d=Math.max(k.endColumn,O.endColumn)):(R=O.endLineNumber,d=O.endColumn),new U($,B,R,d)}intersectRanges(O){return U.intersectRanges(this,O)}static intersectRanges(O,k){let $=O.startLineNumber,B=O.startColumn,R=O.endLineNumber,d=O.endColumn,C=k.startLineNumber,g=k.startColumn,b=k.endLineNumber,I=k.endColumn;return $<C?($=C,B=g):$===C&&(B=Math.max(B,g)),R>b?(R=b,d=I):R===b&&(d=Math.min(d,I)),$>R||$===R&&B>d?null:new U($,B,R,d)}equalsRange(O){return U.equalsRange(this,O)}static equalsRange(O,k){return!!O&&!!k&&O.startLineNumber===k.startLineNumber&&O.startColumn===k.startColumn&&O.endLineNumber===k.endLineNumber&&O.endColumn===k.endColumn}getEndPosition(){return U.getEndPosition(this)}static getEndPosition(O){return new T.L(O.endLineNumber,O.endColumn)}getStartPosition(){return U.getStartPosition(this)}static getStartPosition(O){return new T.L(O.startLineNumber,O.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(O,k){return new U(this.startLineNumber,this.startColumn,O,k)}setStartPosition(O,k){return new U(O,k,this.endLineNumber,this.endColumn)}collapseToStart(){return U.collapseToStart(this)}static collapseToStart(O){return new U(O.startLineNumber,O.startColumn,O.startLineNumber,O.startColumn)}static fromPositions(O,k=O){return new U(O.lineNumber,O.column,k.lineNumber,k.column)}static lift(O){return O?new U(O.startLineNumber,O.startColumn,O.endLineNumber,O.endColumn):null}static isIRange(O){return O&&"number"==typeof O.startLineNumber&&"number"==typeof O.startColumn&&"number"==typeof O.endLineNumber&&"number"==typeof O.endColumn}static areIntersectingOrTouching(O,k){return!(O.endLineNumber<k.startLineNumber||O.endLineNumber===k.startLineNumber&&O.endColumn<k.startColumn||k.endLineNumber<O.startLineNumber||k.endLineNumber===O.startLineNumber&&k.endColumn<O.startColumn)}static areIntersecting(O,k){return!(O.endLineNumber<k.startLineNumber||O.endLineNumber===k.startLineNumber&&O.endColumn<=k.startColumn||k.endLineNumber<O.startLineNumber||k.endLineNumber===O.startLineNumber&&k.endColumn<=O.startColumn)}static compareRangesUsingStarts(O,k){if(O&&k){const R=0|O.startLineNumber,d=0|k.startLineNumber;if(R===d){const C=0|O.startColumn,g=0|k.startColumn;if(C===g){const b=0|O.endLineNumber,I=0|k.endLineNumber;return b===I?(0|O.endColumn)-(0|k.endColumn):b-I}return C-g}return R-d}return(O?1:0)-(k?1:0)}static compareRangesUsingEnds(O,k){return O.endLineNumber===k.endLineNumber?O.endColumn===k.endColumn?O.startLineNumber===k.startLineNumber?O.startColumn-k.startColumn:O.startLineNumber-k.startLineNumber:O.endColumn-k.endColumn:O.endLineNumber-k.endLineNumber}static spansMultipleLines(O){return O.endLineNumber>O.startLineNumber}}},9730:(Ct,Qe,a)=>{"use strict";a.d(Qe,{Y:()=>j});var T=a(2109),U=a(8487);class j extends U.e{constructor(k,$,B,R){super(k,$,B,R),this.selectionStartLineNumber=k,this.selectionStartColumn=$,this.positionLineNumber=B,this.positionColumn=R}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(k){return j.selectionsEqual(this,k)}static selectionsEqual(k,$){return k.selectionStartLineNumber===$.selectionStartLineNumber&&k.selectionStartColumn===$.selectionStartColumn&&k.positionLineNumber===$.positionLineNumber&&k.positionColumn===$.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(k,$){return 0===this.getDirection()?new j(this.startLineNumber,this.startColumn,k,$):new j(k,$,this.startLineNumber,this.startColumn)}getPosition(){return new T.L(this.positionLineNumber,this.positionColumn)}setStartPosition(k,$){return 0===this.getDirection()?new j(k,$,this.endLineNumber,this.endColumn):new j(this.endLineNumber,this.endColumn,k,$)}static fromPositions(k,$=k){return new j(k.lineNumber,k.column,$.lineNumber,$.column)}static liftSelection(k){return new j(k.selectionStartLineNumber,k.selectionStartColumn,k.positionLineNumber,k.positionColumn)}static selectionsArrEqual(k,$){if(k&&!$||!k&&$)return!1;if(!k&&!$)return!0;if(k.length!==$.length)return!1;for(let B=0,R=k.length;B<R;B++)if(!this.selectionsEqual(k[B],$[B]))return!1;return!0}static isISelection(k){return k&&"number"==typeof k.selectionStartLineNumber&&"number"==typeof k.selectionStartColumn&&"number"==typeof k.positionLineNumber&&"number"==typeof k.positionColumn}static createWithDirection(k,$,B,R,d){return 0===d?new j(k,$,B,R):new j(B,R,k,$)}}},8918:(Ct,Qe,a)=>{"use strict";a.d(Qe,{oe:()=>d,lZ:()=>C,l$:()=>g,kH:()=>b});var T=a(579),U=a(9190),j=a(9427);let O,$,R;function k(){return O||(O=new TextDecoder("UTF-16LE")),O}function d(){return R||(R=U.r()?k():($||($=new TextDecoder("UTF-16BE")),$)),R}const C="undefined"!=typeof TextDecoder;let g,b;function p(S,v,M){let _=[],f=0;for(let m=0;m<M;m++){const L=j.mP(S,v);v+=2,_[f++]=String.fromCharCode(L)}return _.join("")}C?(g=S=>new w(S),b=function(S,v,M){const _=new Uint16Array(S.buffer,v,M);return M>0&&(65279===_[0]||65534===_[0])?p(S,v,M):k().decode(_)}):(g=S=>new E,b=p);class w{constructor(v){this._capacity=0|v,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return null!==this._completedStrings?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(0===this._bufferLength)return"";const v=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return d().decode(v)}_flushBuffer(){const v=this._buildBuffer();this._bufferLength=0,null===this._completedStrings?this._completedStrings=[v]:this._completedStrings[this._completedStrings.length]=v}write1(v){const M=this._capacity-this._bufferLength;M<=1&&(0===M||T.ZG(v))&&this._flushBuffer(),this._buffer[this._bufferLength++]=v}appendASCII(v){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=v}appendASCIIString(v){const M=v.length;if(this._bufferLength+M>=this._capacity)return this._flushBuffer(),void(this._completedStrings[this._completedStrings.length]=v);for(let _=0;_<M;_++)this._buffer[this._bufferLength++]=v.charCodeAt(_)}}class E{constructor(){this._pieces=[],this._piecesLen=0}reset(){this._pieces=[],this._piecesLen=0}build(){return this._pieces.join("")}write1(v){this._pieces[this._piecesLen++]=String.fromCharCode(v)}appendASCII(v){this._pieces[this._piecesLen++]=String.fromCharCode(v)}appendASCIIString(v){this._pieces[this._piecesLen++]=v}}},5529:(Ct,Qe,a)=>{"use strict";a.d(Qe,{WU:()=>T,hG:()=>U,Hi:()=>j});class T{constructor(k,$,B){this._tokenBrand=void 0,this.offset=0|k,this.type=$,this.language=B}toString(){return"("+this.offset+", "+this.type+")"}}class U{constructor(k,$){this._tokenizationResultBrand=void 0,this.tokens=k,this.endState=$}}class j{constructor(k,$){this._tokenizationResult2Brand=void 0,this.tokens=k,this.endState=$}}},6302:(Ct,Qe,a)=>{"use strict";a.d(Qe,{p:()=>T});class T{constructor(j,O,k,$,B,R){this.id=j,this.label=O,this.alias=k,this._precondition=$,this._run=B,this._contextKeyService=R}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(){return this.isSupported()?this._run():Promise.resolve(void 0)}}},3594:(Ct,Qe,a)=>{"use strict";function T(j){return j&&"string"==typeof j.id}a.d(Qe,{I:()=>T,g:()=>U});const U={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"}},9549:(Ct,Qe,a)=>{"use strict";a.d(Qe,{u:()=>j});var j,O,T=a(1606),U=a(2844);(O=j||(j={})).editorSimpleInput=new U.uy("editorSimpleInput",!1,!0),O.editorTextFocus=new U.uy("editorTextFocus",!1,T.N("editorTextFocus","Whether the editor text has focus (cursor is blinking)")),O.focus=new U.uy("editorFocus",!1,T.N("editorFocus","Whether the editor or an editor widget has focus (e.g. focus is in the find widget)")),O.textInputFocus=new U.uy("textInputFocus",!1,T.N("textInputFocus","Whether an editor or a rich text input has focus (cursor is blinking)")),O.readOnly=new U.uy("editorReadonly",!1,T.N("editorReadonly","Whether the editor is read only")),O.inDiffEditor=new U.uy("inDiffEditor",!1,T.N("inDiffEditor","Whether the context is a diff editor")),O.columnSelection=new U.uy("editorColumnSelection",!1,T.N("editorColumnSelection","Whether `editor.columnSelection` is enabled")),O.writable=O.readOnly.toNegated(),O.hasNonEmptySelection=new U.uy("editorHasSelection",!1,T.N("editorHasSelection","Whether the editor has text selected")),O.hasOnlyEmptySelection=O.hasNonEmptySelection.toNegated(),O.hasMultipleSelections=new U.uy("editorHasMultipleSelections",!1,T.N("editorHasMultipleSelections","Whether the editor has multiple selections")),O.hasSingleSelection=O.hasMultipleSelections.toNegated(),O.tabMovesFocus=new U.uy("editorTabMovesFocus",!1,T.N("editorTabMovesFocus","Whether `Tab` will move focus out of the editor")),O.tabDoesNotMoveFocus=O.tabMovesFocus.toNegated(),O.isInWalkThroughSnippet=new U.uy("isInEmbeddedEditor",!1,!0),O.canUndo=new U.uy("canUndo",!1,!0),O.canRedo=new U.uy("canRedo",!1,!0),O.hoverVisible=new U.uy("editorHoverVisible",!1,T.N("editorHoverVisible","Whether the editor hover is visible")),O.inCompositeEditor=new U.uy("inCompositeEditor",void 0,T.N("inCompositeEditor","Whether the editor is part of a larger editor (e.g. notebooks)")),O.notInCompositeEditor=O.inCompositeEditor.toNegated(),O.languageId=new U.uy("editorLangId","",T.N("editorLangId","The language identifier of the editor")),O.hasCompletionItemProvider=new U.uy("editorHasCompletionItemProvider",!1,T.N("editorHasCompletionItemProvider","Whether the editor has a completion item provider")),O.hasCodeActionsProvider=new U.uy("editorHasCodeActionsProvider",!1,T.N("editorHasCodeActionsProvider","Whether the editor has a code actions provider")),O.hasCodeLensProvider=new U.uy("editorHasCodeLensProvider",!1,T.N("editorHasCodeLensProvider","Whether the editor has a code lens provider")),O.hasDefinitionProvider=new U.uy("editorHasDefinitionProvider",!1,T.N("editorHasDefinitionProvider","Whether the editor has a definition provider")),O.hasDeclarationProvider=new U.uy("editorHasDeclarationProvider",!1,T.N("editorHasDeclarationProvider","Whether the editor has a declaration provider")),O.hasImplementationProvider=new U.uy("editorHasImplementationProvider",!1,T.N("editorHasImplementationProvider","Whether the editor has an implementation provider")),O.hasTypeDefinitionProvider=new U.uy("editorHasTypeDefinitionProvider",!1,T.N("editorHasTypeDefinitionProvider","Whether the editor has a type definition provider")),O.hasHoverProvider=new U.uy("editorHasHoverProvider",!1,T.N("editorHasHoverProvider","Whether the editor has a hover provider")),O.hasDocumentHighlightProvider=new U.uy("editorHasDocumentHighlightProvider",!1,T.N("editorHasDocumentHighlightProvider","Whether the editor has a document highlight provider")),O.hasDocumentSymbolProvider=new U.uy("editorHasDocumentSymbolProvider",!1,T.N("editorHasDocumentSymbolProvider","Whether the editor has a document symbol provider")),O.hasReferenceProvider=new U.uy("editorHasReferenceProvider",!1,T.N("editorHasReferenceProvider","Whether the editor has a reference provider")),O.hasRenameProvider=new U.uy("editorHasRenameProvider",!1,T.N("editorHasRenameProvider","Whether the editor has a rename provider")),O.hasSignatureHelpProvider=new U.uy("editorHasSignatureHelpProvider",!1,T.N("editorHasSignatureHelpProvider","Whether the editor has a signature help provider")),O.hasInlayHintsProvider=new U.uy("editorHasInlayHintsProvider",!1,T.N("editorHasInlayHintsProvider","Whether the editor has an inline hints provider")),O.hasDocumentFormattingProvider=new U.uy("editorHasDocumentFormattingProvider",!1,T.N("editorHasDocumentFormattingProvider","Whether the editor has a document formatting provider")),O.hasDocumentSelectionFormattingProvider=new U.uy("editorHasDocumentSelectionFormattingProvider",!1,T.N("editorHasDocumentSelectionFormattingProvider","Whether the editor has a document selection formatting provider")),O.hasMultipleDocumentFormattingProvider=new U.uy("editorHasMultipleDocumentFormattingProvider",!1,T.N("editorHasMultipleDocumentFormattingProvider","Whether the editor has multiple document formatting providers")),O.hasMultipleDocumentSelectionFormattingProvider=new U.uy("editorHasMultipleDocumentSelectionFormattingProvider",!1,T.N("editorHasMultipleDocumentSelectionFormattingProvider","Whether the editor has multiple document selection formatting providers"))},2902:(Ct,Qe,a)=>{"use strict";a.d(Qe,{sh:()=>T,F5:()=>U,dJ:()=>j,tk:()=>O,Qi:()=>k,je:()=>$});var T=(()=>{return(B=T||(T={}))[B.Left=1]="Left",B[B.Center=2]="Center",B[B.Right=4]="Right",B[B.Full=7]="Full",T;var B})(),U=(()=>{return(B=U||(U={}))[B.Inline=1]="Inline",B[B.Gutter=2]="Gutter",U;var B})();class j{constructor(R){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,0|R.tabSize),this.indentSize=0|R.tabSize,this.insertSpaces=Boolean(R.insertSpaces),this.defaultEOL=0|R.defaultEOL,this.trimAutoWhitespace=Boolean(R.trimAutoWhitespace)}equals(R){return this.tabSize===R.tabSize&&this.indentSize===R.indentSize&&this.insertSpaces===R.insertSpaces&&this.defaultEOL===R.defaultEOL&&this.trimAutoWhitespace===R.trimAutoWhitespace}createChangeEvent(R){return{tabSize:this.tabSize!==R.tabSize,indentSize:this.indentSize!==R.indentSize,insertSpaces:this.insertSpaces!==R.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==R.trimAutoWhitespace}}}class O{constructor(R,d){this._findMatchBrand=void 0,this.range=R,this.matches=d}}class k{constructor(R,d,C,g,b,I){this.identifier=R,this.range=d,this.text=C,this.forceMoveMarkers=g,this.isAutoWhitespaceEdit=b,this._isTracked=I}}class ${constructor(R,d,C){this.reverseEdits=R,this.changes=d,this.trimAutoWhitespaceLineNumbers=C}}},6630:(Ct,Qe,a)=>{"use strict";a.d(Qe,{e9:()=>I,NL:()=>p});var T=a(1606),U=a(5160),j=a(9730),O=a(6746),k=a(6043),$=a(9427),B=a(8401);function R(w){return w.toString()}class d{constructor(E,S,v,M,_,f,m){this.beforeVersionId=E,this.afterVersionId=S,this.beforeEOL=v,this.afterEOL=M,this.beforeCursorState=_,this.afterCursorState=f,this.changes=m}static create(E,S){const v=E.getAlternativeVersionId(),M=b(E);return new d(v,v,M,M,S,S,[])}append(E,S,v,M,_){S.length>0&&(this.changes=(0,k.b)(this.changes,S)),this.afterEOL=v,this.afterVersionId=M,this.afterCursorState=_}static _writeSelectionsSize(E){return 4+16*(E?E.length:0)}static _writeSelections(E,S,v){if($.T4(E,S?S.length:0,v),v+=4,S)for(const M of S)$.T4(E,M.selectionStartLineNumber,v),$.T4(E,M.selectionStartColumn,v+=4),$.T4(E,M.positionLineNumber,v+=4),$.T4(E,M.positionColumn,v+=4),v+=4;return v}static _readSelections(E,S,v){const M=$.Ag(E,S);S+=4;for(let _=0;_<M;_++){const f=$.Ag(E,S),m=$.Ag(E,S+=4),L=$.Ag(E,S+=4),F=$.Ag(E,S+=4);S+=4,v.push(new j.Y(f,m,L,F))}return S}serialize(){let E=10+d._writeSelectionsSize(this.beforeCursorState)+d._writeSelectionsSize(this.afterCursorState)+4;for(const M of this.changes)E+=M.writeSize();const S=new Uint8Array(E);let v=0;$.T4(S,this.beforeVersionId,v),v+=4,$.T4(S,this.afterVersionId,v),v+=4,$.Cg(S,this.beforeEOL,v),v+=1,$.Cg(S,this.afterEOL,v),v+=1,v=d._writeSelections(S,this.beforeCursorState,v),v=d._writeSelections(S,this.afterCursorState,v),$.T4(S,this.changes.length,v),v+=4;for(const M of this.changes)v=M.write(S,v);return S.buffer}static deserialize(E){const S=new Uint8Array(E);let v=0;const M=$.Ag(S,v);v+=4;const _=$.Ag(S,v);v+=4;const f=$.Q$(S,v);v+=1;const m=$.Q$(S,v);v+=1;const L=[];v=d._readSelections(S,v,L);const F=[];v=d._readSelections(S,v,F);const G=$.Ag(S,v);v+=4;const Y=[];for(let de=0;de<G;de++)v=k.q.read(S,v,Y);return new d(M,_,f,m,L,F,Y)}}class C{constructor(E,S){this.model=E,this._data=d.create(E,S)}get type(){return 0}get resource(){return O.o.isUri(this.model)?this.model:this.model.uri}get label(){return T.N("edit","Typing")}toString(){return(this._data instanceof d?this._data:d.deserialize(this._data)).changes.map(S=>S.toString()).join(", ")}matchesResource(E){return(O.o.isUri(this.model)?this.model:this.model.uri).toString()===E.toString()}setModel(E){this.model=E}canAppend(E){return this.model===E&&this._data instanceof d}append(E,S,v,M,_){this._data instanceof d&&this._data.append(E,S,v,M,_)}close(){this._data instanceof d&&(this._data=this._data.serialize())}open(){this._data instanceof d||(this._data=d.deserialize(this._data))}undo(){if(O.o.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof d&&(this._data=this._data.serialize());const E=d.deserialize(this._data);this.model._applyUndo(E.changes,E.beforeEOL,E.beforeVersionId,E.beforeCursorState)}redo(){if(O.o.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof d&&(this._data=this._data.serialize());const E=d.deserialize(this._data);this.model._applyRedo(E.changes,E.afterEOL,E.afterVersionId,E.afterCursorState)}heapSize(){return this._data instanceof d&&(this._data=this._data.serialize()),this._data.byteLength+168}}function b(w){return"\n"===w.getEOL()?0:1}function I(w){return!!w&&(w instanceof C||w instanceof class{constructor(E,S){this.type=1,this.label=E,this._isOpen=!0,this._editStackElementsArr=S.slice(0),this._editStackElementsMap=new Map;for(const v of this._editStackElementsArr){const M=R(v.resource);this._editStackElementsMap.set(M,v)}this._delegate=null}get resources(){return this._editStackElementsArr.map(E=>E.resource)}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(E){const S=R(E);return this._editStackElementsMap.has(S)}setModel(E){const S=R(O.o.isUri(E)?E:E.uri);this._editStackElementsMap.has(S)&&this._editStackElementsMap.get(S).setModel(E)}canAppend(E){if(!this._isOpen)return!1;const S=R(E.uri);return!!this._editStackElementsMap.has(S)&&this._editStackElementsMap.get(S).canAppend(E)}append(E,S,v,M,_){const f=R(E.uri);this._editStackElementsMap.get(f).append(E,S,v,M,_)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const E of this._editStackElementsArr)E.undo()}redo(){for(const E of this._editStackElementsArr)E.redo()}heapSize(E){const S=R(E);return this._editStackElementsMap.has(S)?this._editStackElementsMap.get(S).heapSize():0}split(){return this._editStackElementsArr}toString(){let E=[];for(const S of this._editStackElementsArr)E.push(`${(0,B.EZ)(S.resource)}: ${S}`);return`{${E.join(", ")}}`}})}class p{constructor(E,S){this._model=E,this._undoRedoService=S}pushStackElement(){const E=this._undoRedoService.getLastElement(this._model.uri);I(E)&&E.close()}popStackElement(){const E=this._undoRedoService.getLastElement(this._model.uri);I(E)&&E.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(E){const S=this._undoRedoService.getLastElement(this._model.uri);if(I(S)&&S.canAppend(this._model))return S;const v=new C(this._model,E);return this._undoRedoService.pushElement(v),v}pushEOL(E){const S=this._getOrCreateEditStackElement(null);this._model.setEOL(E),S.append(this._model,[],b(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(E,S,v){const M=this._getOrCreateEditStackElement(E),_=this._model.applyEdits(S,!0),f=p._computeCursorState(v,_),m=_.map((L,F)=>({index:F,textChange:L.textChange}));return m.sort((L,F)=>L.textChange.oldPosition===F.textChange.oldPosition?L.index-F.index:L.textChange.oldPosition-F.textChange.oldPosition),M.append(this._model,m.map(L=>L.textChange),b(this._model),this._model.getAlternativeVersionId(),f),f}static _computeCursorState(E,S){try{return E?E(S):null}catch(v){return(0,U.dL)(v),null}}}},6043:(Ct,Qe,a)=>{"use strict";a.d(Qe,{q:()=>O,b:()=>k});var T=a(9427),U=a(8918);function j(B){return B.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class O{constructor(R,d,C,g){this.oldPosition=R,this.oldText=d,this.newPosition=C,this.newText=g}get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}toString(){return 0===this.oldText.length?`(insert@${this.oldPosition} "${j(this.newText)}")`:0===this.newText.length?`(delete@${this.oldPosition} "${j(this.oldText)}")`:`(replace@${this.oldPosition} "${j(this.oldText)}" with "${j(this.newText)}")`}static _writeStringSize(R){return 4+2*R.length}static _writeString(R,d,C){const g=d.length;T.T4(R,g,C),C+=4;for(let b=0;b<g;b++)T.oq(R,d.charCodeAt(b),C),C+=2;return C}static _readString(R,d){const C=T.Ag(R,d);return(0,U.kH)(R,d+=4,C)}writeSize(){return 8+O._writeStringSize(this.oldText)+O._writeStringSize(this.newText)}write(R,d){return T.T4(R,this.oldPosition,d),T.T4(R,this.newPosition,d+=4),d=O._writeString(R,this.oldText,d+=4),O._writeString(R,this.newText,d)}static read(R,d,C){const g=T.Ag(R,d),b=T.Ag(R,d+=4),I=O._readString(R,d+=4);d+=O._writeStringSize(I);const p=O._readString(R,d);return d+=O._writeStringSize(p),C.push(new O(g,I,b,p)),d}}function k(B,R){return null===B||0===B.length?R:new $(B,R).compress()}class ${constructor(R,d){this._prevEdits=R,this._currEdits=d,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let R=0,d=0,C=this._getPrev(R),g=this._getCurr(d);for(;R<this._prevLen||d<this._currLen;){if(null===C){this._acceptCurr(g),g=this._getCurr(++d);continue}if(null===g){this._acceptPrev(C),C=this._getPrev(++R);continue}if(g.oldEnd<=C.newPosition){this._acceptCurr(g),g=this._getCurr(++d);continue}if(C.newEnd<=g.oldPosition){this._acceptPrev(C),C=this._getPrev(++R);continue}if(g.oldPosition<C.newPosition){const[E,S]=$._splitCurr(g,C.newPosition-g.oldPosition);this._acceptCurr(E),g=S;continue}if(C.newPosition<g.oldPosition){const[E,S]=$._splitPrev(C,g.oldPosition-C.newPosition);this._acceptPrev(E),C=S;continue}let p,w;if(g.oldEnd===C.newEnd)p=C,w=g,C=this._getPrev(++R),g=this._getCurr(++d);else if(g.oldEnd<C.newEnd){const[E,S]=$._splitPrev(C,g.oldLength);p=E,w=g,C=S,g=this._getCurr(++d)}else{const[E,S]=$._splitCurr(g,C.newLength);p=C,w=E,C=this._getPrev(++R),g=S}this._result[this._resultLen++]=new O(p.oldPosition,p.oldText,w.newPosition,w.newText),this._prevDeltaOffset+=p.newLength-p.oldLength,this._currDeltaOffset+=w.newLength-w.oldLength}const b=$._merge(this._result);return $._removeNoOps(b)}_acceptCurr(R){this._result[this._resultLen++]=$._rebaseCurr(this._prevDeltaOffset,R),this._currDeltaOffset+=R.newLength-R.oldLength}_getCurr(R){return R<this._currLen?this._currEdits[R]:null}_acceptPrev(R){this._result[this._resultLen++]=$._rebasePrev(this._currDeltaOffset,R),this._prevDeltaOffset+=R.newLength-R.oldLength}_getPrev(R){return R<this._prevLen?this._prevEdits[R]:null}static _rebaseCurr(R,d){return new O(d.oldPosition-R,d.oldText,d.newPosition,d.newText)}static _rebasePrev(R,d){return new O(d.oldPosition,d.oldText,d.newPosition+R,d.newText)}static _splitPrev(R,d){const C=R.newText.substr(0,d),g=R.newText.substr(d);return[new O(R.oldPosition,R.oldText,R.newPosition,C),new O(R.oldEnd,"",R.newPosition+d,g)]}static _splitCurr(R,d){const C=R.oldText.substr(0,d),g=R.oldText.substr(d);return[new O(R.oldPosition,C,R.newPosition,R.newText),new O(R.oldPosition+d,g,R.newEnd,"")]}static _merge(R){if(0===R.length)return R;let d=[],C=0,g=R[0];for(let b=1;b<R.length;b++){const I=R[b];g.oldEnd===I.oldPosition?g=new O(g.oldPosition,g.oldText+I.oldText,g.newPosition,g.newText+I.newText):(d[C++]=g,g=I)}return d[C++]=g,d}static _removeNoOps(R){if(0===R.length)return R;let d=[],C=0;for(let g=0;g<R.length;g++){const b=R[g];b.oldText!==b.newText&&(d[C++]=b)}return d}}},111:(Ct,Qe,a)=>{"use strict";a.d(Qe,{qx:()=>Li,yO:()=>kt});var T=a(5160),U=a(6723),j=a(1719),O=a(579),k=a(6746),$=a(4103),B=a(2109),R=a(8487),d=a(9730),C=a(2902),g=a(6630);class b{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function I(Ut,P,q,me,Ke){let qe;for(Ke.spacesDiff=0,Ke.looksLikeAlignment=!1,qe=0;qe<P&&qe<me&&Ut.charCodeAt(qe)===q.charCodeAt(qe);qe++);let st=0,jt=0;for(let un=qe;un<P;un++)32===Ut.charCodeAt(un)?st++:jt++;let Ft=0,en=0;for(let un=qe;un<me;un++)32===q.charCodeAt(un)?Ft++:en++;if(st>0&&jt>0||Ft>0&&en>0)return;let Yt=Math.abs(jt-en),tn=Math.abs(st-Ft);if(0===Yt)return Ke.spacesDiff=tn,void(tn>0&&0<=Ft-1&&Ft-1<Ut.length&&Ft<q.length&&32!==q.charCodeAt(Ft)&&32===Ut.charCodeAt(Ft-1)&&44===Ut.charCodeAt(Ut.length-1)&&(Ke.looksLikeAlignment=!0));tn%Yt!=0||(Ke.spacesDiff=tn/Yt)}function p(Ut,P,q){const me=Math.min(Ut.getLineCount(),1e4);let Ke=0,qe=0,st="",jt=0;const Ft=[2,4,6,8,3,5,7];let Yt=[0,0,0,0,0,0,0,0,0],tn=new b;for(let An=1;An<=me;An++){let Bn=Ut.getLineLength(An),kn=Ut.getLineContent(An);const qn=Bn<=65536;let fi=!1,hn=0,Ze=0,rt=0;for(let we=0,Fe=Bn;we<Fe;we++){let Ye=qn?kn.charCodeAt(we):Ut.getLineCharCode(An,we);if(9===Ye)rt++;else{if(32!==Ye){fi=!0,hn=we;break}Ze++}}if(!fi||(rt>0?Ke++:Ze>1&&qe++,I(st,jt,kn,hn,tn),tn.looksLikeAlignment&&(!q||P!==tn.spacesDiff)))continue;let tt=tn.spacesDiff;tt<=8&&Yt[tt]++,st=kn,jt=hn}let un=q;Ke!==qe&&(un=Ke<qe);let Cn=P;if(un){let An=un?0:.1*me;Ft.forEach(Bn=>{let kn=Yt[Bn];kn>An&&(An=kn,Cn=Bn)}),4===Cn&&Yt[4]>0&&Yt[2]>0&&Yt[2]>=Yt[4]/2&&(Cn=2)}return{insertSpaces:un,tabSize:Cn}}function w(Ut){return(1&Ut.metadata)>>>0}function E(Ut,P){Ut.metadata=254&Ut.metadata|P<<0}function S(Ut){return(2&Ut.metadata)>>>1==1}function v(Ut,P){Ut.metadata=253&Ut.metadata|(P?1:0)<<1}function M(Ut){return(4&Ut.metadata)>>>2==1}function _(Ut,P){Ut.metadata=251&Ut.metadata|(P?1:0)<<2}function m(Ut,P){Ut.metadata=231&Ut.metadata|P<<3}function F(Ut,P){Ut.metadata=223&Ut.metadata|(P?1:0)<<5}class G{constructor(P,q,me){this.metadata=0,this.parent=this,this.left=this,this.right=this,E(this,1),this.start=q,this.end=me,this.delta=0,this.maxEnd=me,this.id=P,this.ownerId=0,this.options=null,_(this,!1),m(this,1),F(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=q,this.cachedAbsoluteEnd=me,this.range=null,v(this,!1)}reset(P,q,me,Ke){this.start=q,this.end=me,this.maxEnd=me,this.cachedVersionId=P,this.cachedAbsoluteStart=q,this.cachedAbsoluteEnd=me,this.range=Ke}setOptions(P){this.options=P;let q=this.options.className;_(this,"squiggly-error"===q||"squiggly-warning"===q||"squiggly-info"===q),m(this,this.options.stickiness),F(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(P,q,me){this.cachedVersionId!==me&&(this.range=null),this.cachedVersionId=me,this.cachedAbsoluteStart=P,this.cachedAbsoluteEnd=q}detach(){this.parent=null,this.left=null,this.right=null}}const Y=new G(null,0,0);Y.parent=Y,Y.left=Y,Y.right=Y,E(Y,0);class de{constructor(){this.root=Y,this.requestNormalizeDelta=!1}intervalSearch(P,q,me,Ke,qe){return this.root===Y?[]:function(Ut,P,q,me,Ke,qe){let st=Ut.root,jt=0,Ft=0,en=0,Yt=0,tn=[],un=0;for(;st!==Y;)if(S(st))v(st.left,!1),v(st.right,!1),st===st.parent.right&&(jt-=st.parent.delta),st=st.parent;else{if(!S(st.left)){if(Ft=jt+st.maxEnd,Ft<P){v(st,!0);continue}if(st.left!==Y){st=st.left;continue}}if(en=jt+st.start,en>q)v(st,!0);else{if(Yt=jt+st.end,Yt>=P){st.setCachedOffsets(en,Yt,qe);let Cn=!0;me&&st.ownerId&&st.ownerId!==me&&(Cn=!1),Ke&&M(st)&&(Cn=!1),Cn&&(tn[un++]=st)}v(st,!0),st.right===Y||S(st.right)||(jt+=st.delta,st=st.right)}}return v(Ut.root,!1),tn}(this,P,q,me,Ke,qe)}search(P,q,me){return this.root===Y?[]:function(Ut,P,q,me){let Ke=Ut.root,qe=0,st=0,jt=0,Ft=[],en=0;for(;Ke!==Y;){if(S(Ke)){v(Ke.left,!1),v(Ke.right,!1),Ke===Ke.parent.right&&(qe-=Ke.parent.delta),Ke=Ke.parent;continue}if(Ke.left!==Y&&!S(Ke.left)){Ke=Ke.left;continue}st=qe+Ke.start,jt=qe+Ke.end,Ke.setCachedOffsets(st,jt,me);let Yt=!0;P&&Ke.ownerId&&Ke.ownerId!==P&&(Yt=!1),q&&M(Ke)&&(Yt=!1),Yt&&(Ft[en++]=Ke),v(Ke,!0),Ke.right===Y||S(Ke.right)||(qe+=Ke.delta,Ke=Ke.right)}return v(Ut.root,!1),Ft}(this,P,q,me)}collectNodesFromOwner(P){return function(Ut,P){let q=Ut.root,me=[],Ke=0;for(;q!==Y;)S(q)?(v(q.left,!1),v(q.right,!1),q=q.parent):q.left===Y||S(q.left)?(q.ownerId===P&&(me[Ke++]=q),v(q,!0),q.right===Y||S(q.right)||(q=q.right)):q=q.left;return v(Ut.root,!1),me}(this,P)}collectNodesPostOrder(){return function(Ut){let P=Ut.root,q=[],me=0;for(;P!==Y;)S(P)?(v(P.left,!1),v(P.right,!1),P=P.parent):P.left===Y||S(P.left)?P.right===Y||S(P.right)?(q[me++]=P,v(P,!0)):P=P.right:P=P.left;return v(Ut.root,!1),q}(this)}insert(P){ee(this,P),this._normalizeDeltaIfNecessary()}delete(P){ne(this,P),this._normalizeDeltaIfNecessary()}resolveNode(P,q){const me=P;let Ke=0;for(;P!==this.root;)P===P.parent.right&&(Ke+=P.parent.delta),P=P.parent;me.setCachedOffsets(me.start+Ke,me.end+Ke,q)}acceptReplace(P,q,me,Ke){const qe=function(Ut,P,q){let me=Ut.root,Ke=0,qe=0,st=0,jt=0,Ft=[],en=0;for(;me!==Y;)if(S(me))v(me.left,!1),v(me.right,!1),me===me.parent.right&&(Ke-=me.parent.delta),me=me.parent;else{if(!S(me.left)){if(qe=Ke+me.maxEnd,qe<P){v(me,!0);continue}if(me.left!==Y){me=me.left;continue}}st=Ke+me.start,st>q?v(me,!0):(jt=Ke+me.end,jt>=P&&(me.setCachedOffsets(st,jt,0),Ft[en++]=me),v(me,!0),me.right===Y||S(me.right)||(Ke+=me.delta,me=me.right))}return v(Ut.root,!1),Ft}(this,P,P+q);for(let st=0,jt=qe.length;st<jt;st++)ne(this,qe[st]);this._normalizeDeltaIfNecessary(),function(Ut,P,q,me){let Ke=Ut.root,qe=0,st=0,jt=0;const Ft=me-(q-P);for(;Ke!==Y;)if(S(Ke))v(Ke.left,!1),v(Ke.right,!1),Ke===Ke.parent.right&&(qe-=Ke.parent.delta),xe(Ke),Ke=Ke.parent;else{if(!S(Ke.left)){if(st=qe+Ke.maxEnd,st<P){v(Ke,!0);continue}if(Ke.left!==Y){Ke=Ke.left;continue}}jt=qe+Ke.start,jt>q?(Ke.start+=Ft,Ke.end+=Ft,Ke.delta+=Ft,(Ke.delta<-1073741824||Ke.delta>1073741824)&&(Ut.requestNormalizeDelta=!0),v(Ke,!0)):(v(Ke,!0),Ke.right===Y||S(Ke.right)||(qe+=Ke.delta,Ke=Ke.right))}v(Ut.root,!1)}(this,P,P+q,me),this._normalizeDeltaIfNecessary();for(let st=0,jt=qe.length;st<jt;st++){const Ft=qe[st];Ft.start=Ft.cachedAbsoluteStart,Ft.end=Ft.cachedAbsoluteEnd,be(Ft,P,P+q,me,Ke),Ft.maxEnd=Ft.end,ee(this,Ft)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){!this.requestNormalizeDelta||(this.requestNormalizeDelta=!1,function(Ut){let P=Ut.root,q=0;for(;P!==Y;)P.left===Y||S(P.left)?P.right===Y||S(P.right)?(P.start=q+P.start,P.end=q+P.end,P.delta=0,xe(P),v(P,!0),v(P.left,!1),v(P.right,!1),P===P.parent.right&&(q-=P.parent.delta),P=P.parent):(q+=P.delta,P=P.right):P=P.left;v(Ut.root,!1)}(this))}}function ce(Ut,P,q,me){return Ut<q||!(Ut>q||1===me)&&(2===me||P)}function be(Ut,P,q,me,Ke){const qe=function(Ut){return(24&Ut.metadata)>>>3}(Ut),st=0===qe||2===qe,jt=1===qe||2===qe,Ft=q-P,en=me,Yt=Math.min(Ft,en),tn=Ut.start;let un=!1;const Cn=Ut.end;let An=!1;P<=tn&&Cn<=q&&function(Ut){return(32&Ut.metadata)>>>5==1}(Ut)&&(Ut.start=P,un=!0,Ut.end=P,An=!0);{const kn=Ke?1:Ft>0?2:0;!un&&ce(tn,st,P,kn)&&(un=!0),!An&&ce(Cn,jt,P,kn)&&(An=!0)}if(Yt>0&&!Ke){const kn=Ft>en?2:0;!un&&ce(tn,st,P+Yt,kn)&&(un=!0),!An&&ce(Cn,jt,P+Yt,kn)&&(An=!0)}{const kn=Ke?1:0;!un&&ce(tn,st,q,kn)&&(Ut.start=P+en,un=!0),!An&&ce(Cn,jt,q,kn)&&(Ut.end=P+en,An=!0)}const Bn=en-Ft;un||(Ut.start=Math.max(0,tn+Bn)),An||(Ut.end=Math.max(0,Cn+Bn)),Ut.start>Ut.end&&(Ut.end=Ut.start)}function ee(Ut,P){if(Ut.root===Y)return P.parent=Y,P.left=Y,P.right=Y,E(P,0),Ut.root=P,Ut.root;(function(Ut,P){let q=0,me=Ut.root;const Ke=P.start,qe=P.end;for(;;)if(fe(Ke,qe,me.start+q,me.end+q)<0){if(me.left===Y){P.start-=q,P.end-=q,P.maxEnd-=q,me.left=P;break}me=me.left}else{if(me.right===Y){P.start-=q+me.delta,P.end-=q+me.delta,P.maxEnd-=q+me.delta,me.right=P;break}q+=me.delta,me=me.right}P.parent=me,P.left=Y,P.right=Y,E(P,1)})(Ut,P),Pe(P.parent);let q=P;for(;q!==Ut.root&&1===w(q.parent);)if(q.parent===q.parent.parent.left){const me=q.parent.parent.right;1===w(me)?(E(q.parent,0),E(me,0),E(q.parent.parent,1),q=q.parent.parent):(q===q.parent.right&&(q=q.parent,re(Ut,q)),E(q.parent,0),E(q.parent.parent,1),ye(Ut,q.parent.parent))}else{const me=q.parent.parent.left;1===w(me)?(E(q.parent,0),E(me,0),E(q.parent.parent,1),q=q.parent.parent):(q===q.parent.left&&(q=q.parent,ye(Ut,q)),E(q.parent,0),E(q.parent.parent,1),re(Ut,q.parent.parent))}return E(Ut.root,0),P}function ne(Ut,P){let q,me;if(P.left===Y?(q=P.right,me=P,q.delta+=P.delta,(q.delta<-1073741824||q.delta>1073741824)&&(Ut.requestNormalizeDelta=!0),q.start+=P.delta,q.end+=P.delta):P.right===Y?(q=P.left,me=P):(me=function(Ut){for(;Ut.left!==Y;)Ut=Ut.left;return Ut}(P.right),q=me.right,q.start+=me.delta,q.end+=me.delta,q.delta+=me.delta,(q.delta<-1073741824||q.delta>1073741824)&&(Ut.requestNormalizeDelta=!0),me.start+=P.delta,me.end+=P.delta,me.delta=P.delta,(me.delta<-1073741824||me.delta>1073741824)&&(Ut.requestNormalizeDelta=!0)),me===Ut.root)return Ut.root=q,E(q,0),P.detach(),ge(),xe(q),void(Ut.root.parent=Y);let qe,Ke=1===w(me);if(me===me.parent.left?me.parent.left=q:me.parent.right=q,me===P?q.parent=me.parent:(q.parent=me.parent===P?me:me.parent,me.left=P.left,me.right=P.right,me.parent=P.parent,E(me,w(P)),P===Ut.root?Ut.root=me:P===P.parent.left?P.parent.left=me:P.parent.right=me,me.left!==Y&&(me.left.parent=me),me.right!==Y&&(me.right.parent=me)),P.detach(),Ke)return Pe(q.parent),me!==P&&(Pe(me),Pe(me.parent)),void ge();for(Pe(q),Pe(q.parent),me!==P&&(Pe(me),Pe(me.parent));q!==Ut.root&&0===w(q);)q===q.parent.left?(qe=q.parent.right,1===w(qe)&&(E(qe,0),E(q.parent,1),re(Ut,q.parent),qe=q.parent.right),0===w(qe.left)&&0===w(qe.right)?(E(qe,1),q=q.parent):(0===w(qe.right)&&(E(qe.left,0),E(qe,1),ye(Ut,qe),qe=q.parent.right),E(qe,w(q.parent)),E(q.parent,0),E(qe.right,0),re(Ut,q.parent),q=Ut.root)):(qe=q.parent.left,1===w(qe)&&(E(qe,0),E(q.parent,1),ye(Ut,q.parent),qe=q.parent.left),0===w(qe.left)&&0===w(qe.right)?(E(qe,1),q=q.parent):(0===w(qe.left)&&(E(qe.right,0),E(qe,1),re(Ut,qe),qe=q.parent.left),E(qe,w(q.parent)),E(q.parent,0),E(qe.left,0),ye(Ut,q.parent),q=Ut.root));E(q,0),ge()}function ge(){Y.parent=Y,Y.delta=0,Y.start=0,Y.end=0}function re(Ut,P){const q=P.right;q.delta+=P.delta,(q.delta<-1073741824||q.delta>1073741824)&&(Ut.requestNormalizeDelta=!0),q.start+=P.delta,q.end+=P.delta,P.right=q.left,q.left!==Y&&(q.left.parent=P),q.parent=P.parent,P.parent===Y?Ut.root=q:P===P.parent.left?P.parent.left=q:P.parent.right=q,q.left=P,P.parent=q,xe(P),xe(q)}function ye(Ut,P){const q=P.left;P.delta-=q.delta,(P.delta<-1073741824||P.delta>1073741824)&&(Ut.requestNormalizeDelta=!0),P.start-=q.delta,P.end-=q.delta,P.left=q.right,q.right!==Y&&(q.right.parent=P),q.parent=P.parent,P.parent===Y?Ut.root=q:P===P.parent.right?P.parent.right=q:P.parent.left=q,q.right=P,P.parent=q,xe(P),xe(q)}function ke(Ut){let P=Ut.end;if(Ut.left!==Y){const q=Ut.left.maxEnd;q>P&&(P=q)}if(Ut.right!==Y){const q=Ut.right.maxEnd+Ut.delta;q>P&&(P=q)}return P}function xe(Ut){Ut.maxEnd=ke(Ut)}function Pe(Ut){for(;Ut!==Y;){const P=ke(Ut);if(Ut.maxEnd===P)return;Ut.maxEnd=P,Ut=Ut.parent}}function fe(Ut,P,q,me){return Ut===q?P-me:Ut-q}class Te{constructor(P,q){this.piece=P,this.color=q,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==Ce)return Je(this.right);let P=this;for(;P.parent!==Ce&&P.parent.left!==P;)P=P.parent;return P.parent===Ce?Ce:P.parent}prev(){if(this.left!==Ce)return pe(this.left);let P=this;for(;P.parent!==Ce&&P.parent.right!==P;)P=P.parent;return P.parent===Ce?Ce:P.parent}detach(){this.parent=null,this.left=null,this.right=null}}const Ce=new Te(null,0);function Je(Ut){for(;Ut.left!==Ce;)Ut=Ut.left;return Ut}function pe(Ut){for(;Ut.right!==Ce;)Ut=Ut.right;return Ut}function Ve(Ut){return Ut===Ce?0:Ut.size_left+Ut.piece.length+Ve(Ut.right)}function Ae(Ut){return Ut===Ce?0:Ut.lf_left+Ut.piece.lineFeedCnt+Ae(Ut.right)}function Ee(){Ce.parent=Ce}function ze(Ut,P){let q=P.right;q.size_left+=P.size_left+(P.piece?P.piece.length:0),q.lf_left+=P.lf_left+(P.piece?P.piece.lineFeedCnt:0),P.right=q.left,q.left!==Ce&&(q.left.parent=P),q.parent=P.parent,P.parent===Ce?Ut.root=q:P.parent.left===P?P.parent.left=q:P.parent.right=q,q.left=P,P.parent=q}function Be(Ut,P){let q=P.left;P.left=q.right,q.right!==Ce&&(q.right.parent=P),q.parent=P.parent,P.size_left-=q.size_left+(q.piece?q.piece.length:0),P.lf_left-=q.lf_left+(q.piece?q.piece.lineFeedCnt:0),P.parent===Ce?Ut.root=q:P===P.parent.right?P.parent.right=q:P.parent.left=q,q.right=P,P.parent=q}function Ue(Ut,P){let q,me;if(P.left===Ce?(me=P,q=me.right):P.right===Ce?(me=P,q=me.left):(me=Je(P.right),q=me.right),me===Ut.root)return Ut.root=q,q.color=0,P.detach(),Ee(),void(Ut.root.parent=Ce);let qe,Ke=1===me.color;if(me===me.parent.left?me.parent.left=q:me.parent.right=q,me===P?(q.parent=me.parent,At(Ut,q)):(q.parent=me.parent===P?me:me.parent,At(Ut,q),me.left=P.left,me.right=P.right,me.parent=P.parent,me.color=P.color,P===Ut.root?Ut.root=me:P===P.parent.left?P.parent.left=me:P.parent.right=me,me.left!==Ce&&(me.left.parent=me),me.right!==Ce&&(me.right.parent=me),me.size_left=P.size_left,me.lf_left=P.lf_left,At(Ut,me)),P.detach(),q.parent.left===q){let st=Ve(q),jt=Ae(q);if(st!==q.parent.size_left||jt!==q.parent.lf_left){let Ft=st-q.parent.size_left,en=jt-q.parent.lf_left;q.parent.size_left=st,q.parent.lf_left=jt,vt(Ut,q.parent,Ft,en)}}if(At(Ut,q.parent),Ke)Ee();else{for(;q!==Ut.root&&0===q.color;)q===q.parent.left?(qe=q.parent.right,1===qe.color&&(qe.color=0,q.parent.color=1,ze(Ut,q.parent),qe=q.parent.right),0===qe.left.color&&0===qe.right.color?(qe.color=1,q=q.parent):(0===qe.right.color&&(qe.left.color=0,qe.color=1,Be(Ut,qe),qe=q.parent.right),qe.color=q.parent.color,q.parent.color=0,qe.right.color=0,ze(Ut,q.parent),q=Ut.root)):(qe=q.parent.left,1===qe.color&&(qe.color=0,q.parent.color=1,Be(Ut,q.parent),qe=q.parent.left),0===qe.left.color&&0===qe.right.color?(qe.color=1,q=q.parent):(0===qe.left.color&&(qe.right.color=0,qe.color=1,ze(Ut,qe),qe=q.parent.left),qe.color=q.parent.color,q.parent.color=0,qe.left.color=0,Be(Ut,q.parent),q=Ut.root));q.color=0,Ee()}}function ot(Ut,P){for(At(Ut,P);P!==Ut.root&&1===P.parent.color;)if(P.parent===P.parent.parent.left){const q=P.parent.parent.right;1===q.color?(P.parent.color=0,q.color=0,P.parent.parent.color=1,P=P.parent.parent):(P===P.parent.right&&ze(Ut,P=P.parent),P.parent.color=0,P.parent.parent.color=1,Be(Ut,P.parent.parent))}else{const q=P.parent.parent.left;1===q.color?(P.parent.color=0,q.color=0,P.parent.parent.color=1,P=P.parent.parent):(P===P.parent.left&&Be(Ut,P=P.parent),P.parent.color=0,P.parent.parent.color=1,ze(Ut,P.parent.parent))}Ut.root.color=0}function vt(Ut,P,q,me){for(;P!==Ut.root&&P!==Ce;)P.parent.left===P&&(P.parent.size_left+=q,P.parent.lf_left+=me),P=P.parent}function At(Ut,P){let q=0,me=0;if(P!==Ut.root){if(0===q){for(;P!==Ut.root&&P===P.parent.right;)P=P.parent;if(P===Ut.root)return;q=Ve((P=P.parent).left)-P.size_left,me=Ae(P.left)-P.lf_left,P.size_left+=q,P.lf_left+=me}for(;P!==Ut.root&&(0!==q||0!==me);)P.parent.left===P&&(P.parent.size_left+=q,P.parent.lf_left+=me),P=P.parent}}Ce.parent=Ce,Ce.left=Ce,Ce.right=Ce,Ce.color=0;var ve=a(2424);const ht=65535;function Ge(Ut){let P;return P=Ut[Ut.length-1]<65536?new Uint16Array(Ut.length):new Uint32Array(Ut.length),P.set(Ut,0),P}class De{constructor(P,q,me,Ke,qe){this.lineStarts=P,this.cr=q,this.lf=me,this.crlf=Ke,this.isBasicASCII=qe}}function Le(Ut,P=!0){let q=[0],me=1;for(let Ke=0,qe=Ut.length;Ke<qe;Ke++){const st=Ut.charCodeAt(Ke);13===st?Ke+1<qe&&10===Ut.charCodeAt(Ke+1)?(q[me++]=Ke+2,Ke++):q[me++]=Ke+1:10===st&&(q[me++]=Ke+1)}return P?Ge(q):q}class _t{constructor(P,q,me,Ke,qe){this.bufferIndex=P,this.start=q,this.end=me,this.lineFeedCnt=Ke,this.length=qe}}class Nt{constructor(P,q){this.buffer=P,this.lineStarts=q}}class zt{constructor(P,q){this._pieces=[],this._tree=P,this._BOM=q,this._index=0,P.root!==Ce&&P.iterate(P.root,me=>(me!==Ce&&this._pieces.push(me.piece),!0))}read(){return 0===this._pieces.length?0===this._index?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:0===this._index?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class pn{constructor(P){this._limit=P,this._cache=[]}get(P){for(let q=this._cache.length-1;q>=0;q--){let me=this._cache[q];if(me.nodeStartOffset<=P&&me.nodeStartOffset+me.node.piece.length>=P)return me}return null}get2(P){for(let q=this._cache.length-1;q>=0;q--){let me=this._cache[q];if(me.nodeStartLineNumber&&me.nodeStartLineNumber<P&&me.nodeStartLineNumber+me.node.piece.lineFeedCnt>=P)return me}return null}set(P){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(P)}validate(P){let q=!1,me=this._cache;for(let Ke=0;Ke<me.length;Ke++){let qe=me[Ke];(null===qe.node.parent||qe.nodeStartOffset>=P)&&(me[Ke]=null,q=!0)}if(q){let Ke=[];for(const qe of me)null!==qe&&Ke.push(qe);this._cache=Ke}}}class Qt{constructor(P,q,me){this.create(P,q,me)}create(P,q,me){this._buffers=[new Nt("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=Ce,this._lineCnt=1,this._length=0,this._EOL=q,this._EOLLength=q.length,this._EOLNormalized=me;let Ke=null;for(let qe=0,st=P.length;qe<st;qe++)if(P[qe].buffer.length>0){P[qe].lineStarts||(P[qe].lineStarts=Le(P[qe].buffer));let jt=new _t(qe+1,{line:0,column:0},{line:P[qe].lineStarts.length-1,column:P[qe].buffer.length-P[qe].lineStarts[P[qe].lineStarts.length-1]},P[qe].lineStarts.length-1,P[qe].buffer.length);this._buffers.push(P[qe]),Ke=this.rbInsertRight(Ke,jt)}this._searchCache=new pn(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(P){let me=65535-Math.floor(21845),Ke=2*me,qe="",st=0,jt=[];if(this.iterate(this.root,Ft=>{let en=this.getNodeContent(Ft),Yt=en.length;if(st<=me||st+Yt<Ke)return qe+=en,st+=Yt,!0;let tn=qe.replace(/\r\n|\r|\n/g,P);return jt.push(new Nt(tn,Le(tn))),qe=en,st=Yt,!0}),st>0){let Ft=qe.replace(/\r\n|\r|\n/g,P);jt.push(new Nt(Ft,Le(Ft)))}this.create(jt,P,!0)}getEOL(){return this._EOL}setEOL(P){this._EOL=P,this._EOLLength=this._EOL.length,this.normalizeEOL(P)}createSnapshot(P){return new zt(this,P)}getOffsetAt(P,q){let me=0,Ke=this.root;for(;Ke!==Ce;)if(Ke.left!==Ce&&Ke.lf_left+1>=P)Ke=Ke.left;else{if(Ke.lf_left+Ke.piece.lineFeedCnt+1>=P)return me+=Ke.size_left,me+(this.getAccumulatedValue(Ke,P-Ke.lf_left-2)+q-1);P-=Ke.lf_left+Ke.piece.lineFeedCnt,me+=Ke.size_left+Ke.piece.length,Ke=Ke.right}return me}getPositionAt(P){P=Math.floor(P),P=Math.max(0,P);let q=this.root,me=0,Ke=P;for(;q!==Ce;)if(0!==q.size_left&&q.size_left>=P)q=q.left;else{if(q.size_left+q.piece.length>=P){let qe=this.getIndexOf(q,P-q.size_left);if(me+=q.lf_left+qe.index,0===qe.index){let st=this.getOffsetAt(me+1,1);return new B.L(me+1,Ke-st+1)}return new B.L(me+1,qe.remainder+1)}if(P-=q.size_left+q.piece.length,me+=q.lf_left+q.piece.lineFeedCnt,q.right===Ce){let qe=this.getOffsetAt(me+1,1);return new B.L(me+1,Ke-P-qe+1)}q=q.right}return new B.L(1,1)}getValueInRange(P,q){if(P.startLineNumber===P.endLineNumber&&P.startColumn===P.endColumn)return"";let me=this.nodeAt2(P.startLineNumber,P.startColumn),Ke=this.nodeAt2(P.endLineNumber,P.endColumn),qe=this.getValueInRange2(me,Ke);return q?q===this._EOL&&this._EOLNormalized&&q===this.getEOL()&&this._EOLNormalized?qe:qe.replace(/\r\n|\r|\n/g,q):qe}getValueInRange2(P,q){if(P.node===q.node){let jt=P.node,Ft=this._buffers[jt.piece.bufferIndex].buffer,en=this.offsetInBuffer(jt.piece.bufferIndex,jt.piece.start);return Ft.substring(en+P.remainder,en+q.remainder)}let me=P.node,Ke=this._buffers[me.piece.bufferIndex].buffer,qe=this.offsetInBuffer(me.piece.bufferIndex,me.piece.start),st=Ke.substring(qe+P.remainder,qe+me.piece.length);for(me=me.next();me!==Ce;){let jt=this._buffers[me.piece.bufferIndex].buffer,Ft=this.offsetInBuffer(me.piece.bufferIndex,me.piece.start);if(me===q.node){st+=jt.substring(Ft,Ft+q.remainder);break}st+=jt.substr(Ft,me.piece.length),me=me.next()}return st}getLinesContent(){let P=[],q=0,me="",Ke=!1;return this.iterate(this.root,qe=>{if(qe===Ce)return!0;const st=qe.piece;let jt=st.length;if(0===jt)return!0;const Ft=this._buffers[st.bufferIndex].buffer,en=this._buffers[st.bufferIndex].lineStarts,Yt=st.start.line,tn=st.end.line;let un=en[Yt]+st.start.column;if(Ke&&(10===Ft.charCodeAt(un)&&(un++,jt--),P[q++]=me,me="",Ke=!1,0===jt))return!0;if(Yt===tn)return this._EOLNormalized||13!==Ft.charCodeAt(un+jt-1)?me+=Ft.substr(un,jt):(Ke=!0,me+=Ft.substr(un,jt-1)),!0;me+=this._EOLNormalized?Ft.substring(un,Math.max(un,en[Yt+1]-this._EOLLength)):Ft.substring(un,en[Yt+1]).replace(/(\r\n|\r|\n)$/,""),P[q++]=me;for(let Cn=Yt+1;Cn<tn;Cn++)me=this._EOLNormalized?Ft.substring(en[Cn],en[Cn+1]-this._EOLLength):Ft.substring(en[Cn],en[Cn+1]).replace(/(\r\n|\r|\n)$/,""),P[q++]=me;return this._EOLNormalized||13!==Ft.charCodeAt(en[tn]+st.end.column-1)?me=Ft.substr(en[tn],st.end.column):(Ke=!0,0===st.end.column?q--:me=Ft.substr(en[tn],st.end.column-1)),!0}),Ke&&(P[q++]=me,me=""),P[q++]=me,P}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(P){return this._lastVisitedLine.lineNumber===P||(this._lastVisitedLine.lineNumber=P,this._lastVisitedLine.value=P===this._lineCnt?this.getLineRawContent(P):this._EOLNormalized?this.getLineRawContent(P,this._EOLLength):this.getLineRawContent(P).replace(/(\r\n|\r|\n)$/,"")),this._lastVisitedLine.value}_getCharCode(P){if(P.remainder===P.node.piece.length){let q=P.node.next();if(!q)return 0;let me=this._buffers[q.piece.bufferIndex],Ke=this.offsetInBuffer(q.piece.bufferIndex,q.piece.start);return me.buffer.charCodeAt(Ke)}{let q=this._buffers[P.node.piece.bufferIndex],Ke=this.offsetInBuffer(P.node.piece.bufferIndex,P.node.piece.start)+P.remainder;return q.buffer.charCodeAt(Ke)}}getLineCharCode(P,q){let me=this.nodeAt2(P,q+1);return this._getCharCode(me)}getLineLength(P){if(P===this.getLineCount()){let q=this.getOffsetAt(P,1);return this.getLength()-q}return this.getOffsetAt(P+1,1)-this.getOffsetAt(P,1)-this._EOLLength}findMatchesInNode(P,q,me,Ke,qe,st,jt,Ft,en,Yt,tn){let kn,fi,hn,un=this._buffers[P.piece.bufferIndex],Cn=this.offsetInBuffer(P.piece.bufferIndex,P.piece.start),An=this.offsetInBuffer(P.piece.bufferIndex,qe),Bn=this.offsetInBuffer(P.piece.bufferIndex,st),qn={line:0,column:0};q._wordSeparators?(fi=un.buffer.substring(An,Bn),hn=Ze=>Ze+An,q.reset(0)):(fi=un.buffer,hn=Ze=>Ze,q.reset(An));do{if(kn=q.next(fi),kn){if(hn(kn.index)>=Bn)return Yt;this.positionInBuffer(P,hn(kn.index)-Cn,qn);let Ze=this.getLineFeedCnt(P.piece.bufferIndex,qe,qn),rt=qn.line===qe.line?qn.column-qe.column+Ke:qn.column+1;if(tn[Yt++]=(0,ve.iE)(new R.e(me+Ze,rt,me+Ze,rt+kn[0].length),kn,Ft),hn(kn.index)+kn[0].length>=Bn||Yt>=en)return Yt}}while(kn);return Yt}findMatchesLineByLine(P,q,me,Ke){const qe=[];let st=0;const jt=new ve.sz(q.wordSeparators,q.regex);let Ft=this.nodeAt2(P.startLineNumber,P.startColumn);if(null===Ft)return[];let en=this.nodeAt2(P.endLineNumber,P.endColumn);if(null===en)return[];let Yt=this.positionInBuffer(Ft.node,Ft.remainder),tn=this.positionInBuffer(en.node,en.remainder);if(Ft.node===en.node)return this.findMatchesInNode(Ft.node,jt,P.startLineNumber,P.startColumn,Yt,tn,q,me,Ke,st,qe),qe;let un=P.startLineNumber,Cn=Ft.node;for(;Cn!==en.node;){let Bn=this.getLineFeedCnt(Cn.piece.bufferIndex,Yt,Cn.piece.end);if(Bn>=1){let qn=this._buffers[Cn.piece.bufferIndex].lineStarts,fi=this.offsetInBuffer(Cn.piece.bufferIndex,Cn.piece.start);if(st=this.findMatchesInNode(Cn,jt,un,un===P.startLineNumber?P.startColumn:1,Yt,this.positionInBuffer(Cn,qn[Yt.line+Bn]-fi),q,me,Ke,st,qe),st>=Ke)return qe;un+=Bn}let kn=un===P.startLineNumber?P.startColumn-1:0;if(un===P.endLineNumber){const qn=this.getLineContent(un).substring(kn,P.endColumn-1);return st=this._findMatchesInLine(q,jt,qn,P.endLineNumber,kn,st,qe,me,Ke),qe}if(st=this._findMatchesInLine(q,jt,this.getLineContent(un).substr(kn),un,kn,st,qe,me,Ke),st>=Ke)return qe;un++,Ft=this.nodeAt2(un,1),Cn=Ft.node,Yt=this.positionInBuffer(Ft.node,Ft.remainder)}if(un===P.endLineNumber){let Bn=un===P.startLineNumber?P.startColumn-1:0;const kn=this.getLineContent(un).substring(Bn,P.endColumn-1);return st=this._findMatchesInLine(q,jt,kn,P.endLineNumber,Bn,st,qe,me,Ke),qe}return st=this.findMatchesInNode(en.node,jt,un,un===P.startLineNumber?P.startColumn:1,Yt,tn,q,me,Ke,st,qe),qe}_findMatchesInLine(P,q,me,Ke,qe,st,jt,Ft,en){const Yt=P.wordSeparators;if(!Ft&&P.simpleSearch){const un=P.simpleSearch,Cn=un.length,An=me.length;let Bn=-Cn;for(;-1!==(Bn=me.indexOf(un,Bn+Cn));)if((!Yt||(0,ve.cM)(Yt,me,An,Bn,Cn))&&(jt[st++]=new C.tk(new R.e(Ke,Bn+1+qe,Ke,Bn+1+Cn+qe),null),st>=en))return st;return st}let tn;q.reset(0);do{if(tn=q.next(me),tn&&(jt[st++]=(0,ve.iE)(new R.e(Ke,tn.index+1+qe,Ke,tn.index+1+tn[0].length+qe),tn,Ft),st>=en))return st}while(tn);return st}insert(P,q,me=!1){if(this._EOLNormalized=this._EOLNormalized&&me,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==Ce){let{node:Ke,remainder:qe,nodeStartOffset:st}=this.nodeAt(P),jt=Ke.piece,Ft=jt.bufferIndex,en=this.positionInBuffer(Ke,qe);if(0===Ke.piece.bufferIndex&&jt.end.line===this._lastChangeBufferPos.line&&jt.end.column===this._lastChangeBufferPos.column&&st+jt.length===P&&q.length<ht)return this.appendToNode(Ke,q),void this.computeBufferMetadata();if(st===P)this.insertContentToNodeLeft(q,Ke),this._searchCache.validate(P);else if(st+Ke.piece.length>P){let Yt=[],tn=new _t(jt.bufferIndex,en,jt.end,this.getLineFeedCnt(jt.bufferIndex,en,jt.end),this.offsetInBuffer(Ft,jt.end)-this.offsetInBuffer(Ft,en));if(this.shouldCheckCRLF()&&this.endWithCR(q)&&10===this.nodeCharCodeAt(Ke,qe)){let Bn={line:tn.start.line+1,column:0};tn=new _t(tn.bufferIndex,Bn,tn.end,this.getLineFeedCnt(tn.bufferIndex,Bn,tn.end),tn.length-1),q+="\n"}if(this.shouldCheckCRLF()&&this.startWithLF(q))if(13===this.nodeCharCodeAt(Ke,qe-1)){let Bn=this.positionInBuffer(Ke,qe-1);this.deleteNodeTail(Ke,Bn),q="\r"+q,0===Ke.piece.length&&Yt.push(Ke)}else this.deleteNodeTail(Ke,en);else this.deleteNodeTail(Ke,en);let un=this.createNewPieces(q);tn.length>0&&this.rbInsertRight(Ke,tn);let Cn=Ke;for(let An=0;An<un.length;An++)Cn=this.rbInsertRight(Cn,un[An]);this.deleteNodes(Yt)}else this.insertContentToNodeRight(q,Ke)}else{let Ke=this.createNewPieces(q),qe=this.rbInsertLeft(null,Ke[0]);for(let st=1;st<Ke.length;st++)qe=this.rbInsertRight(qe,Ke[st])}this.computeBufferMetadata()}delete(P,q){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",q<=0||this.root===Ce)return;let me=this.nodeAt(P),Ke=this.nodeAt(P+q),qe=me.node,st=Ke.node;if(qe===st){let un=this.positionInBuffer(qe,me.remainder),Cn=this.positionInBuffer(qe,Ke.remainder);if(me.nodeStartOffset===P){if(q===qe.piece.length){let An=qe.next();return Ue(this,qe),this.validateCRLFWithPrevNode(An),void this.computeBufferMetadata()}return this.deleteNodeHead(qe,Cn),this._searchCache.validate(P),this.validateCRLFWithPrevNode(qe),void this.computeBufferMetadata()}return me.nodeStartOffset+qe.piece.length===P+q?(this.deleteNodeTail(qe,un),this.validateCRLFWithNextNode(qe),void this.computeBufferMetadata()):(this.shrinkNode(qe,un,Cn),void this.computeBufferMetadata())}let jt=[],Ft=this.positionInBuffer(qe,me.remainder);this.deleteNodeTail(qe,Ft),this._searchCache.validate(P),0===qe.piece.length&&jt.push(qe);let en=this.positionInBuffer(st,Ke.remainder);this.deleteNodeHead(st,en),0===st.piece.length&&jt.push(st);for(let un=qe.next();un!==Ce&&un!==st;un=un.next())jt.push(un);let tn=0===qe.piece.length?qe.prev():qe;this.deleteNodes(jt),this.validateCRLFWithNextNode(tn),this.computeBufferMetadata()}insertContentToNodeLeft(P,q){let me=[];if(this.shouldCheckCRLF()&&this.endWithCR(P)&&this.startWithLF(q)){let st=q.piece,jt={line:st.start.line+1,column:0},Ft=new _t(st.bufferIndex,jt,st.end,this.getLineFeedCnt(st.bufferIndex,jt,st.end),st.length-1);q.piece=Ft,P+="\n",vt(this,q,-1,-1),0===q.piece.length&&me.push(q)}let Ke=this.createNewPieces(P),qe=this.rbInsertLeft(q,Ke[Ke.length-1]);for(let st=Ke.length-2;st>=0;st--)qe=this.rbInsertLeft(qe,Ke[st]);this.validateCRLFWithPrevNode(qe),this.deleteNodes(me)}insertContentToNodeRight(P,q){this.adjustCarriageReturnFromNext(P,q)&&(P+="\n");let me=this.createNewPieces(P),Ke=this.rbInsertRight(q,me[0]),qe=Ke;for(let st=1;st<me.length;st++)qe=this.rbInsertRight(qe,me[st]);this.validateCRLFWithPrevNode(Ke)}positionInBuffer(P,q,me){let Ke=P.piece,st=this._buffers[P.piece.bufferIndex].lineStarts,Ft=st[Ke.start.line]+Ke.start.column+q,en=Ke.start.line,Yt=Ke.end.line,tn=0,un=0,Cn=0;for(;en<=Yt&&(tn=en+(Yt-en)/2|0,Cn=st[tn],tn!==Yt);)if(un=st[tn+1],Ft<Cn)Yt=tn-1;else{if(!(Ft>=un))break;en=tn+1}return me?(me.line=tn,me.column=Ft-Cn,null):{line:tn,column:Ft-Cn}}getLineFeedCnt(P,q,me){if(0===me.column)return me.line-q.line;let Ke=this._buffers[P].lineStarts;if(me.line===Ke.length-1)return me.line-q.line;let st=Ke[me.line]+me.column;return Ke[me.line+1]>st+1?me.line-q.line:13===this._buffers[P].buffer.charCodeAt(st-1)?me.line-q.line+1:me.line-q.line}offsetInBuffer(P,q){return this._buffers[P].lineStarts[q.line]+q.column}deleteNodes(P){for(let q=0;q<P.length;q++)Ue(this,P[q])}createNewPieces(P){if(P.length>ht){let Yt=[];for(;P.length>ht;){const un=P.charCodeAt(ht-1);let Cn;13===un||un>=55296&&un<=56319?(Cn=P.substring(0,ht-1),P=P.substring(ht-1)):(Cn=P.substring(0,ht),P=P.substring(ht));let An=Le(Cn);Yt.push(new _t(this._buffers.length,{line:0,column:0},{line:An.length-1,column:Cn.length-An[An.length-1]},An.length-1,Cn.length)),this._buffers.push(new Nt(Cn,An))}let tn=Le(P);return Yt.push(new _t(this._buffers.length,{line:0,column:0},{line:tn.length-1,column:P.length-tn[tn.length-1]},tn.length-1,P.length)),this._buffers.push(new Nt(P,tn)),Yt}let q=this._buffers[0].buffer.length;const me=Le(P,!1);let Ke=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===q&&0!==q&&this.startWithLF(P)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},Ke=this._lastChangeBufferPos;for(let Yt=0;Yt<me.length;Yt++)me[Yt]+=q+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(me.slice(1)),this._buffers[0].buffer+="_"+P,q+=1}else{if(0!==q)for(let Yt=0;Yt<me.length;Yt++)me[Yt]+=q;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(me.slice(1)),this._buffers[0].buffer+=P}const qe=this._buffers[0].buffer.length;let st=this._buffers[0].lineStarts.length-1,Ft={line:st,column:qe-this._buffers[0].lineStarts[st]},en=new _t(0,Ke,Ft,this.getLineFeedCnt(0,Ke,Ft),qe-q);return this._lastChangeBufferPos=Ft,[en]}getLineRawContent(P,q=0){let me=this.root,Ke="",qe=this._searchCache.get2(P);if(qe){me=qe.node;let st=this.getAccumulatedValue(me,P-qe.nodeStartLineNumber-1),jt=this._buffers[me.piece.bufferIndex].buffer,Ft=this.offsetInBuffer(me.piece.bufferIndex,me.piece.start);if(qe.nodeStartLineNumber+me.piece.lineFeedCnt!==P){let en=this.getAccumulatedValue(me,P-qe.nodeStartLineNumber);return jt.substring(Ft+st,Ft+en-q)}Ke=jt.substring(Ft+st,Ft+me.piece.length)}else{let st=0;const jt=P;for(;me!==Ce;)if(me.left!==Ce&&me.lf_left>=P-1)me=me.left;else{if(me.lf_left+me.piece.lineFeedCnt>P-1){let Ft=this.getAccumulatedValue(me,P-me.lf_left-2),en=this.getAccumulatedValue(me,P-me.lf_left-1),Yt=this._buffers[me.piece.bufferIndex].buffer,tn=this.offsetInBuffer(me.piece.bufferIndex,me.piece.start);return st+=me.size_left,this._searchCache.set({node:me,nodeStartOffset:st,nodeStartLineNumber:jt-(P-1-me.lf_left)}),Yt.substring(tn+Ft,tn+en-q)}if(me.lf_left+me.piece.lineFeedCnt===P-1){let Ft=this.getAccumulatedValue(me,P-me.lf_left-2),en=this._buffers[me.piece.bufferIndex].buffer,Yt=this.offsetInBuffer(me.piece.bufferIndex,me.piece.start);Ke=en.substring(Yt+Ft,Yt+me.piece.length);break}P-=me.lf_left+me.piece.lineFeedCnt,st+=me.size_left+me.piece.length,me=me.right}}for(me=me.next();me!==Ce;){let st=this._buffers[me.piece.bufferIndex].buffer;if(me.piece.lineFeedCnt>0){let jt=this.getAccumulatedValue(me,0),Ft=this.offsetInBuffer(me.piece.bufferIndex,me.piece.start);return Ke+=st.substring(Ft,Ft+jt-q),Ke}{let jt=this.offsetInBuffer(me.piece.bufferIndex,me.piece.start);Ke+=st.substr(jt,me.piece.length)}me=me.next()}return Ke}computeBufferMetadata(){let P=this.root,q=1,me=0;for(;P!==Ce;)q+=P.lf_left+P.piece.lineFeedCnt,me+=P.size_left+P.piece.length,P=P.right;this._lineCnt=q,this._length=me,this._searchCache.validate(this._length)}getIndexOf(P,q){let me=P.piece,Ke=this.positionInBuffer(P,q),qe=Ke.line-me.start.line;if(this.offsetInBuffer(me.bufferIndex,me.end)-this.offsetInBuffer(me.bufferIndex,me.start)===q){let st=this.getLineFeedCnt(P.piece.bufferIndex,me.start,Ke);if(st!==qe)return{index:st,remainder:0}}return{index:qe,remainder:Ke.column}}getAccumulatedValue(P,q){if(q<0)return 0;let me=P.piece,Ke=this._buffers[me.bufferIndex].lineStarts,qe=me.start.line+q+1;return qe>me.end.line?Ke[me.end.line]+me.end.column-Ke[me.start.line]-me.start.column:Ke[qe]-Ke[me.start.line]-me.start.column}deleteNodeTail(P,q){const me=P.piece,Ke=me.lineFeedCnt,qe=this.offsetInBuffer(me.bufferIndex,me.end),st=q,jt=this.offsetInBuffer(me.bufferIndex,st),Ft=this.getLineFeedCnt(me.bufferIndex,me.start,st),en=Ft-Ke,Yt=jt-qe;P.piece=new _t(me.bufferIndex,me.start,st,Ft,me.length+Yt),vt(this,P,Yt,en)}deleteNodeHead(P,q){const me=P.piece,Ke=me.lineFeedCnt,qe=this.offsetInBuffer(me.bufferIndex,me.start),st=q,jt=this.getLineFeedCnt(me.bufferIndex,st,me.end),en=jt-Ke,Yt=qe-this.offsetInBuffer(me.bufferIndex,st);P.piece=new _t(me.bufferIndex,st,me.end,jt,me.length+Yt),vt(this,P,Yt,en)}shrinkNode(P,q,me){const Ke=P.piece,qe=Ke.start,st=Ke.end,jt=Ke.length,Ft=Ke.lineFeedCnt,en=q,Yt=this.getLineFeedCnt(Ke.bufferIndex,Ke.start,en),tn=this.offsetInBuffer(Ke.bufferIndex,q)-this.offsetInBuffer(Ke.bufferIndex,qe);P.piece=new _t(Ke.bufferIndex,Ke.start,en,Yt,tn),vt(this,P,tn-jt,Yt-Ft);let un=new _t(Ke.bufferIndex,me,st,this.getLineFeedCnt(Ke.bufferIndex,me,st),this.offsetInBuffer(Ke.bufferIndex,st)-this.offsetInBuffer(Ke.bufferIndex,me)),Cn=this.rbInsertRight(P,un);this.validateCRLFWithPrevNode(Cn)}appendToNode(P,q){this.adjustCarriageReturnFromNext(q,P)&&(q+="\n");const me=this.shouldCheckCRLF()&&this.startWithLF(q)&&this.endWithCR(P),Ke=this._buffers[0].buffer.length;this._buffers[0].buffer+=q;const qe=Le(q,!1);for(let Cn=0;Cn<qe.length;Cn++)qe[Cn]+=Ke;if(me){let Cn=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:Ke-Cn}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(qe.slice(1));const st=this._buffers[0].lineStarts.length-1,Ft={line:st,column:this._buffers[0].buffer.length-this._buffers[0].lineStarts[st]},en=P.piece.length+q.length,Yt=P.piece.lineFeedCnt,tn=this.getLineFeedCnt(0,P.piece.start,Ft),un=tn-Yt;P.piece=new _t(P.piece.bufferIndex,P.piece.start,Ft,tn,en),this._lastChangeBufferPos=Ft,vt(this,P,q.length,un)}nodeAt(P){let q=this.root,me=this._searchCache.get(P);if(me)return{node:me.node,nodeStartOffset:me.nodeStartOffset,remainder:P-me.nodeStartOffset};let Ke=0;for(;q!==Ce;)if(q.size_left>P)q=q.left;else{if(q.size_left+q.piece.length>=P){Ke+=q.size_left;let qe={node:q,remainder:P-q.size_left,nodeStartOffset:Ke};return this._searchCache.set(qe),qe}P-=q.size_left+q.piece.length,Ke+=q.size_left+q.piece.length,q=q.right}return null}nodeAt2(P,q){let me=this.root,Ke=0;for(;me!==Ce;)if(me.left!==Ce&&me.lf_left>=P-1)me=me.left;else{if(me.lf_left+me.piece.lineFeedCnt>P-1){let qe=this.getAccumulatedValue(me,P-me.lf_left-2),st=this.getAccumulatedValue(me,P-me.lf_left-1);return Ke+=me.size_left,{node:me,remainder:Math.min(qe+q-1,st),nodeStartOffset:Ke}}if(me.lf_left+me.piece.lineFeedCnt===P-1){let qe=this.getAccumulatedValue(me,P-me.lf_left-2);if(qe+q-1<=me.piece.length)return{node:me,remainder:qe+q-1,nodeStartOffset:Ke};q-=me.piece.length-qe;break}P-=me.lf_left+me.piece.lineFeedCnt,Ke+=me.size_left+me.piece.length,me=me.right}for(me=me.next();me!==Ce;){if(me.piece.lineFeedCnt>0){let qe=this.getAccumulatedValue(me,0),st=this.offsetOfNode(me);return{node:me,remainder:Math.min(q-1,qe),nodeStartOffset:st}}if(me.piece.length>=q-1)return{node:me,remainder:q-1,nodeStartOffset:this.offsetOfNode(me)};q-=me.piece.length,me=me.next()}return null}nodeCharCodeAt(P,q){if(P.piece.lineFeedCnt<1)return-1;let me=this._buffers[P.piece.bufferIndex],Ke=this.offsetInBuffer(P.piece.bufferIndex,P.piece.start)+q;return me.buffer.charCodeAt(Ke)}offsetOfNode(P){if(!P)return 0;let q=P.size_left;for(;P!==this.root;)P.parent.right===P&&(q+=P.parent.size_left+P.parent.piece.length),P=P.parent;return q}shouldCheckCRLF(){return!(this._EOLNormalized&&"\n"===this._EOL)}startWithLF(P){if("string"==typeof P)return 10===P.charCodeAt(0);if(P===Ce||0===P.piece.lineFeedCnt)return!1;let q=P.piece,me=this._buffers[q.bufferIndex].lineStarts,Ke=q.start.line,qe=me[Ke]+q.start.column;return!(Ke===me.length-1||me[Ke+1]>qe+1)&&10===this._buffers[q.bufferIndex].buffer.charCodeAt(qe)}endWithCR(P){return"string"==typeof P?13===P.charCodeAt(P.length-1):P!==Ce&&0!==P.piece.lineFeedCnt&&13===this.nodeCharCodeAt(P,P.piece.length-1)}validateCRLFWithPrevNode(P){if(this.shouldCheckCRLF()&&this.startWithLF(P)){let q=P.prev();this.endWithCR(q)&&this.fixCRLF(q,P)}}validateCRLFWithNextNode(P){if(this.shouldCheckCRLF()&&this.endWithCR(P)){let q=P.next();this.startWithLF(q)&&this.fixCRLF(P,q)}}fixCRLF(P,q){let qe,me=[],Ke=this._buffers[P.piece.bufferIndex].lineStarts;qe=0===P.piece.end.column?{line:P.piece.end.line-1,column:Ke[P.piece.end.line]-Ke[P.piece.end.line-1]-1}:{line:P.piece.end.line,column:P.piece.end.column-1},P.piece=new _t(P.piece.bufferIndex,P.piece.start,qe,P.piece.lineFeedCnt-1,P.piece.length-1),vt(this,P,-1,-1),0===P.piece.length&&me.push(P);let Ft={line:q.piece.start.line+1,column:0};const en=q.piece.length-1,Yt=this.getLineFeedCnt(q.piece.bufferIndex,Ft,q.piece.end);q.piece=new _t(q.piece.bufferIndex,Ft,q.piece.end,Yt,en),vt(this,q,-1,-1),0===q.piece.length&&me.push(q);let tn=this.createNewPieces("\r\n");this.rbInsertRight(P,tn[0]);for(let un=0;un<me.length;un++)Ue(this,me[un])}adjustCarriageReturnFromNext(P,q){if(this.shouldCheckCRLF()&&this.endWithCR(P)){let me=q.next();if(this.startWithLF(me)){if(P+="\n",1===me.piece.length)Ue(this,me);else{const Ke=me.piece,qe={line:Ke.start.line+1,column:0},st=Ke.length-1,jt=this.getLineFeedCnt(Ke.bufferIndex,qe,Ke.end);me.piece=new _t(Ke.bufferIndex,qe,Ke.end,jt,st),vt(this,me,-1,-1)}return!0}}return!1}iterate(P,q){return P===Ce?q(Ce):this.iterate(P.left,q)&&q(P)&&this.iterate(P.right,q)}getNodeContent(P){if(P===Ce)return"";let me,q=this._buffers[P.piece.bufferIndex],Ke=P.piece,qe=this.offsetInBuffer(Ke.bufferIndex,Ke.start),st=this.offsetInBuffer(Ke.bufferIndex,Ke.end);return me=q.buffer.substring(qe,st),me}getPieceContent(P){let q=this._buffers[P.bufferIndex],me=this.offsetInBuffer(P.bufferIndex,P.start),Ke=this.offsetInBuffer(P.bufferIndex,P.end);return q.buffer.substring(me,Ke)}rbInsertRight(P,q){let me=new Te(q,1);if(me.left=Ce,me.right=Ce,me.parent=Ce,me.size_left=0,me.lf_left=0,this.root===Ce)this.root=me,me.color=0;else if(P.right===Ce)P.right=me,me.parent=P;else{let qe=Je(P.right);qe.left=me,me.parent=qe}return ot(this,me),me}rbInsertLeft(P,q){let me=new Te(q,1);if(me.left=Ce,me.right=Ce,me.parent=Ce,me.size_left=0,me.lf_left=0,this.root===Ce)this.root=me,me.color=0;else if(P.left===Ce)P.left=me,me.parent=P;else{let Ke=pe(P.left);Ke.right=me,me.parent=Ke}return ot(this,me),me}}var Ht=a(1496),qt=a(6043);class nt extends j.JT{constructor(P,q,me,Ke,qe,st,jt){super(),this._onDidChangeContent=this._register(new U.Q5),this._BOM=q,this._mightContainNonBasicASCII=!st,this._mightContainRTL=Ke,this._mightContainUnusualLineTerminators=qe,this._pieceTree=new Qt(P,me,jt)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(P){return this._pieceTree.createSnapshot(P?this._BOM:"")}getOffsetAt(P,q){return this._pieceTree.getOffsetAt(P,q)}getPositionAt(P){return this._pieceTree.getPositionAt(P)}getRangeAt(P,q){let me=P+q;const Ke=this.getPositionAt(P),qe=this.getPositionAt(me);return new R.e(Ke.lineNumber,Ke.column,qe.lineNumber,qe.column)}getValueInRange(P,q=0){if(P.isEmpty())return"";const me=this._getEndOfLine(q);return this._pieceTree.getValueInRange(P,me)}getValueLengthInRange(P,q=0){if(P.isEmpty())return 0;if(P.startLineNumber===P.endLineNumber)return P.endColumn-P.startColumn;let me=this.getOffsetAt(P.startLineNumber,P.startColumn);return this.getOffsetAt(P.endLineNumber,P.endColumn)-me}getCharacterCountInRange(P,q=0){if(this._mightContainNonBasicASCII){let me=0;const Ke=P.startLineNumber,qe=P.endLineNumber;for(let st=Ke;st<=qe;st++){const jt=this.getLineContent(st),en=st===qe?P.endColumn-1:jt.length;for(let Yt=st===Ke?P.startColumn-1:0;Yt<en;Yt++)O.ZG(jt.charCodeAt(Yt))?(me+=1,Yt+=1):me+=1}return me+=this._getEndOfLine(q).length*(qe-Ke),me}return this.getValueLengthInRange(P,q)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(P){return this._pieceTree.getLineContent(P)}getLineCharCode(P,q){return this._pieceTree.getLineCharCode(P,q)}getLineLength(P){return this._pieceTree.getLineLength(P)}getLineFirstNonWhitespaceColumn(P){const q=O.LC(this.getLineContent(P));return-1===q?0:q+1}getLineLastNonWhitespaceColumn(P){const q=O.ow(this.getLineContent(P));return-1===q?0:q+2}_getEndOfLine(P){switch(P){case 1:return"\n";case 2:return"\r\n";case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(P){this._pieceTree.setEOL(P)}applyEdits(P,q,me){let Ke=this._mightContainRTL,qe=this._mightContainUnusualLineTerminators,st=this._mightContainNonBasicASCII,jt=!0,Ft=[];for(let Bn=0;Bn<P.length;Bn++){let kn=P[Bn];jt&&kn._isTracked&&(jt=!1);let qn=kn.range;if(kn.text){let tt=!0;st||(tt=!O.$i(kn.text),st=tt),!Ke&&tt&&(Ke=O.Ut(kn.text)),!qe&&tt&&(qe=O.ab(kn.text))}let fi="",hn=0,Ze=0,rt=0;if(kn.text){let tt;[hn,Ze,rt,tt]=(0,Ht.QZ)(kn.text);const we=this.getEOL();fi=0===tt||tt===("\r\n"===we?2:1)?kn.text:kn.text.replace(/\r\n|\r|\n/g,we)}Ft[Bn]={sortIndex:Bn,identifier:kn.identifier||null,range:qn,rangeOffset:this.getOffsetAt(qn.startLineNumber,qn.startColumn),rangeLength:this.getValueLengthInRange(qn),text:fi,eolCount:hn,firstLineLength:Ze,lastLineLength:rt,forceMoveMarkers:Boolean(kn.forceMoveMarkers),isAutoWhitespaceEdit:kn.isAutoWhitespaceEdit||!1}}Ft.sort(nt._sortOpsAscending);let en=!1;for(let Bn=0,kn=Ft.length-1;Bn<kn;Bn++){let qn=Ft[Bn].range.getEndPosition(),fi=Ft[Bn+1].range.getStartPosition();if(fi.isBeforeOrEqual(qn)){if(fi.isBefore(qn))throw new Error("Overlapping ranges are not allowed!");en=!0}}jt&&(Ft=this._reduceOperations(Ft));let Yt=me||q?nt._getInverseEditRanges(Ft):[],tn=[];if(q)for(let Bn=0;Bn<Ft.length;Bn++){let kn=Ft[Bn],qn=Yt[Bn];if(kn.isAutoWhitespaceEdit&&kn.range.isEmpty())for(let fi=qn.startLineNumber;fi<=qn.endLineNumber;fi++){let hn="";fi===qn.startLineNumber&&(hn=this.getLineContent(kn.range.startLineNumber),-1!==O.LC(hn))||tn.push({lineNumber:fi,oldContent:hn})}}let un=null;if(me){let Bn=0;un=[];for(let kn=0;kn<Ft.length;kn++){const qn=Ft[kn],fi=Yt[kn],hn=this.getValueInRange(qn.range),Ze=qn.rangeOffset+Bn;Bn+=qn.text.length-hn.length,un[kn]={sortIndex:qn.sortIndex,identifier:qn.identifier,range:fi,text:hn,textChange:new qt.q(qn.rangeOffset,hn,Ze,qn.text)}}en||un.sort((kn,qn)=>kn.sortIndex-qn.sortIndex)}this._mightContainRTL=Ke,this._mightContainUnusualLineTerminators=qe,this._mightContainNonBasicASCII=st;const Cn=this._doApplyEdits(Ft);let An=null;if(q&&tn.length>0){tn.sort((Bn,kn)=>kn.lineNumber-Bn.lineNumber),An=[];for(let Bn=0,kn=tn.length;Bn<kn;Bn++){let qn=tn[Bn].lineNumber;if(Bn>0&&tn[Bn-1].lineNumber===qn)continue;let fi=tn[Bn].oldContent,hn=this.getLineContent(qn);0===hn.length||hn===fi||-1!==O.LC(hn)||An.push(qn)}}return this._onDidChangeContent.fire(),new C.je(un,Cn,An)}_reduceOperations(P){return P.length<1e3?P:[this._toSingleEditOperation(P)]}_toSingleEditOperation(P){let q=!1;const me=P[0].range,Ke=P[P.length-1].range,qe=new R.e(me.startLineNumber,me.startColumn,Ke.endLineNumber,Ke.endColumn);let st=me.startLineNumber,jt=me.startColumn;const Ft=[];for(let Cn=0,An=P.length;Cn<An;Cn++){const Bn=P[Cn],kn=Bn.range;q=q||Bn.forceMoveMarkers,Ft.push(this.getValueInRange(new R.e(st,jt,kn.startLineNumber,kn.startColumn))),Bn.text.length>0&&Ft.push(Bn.text),st=kn.endLineNumber,jt=kn.endColumn}const en=Ft.join(""),[Yt,tn,un]=(0,Ht.QZ)(en);return{sortIndex:0,identifier:P[0].identifier,range:qe,rangeOffset:this.getOffsetAt(qe.startLineNumber,qe.startColumn),rangeLength:this.getValueLengthInRange(qe,0),text:en,eolCount:Yt,firstLineLength:tn,lastLineLength:un,forceMoveMarkers:q,isAutoWhitespaceEdit:!1}}_doApplyEdits(P){P.sort(nt._sortOpsDescending);let q=[];for(let me=0;me<P.length;me++){let Ke=P[me];const qe=Ke.range.startLineNumber,st=Ke.range.startColumn,jt=Ke.range.endLineNumber,Ft=Ke.range.endColumn;if(qe===jt&&st===Ft&&0===Ke.text.length)continue;Ke.text?(this._pieceTree.delete(Ke.rangeOffset,Ke.rangeLength),this._pieceTree.insert(Ke.rangeOffset,Ke.text,!0)):this._pieceTree.delete(Ke.rangeOffset,Ke.rangeLength);const en=new R.e(qe,st,jt,Ft);q.push({range:en,rangeLength:Ke.rangeLength,text:Ke.text,rangeOffset:Ke.rangeOffset,forceMoveMarkers:Ke.forceMoveMarkers})}return q}findMatchesLineByLine(P,q,me,Ke){return this._pieceTree.findMatchesLineByLine(P,q,me,Ke)}static _getInverseEditRanges(P){let q=[],me=0,Ke=0,qe=null;for(let st=0,jt=P.length;st<jt;st++){let en,Yt,tn,Ft=P[st];if(qe?qe.range.endLineNumber===Ft.range.startLineNumber?(en=me,Yt=Ke+(Ft.range.startColumn-qe.range.endColumn)):(en=me+(Ft.range.startLineNumber-qe.range.endLineNumber),Yt=Ft.range.startColumn):(en=Ft.range.startLineNumber,Yt=Ft.range.startColumn),Ft.text.length>0){const un=Ft.eolCount+1;tn=1===un?new R.e(en,Yt,en,Yt+Ft.firstLineLength):new R.e(en,Yt,en+un-1,Ft.lastLineLength+1)}else tn=new R.e(en,Yt,en,Yt);me=tn.endLineNumber,Ke=tn.endColumn,q.push(tn),qe=Ft}return q}static _sortOpsAscending(P,q){let me=R.e.compareRangesUsingEnds(P.range,q.range);return 0===me?P.sortIndex-q.sortIndex:me}static _sortOpsDescending(P,q){let me=R.e.compareRangesUsingEnds(P.range,q.range);return 0===me?q.sortIndex-P.sortIndex:-me}}class bt{constructor(P,q,me,Ke,qe,st,jt,Ft,en){this._chunks=P,this._bom=q,this._cr=me,this._lf=Ke,this._crlf=qe,this._containsRTL=st,this._containsUnusualLineTerminators=jt,this._isBasicASCII=Ft,this._normalizeEOL=en}_getEOL(P){const q=this._cr+this._lf+this._crlf;return 0===q?1===P?"\n":"\r\n":this._cr+this._crlf>q/2?"\r\n":"\n"}create(P){const q=this._getEOL(P);let me=this._chunks;if(this._normalizeEOL&&("\r\n"===q&&(this._cr>0||this._lf>0)||"\n"===q&&(this._cr>0||this._crlf>0)))for(let qe=0,st=me.length;qe<st;qe++){let jt=me[qe].buffer.replace(/\r\n|\r|\n/g,q),Ft=Le(jt);me[qe]=new Nt(jt,Ft)}const Ke=new nt(me,this._bom,q,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:Ke,disposable:Ke}}}class Rt{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(P){if(0===P.length)return;0===this.chunks.length&&O.uS(P)&&(this.BOM=O.c1,P=P.substr(1));const q=P.charCodeAt(P.length-1);13===q||q>=55296&&q<=56319?(this._acceptChunk1(P.substr(0,P.length-1),!1),this._hasPreviousChar=!0,this._previousChar=q):(this._acceptChunk1(P,!1),this._hasPreviousChar=!1,this._previousChar=q)}_acceptChunk1(P,q){!q&&0===P.length||this._acceptChunk2(this._hasPreviousChar?String.fromCharCode(this._previousChar)+P:P)}_acceptChunk2(P){const q=function(Ut,P){Ut.length=0,Ut[0]=0;let q=1,me=0,Ke=0,qe=0,st=!0;for(let Ft=0,en=P.length;Ft<en;Ft++){const Yt=P.charCodeAt(Ft);13===Yt?Ft+1<en&&10===P.charCodeAt(Ft+1)?(qe++,Ut[q++]=Ft+2,Ft++):(me++,Ut[q++]=Ft+1):10===Yt?(Ke++,Ut[q++]=Ft+1):st&&9!==Yt&&(Yt<32||Yt>126)&&(st=!1)}const jt=new De(Ge(Ut),me,Ke,qe,st);return Ut.length=0,jt}(this._tmpLineStarts,P);this.chunks.push(new Nt(P,q.lineStarts)),this.cr+=q.cr,this.lf+=q.lf,this.crlf+=q.crlf,this.isBasicASCII&&(this.isBasicASCII=q.isBasicASCII),!this.isBasicASCII&&!this.containsRTL&&(this.containsRTL=O.Ut(P)),!this.isBasicASCII&&!this.containsUnusualLineTerminators&&(this.containsUnusualLineTerminators=O.ab(P))}finish(P=!0){return this._finish(),new bt(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,P)}_finish(){if(0===this.chunks.length&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;let P=this.chunks[this.chunks.length-1];P.buffer+=String.fromCharCode(this._previousChar);let q=Le(P.buffer);P.lineStarts=q,13===this._previousChar&&this.cr++}}}var Dt=a(2116),Xe=a(2291),ft=a(1959),Oe=a(6412),We=a(8995),Ne=a(2329),J=a(9190);class _e{constructor(){this._beginState=[],this._valid=[],this._len=0,this._invalidLineStartIndex=0}_reset(P){this._beginState=[],this._valid=[],this._len=0,this._invalidLineStartIndex=0,P&&this._setBeginState(0,P)}flush(P){this._reset(P)}get invalidLineStartIndex(){return this._invalidLineStartIndex}_invalidateLine(P){P<this._len&&(this._valid[P]=!1),P<this._invalidLineStartIndex&&(this._invalidLineStartIndex=P)}_isValid(P){return P<this._len&&this._valid[P]}getBeginState(P){return P<this._len?this._beginState[P]:null}_ensureLine(P){for(;P>=this._len;)this._beginState[this._len]=null,this._valid[this._len]=!1,this._len++}_deleteLines(P,q){0!==q&&(P+q>this._len&&(q=this._len-P),this._beginState.splice(P,q),this._valid.splice(P,q),this._len-=q)}_insertLines(P,q){if(0===q)return;let me=[],Ke=[];for(let qe=0;qe<q;qe++)me[qe]=null,Ke[qe]=!1;this._beginState=Xe.Zv(this._beginState,P,me),this._valid=Xe.Zv(this._valid,P,Ke),this._len+=q}_setValid(P,q){this._ensureLine(P),this._valid[P]=q}_setBeginState(P,q){this._ensureLine(P),this._beginState[P]=q}setEndState(P,q,me){if(this._setValid(q,!0),this._invalidLineStartIndex=q+1,q===P-1)return;const Ke=this.getBeginState(q+1);if(null===Ke||!me.equals(Ke))return this._setBeginState(q+1,me),void this._invalidateLine(q+1);let qe=q+1;for(;qe<P&&this._isValid(qe);)qe++;this._invalidLineStartIndex=qe}setFakeTokens(P){this._setValid(P,!1)}applyEdits(P,q){for(let st=Math.min(P.endLineNumber-P.startLineNumber,q);st>=0;st--)this._invalidateLine(P.startLineNumber+st-1);this._acceptDeleteRange(P),this._acceptInsertText(new B.L(P.startLineNumber,P.startColumn),q)}_acceptDeleteRange(P){P.startLineNumber-1>=this._len||this._deleteLines(P.startLineNumber,P.endLineNumber-P.startLineNumber)}_acceptInsertText(P,q){P.lineNumber-1>=this._len||this._insertLines(P.lineNumber,q)}}class $e extends j.JT{constructor(P){super(),this._isDisposed=!1,this._textModel=P,this._tokenizationStateStore=new _e,this._tokenizationSupport=null,this._register(Oe.RW.onDidChange(q=>{const me=this._textModel.getLanguageIdentifier();-1!==q.changedLanguages.indexOf(me.language)&&(this._resetTokenizationState(),this._textModel.clearTokens())})),this._register(this._textModel.onDidChangeContentFast(q=>{if(q.isFlush)this._resetTokenizationState();else{for(let me=0,Ke=q.changes.length;me<Ke;me++){const qe=q.changes[me],[st]=(0,Ht.QZ)(qe.text);this._tokenizationStateStore.applyEdits(qe.range,st)}this._beginBackgroundTokenization()}})),this._register(this._textModel.onDidChangeAttached(()=>{this._beginBackgroundTokenization()})),this._register(this._textModel.onDidChangeLanguage(()=>{this._resetTokenizationState(),this._textModel.clearTokens()})),this._resetTokenizationState()}dispose(){this._isDisposed=!0,super.dispose()}_resetTokenizationState(){const[P,q]=function(Ut){const P=Ut.getLanguageIdentifier();let q=Ut.isTooLargeForTokenization()?null:Oe.RW.get(P.language),me=null;if(q)try{me=q.getInitialState()}catch(Ke){(0,T.dL)(Ke),q=null}return[q,me]}(this._textModel);this._tokenizationSupport=P,this._tokenizationStateStore.flush(q),this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._textModel.isAttachedToEditor()&&this._hasLinesToTokenize()&&J.xS(()=>{this._isDisposed||this._revalidateTokensNow()})}_revalidateTokensNow(P=this._textModel.getLineCount()){const me=new Ht.DA,Ke=Ne.G.create(!1);for(;this._hasLinesToTokenize()&&!(Ke.elapsed()>1||this._tokenizeOneInvalidLine(me)>=P););this._beginBackgroundTokenization(),this._textModel.setTokens(me.tokens)}tokenizeViewport(P,q){const me=new Ht.DA;this._tokenizeViewport(me,P,q),this._textModel.setTokens(me.tokens)}reset(){this._resetTokenizationState(),this._textModel.clearTokens()}forceTokenization(P){const q=new Ht.DA;this._updateTokensUntilLine(q,P),this._textModel.setTokens(q.tokens)}isCheapToTokenize(P){if(!this._tokenizationSupport)return!0;const q=this._tokenizationStateStore.invalidLineStartIndex+1;return!(P>q)&&(P<q||this._textModel.getLineLength(P)<2048)}_hasLinesToTokenize(){return!!this._tokenizationSupport&&this._tokenizationStateStore.invalidLineStartIndex<this._textModel.getLineCount()}_tokenizeOneInvalidLine(P){if(!this._hasLinesToTokenize())return this._textModel.getLineCount()+1;const q=this._tokenizationStateStore.invalidLineStartIndex+1;return this._updateTokensUntilLine(P,q),q}_updateTokensUntilLine(P,q){if(!this._tokenizationSupport)return;const me=this._textModel.getLanguageIdentifier(),Ke=this._textModel.getLineCount(),qe=q-1;for(let st=this._tokenizationStateStore.invalidLineStartIndex;st<=qe;st++){const jt=this._textModel.getLineContent(st+1),Ft=this._tokenizationStateStore.getBeginState(st),en=Et(me,this._tokenizationSupport,jt,!0,Ft);P.add(st+1,en.tokens),this._tokenizationStateStore.setEndState(Ke,st,en.endState),st=this._tokenizationStateStore.invalidLineStartIndex-1}}_tokenizeViewport(P,q,me){if(!this._tokenizationSupport||me<=this._tokenizationStateStore.invalidLineStartIndex)return;if(q<=this._tokenizationStateStore.invalidLineStartIndex)return void this._updateTokensUntilLine(P,me);let Ke=this._textModel.getLineFirstNonWhitespaceColumn(q),qe=[],st=null;for(let en=q-1;Ke>0&&en>=1;en--){let Yt=this._textModel.getLineFirstNonWhitespaceColumn(en);if(0!==Yt&&Yt<Ke){if(st=this._tokenizationStateStore.getBeginState(en-1),st)break;qe.push(this._textModel.getLineContent(en)),Ke=Yt}}st||(st=this._tokenizationSupport.getInitialState());const jt=this._textModel.getLanguageIdentifier();let Ft=st;for(let en=qe.length-1;en>=0;en--)Ft=Et(jt,this._tokenizationSupport,qe[en],!1,Ft).endState;for(let en=q;en<=me;en++){let Yt=this._textModel.getLineContent(en),tn=Et(jt,this._tokenizationSupport,Yt,!0,Ft);P.add(en,tn.tokens),this._tokenizationStateStore.setFakeTokens(en-1),Ft=tn.endState}}}function Et(Ut,P,q,me,Ke){let qe=null;if(P)try{qe=P.tokenize2(q,me,Ke.clone(),0)}catch(st){(0,T.dL)(st)}return qe||(qe=(0,We.mh)(Ut.id,q,Ke,0)),ft.A.convertToEndOffset(qe.tokens,q.length),qe}var Lt=a(6983),Pt=a(2587),on=a(2612),Kt=a(7222),bn=a(3727);function Un(Ut,P){return("string"==typeof Ut?function(Ut){const P=new Rt;return P.acceptChunk(Ut),P.finish()}(Ut):Ut).create(P)}let zn=0;class Ii{constructor(P){this._source=P,this._eos=!1}read(){if(this._eos)return null;let P=[],q=0,me=0;for(;;){let Ke=this._source.read();if(null===Ke)return this._eos=!0,0===q?null:P.join("");if(Ke.length>0&&(P[q++]=Ke,me+=Ke.length),me>=65536)return P.join("")}}}const Fn=()=>{throw new Error("Invalid change accessor")};class ut{constructor(){this._searchCanceledBrand=void 0}}function Mt(Ut){return Ut instanceof ut?null:Ut}ut.INSTANCE=new ut;class kt extends j.JT{constructor(P,q,me,Ke=null,qe){super(),this._onWillDispose=this._register(new U.Q5),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new rs(Yt=>this.handleBeforeFireDecorationsChangedEvent(Yt))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeLanguage=this._register(new U.Q5),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new U.Q5),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new U.Q5),this.onDidChangeTokens=this._onDidChangeTokens.event,this._onDidChangeOptions=this._register(new U.Q5),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new U.Q5),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeContentOrInjectedText=this._register(new U.Q5),this.onDidChangeContentOrInjectedText=this._onDidChangeContentOrInjectedText.event,this._eventEmitter=this._register(new vs),this._register(this._eventEmitter.fastEvent(Yt=>{this._onDidChangeContentOrInjectedText.fire(Yt.rawContentChangedEvent)})),zn++,this.id="$model"+zn,this.isForSimpleWidget=q.isForSimpleWidget,this._associatedResource=null==Ke?k.o.parse("inmemory://model/"+zn):Ke,this._undoRedoService=qe,this._attachedEditorCount=0;const{textBuffer:st,disposable:jt}=Un(P,q.defaultEOL);this._buffer=st,this._bufferDisposable=jt,this._options=kt.resolveOptions(this._buffer,q);const Ft=this._buffer.getLineCount(),en=this._buffer.getValueLengthInRange(new R.e(1,1,Ft,this._buffer.getLineLength(Ft)+1),0);this._isTooLargeForTokenization=!!q.largeFileOptimizations&&(en>kt.LARGE_FILE_SIZE_THRESHOLD||Ft>kt.LARGE_FILE_LINE_COUNT_THRESHOLD),this._isTooLargeForSyncing=en>kt.MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this._isDisposing=!1,this._languageIdentifier=me||We.pA,this._languageRegistryListener=Pt.zu.onDidChange(Yt=>{Yt.languageIdentifier.id===this._languageIdentifier.id&&this._onDidChangeLanguageConfiguration.fire({})}),this._instanceId=O.PJ(zn),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new En,this._commandManager=new g.NL(this,qe),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._tokens=new Ht.Rl,this._tokens2=new Ht.cx,this._tokenization=new $e(this)}static resolveOptions(P,q){if(q.detectIndentation){const me=p(P,q.tabSize,q.insertSpaces);return new C.dJ({tabSize:me.tabSize,indentSize:me.tabSize,insertSpaces:me.insertSpaces,trimAutoWhitespace:q.trimAutoWhitespace,defaultEOL:q.defaultEOL})}return new C.dJ({tabSize:q.tabSize,indentSize:q.indentSize,insertSpaces:q.insertSpaces,trimAutoWhitespace:q.trimAutoWhitespace,defaultEOL:q.defaultEOL})}onDidChangeContentFast(P){return this._eventEmitter.fastEvent(q=>P(q.contentChangedEvent))}onDidChangeContent(P){return this._eventEmitter.slowEvent(q=>P(q.contentChangedEvent))}dispose(){this._isDisposing=!0,this._onWillDispose.fire(),this._languageRegistryListener.dispose(),this._tokenization.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this._isDisposing=!1;const P=new nt([],"","\n",!1,!1,!0,!0);P.dispose(),this._buffer=P}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent(P,q){this._isDisposing||this._eventEmitter.fire(new Dt.fV(P,q))}setValue(P){if(this._assertNotDisposed(),null===P)return;const{textBuffer:q,disposable:me}=Un(P,this._options.defaultEOL);this._setValueFromTextBuffer(q,me)}_createContentChanged2(P,q,me,Ke,qe,st,jt){return{changes:[{range:P,rangeOffset:q,rangeLength:me,text:Ke}],eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:qe,isRedoing:st,isFlush:jt}}_setValueFromTextBuffer(P,q){this._assertNotDisposed();const me=this.getFullModelRange(),Ke=this.getValueLengthInRange(me),qe=this.getLineCount(),st=this.getLineMaxColumn(qe);this._buffer=P,this._bufferDisposable.dispose(),this._bufferDisposable=q,this._increaseVersionId(),this._tokens.flush(),this._tokens2.flush(),this._decorations=Object.create(null),this._decorationsTree=new En,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new Dt.dQ([new Dt.Jx],this._versionId,!1,!1),this._createContentChanged2(new R.e(1,1,qe,st),0,Ke,this.getValue(),!1,!1,!0))}setEOL(P){this._assertNotDisposed();const q=1===P?"\r\n":"\n";if(this._buffer.getEOL()===q)return;const me=this.getFullModelRange(),Ke=this.getValueLengthInRange(me),qe=this.getLineCount(),st=this.getLineMaxColumn(qe);this._onBeforeEOLChange(),this._buffer.setEOL(q),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new Dt.dQ([new Dt.CZ],this._versionId,!1,!1),this._createContentChanged2(new R.e(1,1,qe,st),0,Ke,this.getValue(),!1,!1,!1))}_onBeforeEOLChange(){const P=this.getVersionId(),q=this._decorationsTree.search(0,!1,!1,P);this._ensureNodesHaveRanges(q)}_onAfterEOLChange(){const P=this.getVersionId(),q=this._decorationsTree.collectNodesPostOrder();for(let me=0,Ke=q.length;me<Ke;me++){const qe=q[me],st=qe.cachedAbsoluteStart-qe.start,jt=this._buffer.getOffsetAt(qe.range.startLineNumber,qe.range.startColumn),Ft=this._buffer.getOffsetAt(qe.range.endLineNumber,qe.range.endColumn);qe.cachedAbsoluteStart=jt,qe.cachedAbsoluteEnd=Ft,qe.cachedVersionId=P,qe.start=jt-st,qe.end=Ft-st,xe(qe)}}onBeforeAttached(){this._attachedEditorCount++,1===this._attachedEditorCount&&this._onDidChangeAttached.fire(void 0)}onBeforeDetached(){this._attachedEditorCount--,0===this._attachedEditorCount&&this._onDidChangeAttached.fire(void 0)}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let P=0,q=0;const me=this._buffer.getLineCount();for(let Ke=1;Ke<=me;Ke++){const qe=this._buffer.getLineLength(Ke);qe>=1e4?q+=qe:P+=qe}return q>P}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(P){this._assertNotDisposed();let st=new C.dJ({tabSize:void 0!==P.tabSize?P.tabSize:this._options.tabSize,indentSize:void 0!==P.indentSize?P.indentSize:this._options.indentSize,insertSpaces:void 0!==P.insertSpaces?P.insertSpaces:this._options.insertSpaces,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:void 0!==P.trimAutoWhitespace?P.trimAutoWhitespace:this._options.trimAutoWhitespace});if(this._options.equals(st))return;let jt=this._options.createChangeEvent(st);this._options=st,this._onDidChangeOptions.fire(jt)}detectIndentation(P,q){this._assertNotDisposed();let me=p(this._buffer,q,P);this.updateOptions({insertSpaces:me.insertSpaces,tabSize:me.tabSize,indentSize:me.tabSize})}static _normalizeIndentationFromWhitespace(P,q,me){let Ke=0;for(let st=0;st<P.length;st++)"\t"===P.charAt(st)?Ke+=q:Ke++;let qe="";if(!me){let st=Math.floor(Ke/q);Ke%=q;for(let jt=0;jt<st;jt++)qe+="\t"}for(let st=0;st<Ke;st++)qe+=" ";return qe}static normalizeIndentation(P,q,me){let Ke=O.LC(P);return-1===Ke&&(Ke=P.length),kt._normalizeIndentationFromWhitespace(P.substring(0,Ke),q,me)+P.substring(Ke)}normalizeIndentation(P){return this._assertNotDisposed(),kt.normalizeIndentation(P,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(P=null){const q=this.findMatches(O.Qe.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(P,q.map(me=>({range:me.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(P){this._assertNotDisposed();let q=this._validatePosition(P.lineNumber,P.column,0);return this._buffer.getOffsetAt(q.lineNumber,q.column)}getPositionAt(P){this._assertNotDisposed();let q=Math.min(this._buffer.getLength(),Math.max(0,P));return this._buffer.getPositionAt(q)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(P){this._versionId=P}_overwriteAlternativeVersionId(P){this._alternativeVersionId=P}_overwriteInitialUndoRedoSnapshot(P){this._initialUndoRedoSnapshot=P}getValue(P,q=!1){this._assertNotDisposed();const me=this.getFullModelRange(),Ke=this.getValueInRange(me,P);return q?this._buffer.getBOM()+Ke:Ke}createSnapshot(P=!1){return new Ii(this._buffer.createSnapshot(P))}getValueLength(P,q=!1){this._assertNotDisposed();const me=this.getFullModelRange(),Ke=this.getValueLengthInRange(me,P);return q?this._buffer.getBOM().length+Ke:Ke}getValueInRange(P,q=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(P),q)}getValueLengthInRange(P,q=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(P),q)}getCharacterCountInRange(P,q=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(P),q)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(P){if(this._assertNotDisposed(),P<1||P>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineContent(P)}getLineLength(P){if(this._assertNotDisposed(),P<1||P>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(P)}getLinesContent(){return this._assertNotDisposed(),this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),"\n"===this._buffer.getEOL()?0:1}getLineMinColumn(P){return this._assertNotDisposed(),1}getLineMaxColumn(P){if(this._assertNotDisposed(),P<1||P>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(P)+1}getLineFirstNonWhitespaceColumn(P){if(this._assertNotDisposed(),P<1||P>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(P)}getLineLastNonWhitespaceColumn(P){if(this._assertNotDisposed(),P<1||P>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(P)}_validateRangeRelaxedNoAllocations(P){const q=this._buffer.getLineCount(),me=P.startLineNumber,Ke=P.startColumn;let qe=Math.floor("number"!=typeof me||isNaN(me)?1:me),st=Math.floor("number"!=typeof Ke||isNaN(Ke)?1:Ke);if(qe<1)qe=1,st=1;else if(qe>q)qe=q,st=this.getLineMaxColumn(qe);else if(st<=1)st=1;else{const tn=this.getLineMaxColumn(qe);st>=tn&&(st=tn)}const jt=P.endLineNumber,Ft=P.endColumn;let en=Math.floor("number"!=typeof jt||isNaN(jt)?1:jt),Yt=Math.floor("number"!=typeof Ft||isNaN(Ft)?1:Ft);if(en<1)en=1,Yt=1;else if(en>q)en=q,Yt=this.getLineMaxColumn(en);else if(Yt<=1)Yt=1;else{const tn=this.getLineMaxColumn(en);Yt>=tn&&(Yt=tn)}return me===qe&&Ke===st&&jt===en&&Ft===Yt&&P instanceof R.e&&!(P instanceof d.Y)?P:new R.e(qe,st,en,Yt)}_isValidPosition(P,q,me){if("number"!=typeof P||"number"!=typeof q||isNaN(P)||isNaN(q)||P<1||q<1||(0|P)!==P||(0|q)!==q)return!1;if(P>this._buffer.getLineCount())return!1;if(1===q)return!0;if(q>this.getLineMaxColumn(P))return!1;if(1===me){const st=this._buffer.getLineCharCode(P,q-2);if(O.ZG(st))return!1}return!0}_validatePosition(P,q,me){const Ke=Math.floor("number"!=typeof P||isNaN(P)?1:P),qe=Math.floor("number"!=typeof q||isNaN(q)?1:q),st=this._buffer.getLineCount();if(Ke<1)return new B.L(1,1);if(Ke>st)return new B.L(st,this.getLineMaxColumn(st));if(qe<=1)return new B.L(Ke,1);const jt=this.getLineMaxColumn(Ke);if(qe>=jt)return new B.L(Ke,jt);if(1===me){const Ft=this._buffer.getLineCharCode(Ke,qe-2);if(O.ZG(Ft))return new B.L(Ke,qe-1)}return new B.L(Ke,qe)}validatePosition(P){return this._assertNotDisposed(),P instanceof B.L&&this._isValidPosition(P.lineNumber,P.column,1)?P:this._validatePosition(P.lineNumber,P.column,1)}_isValidRange(P,q){const me=P.startLineNumber,Ke=P.startColumn,qe=P.endLineNumber,st=P.endColumn;if(!this._isValidPosition(me,Ke,0)||!this._isValidPosition(qe,st,0))return!1;if(1===q){const jt=Ke>1?this._buffer.getLineCharCode(me,Ke-2):0,Ft=st>1&&st<=this._buffer.getLineLength(qe)?this._buffer.getLineCharCode(qe,st-2):0,en=O.ZG(jt),Yt=O.ZG(Ft);return!en&&!Yt}return!0}validateRange(P){if(this._assertNotDisposed(),P instanceof R.e&&!(P instanceof d.Y)&&this._isValidRange(P,1))return P;const me=this._validatePosition(P.startLineNumber,P.startColumn,0),Ke=this._validatePosition(P.endLineNumber,P.endColumn,0),qe=me.lineNumber,st=me.column,jt=Ke.lineNumber,Ft=Ke.column;{const en=st>1?this._buffer.getLineCharCode(qe,st-2):0,Yt=Ft>1&&Ft<=this._buffer.getLineLength(jt)?this._buffer.getLineCharCode(jt,Ft-2):0,tn=O.ZG(en),un=O.ZG(Yt);return tn||un?qe===jt&&st===Ft?new R.e(qe,st-1,jt,Ft-1):tn&&un?new R.e(qe,st-1,jt,Ft+1):tn?new R.e(qe,st-1,jt,Ft):new R.e(qe,st,jt,Ft+1):new R.e(qe,st,jt,Ft)}}modifyPosition(P,q){this._assertNotDisposed();let me=this.getOffsetAt(P)+q;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,me)))}getFullModelRange(){this._assertNotDisposed();const P=this.getLineCount();return new R.e(1,1,P,this.getLineMaxColumn(P))}findMatchesLineByLine(P,q,me,Ke){return this._buffer.findMatchesLineByLine(P,q,me,Ke)}findMatches(P,q,me,Ke,qe,st,jt=999){this._assertNotDisposed();let Ft=null;null!==q&&(Array.isArray(q)||(q=[q]),q.every(tn=>R.e.isIRange(tn))&&(Ft=q.map(tn=>this.validateRange(tn)))),null===Ft&&(Ft=[this.getFullModelRange()]),Ft=Ft.sort((tn,un)=>tn.startLineNumber-un.startLineNumber||tn.startColumn-un.startColumn);const en=[];let Yt;if(en.push(Ft.reduce((tn,un)=>R.e.areIntersecting(tn,un)?tn.plusRange(un):(en.push(tn),un))),!me&&P.indexOf("\n")<0){const un=new ve.bc(P,me,Ke,qe).parseSearchRequest();if(!un)return[];Yt=Cn=>this.findMatchesLineByLine(Cn,un,st,jt)}else Yt=tn=>ve.pM.findMatches(this,new ve.bc(P,me,Ke,qe),tn,st,jt);return en.map(Yt).reduce((tn,un)=>tn.concat(un),[])}findNextMatch(P,q,me,Ke,qe,st){this._assertNotDisposed();const jt=this.validatePosition(q);if(!me&&P.indexOf("\n")<0){const en=new ve.bc(P,me,Ke,qe).parseSearchRequest();if(!en)return null;const Yt=this.getLineCount();let tn=new R.e(jt.lineNumber,jt.column,Yt,this.getLineMaxColumn(Yt)),un=this.findMatchesLineByLine(tn,en,st,1);return ve.pM.findNextMatch(this,new ve.bc(P,me,Ke,qe),jt,st),un.length>0||(tn=new R.e(1,1,jt.lineNumber,this.getLineMaxColumn(jt.lineNumber)),un=this.findMatchesLineByLine(tn,en,st,1),un.length>0)?un[0]:null}return ve.pM.findNextMatch(this,new ve.bc(P,me,Ke,qe),jt,st)}findPreviousMatch(P,q,me,Ke,qe,st){this._assertNotDisposed();const jt=this.validatePosition(q);return ve.pM.findPreviousMatch(this,new ve.bc(P,me,Ke,qe),jt,st)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(P){if(("\n"===this.getEOL()?0:1)!==P)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),null===this._initialUndoRedoSnapshot&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(P)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(P){return P instanceof C.Qi?P:new C.Qi(P.identifier||null,this.validateRange(P.range),P.text,P.forceMoveMarkers||!1,P.isAutoWhitespaceEdit||!1,P._isTracked||!1)}_validateEditOperations(P){const q=[];for(let me=0,Ke=P.length;me<Ke;me++)q[me]=this._validateEditOperation(P[me]);return q}pushEditOperations(P,q,me){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(P,this._validateEditOperations(q),me)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(P,q,me){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){let Ke=q.map(st=>({range:this.validateRange(st.range),text:st.text})),qe=!0;if(P)for(let st=0,jt=P.length;st<jt;st++){let Ft=P[st],en=!1;for(let Yt=0,tn=Ke.length;Yt<tn;Yt++){let un=Ke[Yt].range,An=Ft.startLineNumber>un.endLineNumber;if(!(un.startLineNumber>Ft.endLineNumber||An)){en=!0;break}}if(!en){qe=!1;break}}if(qe)for(let st=0,jt=this._trimAutoWhitespaceLines.length;st<jt;st++){let Ft=this._trimAutoWhitespaceLines[st],en=this.getLineMaxColumn(Ft),Yt=!0;for(let tn=0,un=Ke.length;tn<un;tn++){let Cn=Ke[tn].range,An=Ke[tn].text;if(!(Ft<Cn.startLineNumber||Ft>Cn.endLineNumber||Ft===Cn.startLineNumber&&Cn.startColumn===en&&Cn.isEmpty()&&An&&An.length>0&&"\n"===An.charAt(0)||Ft===Cn.startLineNumber&&1===Cn.startColumn&&Cn.isEmpty()&&An&&An.length>0&&"\n"===An.charAt(An.length-1))){Yt=!1;break}}if(Yt){const tn=new R.e(Ft,1,Ft,en);q.push(new C.Qi(null,tn,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return null===this._initialUndoRedoSnapshot&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(P,q,me)}_applyUndo(P,q,me,Ke){const qe=P.map(st=>{const jt=this.getPositionAt(st.newPosition),Ft=this.getPositionAt(st.newEnd);return{range:new R.e(jt.lineNumber,jt.column,Ft.lineNumber,Ft.column),text:st.oldText}});this._applyUndoRedoEdits(qe,q,!0,!1,me,Ke)}_applyRedo(P,q,me,Ke){const qe=P.map(st=>{const jt=this.getPositionAt(st.oldPosition),Ft=this.getPositionAt(st.oldEnd);return{range:new R.e(jt.lineNumber,jt.column,Ft.lineNumber,Ft.column),text:st.newText}});this._applyUndoRedoEdits(qe,q,!1,!0,me,Ke)}_applyUndoRedoEdits(P,q,me,Ke,qe,st){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=me,this._isRedoing=Ke,this.applyEdits(P,!1),this.setEOL(q),this._overwriteAlternativeVersionId(qe)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(st),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(P,q=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const me=this._validateEditOperations(P);return this._doApplyEdits(me,q)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(P,q){const me=this._buffer.getLineCount(),Ke=this._buffer.applyEdits(P,this._options.trimAutoWhitespace,q),qe=this._buffer.getLineCount(),st=Ke.changes;if(this._trimAutoWhitespaceLines=Ke.trimAutoWhitespaceLineNumbers,0!==st.length){for(let en=0,Yt=st.length;en<Yt;en++){const tn=st[en],[un,Cn,An]=(0,Ht.QZ)(tn.text);this._tokens.acceptEdit(tn.range,un,Cn),this._tokens2.acceptEdit(tn.range,un,Cn,An,tn.text.length>0?tn.text.charCodeAt(0):0),this._decorationsTree.acceptReplace(tn.rangeOffset,tn.rangeLength,tn.text.length,tn.forceMoveMarkers)}let jt=[];this._increaseVersionId();let Ft=me;for(let en=0,Yt=st.length;en<Yt;en++){const tn=st[en],[un]=(0,Ht.QZ)(tn.text);this._onDidChangeDecorations.fire();const Cn=tn.range.startLineNumber,An=tn.range.endLineNumber,Bn=An-Cn,kn=un,qn=Math.min(Bn,kn),fi=kn-Bn,hn=qe-Ft-fi+Cn,rt=hn+kn,tt=this._ensureNodesHaveRanges(this._decorationsTree.getInjectedTextInInterval(this.getOffsetAt(new B.L(hn,1)),this.getOffsetAt(new B.L(rt,this.getLineMaxColumn(rt))),0,this._versionId)),we=Dt.gk.fromDecorations(tt),Fe=new Xe.H9(we);for(let Ye=qn;Ye>=0;Ye--){const mt=Cn+Ye,$t=hn+Ye;Fe.takeFromEndWhile(fn=>fn.lineNumber>$t);const Zt=Fe.takeFromEndWhile(fn=>fn.lineNumber===$t);jt.push(new Dt.rU(mt,this.getLineContent($t),Zt))}if(qn<Bn&&jt.push(new Dt.lN(Cn+qn+1,An)),qn<kn){const Ye=new Xe.H9(we),mt=Cn+qn,$t=kn-qn,Zt=qe-Ft-$t+mt+1;let fn=[],In=[];for(let _n=0;_n<$t;_n++){let On=Zt+_n;In[_n]=this.getLineContent(On),Ye.takeWhile(Kn=>Kn.lineNumber<On),fn[_n]=Ye.takeWhile(Kn=>Kn.lineNumber===On)}jt.push(new Dt.Tx(mt+1,Cn+kn,In,fn))}Ft+=fi}this._emitContentChangedEvent(new Dt.dQ(jt,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:st,eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return null===Ke.reverseEdits?void 0:Ke.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(P){if(null===P||0===P.size)return;const me=[...P].map(Ke=>new Dt.rU(Ke,this.getLineContent(Ke),this._getInjectedTextInLine(Ke)));this._onDidChangeContentOrInjectedText.fire(new Dt.D8(me))}changeDecorations(P,q=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(q,P)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(P,q){let me={addDecoration:(qe,st)=>this._deltaDecorationsImpl(P,[],[{range:qe,options:st}])[0],changeDecoration:(qe,st)=>{this._changeDecorationImpl(qe,st)},changeDecorationOptions:(qe,st)=>{this._changeDecorationOptionsImpl(qe,Wi(st))},removeDecoration:qe=>{this._deltaDecorationsImpl(P,[qe],[])},deltaDecorations:(qe,st)=>0===qe.length&&0===st.length?[]:this._deltaDecorationsImpl(P,qe,st)},Ke=null;try{Ke=q(me)}catch(qe){(0,T.dL)(qe)}return me.addDecoration=Fn,me.changeDecoration=Fn,me.changeDecorationOptions=Fn,me.removeDecoration=Fn,me.deltaDecorations=Fn,Ke}deltaDecorations(P,q,me=0){if(this._assertNotDisposed(),P||(P=[]),0===P.length&&0===q.length)return[];try{return this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(me,P,q)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_getTrackedRange(P){return this.getDecorationRange(P)}_setTrackedRange(P,q,me){const Ke=P?this._decorations[P]:null;if(!Ke)return q?this._deltaDecorationsImpl(0,[],[{range:q,options:si[me]}])[0]:null;if(!q)return this._decorationsTree.delete(Ke),delete this._decorations[Ke.id],null;const qe=this._validateRangeRelaxedNoAllocations(q),st=this._buffer.getOffsetAt(qe.startLineNumber,qe.startColumn),jt=this._buffer.getOffsetAt(qe.endLineNumber,qe.endColumn);return this._decorationsTree.delete(Ke),Ke.reset(this.getVersionId(),st,jt,qe),Ke.setOptions(si[me]),this._decorationsTree.insert(Ke),Ke.id}removeAllDecorationsWithOwnerId(P){if(this._isDisposed)return;const q=this._decorationsTree.collectNodesFromOwner(P);for(let me=0,Ke=q.length;me<Ke;me++){const qe=q[me];this._decorationsTree.delete(qe),delete this._decorations[qe.id]}}getDecorationOptions(P){const q=this._decorations[P];return q?q.options:null}getDecorationRange(P){const q=this._decorations[P];return q?this._getDecorationRange(q):null}_getDecorationRange(P){const q=this.getVersionId();return P.cachedVersionId!==q&&this._decorationsTree.resolveNode(P,q),null===P.range&&(P.range=this._getRangeAt(P.cachedAbsoluteStart,P.cachedAbsoluteEnd)),P.range}getLineDecorations(P,q=0,me=!1){return P<1||P>this.getLineCount()?[]:this.getLinesDecorations(P,P,q,me)}getLinesDecorations(P,q,me=0,Ke=!1){let qe=this.getLineCount(),st=Math.min(qe,Math.max(1,P)),jt=Math.min(qe,Math.max(1,q)),Ft=this.getLineMaxColumn(jt);return this._getDecorationsInRange(new R.e(st,1,jt,Ft),me,Ke)}getDecorationsInRange(P,q=0,me=!1){let Ke=this.validateRange(P);return this._getDecorationsInRange(Ke,q,me)}getOverviewRulerDecorations(P=0,q=!1){const me=this.getVersionId(),Ke=this._decorationsTree.search(P,q,!0,me);return this._ensureNodesHaveRanges(Ke)}getInjectedTextDecorations(P=0){const q=this.getVersionId(),me=this._decorationsTree.getInjectedText(P,q);return this._ensureNodesHaveRanges(me)}_getInjectedTextInLine(P){const q=this.getVersionId(),me=this._buffer.getOffsetAt(P,1),Ke=me+this._buffer.getLineLength(P),qe=this._decorationsTree.getInjectedTextInInterval(me,Ke,0,q);return this._ensureNodesHaveRanges(qe),Dt.gk.fromDecorations(qe).filter(st=>st.lineNumber===P)}getAllDecorations(P=0,q=!1){const me=this.getVersionId(),Ke=this._decorationsTree.search(P,q,!1,me);return this._ensureNodesHaveRanges(Ke)}_getDecorationsInRange(P,q,me){const Ke=this._buffer.getOffsetAt(P.startLineNumber,P.startColumn),qe=this._buffer.getOffsetAt(P.endLineNumber,P.endColumn),st=this.getVersionId(),jt=this._decorationsTree.intervalSearch(Ke,qe,q,me,st);return this._ensureNodesHaveRanges(jt)}_ensureNodesHaveRanges(P){for(let q=0,me=P.length;q<me;q++){const Ke=P[q];null===Ke.range&&(Ke.range=this._getRangeAt(Ke.cachedAbsoluteStart,Ke.cachedAbsoluteEnd))}return P}_getRangeAt(P,q){return this._buffer.getRangeAt(P,q-P)}_changeDecorationImpl(P,q){const me=this._decorations[P];if(!me)return;if(me.options.after){const jt=this.getDecorationRange(P);this._onDidChangeDecorations.recordLineAffectedByInjectedText(jt.endLineNumber)}if(me.options.before){const jt=this.getDecorationRange(P);this._onDidChangeDecorations.recordLineAffectedByInjectedText(jt.startLineNumber)}const Ke=this._validateRangeRelaxedNoAllocations(q),qe=this._buffer.getOffsetAt(Ke.startLineNumber,Ke.startColumn),st=this._buffer.getOffsetAt(Ke.endLineNumber,Ke.endColumn);this._decorationsTree.delete(me),me.reset(this.getVersionId(),qe,st,Ke),this._decorationsTree.insert(me),this._onDidChangeDecorations.checkAffectedAndFire(me.options),me.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Ke.endLineNumber),me.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Ke.startLineNumber)}_changeDecorationOptionsImpl(P,q){const me=this._decorations[P];if(!me)return;const Ke=!(!me.options.overviewRuler||!me.options.overviewRuler.color),qe=!(!q.overviewRuler||!q.overviewRuler.color);this._onDidChangeDecorations.checkAffectedAndFire(me.options),this._onDidChangeDecorations.checkAffectedAndFire(q),(me.options.after||q.after)&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(me.range.endLineNumber),(me.options.before||q.before)&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(me.range.startLineNumber),Ke!==qe?(this._decorationsTree.delete(me),me.setOptions(q),this._decorationsTree.insert(me)):me.setOptions(q)}_deltaDecorationsImpl(P,q,me){const Ke=this.getVersionId(),qe=q.length;let st=0;const jt=me.length;let Ft=0,en=new Array(jt);for(;st<qe||Ft<jt;){let Yt=null;if(st<qe){do{Yt=this._decorations[q[st++]]}while(!Yt&&st<qe);if(Yt){if(Yt.options.after){const tn=this._getDecorationRange(Yt);this._onDidChangeDecorations.recordLineAffectedByInjectedText(tn.endLineNumber)}if(Yt.options.before){const tn=this._getDecorationRange(Yt);this._onDidChangeDecorations.recordLineAffectedByInjectedText(tn.startLineNumber)}this._decorationsTree.delete(Yt),this._onDidChangeDecorations.checkAffectedAndFire(Yt.options)}}if(Ft<jt){if(!Yt){const kn=++this._lastDecorationId,qn=`${this._instanceId};${kn}`;Yt=new G(qn,0,0),this._decorations[qn]=Yt}const tn=me[Ft],un=this._validateRangeRelaxedNoAllocations(tn.range),Cn=Wi(tn.options),An=this._buffer.getOffsetAt(un.startLineNumber,un.startColumn),Bn=this._buffer.getOffsetAt(un.endLineNumber,un.endColumn);Yt.ownerId=P,Yt.reset(Ke,An,Bn,un),Yt.setOptions(Cn),Yt.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(un.endLineNumber),Yt.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(un.startLineNumber),this._onDidChangeDecorations.checkAffectedAndFire(Cn),this._decorationsTree.insert(Yt),en[Ft]=Yt.id,Ft++}else Yt&&delete this._decorations[Yt.id]}return en}setTokens(P){if(0===P.length)return;let q=[];for(let me=0,Ke=P.length;me<Ke;me++){const qe=P[me];let st=0,jt=0,Ft=!1;for(let en=0,Yt=qe.tokens.length;en<Yt;en++){const tn=qe.startLineNumber+en;Ft?(this._tokens.setTokens(this._languageIdentifier.id,tn-1,this._buffer.getLineLength(tn),qe.tokens[en],!1),jt=tn):this._tokens.setTokens(this._languageIdentifier.id,tn-1,this._buffer.getLineLength(tn),qe.tokens[en],!0)&&(Ft=!0,st=tn,jt=tn)}Ft&&q.push({fromLineNumber:st,toLineNumber:jt})}q.length>0&&this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!1,ranges:q})}setSemanticTokens(P,q){this._tokens2.set(P,q),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:null!==P,ranges:[{fromLineNumber:1,toLineNumber:this.getLineCount()}]})}hasCompleteSemanticTokens(){return this._tokens2.isComplete()}hasSomeSemanticTokens(){return!this._tokens2.isEmpty()}setPartialSemanticTokens(P,q){if(this.hasCompleteSemanticTokens())return;const me=this._tokens2.setPartial(P,q);this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!0,ranges:[{fromLineNumber:me.startLineNumber,toLineNumber:me.endLineNumber}]})}tokenizeViewport(P,q){P=Math.max(1,P),q=Math.min(this._buffer.getLineCount(),q),this._tokenization.tokenizeViewport(P,q)}clearTokens(){this._tokens.flush(),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!0,semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._buffer.getLineCount()}]})}_emitModelTokensChangedEvent(P){this._isDisposing||this._onDidChangeTokens.fire(P)}resetTokenization(){this._tokenization.reset()}forceTokenization(P){if(P<1||P>this.getLineCount())throw new Error("Illegal value for lineNumber");this._tokenization.forceTokenization(P)}isCheapToTokenize(P){return this._tokenization.isCheapToTokenize(P)}tokenizeIfCheap(P){this.isCheapToTokenize(P)&&this.forceTokenization(P)}getLineTokens(P){if(P<1||P>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._getLineTokens(P)}_getLineTokens(P){const q=this.getLineContent(P),me=this._tokens.getTokens(this._languageIdentifier.id,P-1,q);return this._tokens2.addSemanticTokens(P,me)}getLanguageIdentifier(){return this._languageIdentifier}getModeId(){return this._languageIdentifier.language}setMode(P){if(this._languageIdentifier.id===P.id)return;let q={oldLanguage:this._languageIdentifier.language,newLanguage:P.language};this._languageIdentifier=P,this._onDidChangeLanguage.fire(q),this._onDidChangeLanguageConfiguration.fire({})}getLanguageIdAtPosition(P,q){const me=this.validatePosition(new B.L(P,q)),Ke=this.getLineTokens(me.lineNumber);return Ke.getLanguageId(Ke.findTokenIndexAtOffset(me.column-1))}getWordAtPosition(P){this._assertNotDisposed();const q=this.validatePosition(P),me=this.getLineContent(q.lineNumber),Ke=this._getLineTokens(q.lineNumber),qe=Ke.findTokenIndexAtOffset(q.column-1),[st,jt]=kt._findLanguageBoundaries(Ke,qe),Ft=(0,Lt.t2)(q.column,Pt.zu.getWordDefinition(Ke.getLanguageId(qe)),me.substring(st,jt),st);if(Ft&&Ft.startColumn<=P.column&&P.column<=Ft.endColumn)return Ft;if(qe>0&&st===q.column-1){const[en,Yt]=kt._findLanguageBoundaries(Ke,qe-1),tn=(0,Lt.t2)(q.column,Pt.zu.getWordDefinition(Ke.getLanguageId(qe-1)),me.substring(en,Yt),en);if(tn&&tn.startColumn<=P.column&&P.column<=tn.endColumn)return tn}return null}static _findLanguageBoundaries(P,q){const me=P.getLanguageId(q);let Ke=0;for(let st=q;st>=0&&P.getLanguageId(st)===me;st--)Ke=P.getStartOffset(st);let qe=P.getLineContent().length;for(let st=q,jt=P.getCount();st<jt&&P.getLanguageId(st)===me;st++)qe=P.getEndOffset(st);return[Ke,qe]}getWordUntilPosition(P){const q=this.getWordAtPosition(P);return q?{word:q.word.substr(0,P.column-q.startColumn),startColumn:q.startColumn,endColumn:P.column}:{word:"",startColumn:P.column,endColumn:P.column}}findMatchingBracketUp(P,q){let me=P.toLowerCase(),Ke=this.validatePosition(q),qe=this._getLineTokens(Ke.lineNumber),st=qe.getLanguageId(qe.findTokenIndexAtOffset(Ke.column-1)),jt=Pt.zu.getBracketsSupport(st);if(!jt)return null;let Ft=jt.textIsBracket[me];return Ft?Mt(this._findMatchingBracketUp(Ft,Ke,null)):null}matchBracket(P){return this._matchBracket(this.validatePosition(P))}_establishBracketSearchOffsets(P,q,me,Ke){const qe=q.getCount(),st=q.getLanguageId(Ke);let jt=Math.max(0,P.column-1-me.maxBracketLength);for(let en=Ke-1;en>=0;en--){const Yt=q.getEndOffset(en);if(Yt<=jt)break;if((0,on.Bu)(q.getStandardTokenType(en))||q.getLanguageId(en)!==st){jt=Yt;break}}let Ft=Math.min(q.getLineContent().length,P.column-1+me.maxBracketLength);for(let en=Ke+1;en<qe;en++){const Yt=q.getStartOffset(en);if(Yt>=Ft)break;if((0,on.Bu)(q.getStandardTokenType(en))||q.getLanguageId(en)!==st){Ft=Yt;break}}return{searchStartOffset:jt,searchEndOffset:Ft}}_matchBracket(P){const q=P.lineNumber,me=this._getLineTokens(q),Ke=this._buffer.getLineContent(q),qe=me.findTokenIndexAtOffset(P.column-1);if(qe<0)return null;const st=Pt.zu.getBracketsSupport(me.getLanguageId(qe));if(st&&!(0,on.Bu)(me.getStandardTokenType(qe))){let{searchStartOffset:jt,searchEndOffset:Ft}=this._establishBracketSearchOffsets(P,me,st,qe),en=null;for(;;){const Yt=Kt.Vr.findNextBracketInRange(st.forwardRegex,q,Ke,jt,Ft);if(!Yt)break;if(Yt.startColumn<=P.column&&P.column<=Yt.endColumn){const tn=Ke.substring(Yt.startColumn-1,Yt.endColumn-1).toLowerCase(),un=this._matchFoundBracket(Yt,st.textIsBracket[tn],st.textIsOpenBracket[tn],null);if(un){if(un instanceof ut)return null;en=un}}jt=Yt.endColumn-1}if(en)return en}if(qe>0&&me.getStartOffset(qe)===P.column-1){const jt=qe-1,Ft=Pt.zu.getBracketsSupport(me.getLanguageId(jt));if(Ft&&!(0,on.Bu)(me.getStandardTokenType(jt))){let{searchStartOffset:en,searchEndOffset:Yt}=this._establishBracketSearchOffsets(P,me,Ft,jt);const tn=Kt.Vr.findPrevBracketInRange(Ft.reversedRegex,q,Ke,en,Yt);if(tn&&tn.startColumn<=P.column&&P.column<=tn.endColumn){const un=Ke.substring(tn.startColumn-1,tn.endColumn-1).toLowerCase(),Cn=this._matchFoundBracket(tn,Ft.textIsBracket[un],Ft.textIsOpenBracket[un],null);if(Cn)return Cn instanceof ut?null:Cn}}}return null}_matchFoundBracket(P,q,me,Ke){if(!q)return null;const qe=me?this._findMatchingBracketDown(q,P.getEndPosition(),Ke):this._findMatchingBracketUp(q,P.getStartPosition(),Ke);return qe?qe instanceof ut?qe:[P,qe]:null}_findMatchingBracketUp(P,q,me){const Ke=P.languageIdentifier.id,qe=P.reversedRegex;let st=-1,jt=0;const Ft=(en,Yt,tn,un)=>{for(;;){if(me&&++jt%100==0&&!me())return ut.INSTANCE;const Cn=Kt.Vr.findPrevBracketInRange(qe,en,Yt,tn,un);if(!Cn)break;const An=Yt.substring(Cn.startColumn-1,Cn.endColumn-1).toLowerCase();if(P.isOpen(An)?st++:P.isClose(An)&&st--,0===st)return Cn;un=Cn.startColumn-1}return null};for(let en=q.lineNumber;en>=1;en--){const Yt=this._getLineTokens(en),tn=Yt.getCount(),un=this._buffer.getLineContent(en);let Cn=tn-1,An=un.length,Bn=un.length;en===q.lineNumber&&(Cn=Yt.findTokenIndexAtOffset(q.column-1),An=q.column-1,Bn=q.column-1);let kn=!0;for(;Cn>=0;Cn--){const qn=Yt.getLanguageId(Cn)===Ke&&!(0,on.Bu)(Yt.getStandardTokenType(Cn));if(qn)kn?An=Yt.getStartOffset(Cn):(An=Yt.getStartOffset(Cn),Bn=Yt.getEndOffset(Cn));else if(kn&&An!==Bn){const fi=Ft(en,un,An,Bn);if(fi)return fi}kn=qn}if(kn&&An!==Bn){const qn=Ft(en,un,An,Bn);if(qn)return qn}}return null}_findMatchingBracketDown(P,q,me){const Ke=P.languageIdentifier.id,qe=P.forwardRegex;let st=1,jt=0;const Ft=(Yt,tn,un,Cn)=>{for(;;){if(me&&++jt%100==0&&!me())return ut.INSTANCE;const An=Kt.Vr.findNextBracketInRange(qe,Yt,tn,un,Cn);if(!An)break;const Bn=tn.substring(An.startColumn-1,An.endColumn-1).toLowerCase();if(P.isOpen(Bn)?st++:P.isClose(Bn)&&st--,0===st)return An;un=An.endColumn-1}return null},en=this.getLineCount();for(let Yt=q.lineNumber;Yt<=en;Yt++){const tn=this._getLineTokens(Yt),un=tn.getCount(),Cn=this._buffer.getLineContent(Yt);let An=0,Bn=0,kn=0;Yt===q.lineNumber&&(An=tn.findTokenIndexAtOffset(q.column-1),Bn=q.column-1,kn=q.column-1);let qn=!0;for(;An<un;An++){const fi=tn.getLanguageId(An)===Ke&&!(0,on.Bu)(tn.getStandardTokenType(An));if(fi)qn||(Bn=tn.getStartOffset(An)),kn=tn.getEndOffset(An);else if(qn&&Bn!==kn){const hn=Ft(Yt,Cn,Bn,kn);if(hn)return hn}qn=fi}if(qn&&Bn!==kn){const fi=Ft(Yt,Cn,Bn,kn);if(fi)return fi}}return null}findPrevBracket(P){const q=this.validatePosition(P);let me=-1,Ke=null;for(let qe=q.lineNumber;qe>=1;qe--){const st=this._getLineTokens(qe),jt=st.getCount(),Ft=this._buffer.getLineContent(qe);let en=jt-1,Yt=Ft.length,tn=Ft.length;if(qe===q.lineNumber){en=st.findTokenIndexAtOffset(q.column-1),Yt=q.column-1,tn=q.column-1;const Cn=st.getLanguageId(en);me!==Cn&&(me=Cn,Ke=Pt.zu.getBracketsSupport(me))}let un=!0;for(;en>=0;en--){const Cn=st.getLanguageId(en);if(me!==Cn){if(Ke&&un&&Yt!==tn){const Bn=Kt.Vr.findPrevBracketInRange(Ke.reversedRegex,qe,Ft,Yt,tn);if(Bn)return this._toFoundBracket(Ke,Bn);un=!1}me=Cn,Ke=Pt.zu.getBracketsSupport(me)}const An=!!Ke&&!(0,on.Bu)(st.getStandardTokenType(en));if(An)un?Yt=st.getStartOffset(en):(Yt=st.getStartOffset(en),tn=st.getEndOffset(en));else if(Ke&&un&&Yt!==tn){const Bn=Kt.Vr.findPrevBracketInRange(Ke.reversedRegex,qe,Ft,Yt,tn);if(Bn)return this._toFoundBracket(Ke,Bn)}un=An}if(Ke&&un&&Yt!==tn){const Cn=Kt.Vr.findPrevBracketInRange(Ke.reversedRegex,qe,Ft,Yt,tn);if(Cn)return this._toFoundBracket(Ke,Cn)}}return null}findNextBracket(P){const q=this.validatePosition(P),me=this.getLineCount();let Ke=-1,qe=null;for(let st=q.lineNumber;st<=me;st++){const jt=this._getLineTokens(st),Ft=jt.getCount(),en=this._buffer.getLineContent(st);let Yt=0,tn=0,un=0;if(st===q.lineNumber){Yt=jt.findTokenIndexAtOffset(q.column-1),tn=q.column-1,un=q.column-1;const An=jt.getLanguageId(Yt);Ke!==An&&(Ke=An,qe=Pt.zu.getBracketsSupport(Ke))}let Cn=!0;for(;Yt<Ft;Yt++){const An=jt.getLanguageId(Yt);if(Ke!==An){if(qe&&Cn&&tn!==un){const kn=Kt.Vr.findNextBracketInRange(qe.forwardRegex,st,en,tn,un);if(kn)return this._toFoundBracket(qe,kn);Cn=!1}Ke=An,qe=Pt.zu.getBracketsSupport(Ke)}const Bn=!!qe&&!(0,on.Bu)(jt.getStandardTokenType(Yt));if(Bn)Cn||(tn=jt.getStartOffset(Yt)),un=jt.getEndOffset(Yt);else if(qe&&Cn&&tn!==un){const kn=Kt.Vr.findNextBracketInRange(qe.forwardRegex,st,en,tn,un);if(kn)return this._toFoundBracket(qe,kn)}Cn=Bn}if(qe&&Cn&&tn!==un){const An=Kt.Vr.findNextBracketInRange(qe.forwardRegex,st,en,tn,un);if(An)return this._toFoundBracket(qe,An)}}return null}findEnclosingBrackets(P,q){let me;if(void 0===q)me=null;else{const Cn=Date.now();me=()=>Date.now()-Cn<=q}const Ke=this.validatePosition(P),qe=this.getLineCount(),st=new Map;let jt=[];const Ft=(Cn,An)=>{if(!st.has(Cn)){let Bn=[];for(let kn=0,qn=An?An.brackets.length:0;kn<qn;kn++)Bn[kn]=0;st.set(Cn,Bn)}jt=st.get(Cn)};let en=0;const Yt=(Cn,An,Bn,kn,qn)=>{for(;;){if(me&&++en%100==0&&!me())return ut.INSTANCE;const fi=Kt.Vr.findNextBracketInRange(Cn.forwardRegex,An,Bn,kn,qn);if(!fi)break;const hn=Bn.substring(fi.startColumn-1,fi.endColumn-1).toLowerCase(),Ze=Cn.textIsBracket[hn];if(Ze&&(Ze.isOpen(hn)?jt[Ze.index]++:Ze.isClose(hn)&&jt[Ze.index]--,-1===jt[Ze.index]))return this._matchFoundBracket(fi,Ze,!1,me);kn=fi.endColumn-1}return null};let tn=-1,un=null;for(let Cn=Ke.lineNumber;Cn<=qe;Cn++){const An=this._getLineTokens(Cn),Bn=An.getCount(),kn=this._buffer.getLineContent(Cn);let qn=0,fi=0,hn=0;if(Cn===Ke.lineNumber){qn=An.findTokenIndexAtOffset(Ke.column-1),fi=Ke.column-1,hn=Ke.column-1;const rt=An.getLanguageId(qn);tn!==rt&&(tn=rt,un=Pt.zu.getBracketsSupport(tn),Ft(tn,un))}let Ze=!0;for(;qn<Bn;qn++){const rt=An.getLanguageId(qn);if(tn!==rt){if(un&&Ze&&fi!==hn){const we=Yt(un,Cn,kn,fi,hn);if(we)return Mt(we);Ze=!1}tn=rt,un=Pt.zu.getBracketsSupport(tn),Ft(tn,un)}const tt=!!un&&!(0,on.Bu)(An.getStandardTokenType(qn));if(tt)Ze||(fi=An.getStartOffset(qn)),hn=An.getEndOffset(qn);else if(un&&Ze&&fi!==hn){const we=Yt(un,Cn,kn,fi,hn);if(we)return Mt(we)}Ze=tt}if(un&&Ze&&fi!==hn){const rt=Yt(un,Cn,kn,fi,hn);if(rt)return Mt(rt)}}return null}_toFoundBracket(P,q){if(!q)return null;let me=this.getValueInRange(q);me=me.toLowerCase();let Ke=P.textIsBracket[me];return Ke?{range:q,open:Ke.open,close:Ke.close,isOpen:P.textIsOpenBracket[me]}:null}static computeIndentLevel(P,q){let me=0,Ke=0,qe=P.length;for(;Ke<qe;){let st=P.charCodeAt(Ke);if(32===st)me++;else{if(9!==st)break;me=me-me%q+q}Ke++}return Ke===qe?-1:me}_computeIndentLevel(P){return kt.computeIndentLevel(this._buffer.getLineContent(P+1),this._options.tabSize)}getActiveIndentGuide(P,q,me){this._assertNotDisposed();const Ke=this.getLineCount();if(P<1||P>Ke)throw new Error("Illegal value for lineNumber");const qe=Pt.zu.getFoldingRules(this._languageIdentifier.id),st=Boolean(qe&&qe.offSide);let jt=-2,Ft=-1,en=-2,Yt=-1;const tn=we=>{if(-1!==jt&&(-2===jt||jt>we-1)){jt=-1,Ft=-1;for(let Fe=we-2;Fe>=0;Fe--){let Ye=this._computeIndentLevel(Fe);if(Ye>=0){jt=Fe,Ft=Ye;break}}}if(-2===en){en=-1,Yt=-1;for(let Fe=we;Fe<Ke;Fe++){let Ye=this._computeIndentLevel(Fe);if(Ye>=0){en=Fe,Yt=Ye;break}}}};let un=-2,Cn=-1,An=-2,Bn=-1;const kn=we=>{if(-2===un){un=-1,Cn=-1;for(let Fe=we-2;Fe>=0;Fe--){let Ye=this._computeIndentLevel(Fe);if(Ye>=0){un=Fe,Cn=Ye;break}}}if(-1!==An&&(-2===An||An<we-1)){An=-1,Bn=-1;for(let Fe=we;Fe<Ke;Fe++){let Ye=this._computeIndentLevel(Fe);if(Ye>=0){An=Fe,Bn=Ye;break}}}};let qn=0,fi=!0,hn=0,Ze=!0,rt=0,tt=0;for(let we=0;fi||Ze;we++){const Fe=P-we,Ye=P+we;we>1&&(Fe<1||Fe<q)&&(fi=!1),we>1&&(Ye>Ke||Ye>me)&&(Ze=!1),we>5e4&&(fi=!1,Ze=!1);let mt=-1;if(fi){const Zt=this._computeIndentLevel(Fe-1);Zt>=0?(en=Fe-1,Yt=Zt,mt=Math.ceil(Zt/this._options.indentSize)):(tn(Fe),mt=this._getIndentLevelForWhitespaceLine(st,Ft,Yt))}let $t=-1;if(Ze){const Zt=this._computeIndentLevel(Ye-1);Zt>=0?(un=Ye-1,Cn=Zt,$t=Math.ceil(Zt/this._options.indentSize)):(kn(Ye),$t=this._getIndentLevelForWhitespaceLine(st,Cn,Bn))}if(0!==we){if(1===we){if(Ye<=Ke&&$t>=0&&tt+1===$t){fi=!1,qn=Ye,hn=Ye,rt=$t;continue}if(Fe>=1&&mt>=0&&mt-1===tt){Ze=!1,qn=Fe,hn=Fe,rt=mt;continue}if(qn=P,hn=P,rt=tt,0===rt)return{startLineNumber:qn,endLineNumber:hn,indent:rt}}fi&&(mt>=rt?qn=Fe:fi=!1),Ze&&($t>=rt?hn=Ye:Ze=!1)}else tt=mt}return{startLineNumber:qn,endLineNumber:hn,indent:rt}}getLinesIndentGuides(P,q){this._assertNotDisposed();const me=this.getLineCount();if(P<1||P>me)throw new Error("Illegal value for startLineNumber");if(q<1||q>me)throw new Error("Illegal value for endLineNumber");const Ke=Pt.zu.getFoldingRules(this._languageIdentifier.id),qe=Boolean(Ke&&Ke.offSide);let st=new Array(q-P+1),jt=-2,Ft=-1,en=-2,Yt=-1;for(let tn=P;tn<=q;tn++){let un=tn-P;const Cn=this._computeIndentLevel(tn-1);if(Cn>=0)jt=tn-1,Ft=Cn,st[un]=Math.ceil(Cn/this._options.indentSize);else{if(-2===jt){jt=-1,Ft=-1;for(let An=tn-2;An>=0;An--){let Bn=this._computeIndentLevel(An);if(Bn>=0){jt=An,Ft=Bn;break}}}if(-1!==en&&(-2===en||en<tn-1)){en=-1,Yt=-1;for(let An=tn;An<me;An++){let Bn=this._computeIndentLevel(An);if(Bn>=0){en=An,Yt=Bn;break}}}st[un]=this._getIndentLevelForWhitespaceLine(qe,Ft,Yt)}}return st}_getIndentLevelForWhitespaceLine(P,q,me){return-1===q||-1===me?0:q<me?1+Math.floor(q/this._options.indentSize):q===me||P?Math.ceil(me/this._options.indentSize):1+Math.floor(me/this._options.indentSize)}normalizePosition(P,q){return P}getLineIndentColumn(P){return function(Ut){let P=0;for(const q of Ut){if(" "!==q&&"\t"!==q)break;P++}return P}(this.getLineContent(P))+1}}function sn(Ut){return!(!Ut.options.overviewRuler||!Ut.options.overviewRuler.color)}function gn(Ut){return!!Ut.options.after||!!Ut.options.before}kt.MODEL_SYNC_LIMIT=52428800,kt.LARGE_FILE_SIZE_THRESHOLD=20971520,kt.LARGE_FILE_LINE_COUNT_THRESHOLD=3e5,kt.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:$.DB.tabSize,indentSize:$.DB.indentSize,insertSpaces:$.DB.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:$.DB.trimAutoWhitespace,largeFileOptimizations:$.DB.largeFileOptimizations};class En{constructor(){this._decorationsTree0=new de,this._decorationsTree1=new de,this._injectedTextDecorationsTree=new de}intervalSearch(P,q,me,Ke,qe){const st=this._decorationsTree0.intervalSearch(P,q,me,Ke,qe),jt=this._decorationsTree1.intervalSearch(P,q,me,Ke,qe),Ft=this._injectedTextDecorationsTree.intervalSearch(P,q,me,Ke,qe);return st.concat(jt).concat(Ft)}getInjectedTextInInterval(P,q,me,Ke){return this._injectedTextDecorationsTree.intervalSearch(P,q,me,!1,Ke)}getInjectedText(P,q){return this._injectedTextDecorationsTree.search(P,!1,q)}search(P,q,me,Ke){if(me)return this._decorationsTree1.search(P,q,Ke);{const qe=this._decorationsTree0.search(P,q,Ke),st=this._decorationsTree1.search(P,q,Ke),jt=this._injectedTextDecorationsTree.search(P,q,Ke);return qe.concat(st).concat(jt)}}collectNodesFromOwner(P){const q=this._decorationsTree0.collectNodesFromOwner(P),me=this._decorationsTree1.collectNodesFromOwner(P),Ke=this._injectedTextDecorationsTree.collectNodesFromOwner(P);return q.concat(me).concat(Ke)}collectNodesPostOrder(){const P=this._decorationsTree0.collectNodesPostOrder(),q=this._decorationsTree1.collectNodesPostOrder(),me=this._injectedTextDecorationsTree.collectNodesPostOrder();return P.concat(q).concat(me)}insert(P){gn(P)?this._injectedTextDecorationsTree.insert(P):sn(P)?this._decorationsTree1.insert(P):this._decorationsTree0.insert(P)}delete(P){gn(P)?this._injectedTextDecorationsTree.delete(P):sn(P)?this._decorationsTree1.delete(P):this._decorationsTree0.delete(P)}resolveNode(P,q){gn(P)?this._injectedTextDecorationsTree.resolveNode(P,q):sn(P)?this._decorationsTree1.resolveNode(P,q):this._decorationsTree0.resolveNode(P,q)}acceptReplace(P,q,me,Ke){this._decorationsTree0.acceptReplace(P,q,me,Ke),this._decorationsTree1.acceptReplace(P,q,me,Ke),this._injectedTextDecorationsTree.acceptReplace(P,q,me,Ke)}}function Zn(Ut){return Ut.replace(/[^a-z0-9\-_]/gi," ")}class ai{constructor(P){this.color=P.color||"",this.darkColor=P.darkColor||""}}class Yn extends ai{constructor(P){super(P),this._resolvedColor=null,this.position="number"==typeof P.position?P.position:C.sh.Center}getColor(P){return this._resolvedColor||(this._resolvedColor=this._resolveColor("light"!==P.type&&this.darkColor?this.darkColor:this.color,P)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(P,q){if("string"==typeof P)return P;let me=P?q.getColor(P.id):null;return me?me.toString():""}}class Mn extends ai{constructor(P){super(P),this.position=P.position}getColor(P){return this._resolvedColor||(this._resolvedColor=this._resolveColor("light"!==P.type&&this.darkColor?this.darkColor:this.color,P)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(P,q){return"string"==typeof P?bn.Il.fromHex(P):q.getColor(P.id)}}class Nn{constructor(P){this.content=P||""}}class Li{constructor(P){this.description=P.description,this.stickiness=P.stickiness||0,this.zIndex=P.zIndex||0,this.className=P.className?Zn(P.className):null,this.hoverMessage=P.hoverMessage||null,this.glyphMarginHoverMessage=P.glyphMarginHoverMessage||null,this.isWholeLine=P.isWholeLine||!1,this.showIfCollapsed=P.showIfCollapsed||!1,this.collapseOnReplaceEdit=P.collapseOnReplaceEdit||!1,this.overviewRuler=P.overviewRuler?new Yn(P.overviewRuler):null,this.minimap=P.minimap?new Mn(P.minimap):null,this.glyphMarginClassName=P.glyphMarginClassName?Zn(P.glyphMarginClassName):null,this.linesDecorationsClassName=P.linesDecorationsClassName?Zn(P.linesDecorationsClassName):null,this.firstLineDecorationClassName=P.firstLineDecorationClassName?Zn(P.firstLineDecorationClassName):null,this.marginClassName=P.marginClassName?Zn(P.marginClassName):null,this.inlineClassName=P.inlineClassName?Zn(P.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=P.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=P.beforeContentClassName?Zn(P.beforeContentClassName):null,this.afterContentClassName=P.afterContentClassName?Zn(P.afterContentClassName):null,this.after=P.after?new Nn(P.after.content):null,this.before=P.before?new Nn(P.before.content):null}static register(P){return new Li(P)}static createDynamic(P){return new Li(P)}}Li.EMPTY=Li.register({description:"empty"});const si=[Li.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),Li.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),Li.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),Li.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function Wi(Ut){return Ut instanceof Li?Ut:Li.createDynamic(Ut)}class rs extends j.JT{constructor(P){super(),this.handleBeforeFire=P,this._actual=this._register(new U.Q5),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var P;if(this._deferredCnt--,0===this._deferredCnt){if(this._shouldFire){this.handleBeforeFire(this._affectedInjectedTextLines);const q={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler};this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._actual.fire(q)}null===(P=this._affectedInjectedTextLines)||void 0===P||P.clear(),this._affectedInjectedTextLines=null}}recordLineAffectedByInjectedText(P){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(P)}checkAffectedAndFire(P){this._affectsMinimap||(this._affectsMinimap=!(!P.minimap||!P.minimap.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!(!P.overviewRuler||!P.overviewRuler.color)),this._shouldFire=!0}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._shouldFire=!0}}class vs extends j.JT{constructor(){super(),this._fastEmitter=this._register(new U.Q5),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new U.Q5),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(P=null){if(this._deferredCnt--,0===this._deferredCnt&&null!==this._deferredEvent){this._deferredEvent.rawContentChangedEvent.resultingSelection=P;const q=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(q),this._slowEmitter.fire(q)}}fire(P){this._deferredCnt>0?this._deferredEvent=this._deferredEvent?this._deferredEvent.merge(P):P:(this._fastEmitter.fire(P),this._slowEmitter.fire(P))}}},2116:(Ct,Qe,a)=>{"use strict";a.d(Qe,{Jx:()=>T,gk:()=>U,rU:()=>j,lN:()=>O,Tx:()=>k,CZ:()=>$,dQ:()=>B,D8:()=>R,fV:()=>d});class T{constructor(){this.changeType=1}}class U{constructor(g,b,I,p,w){this.ownerId=g,this.lineNumber=b,this.column=I,this.order=p,this.text=w}static applyInjectedText(g,b){if(!b||0===b.length)return g;let I="",p=0;for(const w of b)I+=g.substring(p,w.column-1),p=w.column-1,I+=w.text;return I+=g.substring(p),I}static fromDecorations(g){const b=[];for(const I of g)I.options.before&&I.options.before.content.length>0&&b.push(new U(I.ownerId,I.range.startLineNumber,I.range.startColumn,0,I.options.before.content)),I.options.after&&I.options.after.content.length>0&&b.push(new U(I.ownerId,I.range.endLineNumber,I.range.endColumn,1,I.options.after.content));return b.sort((I,p)=>I.lineNumber===p.lineNumber?I.column===p.column?I.order-p.order:I.column-p.column:I.lineNumber-p.lineNumber),b}}class j{constructor(g,b,I){this.changeType=2,this.lineNumber=g,this.detail=b,this.injectedText=I}}class O{constructor(g,b){this.changeType=3,this.fromLineNumber=g,this.toLineNumber=b}}class k{constructor(g,b,I,p){this.changeType=4,this.injectedTexts=p,this.fromLineNumber=g,this.toLineNumber=b,this.detail=I}}class ${constructor(){this.changeType=5}}class B{constructor(g,b,I,p){this.changes=g,this.versionId=b,this.isUndoing=I,this.isRedoing=p,this.resultingSelection=null}containsEvent(g){for(let b=0,I=this.changes.length;b<I;b++)if(this.changes[b].changeType===g)return!0;return!1}static merge(g,b){const I=[].concat(g.changes).concat(b.changes);return new B(I,b.versionId,g.isUndoing||b.isUndoing,g.isRedoing||b.isRedoing)}}class R{constructor(g){this.changes=g}}class d{constructor(g,b){this.rawContentChangedEvent=g,this.contentChangedEvent=b}merge(g){const b=B.merge(this.rawContentChangedEvent,g.rawContentChangedEvent),I=d._mergeChangeEvents(this.contentChangedEvent,g.contentChangedEvent);return new d(b,I)}static _mergeChangeEvents(g,b){return{changes:[].concat(g.changes).concat(b.changes),eol:b.eol,versionId:b.versionId,isUndoing:g.isUndoing||b.isUndoing,isRedoing:g.isRedoing||b.isRedoing,isFlush:g.isFlush||b.isFlush}}}},2424:(Ct,Qe,a)=>{"use strict";a.d(Qe,{bc:()=>B,iE:()=>C,pM:()=>b,cM:()=>w,sz:()=>E});var T=a(579),U=a(8509),j=a(2109),O=a(8487),k=a(2902);class B{constructor(v,M,_,f){this.searchString=v,this.isRegex=M,this.matchCase=_,this.wordSeparators=f}parseSearchRequest(){if(""===this.searchString)return null;let v;v=this.isRegex?function(S){if(!S||0===S.length)return!1;for(let v=0,M=S.length;v<M;v++)if(92===S.charCodeAt(v)){if(v++,v>=M)break;const f=S.charCodeAt(v);if(110===f||114===f||87===f||119===f)return!0}return!1}(this.searchString):this.searchString.indexOf("\n")>=0;let M=null;try{M=T.GF(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:v,global:!0,unicode:!0})}catch(f){return null}if(!M)return null;let _=!this.isRegex&&!v;return _&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(_=this.matchCase),new d(M,this.wordSeparators?(0,U.u)(this.wordSeparators):null,_?this.searchString:null)}}class d{constructor(v,M,_){this.regex=v,this.wordSeparators=M,this.simpleSearch=_}}function C(S,v,M){if(!M)return new k.tk(S,null);let _=[];for(let f=0,m=v.length;f<m;f++)_[f]=v[f];return new k.tk(S,_)}class g{constructor(v){let M=[],_=0;for(let f=0,m=v.length;f<m;f++)10===v.charCodeAt(f)&&(M[_++]=f);this._lineFeedsOffsets=M}findLineFeedCountBeforeOffset(v){const M=this._lineFeedsOffsets;let _=0,f=M.length-1;if(-1===f||v<=M[0])return 0;for(;_<f;){const m=_+((f-_)/2>>0);M[m]>=v?f=m-1:M[m+1]>=v?(_=m,f=m):_=m+1}return _+1}}class b{static findMatches(v,M,_,f,m){const L=M.parseSearchRequest();return L?L.regex.multiline?this._doFindMatchesMultiline(v,_,new E(L.wordSeparators,L.regex),f,m):this._doFindMatchesLineByLine(v,_,L,f,m):[]}static _getMultilineMatchRange(v,M,_,f,m,L){let F,Y,G=0;if(f?(G=f.findLineFeedCountBeforeOffset(m),F=M+m+G):F=M+m,f){let be=f.findLineFeedCountBeforeOffset(m+L.length)-G;Y=F+L.length+be}else Y=F+L.length;const de=v.getPositionAt(F),le=v.getPositionAt(Y);return new O.e(de.lineNumber,de.column,le.lineNumber,le.column)}static _doFindMatchesMultiline(v,M,_,f,m){const L=v.getOffsetAt(M.getStartPosition()),F=v.getValueInRange(M,1),G="\r\n"===v.getEOL()?new g(F):null,Y=[];let le,de=0;for(_.reset(0);le=_.next(F);)if(Y[de++]=C(this._getMultilineMatchRange(v,L,F,G,le.index,le[0]),le,f),de>=m)return Y;return Y}static _doFindMatchesLineByLine(v,M,_,f,m){const L=[];let F=0;if(M.startLineNumber===M.endLineNumber){const Y=v.getLineContent(M.startLineNumber).substring(M.startColumn-1,M.endColumn-1);return F=this._findMatchesInLine(_,Y,M.startLineNumber,M.startColumn-1,F,L,f,m),L}const G=v.getLineContent(M.startLineNumber).substring(M.startColumn-1);F=this._findMatchesInLine(_,G,M.startLineNumber,M.startColumn-1,F,L,f,m);for(let Y=M.startLineNumber+1;Y<M.endLineNumber&&F<m;Y++)F=this._findMatchesInLine(_,v.getLineContent(Y),Y,0,F,L,f,m);if(F<m){const Y=v.getLineContent(M.endLineNumber).substring(0,M.endColumn-1);F=this._findMatchesInLine(_,Y,M.endLineNumber,0,F,L,f,m)}return L}static _findMatchesInLine(v,M,_,f,m,L,F,G){const Y=v.wordSeparators;if(!F&&v.simpleSearch){const ce=v.simpleSearch,be=ce.length,N=M.length;let V=-be;for(;-1!==(V=M.indexOf(ce,V+be));)if((!Y||w(Y,M,N,V,be))&&(L[m++]=new k.tk(new O.e(_,V+1+f,_,V+1+be+f),null),m>=G))return m;return m}const de=new E(v.wordSeparators,v.regex);let le;de.reset(0);do{if(le=de.next(M),le&&(L[m++]=C(new O.e(_,le.index+1+f,_,le.index+1+le[0].length+f),le,F),m>=G))return m}while(le);return m}static findNextMatch(v,M,_,f){const m=M.parseSearchRequest();if(!m)return null;const L=new E(m.wordSeparators,m.regex);return m.regex.multiline?this._doFindNextMatchMultiline(v,_,L,f):this._doFindNextMatchLineByLine(v,_,L,f)}static _doFindNextMatchMultiline(v,M,_,f){const m=new j.L(M.lineNumber,1),L=v.getOffsetAt(m),F=v.getLineCount(),G=v.getValueInRange(new O.e(m.lineNumber,m.column,F,v.getLineMaxColumn(F)),1),Y="\r\n"===v.getEOL()?new g(G):null;_.reset(M.column-1);let de=_.next(G);return de?C(this._getMultilineMatchRange(v,L,G,Y,de.index,de[0]),de,f):1!==M.lineNumber||1!==M.column?this._doFindNextMatchMultiline(v,new j.L(1,1),_,f):null}static _doFindNextMatchLineByLine(v,M,_,f){const m=v.getLineCount(),L=M.lineNumber,F=v.getLineContent(L),G=this._findFirstMatchInLine(_,F,L,M.column,f);if(G)return G;for(let Y=1;Y<=m;Y++){const de=(L+Y-1)%m,le=v.getLineContent(de+1),ce=this._findFirstMatchInLine(_,le,de+1,1,f);if(ce)return ce}return null}static _findFirstMatchInLine(v,M,_,f,m){v.reset(f-1);const L=v.next(M);return L?C(new O.e(_,L.index+1,_,L.index+1+L[0].length),L,m):null}static findPreviousMatch(v,M,_,f){const m=M.parseSearchRequest();if(!m)return null;const L=new E(m.wordSeparators,m.regex);return m.regex.multiline?this._doFindPreviousMatchMultiline(v,_,L,f):this._doFindPreviousMatchLineByLine(v,_,L,f)}static _doFindPreviousMatchMultiline(v,M,_,f){const m=this._doFindMatchesMultiline(v,new O.e(1,1,M.lineNumber,M.column),_,f,9990);if(m.length>0)return m[m.length-1];const L=v.getLineCount();return M.lineNumber!==L||M.column!==v.getLineMaxColumn(L)?this._doFindPreviousMatchMultiline(v,new j.L(L,v.getLineMaxColumn(L)),_,f):null}static _doFindPreviousMatchLineByLine(v,M,_,f){const m=v.getLineCount(),L=M.lineNumber,F=v.getLineContent(L).substring(0,M.column-1),G=this._findLastMatchInLine(_,F,L,f);if(G)return G;for(let Y=1;Y<=m;Y++){const de=(m+L-Y-1)%m,le=v.getLineContent(de+1),ce=this._findLastMatchInLine(_,le,de+1,f);if(ce)return ce}return null}static _findLastMatchInLine(v,M,_,f){let L,m=null;for(v.reset(0);L=v.next(M);)m=C(new O.e(_,L.index+1,_,L.index+1+L[0].length),L,f);return m}}function w(S,v,M,_,f){return function(S,v,M,_,f){if(0===_)return!0;const m=v.charCodeAt(_-1);if(0!==S.get(m)||13===m||10===m)return!0;if(f>0){const L=v.charCodeAt(_);if(0!==S.get(L))return!0}return!1}(S,v,0,_,f)&&function(S,v,M,_,f){if(_+f===M)return!0;const m=v.charCodeAt(_+f);if(0!==S.get(m)||13===m||10===m)return!0;if(f>0){const L=v.charCodeAt(_+f-1);if(0!==S.get(L))return!0}return!1}(S,v,M,_,f)}class E{constructor(v,M){this._wordSeparators=v,this._searchRegex=M,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(v){this._searchRegex.lastIndex=v,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(v){const M=v.length;let _;do{if(this._prevMatchStartIndex+this._prevMatchLength===M||(_=this._searchRegex.exec(v),!_))return null;const f=_.index,m=_[0].length;if(f===this._prevMatchStartIndex&&m===this._prevMatchLength){if(0===m){T.ZH(v,M,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=f,this._prevMatchLength=m,!this._wordSeparators||w(this._wordSeparators,v,M,f,m))return _}while(_);return null}}},1496:(Ct,Qe,a)=>{"use strict";a.d(Qe,{QZ:()=>$,DA:()=>d,OU:()=>C,Wz:()=>b,cx:()=>w,Rl:()=>E});var T=a(2291),U=a(1959),j=a(2109),O=a(8487),k=a(6412);function $(S){let v=0,M=0,_=0,f=0;for(let m=0,L=S.length;m<L;m++){const F=S.charCodeAt(m);13===F?(0===v&&(M=m),v++,m+1<L&&10===S.charCodeAt(m+1)?(f|=2,m++):f|=3,_=m+1):10===F&&(f|=1,0===v&&(M=m),v++,_=m+1)}return 0===v&&(M=S.length),[v,M,S.length-_,f]}function B(S){return(16384|S<<0|2<<23)>>>0}const R=new Uint32Array(0).buffer;class d{constructor(){this.tokens=[]}add(v,M){if(this.tokens.length>0){const _=this.tokens[this.tokens.length-1];if(_.startLineNumber+_.tokens.length-1+1===v)return void _.tokens.push(M)}this.tokens.push(new I(v,[M]))}}class C{constructor(v){this._tokens=v,this._tokenCount=v.length/4}toString(v){let M=[];for(let _=0;_<this._tokenCount;_++)M.push(`(${this._getDeltaLine(_)+v},${this._getStartCharacter(_)}-${this._getEndCharacter(_)})`);return`[${M.join(",")}]`}getMaxDeltaLine(){const v=this._getTokenCount();return 0===v?-1:this._getDeltaLine(v-1)}getRange(){const v=this._getTokenCount();if(0===v)return null;const M=this._getStartCharacter(0),_=this._getDeltaLine(v-1),f=this._getEndCharacter(v-1);return new O.e(0,M+1,_,f+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(v){return this._tokens[4*v]}_getStartCharacter(v){return this._tokens[4*v+1]}_getEndCharacter(v){return this._tokens[4*v+2]}isEmpty(){return 0===this._getTokenCount()}getLineTokens(v){let M=0,_=this._getTokenCount()-1;for(;M<_;){const f=M+Math.floor((_-M)/2),m=this._getDeltaLine(f);if(m<v)M=f+1;else{if(!(m>v)){let L=f;for(;L>M&&this._getDeltaLine(L-1)===v;)L--;let F=f;for(;F<_&&this._getDeltaLine(F+1)===v;)F++;return new g(this._tokens.subarray(4*L,4*F+4))}_=f-1}}return this._getDeltaLine(M)===v?new g(this._tokens.subarray(4*M,4*M+4)):null}clear(){this._tokenCount=0}removeTokens(v,M,_,f){const m=this._tokens,L=this._tokenCount;let F=0,G=!1,Y=0;for(let de=0;de<L;de++){const le=4*de,ce=m[le],be=m[le+1],N=m[le+2],V=m[le+3];if((ce>v||ce===v&&N>=M)&&(ce<_||ce===_&&be<=f))G=!0;else{if(0===F&&(Y=ce),G){const Z=4*F;m[Z]=ce-Y,m[Z+1]=be,m[Z+2]=N,m[Z+3]=V}F++}}return this._tokenCount=F,Y}split(v,M,_,f){const m=this._tokens,L=this._tokenCount;let F=[],G=[],Y=F,de=0,le=0;for(let ce=0;ce<L;ce++){const be=4*ce,N=m[be],V=m[be+1],Z=m[be+2],ie=m[be+3];if(N>v||N===v&&Z>=M){if(N<_||N===_&&V<=f)continue;Y!==G&&(Y=G,de=0,le=N)}Y[de++]=N-le,Y[de++]=V,Y[de++]=Z,Y[de++]=ie}return[new C(new Uint32Array(F)),new C(new Uint32Array(G)),le]}acceptDeleteRange(v,M,_,f,m){const L=this._tokens,F=this._tokenCount,G=f-M;let Y=0,de=!1;for(let le=0;le<F;le++){const ce=4*le;let be=L[ce],N=L[ce+1],V=L[ce+2];const Z=L[ce+3];if(be<M||be===M&&V<=_){Y++;continue}if(be===M&&N<_)be===f&&V>m?V-=m-_:V=_;else if(be===M&&N===_){if(!(be===f&&V>m)){de=!0;continue}V-=m-_}else if(be<f||be===f&&N<m){if(!(be===f&&V>m)){de=!0;continue}be===M?(N=_,V=N+(V-m)):(N=0,V=N+(V-m))}else if(be>f){if(0===G&&!de){Y=F;break}be-=G}else{if(!(be===f&&N>=m))throw new Error("Not possible!");v&&0===be&&(N+=v,V+=v),be-=G,N-=m-_,V-=m-_}const ie=4*Y;L[ie]=be,L[ie+1]=N,L[ie+2]=V,L[ie+3]=Z,Y++}this._tokenCount=Y}acceptInsertText(v,M,_,f,m,L){const F=0===_&&1===f&&(L>=48&&L<=57||L>=65&&L<=90||L>=97&&L<=122),G=this._tokens,Y=this._tokenCount;for(let de=0;de<Y;de++){const le=4*de;let ce=G[le],be=G[le+1],N=G[le+2];if(!(ce<v||ce===v&&N<M)){if(ce===v&&N===M){if(!F)continue;N+=1}else if(ce===v&&be<M&&M<N)0===_?N+=f:N=M;else{if(ce===v&&be===M&&F)continue;if(ce===v)if(ce+=_,0===_)be+=f,N+=f;else{const V=N-be;be=m+(be-M),N=be+V}else ce+=_}G[le]=ce,G[le+1]=be,G[le+2]=N}}}}class g{constructor(v){this._tokens=v}getCount(){return this._tokens.length/4}getStartCharacter(v){return this._tokens[4*v+1]}getEndCharacter(v){return this._tokens[4*v+2]}getMetadata(v){return this._tokens[4*v+3]}}class b{constructor(v,M){this.startLineNumber=v,this.tokens=M,this.endLineNumber=this.startLineNumber+this.tokens.getMaxDeltaLine()}toString(){return this.tokens.toString(this.startLineNumber)}_updateEndLineNumber(){this.endLineNumber=this.startLineNumber+this.tokens.getMaxDeltaLine()}isEmpty(){return this.tokens.isEmpty()}getLineTokens(v){return this.startLineNumber<=v&&v<=this.endLineNumber?this.tokens.getLineTokens(v-this.startLineNumber):null}getRange(){const v=this.tokens.getRange();return v&&new O.e(this.startLineNumber+v.startLineNumber,v.startColumn,this.startLineNumber+v.endLineNumber,v.endColumn)}removeTokens(v){this.startLineNumber+=this.tokens.removeTokens(v.startLineNumber-this.startLineNumber,v.startColumn-1,v.endLineNumber-this.startLineNumber,v.endColumn-1),this._updateEndLineNumber()}split(v){const M=v.startLineNumber-this.startLineNumber,_=v.endLineNumber-this.startLineNumber,[f,m,L]=this.tokens.split(M,v.startColumn-1,_,v.endColumn-1);return[new b(this.startLineNumber,f),new b(this.startLineNumber+L,m)]}applyEdit(v,M){const[_,f,m]=$(M);this.acceptEdit(v,_,f,m,M.length>0?M.charCodeAt(0):0)}acceptEdit(v,M,_,f,m){this._acceptDeleteRange(v),this._acceptInsertText(new j.L(v.startLineNumber,v.startColumn),M,_,f,m),this._updateEndLineNumber()}_acceptDeleteRange(v){if(v.startLineNumber===v.endLineNumber&&v.startColumn===v.endColumn)return;const M=v.startLineNumber-this.startLineNumber,_=v.endLineNumber-this.startLineNumber;if(_<0)return void(this.startLineNumber-=_-M);const f=this.tokens.getMaxDeltaLine();if(!(M>=f+1)){if(M<0&&_>=f+1)return this.startLineNumber=0,void this.tokens.clear();M<0?(this.startLineNumber-=-M,this.tokens.acceptDeleteRange(v.startColumn-1,0,0,_,v.endColumn-1)):this.tokens.acceptDeleteRange(0,M,v.startColumn-1,_,v.endColumn-1)}}_acceptInsertText(v,M,_,f,m){if(0===M&&0===_)return;const L=v.lineNumber-this.startLineNumber;L<0?this.startLineNumber+=M:L>=this.tokens.getMaxDeltaLine()+1||this.tokens.acceptInsertText(L,v.column-1,M,_,f,m)}}class I{constructor(v,M){this.startLineNumber=v,this.tokens=M}}function p(S){return S instanceof Uint32Array?S:new Uint32Array(S)}class w{constructor(){this._pieces=[],this._isComplete=!1}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return 0===this._pieces.length}set(v,M){this._pieces=v||[],this._isComplete=M}setPartial(v,M){let _=v;if(M.length>0){const m=M[0].getRange(),L=M[M.length-1].getRange();if(!m||!L)return v;_=v.plusRange(m).plusRange(L)}let f=null;for(let m=0,L=this._pieces.length;m<L;m++){const F=this._pieces[m];if(F.endLineNumber<_.startLineNumber)continue;if(F.startLineNumber>_.endLineNumber){f=f||{index:m};break}if(F.removeTokens(_),F.isEmpty()){this._pieces.splice(m,1),m--,L--;continue}if(F.endLineNumber<_.startLineNumber)continue;if(F.startLineNumber>_.endLineNumber){f=f||{index:m};continue}const[G,Y]=F.split(_);G.isEmpty()?f=f||{index:m}:Y.isEmpty()||(this._pieces.splice(m,1,G,Y),m++,L++,f=f||{index:m})}return f=f||{index:this._pieces.length},M.length>0&&(this._pieces=T.Zv(this._pieces,f.index,M)),_}isComplete(){return this._isComplete}addSemanticTokens(v,M){const _=this._pieces;if(0===_.length)return M;const m=_[w._findFirstPieceWithLine(_,v)].getLineTokens(v);if(!m)return M;const L=M.getCount(),F=m.getCount();let G=0,Y=[],de=0,le=0;const ce=(be,N)=>{be!==le&&(le=be,Y[de++]=be,Y[de++]=N)};for(let be=0;be<F;be++){const N=m.getStartCharacter(be),V=m.getEndCharacter(be),Z=m.getMetadata(be),ie=((1&Z?2048:0)|(2&Z?4096:0)|(4&Z?8192:0)|(8&Z?8372224:0)|(16&Z?4286578688:0))>>>0,ue=~ie>>>0;for(;G<L&&M.getEndOffset(G)<=N;)ce(M.getEndOffset(G),M.getMetadata(G)),G++;for(G<L&&M.getStartOffset(G)<N&&ce(N,M.getMetadata(G));G<L&&M.getEndOffset(G)<V;)ce(M.getEndOffset(G),M.getMetadata(G)&ue|Z&ie),G++;if(G<L)ce(V,M.getMetadata(G)&ue|Z&ie),M.getEndOffset(G)===V&&G++;else{const oe=Math.min(Math.max(0,G-1),L-1);ce(V,M.getMetadata(oe)&ue|Z&ie)}}for(;G<L;)ce(M.getEndOffset(G),M.getMetadata(G)),G++;return new U.A(new Uint32Array(Y),M.getLineContent())}static _findFirstPieceWithLine(v,M){let _=0,f=v.length-1;for(;_<f;){let m=_+Math.floor((f-_)/2);if(v[m].endLineNumber<M)_=m+1;else{if(!(v[m].startLineNumber>M)){for(;m>_&&v[m-1].startLineNumber<=M&&M<=v[m-1].endLineNumber;)m--;return m}f=m-1}}return _}acceptEdit(v,M,_,f,m){for(const L of this._pieces)L.acceptEdit(v,M,_,f,m)}}class E{constructor(){this._lineTokens=[],this._len=0}flush(){this._lineTokens=[],this._len=0}getTokens(v,M,_){let f=null;if(M<this._len&&(f=this._lineTokens[M]),null!==f&&f!==R)return new U.A(p(f),_);let m=new Uint32Array(2);return m[0]=_.length,m[1]=B(v),new U.A(m,_)}static _massageTokens(v,M,_){const f=_?p(_):null;if(0===M){let m=!1;if(f&&f.length>1&&(m=k.NX.getLanguageId(f[1])!==v),!m)return R}if(!f||0===f.length){const m=new Uint32Array(2);return m[0]=M,m[1]=B(v),m.buffer}return f[f.length-2]=M,0===f.byteOffset&&f.byteLength===f.buffer.byteLength?f.buffer:f}_ensureLine(v){for(;v>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(v,M){0!==M&&(v+M>this._len&&(M=this._len-v),this._lineTokens.splice(v,M),this._len-=M)}_insertLines(v,M){if(0===M)return;let _=[];for(let f=0;f<M;f++)_[f]=null;this._lineTokens=T.Zv(this._lineTokens,v,_),this._len+=M}setTokens(v,M,_,f,m){const L=E._massageTokens(v,_,f);this._ensureLine(M);const F=this._lineTokens[M];return this._lineTokens[M]=L,!!m&&!E._equals(F,L)}static _equals(v,M){if(!v||!M)return!v&&!M;const _=p(v),f=p(M);if(_.length!==f.length)return!1;for(let m=0,L=_.length;m<L;m++)if(_[m]!==f[m])return!1;return!0}acceptEdit(v,M,_){this._acceptDeleteRange(v),this._acceptInsertText(new j.L(v.startLineNumber,v.startColumn),M,_)}_acceptDeleteRange(v){const M=v.startLineNumber-1;if(M>=this._len)return;if(v.startLineNumber===v.endLineNumber){if(v.startColumn===v.endColumn)return;return void(this._lineTokens[M]=E._delete(this._lineTokens[M],v.startColumn-1,v.endColumn-1))}this._lineTokens[M]=E._deleteEnding(this._lineTokens[M],v.startColumn-1);const _=v.endLineNumber-1;let f=null;_<this._len&&(f=E._deleteBeginning(this._lineTokens[_],v.endColumn-1)),this._lineTokens[M]=E._append(this._lineTokens[M],f),this._deleteLines(v.startLineNumber,v.endLineNumber-v.startLineNumber)}_acceptInsertText(v,M,_){if(0===M&&0===_)return;const f=v.lineNumber-1;if(!(f>=this._len)){if(0===M)return void(this._lineTokens[f]=E._insert(this._lineTokens[f],v.column-1,_));this._lineTokens[f]=E._deleteEnding(this._lineTokens[f],v.column-1),this._lineTokens[f]=E._insert(this._lineTokens[f],v.column-1,_),this._insertLines(v.lineNumber,M)}}static _deleteBeginning(v,M){return null===v||v===R?v:E._delete(v,0,M)}static _deleteEnding(v,M){if(null===v||v===R)return v;const _=p(v);return E._delete(v,M,_[_.length-2])}static _delete(v,M,_){if(null===v||v===R||M===_)return v;const f=p(v),m=f.length>>>1;if(0===M&&f[f.length-2]===_)return R;const L=U.A.findIndexInTokensArray(f,M),F=L>0?f[L-1<<1]:0;if(_<f[L<<1]){const be=_-M;for(let N=L;N<m;N++)f[N<<1]-=be;return v}let Y,de;F!==M?(f[L<<1]=M,Y=L+1<<1,de=M):(Y=L<<1,de=F);const le=_-M;for(let be=L+1;be<m;be++){const N=f[be<<1]-le;N>de&&(f[Y++]=N,f[Y++]=f[1+(be<<1)],de=N)}if(Y===f.length)return v;let ce=new Uint32Array(Y);return ce.set(f.subarray(0,Y),0),ce.buffer}static _append(v,M){if(M===R)return v;if(v===R)return M;if(null===v)return v;if(null===M)return null;const _=p(v),f=p(M),m=f.length>>>1;let L=new Uint32Array(_.length+f.length);L.set(_,0);let F=_.length;const G=_[_.length-2];for(let Y=0;Y<m;Y++)L[F++]=f[Y<<1]+G,L[F++]=f[1+(Y<<1)];return L.buffer}static _insert(v,M,_){if(null===v||v===R)return v;const f=p(v),m=f.length>>>1;let L=U.A.findIndexInTokensArray(f,M);L>0&&f[L-1<<1]===M&&L--;for(let F=L;F<m;F++)f[F<<1]+=_;return v}}},6983:(Ct,Qe,a)=>{"use strict";a.d(Qe,{vu:()=>T,Af:()=>j,eq:()=>O,t2:()=>$});const T="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?",j=function(R=""){let d="(-?\\d*\\.\\d\\w*)|([^";for(const C of T)R.indexOf(C)>=0||(d+="\\"+C);return d+="\\s]+)",new RegExp(d,"g")}();function O(R){let d=j;if(R&&R instanceof RegExp)if(R.global)d=R;else{let C="g";R.ignoreCase&&(C+="i"),R.multiline&&(C+="m"),R.unicode&&(C+="u"),d=new RegExp(R.source,C)}return d.lastIndex=0,d}const k={maxLen:1e3,windowSize:15,timeBudget:150};function $(R,d,C,g,b=k){if(C.length>b.maxLen){let S=R-b.maxLen/2;return S<0?S=0:g+=S,$(R,d,C=C.substring(S,R+b.maxLen/2),g,b)}const I=Date.now(),p=R-1-g;let w=-1,E=null;for(let S=1;!(Date.now()-I>=b.timeBudget);S++){const v=p-b.windowSize*S;d.lastIndex=Math.max(0,v);const M=B(d,C,p,w);if(!M&&E||(E=M,v<=0))break;w=v}if(E){let S={word:E[0],startColumn:g+1+E.index,endColumn:g+1+E.index+E[0].length};return d.lastIndex=0,S}return null}function B(R,d,C,g){let b;for(;b=R.exec(d);){const I=b.index||0;if(I<=C&&R.lastIndex>=C)return b;if(g>0&&I>g)return null}return null}},6412:(Ct,Qe,a)=>{"use strict";a.d(Qe,{H9:()=>ie,He:()=>V,OH:()=>ne,KZ:()=>f,RN:()=>ce,Ct:()=>le,Az:()=>ue,MY:()=>p,vH:()=>Y,vN:()=>oe,K7:()=>ye,wT:()=>re,vJ:()=>G,AD:()=>S,aC:()=>ge,xp:()=>F,vI:()=>be,mX:()=>Z,bw:()=>b,zu:()=>m,rl:()=>R,pM:()=>K,id:()=>de,ln:()=>ee,FL:()=>M,G0:()=>_,AC:()=>he,nD:()=>L,WW:()=>I,uZ:()=>E,NX:()=>d,RW:()=>ke,tA:()=>N,jr:()=>g,Sy:()=>C,vx:()=>w});var T=a(6746),U=a(8487),j=a(7741),O=a(6723),k=a(1719),B=a(521);class R{constructor(Pe,fe){this.language=Pe,this.id=fe}}class d{static getLanguageId(Pe){return(255&Pe)>>>0}static getTokenType(Pe){return(1792&Pe)>>>8}static getFontStyle(Pe){return(14336&Pe)>>>11}static getForeground(Pe){return(8372224&Pe)>>>14}static getBackground(Pe){return(4286578688&Pe)>>>23}static getClassNameFromMetadata(Pe){let Te="mtk"+this.getForeground(Pe),Ce=this.getFontStyle(Pe);return 1&Ce&&(Te+=" mtki"),2&Ce&&(Te+=" mtkb"),4&Ce&&(Te+=" mtku"),Te}static getInlineStyleFromMetadata(Pe,fe){const Te=this.getForeground(Pe),Ce=this.getFontStyle(Pe);let Je=`color: ${fe[Te]};`;return 1&Ce&&(Je+="font-style: italic;"),2&Ce&&(Je+="font-weight: bold;"),4&Ce&&(Je+="text-decoration: underline;"),Je}}const C=function(){let xe=Object.create(null);return xe[0]="symbol-method",xe[1]="symbol-function",xe[2]="symbol-constructor",xe[3]="symbol-field",xe[4]="symbol-variable",xe[5]="symbol-class",xe[6]="symbol-struct",xe[7]="symbol-interface",xe[8]="symbol-module",xe[9]="symbol-property",xe[10]="symbol-event",xe[11]="symbol-operator",xe[12]="symbol-unit",xe[13]="symbol-value",xe[14]="symbol-constant",xe[15]="symbol-enum",xe[16]="symbol-enum-member",xe[17]="symbol-keyword",xe[27]="symbol-snippet",xe[18]="symbol-text",xe[19]="symbol-color",xe[20]="symbol-file",xe[21]="symbol-reference",xe[22]="symbol-customcolor",xe[23]="symbol-folder",xe[24]="symbol-type-parameter",xe[25]="account",xe[26]="issues",function(Pe){const fe=xe[Pe];let Te=fe&&B.fK.get(fe);return Te||(console.info("No codicon found for CompletionItemKind "+Pe),Te=B.lA.symbolProperty),Te.classNames}}();let g=function(){let xe=Object.create(null);return xe.method=0,xe.function=1,xe.constructor=2,xe.field=3,xe.variable=4,xe.class=5,xe.struct=6,xe.interface=7,xe.module=8,xe.property=9,xe.event=10,xe.operator=11,xe.unit=12,xe.value=13,xe.constant=14,xe.enum=15,xe["enum-member"]=16,xe.enumMember=16,xe.keyword=17,xe.snippet=27,xe.text=18,xe.color=19,xe.file=20,xe.reference=21,xe.customcolor=22,xe.folder=23,xe["type-parameter"]=24,xe.typeParameter=24,xe.account=25,xe.issue=26,function(Pe,fe){let Te=xe[Pe];return void 0===Te&&!fe&&(Te=9),Te}}();var E,b=(()=>{return(xe=b||(b={}))[xe.Automatic=0]="Automatic",xe[xe.Explicit=1]="Explicit",b;var xe})(),I=(()=>{return(xe=I||(I={}))[xe.Invoke=1]="Invoke",xe[xe.TriggerCharacter=2]="TriggerCharacter",xe[xe.ContentChange=3]="ContentChange",I;var xe})(),p=(()=>{return(xe=p||(p={}))[xe.Text=0]="Text",xe[xe.Read=1]="Read",xe[xe.Write=2]="Write",p;var xe})();function w(xe){return xe&&T.o.isUri(xe.uri)&&U.e.isIRange(xe.range)&&(U.e.isIRange(xe.originSelectionRange)||U.e.isIRange(xe.targetSelectionRange))}!function(xe){const Pe=new Map;Pe.set("file",0),Pe.set("module",1),Pe.set("namespace",2),Pe.set("package",3),Pe.set("class",4),Pe.set("method",5),Pe.set("property",6),Pe.set("field",7),Pe.set("constructor",8),Pe.set("enum",9),Pe.set("interface",10),Pe.set("function",11),Pe.set("variable",12),Pe.set("constant",13),Pe.set("string",14),Pe.set("number",15),Pe.set("boolean",16),Pe.set("array",17),Pe.set("object",18),Pe.set("key",19),Pe.set("null",20),Pe.set("enum-member",21),Pe.set("struct",22),Pe.set("event",23),Pe.set("operator",24),Pe.set("type-parameter",25);const fe=new Map;fe.set(0,"file"),fe.set(1,"module"),fe.set(2,"namespace"),fe.set(3,"package"),fe.set(4,"class"),fe.set(5,"method"),fe.set(6,"property"),fe.set(7,"field"),fe.set(8,"constructor"),fe.set(9,"enum"),fe.set(10,"interface"),fe.set(11,"function"),fe.set(12,"variable"),fe.set(13,"constant"),fe.set(14,"string"),fe.set(15,"number"),fe.set(16,"boolean"),fe.set(17,"array"),fe.set(18,"object"),fe.set(19,"key"),fe.set(20,"null"),fe.set(21,"enum-member"),fe.set(22,"struct"),fe.set(23,"event"),fe.set(24,"operator"),fe.set(25,"type-parameter"),xe.fromString=function(pe){return Pe.get(pe)},xe.toString=function(pe){return fe.get(pe)},xe.toCssClassName=function(pe,Ve){const Ae=fe.get(pe);let Ee=Ae&&B.fK.get("symbol-"+Ae);return Ee||(console.info("No codicon found for SymbolKind "+pe),Ee=B.lA.symbolProperty),`${Ve?"inline":"block"} ${Ee.classNames}`}}(E||(E={}));class S{constructor(Pe){this.value=Pe}}S.Comment=new S("comment"),S.Imports=new S("imports"),S.Region=new S("region");const M=new j.c,_=new j.c,f=new j.c,m=new j.c,L=new j.c,F=new j.c,G=new j.c,Y=new j.c,de=new j.c,le=new j.c,ce=new j.c,be=new j.c,N=new j.c,V=new j.c,Z=new j.c,ie=new j.c,ue=new j.c,oe=new j.c,ee=new j.c,K=new j.c,ne=new j.c,he=new j.c,ge=new j.c,re=new j.c,ye=new j.c,ke=new class{constructor(){this._map=new Map,this._promises=new Map,this._onDidChange=new O.Q5,this.onDidChange=this._onDidChange.event,this._colorMap=null}fire(Pe){this._onDidChange.fire({changedLanguages:Pe,changedColorMap:!1})}register(Pe,fe){return this._map.set(Pe,fe),this.fire([Pe]),(0,k.OF)(()=>{this._map.get(Pe)===fe&&(this._map.delete(Pe),this.fire([Pe]))})}registerPromise(Pe,fe){let Te=null,Ce=!1;return this._promises.set(Pe,fe.then(Je=>{this._promises.delete(Pe),!Ce&&Je&&(Te=this.register(Pe,Je))})),(0,k.OF)(()=>{Ce=!0,Te&&Te.dispose()})}getPromise(Pe){const fe=this.get(Pe);if(fe)return Promise.resolve(fe);const Te=this._promises.get(Pe);return Te?Te.then(Ce=>this.get(Pe)):null}get(Pe){return this._map.get(Pe)||null}setColorMap(Pe){this._colorMap=Pe,this._onDidChange.fire({changedLanguages:Array.from(this._map.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}},1533:(Ct,Qe,a)=>{"use strict";a.d(Qe,{wU:()=>T,V6:()=>U,c$:()=>j});var T=(()=>{return(k=T||(T={}))[k.None=0]="None",k[k.Indent=1]="Indent",k[k.IndentOutdent=2]="IndentOutdent",k[k.Outdent=3]="Outdent",T;var k})();class U{constructor($){if(this._standardAutoClosingPairConditionalBrand=void 0,this.open=$.open,this.close=$.close,this._standardTokenMask=0,Array.isArray($.notIn))for(let B=0,R=$.notIn.length;B<R;B++)switch($.notIn[B]){case"string":this._standardTokenMask|=2;break;case"comment":this._standardTokenMask|=1;break;case"regex":this._standardTokenMask|=4}}isOK($){return 0==(this._standardTokenMask&$)}}class j{constructor($){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const B of $)O(this.autoClosingPairsOpenByStart,B.open.charAt(0),B),O(this.autoClosingPairsOpenByEnd,B.open.charAt(B.open.length-1),B),O(this.autoClosingPairsCloseByStart,B.close.charAt(0),B),O(this.autoClosingPairsCloseByEnd,B.close.charAt(B.close.length-1),B),1===B.close.length&&1===B.open.length&&O(this.autoClosingPairsCloseSingleChar,B.close,B)}}function O(k,$,B){k.has($)?k.get($).push(B):k.set($,[B])}},2587:(Ct,Qe,a)=>{"use strict";a.d(Qe,{zu:()=>M});var T=a(6723),U=a(1719),j=a(579),O=a(6983),k=a(1533),$=a(2612);let B=(()=>{class _{constructor(m){if(this._autoClosingPairs=m.autoClosingPairs?m.autoClosingPairs.map(L=>new k.V6(L)):m.brackets?m.brackets.map(L=>new k.V6({open:L[0],close:L[1]})):[],m.__electricCharacterSupport&&m.__electricCharacterSupport.docComment){const L=m.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new k.V6({open:L.open,close:L.close||""}))}this._autoCloseBefore="string"==typeof m.autoCloseBefore?m.autoCloseBefore:_.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED,this._surroundingPairs=m.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(){return this._autoCloseBefore}static shouldAutoClosePair(m,L,F){if(0===L.getTokenCount())return!0;const G=L.findTokenIndexAtOffset(F-2),Y=L.getStandardTokenType(G);return m.isOK(Y)}getSurroundingPairs(){return this._surroundingPairs}}return _.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED=";:.,=}])> \n\t",_})();var R=a(7222);class d{constructor(f){this._richEditBrackets=f}getElectricCharacters(){let f=[];if(this._richEditBrackets)for(const m of this._richEditBrackets.brackets)for(const L of m.close){const F=L.charAt(L.length-1);f.push(F)}return f=f.filter((m,L,F)=>F.indexOf(m)===L),f}onElectricCharacter(f,m,L){if(!this._richEditBrackets||0===this._richEditBrackets.brackets.length)return null;const F=m.findTokenIndexAtOffset(L-1);if((0,$.Bu)(m.getStandardTokenType(F)))return null;const G=this._richEditBrackets.reversedRegex,Y=m.getLineContent().substring(0,L-1)+f,de=R.Vr.findPrevBracketInRange(G,1,Y,0,Y.length);if(!de)return null;const le=Y.substring(de.startColumn-1,de.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[le])return null;const be=m.getActualLineContentBefore(de.startColumn-1);return/^\s*$/.test(be)?{matchOpenBracket:le}:null}}function C(_){return _.global&&(_.lastIndex=0),!0}class g{constructor(f){this._indentationRules=f}shouldIncrease(f){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&C(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(f))}shouldDecrease(f){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&C(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(f))}shouldIndentNextLine(f){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&C(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(f))}shouldIgnore(f){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&C(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(f))}getIndentMetadata(f){let m=0;return this.shouldIncrease(f)&&(m+=1),this.shouldDecrease(f)&&(m+=2),this.shouldIndentNextLine(f)&&(m+=4),this.shouldIgnore(f)&&(m+=8),m}}var b=a(5160);class I{constructor(f){(f=f||{}).brackets=f.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],f.brackets.forEach(m=>{const L=I._createOpenBracketRegExp(m[0]),F=I._createCloseBracketRegExp(m[1]);L&&F&&this._brackets.push({open:m[0],openRegExp:L,close:m[1],closeRegExp:F})}),this._regExpRules=f.onEnterRules||[]}onEnter(f,m,L,F){if(f>=3)for(let G=0,Y=this._regExpRules.length;G<Y;G++){let de=this._regExpRules[G];if([{reg:de.beforeText,text:L},{reg:de.afterText,text:F},{reg:de.previousLineText,text:m}].every(ce=>!ce.reg||(ce.reg.lastIndex=0,ce.reg.test(ce.text))))return de.action}if(f>=2&&L.length>0&&F.length>0)for(let G=0,Y=this._brackets.length;G<Y;G++){let de=this._brackets[G];if(de.openRegExp.test(L)&&de.closeRegExp.test(F))return{indentAction:k.wU.IndentOutdent}}if(f>=2&&L.length>0)for(let G=0,Y=this._brackets.length;G<Y;G++)if(this._brackets[G].openRegExp.test(L))return{indentAction:k.wU.Indent};return null}static _createOpenBracketRegExp(f){let m=j.ec(f);return/\B/.test(m.charAt(0))||(m="\\b"+m),m+="\\s*$",I._safeRegExp(m)}static _createCloseBracketRegExp(f){let m=j.ec(f);return/\B/.test(m.charAt(m.length-1))||(m+="\\b"),m="^\\s*"+m,I._safeRegExp(m)}static _safeRegExp(f){try{return new RegExp(f)}catch(m){return(0,b.dL)(m),null}}}class p{constructor(f,m){this._languageIdentifier=f,this._brackets=null,this._electricCharacter=null,this._conf=m,this._onEnterSupport=this._conf.brackets||this._conf.indentationRules||this._conf.onEnterRules?new I(this._conf):null,this.comments=p._handleComments(this._conf),this.characterPair=new B(this._conf),this.wordDefinition=this._conf.wordPattern||O.Af,this.indentationRules=this._conf.indentationRules,this.indentRulesSupport=this._conf.indentationRules?new g(this._conf.indentationRules):null,this.foldingRules=this._conf.folding||{}}get brackets(){return!this._brackets&&this._conf.brackets&&(this._brackets=new R.EA(this._languageIdentifier,this._conf.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new d(this.brackets)),this._electricCharacter}onEnter(f,m,L,F){return this._onEnterSupport?this._onEnterSupport.onEnter(f,m,L,F):null}static _handleComments(f){let m=f.comments;if(!m)return null;let L={};if(m.lineComment&&(L.lineCommentToken=m.lineComment),m.blockComment){let[F,G]=m.blockComment;L.blockCommentStartToken=F,L.blockCommentEndToken=G}return L}}class w{constructor(f){this.languageIdentifier=f}}class E{constructor(f,m,L){this.configuration=f,this.priority=m,this.order=L}static cmp(f,m){return f.priority===m.priority?f.order-m.order:f.priority-m.priority}}class S{constructor(f){this.languageIdentifier=f,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(f,m){const L=new E(f,m,++this._order);return this._entries.push(L),this._resolved=null,(0,U.OF)(()=>{for(let F=0;F<this._entries.length;F++)if(this._entries[F]===L){this._entries.splice(F,1),this._resolved=null;break}})}getRichEditSupport(){if(!this._resolved){const f=this._resolve();f&&(this._resolved=new p(this.languageIdentifier,f))}return this._resolved}_resolve(){if(0===this._entries.length)return null;this._entries.sort(E.cmp);const f={};for(const m of this._entries){const L=m.configuration;f.comments=L.comments||f.comments,f.brackets=L.brackets||f.brackets,f.wordPattern=L.wordPattern||f.wordPattern,f.indentationRules=L.indentationRules||f.indentationRules,f.onEnterRules=L.onEnterRules||f.onEnterRules,f.autoClosingPairs=L.autoClosingPairs||f.autoClosingPairs,f.surroundingPairs=L.surroundingPairs||f.surroundingPairs,f.autoCloseBefore=L.autoCloseBefore||f.autoCloseBefore,f.folding=L.folding||f.folding,f.__electricCharacterSupport=L.__electricCharacterSupport||f.__electricCharacterSupport}return f}}const M=new class{constructor(){this._entries2=new Map,this._onDidChange=new T.Q5,this.onDidChange=this._onDidChange.event}register(f,m,L=0){let F=this._entries2.get(f.id);F||(F=new S(f),this._entries2.set(f.id,F));const G=F.register(m,L);return this._onDidChange.fire(new w(f)),(0,U.OF)(()=>{G.dispose(),this._onDidChange.fire(new w(f))})}_getRichEditSupport(f){const m=this._entries2.get(f);return m?m.getRichEditSupport():null}getIndentationRules(f){const m=this._getRichEditSupport(f);return m&&m.indentationRules||null}_getElectricCharacterSupport(f){let m=this._getRichEditSupport(f);return m&&m.electricCharacter||null}getElectricCharacters(f){let m=this._getElectricCharacterSupport(f);return m?m.getElectricCharacters():[]}onElectricCharacter(f,m,L){let F=(0,$.wH)(m,L-1),G=this._getElectricCharacterSupport(F.languageId);return G?G.onElectricCharacter(f,F,L-F.firstCharOffset):null}getComments(f){let m=this._getRichEditSupport(f);return m&&m.comments||null}_getCharacterPairSupport(f){let m=this._getRichEditSupport(f);return m&&m.characterPair||null}getAutoClosingPairs(f){const m=this._getCharacterPairSupport(f);return new k.c$(m?m.getAutoClosingPairs():[])}getAutoCloseBeforeSet(f){let m=this._getCharacterPairSupport(f);return m?m.getAutoCloseBeforeSet():B.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED}getSurroundingPairs(f){let m=this._getCharacterPairSupport(f);return m?m.getSurroundingPairs():[]}shouldAutoClosePair(f,m,L){const F=(0,$.wH)(m,L-1);return B.shouldAutoClosePair(f,F,L-F.firstCharOffset)}getWordDefinition(f){let m=this._getRichEditSupport(f);return(0,O.eq)(m&&m.wordDefinition||null)}getFoldingRules(f){let m=this._getRichEditSupport(f);return m?m.foldingRules:{}}getIndentRulesSupport(f){let m=this._getRichEditSupport(f);return m&&m.indentRulesSupport||null}getPrecedingValidLine(f,m,L){let F=f.getLanguageIdAtPosition(m,0);if(m>1){let G,Y=-1;for(G=m-1;G>=1;G--){if(f.getLanguageIdAtPosition(G,0)!==F)return Y;let de=f.getLineContent(G);if(!L.shouldIgnore(de)&&!/^\s+$/.test(de)&&""!==de)return G;Y=G}}return-1}getInheritIndentForLine(f,m,L,F=!0){if(f<4)return null;const G=this.getIndentRulesSupport(m.getLanguageIdentifier().id);if(!G)return null;if(L<=1)return{indentation:"",action:null};const Y=this.getPrecedingValidLine(m,L,G);if(Y<0)return null;if(Y<1)return{indentation:"",action:null};const de=m.getLineContent(Y);if(G.shouldIncrease(de)||G.shouldIndentNextLine(de))return{indentation:j.V8(de),action:k.wU.Indent,line:Y};if(G.shouldDecrease(de))return{indentation:j.V8(de),action:null,line:Y};{if(1===Y)return{indentation:j.V8(m.getLineContent(Y)),action:null,line:Y};const le=Y-1,ce=G.getIndentMetadata(m.getLineContent(le));if(!(3&ce)&&4&ce){let be=0;for(let N=le-1;N>0;N--)if(!G.shouldIndentNextLine(m.getLineContent(N))){be=N;break}return{indentation:j.V8(m.getLineContent(be+1)),action:null,line:be+1}}if(F)return{indentation:j.V8(m.getLineContent(Y)),action:null,line:Y};for(let be=Y;be>0;be--){const N=m.getLineContent(be);if(G.shouldIncrease(N))return{indentation:j.V8(N),action:k.wU.Indent,line:be};if(G.shouldIndentNextLine(N)){let V=0;for(let Z=be-1;Z>0;Z--)if(!G.shouldIndentNextLine(m.getLineContent(be))){V=Z;break}return{indentation:j.V8(m.getLineContent(V+1)),action:null,line:V+1}}if(G.shouldDecrease(N))return{indentation:j.V8(N),action:null,line:be}}return{indentation:j.V8(m.getLineContent(1)),action:null,line:1}}}getGoodIndentForLine(f,m,L,F,G){if(f<4)return null;const Y=this._getRichEditSupport(L);if(!Y)return null;const de=this.getIndentRulesSupport(L);if(!de)return null;const le=this.getInheritIndentForLine(f,m,F),ce=m.getLineContent(F);if(le){const be=le.line;if(void 0!==be){const N=Y.onEnter(f,"",m.getLineContent(be),"");if(N){let V=j.V8(m.getLineContent(be));return N.removeText&&(V=V.substring(0,V.length-N.removeText)),N.indentAction===k.wU.Indent||N.indentAction===k.wU.IndentOutdent?V=G.shiftIndent(V):N.indentAction===k.wU.Outdent&&(V=G.unshiftIndent(V)),de.shouldDecrease(ce)&&(V=G.unshiftIndent(V)),N.appendText&&(V+=N.appendText),j.V8(V)}}return de.shouldDecrease(ce)?le.action===k.wU.Indent?le.indentation:G.unshiftIndent(le.indentation):le.action===k.wU.Indent?G.shiftIndent(le.indentation):le.indentation}return null}getIndentForEnter(f,m,L,F){if(f<4)return null;m.forceTokenization(L.startLineNumber);const G=m.getLineTokens(L.startLineNumber),Y=(0,$.wH)(G,L.startColumn-1),de=Y.getLineContent();let ce,be,le=!1;Y.firstCharOffset>0&&G.getLanguageId(0)!==Y.languageId?(le=!0,ce=de.substr(0,L.startColumn-1-Y.firstCharOffset)):ce=G.getLineContent().substring(0,L.startColumn-1),be=L.isEmpty()?de.substr(L.startColumn-1-Y.firstCharOffset):this.getScopedLineTokens(m,L.endLineNumber,L.endColumn).getLineContent().substr(L.endColumn-1-Y.firstCharOffset);const N=this.getIndentRulesSupport(Y.languageId);if(!N)return null;const V=ce,Z=j.V8(ce),ie={getLineTokens:K=>m.getLineTokens(K),getLanguageIdentifier:()=>m.getLanguageIdentifier(),getLanguageIdAtPosition:(K,ne)=>m.getLanguageIdAtPosition(K,ne),getLineContent:K=>K===L.startLineNumber?V:m.getLineContent(K)},ue=j.V8(G.getLineContent()),oe=this.getInheritIndentForLine(f,ie,L.startLineNumber+1);if(!oe){const K=le?ue:Z;return{beforeEnter:K,afterEnter:K}}let ee=le?ue:oe.indentation;return oe.action===k.wU.Indent&&(ee=F.shiftIndent(ee)),N.shouldDecrease(be)&&(ee=F.unshiftIndent(ee)),{beforeEnter:le?ue:Z,afterEnter:ee}}getIndentActionForType(f,m,L,F,G){if(f<4)return null;const Y=this.getScopedLineTokens(m,L.startLineNumber,L.startColumn);if(Y.firstCharOffset)return null;const de=this.getIndentRulesSupport(Y.languageId);if(!de)return null;const le=Y.getLineContent(),ce=le.substr(0,L.startColumn-1-Y.firstCharOffset);let be;if(be=L.isEmpty()?le.substr(L.startColumn-1-Y.firstCharOffset):this.getScopedLineTokens(m,L.endLineNumber,L.endColumn).getLineContent().substr(L.endColumn-1-Y.firstCharOffset),!de.shouldDecrease(ce+be)&&de.shouldDecrease(ce+F+be)){const N=this.getInheritIndentForLine(f,m,L.startLineNumber,!1);if(!N)return null;let V=N.indentation;return N.action!==k.wU.Indent&&(V=G.unshiftIndent(V)),V}return null}getIndentMetadata(f,m){const L=this.getIndentRulesSupport(f.getLanguageIdentifier().id);return!L||m<1||m>f.getLineCount()?null:L.getIndentMetadata(f.getLineContent(m))}getEnterAction(f,m,L){const F=this.getScopedLineTokens(m,L.startLineNumber,L.startColumn),G=this._getRichEditSupport(F.languageId);if(!G)return null;const Y=F.getLineContent(),de=Y.substr(0,L.startColumn-1-F.firstCharOffset);let le;le=L.isEmpty()?Y.substr(L.startColumn-1-F.firstCharOffset):this.getScopedLineTokens(m,L.endLineNumber,L.endColumn).getLineContent().substr(L.endColumn-1-F.firstCharOffset);let ce="";if(L.startLineNumber>1&&0===F.firstCharOffset){const ue=this.getScopedLineTokens(m,L.startLineNumber-1);ue.languageId===F.languageId&&(ce=ue.getLineContent())}const be=G.onEnter(f,ce,de,le);if(!be)return null;const N=be.indentAction;let V=be.appendText;const Z=be.removeText||0;V?N===k.wU.Indent&&(V="\t"+V):V=N===k.wU.Indent||N===k.wU.IndentOutdent?"\t":"";let ie=this.getIndentationAtPosition(m,L.startLineNumber,L.startColumn);return Z&&(ie=ie.substring(0,ie.length-Z)),{indentAction:N,appendText:V,removeText:Z,indentation:ie}}getIndentationAtPosition(f,m,L){const F=f.getLineContent(m);let G=j.V8(F);return G.length>L-1&&(G=G.substring(0,L-1)),G}getScopedLineTokens(f,m,L){f.forceTokenization(m);const F=f.getLineTokens(m),G=void 0===L?f.getLineMaxColumn(m)-1:L-1;return(0,$.wH)(F,G)}getBracketsSupport(f){const m=this._getRichEditSupport(f);return m&&m.brackets||null}}},7741:(Ct,Qe,a)=>{"use strict";a.d(Qe,{c:()=>g,Y:()=>b});var T=a(6723),U=a(3728),j=a(1719),O=a(299),k=a(1902),$=a(1279),B=a(8416);function R(I,p,w,E){if(Array.isArray(I)){let S=0;for(const v of I){const M=R(v,p,w,E);if(10===M)return M;M>S&&(S=M)}return S}if("string"==typeof I)return E?"*"===I?5:I===w?10:0:0;if(I){const{language:S,pattern:v,scheme:M,hasAccessToAllModels:_}=I;if(!E&&!_)return 0;let f=0;if(M)if(M===p.scheme)f=10;else{if("*"!==M)return 0;f=5}if(S)if(S===w)f=10;else{if("*"!==S)return 0;f=Math.max(f,5)}if(v){let m;if(m="string"==typeof v?v:Object.assign(Object.assign({},v),{base:(0,B.Fv)(v.base)}),m!==p.fsPath&&!(0,$.EQ)(m,p.fsPath))return 0;f=10}return f}return 0}var d=a(1954);function C(I){return"string"!=typeof I&&(Array.isArray(I)?I.every(C):!!I.exclusive)}class g{constructor(){this._clock=0,this._entries=[],this._onDidChange=new T.Q5}get onDidChange(){return this._onDidChange.event}register(p,w){let E={selector:p,provider:w,_score:-1,_time:this._clock++};return this._entries.push(E),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),(0,j.OF)(()=>{if(E){let S=this._entries.indexOf(E);S>=0&&(this._entries.splice(S,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),E=void 0)}})}has(p){return this.all(p).length>0}all(p){if(!p)return[];this._updateScores(p);const w=[];for(let E of this._entries)E._score>0&&w.push(E.provider);return w}ordered(p){const w=[];return this._orderedForEach(p,E=>w.push(E.provider)),w}orderedGroups(p){const w=[];let E,S;return this._orderedForEach(p,v=>{E&&S===v._score?E.push(v.provider):(S=v._score,E=[v.provider],w.push(E))}),w}_orderedForEach(p,w){if(p){this._updateScores(p);for(const E of this._entries)E._score>0&&w(E)}}_updateScores(p){let w={uri:p.uri.toString(),language:p.getLanguageIdentifier().language};if(!this._lastCandidate||this._lastCandidate.language!==w.language||this._lastCandidate.uri!==w.uri){this._lastCandidate=w;for(let E of this._entries)if(E._score=R(E.selector,p.uri,p.getLanguageIdentifier().language,(0,d.p)(p)),C(E.selector)&&E._score>0){for(let S of this._entries)S._score=0;E._score=1e3;break}this._entries.sort(g._compareByScoreAndTime)}}static _compareByScoreAndTime(p,w){return p._score<w._score?1:p._score>w._score?-1:p._time<w._time?1:p._time>w._time?-1:0}}class b{constructor(p,w,E=Number.MAX_SAFE_INTEGER){this._registry=p,this.min=w,this.max=E,this._cache=new O.z6(50,.7)}_key(p){return p.id+(0,U.vp)(this._registry.all(p))}_clamp(p){return void 0===p?this.min:Math.min(this.max,Math.max(this.min,Math.floor(1.3*p)))}get(p){const w=this._key(p),E=this._cache.get(w);return this._clamp(null==E?void 0:E.value)}update(p,w){const E=this._key(p);let S=this._cache.get(E);return S||(S=new k.n,this._cache.set(E,S)),S.update(w),this.get(p)}}},6367:(Ct,Qe,a)=>{"use strict";a.d(Qe,{dQ:()=>d,XT:()=>C,Tb:()=>b});var T=a(1606),U=a(6723),j=a(6412),O=a(2587),k=a(1161),$=a(2035);const d=new class{constructor(){this._onDidChangeLanguages=new U.Q5,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[],this._dynamicLanguages=[]}registerLanguage(p){return this._languages.push(p),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let w=0,E=this._languages.length;w<E;w++)if(this._languages[w]===p)return void this._languages.splice(w,1)}}}getLanguages(){return[].concat(this._languages).concat(this._dynamicLanguages)}};k.B.add("editor.modesRegistry",d);const C="plaintext",b=new j.rl(C,1);d.registerLanguage({id:C,extensions:[".txt"],aliases:[T.N("plainText.alias","Plain Text"),"text"],mimetypes:[$.vW.text]}),O.zu.register(b,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],folding:{offSide:!0}},0)},8995:(Ct,Qe,a)=>{"use strict";a.d(Qe,{nO:()=>O,TG:()=>k,pA:()=>$,Ri:()=>B,mh:()=>R});var T=a(5529),U=a(6412);const O=new class{clone(){return this}equals(C){return this===C}},k="vs.editor.nullMode",$=new U.rl(k,0);function B(d,C,g,b){return new T.hG([new T.WU(b,"",d)],g)}function R(d,C,g,b){let I=new Uint32Array(2);return I[0]=b,I[1]=(16384|d<<0|2<<23)>>>0,new T.Hi(I,null===g?O:g)}},2612:(Ct,Qe,a)=>{"use strict";function T(O,k){let $=O.getCount(),B=O.findTokenIndexAtOffset(k),R=O.getLanguageId(B),d=B;for(;d+1<$&&O.getLanguageId(d+1)===R;)d++;let C=B;for(;C>0&&O.getLanguageId(C-1)===R;)C--;return new U(O,R,C,d+1,O.getStartOffset(C),O.getEndOffset(d))}a.d(Qe,{wH:()=>T,Bu:()=>j});class U{constructor(k,$,B,R,d,C){this._scopedLineTokensBrand=void 0,this._actual=k,this.languageId=$,this._firstTokenIndex=B,this._lastTokenIndex=R,this.firstCharOffset=d,this._lastCharOffset=C}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(k){return this._actual.getLineContent().substring(0,this.firstCharOffset+k)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(k){return this._actual.findTokenIndexAtOffset(k+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(k){return this._actual.getStandardTokenType(k+this._firstTokenIndex)}}function j(O){return 0!=(7&O)}},7222:(Ct,Qe,a)=>{"use strict";a.d(Qe,{EA:()=>$,Vr:()=>S});var T=a(579),U=a(8918),j=a(8487);class O{constructor(M,_,f,m,L,F){this._richEditBracketBrand=void 0,this.languageIdentifier=M,this.index=_,this.open=f,this.close=m,this.forwardRegex=L,this.reversedRegex=F,this._openSet=O._toSet(this.open),this._closeSet=O._toSet(this.close)}isOpen(M){return this._openSet.has(M)}isClose(M){return this._closeSet.has(M)}static _toSet(M){const _=new Set;for(const f of M)_.add(f);return _}}class ${constructor(M,_){this._richEditBracketsBrand=void 0;const f=function(v){const M=v.length;v=v.map(F=>[F[0].toLowerCase(),F[1].toLowerCase()]);const _=[];for(let F=0;F<M;F++)_[F]=F;const f=(F,G)=>{const[Y,de]=F,[le,ce]=G;return Y===le||Y===ce||de===le||de===ce},m=(F,G)=>{const Y=Math.min(F,G),de=Math.max(F,G);for(let le=0;le<M;le++)_[le]===de&&(_[le]=Y)};for(let F=0;F<M;F++){const G=v[F];for(let Y=F+1;Y<M;Y++)f(G,v[Y])&&m(_[F],_[Y])}const L=[];for(let F=0;F<M;F++){let G=[],Y=[];for(let de=0;de<M;de++)if(_[de]===F){const[le,ce]=v[de];G.push(le),Y.push(ce)}G.length>0&&L.push({open:G,close:Y})}return L}(_);this.brackets=f.map((m,L)=>new O(M,L,m.open,m.close,function(v,M,_,f){let m=[];m=m.concat(v),m=m.concat(M);for(let L=0,F=m.length;L<F;L++)B(m[L],_,f,m);return m=d(m),m.sort(R),m.reverse(),w(m)}(m.open,m.close,f,L),function(v,M,_,f){let m=[];m=m.concat(v),m=m.concat(M);for(let L=0,F=m.length;L<F;L++)B(m[L],_,f,m);return m=d(m),m.sort(R),m.reverse(),w(m.map(E))}(m.open,m.close,f,L))),this.forwardRegex=function(v){let M=[];for(const _ of v){for(const f of _.open)M.push(f);for(const f of _.close)M.push(f)}return M=d(M),w(M)}(this.brackets),this.reversedRegex=function(v){let M=[];for(const _ of v){for(const f of _.open)M.push(f);for(const f of _.close)M.push(f)}return M=d(M),w(M.map(E))}(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const m of this.brackets){for(const L of m.open)this.textIsBracket[L]=m,this.textIsOpenBracket[L]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,L.length);for(const L of m.close)this.textIsBracket[L]=m,this.textIsOpenBracket[L]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,L.length)}}}function B(v,M,_,f){for(let m=0,L=M.length;m<L;m++){if(m===_)continue;const F=M[m];for(const G of F.open)G.indexOf(v)>=0&&f.push(G);for(const G of F.close)G.indexOf(v)>=0&&f.push(G)}}function R(v,M){return v.length-M.length}function d(v){if(v.length<=1)return v;const M=[],_=new Set;for(const f of v)_.has(f)||(M.push(f),_.add(f));return M}function p(v){const M=/^[\w ]+$/.test(v);return v=T.ec(v),M?`\\b${v}\\b`:v}function w(v){let M=`(${v.map(p).join(")|(")})`;return T.GF(M,!0)}const E=function(){let M=null,_=null;return function(m){return M!==m&&(M=m,_=function(f){if(U.lZ){const m=new Uint16Array(f.length);let L=0;for(let F=f.length-1;F>=0;F--)m[L++]=f.charCodeAt(F);return U.oe().decode(m)}{let m=[],L=0;for(let F=f.length-1;F>=0;F--)m[L++]=f.charAt(F);return m.join("")}}(M)),_}}();class S{static _findPrevBracketInText(M,_,f,m){let L=f.match(M);if(!L)return null;let Y=m+(f.length-(L.index||0));return new j.e(_,Y-L[0].length+1,_,Y+1)}static findPrevBracketInRange(M,_,f,m,L){const G=E(f).substring(f.length-L,f.length-m);return this._findPrevBracketInText(M,_,G,m)}static findNextBracketInText(M,_,f,m){let L=f.match(M);if(!L)return null;let G=L[0].length;if(0===G)return null;let Y=m+(L.index||0);return new j.e(_,Y+1,_,Y+1+G)}static findNextBracketInRange(M,_,f,m,L){const F=f.substring(m,L);return this.findNextBracketInText(M,_,F,m)}}},5447:(Ct,Qe,a)=>{"use strict";a.d(Qe,{C:()=>k,F:()=>$});var T=a(579),U=a(1959),j=a(8995);const O={getInitialState:()=>j.nO,tokenize2:(R,d,C,g)=>(0,j.mh)(0,R,C,g)};function k(R,d=O){return function(R,d){let C='<div class="monaco-tokenized-source">',g=T.uq(R),b=d.getInitialState();for(let I=0,p=g.length;I<p;I++){let w=g[I];I>0&&(C+="<br/>");let E=d.tokenize2(w,!0,b,0);U.A.convertToEndOffset(E.tokens,w.length);let v=new U.A(E.tokens,w).inflate(),M=0;for(let _=0,f=v.getCount();_<f;_++){const m=v.getClassName(_),L=v.getEndOffset(_);C+=`<span class="${m}">${T.YU(w.substring(M,L))}</span>`,M=L}b=E.endState}return C+="</div>",C}(R,d||O)}function $(R,d,C,g,b,I,p){let w="<div>",E=g,S=0;for(let v=0,M=d.getCount();v<M;v++){const _=d.getEndOffset(v);if(_<=g)continue;let f="";for(;E<_&&E<b;E++){const m=R.charCodeAt(E);switch(m){case 9:let L=I-(E+S)%I;for(S+=L-1;L>0;)f+=p?"&#160;":" ",L--;break;case 60:f+="&lt;";break;case 62:f+="&gt;";break;case 38:f+="&amp;";break;case 0:f+="&#00;";break;case 65279:case 8232:case 8233:case 133:f+="\ufffd";break;case 13:f+="&#8203";break;case 32:f+=p?"&#160;":" ";break;default:f+=String.fromCharCode(m)}}if(w+=`<span style="${d.getInlineStyle(v,C)}">${f}</span>`,_>b||E>=b)break}return w+="</div>",w}},4725:(Ct,Qe,a)=>{"use strict";a.d(Qe,{p:()=>j});const j=(0,a(4562).yh)("editorWorkerService")},3750:(Ct,Qe,a)=>{"use strict";a.d(Qe,{St:()=>_,ML:()=>v,Vl:()=>E,Vj:()=>S});var T=a(9357),U=a(5160),j=a(6746),O=a(6412),k=a(1954),$=a(8896),B=a(1882),R=a(9427),d=a(9190);function b(f){const m=new Uint32Array(function(f){let m=0;if(m+=2,"full"===f.type)m+=1+f.data.length;else{m+=1,m+=3*f.deltas.length;for(const L of f.deltas)L.data&&(m+=L.data.length)}return m}(f));let L=0;if(m[L++]=f.id,"full"===f.type)m[L++]=1,m[L++]=f.data.length,m.set(f.data,L),L+=f.data.length;else{m[L++]=2,m[L++]=f.deltas.length;for(const F of f.deltas)m[L++]=F.start,m[L++]=F.deleteCount,F.data?(m[L++]=F.data.length,m.set(F.data,L),L+=F.data.length):m[L++]=0}return function(f){const m=new Uint8Array(f.buffer,f.byteOffset,4*f.length);return d.r()||function(f){for(let m=0,L=f.length;m<L;m+=4){const F=f[m+0],G=f[m+1],Y=f[m+2];f[m+0]=f[m+3],f[m+1]=Y,f[m+2]=G,f[m+3]=F}}(m),R.KN.wrap(m)}(m)}var p=a(8487),w=function(f,m,L,F){return new(L||(L=Promise))(function(Y,de){function le(N){try{be(F.next(N))}catch(V){de(V)}}function ce(N){try{be(F.throw(N))}catch(V){de(V)}}function be(N){N.done?Y(N.value):function(Y){return Y instanceof L?Y:new L(function(de){de(Y)})}(N.value).then(le,ce)}be((F=F.apply(f,m||[])).next())})};function E(f){return f&&!!f.data}function S(f){return f&&Array.isArray(f.edits)}function v(f,m,L){const F=M(f);return F?{provider:F,request:Promise.resolve(F.provideDocumentSemanticTokens(f,m,L))}:null}function M(f){const m=O.wT.ordered(f);return m.length>0?m[0]:null}function _(f){const m=O.K7.ordered(f);return m.length>0?m[0]:null}$.P.registerCommand("_provideDocumentSemanticTokensLegend",(f,...m)=>w(void 0,void 0,void 0,function*(){const[L]=m;(0,B.p_)(L instanceof j.o);const F=f.get(k.q).getModel(L);if(!F)return;const G=M(F);return G?G.getLegend():f.get($.H).executeCommand("_provideDocumentRangeSemanticTokensLegend",L)})),$.P.registerCommand("_provideDocumentSemanticTokens",(f,...m)=>w(void 0,void 0,void 0,function*(){const[L]=m;(0,B.p_)(L instanceof j.o);const F=f.get(k.q).getModel(L);if(!F)return;const G=v(F,null,T.T.None);if(!G)return f.get($.H).executeCommand("_provideDocumentRangeSemanticTokens",L,F.getFullModelRange());const{provider:Y,request:de}=G;let le;try{le=yield de}catch(be){return void(0,U.Cp)(be)}if(!le||!E(le))return;const ce=b({id:0,type:"full",data:le.data});return le.resultId&&Y.releaseDocumentSemanticTokens(le.resultId),ce})),$.P.registerCommand("_provideDocumentRangeSemanticTokensLegend",(f,...m)=>w(void 0,void 0,void 0,function*(){const[L]=m;(0,B.p_)(L instanceof j.o);const F=f.get(k.q).getModel(L);if(!F)return;const G=_(F);return G?G.getLegend():void 0})),$.P.registerCommand("_provideDocumentRangeSemanticTokens",(f,...m)=>w(void 0,void 0,void 0,function*(){const[L,F]=m;(0,B.p_)(L instanceof j.o),(0,B.p_)(p.e.isIRange(F));const G=f.get(k.q).getModel(L);if(!G)return;const Y=_(G);if(!Y)return;let de;try{de=yield Y.provideDocumentRangeSemanticTokens(G,p.e.lift(F),T.T.None)}catch(le){return void(0,U.Cp)(le)}return de&&E(de)?b({id:0,type:"full",data:de.data}):void 0}))},7838:(Ct,Qe,a)=>{"use strict";a.d(Qe,{i:()=>U});const U=(0,a(4562).yh)("markerDecorationsService")},8923:(Ct,Qe,a)=>{"use strict";a.d(Qe,{h:()=>U});const U=(0,a(4562).yh)("modeService")},1954:(Ct,Qe,a)=>{"use strict";a.d(Qe,{q:()=>U,p:()=>j});const U=(0,a(4562).yh)("modelService");function j(O){return!O.isTooLargeForSyncing()&&!O.isForSimpleWidget}},4219:(Ct,Qe,a)=>{"use strict";a.d(Qe,{BR:()=>ce,e3:()=>be,tw:()=>N});var T=a(6723),U=a(1719),j=a(9190),O=a(5160),k=a(4103),$=a(111),B=a(6412),R=a(6367),d=a(2122),C=a(9040),g=a(7922),b=a(9357),I=a(6803),p=a(8998),w=a(6995),E=a(3728),S=a(6630),v=a(6857),M=a(3107),_=a(3750),m=function(oe,ee){return function(K,ne){ee(K,ne,oe)}};function L(oe){return oe.toString()}function F(oe){const ee=new E.yP,K=oe.createSnapshot();let ne;for(;ne=K.read();)ee.update(ne);return ee.digest()}class G{constructor(ee,K,ne){this._modelEventListeners=new U.SL,this.model=ee,this._languageSelection=null,this._languageSelectionListener=null,this._modelEventListeners.add(ee.onWillDispose(()=>K(ee))),this._modelEventListeners.add(ee.onDidChangeLanguage(he=>ne(ee,he)))}_disposeLanguageSelection(){this._languageSelectionListener&&(this._languageSelectionListener.dispose(),this._languageSelectionListener=null)}dispose(){this._modelEventListeners.dispose(),this._disposeLanguageSelection()}setLanguage(ee){this._disposeLanguageSelection(),this._languageSelection=ee,this._languageSelectionListener=this._languageSelection.onDidChange(()=>this.model.setMode(ee.languageIdentifier)),this.model.setMode(ee.languageIdentifier)}}const Y=j.IJ||j.dz?1:2;class de{constructor(ee,K,ne,he,ge,re,ye,ke){this.uri=ee,this.initialUndoRedoSnapshot=K,this.time=ne,this.sharesUndoRedoStack=he,this.heapSize=ge,this.sha1=re,this.versionId=ye,this.alternativeVersionId=ke}}let ce=class Qg extends U.JT{constructor(ee,K,ne,he,ge){super(),this._configurationService=ee,this._resourcePropertiesService=K,this._themeService=ne,this._logService=he,this._undoRedoService=ge,this._onModelAdded=this._register(new T.Q5),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new T.Q5),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new T.Q5),this.onModelModeChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._semanticStyling=this._register(new Z(this._themeService,this._logService)),this._register(this._configurationService.onDidChangeConfiguration(()=>this._updateModelOptions())),this._updateModelOptions(),this._register(new V(this,this._themeService,this._configurationService,this._semanticStyling))}static _readModelOptions(ee,K){let ne=k.DB.tabSize;if(ee.editor&&void 0!==ee.editor.tabSize){const fe=parseInt(ee.editor.tabSize,10);isNaN(fe)||(ne=fe),ne<1&&(ne=1)}let he=ne;if(ee.editor&&void 0!==ee.editor.indentSize&&"tabSize"!==ee.editor.indentSize){const fe=parseInt(ee.editor.indentSize,10);isNaN(fe)||(he=fe),he<1&&(he=1)}let ge=k.DB.insertSpaces;ee.editor&&void 0!==ee.editor.insertSpaces&&(ge="false"!==ee.editor.insertSpaces&&Boolean(ee.editor.insertSpaces));let re=Y;const ye=ee.eol;"\r\n"===ye?re=2:"\n"===ye&&(re=1);let ke=k.DB.trimAutoWhitespace;ee.editor&&void 0!==ee.editor.trimAutoWhitespace&&(ke="false"!==ee.editor.trimAutoWhitespace&&Boolean(ee.editor.trimAutoWhitespace));let xe=k.DB.detectIndentation;ee.editor&&void 0!==ee.editor.detectIndentation&&(xe="false"!==ee.editor.detectIndentation&&Boolean(ee.editor.detectIndentation));let Pe=k.DB.largeFileOptimizations;return ee.editor&&void 0!==ee.editor.largeFileOptimizations&&(Pe="false"!==ee.editor.largeFileOptimizations&&Boolean(ee.editor.largeFileOptimizations)),{isForSimpleWidget:K,tabSize:ne,indentSize:he,insertSpaces:ge,detectIndentation:xe,defaultEOL:re,trimAutoWhitespace:ke,largeFileOptimizations:Pe}}_getEOL(ee,K){if(ee)return this._resourcePropertiesService.getEOL(ee,K);const ne=this._configurationService.getValue("files.eol",{overrideIdentifier:K});return ne&&"auto"!==ne?ne:3===j.OS||2===j.OS?"\n":"\r\n"}_shouldRestoreUndoStack(){const ee=this._configurationService.getValue("files.restoreUndoStack");return"boolean"!=typeof ee||ee}getCreationOptions(ee,K,ne){let he=this._modelCreationOptionsByLanguageAndResource[ee+K];if(!he){const ge=this._configurationService.getValue("editor",{overrideIdentifier:ee,resource:K}),re=this._getEOL(K,ee);he=Qg._readModelOptions({editor:ge,eol:re},ne),this._modelCreationOptionsByLanguageAndResource[ee+K]=he}return he}_updateModelOptions(){const ee=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const K=Object.keys(this._models);for(let ne=0,he=K.length;ne<he;ne++){const re=this._models[K[ne]],ye=re.model.getLanguageIdentifier().language,ke=re.model.uri,xe=ee[ye+ke],Pe=this.getCreationOptions(ye,ke,re.model.isForSimpleWidget);Qg._setModelOptionsForModel(re.model,Pe,xe)}}static _setModelOptionsForModel(ee,K,ne){ne&&ne.defaultEOL!==K.defaultEOL&&1===ee.getLineCount()&&ee.setEOL(1===K.defaultEOL?0:1),(!ne||ne.detectIndentation!==K.detectIndentation||ne.insertSpaces!==K.insertSpaces||ne.tabSize!==K.tabSize||ne.indentSize!==K.indentSize||ne.trimAutoWhitespace!==K.trimAutoWhitespace)&&(K.detectIndentation?(ee.detectIndentation(K.insertSpaces,K.tabSize),ee.updateOptions({trimAutoWhitespace:K.trimAutoWhitespace})):ee.updateOptions({insertSpaces:K.insertSpaces,tabSize:K.tabSize,indentSize:K.indentSize,trimAutoWhitespace:K.trimAutoWhitespace}))}_insertDisposedModel(ee){this._disposedModels.set(L(ee.uri),ee),this._disposedModelsHeapSize+=ee.heapSize}_removeDisposedModel(ee){const K=this._disposedModels.get(L(ee));return K&&(this._disposedModelsHeapSize-=K.heapSize),this._disposedModels.delete(L(ee)),K}_ensureDisposedModelsHeapSize(ee){if(this._disposedModelsHeapSize>ee){const K=[];for(this._disposedModels.forEach(ne=>{ne.sharesUndoRedoStack||K.push(ne)}),K.sort((ne,he)=>ne.time-he.time);K.length>0&&this._disposedModelsHeapSize>ee;){const ne=K.shift();this._removeDisposedModel(ne.uri),null!==ne.initialUndoRedoSnapshot&&this._undoRedoService.restoreSnapshot(ne.initialUndoRedoSnapshot)}}}_createModelData(ee,K,ne,he){const ge=this.getCreationOptions(K.language,ne,he),re=new $.yO(ee,ge,K,ne,this._undoRedoService);if(ne&&this._disposedModels.has(L(ne))){const xe=this._removeDisposedModel(ne),Pe=this._undoRedoService.getElements(ne),fe=F(re)===xe.sha1;if(fe||xe.sharesUndoRedoStack){for(const Te of Pe.past)(0,S.e9)(Te)&&Te.matchesResource(ne)&&Te.setModel(re);for(const Te of Pe.future)(0,S.e9)(Te)&&Te.matchesResource(ne)&&Te.setModel(re);this._undoRedoService.setElementsValidFlag(ne,!0,Te=>(0,S.e9)(Te)&&Te.matchesResource(ne)),fe&&(re._overwriteVersionId(xe.versionId),re._overwriteAlternativeVersionId(xe.alternativeVersionId),re._overwriteInitialUndoRedoSnapshot(xe.initialUndoRedoSnapshot))}else null!==xe.initialUndoRedoSnapshot&&this._undoRedoService.restoreSnapshot(xe.initialUndoRedoSnapshot)}const ye=L(re.uri);if(this._models[ye])throw new Error("ModelService: Cannot add model because it already exists!");const ke=new G(re,xe=>this._onWillDispose(xe),(xe,Pe)=>this._onDidChangeLanguage(xe,Pe));return this._models[ye]=ke,ke}createModel(ee,K,ne,he=!1){let ge;return K?(ge=this._createModelData(ee,K.languageIdentifier,ne,he),this.setMode(ge.model,K)):ge=this._createModelData(ee,R.Tb,ne,he),this._onModelAdded.fire(ge.model),ge.model}setMode(ee,K){if(!K)return;const ne=this._models[L(ee.uri)];!ne||ne.setLanguage(K)}getModels(){const ee=[],K=Object.keys(this._models);for(let ne=0,he=K.length;ne<he;ne++)ee.push(this._models[K[ne]].model);return ee}getModel(ee){const K=L(ee),ne=this._models[K];return ne?ne.model:null}getSemanticTokensProviderStyling(ee){return this._semanticStyling.get(ee)}_onWillDispose(ee){const K=L(ee.uri),ne=this._models[K],he=this._undoRedoService.getUriComparisonKey(ee.uri)!==ee.uri.toString();let ge=!1,re=0;if(he||this._shouldRestoreUndoStack()&&((oe=ee.uri).scheme===v.lg.file||oe.scheme===v.lg.vscodeRemote||oe.scheme===v.lg.userData||"fake-fs"===oe.scheme)){const ke=this._undoRedoService.getElements(ee.uri);if(ke.past.length>0||ke.future.length>0){for(const xe of ke.past)(0,S.e9)(xe)&&xe.matchesResource(ee.uri)&&(ge=!0,re+=xe.heapSize(ee.uri),xe.setModel(ee.uri));for(const xe of ke.future)(0,S.e9)(xe)&&xe.matchesResource(ee.uri)&&(ge=!0,re+=xe.heapSize(ee.uri),xe.setModel(ee.uri))}}var oe;const ye=Qg.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK;if(ge)if(!he&&re>ye){const ke=ne.model.getInitialUndoRedoSnapshot();null!==ke&&this._undoRedoService.restoreSnapshot(ke)}else this._ensureDisposedModelsHeapSize(ye-re),this._undoRedoService.setElementsValidFlag(ee.uri,!1,ke=>(0,S.e9)(ke)&&ke.matchesResource(ee.uri)),this._insertDisposedModel(new de(ee.uri,ne.model.getInitialUndoRedoSnapshot(),Date.now(),he,re,F(ee),ee.getVersionId(),ee.getAlternativeVersionId()));else if(!he){const ke=ne.model.getInitialUndoRedoSnapshot();null!==ke&&this._undoRedoService.restoreSnapshot(ke)}delete this._models[K],ne.dispose(),delete this._modelCreationOptionsByLanguageAndResource[ee.getLanguageIdentifier().language+ee.uri],this._onModelRemoved.fire(ee)}_onDidChangeLanguage(ee,K){const ne=K.oldLanguage,he=ee.getLanguageIdentifier().language,ge=this.getCreationOptions(ne,ee.uri,ee.isForSimpleWidget),re=this.getCreationOptions(he,ee.uri,ee.isForSimpleWidget);Qg._setModelOptionsForModel(ee,re,ge),this._onModelModeChanged.fire({model:ee,oldModeId:ne})}};ce.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20971520,ce=function(oe,ee,K,ne){var re,he=arguments.length,ge=he<3?ee:null===ne?ne=Object.getOwnPropertyDescriptor(ee,K):ne;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ge=Reflect.decorate(oe,ee,K,ne);else for(var ye=oe.length-1;ye>=0;ye--)(re=oe[ye])&&(ge=(he<3?re(ge):he>3?re(ee,K,ge):re(ee,K))||ge);return he>3&&ge&&Object.defineProperty(ee,K,ge),ge}([m(0,C.Ui),m(1,d.y),m(2,I.XE),m(3,p.VZ),m(4,w.tJ)],ce);const be="editor.semanticHighlighting";function N(oe,ee,K){var ne;const he=null===(ne=K.getValue(be,{overrideIdentifier:oe.getLanguageIdentifier().language,resource:oe.uri}))||void 0===ne?void 0:ne.enabled;return"boolean"==typeof he?he:ee.getColorTheme().semanticHighlighting}class V extends U.JT{constructor(ee,K,ne,he){super(),this._watchers=Object.create(null),this._semanticStyling=he;const ge=ke=>{this._watchers[ke.uri.toString()]=new ue(ke,K,this._semanticStyling)},re=(ke,xe)=>{xe.dispose(),delete this._watchers[ke.uri.toString()]},ye=()=>{for(let ke of ee.getModels()){const xe=this._watchers[ke.uri.toString()];N(ke,K,ne)?xe||ge(ke):xe&&re(ke,xe)}};this._register(ee.onModelAdded(ke=>{N(ke,K,ne)&&ge(ke)})),this._register(ee.onModelRemoved(ke=>{const xe=this._watchers[ke.uri.toString()];xe&&re(ke,xe)})),this._register(ne.onDidChangeConfiguration(ke=>{ke.affectsConfiguration(be)&&ye()})),this._register(K.onDidColorThemeChange(ye))}}class Z extends U.JT{constructor(ee,K){super(),this._themeService=ee,this._logService=K,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}get(ee){return this._caches.has(ee)||this._caches.set(ee,new M.$(ee.getLegend(),this._themeService,this._logService)),this._caches.get(ee)}}class ie{constructor(ee,K,ne){this._provider=ee,this.resultId=K,this.data=ne}dispose(){this._provider.releaseDocumentSemanticTokens(this.resultId)}}let ue=(()=>{class oe extends U.JT{constructor(K,ne,he){super(),this._isDisposed=!1,this._model=K,this._semanticStyling=he,this._fetchDocumentSemanticTokens=this._register(new g.pY(()=>this._fetchDocumentSemanticTokensNow(),oe.FETCH_DOCUMENT_SEMANTIC_TOKENS_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule()})),this._register(this._model.onDidChangeLanguage(()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)}));const ge=()=>{(0,U.B9)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const re of B.wT.all(K))"function"==typeof re.onDidChange&&this._documentProvidersChangeListeners.push(re.onDidChange(()=>this._fetchDocumentSemanticTokens.schedule(0)))};ge(),this._register(B.wT.onDidChange(()=>{ge(),this._fetchDocumentSemanticTokens.schedule()})),this._register(ne.onDidColorThemeChange(re=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule()})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;const K=new b.A,he=(0,_.ML)(this._model,this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,K.token);if(!he)return void(this._currentDocumentResponse&&this._model.setSemanticTokens(null,!1));const{provider:ge,request:re}=he;this._currentDocumentRequestCancellationTokenSource=K;const ye=[],ke=this._model.onDidChangeContent(Pe=>{ye.push(Pe)}),xe=this._semanticStyling.get(ge);re.then(Pe=>{this._currentDocumentRequestCancellationTokenSource=null,ke.dispose(),this._setDocumentSemanticTokens(ge,Pe||null,xe,ye)},Pe=>{Pe&&(O.VV(Pe)||"string"==typeof Pe.message&&-1!==Pe.message.indexOf("busy"))||O.dL(Pe),this._currentDocumentRequestCancellationTokenSource=null,ke.dispose(),ye.length>0&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule())})}static _copy(K,ne,he,ge,re){for(let ye=0;ye<re;ye++)he[ge+ye]=K[ne+ye]}_setDocumentSemanticTokens(K,ne,he,ge){const re=this._currentDocumentResponse,ye=()=>{ge.length>0&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule()};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed)K&&ne&&K.releaseDocumentSemanticTokens(ne.resultId);else if(K&&he){if(!ne)return this._model.setSemanticTokens(null,!0),void ye();if((0,_.Vj)(ne)){if(!re)return void this._model.setSemanticTokens(null,!0);if(0===ne.edits.length)ne={resultId:ne.resultId,data:re.data};else{let ke=0;for(const Ce of ne.edits)ke+=(Ce.data?Ce.data.length:0)-Ce.deleteCount;const xe=re.data,Pe=new Uint32Array(xe.length+ke);let fe=xe.length,Te=Pe.length;for(let Ce=ne.edits.length-1;Ce>=0;Ce--){const Je=ne.edits[Ce],pe=fe-(Je.start+Je.deleteCount);pe>0&&(oe._copy(xe,fe-pe,Pe,Te-pe,pe),Te-=pe),Je.data&&(oe._copy(Je.data,0,Pe,Te-Je.data.length,Je.data.length),Te-=Je.data.length),fe=Je.start}fe>0&&oe._copy(xe,0,Pe,0,fe),ne={resultId:ne.resultId,data:Pe}}}if((0,_.Vl)(ne)){this._currentDocumentResponse=new ie(K,ne.resultId,ne.data);const ke=(0,M.h)(ne,he,this._model.getLanguageIdentifier());if(ge.length>0)for(const xe of ge)for(const Pe of ke)for(const fe of xe.changes)Pe.applyEdit(fe.range,fe.text);this._model.setSemanticTokens(ke,!0)}else this._model.setSemanticTokens(null,!0);ye()}else this._model.setSemanticTokens(null,!1)}}return oe.FETCH_DOCUMENT_SEMANTIC_TOKENS_DELAY=300,oe})()},4128:(Ct,Qe,a)=>{"use strict";a.d(Qe,{S:()=>U});const U=(0,a(4562).yh)("textModelService")},3107:(Ct,Qe,a)=>{"use strict";a.d(Qe,{$:()=>O,h:()=>k});var T=a(6412),U=a(8998),j=a(1496);class O{constructor(d,C,g){this._legend=d,this._themeService=C,this._logService=g,this._hashTable=new B,this._hasWarnedOverlappingTokens=!1}getMetadata(d,C,g){const b=this._hashTable.get(d,C,g.id);let I;if(b)I=b.metadata,this._logService.getLevel()===U.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${d} / ${C}: foreground ${T.NX.getForeground(I)}, fontStyle ${T.NX.getFontStyle(I).toString(2)}`);else{let p=this._legend.tokenTypes[d];const w=[];if(p){let E=C;for(let v=0;E>0&&v<this._legend.tokenModifiers.length;v++)1&E&&w.push(this._legend.tokenModifiers[v]),E>>=1;E>0&&this._logService.getLevel()===U.in.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${C.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),w.push("not-in-legend"));const S=this._themeService.getColorTheme().getTokenStyleMetadata(p,w,g.language);void 0===S?I=2147483647:(I=0,void 0!==S.italic&&(I|=(S.italic?1:0)<<11|1),void 0!==S.bold&&(I|=(S.bold?2:0)<<11|2),void 0!==S.underline&&(I|=(S.underline?4:0)<<11|4),S.foreground&&(I|=S.foreground<<14|8),0===I&&(I=2147483647))}else this._logService.getLevel()===U.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${d} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),I=2147483647,p="not-in-legend";this._hashTable.add(d,C,g.id,I),this._logService.getLevel()===U.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${d} (${p}) / ${C} (${w.join(" ")}): foreground ${T.NX.getForeground(I)}, fontStyle ${T.NX.getFontStyle(I).toString(2)}`)}return I}warnOverlappingSemanticTokens(d,C){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,console.warn(`Overlapping semantic tokens detected at lineNumber ${d}, column ${C}`))}}function k(R,d,C){const g=R.data,b=R.data.length/5|0,I=Math.max(Math.ceil(b/1024),400),p=[];let w=0,E=1,S=0;for(;w<b;){const v=w;let M=Math.min(v+I,b);if(M<b){let de=M;for(;de-1>v&&0===g[5*de];)de--;if(de-1===v){let le=M;for(;le+1<b&&0===g[5*le];)le++;M=le}else M=de}let _=new Uint32Array(4*(M-v)),f=0,m=0,L=0,F=0,G=0;for(;w<M;){const de=5*w,le=g[de],ce=g[de+1],be=E+le,N=0===le?S+ce:ce,V=g[de+2],ue=d.getMetadata(g[de+3],g[de+4],C);2147483647!==ue&&(0===m&&(m=be),L===be&&G>N&&(d.warnOverlappingSemanticTokens(be,N+1),F<N?_[f-4+2]=N:f-=4),_[f]=be-m,_[f+1]=N,_[f+2]=N+V,_[f+3]=ue,f+=4,L=be,F=N,G=N+V),E=be,S=N,w++}f!==_.length&&(_=_.subarray(0,f));const Y=new j.Wz(m,new j.OU(_));p.push(Y)}return p}class ${constructor(d,C,g,b){this.tokenTypeIndex=d,this.tokenModifierSet=C,this.languageId=g,this.metadata=b,this.next=null}}let B=(()=>{class R{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=R._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<R._SIZES.length?2/3*this._currentLength:0),this._elements=[],R._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(C,g){for(let b=0;b<g;b++)C[b]=null}_hash2(C,g){return(C<<5)-C+g|0}_hashFunc(C,g,b){return this._hash2(this._hash2(C,g),b)%this._currentLength}get(C,g,b){const I=this._hashFunc(C,g,b);let p=this._elements[I];for(;p;){if(p.tokenTypeIndex===C&&p.tokenModifierSet===g&&p.languageId===b)return p;p=p.next}return null}add(C,g,b,I){if(this._elementsCount++,0!==this._growCount&&this._elementsCount>=this._growCount){const p=this._elements;this._currentLengthIndex++,this._currentLength=R._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<R._SIZES.length?2/3*this._currentLength:0),this._elements=[],R._nullOutEntries(this._elements,this._currentLength);for(const w of p){let E=w;for(;E;){const S=E.next;E.next=null,this._add(E),E=S}}}this._add(new $(C,g,b,I))}_add(C){const g=this._hashFunc(C.tokenTypeIndex,C.tokenModifierSet,C.languageId);C.next=this._elements[g],this._elements[g]=C}}return R._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143],R})()},2122:(Ct,Qe,a)=>{"use strict";a.d(Qe,{V:()=>U,y:()=>j});var T=a(4562);const U=(0,T.yh)("textResourceConfigurationService"),j=(0,T.yh)("textResourcePropertiesService")},4598:(Ct,Qe,a)=>{"use strict";a.d(Qe,{Oe:()=>U,ug:()=>j,qq:()=>O,ld:()=>k,UX:()=>$,aq:()=>B,B8:()=>R,xi:()=>d,UL:()=>C});var U,g,j,O,k,$,B,R,d,C,T=a(1606);(g=U||(U={})).noSelection=T.N("noSelection","No selection"),g.singleSelectionRange=T.N("singleSelectionRange","Line {0}, Column {1} ({2} selected)"),g.singleSelection=T.N("singleSelection","Line {0}, Column {1}"),g.multiSelectionRange=T.N("multiSelectionRange","{0} selections ({1} characters selected)"),g.multiSelection=T.N("multiSelection","{0} selections"),g.emergencyConfOn=T.N("emergencyConfOn","Now changing the setting `accessibilitySupport` to 'on'."),g.openingDocs=T.N("openingDocs","Now opening the Editor Accessibility documentation page."),g.readonlyDiffEditor=T.N("readonlyDiffEditor"," in a read-only pane of a diff editor."),g.editableDiffEditor=T.N("editableDiffEditor"," in a pane of a diff editor."),g.readonlyEditor=T.N("readonlyEditor"," in a read-only code editor"),g.editableEditor=T.N("editableEditor"," in a code editor"),g.changeConfigToOnMac=T.N("changeConfigToOnMac","To configure the editor to be optimized for usage with a Screen Reader press Command+E now."),g.changeConfigToOnWinLinux=T.N("changeConfigToOnWinLinux","To configure the editor to be optimized for usage with a Screen Reader press Control+E now."),g.auto_on=T.N("auto_on","The editor is configured to be optimized for usage with a Screen Reader."),g.auto_off=T.N("auto_off","The editor is configured to never be optimized for usage with a Screen Reader, which is not the case at this time."),g.tabFocusModeOnMsg=T.N("tabFocusModeOnMsg","Pressing Tab in the current editor will move focus to the next focusable element. Toggle this behavior by pressing {0}."),g.tabFocusModeOnMsgNoKb=T.N("tabFocusModeOnMsgNoKb","Pressing Tab in the current editor will move focus to the next focusable element. The command {0} is currently not triggerable by a keybinding."),g.tabFocusModeOffMsg=T.N("tabFocusModeOffMsg","Pressing Tab in the current editor will insert the tab character. Toggle this behavior by pressing {0}."),g.tabFocusModeOffMsgNoKb=T.N("tabFocusModeOffMsgNoKb","Pressing Tab in the current editor will insert the tab character. The command {0} is currently not triggerable by a keybinding."),g.openDocMac=T.N("openDocMac","Press Command+H now to open a browser window with more information related to editor accessibility."),g.openDocWinLinux=T.N("openDocWinLinux","Press Control+H now to open a browser window with more information related to editor accessibility."),g.outroMsg=T.N("outroMsg","You can dismiss this tooltip and return to the editor by pressing Escape or Shift+Escape."),g.showAccessibilityHelpAction=T.N("showAccessibilityHelpAction","Show Accessibility Help"),function(g){g.inspectTokensAction=T.N("inspectTokens","Developer: Inspect Tokens")}(j||(j={})),function(g){g.gotoLineActionLabel=T.N("gotoLineActionLabel","Go to Line/Column...")}(O||(O={})),function(g){g.helpQuickAccessActionLabel=T.N("helpQuickAccess","Show all Quick Access Providers")}(k||(k={})),function(g){g.quickCommandActionLabel=T.N("quickCommandActionLabel","Command Palette"),g.quickCommandHelp=T.N("quickCommandActionHelp","Show And Run Commands")}($||($={})),function(g){g.quickOutlineActionLabel=T.N("quickOutlineActionLabel","Go to Symbol..."),g.quickOutlineByCategoryActionLabel=T.N("quickOutlineByCategoryActionLabel","Go to Symbol by Category...")}(B||(B={})),function(g){g.editorViewAccessibleLabel=T.N("editorViewAccessibleLabel","Editor content"),g.accessibilityHelpMessage=T.N("accessibilityHelpMessage","Press Alt+F1 for Accessibility Options.")}(R||(R={})),function(g){g.toggleHighContrast=T.N("toggleHighContrast","Toggle High Contrast Theme")}(d||(d={})),function(g){g.bulkEditServiceSummary=T.N("bulkEditServiceSummary","Made {0} edits in {1} files")}(C||(C={}))},9880:(Ct,Qe,a)=>{"use strict";a.d(Qe,{Kp:()=>U,k:()=>k});var T=a(579);class U{constructor(B,R,d,C){this.startColumn=B,this.endColumn=R,this.className=d,this.type=C,this._lineDecorationBrand=void 0}static _equals(B,R){return B.startColumn===R.startColumn&&B.endColumn===R.endColumn&&B.className===R.className&&B.type===R.type}static equalsArr(B,R){const d=B.length;if(d!==R.length)return!1;for(let g=0;g<d;g++)if(!U._equals(B[g],R[g]))return!1;return!0}static extractWrapped(B,R,d){if(0===B.length)return B;const C=R+1,g=d+1,b=d-R,I=[];let p=0;for(const w of B)w.endColumn<=C||w.startColumn>=g||(I[p++]=new U(Math.max(1,w.startColumn-C+1),Math.min(b+1,w.endColumn-C+1),w.className,w.type));return I}static filter(B,R,d,C){if(0===B.length)return[];let g=[],b=0;for(let I=0,p=B.length;I<p;I++){const w=B[I],E=w.range;E.endLineNumber<R||E.startLineNumber>R||E.isEmpty()&&(0===w.type||3===w.type)||(g[b++]=new U(E.startLineNumber===R?E.startColumn:d,E.endLineNumber===R?E.endColumn:C,w.inlineClassName,w.type))}return g}static _typeCompare(B,R){const d=[2,0,1,3];return d[B]-d[R]}static compare(B,R){if(B.startColumn===R.startColumn){if(B.endColumn===R.endColumn){const d=U._typeCompare(B.type,R.type);return 0===d?B.className<R.className?-1:B.className>R.className?1:0:d}return B.endColumn-R.endColumn}return B.startColumn-R.startColumn}}class j{constructor(B,R,d,C){this.startOffset=B,this.endOffset=R,this.className=d,this.metadata=C}}class O{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(B){let R=0;for(let d=0,C=B.length;d<C;d++)R|=B[d];return R}consumeLowerThan(B,R,d){for(;this.count>0&&this.stopOffsets[0]<B;){let C=0;for(;C+1<this.count&&this.stopOffsets[C]===this.stopOffsets[C+1];)C++;d.push(new j(R,this.stopOffsets[C],this.classNames.join(" "),O._metadata(this.metadata))),R=this.stopOffsets[C]+1,this.stopOffsets.splice(0,C+1),this.classNames.splice(0,C+1),this.metadata.splice(0,C+1),this.count-=C+1}return this.count>0&&R<B&&(d.push(new j(R,B-1,this.classNames.join(" "),O._metadata(this.metadata))),R=B),R}insert(B,R,d){if(0===this.count||this.stopOffsets[this.count-1]<=B)this.stopOffsets.push(B),this.classNames.push(R),this.metadata.push(d);else for(let C=0;C<this.count;C++)if(this.stopOffsets[C]>=B){this.stopOffsets.splice(C,0,B),this.classNames.splice(C,0,R),this.metadata.splice(C,0,d);break}this.count++}}class k{static normalize(B,R){if(0===R.length)return[];let d=[];const C=new O;let g=0;for(let b=0,I=R.length;b<I;b++){const p=R[b];let w=p.startColumn,E=p.endColumn;const S=p.className,v=1===p.type?2:2===p.type?4:0;if(w>1){const f=B.charCodeAt(w-2);T.ZG(f)&&w--}if(E>1){const f=B.charCodeAt(E-2);T.ZG(f)&&E--}const M=w-1,_=E-2;g=C.consumeLowerThan(M,g,d),0===C.count&&(g=M),C.insert(_,S,v)}return C.consumeLowerThan(1073741824,g,d),d}}},712:(Ct,Qe,a)=>{"use strict";a.d(Qe,{zG:()=>k,IJ:()=>$,Nd:()=>B,d1:()=>C,tF:()=>b});var T=a(579),U=a(8918),j=a(9880);class O{constructor(f,m,L){this._linePartBrand=void 0,this.endIndex=f,this.type=m,this.metadata=L}isWhitespace(){return!!(1&this.metadata)}isPseudoAfter(){return!!(4&this.metadata)}}class k{constructor(f,m){this.startOffset=f,this.endOffset=m}equals(f){return this.startOffset===f.startOffset&&this.endOffset===f.endOffset}}class ${constructor(f,m,L,F,G,Y,de,le,ce,be,N,V,Z,ie,ue,oe,ee,K,ne){this.useMonospaceOptimizations=f,this.canUseHalfwidthRightwardsArrow=m,this.lineContent=L,this.continuesWithWrappedLine=F,this.isBasicASCII=G,this.containsRTL=Y,this.fauxIndentLength=de,this.lineTokens=le,this.lineDecorations=ce.sort(j.Kp.compare),this.tabSize=be,this.startVisibleColumn=N,this.spaceWidth=V,this.stopRenderingLineAfter=ue,this.renderWhitespace="all"===oe?4:"boundary"===oe?1:"selection"===oe?2:"trailing"===oe?3:0,this.renderControlCharacters=ee,this.fontLigatures=K,this.selectionsOnLine=ne&&ne.sort((re,ye)=>re.startOffset<ye.startOffset?-1:1),Math.abs(ie-V)<Math.abs(Z-V)?(this.renderSpaceWidth=ie,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=Z,this.renderSpaceCharCode=183)}sameSelection(f){if(null===this.selectionsOnLine)return null===f;if(null===f||f.length!==this.selectionsOnLine.length)return!1;for(let m=0;m<this.selectionsOnLine.length;m++)if(!this.selectionsOnLine[m].equals(f[m]))return!1;return!0}equals(f){return this.useMonospaceOptimizations===f.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===f.canUseHalfwidthRightwardsArrow&&this.lineContent===f.lineContent&&this.continuesWithWrappedLine===f.continuesWithWrappedLine&&this.isBasicASCII===f.isBasicASCII&&this.containsRTL===f.containsRTL&&this.fauxIndentLength===f.fauxIndentLength&&this.tabSize===f.tabSize&&this.startVisibleColumn===f.startVisibleColumn&&this.spaceWidth===f.spaceWidth&&this.renderSpaceWidth===f.renderSpaceWidth&&this.renderSpaceCharCode===f.renderSpaceCharCode&&this.stopRenderingLineAfter===f.stopRenderingLineAfter&&this.renderWhitespace===f.renderWhitespace&&this.renderControlCharacters===f.renderControlCharacters&&this.fontLigatures===f.fontLigatures&&j.Kp.equalsArr(this.lineDecorations,f.lineDecorations)&&this.lineTokens.equals(f.lineTokens)&&this.sameSelection(f.selectionsOnLine)}}class B{constructor(f,m){this.partIndex=f,this.charIndex=m}}class R{constructor(f,m){this.length=f,this._data=new Uint32Array(this.length),this._absoluteOffsets=new Uint32Array(this.length)}static getPartIndex(f){return(4294901760&f)>>>16}static getCharIndex(f){return(65535&f)>>>0}setColumnInfo(f,m,L,F){this._data[f-1]=(m<<16|L<<0)>>>0,this._absoluteOffsets[f-1]=F+L}getAbsoluteOffset(f){return 0===this._absoluteOffsets.length?0:this._absoluteOffsets[f-1]}charOffsetToPartData(f){return 0===this.length?0:f<0?this._data[0]:f>=this.length?this._data[this.length-1]:this._data[f]}getDomPosition(f){const m=this.charOffsetToPartData(f-1),L=R.getPartIndex(m),F=R.getCharIndex(m);return new B(L,F)}getColumn(f,m){return this.partDataToCharOffset(f.partIndex,m,f.charIndex)+1}partDataToCharOffset(f,m,L){if(0===this.length)return 0;let F=(f<<16|L<<0)>>>0,G=0,Y=this.length-1;for(;G+1<Y;){let ue=G+Y>>>1,oe=this._data[ue];if(oe===F)return ue;oe>F?Y=ue:G=ue}if(G===Y)return G;let de=this._data[G],le=this._data[Y];if(de===F)return G;if(le===F)return Y;let V,ce=R.getPartIndex(de),be=R.getCharIndex(de);return V=ce!==R.getPartIndex(le)?m:R.getCharIndex(le),L-be<=V-L?G:Y}}class d{constructor(f,m,L){this._renderLineOutputBrand=void 0,this.characterMapping=f,this.containsRTL=m,this.containsForeignElements=L}}function C(_,f){if(0===_.lineContent.length){if(_.lineDecorations.length>0){f.appendASCIIString("<span>");let m=0,L=0,F=0;for(const Y of _.lineDecorations)(1===Y.type||2===Y.type)&&(f.appendASCIIString('<span class="'),f.appendASCIIString(Y.className),f.appendASCIIString('"></span>'),1===Y.type&&(F|=1,m++),2===Y.type&&(F|=2,L++));f.appendASCIIString("</span>");const G=new R(1,m+L);return G.setColumnInfo(1,m,0,0),new d(G,!1,F)}return f.appendASCIIString("<span><span></span></span>"),new d(new R(0,0),!1,0)}return function(_,f){const m=_.fontIsMonospace,L=_.canUseHalfwidthRightwardsArrow,F=_.containsForeignElements,G=_.lineContent,Y=_.len,de=_.isOverflowing,le=_.parts,ce=_.fauxIndentLength,be=_.tabSize,N=_.startVisibleColumn,V=_.containsRTL,Z=_.spaceWidth,ie=_.renderSpaceCharCode,ue=_.renderWhitespace,oe=_.renderControlCharacters,ee=new R(Y+1,le.length);let K=!1,ne=0,he=N,ge=0,re=0,ye=0,ke=0;f.appendASCIIString(V?'<span dir="ltr">':"<span>");for(let xe=0,Pe=le.length;xe<Pe;xe++){ke+=ye;const fe=le[xe],Te=fe.endIndex,Ce=fe.type,Je=0!==ue&&fe.isWhitespace(),pe=Je&&!m&&("mtkw"===Ce||!F),Ve=ne===Te&&fe.isPseudoAfter();if(ge=0,f.appendASCIIString('<span class="'),f.appendASCIIString(pe?"mtkz":Ce),f.appendASCII(34),Je){let Ae=0;{let Ee=ne,ze=he;for(;Ee<Te;Ee++){const Ue=0|(9===G.charCodeAt(Ee)?be-ze%be:1);Ae+=Ue,Ee>=ce&&(ze+=Ue)}}for(pe&&(f.appendASCIIString(' style="width:'),f.appendASCIIString(String(Z*Ae)),f.appendASCIIString('px"')),f.appendASCII(62);ne<Te;ne++){let ze;if(ee.setColumnInfo(ne+1,xe-re,ge,ke),re=0,9===G.charCodeAt(ne)){ze=be-he%be|0,f.write1(!L||ze>1?8594:65515);for(let Be=2;Be<=ze;Be++)f.write1(160)}else ze=1,f.write1(ie);ge+=ze,ne>=ce&&(he+=ze)}ye=Ae}else{let Ae=0;for(f.appendASCII(62);ne<Te;ne++){ee.setColumnInfo(ne+1,xe-re,ge,ke),re=0;const Ee=G.charCodeAt(ne);let ze=1,Be=1;switch(Ee){case 9:ze=be-he%be,Be=ze;for(let Ue=1;Ue<=ze;Ue++)f.write1(160);break;case 32:f.write1(160);break;case 60:f.appendASCIIString("&lt;");break;case 62:f.appendASCIIString("&gt;");break;case 38:f.appendASCIIString("&amp;");break;case 0:oe?f.write1(9216):f.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:f.write1(65533);break;default:T.K7(Ee)&&Be++,f.write1(oe&&Ee<32?9216+Ee:oe&&127===Ee?9249:Ee)}ge+=ze,Ae+=ze,ne>=ce&&(he+=Be)}ye=Ae}Ve?re++:re=0,ne>=Y&&!K&&fe.isPseudoAfter()&&(K=!0,ee.setColumnInfo(ne+1,xe,ge,ke)),f.appendASCIIString("</span>")}return K||ee.setColumnInfo(Y+1,le.length-1,ge,ke),de&&f.appendASCIIString("<span>&hellip;</span>"),f.appendASCIIString("</span>"),new d(ee,V,F)}(function(_){const f=_.lineContent;let m,L;-1!==_.stopRenderingLineAfter&&_.stopRenderingLineAfter<f.length?(m=!0,L=_.stopRenderingLineAfter):(m=!1,L=f.length);let F=function(_,f,m){let L=[],F=0;f>0&&(L[F++]=new O(f,"",0));for(let G=0,Y=_.getCount();G<Y;G++){const de=_.getEndOffset(G);if(de<=f)continue;const le=_.getClassName(G);if(de>=m){L[F++]=new O(m,le,0);break}L[F++]=new O(de,le,0)}return L}(_.lineTokens,_.fauxIndentLength,L);(4===_.renderWhitespace||1===_.renderWhitespace||2===_.renderWhitespace&&_.selectionsOnLine||3===_.renderWhitespace)&&(F=function(_,f,m,L){const F=_.continuesWithWrappedLine,G=_.fauxIndentLength,Y=_.tabSize,de=_.startVisibleColumn,le=_.useMonospaceOptimizations,ce=_.selectionsOnLine,be=1===_.renderWhitespace,N=3===_.renderWhitespace,V=_.renderSpaceWidth!==_.spaceWidth;let Z=[],ie=0,ue=0,oe=L[ue].type,ee=L[ue].endIndex;const K=L.length;let ge,ne=!1,he=T.LC(f);-1===he?(ne=!0,he=m,ge=m):ge=T.ow(f);let re=!1,ye=0,ke=ce&&ce[ye],xe=de%Y;for(let fe=G;fe<m;fe++){const Te=f.charCodeAt(fe);let Ce;if(ke&&fe>=ke.endOffset&&(ye++,ke=ce&&ce[ye]),fe<he||fe>ge)Ce=!0;else if(9===Te)Ce=!0;else if(32===Te)if(be)if(re)Ce=!0;else{const Je=fe+1<m?f.charCodeAt(fe+1):0;Ce=32===Je||9===Je}else Ce=!0;else Ce=!1;if(Ce&&ce&&(Ce=!!ke&&ke.startOffset<=fe&&ke.endOffset>fe),Ce&&N&&(Ce=ne||fe>ge),re){if(!Ce||!le&&xe>=Y){if(V)for(let pe=(ie>0?Z[ie-1].endIndex:G)+1;pe<=fe;pe++)Z[ie++]=new O(pe,"mtkw",1);else Z[ie++]=new O(fe,"mtkw",1);xe%=Y}}else(fe===ee||Ce&&fe>G)&&(Z[ie++]=new O(fe,oe,0),xe%=Y);for(9===Te?xe=Y:T.K7(Te)?xe+=2:xe++,re=Ce;fe===ee&&(ue++,ue<K);)oe=L[ue].type,ee=L[ue].endIndex}let Pe=!1;if(re)if(F&&be){let fe=m>0?f.charCodeAt(m-1):0,Te=m>1?f.charCodeAt(m-2):0;32===fe&&32!==Te&&9!==Te||(Pe=!0)}else Pe=!0;if(Pe)if(V)for(let Te=(ie>0?Z[ie-1].endIndex:G)+1;Te<=m;Te++)Z[ie++]=new O(Te,"mtkw",1);else Z[ie++]=new O(m,"mtkw",1);else Z[ie++]=new O(m,oe,0);return Z}(_,f,L,F));let G=0;if(_.lineDecorations.length>0){for(let Y=0,de=_.lineDecorations.length;Y<de;Y++){const le=_.lineDecorations[Y];3===le.type||1===le.type?G|=1:2===le.type&&(G|=2)}F=function(_,f,m,L){L.sort(j.Kp.compare);const F=j.k.normalize(_,L),G=F.length;let Y=0,de=[],le=0,ce=0;for(let N=0,V=m.length;N<V;N++){const Z=m[N],ie=Z.endIndex,ue=Z.type,oe=Z.metadata;for(;Y<G&&F[Y].startOffset<ie;){const ee=F[Y];if(ee.startOffset>ce&&(ce=ee.startOffset,de[le++]=new O(ce,ue,oe)),!(ee.endOffset+1<=ie)){ce=ie,de[le++]=new O(ce,ue+" "+ee.className,oe|ee.metadata);break}ce=ee.endOffset+1,de[le++]=new O(ce,ue+" "+ee.className,oe|ee.metadata),Y++}ie>ce&&(ce=ie,de[le++]=new O(ce,ue,oe))}const be=m[m.length-1].endIndex;if(Y<G&&F[Y].startOffset===be)for(;Y<G&&F[Y].startOffset===be;){const N=F[Y];de[le++]=new O(ce,N.className,N.metadata),Y++}return de}(f,0,F,_.lineDecorations)}return _.containsRTL||(F=function(_,f,m){let L=0,F=[],G=0;if(m)for(let Y=0,de=f.length;Y<de;Y++){const le=f[Y],ce=le.endIndex;if(L+50<ce){const be=le.type,N=le.metadata;let V=-1,Z=L;for(let ie=L;ie<ce;ie++)32===_.charCodeAt(ie)&&(V=ie),-1!==V&&ie-Z>=50&&(F[G++]=new O(V+1,be,N),Z=V+1,V=-1);Z!==ce&&(F[G++]=new O(ce,be,N))}else F[G++]=le;L=ce}else for(let Y=0,de=f.length;Y<de;Y++){const le=f[Y],ce=le.endIndex;let be=ce-L;if(be>50){const N=le.type,V=le.metadata,Z=Math.ceil(be/50);for(let ie=1;ie<Z;ie++)F[G++]=new O(L+50*ie,N,V);F[G++]=new O(ce,N,V)}else F[G++]=le;L=ce}return F}(f,F,!_.isBasicASCII||_.fontLigatures)),new I(_.useMonospaceOptimizations,_.canUseHalfwidthRightwardsArrow,f,L,m,F,G,_.fauxIndentLength,_.tabSize,_.startVisibleColumn,_.containsRTL,_.spaceWidth,_.renderSpaceCharCode,_.renderWhitespace,_.renderControlCharacters)}(_),f)}class g{constructor(f,m,L,F){this.characterMapping=f,this.html=m,this.containsRTL=L,this.containsForeignElements=F}}function b(_){let f=(0,U.l$)(1e4),m=C(_,f);return new g(m.characterMapping,f.build(),m.containsRTL,m.containsForeignElements)}class I{constructor(f,m,L,F,G,Y,de,le,ce,be,N,V,Z,ie,ue){this.fontIsMonospace=f,this.canUseHalfwidthRightwardsArrow=m,this.lineContent=L,this.len=F,this.isOverflowing=G,this.parts=Y,this.containsForeignElements=de,this.fauxIndentLength=le,this.tabSize=ce,this.startVisibleColumn=be,this.containsRTL=N,this.spaceWidth=V,this.renderSpaceCharCode=Z,this.renderWhitespace=ie,this.renderControlCharacters=ue}}},3468:(Ct,Qe,a)=>{"use strict";a.d(Qe,{T:()=>U,o:()=>j});var T=a(8837);class U{constructor(k,$){this._prefixSumIndexOfResultBrand=void 0,this.index=k,this.remainder=$}}class j{constructor(k){this.values=k,this.prefixSum=new Uint32Array(k.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(k,$){k=(0,T.A)(k);const B=this.values,R=this.prefixSum,d=$.length;return 0!==d&&(this.values=new Uint32Array(B.length+d),this.values.set(B.subarray(0,k),0),this.values.set(B.subarray(k),k+d),this.values.set($,k),k-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=k-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(R.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}changeValue(k,$){return k=(0,T.A)(k),$=(0,T.A)($),this.values[k]!==$&&(this.values[k]=$,k-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=k-1),!0)}removeValues(k,$){k=(0,T.A)(k),$=(0,T.A)($);const B=this.values,R=this.prefixSum;if(k>=B.length)return!1;let d=B.length-k;return $>=d&&($=d),0!==$&&(this.values=new Uint32Array(B.length-$),this.values.set(B.subarray(0,k),0),this.values.set(B.subarray(k+$),k),this.prefixSum=new Uint32Array(this.values.length),k-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=k-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(R.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return 0===this.values.length?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(k){return k<0?0:(k=(0,T.A)(k),this._getPrefixSum(k))}_getPrefixSum(k){if(k<=this.prefixSumValidIndex[0])return this.prefixSum[k];let $=this.prefixSumValidIndex[0]+1;0===$&&(this.prefixSum[0]=this.values[0],$++),k>=this.values.length&&(k=this.values.length-1);for(let B=$;B<=k;B++)this.prefixSum[B]=this.prefixSum[B-1]+this.values[B];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],k),this.prefixSum[k]}getIndexOf(k){k=Math.floor(k),this.getTotalSum();let $=0,B=this.values.length-1,R=0,d=0,C=0;for(;$<=B;)if(R=$+(B-$)/2|0,d=this.prefixSum[R],C=d-this.values[R],k<C)B=R-1;else{if(!(k>=d))break;$=R+1}return new U(R,k-C)}}},5670:(Ct,Qe,a)=>{"use strict";a.d(Qe,{l_:()=>U,le:()=>O,ud:()=>k,IP:()=>$,wA:()=>B,$t:()=>R,$l:()=>d});var T=a(579);class U{constructor(g,b,I,p){this._viewportBrand=void 0,this.top=0|g,this.left=0|b,this.width=0|I,this.height=0|p}}class j{constructor(g,b){this.outputLineIndex=g,this.outputOffset=b}}class O{constructor(g,b,I,p,w){this.breakOffsets=g,this.breakOffsetsVisibleColumn=b,this.wrappedTextIndentLength=I,this.injectionTexts=p,this.injectionOffsets=w}getInputOffsetOfOutputPosition(g,b){let I=0;if(I=0===g?b:this.breakOffsets[g-1]+b,null!==this.injectionOffsets)for(let p=0;p<this.injectionOffsets.length&&I>this.injectionOffsets[p];p++)I<this.injectionOffsets[p]+this.injectionTexts[p].length?I=this.injectionOffsets[p]:I-=this.injectionTexts[p].length;return I}getOutputPositionOfInputOffset(g){let b=0;if(null!==this.injectionOffsets)for(let S=0;S<this.injectionOffsets.length&&!(g<this.injectionOffsets[S]);S++)b+=this.injectionTexts[S].length;g+=b;let I=0,p=this.breakOffsets.length-1,w=0,E=0;for(;I<=p;){w=I+(p-I)/2|0;const S=this.breakOffsets[w];if(E=w>0?this.breakOffsets[w-1]:0,g<E)p=w-1;else{if(!(g>=S))break;I=w+1}}return new j(w,g-E)}}class k{constructor(g,b){this.tabSize=g,this.data=b}}class ${constructor(g,b,I,p,w,E){this._viewLineDataBrand=void 0,this.content=g,this.continuesWithWrappedLine=b,this.minColumn=I,this.maxColumn=p,this.startVisibleColumn=w,this.tokens=E}}class B{constructor(g,b,I,p,w,E,S,v,M,_){this.minColumn=g,this.maxColumn=b,this.content=I,this.continuesWithWrappedLine=p,this.isBasicASCII=B.isBasicASCII(I,E),this.containsRTL=B.containsRTL(I,this.isBasicASCII,w),this.tokens=S,this.inlineDecorations=v,this.tabSize=M,this.startVisibleColumn=_}static isBasicASCII(g,b){return!b||T.$i(g)}static containsRTL(g,b,I){return!(b||!I)&&T.Ut(g)}}class R{constructor(g,b,I){this.range=g,this.inlineClassName=b,this.type=I}}class d{constructor(g,b){this._viewModelDecorationBrand=void 0,this.range=g,this.options=b}}},3258:(Ct,Qe,a)=>{"use strict";a.d(Qe,{Kh:()=>k,Mm:()=>$,n0:()=>g,fY:()=>b,tR:()=>p,Ym:()=>w,hw:()=>E,DD:()=>v,zk:()=>M,Yp:()=>_,TC:()=>f,Dl:()=>m,zw:()=>L,e_:()=>F,kp:()=>Y,zu:()=>de,x3:()=>le,N5:()=>ce,m9:()=>N,lK:()=>V,Re:()=>Z,eS:()=>ie});var T=a(1606),U=a(3727),j=a(7251),O=a(6803);const k=(0,j.P6)("editor.lineHighlightBackground",{dark:null,light:null,hc:null},T.N("lineHighlight","Background color for the highlight of line at the cursor position.")),$=(0,j.P6)("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hc:"#f38518"},T.N("lineHighlightBorderBox","Background color for the border around the line at the cursor position.")),B=(0,j.P6)("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hc:null},T.N("rangeHighlight","Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0),R=(0,j.P6)("editor.rangeHighlightBorder",{dark:null,light:null,hc:j.xL},T.N("rangeHighlightBorder","Background color of the border around highlighted ranges."),!0),d=(0,j.P6)("editor.symbolHighlightBackground",{dark:j.MU,light:j.MU,hc:null},T.N("symbolHighlight","Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."),!0),C=(0,j.P6)("editor.symbolHighlightBorder",{dark:null,light:null,hc:j.xL},T.N("symbolHighlightBorder","Background color of the border around highlighted symbols."),!0),g=(0,j.P6)("editorCursor.foreground",{dark:"#AEAFAD",light:U.Il.black,hc:U.Il.white},T.N("caret","Color of the editor cursor.")),b=(0,j.P6)("editorCursor.background",null,T.N("editorCursorBackground","The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),I=(0,j.P6)("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hc:"#e3e4e229"},T.N("editorWhitespaces","Color of whitespace characters in the editor.")),p=(0,j.P6)("editorIndentGuide.background",{dark:I,light:I,hc:I},T.N("editorIndentGuides","Color of the editor indentation guides.")),w=(0,j.P6)("editorIndentGuide.activeBackground",{dark:I,light:I,hc:I},T.N("editorActiveIndentGuide","Color of the active editor indentation guides.")),E=(0,j.P6)("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hc:U.Il.white},T.N("editorLineNumbers","Color of editor line numbers.")),S=(0,j.P6)("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hc:j.xL},T.N("editorActiveLineNumber","Color of editor active line number"),!1,T.N("deprecatedEditorActiveLineNumber","Id is deprecated. Use 'editorLineNumber.activeForeground' instead.")),v=(0,j.P6)("editorLineNumber.activeForeground",{dark:S,light:S,hc:S},T.N("editorActiveLineNumber","Color of editor active line number")),M=(0,j.P6)("editorRuler.foreground",{dark:"#5A5A5A",light:U.Il.lightgrey,hc:U.Il.white},T.N("editorRuler","Color of the editor rulers.")),_=(0,j.P6)("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hc:"#999999"},T.N("editorCodeLensForeground","Foreground color of editor CodeLens")),f=(0,j.P6)("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hc:"#0064001a"},T.N("editorBracketMatchBackground","Background color behind matching brackets")),m=(0,j.P6)("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hc:j.lR},T.N("editorBracketMatchBorder","Color for matching brackets boxes")),L=(0,j.P6)("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hc:"#7f7f7f4d"},T.N("editorOverviewRulerBorder","Color of the overview ruler border.")),F=(0,j.P6)("editorOverviewRuler.background",null,T.N("editorOverviewRulerBackground","Background color of the editor overview ruler. Only used when the minimap is enabled and placed on the right side of the editor.")),G=(0,j.P6)("editorGutter.background",{dark:j.cv,light:j.cv,hc:j.cv},T.N("editorGutter","Background color of the editor gutter. The gutter contains the glyph margins and the line numbers.")),Y=(0,j.P6)("editorUnnecessaryCode.border",{dark:null,light:null,hc:U.Il.fromHex("#fff").transparent(.8)},T.N("unnecessaryCodeBorder","Border color of unnecessary (unused) source code in the editor.")),de=(0,j.P6)("editorUnnecessaryCode.opacity",{dark:U.Il.fromHex("#000a"),light:U.Il.fromHex("#0007"),hc:null},T.N("unnecessaryCodeOpacity","Opacity of unnecessary (unused) source code in the editor. For example, \"#000000c0\" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out.")),le=(0,j.P6)("editorGhostText.border",{dark:null,light:null,hc:U.Il.fromHex("#fff").transparent(.8)},T.N("editorGhostTextBorder","Border color of ghost text in the editor.")),ce=(0,j.P6)("editorGhostText.foreground",{dark:U.Il.fromHex("#ffffff56"),light:U.Il.fromHex("#0007"),hc:null},T.N("editorGhostTextForeground","Foreground color of the ghost text in the editor.")),be=new U.Il(new U.VS(0,122,204,.6)),N=(0,j.P6)("editorOverviewRuler.rangeHighlightForeground",{dark:be,light:be,hc:be},T.N("overviewRulerRangeHighlight","Overview ruler marker color for range highlights. The color must not be opaque so as not to hide underlying decorations."),!0),V=(0,j.P6)("editorOverviewRuler.errorForeground",{dark:new U.Il(new U.VS(255,18,18,.7)),light:new U.Il(new U.VS(255,18,18,.7)),hc:new U.Il(new U.VS(255,50,50,1))},T.N("overviewRuleError","Overview ruler marker color for errors.")),Z=(0,j.P6)("editorOverviewRuler.warningForeground",{dark:j.uo,light:j.uo,hc:j.pW},T.N("overviewRuleWarning","Overview ruler marker color for warnings.")),ie=(0,j.P6)("editorOverviewRuler.infoForeground",{dark:j.c6,light:j.c6,hc:j.T8},T.N("overviewRuleInfo","Overview ruler marker color for infos."));(0,O.Ic)((ue,oe)=>{const ee=ue.getColor(j.cv);ee&&oe.addRule(`.monaco-editor, .monaco-editor-background, .monaco-editor .inputarea.ime-input { background-color: ${ee}; }`);const K=ue.getColor(j.NO);K&&oe.addRule(`.monaco-editor, .monaco-editor .inputarea.ime-input { color: ${K}; }`);const ne=ue.getColor(G);ne&&oe.addRule(`.monaco-editor .margin { background-color: ${ne}; }`);const he=ue.getColor(B);he&&oe.addRule(`.monaco-editor .rangeHighlight { background-color: ${he}; }`);const ge=ue.getColor(R);ge&&oe.addRule(`.monaco-editor .rangeHighlight { border: 1px ${"hc"===ue.type?"dotted":"solid"} ${ge}; }`);const re=ue.getColor(d);re&&oe.addRule(`.monaco-editor .symbolHighlight { background-color: ${re}; }`);const ye=ue.getColor(C);ye&&oe.addRule(`.monaco-editor .symbolHighlight { border: 1px ${"hc"===ue.type?"dotted":"solid"} ${ye}; }`);const ke=ue.getColor(I);ke&&(oe.addRule(`.monaco-editor .mtkw { color: ${ke} !important; }`),oe.addRule(`.monaco-editor .mtkz { color: ${ke} !important; }`))})},5684:(Ct,Qe,a)=>{"use strict";a.d(Qe,{EY:()=>U,Tj:()=>j});class T{constructor(k,$,B){this._colorZoneBrand=void 0,this.from=0|k,this.to=0|$,this.colorId=0|B}static compare(k,$){return k.colorId===$.colorId?k.from===$.from?k.to-$.to:k.from-$.from:k.colorId-$.colorId}}class U{constructor(k,$,B){this._overviewRulerZoneBrand=void 0,this.startLineNumber=k,this.endLineNumber=$,this.color=B,this._colorZone=null}static compare(k,$){return k.color===$.color?k.startLineNumber===$.startLineNumber?k.endLineNumber-$.endLineNumber:k.startLineNumber-$.startLineNumber:k.color<$.color?-1:1}setColorZone(k){this._colorZone=k}getColorZones(){return this._colorZone}}class j{constructor(k){this._getVerticalOffsetForLine=k,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(k){this._zones=k,this._zones.sort(U.compare)}setLineHeight(k){return this._lineHeight!==k&&(this._lineHeight=k,this._colorZonesInvalid=!0,!0)}setPixelRatio(k){this._pixelRatio=k,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(k){return this._domWidth!==k&&(this._domWidth=k,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(k){return this._domHeight!==k&&(this._domHeight=k,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(k){return this._outerHeight!==k&&(this._outerHeight=k,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const k=this._colorZonesInvalid,$=Math.floor(this._lineHeight),B=Math.floor(this.getCanvasHeight()),d=B/Math.floor(this._outerHeight),C=Math.floor(4*this._pixelRatio/2);let g=[];for(let b=0,I=this._zones.length;b<I;b++){const p=this._zones[b];if(!k){const m=p.getColorZones();if(m){g.push(m);continue}}const w=Math.floor(d*this._getVerticalOffsetForLine(p.startLineNumber)),E=Math.floor(d*(this._getVerticalOffsetForLine(p.endLineNumber)+$));let S=Math.floor((w+E)/2),v=E-S;v<C&&(v=C),S-v<0&&(S=v),S+v>B&&(S=B-v);const M=p.color;let _=this._color2Id[M];_||(_=++this._lastAssignedId,this._color2Id[M]=_,this._id2Color[_]=M);const f=new T(S-v,S+v,_);p.setColorZone(f),g.push(f)}return this._colorZonesInvalid=!1,g.sort(T.compare),g}}},1485:(Ct,Qe,a)=>{"use strict";a.r(Qe),a.d(Qe,{SelectionAnchorSet:()=>I}),a(6537);var U=a(4482),j=a(1606),O=a(9549),k=a(9730),$=a(4807),B=a(2844),R=a(4303),d=a(7579),b=function(M,_,f,m){return new(f||(f=Promise))(function(F,G){function Y(ce){try{le(m.next(ce))}catch(be){G(be)}}function de(ce){try{le(m.throw(ce))}catch(be){G(be)}}function le(ce){ce.done?F(ce.value):function(F){return F instanceof f?F:new f(function(G){G(F)})}(ce.value).then(Y,de)}le((m=m.apply(M,_||[])).next())})};const I=new B.uy("selectionAnchorSet",!1);let p=class wR{constructor(_,f){this.editor=_,this.selectionAnchorSetContextKey=I.bindTo(f),this.modelChangeListener=_.onDidChangeModel(()=>this.selectionAnchorSetContextKey.reset())}static get(_){return _.getContribution(wR.ID)}setSelectionAnchor(){if(this.editor.hasModel()){const _=this.editor.getPosition(),m=this.editor.deltaDecorations(this.decorationId?[this.decorationId]:[],[{range:k.Y.fromPositions(_,_),options:{description:"selection-anchor",stickiness:1,hoverMessage:(new R.W5).appendText((0,j.N)("selectionAnchor","Selection Anchor")),className:"selection-anchor"}}]);this.decorationId=m[0],this.selectionAnchorSetContextKey.set(!!this.decorationId),(0,d.Z9)((0,j.N)("anchorSet","Anchor set at {0}:{1}",_.lineNumber,_.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){const _=this.editor.getModel().getDecorationRange(this.decorationId);_&&this.editor.setPosition(_.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){const _=this.editor.getModel().getDecorationRange(this.decorationId);if(_){const f=this.editor.getPosition();this.editor.setSelection(k.Y.fromPositions(_.getStartPosition(),f)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){this.decorationId&&(this.editor.deltaDecorations([this.decorationId],[]),this.decorationId=void 0,this.selectionAnchorSetContextKey.set(!1))}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}};var _;p.ID="editor.contrib.selectionAnchorController",p=function(M,_,f,m){var G,L=arguments.length,F=L<3?_:null===m?m=Object.getOwnPropertyDescriptor(_,f):m;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)F=Reflect.decorate(M,_,f,m);else for(var Y=M.length-1;Y>=0;Y--)(G=M[Y])&&(F=(L<3?G(F):L>3?G(_,f,F):G(_,f))||F);return L>3&&F&&Object.defineProperty(_,f,F),F}([(1,_=B.i6,function(f,m){_(f,m,1)})],p),(0,U._K)(p.ID,p),(0,U.Qr)(class extends U.R6{constructor(){super({id:"editor.action.setSelectionAnchor",label:(0,j.N)("setSelectionAnchor","Set Selection Anchor"),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:O.u.editorTextFocus,primary:(0,$.gx)(2089,2080),weight:100}})}run(_,f){return b(this,void 0,void 0,function*(){p.get(f).setSelectionAnchor()})}}),(0,U.Qr)(class extends U.R6{constructor(){super({id:"editor.action.goToSelectionAnchor",label:(0,j.N)("goToSelectionAnchor","Go to Selection Anchor"),alias:"Go to Selection Anchor",precondition:I})}run(_,f){return b(this,void 0,void 0,function*(){p.get(f).goToSelectionAnchor()})}}),(0,U.Qr)(class extends U.R6{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:(0,j.N)("selectFromAnchorToCursor","Select from Anchor to Cursor"),alias:"Select from Anchor to Cursor",precondition:I,kbOpts:{kbExpr:O.u.editorTextFocus,primary:(0,$.gx)(2089,2089),weight:100}})}run(_,f){return b(this,void 0,void 0,function*(){p.get(f).selectFromAnchorToCursor()})}}),(0,U.Qr)(class extends U.R6{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:(0,j.N)("cancelSelectionAnchor","Cancel Selection Anchor"),alias:"Cancel Selection Anchor",precondition:I,kbOpts:{kbExpr:O.u.editorTextFocus,primary:9,weight:100}})}run(_,f){return b(this,void 0,void 0,function*(){p.get(f).cancelSelectionAnchor()})}})},8337:(Ct,Qe,a)=>{"use strict";a.r(Qe),a.d(Qe,{BracketMatchingController:()=>_}),a(3211);var U=a(1606),j=a(7922),O=a(1719),k=a(4482),$=a(2109),B=a(8487),R=a(9730),d=a(9549),C=a(2902),g=a(111),b=a(3258),I=a(7251),p=a(6803),w=a(2836);const E=(0,I.P6)("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hc:"#A0A0A0"},U.N("overviewRulerBracketMatchForeground","Overview ruler marker color for matching brackets."));class M{constructor(m,L,F){this.position=m,this.brackets=L,this.options=F}}class _ extends O.JT{constructor(m){super(),this._editor=m,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=[],this._updateBracketsSoon=this._register(new j.pY(()=>this._updateBrackets(),50)),this._matchBrackets=this._editor.getOption(61),this._updateBracketsSoon.schedule(),this._register(m.onDidChangeCursorPosition(L=>{"never"!==this._matchBrackets&&this._updateBracketsSoon.schedule()})),this._register(m.onDidChangeModelContent(L=>{this._updateBracketsSoon.schedule()})),this._register(m.onDidChangeModel(L=>{this._lastBracketsData=[],this._decorations=[],this._updateBracketsSoon.schedule()})),this._register(m.onDidChangeModelLanguageConfiguration(L=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(m.onDidChangeConfiguration(L=>{L.hasChanged(61)&&(this._matchBrackets=this._editor.getOption(61),this._decorations=this._editor.deltaDecorations(this._decorations,[]),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())}))}static get(m){return m.getContribution(_.ID)}jumpToBracket(){if(!this._editor.hasModel())return;const m=this._editor.getModel(),L=this._editor.getSelections().map(F=>{const G=F.getStartPosition(),Y=m.matchBracket(G);let de=null;if(Y)Y[0].containsPosition(G)?de=Y[1].getStartPosition():Y[1].containsPosition(G)&&(de=Y[0].getStartPosition());else{const le=m.findEnclosingBrackets(G);if(le)de=le[0].getStartPosition();else{const ce=m.findNextBracket(G);ce&&ce.range&&(de=ce.range.getStartPosition())}}return de?new R.Y(de.lineNumber,de.column,de.lineNumber,de.column):new R.Y(G.lineNumber,G.column,G.lineNumber,G.column)});this._editor.setSelections(L),this._editor.revealRange(L[0])}selectToBracket(m){if(!this._editor.hasModel())return;const L=this._editor.getModel(),F=[];this._editor.getSelections().forEach(G=>{const Y=G.getStartPosition();let de=L.matchBracket(Y);if(!de&&(de=L.findEnclosingBrackets(Y),!de)){const be=L.findNextBracket(Y);be&&be.range&&(de=L.matchBracket(be.range.getStartPosition()))}let le=null,ce=null;if(de){de.sort(B.e.compareRangesUsingStarts);const[be,N]=de;le=m?be.getStartPosition():be.getEndPosition(),ce=m?N.getEndPosition():N.getStartPosition()}le&&ce&&F.push(new R.Y(le.lineNumber,le.column,ce.lineNumber,ce.column))}),F.length>0&&(this._editor.setSelections(F),this._editor.revealRange(F[0]))}_updateBrackets(){if("never"===this._matchBrackets)return;this._recomputeBrackets();let m=[],L=0;for(const F of this._lastBracketsData){let G=F.brackets;G&&(m[L++]={range:G[0],options:F.options},m[L++]={range:G[1],options:F.options})}this._decorations=this._editor.deltaDecorations(this._decorations,m)}_recomputeBrackets(){if(!this._editor.hasModel())return this._lastBracketsData=[],void(this._lastVersionId=0);const m=this._editor.getSelections();if(m.length>100)return this._lastBracketsData=[],void(this._lastVersionId=0);const L=this._editor.getModel(),F=L.getVersionId();let G=[];this._lastVersionId===F&&(G=this._lastBracketsData);let Y=[],de=0;for(let V=0,Z=m.length;V<Z;V++){let ie=m[V];ie.isEmpty()&&(Y[de++]=ie.getStartPosition())}Y.length>1&&Y.sort($.L.compare);let le=[],ce=0,be=0,N=G.length;for(let V=0,Z=Y.length;V<Z;V++){let ie=Y[V];for(;be<N&&G[be].position.isBefore(ie);)be++;if(be<N&&G[be].position.equals(ie))le[ce++]=G[be];else{let ue=L.matchBracket(ie),oe=_._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;!ue&&"always"===this._matchBrackets&&(ue=L.findEnclosingBrackets(ie,20),oe=_._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),le[ce++]=new M(ie,ue,oe)}}this._lastBracketsData=le,this._lastVersionId=F}}_.ID="editor.contrib.bracketMatchingController",_._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=g.qx.register({description:"bracket-match-overview",stickiness:1,className:"bracket-match",overviewRuler:{color:(0,p.EN)(E),position:C.sh.Center}}),_._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=g.qx.register({description:"bracket-match-no-overview",stickiness:1,className:"bracket-match"}),(0,k._K)(_.ID,_),(0,k.Qr)(class extends k.R6{constructor(){super({id:"editor.action.selectToBracket",label:U.N("smartSelect.selectToBracket","Select to Bracket"),alias:"Select to Bracket",precondition:void 0,description:{description:"Select to Bracket",args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(m,L,F){const G=_.get(L);if(!G)return;let Y=!0;F&&!1===F.selectBrackets&&(Y=!1),G.selectToBracket(Y)}}),(0,k.Qr)(class extends k.R6{constructor(){super({id:"editor.action.jumpToBracket",label:U.N("smartSelect.jumpBracket","Go to Bracket"),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:d.u.editorTextFocus,primary:3160,weight:100}})}run(m,L){let F=_.get(L);!F||F.jumpToBracket()}}),(0,p.Ic)((f,m)=>{const L=f.getColor(b.TC);L&&m.addRule(`.monaco-editor .bracket-match { background-color: ${L}; }`);const F=f.getColor(b.Dl);F&&m.addRule(`.monaco-editor .bracket-match { border: 1px solid ${F}; }`)}),w.BH.appendMenuItem(w.eH.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:U.N({key:"miGoToBracket",comment:["&& denotes a mnemonic"]},"Go to &&Bracket")},order:2})},1960:(Ct,Qe,a)=>{"use strict";a.r(Qe);var T=a(1606),U=a(4482),j=a(9549),O=a(8487),k=a(9730);class ${constructor(g,b){this._selection=g,this._isMovingLeft=b}getEditOperations(g,b){if(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())return;const I=this._selection.startLineNumber,p=this._selection.startColumn,w=this._selection.endColumn;if((!this._isMovingLeft||1!==p)&&(this._isMovingLeft||w!==g.getLineMaxColumn(I)))if(this._isMovingLeft){const E=new O.e(I,p-1,I,p),S=g.getValueInRange(E);b.addEditOperation(E,null),b.addEditOperation(new O.e(I,w,I,w),S)}else{const E=new O.e(I,w,I,w+1),S=g.getValueInRange(E);b.addEditOperation(E,null),b.addEditOperation(new O.e(I,p,I,p),S)}}computeCursorState(g,b){return this._isMovingLeft?new k.Y(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new k.Y(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}}class B extends U.R6{constructor(g,b){super(b),this.left=g}run(g,b){if(!b.hasModel())return;let I=[],p=b.getSelections();for(const w of p)I.push(new $(w,this.left));b.pushUndoStop(),b.executeCommands(this.id,I),b.pushUndoStop()}}(0,U.Qr)(class extends B{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:T.N("caret.moveLeft","Move Selected Text Left"),alias:"Move Selected Text Left",precondition:j.u.writable})}}),(0,U.Qr)(class extends B{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:T.N("caret.moveRight","Move Selected Text Right"),alias:"Move Selected Text Right",precondition:j.u.writable})}})},5818:(Ct,Qe,a)=>{"use strict";a.r(Qe);var T=a(1606),U=a(4482),j=a(8571),O=a(8487),k=a(9549),$=a(6443);(0,U.Qr)(class extends U.R6{constructor(){super({id:"editor.action.transposeLetters",label:T.N("transposeLetters.label","Transpose Letters"),alias:"Transpose Letters",precondition:k.u.writable,kbOpts:{kbExpr:k.u.textInputFocus,primary:0,mac:{primary:306},weight:100}})}run(d,C){if(!C.hasModel())return;let g=C.getModel(),b=[],I=C.getSelections();for(let p of I){if(!p.isEmpty())continue;let w=p.startLineNumber,E=p.startColumn,S=g.getLineMaxColumn(w);if(1===w&&(1===E||2===E&&2===S))continue;let v=E===S?p.getPosition():$.o.rightPosition(g,p.getPosition().lineNumber,p.getPosition().column),M=$.o.leftPosition(g,v),_=$.o.leftPosition(g,M),f=g.getValueInRange(O.e.fromPositions(_,M)),m=g.getValueInRange(O.e.fromPositions(M,v)),L=O.e.fromPositions(_,v);b.push(new j.T4(L,m+f))}b.length>0&&(C.pushUndoStop(),C.executeCommands(this.id,b),C.pushUndoStop())}})},6063:(Ct,Qe,a)=>{"use strict";a.r(Qe),a.d(Qe,{CutAction:()=>E,CopyAction:()=>S,PasteAction:()=>v});var T=a(1606),U=a(4991),j=a(9190),O=a(4110),k=a(4482),$=a(3779),B=a(9549),R=a(2836),d=a(2957);const g="9_cutcopypaste",b=j.tY||document.queryCommandSupported("cut"),I=j.tY||document.queryCommandSupported("copy"),p=void 0!==navigator.clipboard&&!U.vU||document.queryCommandSupported("paste");function w(f){return f.register(),f}const E=b?w(new k.AJ({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:j.tY?{primary:2102,win:{primary:2102,secondary:[1044]},weight:100}:void 0,menuOpts:[{menuId:R.eH.MenubarEditMenu,group:"2_ccp",title:T.N({key:"miCut",comment:["&& denotes a mnemonic"]},"Cu&&t"),order:1},{menuId:R.eH.EditorContext,group:g,title:T.N("actions.clipboard.cutLabel","Cut"),when:B.u.writable,order:1},{menuId:R.eH.CommandPalette,group:"",title:T.N("actions.clipboard.cutLabel","Cut"),order:1},{menuId:R.eH.SimpleEditorContext,group:g,title:T.N("actions.clipboard.cutLabel","Cut"),when:B.u.writable,order:1}]})):void 0,S=I?w(new k.AJ({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:j.tY?{primary:2081,win:{primary:2081,secondary:[2067]},weight:100}:void 0,menuOpts:[{menuId:R.eH.MenubarEditMenu,group:"2_ccp",title:T.N({key:"miCopy",comment:["&& denotes a mnemonic"]},"&&Copy"),order:2},{menuId:R.eH.EditorContext,group:g,title:T.N("actions.clipboard.copyLabel","Copy"),order:2},{menuId:R.eH.CommandPalette,group:"",title:T.N("actions.clipboard.copyLabel","Copy"),order:1},{menuId:R.eH.SimpleEditorContext,group:g,title:T.N("actions.clipboard.copyLabel","Copy"),order:2}]})):void 0;R.BH.appendMenuItem(R.eH.MenubarEditMenu,{submenu:R.eH.MenubarCopy,title:{value:T.N("copy as","Copy As"),original:"Copy As"},group:"2_ccp",order:3}),R.BH.appendMenuItem(R.eH.EditorContext,{submenu:R.eH.EditorContextCopy,title:{value:T.N("copy as","Copy As"),original:"Copy As"},group:g,order:3});const v=p?w(new k.AJ({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:j.tY?{primary:2100,win:{primary:2100,secondary:[1043]},linux:{primary:2100,secondary:[1043]},weight:100}:void 0,menuOpts:[{menuId:R.eH.MenubarEditMenu,group:"2_ccp",title:T.N({key:"miPaste",comment:["&& denotes a mnemonic"]},"&&Paste"),order:4},{menuId:R.eH.EditorContext,group:g,title:T.N("actions.clipboard.pasteLabel","Paste"),when:B.u.writable,order:4},{menuId:R.eH.CommandPalette,group:"",title:T.N("actions.clipboard.pasteLabel","Paste"),order:1},{menuId:R.eH.SimpleEditorContext,group:g,title:T.N("actions.clipboard.pasteLabel","Paste"),when:B.u.writable,order:4}]})):void 0;function _(f,m){!f||(f.addImplementation(1e4,"code-editor",(L,F)=>{const G=L.get($.$).getFocusedCodeEditor();if(G&&G.hasTextFocus()){const Y=G.getOption(30),de=G.getSelection();return de&&de.isEmpty()&&!Y||document.execCommand(m),!0}return!1}),f.addImplementation(0,"generic-dom",(L,F)=>(document.execCommand(m),!0)))}_(E,"cut"),_(S,"copy"),v&&(v.addImplementation(1e4,"code-editor",(f,m)=>{const L=f.get($.$),F=f.get(d.p),G=L.getFocusedCodeEditor();return!(!G||!G.hasTextFocus()||(!document.execCommand("paste")&&j.$L&&function(f,m,L,F){new(L||(L=Promise))(function(Y,de){function le(N){try{be(F.next(N))}catch(V){de(V)}}function ce(N){try{be(F.throw(N))}catch(V){de(V)}}function be(N){N.done?Y(N.value):function(Y){return Y instanceof L?Y:new L(function(de){de(Y)})}(N.value).then(le,ce)}be((F=F.apply(f,m||[])).next())})}(void 0,void 0,void 0,function*(){const de=yield F.readText();if(""!==de){const le=O.Nl.INSTANCE.get(de);let ce=!1,be=null,N=null;le&&(ce=G.getOption(30)&&!!le.isFromEmptySelection,be=void 0!==le.multicursorText?le.multicursorText:null,N=le.mode),G.trigger("keyboard","paste",{text:de,pasteOnNewLine:ce,multicursorText:be,mode:N})}}),0))}),v.addImplementation(0,"generic-dom",(f,m)=>(document.execCommand("paste"),!0))),I&&(0,k.Qr)(class extends k.R6{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:T.N("actions.clipboard.copyWithSyntaxHighlightingLabel","Copy With Syntax Highlighting"),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:B.u.textInputFocus,primary:0,weight:100}})}run(m,L){!L.hasModel()||!L.getOption(30)&&L.getSelection().isEmpty()||(O.RA.forceCopyWithSyntaxHighlighting=!0,L.focus(),document.execCommand("copy"),O.RA.forceCopyWithSyntaxHighlighting=!1)}})},825:(Ct,Qe,a)=>{"use strict";a.d(Qe,{RB:()=>w,Bb:()=>E,MN:()=>S,uH:()=>v,TM:()=>M,bA:()=>_,aI:()=>L});var T=a(2291),U=a(9357),j=a(5160),O=a(1719),k=a(6746),$=a(1358),B=a(8487),R=a(9730),d=a(6412),C=a(1954),g=a(672),b=a(723),I=a(8896),p=function(Y,de,le,ce){return new(le||(le=Promise))(function(N,V){function Z(oe){try{ue(ce.next(oe))}catch(ee){V(ee)}}function ie(oe){try{ue(ce.throw(oe))}catch(ee){V(ee)}}function ue(oe){oe.done?N(oe.value):function(N){return N instanceof le?N:new le(function(V){V(N)})}(oe.value).then(Z,ie)}ue((ce=ce.apply(Y,de||[])).next())})};const w="editor.action.codeAction",E="editor.action.refactor",S="editor.action.sourceAction",v="editor.action.organizeImports",M="editor.action.fixAll";class _{constructor(de,le){this.action=de,this.provider=le}resolve(de){var le;return p(this,void 0,void 0,function*(){if((null===(le=this.provider)||void 0===le?void 0:le.resolveCodeAction)&&!this.action.edit){let ce;try{ce=yield this.provider.resolveCodeAction(this.action,de)}catch(be){(0,j.Cp)(be)}ce&&(this.action.edit=ce.edit)}return this})}}class f extends O.JT{constructor(de,le,ce){super(),this.documentation=le,this._register(ce),this.allActions=[...de].sort(f.codeActionsComparator),this.validActions=this.allActions.filter(({action:be})=>!be.disabled)}static codeActionsComparator({action:de},{action:le}){return de.isPreferred&&!le.isPreferred?-1:!de.isPreferred&&le.isPreferred?1:(0,T.Of)(de.diagnostics)?(0,T.Of)(le.diagnostics)?de.diagnostics[0].message.localeCompare(le.diagnostics[0].message):-1:(0,T.Of)(le.diagnostics)?1:0}get hasAutoFix(){return this.validActions.some(({action:de})=>!!de.kind&&g.yN.QuickFix.contains(new g.yN(de.kind))&&!!de.isPreferred)}}const m={actions:[],documentation:void 0};function L(Y,de,le,ce,be){var N;const V=le.filter||{},Z={only:null===(N=V.include)||void 0===N?void 0:N.value,trigger:le.type},ie=new $.YQ(Y,be),ue=function(Y,de){return d.H9.all(Y).filter(le=>!le.providedCodeActionKinds||le.providedCodeActionKinds.some(ce=>(0,g.EU)(de,new g.yN(ce))))}(Y,V),oe=new O.SL,ee=ue.map(ne=>p(this,void 0,void 0,function*(){try{ce.report(ne);const he=yield ne.provideCodeActions(Y,de,Z,ie.token);if(he&&oe.add(he),ie.token.isCancellationRequested)return m;const ge=((null==he?void 0:he.actions)||[]).filter(ye=>ye&&(0,g.Yl)(V,ye)),re=function(Y,de,le){if(!Y.documentation)return;const ce=Y.documentation.map(be=>({kind:new g.yN(be.kind),command:be.command}));if(le){let be;for(const N of ce)N.kind.contains(le)&&(be?be.kind.contains(N.kind)&&(be=N):be=N);if(be)return null==be?void 0:be.command}for(const be of de)if(be.kind)for(const N of ce)if(N.kind.contains(new g.yN(be.kind)))return N.command}(ne,ge,V.include);return{actions:ge.map(ye=>new _(ye,ne)),documentation:re}}catch(he){if((0,j.VV)(he))throw he;return(0,j.Cp)(he),m}})),K=d.H9.onDidChange(()=>{const ne=d.H9.all(Y);(0,T.fS)(ne,ue)||ie.cancel()});return Promise.all(ee).then(ne=>{const he=(0,T.xH)(ne.map(re=>re.actions)),ge=(0,T.kX)(ne.map(re=>re.documentation));return new f(he,ge,oe)}).finally(()=>{K.dispose(),ie.dispose()})}I.P.registerCommand("_executeCodeActionProvider",function(Y,de,le,ce,be){return p(this,void 0,void 0,function*(){if(!(de instanceof k.o))throw(0,j.b1)();const N=Y.get(C.q).getModel(de);if(!N)throw(0,j.b1)();const V=R.Y.isISelection(le)?R.Y.liftSelection(le):B.e.isIRange(le)?N.validateRange(le):void 0;if(!V)throw(0,j.b1)();const Z="string"==typeof ce?new g.yN(ce):void 0,ie=yield L(N,V,{type:1,filter:{includeSourceActions:!0,include:Z}},b.E.None,U.T.None),ue=[],oe=Math.min(ie.validActions.length,"number"==typeof be?be:0);for(let ee=0;ee<oe;ee++)ue.push(ie.validActions[ee].resolve(U.T.None));try{return yield Promise.all(ue),ie.validActions.map(ee=>ee.action)}finally{setTimeout(()=>ie.dispose(),100)}})})},528:(Ct,Qe,a)=>{"use strict";a.d(Qe,{S5:()=>Xe,dW:()=>qt,Hv:()=>Dt,o$:()=>Rt,E7:()=>Ht,pY:()=>Nt,Eb:()=>nt,VQ:()=>bt});var T=a(9357);class U{constructor(Oe){this.executor=Oe,this._didRun=!1}getValue(){if(!this._didRun)try{this._value=this.executor()}catch(Oe){this._error=Oe}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}var j=a(1719),O=a(579),k=a(4482),$=a(2168),B=a(9549),R=a(825),d=a(5160),C=a(9152),g=a(4562),b=a(1165),I=a(7513),p=a(2109),w=a(6412),E=a(672),S=a(652),v=a(3012),_=function(ft,Oe){return function(We,Ne){Oe(We,Ne,ft)}};class m extends I.aU{constructor(Oe,We){super(Oe.command?Oe.command.id:Oe.title,Oe.title.replace(/\r\n|\r|\n/g," "),void 0,!Oe.disabled,We),this.action=Oe}}let F=class extends j.JT{constructor(Oe,We,Ne,J){super(),this._editor=Oe,this._delegate=We,this._contextMenuService=Ne,this._visible=!1,this._showingActions=this._register(new j.XK),this._keybindingResolver=new G({getKeybindings:()=>J.getKeybindings()})}get isVisible(){return this._visible}show(Oe,We,Ne,J){return function(ft,Oe,We,Ne){return new(We||(We=Promise))(function(_e,$e){function at(Pt){try{Lt(Ne.next(Pt))}catch(on){$e(on)}}function Et(Pt){try{Lt(Ne.throw(Pt))}catch(on){$e(on)}}function Lt(Pt){Pt.done?_e(Pt.value):function(_e){return _e instanceof We?_e:new We(function($e){$e(_e)})}(Pt.value).then(at,Et)}Lt((Ne=Ne.apply(ft,Oe||[])).next())})}(this,void 0,void 0,function*(){const _e=J.includeDisabledActions?We.allActions:We.validActions;if(!_e.length)return void(this._visible=!1);if(!this._editor.getDomNode())throw this._visible=!1,(0,d.F0)();this._visible=!0,this._showingActions.value=We;const $e=this.getMenuActions(Oe,_e,We.documentation),at=p.L.isIPosition(Ne)?this._toCoords(Ne):Ne||{x:0,y:0},Et=this._keybindingResolver.getResolver(),Lt=this._editor.getOption(112);this._contextMenuService.showContextMenu({domForShadowRoot:Lt?this._editor.getDomNode():void 0,getAnchor:()=>at,getActions:()=>$e,onHide:()=>{this._visible=!1,this._editor.focus()},autoSelectFirstItem:!0,getKeyBinding:Pt=>Pt instanceof m?Et(Pt.action):void 0})})}getMenuActions(Oe,We,Ne){var J,_e;const $e=Pt=>new m(Pt.action,()=>this._delegate.onSelectCodeAction(Pt)),at=We.map($e),Et=[...Ne],Lt=this._editor.getModel();if(Lt&&at.length)for(const Pt of w.H9.all(Lt))Pt._getAdditionalMenuItems&&Et.push(...Pt._getAdditionalMenuItems({trigger:Oe.type,only:null===(_e=null===(J=Oe.filter)||void 0===J?void 0:J.include)||void 0===_e?void 0:_e.value},We.map(on=>on.action)));return Et.length&&at.push(new I.Z0,...Et.map(Pt=>$e(new R.bA({title:Pt.title,command:Pt},void 0)))),at}_toCoords(Oe){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(Oe,1),this._editor.render();const We=this._editor.getScrolledVisiblePosition(Oe),Ne=(0,b.i)(this._editor.getDomNode());return{x:Ne.left+We.left,y:Ne.top+We.top+We.height}}};F=function(ft,Oe,We,Ne){var $e,J=arguments.length,_e=J<3?Oe:null===Ne?Ne=Object.getOwnPropertyDescriptor(Oe,We):Ne;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)_e=Reflect.decorate(ft,Oe,We,Ne);else for(var at=ft.length-1;at>=0;at--)($e=ft[at])&&(_e=(J<3?$e(_e):J>3?$e(Oe,We,_e):$e(Oe,We))||_e);return J>3&&_e&&Object.defineProperty(Oe,We,_e),_e}([_(2,S.i),_(3,v.d)],F);let G=(()=>{class ft{constructor(We){this._keybindingProvider=We}getResolver(){const We=new U(()=>this._keybindingProvider.getKeybindings().filter(Ne=>ft.codeActionCommands.indexOf(Ne.command)>=0).filter(Ne=>Ne.resolvedKeybinding).map(Ne=>{let J=Ne.commandArgs;return Ne.command===R.uH?J={kind:E.yN.SourceOrganizeImports.value}:Ne.command===R.TM&&(J={kind:E.yN.SourceFixAll.value}),Object.assign({resolvedKeybinding:Ne.resolvedKeybinding},E.wZ.fromUser(J,{kind:E.yN.None,apply:"never"}))}));return Ne=>{if(Ne.kind){const J=this.bestKeybindingForCodeAction(Ne,We.getValue());return null==J?void 0:J.resolvedKeybinding}}}bestKeybindingForCodeAction(We,Ne){if(!We.kind)return;const J=new E.yN(We.kind);return Ne.filter(_e=>_e.kind.contains(J)).filter(_e=>!_e.preferred||We.isPreferred).reduceRight((_e,$e)=>_e?_e.kind.contains($e.kind)?$e:_e:$e,void 0)}}return ft.codeActionCommands=[R.Bb,R.RB,R.MN,R.uH,R.TM],ft})();var ee,Y=a(3058),de=a(6723),ce=(a(8195),a(111)),be=a(1606),N=a(6803),V=a(7251),Z=a(1745),ie=a(521);!function(ft){ft.Hidden={type:0},ft.Showing=class{constructor(Ne,J,_e,$e){this.actions=Ne,this.trigger=J,this.editorPosition=_e,this.widgetPosition=$e,this.type=1}}}(ee||(ee={}));let K=class SR extends j.JT{constructor(Oe,We,Ne,J){super(),this._editor=Oe,this._quickFixActionId=We,this._preferredFixActionId=Ne,this._keybindingService=J,this._onClick=this._register(new de.Q5),this.onClick=this._onClick.event,this._state=ee.Hidden,this._domNode=document.createElement("div"),this._domNode.className=ie.lA.lightBulb.classNames,this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent(_e=>{const $e=this._editor.getModel();(1!==this.state.type||!$e||this.state.editorPosition.lineNumber>=$e.getLineCount())&&this.hide()})),Z.o.ignoreTarget(this._domNode),this._register(b.Gw(this._domNode,_e=>{if(1!==this.state.type)return;this._editor.focus(),_e.preventDefault();const{top:$e,height:at}=b.i(this._domNode),Et=this._editor.getOption(56);let Lt=Math.floor(Et/3);null!==this.state.widgetPosition.position&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(Lt+=Et),this._onClick.fire({x:_e.posx,y:$e+at+Lt,actions:this.state.actions,trigger:this.state.trigger})})),this._register(b.nm(this._domNode,"mouseenter",_e=>{if(1!=(1&_e.buttons))return;this.hide();const $e=new Y.Z;$e.startMonitoring(_e.target,_e.buttons,Y.e,()=>{},()=>{$e.dispose()})})),this._register(this._editor.onDidChangeConfiguration(_e=>{_e.hasChanged(54)&&!this._editor.getOption(54).enabled&&this.hide()})),this._updateLightBulbTitleAndIcon(),this._register(this._keybindingService.onDidUpdateKeybindings(this._updateLightBulbTitleAndIcon,this))}dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return 1===this._state.type?this._state.widgetPosition:null}update(Oe,We,Ne){if(Oe.validActions.length<=0)return this.hide();const J=this._editor.getOptions();if(!J.get(54).enabled)return this.hide();const _e=this._editor.getModel();if(!_e)return this.hide();const{lineNumber:$e,column:at}=_e.validatePosition(Ne),Et=_e.getOptions().tabSize,Lt=J.get(40),Pt=_e.getLineContent($e),on=ce.yO.computeIndentLevel(Pt,Et),bn=jn=>jn>2&&this._editor.getTopForLineNumber(jn)===this._editor.getTopForLineNumber(jn-1);let yn=$e;if(!(Lt.spaceWidth*on>22))if($e>1&&!bn($e-1))yn-=1;else if(bn($e+1)){if(at*Lt.spaceWidth<22)return this.hide()}else yn+=1;this.state=new ee.Showing(Oe,We,Ne,{position:{lineNumber:yn,column:1},preference:SR._posPref}),this._editor.layoutContentWidget(this)}hide(){this.state=ee.Hidden,this._editor.layoutContentWidget(this)}get state(){return this._state}set state(Oe){this._state=Oe,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){if(1===this.state.type&&this.state.actions.hasAutoFix){this._domNode.classList.remove(...ie.lA.lightBulb.classNamesArray),this._domNode.classList.add(...ie.lA.lightbulbAutofix.classNamesArray);const We=this._keybindingService.lookupKeybinding(this._preferredFixActionId);if(We)return void(this.title=be.N("prefferedQuickFixWithKb","Show Fixes. Preferred Fix Available ({0})",We.getLabel()))}this._domNode.classList.remove(...ie.lA.lightbulbAutofix.classNamesArray),this._domNode.classList.add(...ie.lA.lightBulb.classNamesArray);const Oe=this._keybindingService.lookupKeybinding(this._quickFixActionId);this.title=Oe?be.N("quickFixWithKb","Show Fixes ({0})",Oe.getLabel()):be.N("quickFix","Show Fixes")}set title(Oe){this._domNode.title=Oe}};var Oe;K._posPref=[0],K=function(ft,Oe,We,Ne){var $e,J=arguments.length,_e=J<3?Oe:null===Ne?Ne=Object.getOwnPropertyDescriptor(Oe,We):Ne;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)_e=Reflect.decorate(ft,Oe,We,Ne);else for(var at=ft.length-1;at>=0;at--)($e=ft[at])&&(_e=(J<3?$e(_e):J>3?$e(Oe,We,_e):$e(Oe,We))||_e);return J>3&&_e&&Object.defineProperty(Oe,We,_e),_e}([(3,Oe=v.d,function(We,Ne){Oe(We,Ne,3)})],K),(0,N.Ic)((ft,Oe)=>{var We;const Ne=null===(We=ft.getColor(V.cv))||void 0===We?void 0:We.transparent(.7),J=ft.getColor(V.Fu);J&&Oe.addRule(`\n\t\t.monaco-editor .contentWidgets ${ie.lA.lightBulb.cssSelector} {\n\t\t\tcolor: ${J};\n\t\t\tbackground-color: ${Ne};\n\t\t}`);const _e=ft.getColor(V.sK);_e&&Oe.addRule(`\n\t\t.monaco-editor .contentWidgets ${ie.lA.lightbulbAutofix.cssSelector} {\n\t\t\tcolor: ${_e};\n\t\t\tbackground-color: ${Ne};\n\t\t}`)});var ke,ge=function(ft,Oe,We,Ne){return new(We||(We=Promise))(function(_e,$e){function at(Pt){try{Lt(Ne.next(Pt))}catch(on){$e(on)}}function Et(Pt){try{Lt(Ne.throw(Pt))}catch(on){$e(on)}}function Lt(Pt){Pt.done?_e(Pt.value):function(_e){return _e instanceof We?_e:new We(function($e){$e(_e)})}(Pt.value).then(at,Et)}Lt((Ne=Ne.apply(ft,Oe||[])).next())})};let xe=class extends j.JT{constructor(Oe,We,Ne,J,_e){super(),this._editor=Oe,this.delegate=J,this._activeCodeActions=this._register(new j.XK),ke.set(this,!1),this._codeActionWidget=new U(()=>this._register(_e.createInstance(F,this._editor,{onSelectCodeAction:$e=>ge(this,void 0,void 0,function*(){this.delegate.applyCodeAction($e,!0)})}))),this._lightBulbWidget=new U(()=>{const $e=this._register(_e.createInstance(K,this._editor,We,Ne));return this._register($e.onClick(at=>this.showCodeActionList(at.trigger,at.actions,at,{includeDisabledActions:!1}))),$e})}dispose(){(function(ft,Oe,We,Ne,J){if("function"==typeof Oe||!Oe.has(ft))throw new TypeError("Cannot write private member to an object whose class did not declare it");Oe.set(ft,true)})(this,ke),super.dispose()}update(Oe){var We,Ne,J;return ge(this,void 0,void 0,function*(){if(1!==Oe.type)return void(null===(We=this._lightBulbWidget.rawValue)||void 0===We||We.hide());let _e;try{_e=yield Oe.actions}catch($e){return void(0,d.dL)($e)}if(!function(ft,Oe,We,Ne){if("function"==typeof Oe||!Oe.has(ft))throw new TypeError("Cannot read private member from an object whose class did not declare it");return Oe.get(ft)}(this,ke))if(this._lightBulbWidget.getValue().update(_e,Oe.trigger,Oe.position),1===Oe.trigger.type){if(null===(Ne=Oe.trigger.filter)||void 0===Ne?void 0:Ne.include){const at=this.tryGetValidActionToApply(Oe.trigger,_e);if(at){try{yield this.delegate.applyCodeAction(at,!1)}finally{_e.dispose()}return}if(Oe.trigger.context){const Et=this.getInvalidActionThatWouldHaveBeenApplied(Oe.trigger,_e);if(Et&&Et.action.disabled)return C.O.get(this._editor).showMessage(Et.action.disabled,Oe.trigger.context.position),void _e.dispose()}}const $e=!!(null===(J=Oe.trigger.filter)||void 0===J?void 0:J.include);if(Oe.trigger.context&&(!_e.allActions.length||!$e&&!_e.validActions.length))return C.O.get(this._editor).showMessage(Oe.trigger.context.notAvailableMessage,Oe.trigger.context.position),this._activeCodeActions.value=_e,void _e.dispose();this._activeCodeActions.value=_e,this._codeActionWidget.getValue().show(Oe.trigger,_e,Oe.position,{includeDisabledActions:$e})}else this._codeActionWidget.getValue().isVisible?_e.dispose():this._activeCodeActions.value=_e})}getInvalidActionThatWouldHaveBeenApplied(Oe,We){if(We.allActions.length&&("first"===Oe.autoApply&&0===We.validActions.length||"ifSingle"===Oe.autoApply&&1===We.allActions.length))return We.allActions.find(({action:Ne})=>Ne.disabled)}tryGetValidActionToApply(Oe,We){if(We.validActions.length&&("first"===Oe.autoApply&&We.validActions.length>0||"ifSingle"===Oe.autoApply&&1===We.validActions.length))return We.validActions[0]}showCodeActionList(Oe,We,Ne,J){return ge(this,void 0,void 0,function*(){this._codeActionWidget.getValue().show(Oe,We,Ne,J)})}};ke=new WeakMap,xe=function(ft,Oe,We,Ne){var $e,J=arguments.length,_e=J<3?Oe:null===Ne?Ne=Object.getOwnPropertyDescriptor(Oe,We):Ne;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)_e=Reflect.decorate(ft,Oe,We,Ne);else for(var at=ft.length-1;at>=0;at--)($e=ft[at])&&(_e=(J<3?$e(_e):J>3?$e(Oe,We,_e):$e(Oe,We))||_e);return J>3&&_e&&Object.defineProperty(Oe,We,_e),_e}([function(ft,Oe){return function(We,Ne){Oe(We,Ne,4)}}(0,g.TG)],xe);var Ue,Pe=a(8896),fe=a(2844),Te=a(1641),Ce=a(1004),Je=a(723),pe=a(5460),Ve=a(7922),Ae=a(8401),Ee=a(8487),ze=function(ft,Oe,We,Ne){if("a"===We&&!Ne)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof Oe?ft!==Oe||!Ne:!Oe.has(ft))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===We?Ne:"a"===We?Ne.call(ft):Ne?Ne.value:Oe.get(ft)};const ot=new fe.uy("supportedCodeAction","");class vt extends j.JT{constructor(Oe,We,Ne,J=250){super(),this._editor=Oe,this._markerService=We,this._signalChange=Ne,this._delay=J,this._autoTriggerTimer=this._register(new Ve._F),this._register(this._markerService.onMarkerChanged(_e=>this._onMarkerChanges(_e))),this._register(this._editor.onDidChangeCursorPosition(()=>this._onCursorChange()))}trigger(Oe){const We=this._getRangeOfSelectionUnlessWhitespaceEnclosed(Oe);return this._createEventAndSignalChange(Oe,We)}_onMarkerChanges(Oe){const We=this._editor.getModel();!We||Oe.some(Ne=>(0,Ae.Xy)(Ne,We.uri))&&this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2})},this._delay)}_onCursorChange(){this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2})},this._delay)}_getRangeOfMarker(Oe){const We=this._editor.getModel();if(We)for(const Ne of this._markerService.read({resource:We.uri})){const J=We.validateRange(Ne);if(Ee.e.intersectRanges(J,Oe))return Ee.e.lift(J)}}_getRangeOfSelectionUnlessWhitespaceEnclosed(Oe){if(!this._editor.hasModel())return;const We=this._editor.getModel(),Ne=this._editor.getSelection();if(Ne.isEmpty()&&2===Oe.type){const{lineNumber:J,column:_e}=Ne.getPosition(),$e=We.getLineContent(J);if(0===$e.length)return;if(1===_e){if(/\s/.test($e[0]))return}else if(_e===We.getLineMaxColumn(J)){if(/\s/.test($e[$e.length-1]))return}else if(/\s/.test($e[_e-2])&&/\s/.test($e[_e-1]))return}return Ne}_createEventAndSignalChange(Oe,We){const Ne=this._editor.getModel();if(!We||!Ne)return void this._signalChange(void 0);const J=this._getRangeOfMarker(We),_e=J?J.getStartPosition():We.getStartPosition(),$e={trigger:Oe,selection:We,position:_e};return this._signalChange($e),$e}}var At;!function(ft){ft.Empty={type:0},ft.Triggered=class{constructor(Ne,J,_e,$e){this.trigger=Ne,this.rangeOrSelection=J,this.position=_e,this._cancellablePromise=$e,this.type=1,this.actions=$e.catch(at=>{if((0,d.VV)(at))return ve;throw at})}cancel(){this._cancellablePromise.cancel()}}}(At||(At={}));const ve={allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1};class ht extends j.JT{constructor(Oe,We,Ne,J){super(),this._editor=Oe,this._markerService=We,this._progressService=J,this._codeActionOracle=this._register(new j.XK),this._state=At.Empty,this._onDidChangeState=this._register(new de.Q5),this.onDidChangeState=this._onDidChangeState.event,Ue.set(this,!1),this._supportedCodeActions=ot.bindTo(Ne),this._register(this._editor.onDidChangeModel(()=>this._update())),this._register(this._editor.onDidChangeModelLanguage(()=>this._update())),this._register(w.H9.onDidChange(()=>this._update())),this._update()}dispose(){ze(this,Ue,"f")||(function(ft,Oe,We,Ne,J){if("function"==typeof Oe||!Oe.has(ft))throw new TypeError("Cannot write private member to an object whose class did not declare it");Oe.set(ft,true)}(this,Ue),super.dispose(),this.setState(At.Empty,!0))}_update(){if(ze(this,Ue,"f"))return;this._codeActionOracle.value=void 0,this.setState(At.Empty);const Oe=this._editor.getModel();if(Oe&&w.H9.has(Oe)&&!this._editor.getOption(78)){const We=[];for(const Ne of w.H9.all(Oe))Array.isArray(Ne.providedCodeActionKinds)&&We.push(...Ne.providedCodeActionKinds);this._supportedCodeActions.set(We.join(" ")),this._codeActionOracle.value=new vt(this._editor,this._markerService,Ne=>{var J;if(!Ne)return void this.setState(At.Empty);const _e=(0,Ve.PG)($e=>(0,R.aI)(Oe,Ne.selection,Ne.trigger,Je.E.None,$e));1===Ne.trigger.type&&(null===(J=this._progressService)||void 0===J||J.showWhile(_e,250)),this.setState(new At.Triggered(Ne.trigger,Ne.selection,Ne.position,_e))},void 0),this._codeActionOracle.value.trigger({type:2})}else this._supportedCodeActions.reset()}trigger(Oe){this._codeActionOracle.value&&this._codeActionOracle.value.trigger(Oe)}setState(Oe,We){Oe!==this._state&&(1===this._state.type&&this._state.cancel(),this._state=Oe,!We&&!ze(this,Ue,"f")&&this._onDidChangeState.fire(Oe))}}Ue=new WeakMap;var De=function(ft,Oe){return function(We,Ne){Oe(We,Ne,ft)}},Le=function(ft,Oe,We,Ne){return new(We||(We=Promise))(function(_e,$e){function at(Pt){try{Lt(Ne.next(Pt))}catch(on){$e(on)}}function Et(Pt){try{Lt(Ne.throw(Pt))}catch(on){$e(on)}}function Lt(Pt){Pt.done?_e(Pt.value):function(_e){return _e instanceof We?_e:new We(function($e){$e(_e)})}(Pt.value).then(at,Et)}Lt((Ne=Ne.apply(ft,Oe||[])).next())})};function dt(ft){return fe.Ao.regex(ot.keys()[0],new RegExp("(\\s|^)"+(0,O.ec)(ft.value)+"\\b"))}const _t={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:be.N("args.schema.kind","Kind of the code action to run.")},apply:{type:"string",description:be.N("args.schema.apply","Controls when the returned actions are applied."),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[be.N("args.schema.apply.first","Always apply the first returned code action."),be.N("args.schema.apply.ifSingle","Apply the first returned code action if it is the only one."),be.N("args.schema.apply.never","Do not apply the returned code actions.")]},preferred:{type:"boolean",default:!1,description:be.N("args.schema.preferred","Controls if only preferred code actions should be returned.")}}};let Nt=class ER extends j.JT{constructor(Oe,We,Ne,J,_e){super(),this._instantiationService=_e,this._editor=Oe,this._model=this._register(new ht(this._editor,We,Ne,J)),this._register(this._model.onDidChangeState($e=>this.update($e))),this._ui=new U(()=>this._register(new xe(Oe,Ht.Id,Xe.Id,{applyCodeAction:($e,at)=>Le(this,void 0,void 0,function*(){try{yield this._applyCodeAction($e)}finally{at&&this._trigger({type:2,filter:{}})}})},this._instantiationService)))}static get(Oe){return Oe.getContribution(ER.ID)}update(Oe){this._ui.getValue().update(Oe)}showCodeActions(Oe,We,Ne){return this._ui.getValue().showCodeActionList(Oe,We,Ne,{includeDisabledActions:!1})}manualTriggerAtCurrentPosition(Oe,We,Ne){if(!this._editor.hasModel())return;C.O.get(this._editor).closeMessage();const J=this._editor.getPosition();this._trigger({type:1,filter:We,autoApply:Ne,context:{notAvailableMessage:Oe,position:J}})}_trigger(Oe){return this._model.trigger(Oe)}_applyCodeAction(Oe){return this._instantiationService.invokeFunction(zt,Oe,this._editor)}};function zt(ft,Oe,We){return Le(this,void 0,void 0,function*(){const Ne=ft.get($.vu),J=ft.get(Pe.H),_e=ft.get(pe.b),$e=ft.get(Ce.lT);if(_e.publicLog2("codeAction.applyCodeAction",{codeActionTitle:Oe.action.title,codeActionKind:Oe.action.kind,codeActionIsPreferred:!!Oe.action.isPreferred}),yield Oe.resolve(T.T.None),Oe.action.edit&&(yield Ne.apply($.fo.convert(Oe.action.edit),{editor:We,label:Oe.action.title})),Oe.action.command)try{yield J.executeCommand(Oe.action.command.id,...Oe.action.command.arguments||[])}catch(at){const Et=function(ft){return"string"==typeof ft?ft:ft instanceof Error&&"string"==typeof ft.message?ft.message:void 0}(at);$e.error("string"==typeof Et?Et:be.N("applyCodeActionFailed","An unknown error occurred while applying the code action"))}})}function Qt(ft,Oe,We,Ne){if(ft.hasModel()){const J=Nt.get(ft);J&&J.manualTriggerAtCurrentPosition(Oe,We,Ne)}}Nt.ID="editor.contrib.quickFixController",Nt=function(ft,Oe,We,Ne){var $e,J=arguments.length,_e=J<3?Oe:null===Ne?Ne=Object.getOwnPropertyDescriptor(Oe,We):Ne;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)_e=Reflect.decorate(ft,Oe,We,Ne);else for(var at=ft.length-1;at>=0;at--)($e=ft[at])&&(_e=(J<3?$e(_e):J>3?$e(Oe,We,_e):$e(Oe,We))||_e);return J>3&&_e&&Object.defineProperty(Oe,We,_e),_e}([De(1,Te.lT),De(2,fe.i6),De(3,Je.e),De(4,g.TG)],Nt);let Ht=(()=>{class ft extends k.R6{constructor(){super({id:ft.Id,label:be.N("quickfix.trigger.label","Quick Fix..."),alias:"Quick Fix...",precondition:fe.Ao.and(B.u.writable,B.u.hasCodeActionsProvider),kbOpts:{kbExpr:B.u.editorTextFocus,primary:2132,weight:100}})}run(We,Ne){return Qt(Ne,be.N("editor.action.quickFix.noneMessage","No code actions available"),void 0,void 0)}}return ft.Id="editor.action.quickFix",ft})();class qt extends k._l{constructor(){super({id:R.RB,precondition:fe.Ao.and(B.u.writable,B.u.hasCodeActionsProvider),description:{description:"Trigger a code action",args:[{name:"args",schema:_t}]}})}runEditorCommand(Oe,We,Ne){const J=E.wZ.fromUser(Ne,{kind:E.yN.Empty,apply:"ifSingle"});return Qt(We,"string"==typeof(null==Ne?void 0:Ne.kind)?J.preferred?be.N("editor.action.codeAction.noneMessage.preferred.kind","No preferred code actions for '{0}' available",Ne.kind):be.N("editor.action.codeAction.noneMessage.kind","No code actions for '{0}' available",Ne.kind):J.preferred?be.N("editor.action.codeAction.noneMessage.preferred","No preferred code actions available"):be.N("editor.action.codeAction.noneMessage","No code actions available"),{include:J.kind,includeSourceActions:!0,onlyIncludePreferredActions:J.preferred},J.apply)}}class nt extends k.R6{constructor(){super({id:R.Bb,label:be.N("refactor.label","Refactor..."),alias:"Refactor...",precondition:fe.Ao.and(B.u.writable,B.u.hasCodeActionsProvider),kbOpts:{kbExpr:B.u.editorTextFocus,primary:3120,mac:{primary:1328},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:fe.Ao.and(B.u.writable,dt(E.yN.Refactor))},description:{description:"Refactor...",args:[{name:"args",schema:_t}]}})}run(Oe,We,Ne){const J=E.wZ.fromUser(Ne,{kind:E.yN.Refactor,apply:"never"});return Qt(We,"string"==typeof(null==Ne?void 0:Ne.kind)?J.preferred?be.N("editor.action.refactor.noneMessage.preferred.kind","No preferred refactorings for '{0}' available",Ne.kind):be.N("editor.action.refactor.noneMessage.kind","No refactorings for '{0}' available",Ne.kind):J.preferred?be.N("editor.action.refactor.noneMessage.preferred","No preferred refactorings available"):be.N("editor.action.refactor.noneMessage","No refactorings available"),{include:E.yN.Refactor.contains(J.kind)?J.kind:E.yN.None,onlyIncludePreferredActions:J.preferred},J.apply)}}class bt extends k.R6{constructor(){super({id:R.MN,label:be.N("source.label","Source Action..."),alias:"Source Action...",precondition:fe.Ao.and(B.u.writable,B.u.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:fe.Ao.and(B.u.writable,dt(E.yN.Source))},description:{description:"Source Action...",args:[{name:"args",schema:_t}]}})}run(Oe,We,Ne){const J=E.wZ.fromUser(Ne,{kind:E.yN.Source,apply:"never"});return Qt(We,"string"==typeof(null==Ne?void 0:Ne.kind)?J.preferred?be.N("editor.action.source.noneMessage.preferred.kind","No preferred source actions for '{0}' available",Ne.kind):be.N("editor.action.source.noneMessage.kind","No source actions for '{0}' available",Ne.kind):J.preferred?be.N("editor.action.source.noneMessage.preferred","No preferred source actions available"):be.N("editor.action.source.noneMessage","No source actions available"),{include:E.yN.Source.contains(J.kind)?J.kind:E.yN.None,includeSourceActions:!0,onlyIncludePreferredActions:J.preferred},J.apply)}}class Rt extends k.R6{constructor(){super({id:R.uH,label:be.N("organizeImports.label","Organize Imports"),alias:"Organize Imports",precondition:fe.Ao.and(B.u.writable,dt(E.yN.SourceOrganizeImports)),kbOpts:{kbExpr:B.u.editorTextFocus,primary:1581,weight:100}})}run(Oe,We){return Qt(We,be.N("editor.action.organize.noneMessage","No organize imports action available"),{include:E.yN.SourceOrganizeImports,includeSourceActions:!0},"ifSingle")}}class Dt extends k.R6{constructor(){super({id:R.TM,label:be.N("fixAll.label","Fix All"),alias:"Fix All",precondition:fe.Ao.and(B.u.writable,dt(E.yN.SourceFixAll))})}run(Oe,We){return Qt(We,be.N("fixAll.noneMessage","No fix all action available"),{include:E.yN.SourceFixAll,includeSourceActions:!0},"ifSingle")}}let Xe=(()=>{class ft extends k.R6{constructor(){super({id:ft.Id,label:be.N("autoFix.label","Auto Fix..."),alias:"Auto Fix...",precondition:fe.Ao.and(B.u.writable,dt(E.yN.QuickFix)),kbOpts:{kbExpr:B.u.editorTextFocus,primary:1620,mac:{primary:2644},weight:100}})}run(We,Ne){return Qt(Ne,be.N("editor.action.autoFix.noneMessage","No auto fixes available"),{include:E.yN.QuickFix,onlyIncludePreferredActions:!0},"ifSingle")}}return ft.Id="editor.action.autoFix",ft})()},1785:(Ct,Qe,a)=>{"use strict";a.r(Qe);var T=a(4482),U=a(528);(0,T._K)(U.pY.ID,U.pY),(0,T.Qr)(U.E7),(0,T.Qr)(U.Eb),(0,T.Qr)(U.VQ),(0,T.Qr)(U.o$),(0,T.Qr)(U.S5),(0,T.Qr)(U.Hv),(0,T.fK)(new U.dW)},672:(Ct,Qe,a)=>{"use strict";a.d(Qe,{yN:()=>T,EU:()=>U,Yl:()=>j,wZ:()=>k});class T{constructor(B){this.value=B}equals(B){return this.value===B.value}contains(B){return this.equals(B)||""===this.value||B.value.startsWith(this.value+T.sep)}intersects(B){return this.contains(B)||B.contains(this)}append(B){return new T(this.value+T.sep+B)}}function U($,B){return!($.include&&!$.include.intersects(B)||$.excludes&&$.excludes.some(R=>O(B,R,$.include))||!$.includeSourceActions&&T.Source.contains(B))}function j($,B){const R=B.kind?new T(B.kind):void 0;return!($.include&&(!R||!$.include.contains(R))||$.excludes&&R&&$.excludes.some(d=>O(R,d,$.include))||!$.includeSourceActions&&R&&T.Source.contains(R)||$.onlyIncludePreferredActions&&!B.isPreferred)}function O($,B,R){return!(!B.contains($)||R&&B.contains(R))}T.sep=".",T.None=new T("@@none@@"),T.Empty=new T(""),T.QuickFix=new T("quickfix"),T.Refactor=new T("refactor"),T.Source=new T("source"),T.SourceOrganizeImports=T.Source.append("organizeImports"),T.SourceFixAll=T.Source.append("fixAll");class k{constructor(B,R,d){this.kind=B,this.apply=R,this.preferred=d}static fromUser(B,R){return B&&"object"==typeof B?new k(k.getKindFromUser(B,R.kind),k.getApplyFromUser(B,R.apply),k.getPreferredUser(B)):new k(R.kind,R.apply,!1)}static getApplyFromUser(B,R){switch("string"==typeof B.apply?B.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return R}}static getKindFromUser(B,R){return"string"==typeof B.kind?new T(B.kind):R}static getPreferredUser(B){return"boolean"==typeof B.preferred&&B.preferred}}},6778:(Ct,Qe,a)=>{"use strict";a.r(Qe),a.d(Qe,{CodeLensContribution:()=>Pe});var T=a(7922),U=a(5160),j=a(1719),O=a(1358),k=a(4482),$=a(6412),B=a(9357),R=a(6746),d=a(1954),C=a(8896),g=a(1882),b=function(fe,Te,Ce,Je){return new(Ce||(Ce=Promise))(function(Ve,Ae){function Ee(Ue){try{Be(Je.next(Ue))}catch(ot){Ae(ot)}}function ze(Ue){try{Be(Je.throw(Ue))}catch(ot){Ae(ot)}}function Be(Ue){Ue.done?Ve(Ue.value):function(Ve){return Ve instanceof Ce?Ve:new Ce(function(Ae){Ae(Ve)})}(Ue.value).then(Ee,ze)}Be((Je=Je.apply(fe,Te||[])).next())})};class I{constructor(){this.lenses=[],this._disposables=new j.SL}dispose(){this._disposables.dispose()}add(Te,Ce){this._disposables.add(Te);for(const Je of Te.lenses)this.lenses.push({symbol:Je,provider:Ce})}}function p(fe,Te){return b(this,void 0,void 0,function*(){const Ce=$.He.ordered(fe),Je=new Map,pe=new I,Ve=Ce.map((Ae,Ee)=>b(this,void 0,void 0,function*(){Je.set(Ae,Ee);try{const ze=yield Promise.resolve(Ae.provideCodeLenses(fe,Te));ze&&pe.add(ze,Ae)}catch(ze){(0,U.Cp)(ze)}}));return yield Promise.all(Ve),pe.lenses=pe.lenses.sort((Ae,Ee)=>Ae.symbol.range.startLineNumber<Ee.symbol.range.startLineNumber?-1:Ae.symbol.range.startLineNumber>Ee.symbol.range.startLineNumber?1:Je.get(Ae.provider)<Je.get(Ee.provider)?-1:Je.get(Ae.provider)>Je.get(Ee.provider)?1:Ae.symbol.range.startColumn<Ee.symbol.range.startColumn?-1:Ae.symbol.range.startColumn>Ee.symbol.range.startColumn?1:0),pe})}C.P.registerCommand("_executeCodeLensProvider",function(fe,...Te){let[Ce,Je]=Te;(0,g.p_)(R.o.isUri(Ce)),(0,g.p_)("number"==typeof Je||!Je);const pe=fe.get(d.q).getModel(Ce);if(!pe)throw(0,U.b1)();const Ve=[],Ae=new j.SL;return p(pe,B.T.None).then(Ee=>{Ae.add(Ee);let ze=[];for(const Be of Ee.lenses)null==Je||Boolean(Be.symbol.command)?Ve.push(Be.symbol):Je-- >0&&Be.provider.resolveCodeLens&&ze.push(Promise.resolve(Be.provider.resolveCodeLens(pe,Be.symbol,B.T.None)).then(Ue=>Ve.push(Ue||Be.symbol)));return Promise.all(ze)}).then(()=>Ve).finally(()=>{setTimeout(()=>Ae.dispose(),100)})}),a(5545);var E=a(1165),S=a(8487),v=a(111),M=a(3258),_=a(7251),f=a(6803),m=a(6255);class L{constructor(Te,Ce,Je){this.afterLineNumber=Te,this.heightInPx=Ce,this._onHeight=Je,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(Te){void 0===this._lastHeight?this._lastHeight=Te:this._lastHeight!==Te&&(this._lastHeight=Te,this._onHeight())}}let F=(()=>{class fe{constructor(Ce,Je,pe){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=Ce,this._id="codelens.widget-"+fe._idPool++,this.updatePosition(pe),this._domNode=document.createElement("span"),this._domNode.className=`codelens-decoration ${Je}`}withCommands(Ce,Je){this._commands.clear();let pe=[],Ve=!1;for(let Ae=0;Ae<Ce.length;Ae++){const Ee=Ce[Ae];if(Ee&&(Ve=!0,Ee.command)){const ze=(0,m.T)(Ee.command.title.trim());Ee.command.id?(pe.push(E.$("a",{id:String(Ae),title:Ee.command.tooltip},...ze)),this._commands.set(String(Ae),Ee.command)):pe.push(E.$("span",{title:Ee.command.tooltip},...ze)),Ae+1<Ce.length&&pe.push(E.$("span",void 0,"\xa0|\xa0"))}}Ve?(E.mc(this._domNode,...pe),this._isEmpty&&Je&&this._domNode.classList.add("fadein"),this._isEmpty=!1):E.mc(this._domNode,E.$("span",void 0,"no commands"))}getCommand(Ce){return Ce.parentElement===this._domNode?this._commands.get(Ce.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(Ce){const Je=this._editor.getModel().getLineFirstNonWhitespaceColumn(Ce);this._widgetPosition={position:{lineNumber:Ce,column:Je},preference:[1]}}getPosition(){return this._widgetPosition||null}}return fe._idPool=0,fe})();class G{constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}addDecoration(Te,Ce){this._addDecorations.push(Te),this._addDecorationsCallbacks.push(Ce)}removeDecoration(Te){this._removeDecorations.push(Te)}commit(Te){let Ce=Te.deltaDecorations(this._removeDecorations,this._addDecorations);for(let Je=0,pe=Ce.length;Je<pe;Je++)this._addDecorationsCallbacks[Je](Ce[Je])}}class Y{constructor(Te,Ce,Je,pe,Ve,Ae,Ee){this._isDisposed=!1,this._editor=Ce,this._className=Je,this._data=Te,this._decorationIds=[];let ze,Be=[];this._data.forEach((Ue,ot)=>{Ue.symbol.command&&Be.push(Ue.symbol),pe.addDecoration({range:Ue.symbol.range,options:v.qx.EMPTY},vt=>this._decorationIds[ot]=vt),ze=ze?S.e.plusRange(ze,Ue.symbol.range):S.e.lift(Ue.symbol.range)}),this._viewZone=new L(ze.startLineNumber-1,Ae,Ee),this._viewZoneId=Ve.addZone(this._viewZone),Be.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(Be,!1))}_createContentWidgetIfNecessary(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new F(this._editor,this._className,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(Te,Ce){this._decorationIds.forEach(Te.removeDecoration,Te),this._decorationIds=[],Ce&&Ce.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some((Te,Ce)=>{const Je=this._editor.getModel().getDecorationRange(Te);return!(!Je||S.e.isEmpty(this._data[Ce].symbol.range)!==Je.isEmpty())})}updateCodeLensSymbols(Te,Ce){this._decorationIds.forEach(Ce.removeDecoration,Ce),this._decorationIds=[],this._data=Te,this._data.forEach((Je,pe)=>{Ce.addDecoration({range:Je.symbol.range,options:v.qx.EMPTY},Ve=>this._decorationIds[pe]=Ve)})}updateHeight(Te,Ce){this._viewZone.heightInPx=Te,Ce.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}computeIfNecessary(Te){if(!this._viewZone.domNode.hasAttribute("monaco-visible-view-zone"))return null;for(let Ce=0;Ce<this._decorationIds.length;Ce++){const Je=Te.getDecorationRange(this._decorationIds[Ce]);Je&&(this._data[Ce].symbol.range=Je)}return this._data}updateCommands(Te){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(Te,!0);for(let Ce=0;Ce<this._data.length;Ce++){const Je=Te[Ce];if(Je){const{symbol:pe}=this._data[Ce];pe.command=Je.command||pe.command}}}getCommand(Te){var Ce;return null===(Ce=this._contentWidget)||void 0===Ce?void 0:Ce.getCommand(Te)}getLineNumber(){const Te=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return Te?Te.startLineNumber:-1}update(Te){if(this.isValid()){const Ce=this._editor.getModel().getDecorationRange(this._decorationIds[0]);Ce&&(this._viewZone.afterLineNumber=Ce.startLineNumber-1,Te.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(Ce.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}getItems(){return this._data}}(0,f.Ic)((fe,Te)=>{const Ce=fe.getColor(M.Yp);Ce&&(Te.addRule(`.monaco-editor .codelens-decoration { color: ${Ce}; }`),Te.addRule(`.monaco-editor .codelens-decoration .codicon { color: ${Ce}; }`));const Je=fe.getColor(_._Y);Je&&(Te.addRule(`.monaco-editor .codelens-decoration > a:hover { color: ${Je} !important; }`),Te.addRule(`.monaco-editor .codelens-decoration > a:hover .codicon { color: ${Je} !important; }`))});var de=a(1004),le=a(4562),ce=a(4165),be=a(299),N=a(7129),V=a(3245);const ue=(0,le.yh)("ICodeLensCache");class oe{constructor(Te,Ce){this.lineCount=Te,this.data=Ce}}let ee=class{constructor(Te){this._fakeProvider=new class{provideCodeLenses(){throw new Error("not supported")}},this._cache=new be.z6(20,.75),(0,T.To)(()=>Te.remove("codelens/cache",1));const Je="codelens/cache2",pe=Te.get(Je,1,"{}");this._deserialize(pe),(0,V.I)(Te.onWillSaveState)(Ve=>{Ve.reason===N.fk.SHUTDOWN&&Te.store(Je,this._serialize(),1,1)})}put(Te,Ce){const Je=Ce.lenses.map(Ae=>{var Ee;return{range:Ae.symbol.range,command:Ae.symbol.command&&{id:"",title:null===(Ee=Ae.symbol.command)||void 0===Ee?void 0:Ee.title}}}),pe=new I;pe.add({lenses:Je,dispose:()=>{}},this._fakeProvider);const Ve=new oe(Te.getLineCount(),pe);this._cache.set(Te.uri.toString(),Ve)}get(Te){const Ce=this._cache.get(Te.uri.toString());return Ce&&Ce.lineCount===Te.getLineCount()?Ce.data:void 0}delete(Te){this._cache.delete(Te.uri.toString())}_serialize(){const Te=Object.create(null);for(const[Ce,Je]of this._cache){const pe=new Set;for(const Ve of Je.data.lenses)pe.add(Ve.symbol.range.startLineNumber);Te[Ce]={lineCount:Je.lineCount,lines:[...pe.values()]}}return JSON.stringify(Te)}_deserialize(Te){try{const Ce=JSON.parse(Te);for(const Je in Ce){const pe=Ce[Je],Ve=[];for(const Ee of pe.lines)Ve.push({range:new S.e(Ee,1,Ee,11)});const Ae=new I;Ae.add({lenses:Ve,dispose(){}},this._fakeProvider),this._cache.set(Je,new oe(pe.lineCount,Ae))}}catch(Ce){}}};var Te;ee=function(fe,Te,Ce,Je){var Ae,pe=arguments.length,Ve=pe<3?Te:null===Je?Je=Object.getOwnPropertyDescriptor(Te,Ce):Je;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ve=Reflect.decorate(fe,Te,Ce,Je);else for(var Ee=fe.length-1;Ee>=0;Ee--)(Ae=fe[Ee])&&(Ve=(pe<3?Ae(Ve):pe>3?Ae(Te,Ce,Ve):Ae(Te,Ce))||Ve);return pe>3&&Ve&&Object.defineProperty(Te,Ce,Ve),Ve}([(0,Te=N.Uy,function(Ce,Je){Te(Ce,Je,0)})],ee),(0,ce.z)(ue,ee);var K=a(3728),ne=a(3130),he=a(1606),ge=a(9549),re=a(7741),ke=function(fe,Te){return function(Ce,Je){Te(Ce,Je,fe)}};let Pe=class{constructor(Te,Ce,Je,pe){this._editor=Te,this._commandService=Ce,this._notificationService=Je,this._codeLensCache=pe,this._disposables=new j.SL,this._localToDispose=new j.SL,this._lenses=[],this._getCodeLensModelDelays=new re.Y($.He,250,2500),this._oldCodeLensModels=new j.SL,this._resolveCodeLensesDelays=new re.Y($.He,250,2500),this._resolveCodeLensesScheduler=new T.pY(()=>this._resolveCodeLensesInViewport(),this._resolveCodeLensesDelays.min),this._disposables.add(this._editor.onDidChangeModel(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeConfiguration(Ve=>{(Ve.hasChanged(40)||Ve.hasChanged(14)||Ve.hasChanged(13))&&this._updateLensStyle(),Ve.hasChanged(12)&&this._onModelChange()})),this._disposables.add($.He.onDidChange(this._onModelChange,this)),this._onModelChange(),this._styleClassName="_"+(0,K.vp)(this._editor.getId()).toString(16),this._styleElement=E.dS(E.OO(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0),this._updateLensStyle()}dispose(){var Te;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),null===(Te=this._currentCodeLensModel)||void 0===Te||Te.dispose(),this._styleElement.remove()}_getLayoutInfo(){let Ce,Te=this._editor.getOption(14);return!Te||Te<5?(Te=.9*this._editor.getOption(42)|0,Ce=this._editor.getOption(56)):Ce=Te*Math.max(1.3,this._editor.getOption(56)/this._editor.getOption(42))|0,{codeLensHeight:Ce,fontSize:Te}}_updateLensStyle(){const{codeLensHeight:Te,fontSize:Ce}=this._getLayoutInfo(),Je=this._editor.getOption(13),pe=this._editor.getOption(40),Ve=`--codelens-font-family${this._styleClassName}`,Ae=`--codelens-font-features${this._styleClassName}`;let Ee=`\n\t\t.monaco-editor .codelens-decoration.${this._styleClassName} { line-height: ${Te}px; font-size: ${Ce}px; padding-right: ${Math.round(.5*Ce)}px; font-feature-settings: var(${Ae}) }\n\t\t.monaco-editor .codelens-decoration.${this._styleClassName} span.codicon { line-height: ${Te}px; font-size: ${Ce}px; }\n\t\t`;Je&&(Ee+=`.monaco-editor .codelens-decoration.${this._styleClassName} { font-family: var(${Ve})}`),this._styleElement.textContent=Ee,this._editor.getContainerDomNode().style.setProperty(Ve,null!=Je?Je:"inherit"),this._editor.getContainerDomNode().style.setProperty(Ae,pe.fontFeatureSettings),this._editor.changeViewZones(ze=>{for(let Be of this._lenses)Be.updateHeight(Te,ze)})}_localDispose(){var Te,Ce,Je;null===(Te=this._getCodeLensModelPromise)||void 0===Te||Te.cancel(),this._getCodeLensModelPromise=void 0,null===(Ce=this._resolveCodeLensesPromise)||void 0===Ce||Ce.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),null===(Je=this._currentCodeLensModel)||void 0===Je||Je.dispose()}_onModelChange(){this._localDispose();const Te=this._editor.getModel();if(!Te||!this._editor.getOption(12))return;const Ce=this._codeLensCache.get(Te);if(Ce&&this._renderCodeLensSymbols(Ce),!$.He.has(Te))return void(Ce&&this._localToDispose.add((0,T.Vg)(()=>{const pe=this._codeLensCache.get(Te);Ce===pe&&(this._codeLensCache.delete(Te),this._onModelChange())},3e4)));for(const pe of $.He.all(Te))if("function"==typeof pe.onDidChange){let Ve=pe.onDidChange(()=>Je.schedule());this._localToDispose.add(Ve)}const Je=new T.pY(()=>{var pe;const Ve=Date.now();null===(pe=this._getCodeLensModelPromise)||void 0===pe||pe.cancel(),this._getCodeLensModelPromise=(0,T.PG)(Ae=>p(Te,Ae)),this._getCodeLensModelPromise.then(Ae=>{this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=Ae,this._codeLensCache.put(Te,Ae);const Ee=this._getCodeLensModelDelays.update(Te,Date.now()-Ve);Je.delay=Ee,this._renderCodeLensSymbols(Ae),this._resolveCodeLensesInViewport()},U.dL)},this._getCodeLensModelDelays.get(Te));this._localToDispose.add(Je),this._localToDispose.add((0,j.OF)(()=>this._resolveCodeLensesScheduler.cancel())),this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._editor.changeDecorations(pe=>{this._editor.changeViewZones(Ve=>{let Ae=[],Ee=-1;this._lenses.forEach(Be=>{Be.isValid()&&Ee!==Be.getLineNumber()?(Be.update(Ve),Ee=Be.getLineNumber()):Ae.push(Be)});let ze=new G;Ae.forEach(Be=>{Be.dispose(ze,Ve),this._lenses.splice(this._lenses.indexOf(Be),1)}),ze.commit(pe)})}),Je.schedule()})),this._localToDispose.add(this._editor.onDidFocusEditorWidget(()=>{Je.schedule()})),this._localToDispose.add(this._editor.onDidScrollChange(pe=>{pe.scrollTopChanged&&this._lenses.length>0&&this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(this._editor.onDidLayoutChange(()=>{this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add((0,j.OF)(()=>{if(this._editor.getModel()){const pe=O.ZF.capture(this._editor);this._editor.changeDecorations(Ve=>{this._editor.changeViewZones(Ae=>{this._disposeAllLenses(Ve,Ae)})}),pe.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onMouseDown(pe=>{if(9!==pe.target.type)return;let Ve=pe.target.element;if("SPAN"===(null==Ve?void 0:Ve.tagName)&&(Ve=Ve.parentElement),"A"===(null==Ve?void 0:Ve.tagName))for(const Ae of this._lenses){let Ee=Ae.getCommand(Ve);if(Ee){this._commandService.executeCommand(Ee.id,...Ee.arguments||[]).catch(ze=>this._notificationService.error(ze));break}}})),Je.schedule()}_disposeAllLenses(Te,Ce){const Je=new G;for(const pe of this._lenses)pe.dispose(Je,Ce);Te&&Je.commit(Te),this._lenses.length=0}_renderCodeLensSymbols(Te){if(!this._editor.hasModel())return;let pe,Ce=this._editor.getModel().getLineCount(),Je=[];for(let Ee of Te.lenses){let ze=Ee.symbol.range.startLineNumber;ze<1||ze>Ce||(pe&&pe[pe.length-1].symbol.range.startLineNumber===ze?pe.push(Ee):(pe=[Ee],Je.push(pe)))}const Ve=O.ZF.capture(this._editor),Ae=this._getLayoutInfo();this._editor.changeDecorations(Ee=>{this._editor.changeViewZones(ze=>{const Be=new G;let Ue=0,ot=0;for(;ot<Je.length&&Ue<this._lenses.length;){let vt=Je[ot][0].symbol.range.startLineNumber,At=this._lenses[Ue].getLineNumber();At<vt?(this._lenses[Ue].dispose(Be,ze),this._lenses.splice(Ue,1)):At===vt?(this._lenses[Ue].updateCodeLensSymbols(Je[ot],Be),ot++,Ue++):(this._lenses.splice(Ue,0,new Y(Je[ot],this._editor,this._styleClassName,Be,ze,Ae.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),Ue++,ot++)}for(;Ue<this._lenses.length;)this._lenses[Ue].dispose(Be,ze),this._lenses.splice(Ue,1);for(;ot<Je.length;)this._lenses.push(new Y(Je[ot],this._editor,this._styleClassName,Be,ze,Ae.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),ot++;Be.commit(Ee)})}),Ve.restore(this._editor)}_resolveCodeLensesInViewportSoon(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()}_resolveCodeLensesInViewport(){var Te;null===(Te=this._resolveCodeLensesPromise)||void 0===Te||Te.cancel(),this._resolveCodeLensesPromise=void 0;const Ce=this._editor.getModel();if(!Ce)return;const Je=[],pe=[];if(this._lenses.forEach(Ee=>{const ze=Ee.computeIfNecessary(Ce);ze&&(Je.push(ze),pe.push(Ee))}),0===Je.length)return;const Ve=Date.now(),Ae=(0,T.PG)(Ee=>{const ze=Je.map((Be,Ue)=>{const ot=new Array(Be.length),vt=Be.map((At,ve)=>At.symbol.command||"function"!=typeof At.provider.resolveCodeLens?(ot[ve]=At.symbol,Promise.resolve(void 0)):Promise.resolve(At.provider.resolveCodeLens(Ce,At.symbol,Ee)).then(ht=>{ot[ve]=ht},U.Cp));return Promise.all(vt).then(()=>{!Ee.isCancellationRequested&&!pe[Ue].isDisposed()&&pe[Ue].updateCommands(ot)})});return Promise.all(ze)});this._resolveCodeLensesPromise=Ae,this._resolveCodeLensesPromise.then(()=>{const Ee=this._resolveCodeLensesDelays.update(Ce,Date.now()-Ve);this._resolveCodeLensesScheduler.delay=Ee,this._currentCodeLensModel&&this._codeLensCache.put(Ce,this._currentCodeLensModel),this._oldCodeLensModels.clear(),Ae===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)},Ee=>{(0,U.dL)(Ee),Ae===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)})}getLenses(){return this._lenses}};Pe.ID="css.editor.codeLens",Pe=function(fe,Te,Ce,Je){var Ae,pe=arguments.length,Ve=pe<3?Te:null===Je?Je=Object.getOwnPropertyDescriptor(Te,Ce):Je;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ve=Reflect.decorate(fe,Te,Ce,Je);else for(var Ee=fe.length-1;Ee>=0;Ee--)(Ae=fe[Ee])&&(Ve=(pe<3?Ae(Ve):pe>3?Ae(Te,Ce,Ve):Ae(Te,Ce))||Ve);return pe>3&&Ve&&Object.defineProperty(Te,Ce,Ve),Ve}([ke(1,C.H),ke(2,de.lT),ke(3,ue)],Pe),(0,k._K)(Pe.ID,Pe),(0,k.Qr)(class extends k.R6{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:ge.u.hasCodeLensProvider,label:(0,he.N)("showLensOnLine","Show CodeLens Commands For Current Line"),alias:"Show CodeLens Commands For Current Line"})}run(Te,Ce){return function(fe,Te,Ce,Je){return new(Ce||(Ce=Promise))(function(Ve,Ae){function Ee(Ue){try{Be(Je.next(Ue))}catch(ot){Ae(ot)}}function ze(Ue){try{Be(Je.throw(Ue))}catch(ot){Ae(ot)}}function Be(Ue){Ue.done?Ve(Ue.value):function(Ve){return Ve instanceof Ce?Ve:new Ce(function(Ae){Ae(Ve)})}(Ue.value).then(Ee,ze)}Be((Je=Je.apply(fe,Te||[])).next())})}(this,void 0,void 0,function*(){if(!Ce.hasModel())return;const Je=Te.get(ne.eJ),pe=Te.get(C.H),Ve=Te.get(de.lT),Ae=Ce.getSelection().positionLineNumber,Ee=Ce.getContribution(Pe.ID),ze=[];for(let Ue of Ee.getLenses())if(Ue.getLineNumber()===Ae)for(let ot of Ue.getItems()){const{command:vt}=ot.symbol;vt&&ze.push({label:vt.title,command:vt})}if(0===ze.length)return;const Be=yield Je.pick(ze,{canPickMany:!1});if(Be)try{yield pe.executeCommand(Be.command.id,...Be.command.arguments||[])}catch(Ue){Ve.error(Ue)}})}})},6162:(Ct,Qe,a)=>{"use strict";a.d(Qe,{E:()=>R,R:()=>d});var T=a(9357),U=a(5160),j=a(6746),O=a(8487),k=a(6412),$=a(1954),B=a(8896);function R(C,g){const b=[],p=k.OH.ordered(C).reverse().map(w=>Promise.resolve(w.provideDocumentColors(C,g)).then(E=>{if(Array.isArray(E))for(let S of E)b.push({colorInfo:S,provider:w})}));return Promise.all(p).then(()=>b)}function d(C,g,b,I){return Promise.resolve(b.provideColorPresentations(C,g,I))}B.P.registerCommand("_executeDocumentColorProvider",function(C,...g){const[b]=g;if(!(b instanceof j.o))throw(0,U.b1)();const I=C.get($.q).getModel(b);if(!I)throw(0,U.b1)();const p=[],E=k.OH.ordered(I).reverse().map(S=>Promise.resolve(S.provideDocumentColors(I,T.T.None)).then(v=>{if(Array.isArray(v))for(let M of v)p.push({range:M.range,color:[M.color.red,M.color.green,M.color.blue,M.color.alpha]})}));return Promise.all(E).then(()=>p)}),B.P.registerCommand("_executeColorPresentationProvider",function(C,...g){const[b,I]=g,{uri:p,range:w}=I;if(!(p instanceof j.o&&Array.isArray(b)&&4===b.length&&O.e.isIRange(w)))throw(0,U.b1)();const[E,S,v,M]=b,_=C.get($.q).getModel(p);if(!_)throw(0,U.b1)();const f={range:w,color:{red:E,green:S,blue:v,alpha:M}},m=[],F=k.OH.ordered(_).reverse().map(G=>Promise.resolve(G.provideColorPresentations(_,f,T.T.None)).then(Y=>{Array.isArray(Y)&&m.push(...Y)}));return Promise.all(F).then(()=>m)})},2047:(Ct,Qe,a)=>{"use strict";a.r(Qe),a.d(Qe,{ColorContribution:()=>$}),a(8526);var U=a(1719),j=a(4482),O=a(33),k=a(8487);let $=(()=>{class B extends U.JT{constructor(d){super(),this._editor=d,this._register(d.onMouseDown(C=>this.onMouseDown(C)))}dispose(){super.dispose()}onMouseDown(d){var C;if(6!==d.target.type||![...(null===(C=d.target.element)||void 0===C?void 0:C.classList.values())||[]].find(p=>p.startsWith("ced-colorBox"))||!d.target.range)return;const I=this._editor.getContribution(O.ModesHoverController.ID);if(!I.isColorPickerVisible()){const p=new k.e(d.target.range.startLineNumber,d.target.range.startColumn+1,d.target.range.endLineNumber,d.target.range.endColumn+1);I.showContentHover(p,0,!1)}}}return B.ID="editor.contrib.colorContribution",B})();(0,j._K)($.ID,$)},8526:(Ct,Qe,a)=>{"use strict";a.d(Qe,{i:()=>E});var T=a(7922),U=a(3727),j=a(5160),O=a(3728),k=a(1719),$=a(4482),B=a(3779),R=a(8487),d=a(111),C=a(6412),g=a(6162),b=a(9040),p=function(S,v){return function(M,_){v(M,_,S)}};let E=class DR extends k.JT{constructor(v,M,_){super(),this._editor=v,this._codeEditorService=M,this._configurationService=_,this._localToDispose=this._register(new k.SL),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=[],this._decorationsTypes=new Set,this._register(v.onDidChangeModel(()=>{this._isEnabled=this.isEnabled(),this.onModelChanged()})),this._register(v.onDidChangeModelLanguage(()=>this.onModelChanged())),this._register(C.OH.onDidChange(()=>this.onModelChanged())),this._register(v.onDidChangeConfiguration(()=>{let f=this._isEnabled;this._isEnabled=this.isEnabled(),f!==this._isEnabled&&(this._isEnabled?this.onModelChanged():this.removeAllDecorations())})),this._timeoutTimer=null,this._computePromise=null,this._isEnabled=this.isEnabled(),this.onModelChanged()}isEnabled(){const v=this._editor.getModel();if(!v)return!1;const M=v.getLanguageIdentifier(),_=this._configurationService.getValue(M.language);if(_){const f=_.colorDecorators;if(f&&void 0!==f.enable&&!f.enable)return f.enable}return this._editor.getOption(15)}static get(v){return v.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}onModelChanged(){if(this.stop(),!this._isEnabled)return;const v=this._editor.getModel();!v||!C.OH.has(v)||(this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._timeoutTimer||(this._timeoutTimer=new T._F,this._timeoutTimer.cancelAndSet(()=>{this._timeoutTimer=null,this.beginCompute()},DR.RECOMPUTE_TIME))})),this.beginCompute())}beginCompute(){this._computePromise=(0,T.PG)(v=>{const M=this._editor.getModel();return M?(0,g.E)(M,v):Promise.resolve([])}),this._computePromise.then(v=>{this.updateDecorations(v),this.updateColorDecorators(v),this._computePromise=null},j.dL)}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(v){const M=v.map(_=>({range:{startLineNumber:_.colorInfo.range.startLineNumber,startColumn:_.colorInfo.range.startColumn,endLineNumber:_.colorInfo.range.endLineNumber,endColumn:_.colorInfo.range.endColumn},options:d.qx.EMPTY}));this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,M),this._colorDatas=new Map,this._decorationsIds.forEach((_,f)=>this._colorDatas.set(_,v[f]))}updateColorDecorators(v){let M=[],_={};for(let f=0;f<v.length&&M.length<500;f++){const{red:m,green:L,blue:F,alpha:G}=v[f].colorInfo.color,Y=new U.VS(Math.round(255*m),Math.round(255*L),Math.round(255*F),G);let de=(0,O.vp)(`rgba(${Y.r},${Y.g},${Y.b},${Y.a})`).toString(16),le=`rgba(${Y.r}, ${Y.g}, ${Y.b}, ${Y.a})`,ce="colorBox-"+de;!this._decorationsTypes.has(ce)&&!_[ce]&&this._codeEditorService.registerDecorationType("color-detector-color",ce,{before:{contentText:" ",border:"solid 0.1em #000",margin:"0.1em 0.2em 0 0.2em",width:"0.8em",height:"0.8em",backgroundColor:le},dark:{before:{border:"solid 0.1em #eee"}}},void 0,this._editor),_[ce]=!0,M.push({range:{startLineNumber:v[f].colorInfo.range.startLineNumber,startColumn:v[f].colorInfo.range.startColumn,endLineNumber:v[f].colorInfo.range.endLineNumber,endColumn:v[f].colorInfo.range.endColumn},options:this._codeEditorService.resolveDecorationOptions(ce,!0)})}this._decorationsTypes.forEach(f=>{_[f]||this._codeEditorService.removeDecorationType(f)}),this._colorDecoratorIds=this._editor.deltaDecorations(this._colorDecoratorIds,M)}removeAllDecorations(){this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,[]),this._colorDecoratorIds=this._editor.deltaDecorations(this._colorDecoratorIds,[]),this._decorationsTypes.forEach(v=>{this._codeEditorService.removeDecorationType(v)})}getColorData(v){const M=this._editor.getModel();if(!M)return null;const _=M.getDecorationsInRange(R.e.fromPositions(v,v)).filter(f=>this._colorDatas.has(f.id));return 0===_.length?null:this._colorDatas.get(_[0].id)}};E.ID="editor.contrib.colorDetector",E.RECOMPUTE_TIME=1e3,E=function(S,v,M,_){var L,f=arguments.length,m=f<3?v:null===_?_=Object.getOwnPropertyDescriptor(v,M):_;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)m=Reflect.decorate(S,v,M,_);else for(var F=S.length-1;F>=0;F--)(L=S[F])&&(m=(f<3?L(m):f>3?L(v,M,m):L(v,M))||m);return f>3&&m&&Object.defineProperty(v,M,m),m}([p(1,B.$),p(2,b.Ui)],E),(0,$._K)(E.ID,E)},8864:(Ct,Qe,a)=>{"use strict";a.r(Qe);var T=a(1606),U=a(4807),j=a(4482),O=a(8487),k=a(9549),$=a(7900),B=a(2109),R=a(9730),d=a(2587);class C{constructor(_,f){this._selection=_,this._insertSpace=f,this._usedEndToken=null}static _haystackHasNeedleAtOffset(_,f,m){if(m<0)return!1;const L=f.length;if(m+L>_.length)return!1;for(let G=0;G<L;G++){const Y=_.charCodeAt(m+G),de=f.charCodeAt(G);if(!(Y===de||Y>=65&&Y<=90&&Y+32===de||de>=65&&de<=90&&de+32===Y))return!1}return!0}_createOperationsForBlockComment(_,f,m,L,F,G){const Y=_.startLineNumber,de=_.startColumn,le=_.endLineNumber,ce=_.endColumn,be=F.getLineContent(Y),N=F.getLineContent(le);let ie,V=be.lastIndexOf(f,de-1+f.length),Z=N.indexOf(m,ce-1-m.length);if(-1!==V&&-1!==Z)if(Y===le)be.substring(V+f.length,Z).indexOf(m)>=0&&(V=-1,Z=-1);else{const ue=be.substring(V+f.length),oe=N.substring(0,Z);(ue.indexOf(m)>=0||oe.indexOf(m)>=0)&&(V=-1,Z=-1)}-1!==V&&-1!==Z?(L&&V+f.length<be.length&&32===be.charCodeAt(V+f.length)&&(f+=" "),L&&Z>0&&32===N.charCodeAt(Z-1)&&(m=" "+m,Z-=1),ie=C._createRemoveBlockCommentOperations(new O.e(Y,V+f.length+1,le,Z+1),f,m)):(ie=C._createAddBlockCommentOperations(_,f,m,this._insertSpace),this._usedEndToken=1===ie.length?m:null);for(const ue of ie)G.addTrackedEditOperation(ue.range,ue.text)}static _createRemoveBlockCommentOperations(_,f,m){let L=[];return O.e.isEmpty(_)?L.push($.h.delete(new O.e(_.startLineNumber,_.startColumn-f.length,_.endLineNumber,_.endColumn+m.length))):(L.push($.h.delete(new O.e(_.startLineNumber,_.startColumn-f.length,_.startLineNumber,_.startColumn))),L.push($.h.delete(new O.e(_.endLineNumber,_.endColumn,_.endLineNumber,_.endColumn+m.length)))),L}static _createAddBlockCommentOperations(_,f,m,L){let F=[];return O.e.isEmpty(_)?F.push($.h.replace(new O.e(_.startLineNumber,_.startColumn,_.endLineNumber,_.endColumn),f+"  "+m)):(F.push($.h.insert(new B.L(_.startLineNumber,_.startColumn),f+(L?" ":""))),F.push($.h.insert(new B.L(_.endLineNumber,_.endColumn),(L?" ":"")+m))),F}getEditOperations(_,f){const m=this._selection.startLineNumber,L=this._selection.startColumn;_.tokenizeIfCheap(m);const F=_.getLanguageIdAtPosition(m,L),G=d.zu.getComments(F);!G||!G.blockCommentStartToken||!G.blockCommentEndToken||this._createOperationsForBlockComment(this._selection,G.blockCommentStartToken,G.blockCommentEndToken,this._insertSpace,_,f)}computeCursorState(_,f){const m=f.getInverseEditOperations();if(2===m.length){const L=m[0],F=m[1];return new R.Y(L.range.endLineNumber,L.range.endColumn,F.range.startLineNumber,F.range.startColumn)}{const L=m[0].range,F=this._usedEndToken?-this._usedEndToken.length-1:0;return new R.Y(L.endLineNumber,L.endColumn+F,L.endLineNumber,L.endColumn+F)}}}var g=a(579);class b{constructor(_,f,m,L,F,G){this._selection=_,this._tabSize=f,this._type=m,this._insertSpace=L,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=F,this._ignoreFirstLine=G||!1}static _gatherPreflightCommentStrings(_,f,m){_.tokenizeIfCheap(f);const L=_.getLanguageIdAtPosition(f,1),F=d.zu.getComments(L),G=F?F.lineCommentToken:null;if(!G)return null;let Y=[];for(let de=0,le=m-f+1;de<le;de++)Y[de]={ignore:!1,commentStr:G,commentStrOffset:0,commentStrLength:G.length};return Y}static _analyzeLines(_,f,m,L,F,G,Y){let le,de=!0;le=0===_||1!==_;for(let ce=0,be=L.length;ce<be;ce++){const N=L[ce],V=F+ce;if(V===F&&Y){N.ignore=!0;continue}const Z=m.getLineContent(V),ie=g.LC(Z);if(-1!==ie){if(de=!1,N.ignore=!1,N.commentStrOffset=ie,le&&!C._haystackHasNeedleAtOffset(Z,N.commentStr,ie)&&(0===_?le=!1:1===_||(N.ignore=!0)),le&&f){const ue=ie+N.commentStrLength;ue<Z.length&&32===Z.charCodeAt(ue)&&(N.commentStrLength+=1)}}else N.ignore=G,N.commentStrOffset=Z.length}if(0===_&&de){le=!1;for(let ce=0,be=L.length;ce<be;ce++)L[ce].ignore=!1}return{supported:!0,shouldRemoveComments:le,lines:L}}static _gatherPreflightData(_,f,m,L,F,G,Y){const de=b._gatherPreflightCommentStrings(m,L,F);return null===de?{supported:!1}:b._analyzeLines(_,f,m,de,L,G,Y)}_executeLineComments(_,f,m,L){let F;m.shouldRemoveComments?F=b._createRemoveLineCommentsOperations(m.lines,L.startLineNumber):(b._normalizeInsertionPoint(_,m.lines,L.startLineNumber,this._tabSize),F=this._createAddLineCommentsOperations(m.lines,L.startLineNumber));const G=new B.L(L.positionLineNumber,L.positionColumn);for(let Y=0,de=F.length;Y<de;Y++)f.addEditOperation(F[Y].range,F[Y].text),O.e.isEmpty(F[Y].range)&&O.e.getStartPosition(F[Y].range).equals(G)&&_.getLineContent(G.lineNumber).length+1===G.column&&(this._deltaColumn=(F[Y].text||"").length);this._selectionId=f.trackSelection(L)}_attemptRemoveBlockComment(_,f,m,L){let F=f.startLineNumber,G=f.endLineNumber,Y=L.length+Math.max(_.getLineFirstNonWhitespaceColumn(f.startLineNumber),f.startColumn),de=_.getLineContent(F).lastIndexOf(m,Y-1),le=_.getLineContent(G).indexOf(L,f.endColumn-1-m.length);return-1!==de&&-1===le&&(le=_.getLineContent(F).indexOf(L,de+m.length),G=F),-1===de&&-1!==le&&(de=_.getLineContent(G).lastIndexOf(m,le),F=G),f.isEmpty()&&(-1===de||-1===le)&&(de=_.getLineContent(F).indexOf(m),-1!==de&&(le=_.getLineContent(F).indexOf(L,de+m.length))),-1!==de&&32===_.getLineContent(F).charCodeAt(de+m.length)&&(m+=" "),-1!==le&&32===_.getLineContent(G).charCodeAt(le-1)&&(L=" "+L,le-=1),-1!==de&&-1!==le?C._createRemoveBlockCommentOperations(new O.e(F,de+m.length+1,G,le+1),m,L):null}_executeBlockComment(_,f,m){_.tokenizeIfCheap(m.startLineNumber);let L=_.getLanguageIdAtPosition(m.startLineNumber,1),F=d.zu.getComments(L);if(!F||!F.blockCommentStartToken||!F.blockCommentEndToken)return;const G=F.blockCommentStartToken,Y=F.blockCommentEndToken;let de=this._attemptRemoveBlockComment(_,m,G,Y);if(!de){if(m.isEmpty()){const le=_.getLineContent(m.startLineNumber);let ce=g.LC(le);-1===ce&&(ce=le.length),de=C._createAddBlockCommentOperations(new O.e(m.startLineNumber,ce+1,m.startLineNumber,le.length+1),G,Y,this._insertSpace)}else de=C._createAddBlockCommentOperations(new O.e(m.startLineNumber,_.getLineFirstNonWhitespaceColumn(m.startLineNumber),m.endLineNumber,_.getLineMaxColumn(m.endLineNumber)),G,Y,this._insertSpace);1===de.length&&(this._deltaColumn=G.length+1)}this._selectionId=f.trackSelection(m);for(const le of de)f.addEditOperation(le.range,le.text)}getEditOperations(_,f){let m=this._selection;if(this._moveEndPositionDown=!1,m.startLineNumber===m.endLineNumber&&this._ignoreFirstLine)return f.addEditOperation(new O.e(m.startLineNumber,_.getLineMaxColumn(m.startLineNumber),m.startLineNumber+1,1),m.startLineNumber===_.getLineCount()?"":"\n"),void(this._selectionId=f.trackSelection(m));m.startLineNumber<m.endLineNumber&&1===m.endColumn&&(this._moveEndPositionDown=!0,m=m.setEndPosition(m.endLineNumber-1,_.getLineMaxColumn(m.endLineNumber-1)));const L=b._gatherPreflightData(this._type,this._insertSpace,_,m.startLineNumber,m.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine);return L.supported?this._executeLineComments(_,f,L,m):this._executeBlockComment(_,f,m)}computeCursorState(_,f){let m=f.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(m=m.setEndPosition(m.endLineNumber+1,1)),new R.Y(m.selectionStartLineNumber,m.selectionStartColumn+this._deltaColumn,m.positionLineNumber,m.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(_,f){let m=[];for(let L=0,F=_.length;L<F;L++){const G=_[L];G.ignore||m.push($.h.delete(new O.e(f+L,G.commentStrOffset+1,f+L,G.commentStrOffset+G.commentStrLength+1)))}return m}_createAddLineCommentsOperations(_,f){let m=[];const L=this._insertSpace?" ":"";for(let F=0,G=_.length;F<G;F++){const Y=_[F];Y.ignore||m.push($.h.insert(new B.L(f+F,Y.commentStrOffset+1),Y.commentStr+L))}return m}static nextVisibleColumn(_,f,m,L){return m?_+(f-_%f):_+L}static _normalizeInsertionPoint(_,f,m,L){let G,Y,F=1073741824;for(let de=0,le=f.length;de<le;de++){if(f[de].ignore)continue;const ce=_.getLineContent(m+de);let be=0;for(let N=0,V=f[de].commentStrOffset;be<F&&N<V;N++)be=b.nextVisibleColumn(be,L,9===ce.charCodeAt(N),1);be<F&&(F=be)}F=Math.floor(F/L)*L;for(let de=0,le=f.length;de<le;de++){if(f[de].ignore)continue;const ce=_.getLineContent(m+de);let be=0;for(G=0,Y=f[de].commentStrOffset;be<F&&G<Y;G++)be=b.nextVisibleColumn(be,L,9===ce.charCodeAt(G),1);f[de].commentStrOffset=be>F?G-1:G}}}var I=a(2836);class p extends j.R6{constructor(_,f){super(f),this._type=_}run(_,f){if(!f.hasModel())return;const L=[],F=f.getModel().getOptions(),G=f.getOption(17),Y=f.getSelections().map((le,ce)=>({selection:le,index:ce,ignoreFirstLine:!1}));Y.sort((le,ce)=>O.e.compareRangesUsingStarts(le.selection,ce.selection));let de=Y[0];for(let le=1;le<Y.length;le++){const ce=Y[le];de.selection.endLineNumber===ce.selection.startLineNumber&&(de.index<ce.index?ce.ignoreFirstLine=!0:(de.ignoreFirstLine=!0,de=ce))}for(const le of Y)L.push(new b(le.selection,F.tabSize,this._type,G.insertSpace,G.ignoreEmptyLines,le.ignoreFirstLine));f.pushUndoStop(),f.executeCommands(this.id,L),f.pushUndoStop()}}(0,j.Qr)(class extends p{constructor(){super(0,{id:"editor.action.commentLine",label:T.N("comment.line","Toggle Line Comment"),alias:"Toggle Line Comment",precondition:k.u.writable,kbOpts:{kbExpr:k.u.editorTextFocus,primary:2133,weight:100},menuOpts:{menuId:I.eH.MenubarEditMenu,group:"5_insert",title:T.N({key:"miToggleLineComment",comment:["&& denotes a mnemonic"]},"&&Toggle Line Comment"),order:1}})}}),(0,j.Qr)(class extends p{constructor(){super(1,{id:"editor.action.addCommentLine",label:T.N("comment.line.add","Add Line Comment"),alias:"Add Line Comment",precondition:k.u.writable,kbOpts:{kbExpr:k.u.editorTextFocus,primary:(0,U.gx)(2089,2081),weight:100}})}}),(0,j.Qr)(class extends p{constructor(){super(2,{id:"editor.action.removeCommentLine",label:T.N("comment.line.remove","Remove Line Comment"),alias:"Remove Line Comment",precondition:k.u.writable,kbOpts:{kbExpr:k.u.editorTextFocus,primary:(0,U.gx)(2089,2099),weight:100}})}}),(0,j.Qr)(class extends j.R6{constructor(){super({id:"editor.action.blockComment",label:T.N("comment.block","Toggle Block Comment"),alias:"Toggle Block Comment",precondition:k.u.writable,kbOpts:{kbExpr:k.u.editorTextFocus,primary:1567,linux:{primary:3103},weight:100},menuOpts:{menuId:I.eH.MenubarEditMenu,group:"5_insert",title:T.N({key:"miToggleBlockComment",comment:["&& denotes a mnemonic"]},"Toggle &&Block Comment"),order:2}})}run(_,f){if(!f.hasModel())return;const m=f.getOption(17),L=[],F=f.getSelections();for(const G of F)L.push(new C(G,m.insertSpace));f.pushUndoStop(),f.executeCommands(this.id,L),f.pushUndoStop()}})},8754:(Ct,Qe,a)=>{"use strict";a.r(Qe),a.d(Qe,{ContextMenuController:()=>w});var T=a(1606),U=a(1165),j=a(7513),O=a(1719),k=a(4482),$=a(9549),B=a(2836),R=a(2844),d=a(652),C=a(3012),g=a(1403),b=a(9190),p=function(S,v){return function(M,_){v(M,_,S)}};let w=class LR{constructor(v,M,_,f,m,L){this._contextMenuService=M,this._contextViewService=_,this._contextKeyService=f,this._keybindingService=m,this._menuService=L,this._toDispose=new O.SL,this._contextMenuIsBeingShownCount=0,this._editor=v,this._toDispose.add(this._editor.onContextMenu(F=>this._onContextMenu(F))),this._toDispose.add(this._editor.onMouseWheel(F=>{if(this._contextMenuIsBeingShownCount>0){const G=this._contextViewService.getContextViewElement(),Y=F.srcElement;Y.shadowRoot&&U.Ay(G)===Y.shadowRoot||this._contextViewService.hideContextView()}})),this._toDispose.add(this._editor.onKeyDown(F=>{58===F.keyCode&&(F.preventDefault(),F.stopPropagation(),this.showContextMenu())}))}static get(v){return v.getContribution(LR.ID)}_onContextMenu(v){if(!this._editor.hasModel())return;if(!this._editor.getOption(18))return this._editor.focus(),void(v.target.position&&!this._editor.getSelection().containsPosition(v.target.position)&&this._editor.setPosition(v.target.position));if(12===v.target.type||(v.event.preventDefault(),6!==v.target.type&&7!==v.target.type&&1!==v.target.type))return;if(this._editor.focus(),v.target.position){let _=!1;for(const f of this._editor.getSelections())if(f.containsPosition(v.target.position)){_=!0;break}_||this._editor.setPosition(v.target.position)}let M=null;1!==v.target.type&&(M={x:v.event.posx-1,width:2,y:v.event.posy-1,height:2}),this.showContextMenu(M)}showContextMenu(v){if(!this._editor.getOption(18)||!this._editor.hasModel())return;if(!this._contextMenuService)return void this._editor.focus();const M=this._getMenuActions(this._editor.getModel(),this._editor.isSimpleWidget?B.eH.SimpleEditorContext:B.eH.EditorContext);M.length>0&&this._doShowContextMenu(M,v)}_getMenuActions(v,M){const _=[],f=this._menuService.createMenu(M,this._contextKeyService),m=f.getActions({arg:v.uri});f.dispose();for(let L of m){const[,F]=L;let G=0;for(const Y of F)if(Y instanceof B.NZ){const de=this._getMenuActions(v,Y.item.submenu);de.length>0&&(_.push(new j.wY(Y.id,Y.label,de)),G++)}else _.push(Y),G++;G&&_.push(new j.Z0)}return _.length&&_.pop(),_}_doShowContextMenu(v,M=null){if(!this._editor.hasModel())return;const _=this._editor.getOption(50);if(this._editor.updateOptions({hover:{enabled:!1}}),!M){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();const m=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),L=U.i(this._editor.getDomNode());M={x:L.left+m.left,y:L.top+m.top+m.height}}const f=this._editor.getOption(112)&&!b.gn;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:f?this._editor.getDomNode():void 0,getAnchor:()=>M,getActions:()=>v,getActionViewItem:m=>{const L=this._keybindingFor(m);return L?new g.g(m,m,{label:!0,keybinding:L.getLabel(),isMenu:!0}):"function"==typeof m.getActionViewItem?m.getActionViewItem():new g.g(m,m,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:m=>this._keybindingFor(m),onHide:m=>{this._contextMenuIsBeingShownCount--,this._editor.focus(),this._editor.updateOptions({hover:_})}})}_keybindingFor(v){return this._keybindingService.lookupKeybinding(v.id)}dispose(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}};w.ID="editor.contrib.contextmenu",w=function(S,v,M,_){var L,f=arguments.length,m=f<3?v:null===_?_=Object.getOwnPropertyDescriptor(v,M):_;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)m=Reflect.decorate(S,v,M,_);else for(var F=S.length-1;F>=0;F--)(L=S[F])&&(m=(f<3?L(m):f>3?L(v,M,m):L(v,M))||m);return f>3&&m&&Object.defineProperty(v,M,m),m}([p(1,d.i),p(2,d.u),p(3,R.i6),p(4,C.d),p(5,B.co)],w),(0,k._K)(w.ID,w),(0,k.Qr)(class extends k.R6{constructor(){super({id:"editor.action.showContextMenu",label:T.N("action.showContextMenu.label","Show Editor Context Menu"),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:$.u.textInputFocus,primary:1092,weight:100}})}run(v,M){w.get(M).showContextMenu()}})},7180:(Ct,Qe,a)=>{"use strict";a.r(Qe),a.d(Qe,{CursorUndoRedoController:()=>B,CursorUndo:()=>R,CursorRedo:()=>d});var T=a(1606),U=a(1719),j=a(4482),O=a(9549);class k{constructor(g){this.selections=g}equals(g){const b=this.selections.length;if(b!==g.selections.length)return!1;for(let p=0;p<b;p++)if(!this.selections[p].equalsSelection(g.selections[p]))return!1;return!0}}class ${constructor(g,b,I){this.cursorState=g,this.scrollTop=b,this.scrollLeft=I}}let B=(()=>{class C extends U.JT{constructor(b){super(),this._editor=b,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(b.onDidChangeModel(I=>{this._undoStack=[],this._redoStack=[]})),this._register(b.onDidChangeModelContent(I=>{this._undoStack=[],this._redoStack=[]})),this._register(b.onDidChangeCursorSelection(I=>{if(this._isCursorUndoRedo||!I.oldSelections||I.oldModelVersionId!==I.modelVersionId)return;const p=new k(I.oldSelections);this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(p)||(this._undoStack.push(new $(p,b.getScrollTop(),b.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())}))}static get(b){return b.getContribution(C.ID)}cursorUndo(){!this._editor.hasModel()||0===this._undoStack.length||(this._redoStack.push(new $(new k(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){!this._editor.hasModel()||0===this._redoStack.length||(this._undoStack.push(new $(new k(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(b){this._isCursorUndoRedo=!0,this._editor.setSelections(b.cursorState.selections),this._editor.setScrollPosition({scrollTop:b.scrollTop,scrollLeft:b.scrollLeft}),this._isCursorUndoRedo=!1}}return C.ID="editor.contrib.cursorUndoRedoController",C})();class R extends j.R6{constructor(){super({id:"cursorUndo",label:T.N("cursor.undo","Cursor Undo"),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:O.u.textInputFocus,primary:2099,weight:100}})}run(g,b,I){B.get(b).cursorUndo()}}class d extends j.R6{constructor(){super({id:"cursorRedo",label:T.N("cursor.redo","Cursor Redo"),alias:"Cursor Redo",precondition:void 0})}run(g,b,I){B.get(b).cursorRedo()}}(0,j._K)(B.ID,B),(0,j.Qr)(R),(0,j.Qr)(d)},3026:(Ct,Qe,a)=>{"use strict";a.r(Qe),a.d(Qe,{DragAndDropController:()=>g}),a(8248);var U=a(1719),j=a(9190),O=a(4482),k=a(2109),$=a(8487),B=a(9730);class R{constructor(I,p,w){this.selection=I,this.targetPosition=p,this.copy=w,this.targetSelection=null}getEditOperations(I,p){let w=I.getValueInRange(this.selection);this.copy||p.addEditOperation(this.selection,null),p.addEditOperation(new $.e(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),w),this.targetSelection=!this.selection.containsPosition(this.targetPosition)||this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition))?this.copy?new B.Y(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.targetPosition.lineNumber>this.selection.endLineNumber?new B.Y(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.targetPosition.lineNumber<this.selection.endLineNumber?new B.Y(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.selection.endColumn<=this.targetPosition.column?new B.Y(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column-this.selection.endColumn+this.selection.startColumn,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):new B.Y(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn):this.selection}computeCursorState(I,p){return this.targetSelection}}var d=a(111);function C(b){return j.dz?b.altKey:b.ctrlKey}class g extends U.JT{constructor(I){super(),this._editor=I,this._register(this._editor.onMouseDown(p=>this._onEditorMouseDown(p))),this._register(this._editor.onMouseUp(p=>this._onEditorMouseUp(p))),this._register(this._editor.onMouseDrag(p=>this._onEditorMouseDrag(p))),this._register(this._editor.onMouseDrop(p=>this._onEditorMouseDrop(p))),this._register(this._editor.onMouseDropCanceled(()=>this._onEditorMouseDropCanceled())),this._register(this._editor.onKeyDown(p=>this.onEditorKeyDown(p))),this._register(this._editor.onKeyUp(p=>this.onEditorKeyUp(p))),this._register(this._editor.onDidBlurEditorWidget(()=>this.onEditorBlur())),this._register(this._editor.onDidBlurEditorText(()=>this.onEditorBlur())),this._dndDecorationIds=[],this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(I){!this._editor.getOption(29)||this._editor.getOption(16)||(C(I)&&(this._modifierPressed=!0),this._mouseDown&&C(I)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(I){!this._editor.getOption(29)||this._editor.getOption(16)||(C(I)&&(this._modifierPressed=!1),this._mouseDown&&I.keyCode===g.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(I){this._mouseDown=!0}_onEditorMouseUp(I){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(I){let p=I.target;if(null===this._dragSelection){let E=(this._editor.getSelections()||[]).filter(S=>p.position&&S.containsPosition(p.position));if(1!==E.length)return;this._dragSelection=E[0]}C(I.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),p.position&&(this._dragSelection.containsPosition(p.position)?this._removeDecoration():this.showAt(p.position))}_onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}_onEditorMouseDrop(I){if(I.target&&(this._hitContent(I.target)||this._hitMargin(I.target))&&I.target.position){let p=new k.L(I.target.position.lineNumber,I.target.position.column);if(null===this._dragSelection){let w=null;if(I.event.shiftKey){let E=this._editor.getSelection();if(E){const{selectionStartLineNumber:S,selectionStartColumn:v}=E;w=[new B.Y(S,v,p.lineNumber,p.column)]}}else w=(this._editor.getSelections()||[]).map(E=>E.containsPosition(p)?new B.Y(p.lineNumber,p.column,p.lineNumber,p.column):E);this._editor.setSelections(w||[],"mouse",3)}else(!this._dragSelection.containsPosition(p)||(C(I.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(p)||this._dragSelection.getStartPosition().equals(p)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(g.ID,new R(this._dragSelection,p,C(I.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}showAt(I){let p=[{range:new $.e(I.lineNumber,I.column,I.lineNumber,I.column),options:g._DECORATION_OPTIONS}];this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,p),this._editor.revealPosition(I,1)}_removeDecoration(){this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,[])}_hitContent(I){return 6===I.type||7===I.type}_hitMargin(I){return 2===I.type||3===I.type||4===I.type}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}}g.ID="editor.contrib.dragAndDrop",g.TRIGGER_KEY_VALUE=j.dz?6:5,g._DECORATION_OPTIONS=d.qx.register({description:"dnd-target",className:"dnd-target"}),(0,O._K)(g.ID,g)},5082:(Ct,Qe,a)=>{"use strict";a.r(Qe),a.d(Qe,{getDocumentSymbols:()=>d});var T=a(6746),U=a(1954),j=a(9357),O=a(4128),k=a(5210),$=a(8896),B=a(1882),R=function(C,g,b,I){return new(b||(b=Promise))(function(w,E){function S(_){try{M(I.next(_))}catch(f){E(f)}}function v(_){try{M(I.throw(_))}catch(f){E(f)}}function M(_){_.done?w(_.value):function(w){return w instanceof b?w:new b(function(E){E(w)})}(_.value).then(S,v)}M((I=I.apply(C,g||[])).next())})};function d(C,g,b){return R(this,void 0,void 0,function*(){const I=yield k.C3.create(C,b);return g?I.asListOfDocumentSymbols():I.getTopLevelSymbols()})}$.P.registerCommand("_executeDocumentSymbolProvider",function(C,...g){return R(this,void 0,void 0,function*(){const[b]=g;(0,B.p_)(T.o.isUri(b));const I=C.get(U.q).getModel(b);if(I)return d(I,!1,j.T.None);const p=yield C.get(O.S).createModelReference(b);try{return yield d(p.object.textEditorModel,!1,j.T.None)}finally{p.dispose()}})})},5210:(Ct,Qe,a)=>{"use strict";a.d(Qe,{C3:()=>b});var T=a(2291),U=a(9357),j=a(5160),O=a(299),k=a(8487),$=a(6412),B=a(5539),R=a(7741);class d{remove(){this.parent&&this.parent.children.delete(this.id)}static findId(p,w){let E;"string"==typeof p?E=`${w.id}/${p}`:(E=`${w.id}/${p.name}`,void 0!==w.children.get(E)&&(E=`${w.id}/${p.name}_${p.range.startLineNumber}_${p.range.startColumn}`));let S=E;for(let v=0;void 0!==w.children.get(S);v++)S=`${E}_${v}`;return S}static empty(p){return 0===p.children.size}}class C extends d{constructor(p,w,E){super(),this.id=p,this.parent=w,this.symbol=E,this.children=new Map}}class g extends d{constructor(p,w,E,S){super(),this.id=p,this.parent=w,this.label=E,this.order=S,this.children=new Map}}class b extends d{constructor(p){super(),this.uri=p,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}static create(p,w){let E=this._keys.for(p,!0),S=b._requests.get(E);if(!S){let v=new U.A;S={promiseCnt:0,source:v,promise:b._create(p,v.token),model:void 0},b._requests.set(E,S);const M=Date.now();S.promise.then(()=>{this._requestDurations.update(p,Date.now()-M)})}return S.model?Promise.resolve(S.model):(S.promiseCnt+=1,w.onCancellationRequested(()=>{0==--S.promiseCnt&&(S.source.cancel(),b._requests.delete(E))}),new Promise((v,M)=>{S.promise.then(_=>{S.model=_,v(_)},_=>{b._requests.delete(E),M(_)})}))}static _create(p,w){const E=new U.A(w),S=new b(p.uri),v=$.vJ.ordered(p),M=v.map((f,m)=>{var L;let F=d.findId(`provider_${m}`,S),G=new g(F,S,null!==(L=f.displayName)&&void 0!==L?L:"Unknown Outline Provider",m);return Promise.resolve(f.provideDocumentSymbols(p,E.token)).then(Y=>{for(const de of Y||[])b._makeOutlineElement(de,G);return G},Y=>((0,j.Cp)(Y),G)).then(Y=>{d.empty(Y)?Y.remove():S._groups.set(F,Y)})}),_=$.vJ.onDidChange(()=>{const f=$.vJ.ordered(p);(0,T.fS)(f,v)||E.cancel()});return Promise.all(M).then(()=>E.token.isCancellationRequested&&!w.isCancellationRequested?b._create(p,w):S._compact()).finally(()=>{_.dispose()})}static _makeOutlineElement(p,w){let E=d.findId(p,w),S=new C(E,w,p);if(p.children)for(const v of p.children)b._makeOutlineElement(v,S);w.children.set(S.id,S)}_compact(){let p=0;for(const[w,E]of this._groups)0===E.children.size?this._groups.delete(w):p+=1;if(1!==p)this.children=this._groups;else{let w=B.$.first(this._groups.values());for(let[,E]of w.children)E.parent=this,this.children.set(E.id,E)}return this}getTopLevelSymbols(){const p=[];for(const w of this.children.values())w instanceof C?p.push(w.symbol):p.push(...B.$.map(w.children.values(),E=>E.symbol));return p.sort((w,E)=>k.e.compareRangesUsingStarts(w.range,E.range))}asListOfDocumentSymbols(){const p=this.getTopLevelSymbols(),w=[];return b._flattenDocumentSymbols(w,p,""),w.sort((E,S)=>k.e.compareRangesUsingStarts(E.range,S.range))}static _flattenDocumentSymbols(p,w,E){for(const S of w)p.push({kind:S.kind,tags:S.tags,name:S.name,detail:S.detail,containerName:S.containerName||E,range:S.range,selectionRange:S.selectionRange,children:void 0}),S.children&&b._flattenDocumentSymbols(p,S.children,S.name)}}b._requestDurations=new R.Y($.vJ,350),b._requests=new O.z6(9,.75),b._keys=new class{constructor(){this._counter=1,this._data=new WeakMap}for(I,p){return`${I.id}/${p?I.getVersionId():""}/${this._hash($.vJ.all(I))}`}_hash(I){let p="";for(const w of I){let E=this._data.get(w);void 0===E&&(E=this._counter++,this._data.set(w,E)),p+=E}return p}}},9638:(Ct,Qe,a)=>{"use strict";a.r(Qe),a.d(Qe,{CommonFindController:()=>Yt,FindController:()=>tn,MatchFindAction:()=>An,NextMatchFindAction:()=>Bn,NextSelectionMatchFindAction:()=>fi,PreviousMatchFindAction:()=>kn,PreviousSelectionMatchFindAction:()=>hn,SelectionMatchFindAction:()=>qn,StartFindAction:()=>un,StartFindReplaceAction:()=>Ze,StartFindWithSelectionAction:()=>Cn,getSelectionSearchString:()=>en});var T=a(1606),U=a(7922),j=a(1719),O=a(579),k=a(4482),$=a(9549),B=a(8571),R=a(2109),d=a(8487),C=a(9730),g=a(2424),b=a(2902),I=a(111),p=a(7251),w=a(6803);class E{constructor(we){this._editor=we,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.deltaDecorations(this._allDecorations(),[]),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){const we=this._findScopeDecorationIds.map(Fe=>this._editor.getModel().getDecorationRange(Fe)).filter(Fe=>!!Fe);if(we.length)return we}return null}getStartPosition(){return this._startPosition}setStartPosition(we){this._startPosition=we,this.setCurrentFindMatch(null)}_getDecorationIndex(we){const Fe=this._decorations.indexOf(we);return Fe>=0?Fe+1:1}getCurrentMatchesPosition(we){let Fe=this._editor.getModel().getDecorationsInRange(we);for(const Ye of Fe){const mt=Ye.options;if(mt===E._FIND_MATCH_DECORATION||mt===E._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(Ye.id)}return 0}setCurrentFindMatch(we){let Fe=null,Ye=0;if(we)for(let mt=0,$t=this._decorations.length;mt<$t;mt++){let Zt=this._editor.getModel().getDecorationRange(this._decorations[mt]);if(we.equalsRange(Zt)){Fe=this._decorations[mt],Ye=mt+1;break}}return(null!==this._highlightedDecorationId||null!==Fe)&&this._editor.changeDecorations(mt=>{if(null!==this._highlightedDecorationId&&(mt.changeDecorationOptions(this._highlightedDecorationId,E._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),null!==Fe&&(this._highlightedDecorationId=Fe,mt.changeDecorationOptions(this._highlightedDecorationId,E._CURRENT_FIND_MATCH_DECORATION)),null!==this._rangeHighlightDecorationId&&(mt.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),null!==Fe){let $t=this._editor.getModel().getDecorationRange(Fe);if($t.startLineNumber!==$t.endLineNumber&&1===$t.endColumn){let Zt=$t.endLineNumber-1,fn=this._editor.getModel().getLineMaxColumn(Zt);$t=new d.e($t.startLineNumber,$t.startColumn,Zt,fn)}this._rangeHighlightDecorationId=mt.addDecoration($t,E._RANGE_HIGHLIGHT_DECORATION)}}),Ye}set(we,Fe){this._editor.changeDecorations(Ye=>{let mt=E._FIND_MATCH_DECORATION,$t=[];if(we.length>1e3){mt=E._FIND_MATCH_NO_OVERVIEW_DECORATION;const fn=this._editor.getModel().getLineCount(),_n=this._editor.getLayoutInfo().height/fn,On=Math.max(2,Math.ceil(3/_n));let Kn=we[0].range.startLineNumber,Wn=we[0].range.endLineNumber;for(let oi=1,Wt=we.length;oi<Wt;oi++){const X=we[oi].range;Wn+On>=X.startLineNumber?X.endLineNumber>Wn&&(Wn=X.endLineNumber):($t.push({range:new d.e(Kn,1,Wn,1),options:E._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),Kn=X.startLineNumber,Wn=X.endLineNumber)}$t.push({range:new d.e(Kn,1,Wn,1),options:E._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}let Zt=new Array(we.length);for(let fn=0,In=we.length;fn<In;fn++)Zt[fn]={range:we[fn].range,options:mt};this._decorations=Ye.deltaDecorations(this._decorations,Zt),this._overviewRulerApproximateDecorations=Ye.deltaDecorations(this._overviewRulerApproximateDecorations,$t),this._rangeHighlightDecorationId&&(Ye.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach(fn=>Ye.removeDecoration(fn)),this._findScopeDecorationIds=[]),(null==Fe?void 0:Fe.length)&&(this._findScopeDecorationIds=Fe.map(fn=>Ye.addDecoration(fn,E._FIND_SCOPE_DECORATION)))})}matchBeforePosition(we){if(0===this._decorations.length)return null;for(let Fe=this._decorations.length-1;Fe>=0;Fe--){let Ye=this._decorations[Fe],mt=this._editor.getModel().getDecorationRange(Ye);if(mt&&!(mt.endLineNumber>we.lineNumber)){if(mt.endLineNumber<we.lineNumber)return mt;if(!(mt.endColumn>we.column))return mt}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(we){if(0===this._decorations.length)return null;for(let Fe=0,Ye=this._decorations.length;Fe<Ye;Fe++){let mt=this._decorations[Fe],$t=this._editor.getModel().getDecorationRange(mt);if($t&&!($t.startLineNumber<we.lineNumber)){if($t.startLineNumber>we.lineNumber)return $t;if(!($t.startColumn<we.column))return $t}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let we=[];return we=we.concat(this._decorations),we=we.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&we.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&we.push(this._rangeHighlightDecorationId),we}}E._CURRENT_FIND_MATCH_DECORATION=I.qx.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:(0,w.EN)(p.Fm),position:b.sh.Center},minimap:{color:(0,w.EN)(p.KT),position:b.F5.Inline}}),E._FIND_MATCH_DECORATION=I.qx.register({description:"find-match",stickiness:1,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:(0,w.EN)(p.Fm),position:b.sh.Center},minimap:{color:(0,w.EN)(p.KT),position:b.F5.Inline}}),E._FIND_MATCH_NO_OVERVIEW_DECORATION=I.qx.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0}),E._FIND_MATCH_ONLY_OVERVIEW_DECORATION=I.qx.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:(0,w.EN)(p.Fm),position:b.sh.Center}}),E._RANGE_HIGHLIGHT_DECORATION=I.qx.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0}),E._FIND_SCOPE_DECORATION=I.qx.register({description:"find-scope",className:"findScope",isWholeLine:!0});class S{constructor(we,Fe,Ye){this._editorSelection=we,this._ranges=Fe,this._replaceStrings=Ye,this._trackedEditorSelectionId=null}getEditOperations(we,Fe){if(this._ranges.length>0){let Ye=[];for(let Zt=0;Zt<this._ranges.length;Zt++)Ye.push({range:this._ranges[Zt],text:this._replaceStrings[Zt]});Ye.sort((Zt,fn)=>d.e.compareRangesUsingStarts(Zt.range,fn.range));let mt=[],$t=Ye[0];for(let Zt=1;Zt<Ye.length;Zt++)$t.range.endLineNumber===Ye[Zt].range.startLineNumber&&$t.range.endColumn===Ye[Zt].range.startColumn?($t.range=$t.range.plusRange(Ye[Zt].range),$t.text=$t.text+Ye[Zt].text):(mt.push($t),$t=Ye[Zt]);mt.push($t);for(const Zt of mt)Fe.addEditOperation(Zt.range,Zt.text)}this._trackedEditorSelectionId=Fe.trackSelection(this._editorSelection)}computeCursorState(we,Fe){return Fe.getTrackedSelection(this._trackedEditorSelectionId)}}function v(tt,we){if(tt&&""!==tt[0]){const Fe=M(tt,we,"-"),Ye=M(tt,we,"_");return Fe&&!Ye?_(tt,we,"-"):!Fe&&Ye?_(tt,we,"_"):tt[0].toUpperCase()===tt[0]?we.toUpperCase():tt[0].toLowerCase()===tt[0]?we.toLowerCase():O.Kw(tt[0][0])&&we.length>0?we[0].toUpperCase()+we.substr(1):tt[0][0].toUpperCase()!==tt[0][0]&&we.length>0?we[0].toLowerCase()+we.substr(1):we}return we}function M(tt,we,Fe){return-1!==tt[0].indexOf(Fe)&&-1!==we.indexOf(Fe)&&tt[0].split(Fe).length===we.split(Fe).length}function _(tt,we,Fe){const Ye=we.split(Fe),mt=tt[0].split(Fe);let $t="";return Ye.forEach((Zt,fn)=>{$t+=v([mt[fn]],Zt)+Fe}),$t.slice(0,-1)}class f{constructor(we){this.staticValue=we,this.kind=0}}class m{constructor(we){this.pieces=we,this.kind=1}}class L{constructor(we){this._state=we&&0!==we.length?1===we.length&&null!==we[0].staticValue?new f(we[0].staticValue):new m(we):new f("")}static fromStaticValue(we){return new L([F.staticValue(we)])}get hasReplacementPatterns(){return 1===this._state.kind}buildReplaceString(we,Fe){if(0===this._state.kind)return Fe?v(we,this._state.staticValue):this._state.staticValue;let Ye="";for(let mt=0,$t=this._state.pieces.length;mt<$t;mt++){let Zt=this._state.pieces[mt];if(null!==Zt.staticValue){Ye+=Zt.staticValue;continue}let fn=L._substitute(Zt.matchIndex,we);if(null!==Zt.caseOps&&Zt.caseOps.length>0){let In=[],_n=Zt.caseOps.length,On=0;for(let Kn=0,Wn=fn.length;Kn<Wn;Kn++){if(On>=_n){In.push(fn.slice(Kn));break}switch(Zt.caseOps[On]){case"U":In.push(fn[Kn].toUpperCase());break;case"u":In.push(fn[Kn].toUpperCase()),On++;break;case"L":In.push(fn[Kn].toLowerCase());break;case"l":In.push(fn[Kn].toLowerCase()),On++;break;default:In.push(fn[Kn])}}fn=In.join("")}Ye+=fn}return Ye}static _substitute(we,Fe){if(null===Fe)return"";if(0===we)return Fe[0];let Ye="";for(;we>0;){if(we<Fe.length)return(Fe[we]||"")+Ye;Ye=String(we%10)+Ye,we=Math.floor(we/10)}return"$"+Ye}}class F{constructor(we,Fe,Ye){this.staticValue=we,this.matchIndex=Fe,this.caseOps=Ye&&0!==Ye.length?Ye.slice(0):null}static staticValue(we){return new F(we,-1,null)}static caseOps(we,Fe){return new F(null,we,Fe)}}class G{constructor(we){this._source=we,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(we){this._emitStatic(this._source.substring(this._lastCharIndex,we)),this._lastCharIndex=we}emitStatic(we,Fe){this._emitStatic(we),this._lastCharIndex=Fe}_emitStatic(we){0!==we.length&&(this._currentStaticPiece+=we)}emitMatchIndex(we,Fe,Ye){0!==this._currentStaticPiece.length&&(this._result[this._resultLen++]=F.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=F.caseOps(we,Ye),this._lastCharIndex=Fe}finalize(){return this.emitUnchanged(this._source.length),0!==this._currentStaticPiece.length&&(this._result[this._resultLen++]=F.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new L(this._result)}}var de=a(2844),le=a(2291);const ce=new de.uy("findWidgetVisible",!1),be=new de.uy("findInputFocussed",!1),N=new de.uy("replaceInputFocussed",!1),V={primary:545,mac:{primary:2593}},Z={primary:565,mac:{primary:2613}},ie={primary:560,mac:{primary:2608}},ue={primary:554,mac:{primary:2602}},oe={primary:558,mac:{primary:2606}},K=19999;class he{constructor(we,Fe){this._toDispose=new j.SL,this._editor=we,this._state=Fe,this._isDisposed=!1,this._startSearchingTimer=new U._F,this._decorations=new E(we),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new U.pY(()=>this.research(!1),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(Ye=>{(3===Ye.reason||5===Ye.reason||6===Ye.reason)&&this._decorations.setStartPosition(this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(Ye=>{this._ignoreModelContentChanged||(Ye.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(Ye=>this._onStateChanged(Ye))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,(0,j.B9)(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(we){this._isDisposed||!this._editor.hasModel()||(we.searchString||we.isReplaceRevealed||we.isRegex||we.wholeWord||we.matchCase||we.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(()=>{we.searchScope?this.research(we.moveCursor,this._state.searchScope):this.research(we.moveCursor)},240)):we.searchScope?this.research(we.moveCursor,this._state.searchScope):this.research(we.moveCursor))}static _getSearchRange(we,Fe){return Fe||we.getFullModelRange()}research(we,Fe){let Ye=null;void 0!==Fe?null!==Fe&&(Ye=Array.isArray(Fe)?Fe:[Fe]):Ye=this._decorations.getFindScopes(),null!==Ye&&(Ye=Ye.map(fn=>{if(fn.startLineNumber!==fn.endLineNumber){let In=fn.endLineNumber;return 1===fn.endColumn&&(In-=1),new d.e(fn.startLineNumber,1,In,this._editor.getModel().getLineMaxColumn(In))}return fn}));let mt=this._findMatches(Ye,!1,K);this._decorations.set(mt,Ye);const $t=this._editor.getSelection();let Zt=this._decorations.getCurrentMatchesPosition($t);if(0===Zt&&mt.length>0){const fn=(0,le.lG)(mt.map(In=>In.range),In=>d.e.compareRangesUsingStarts(In,$t)>=0);Zt=fn>0?fn-1+1:Zt}this._state.changeMatchInfo(Zt,this._decorations.getCount(),void 0),we&&this._editor.getOption(33).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){let we=this._decorations.getFindScope();return we&&this._editor.revealRangeInCenterIfOutsideViewport(we,0),!0}return!1}_setCurrentFindMatch(we){let Fe=this._decorations.setCurrentFindMatch(we);this._state.changeMatchInfo(Fe,this._decorations.getCount(),we),this._editor.setSelection(we),this._editor.revealRangeInCenterIfOutsideViewport(we,0)}_prevSearchPosition(we){let Fe=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:Ye,column:mt}=we,$t=this._editor.getModel();return Fe||1===mt?(1===Ye?Ye=$t.getLineCount():Ye--,mt=$t.getLineMaxColumn(Ye)):mt--,new R.L(Ye,mt)}_moveToPrevMatch(we,Fe=!1){if(!this._state.canNavigateBack()){const On=this._decorations.matchAfterPosition(we);return void(On&&this._setCurrentFindMatch(On))}if(this._decorations.getCount()<K){let On=this._decorations.matchBeforePosition(we);return On&&On.isEmpty()&&On.getStartPosition().equals(we)&&(we=this._prevSearchPosition(we),On=this._decorations.matchBeforePosition(we)),void(On&&this._setCurrentFindMatch(On))}if(this._cannotFind())return;let Ye=this._decorations.getFindScope(),mt=he._getSearchRange(this._editor.getModel(),Ye);mt.getEndPosition().isBefore(we)&&(we=mt.getEndPosition()),we.isBefore(mt.getStartPosition())&&(we=mt.getEndPosition());let{lineNumber:$t,column:Zt}=we,fn=this._editor.getModel(),In=new R.L($t,Zt),_n=fn.findPreviousMatch(this._state.searchString,In,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(114):null,!1);if(_n&&_n.range.isEmpty()&&_n.range.getStartPosition().equals(In)&&(In=this._prevSearchPosition(In),_n=fn.findPreviousMatch(this._state.searchString,In,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(114):null,!1)),_n){if(!Fe&&!mt.containsRange(_n.range))return this._moveToPrevMatch(_n.range.getStartPosition(),!0);this._setCurrentFindMatch(_n.range)}}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(we){let Fe=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:Ye,column:mt}=we,$t=this._editor.getModel();return Fe||mt===$t.getLineMaxColumn(Ye)?(Ye===$t.getLineCount()?Ye=1:Ye++,mt=1):mt++,new R.L(Ye,mt)}_moveToNextMatch(we){if(!this._state.canNavigateForward()){const Ye=this._decorations.matchBeforePosition(we);return void(Ye&&this._setCurrentFindMatch(Ye))}if(this._decorations.getCount()<K){let Ye=this._decorations.matchAfterPosition(we);return Ye&&Ye.isEmpty()&&Ye.getStartPosition().equals(we)&&(we=this._nextSearchPosition(we),Ye=this._decorations.matchAfterPosition(we)),void(Ye&&this._setCurrentFindMatch(Ye))}let Fe=this._getNextMatch(we,!1,!0);Fe&&this._setCurrentFindMatch(Fe.range)}_getNextMatch(we,Fe,Ye,mt=!1){if(this._cannotFind())return null;let $t=this._decorations.getFindScope(),Zt=he._getSearchRange(this._editor.getModel(),$t);Zt.getEndPosition().isBefore(we)&&(we=Zt.getStartPosition()),we.isBefore(Zt.getStartPosition())&&(we=Zt.getStartPosition());let{lineNumber:fn,column:In}=we,_n=this._editor.getModel(),On=new R.L(fn,In),Kn=_n.findNextMatch(this._state.searchString,On,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(114):null,Fe);return Ye&&Kn&&Kn.range.isEmpty()&&Kn.range.getStartPosition().equals(On)&&(On=this._nextSearchPosition(On),Kn=_n.findNextMatch(this._state.searchString,On,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(114):null,Fe)),Kn?mt||Zt.containsRange(Kn.range)?Kn:this._getNextMatch(Kn.range.getEndPosition(),Fe,Ye,!0):null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_getReplacePattern(){return this._state.isRegex?function(tt){if(!tt||0===tt.length)return new L(null);let we=[],Fe=new G(tt);for(let Ye=0,mt=tt.length;Ye<mt;Ye++){let $t=tt.charCodeAt(Ye);if(92!==$t){if(36===$t){if(Ye++,Ye>=mt)break;let Zt=tt.charCodeAt(Ye);if(36===Zt){Fe.emitUnchanged(Ye-1),Fe.emitStatic("$",Ye+1);continue}if(48===Zt||38===Zt){Fe.emitUnchanged(Ye-1),Fe.emitMatchIndex(0,Ye+1,we),we.length=0;continue}if(49<=Zt&&Zt<=57){let fn=Zt-48;if(Ye+1<mt){let In=tt.charCodeAt(Ye+1);if(48<=In&&In<=57){Ye++,fn=10*fn+(In-48),Fe.emitUnchanged(Ye-2),Fe.emitMatchIndex(fn,Ye+1,we),we.length=0;continue}}Fe.emitUnchanged(Ye-1),Fe.emitMatchIndex(fn,Ye+1,we),we.length=0;continue}}}else{if(Ye++,Ye>=mt)break;let Zt=tt.charCodeAt(Ye);switch(Zt){case 92:Fe.emitUnchanged(Ye-1),Fe.emitStatic("\\",Ye+1);break;case 110:Fe.emitUnchanged(Ye-1),Fe.emitStatic("\n",Ye+1);break;case 116:Fe.emitUnchanged(Ye-1),Fe.emitStatic("\t",Ye+1);break;case 117:case 85:case 108:case 76:Fe.emitUnchanged(Ye-1),Fe.emitStatic("",Ye+1),we.push(String.fromCharCode(Zt))}}}return Fe.finalize()}(this._state.replaceString):L.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;let we=this._getReplacePattern(),Fe=this._editor.getSelection(),Ye=this._getNextMatch(Fe.getStartPosition(),!0,!1);if(Ye)if(Fe.equalsRange(Ye.range)){let mt=we.buildReplaceString(Ye.matches,this._state.preserveCase),$t=new B.T4(Fe,mt);this._executeEditorCommand("replace",$t),this._decorations.setStartPosition(new R.L(Fe.startLineNumber,Fe.startColumn+mt.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(Ye.range)}_findMatches(we,Fe,Ye){const mt=(we||[null]).map($t=>he._getSearchRange(this._editor.getModel(),$t));return this._editor.getModel().findMatches(this._state.searchString,mt,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(114):null,Fe,Ye)}replaceAll(){if(!this._hasMatches())return;const we=this._decorations.getFindScopes();null===we&&this._state.matchesCount>=K?this._largeReplaceAll():this._regularReplaceAll(we),this.research(!1)}_largeReplaceAll(){const Fe=new g.bc(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(114):null).parseSearchRequest();if(!Fe)return;let Ye=Fe.regex;if(!Ye.multiline){let Kn="mu";Ye.ignoreCase&&(Kn+="i"),Ye.global&&(Kn+="g"),Ye=new RegExp(Ye.source,Kn)}const mt=this._editor.getModel(),$t=mt.getValue(1),Zt=mt.getFullModelRange(),fn=this._getReplacePattern();let In;const _n=this._state.preserveCase;In=$t.replace(Ye,fn.hasReplacementPatterns||_n?function(){return fn.buildReplaceString(arguments,_n)}:fn.buildReplaceString(null,_n));let On=new B.hP(Zt,In,this._editor.getSelection());this._executeEditorCommand("replaceAll",On)}_regularReplaceAll(we){const Fe=this._getReplacePattern();let Ye=this._findMatches(we,Fe.hasReplacementPatterns||this._state.preserveCase,1073741824),mt=[];for(let Zt=0,fn=Ye.length;Zt<fn;Zt++)mt[Zt]=Fe.buildReplaceString(Ye[Zt].matches,this._state.preserveCase);let $t=new S(this._editor.getSelection(),Ye.map(Zt=>Zt.range),mt);this._executeEditorCommand("replaceAll",$t)}selectAllMatches(){if(!this._hasMatches())return;let we=this._decorations.getFindScopes(),Ye=this._findMatches(we,!1,1073741824).map($t=>new C.Y($t.range.startLineNumber,$t.range.startColumn,$t.range.endLineNumber,$t.range.endColumn)),mt=this._editor.getSelection();for(let $t=0,Zt=Ye.length;$t<Zt;$t++)if(Ye[$t].equalsRange(mt)){Ye=[mt].concat(Ye.slice(0,$t)).concat(Ye.slice($t+1));break}this._editor.setSelections(Ye)}_executeEditorCommand(we,Fe){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(we,Fe),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}var ge=a(1165),ye=(a(8110),a(3010)),ke=a(3727),xe=a(6723),Pe=a(521);const fe={inputActiveOptionBorder:ke.Il.fromHex("#007ACC00"),inputActiveOptionForeground:ke.Il.fromHex("#FFFFFF"),inputActiveOptionBackground:ke.Il.fromHex("#0E639C50")};class Te extends ye.${constructor(we){super(),this._onChange=this._register(new xe.Q5),this.onChange=this._onChange.event,this._onKeyDown=this._register(new xe.Q5),this.onKeyDown=this._onKeyDown.event,this._opts=Object.assign(Object.assign({},fe),we),this._checked=this._opts.isChecked;const Fe=["monaco-custom-checkbox"];this._opts.icon&&Fe.push(...Pe.dT.asClassNameArray(this._opts.icon)),this._opts.actionClassName&&Fe.push(...this._opts.actionClassName.split(" ")),this._checked&&Fe.push("checked"),this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.classList.add(...Fe),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,Ye=>{this.checked=!this._checked,this._onChange.fire(!1),Ye.preventDefault()}),this.ignoreGesture(this.domNode),this.onkeydown(this.domNode,Ye=>{if(10===Ye.keyCode||3===Ye.keyCode)return this.checked=!this._checked,this._onChange.fire(!0),void Ye.preventDefault();this._onKeyDown.fire(Ye)})}get enabled(){return"true"!==this.domNode.getAttribute("aria-disabled")}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(we){this._checked=we,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 22}style(we){we.inputActiveOptionBorder&&(this._opts.inputActiveOptionBorder=we.inputActiveOptionBorder),we.inputActiveOptionForeground&&(this._opts.inputActiveOptionForeground=we.inputActiveOptionForeground),we.inputActiveOptionBackground&&(this._opts.inputActiveOptionBackground=we.inputActiveOptionBackground),this.applyStyles()}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder?this._opts.inputActiveOptionBorder.toString():"transparent",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground?this._opts.inputActiveOptionForeground.toString():"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground?this._opts.inputActiveOptionBackground.toString():"transparent")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}const Ce=T.N("caseDescription","Match Case"),Je=T.N("wordsDescription","Match Whole Word"),pe=T.N("regexDescription","Use Regular Expression");class Ve extends Te{constructor(we){super({icon:Pe.lA.caseSensitive,title:Ce+we.appendTitle,isChecked:we.isChecked,inputActiveOptionBorder:we.inputActiveOptionBorder,inputActiveOptionForeground:we.inputActiveOptionForeground,inputActiveOptionBackground:we.inputActiveOptionBackground})}}class Ae extends Te{constructor(we){super({icon:Pe.lA.wholeWord,title:Je+we.appendTitle,isChecked:we.isChecked,inputActiveOptionBorder:we.inputActiveOptionBorder,inputActiveOptionForeground:we.inputActiveOptionForeground,inputActiveOptionBackground:we.inputActiveOptionBackground})}}class Ee extends Te{constructor(we){super({icon:Pe.lA.regex,title:pe+we.appendTitle,isChecked:we.isChecked,inputActiveOptionBorder:we.inputActiveOptionBorder,inputActiveOptionForeground:we.inputActiveOptionForeground,inputActiveOptionBackground:we.inputActiveOptionBackground})}}let ze=(()=>{class tt extends ye.${constructor(Fe,Ye,mt,$t){super(),this._hideSoon=this._register(new U.pY(()=>this._hide(),2e3)),this._isVisible=!1,this._editor=Fe,this._state=Ye,this._keybindingService=mt,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");const Zt=$t.getColorTheme().getColor(p.PR),fn=$t.getColorTheme().getColor(p.Pv),In=$t.getColorTheme().getColor(p.XE);this.caseSensitive=this._register(new Ve({appendTitle:this._keybindingLabelFor("toggleFindCaseSensitive"),isChecked:this._state.matchCase,inputActiveOptionBorder:Zt,inputActiveOptionForeground:fn,inputActiveOptionBackground:In})),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange(()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)})),this.wholeWords=this._register(new Ae({appendTitle:this._keybindingLabelFor("toggleFindWholeWord"),isChecked:this._state.wholeWord,inputActiveOptionBorder:Zt,inputActiveOptionForeground:fn,inputActiveOptionBackground:In})),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange(()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)})),this.regex=this._register(new Ee({appendTitle:this._keybindingLabelFor("toggleFindRegex"),isChecked:this._state.isRegex,inputActiveOptionBorder:Zt,inputActiveOptionForeground:fn,inputActiveOptionBackground:In})),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange(()=>{this._state.change({isRegex:this.regex.checked},!1)})),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange(_n=>{let On=!1;_n.isRegex&&(this.regex.checked=this._state.isRegex,On=!0),_n.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,On=!0),_n.matchCase&&(this.caseSensitive.checked=this._state.matchCase,On=!0),!this._state.isRevealed&&On&&this._revealTemporarily()})),this._register(ge.j_(this._domNode,_n=>this._onMouseOut())),this._register(ge.nm(this._domNode,"mouseover",_n=>this._onMouseOver())),this._applyTheme($t.getColorTheme()),this._register($t.onDidColorThemeChange(this._applyTheme.bind(this)))}_keybindingLabelFor(Fe){let Ye=this._keybindingService.lookupKeybinding(Fe);return Ye?` (${Ye.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return tt.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseOut(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){!this._isVisible||(this._isVisible=!1,this._domNode.style.display="none")}_applyTheme(Fe){let Ye={inputActiveOptionBorder:Fe.getColor(p.PR),inputActiveOptionForeground:Fe.getColor(p.Pv),inputActiveOptionBackground:Fe.getColor(p.XE)};this.caseSensitive.style(Ye),this.wholeWords.style(Ye),this.regex.style(Ye)}}return tt.ID="editor.contrib.findOptionsWidget",tt})();function Be(tt,we){return 1===tt||2!==tt&&we}(0,w.Ic)((tt,we)=>{const Fe=tt.getColor(p.D0);Fe&&we.addRule(`.monaco-editor .findOptionsWidget { background-color: ${Fe}; }`);const Ye=tt.getColor(p.Hf);Ye&&we.addRule(`.monaco-editor .findOptionsWidget { color: ${Ye}; }`);const mt=tt.getColor(p.rh);mt&&we.addRule(`.monaco-editor .findOptionsWidget { box-shadow: 0 0 8px 2px ${mt}; }`);const $t=tt.getColor(p.lR);$t&&we.addRule(`.monaco-editor .findOptionsWidget { border: 2px solid ${$t}; }`)});class Ue extends j.JT{constructor(){super(),this._onFindReplaceStateChange=this._register(new xe.Q5),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0}get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return Be(this._isRegexOverride,this._isRegex)}get wholeWord(){return Be(this._wholeWordOverride,this._wholeWord)}get matchCase(){return Be(this._matchCaseOverride,this._matchCase)}get preserveCase(){return Be(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}changeMatchInfo(we,Fe,Ye){let mt={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1},$t=!1;0===Fe&&(we=0),we>Fe&&(we=Fe),this._matchesPosition!==we&&(this._matchesPosition=we,mt.matchesPosition=!0,$t=!0),this._matchesCount!==Fe&&(this._matchesCount=Fe,mt.matchesCount=!0,$t=!0),void 0!==Ye&&(d.e.equalsRange(this._currentMatch,Ye)||(this._currentMatch=Ye,mt.currentMatch=!0,$t=!0)),$t&&this._onFindReplaceStateChange.fire(mt)}change(we,Fe,Ye=!0){var mt;let $t={moveCursor:Fe,updateHistory:Ye,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1},Zt=!1;const fn=this.isRegex,In=this.wholeWord,_n=this.matchCase,On=this.preserveCase;void 0!==we.searchString&&this._searchString!==we.searchString&&(this._searchString=we.searchString,$t.searchString=!0,Zt=!0),void 0!==we.replaceString&&this._replaceString!==we.replaceString&&(this._replaceString=we.replaceString,$t.replaceString=!0,Zt=!0),void 0!==we.isRevealed&&this._isRevealed!==we.isRevealed&&(this._isRevealed=we.isRevealed,$t.isRevealed=!0,Zt=!0),void 0!==we.isReplaceRevealed&&this._isReplaceRevealed!==we.isReplaceRevealed&&(this._isReplaceRevealed=we.isReplaceRevealed,$t.isReplaceRevealed=!0,Zt=!0),void 0!==we.isRegex&&(this._isRegex=we.isRegex),void 0!==we.wholeWord&&(this._wholeWord=we.wholeWord),void 0!==we.matchCase&&(this._matchCase=we.matchCase),void 0!==we.preserveCase&&(this._preserveCase=we.preserveCase),void 0!==we.searchScope&&((null===(mt=we.searchScope)||void 0===mt?void 0:mt.every(Kn=>{var Wn;return null===(Wn=this._searchScope)||void 0===Wn?void 0:Wn.some(oi=>!d.e.equalsRange(oi,Kn))}))||(this._searchScope=we.searchScope,$t.searchScope=!0,Zt=!0)),void 0!==we.loop&&this._loop!==we.loop&&(this._loop=we.loop,$t.loop=!0,Zt=!0),this._isRegexOverride=void 0!==we.isRegexOverride?we.isRegexOverride:0,this._wholeWordOverride=void 0!==we.wholeWordOverride?we.wholeWordOverride:0,this._matchCaseOverride=void 0!==we.matchCaseOverride?we.matchCaseOverride:0,this._preserveCaseOverride=void 0!==we.preserveCaseOverride?we.preserveCaseOverride:0,fn!==this.isRegex&&(Zt=!0,$t.isRegex=!0),In!==this.wholeWord&&(Zt=!0,$t.wholeWord=!0),_n!==this.matchCase&&(Zt=!0,$t.matchCase=!0),On!==this.preserveCase&&(Zt=!0,$t.preserveCase=!0),Zt&&this._onFindReplaceStateChange.fire($t)}canNavigateBack(){return this.canNavigateInLoop()||1!==this.matchesPosition}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=K}}a(2928);var vt=a(7579),At=a(6209),ve=a(5160),ht=a(9190),De=(a(1968),a(9917));const Le=T.N("defaultLabel","input");class dt extends ye.${constructor(we,Fe,Ye,mt){super(),this._showOptionButtons=Ye,this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this._onDidOptionChange=this._register(new xe.Q5),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new xe.Q5),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new xe.Q5),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new xe.Q5),this._onKeyUp=this._register(new xe.Q5),this._onCaseSensitiveKeyDown=this._register(new xe.Q5),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new xe.Q5),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.contextViewProvider=Fe,this.placeholder=mt.placeholder||"",this.validation=mt.validation,this.label=mt.label||Le,this.inputActiveOptionBorder=mt.inputActiveOptionBorder,this.inputActiveOptionForeground=mt.inputActiveOptionForeground,this.inputActiveOptionBackground=mt.inputActiveOptionBackground,this.inputBackground=mt.inputBackground,this.inputForeground=mt.inputForeground,this.inputBorder=mt.inputBorder,this.inputValidationInfoBorder=mt.inputValidationInfoBorder,this.inputValidationInfoBackground=mt.inputValidationInfoBackground,this.inputValidationInfoForeground=mt.inputValidationInfoForeground,this.inputValidationWarningBorder=mt.inputValidationWarningBorder,this.inputValidationWarningBackground=mt.inputValidationWarningBackground,this.inputValidationWarningForeground=mt.inputValidationWarningForeground,this.inputValidationErrorBorder=mt.inputValidationErrorBorder,this.inputValidationErrorBackground=mt.inputValidationErrorBackground,this.inputValidationErrorForeground=mt.inputValidationErrorForeground;const $t=mt.appendCaseSensitiveLabel||"",Zt=mt.appendWholeWordsLabel||"",fn=mt.appendRegexLabel||"",In=mt.history||[],_n=!!mt.flexibleHeight,On=!!mt.flexibleWidth,Kn=mt.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new De.p(this.domNode,this.contextViewProvider,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:In,flexibleHeight:_n,flexibleWidth:On,flexibleMaxHeight:Kn})),this.regex=this._register(new Ee({appendTitle:fn,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.regex.onChange(Wt=>{this._onDidOptionChange.fire(Wt),!Wt&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(Wt=>{this._onRegexKeyDown.fire(Wt)})),this.wholeWords=this._register(new Ae({appendTitle:Zt,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.wholeWords.onChange(Wt=>{this._onDidOptionChange.fire(Wt),!Wt&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new Ve({appendTitle:$t,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.caseSensitive.onChange(Wt=>{this._onDidOptionChange.fire(Wt),!Wt&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(Wt=>{this._onCaseSensitiveKeyDown.fire(Wt)})),this._showOptionButtons&&(this.inputBox.paddingRight=this.caseSensitive.width()+this.wholeWords.width()+this.regex.width());let Wn=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,Wt=>{if(Wt.equals(15)||Wt.equals(17)||Wt.equals(9)){let X=Wn.indexOf(document.activeElement);if(X>=0){let Ie=-1;Wt.equals(17)?Ie=(X+1)%Wn.length:Wt.equals(15)&&(Ie=0===X?Wn.length-1:X-1),Wt.equals(9)?(Wn[X].blur(),this.inputBox.focus()):Ie>=0&&Wn[Ie].focus(),ge.zB.stop(Wt,!0)}}});let oi=document.createElement("div");oi.className="controls",oi.style.display=this._showOptionButtons?"block":"none",oi.appendChild(this.caseSensitive.domNode),oi.appendChild(this.wholeWords.domNode),oi.appendChild(this.regex.domNode),this.domNode.appendChild(oi),we&&we.appendChild(this.domNode),this._register(ge.nm(this.inputBox.inputElement,"compositionstart",Wt=>{this.imeSessionInProgress=!0})),this._register(ge.nm(this.inputBox.inputElement,"compositionend",Wt=>{this.imeSessionInProgress=!1,this._onInput.fire()})),this.onkeydown(this.inputBox.inputElement,Wt=>this._onKeyDown.fire(Wt)),this.onkeyup(this.inputBox.inputElement,Wt=>this._onKeyUp.fire(Wt)),this.oninput(this.inputBox.inputElement,Wt=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,Wt=>this._onMouseDown.fire(Wt))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.regex.enable(),this.wholeWords.enable(),this.caseSensitive.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.regex.disable(),this.wholeWords.disable(),this.caseSensitive.disable()}setFocusInputOnOptionClick(we){this.fixFocusOnOptionClickEnabled=we}setEnabled(we){we?this.enable():this.disable()}getValue(){return this.inputBox.value}setValue(we){this.inputBox.value!==we&&(this.inputBox.value=we)}style(we){this.inputActiveOptionBorder=we.inputActiveOptionBorder,this.inputActiveOptionForeground=we.inputActiveOptionForeground,this.inputActiveOptionBackground=we.inputActiveOptionBackground,this.inputBackground=we.inputBackground,this.inputForeground=we.inputForeground,this.inputBorder=we.inputBorder,this.inputValidationInfoBackground=we.inputValidationInfoBackground,this.inputValidationInfoForeground=we.inputValidationInfoForeground,this.inputValidationInfoBorder=we.inputValidationInfoBorder,this.inputValidationWarningBackground=we.inputValidationWarningBackground,this.inputValidationWarningForeground=we.inputValidationWarningForeground,this.inputValidationWarningBorder=we.inputValidationWarningBorder,this.inputValidationErrorBackground=we.inputValidationErrorBackground,this.inputValidationErrorForeground=we.inputValidationErrorForeground,this.inputValidationErrorBorder=we.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const we={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.regex.style(we),this.wholeWords.style(we),this.caseSensitive.style(we),this.inputBox.style({inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder})}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){return this.caseSensitive.checked}setCaseSensitive(we){this.caseSensitive.checked=we}getWholeWords(){return this.wholeWords.checked}setWholeWords(we){this.wholeWords.checked=we}getRegex(){return this.regex.checked}setRegex(we){this.regex.checked=we,this.validate()}focusOnCaseSensitive(){this.caseSensitive.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}clearMessage(){this.inputBox.hideMessage()}}var _t=a(2331);const Nt=T.N("defaultLabel","input"),zt=T.N("label.preserveCaseCheckbox","Preserve Case");class pn extends Te{constructor(we){super({icon:Pe.lA.preserveCase,title:zt+we.appendTitle,isChecked:we.isChecked,inputActiveOptionBorder:we.inputActiveOptionBorder,inputActiveOptionForeground:we.inputActiveOptionForeground,inputActiveOptionBackground:we.inputActiveOptionBackground})}}class Qt extends ye.${constructor(we,Fe,Ye,mt){super(),this._showOptionButtons=Ye,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new xe.Q5),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new xe.Q5),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new xe.Q5),this._onInput=this._register(new xe.Q5),this._onKeyUp=this._register(new xe.Q5),this._onPreserveCaseKeyDown=this._register(new xe.Q5),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=Fe,this.placeholder=mt.placeholder||"",this.validation=mt.validation,this.label=mt.label||Nt,this.inputActiveOptionBorder=mt.inputActiveOptionBorder,this.inputActiveOptionForeground=mt.inputActiveOptionForeground,this.inputActiveOptionBackground=mt.inputActiveOptionBackground,this.inputBackground=mt.inputBackground,this.inputForeground=mt.inputForeground,this.inputBorder=mt.inputBorder,this.inputValidationInfoBorder=mt.inputValidationInfoBorder,this.inputValidationInfoBackground=mt.inputValidationInfoBackground,this.inputValidationInfoForeground=mt.inputValidationInfoForeground,this.inputValidationWarningBorder=mt.inputValidationWarningBorder,this.inputValidationWarningBackground=mt.inputValidationWarningBackground,this.inputValidationWarningForeground=mt.inputValidationWarningForeground,this.inputValidationErrorBorder=mt.inputValidationErrorBorder,this.inputValidationErrorBackground=mt.inputValidationErrorBackground,this.inputValidationErrorForeground=mt.inputValidationErrorForeground;const $t=mt.appendPreserveCaseLabel||"",Zt=mt.history||[],fn=!!mt.flexibleHeight,In=!!mt.flexibleWidth,_n=mt.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new De.p(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:Zt,flexibleHeight:fn,flexibleWidth:In,flexibleMaxHeight:_n})),this.preserveCase=this._register(new pn({appendTitle:$t,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.preserveCase.onChange(Wn=>{this._onDidOptionChange.fire(Wn),!Wn&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.preserveCase.onKeyDown(Wn=>{this._onPreserveCaseKeyDown.fire(Wn)})),this.cachedOptionsWidth=this._showOptionButtons?this.preserveCase.width():0;let On=[this.preserveCase.domNode];this.onkeydown(this.domNode,Wn=>{if(Wn.equals(15)||Wn.equals(17)||Wn.equals(9)){let oi=On.indexOf(document.activeElement);if(oi>=0){let Wt=-1;Wn.equals(17)?Wt=(oi+1)%On.length:Wn.equals(15)&&(Wt=0===oi?On.length-1:oi-1),Wn.equals(9)?(On[oi].blur(),this.inputBox.focus()):Wt>=0&&On[Wt].focus(),ge.zB.stop(Wn,!0)}}});let Kn=document.createElement("div");Kn.className="controls",Kn.style.display=this._showOptionButtons?"block":"none",Kn.appendChild(this.preserveCase.domNode),this.domNode.appendChild(Kn),we&&we.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,Wn=>this._onKeyDown.fire(Wn)),this.onkeyup(this.inputBox.inputElement,Wn=>this._onKeyUp.fire(Wn)),this.oninput(this.inputBox.inputElement,Wn=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,Wn=>this._onMouseDown.fire(Wn))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(we){we?this.enable():this.disable()}style(we){this.inputActiveOptionBorder=we.inputActiveOptionBorder,this.inputActiveOptionForeground=we.inputActiveOptionForeground,this.inputActiveOptionBackground=we.inputActiveOptionBackground,this.inputBackground=we.inputBackground,this.inputForeground=we.inputForeground,this.inputBorder=we.inputBorder,this.inputValidationInfoBackground=we.inputValidationInfoBackground,this.inputValidationInfoForeground=we.inputValidationInfoForeground,this.inputValidationInfoBorder=we.inputValidationInfoBorder,this.inputValidationWarningBackground=we.inputValidationWarningBackground,this.inputValidationWarningForeground=we.inputValidationWarningForeground,this.inputValidationWarningBorder=we.inputValidationWarningBorder,this.inputValidationErrorBackground=we.inputValidationErrorBackground,this.inputValidationErrorForeground=we.inputValidationErrorForeground,this.inputValidationErrorBorder=we.inputValidationErrorBorder,this.applyStyles()}applyStyles(){this.domNode&&(this.preserveCase.style({inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground}),this.inputBox.style({inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder}))}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(we){this.preserveCase.checked=we}focusOnPreserve(){this.preserveCase.focus()}validate(){this.inputBox&&this.inputBox.validate()}set width(we){this.inputBox.paddingRight=this.cachedOptionsWidth,this.inputBox.width=we,this.domNode.style.width=we+"px"}dispose(){super.dispose()}}var Ht=function(tt,we,Fe,Ye){var Zt,mt=arguments.length,$t=mt<3?we:null===Ye?Ye=Object.getOwnPropertyDescriptor(we,Fe):Ye;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)$t=Reflect.decorate(tt,we,Fe,Ye);else for(var fn=tt.length-1;fn>=0;fn--)(Zt=tt[fn])&&($t=(mt<3?Zt($t):mt>3?Zt(we,Fe,$t):Zt(we,Fe))||$t);return mt>3&&$t&&Object.defineProperty(we,Fe,$t),$t},qt=function(tt,we){return function(Fe,Ye){we(Fe,Ye,tt)}};const nt="historyNavigationWidget",bt="historyNavigationEnabled";function Xe(tt,we){return tt.getContext(document.activeElement).getValue(we)}function ft(tt,we){const Fe=function(tt,we){return tt.createScoped(we.target)}(tt,we);return function(tt,we,Fe){new de.uy("historyNavigationWidget",we).bindTo(tt)}(Fe,we),{scopedContextKeyService:Fe,historyNavigationEnablement:new de.uy(bt,!0).bindTo(Fe)}}let Oe=class extends dt{constructor(we,Fe,Ye,mt,$t=!1){super(we,Fe,$t,Ye),this._register(ft(mt,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};Oe=Ht([qt(3,de.i6)],Oe);let We=class extends Qt{constructor(we,Fe,Ye,mt,$t=!1){super(we,Fe,$t,Ye),this._register(ft(mt,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};We=Ht([qt(3,de.i6)],We),_t.W.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:de.Ao.and(de.Ao.has(nt),de.Ao.equals(bt,!0)),primary:16,secondary:[528],handler:(tt,we)=>{const Fe=Xe(tt.get(de.i6),nt);Fe&&Fe.historyNavigator.showPreviousValue()}}),_t.W.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:de.Ao.and(de.Ao.has(nt),de.Ao.equals(bt,!0)),primary:18,secondary:[530],handler:(tt,we)=>{const Fe=Xe(tt.get(de.i6),nt);Fe&&Fe.historyNavigator.showNextValue()}});var Ne=a(6571);const _e=(0,Ne.q5)("find-selection",Pe.lA.selection,T.N("findSelectionIcon","Icon for 'Find in Selection' in the editor find widget.")),$e=(0,Ne.q5)("find-collapsed",Pe.lA.chevronRight,T.N("findCollapsedIcon","Icon to indicate that the editor find widget is collapsed.")),at=(0,Ne.q5)("find-expanded",Pe.lA.chevronDown,T.N("findExpandedIcon","Icon to indicate that the editor find widget is expanded.")),Et=(0,Ne.q5)("find-replace",Pe.lA.replace,T.N("findReplaceIcon","Icon for 'Replace' in the editor find widget.")),Lt=(0,Ne.q5)("find-replace-all",Pe.lA.replaceAll,T.N("findReplaceAllIcon","Icon for 'Replace All' in the editor find widget.")),Pt=(0,Ne.q5)("find-previous-match",Pe.lA.arrowUp,T.N("findPreviousMatchIcon","Icon for 'Find Previous' in the editor find widget.")),on=(0,Ne.q5)("find-next-match",Pe.lA.arrowDown,T.N("findNextMatchIcon","Icon for 'Find Next' in the editor find widget.")),Kt=T.N("label.find","Find"),bn=T.N("placeholder.find","Find"),yn=T.N("label.previousMatchButton","Previous match"),jn=T.N("label.nextMatchButton","Next match"),Un=T.N("label.toggleSelectionFind","Find in selection"),zn=T.N("label.closeButton","Close"),ci=T.N("label.replace","Replace"),vi=T.N("placeholder.replace","Replace"),Ii=T.N("label.replaceButton","Replace"),Fn=T.N("label.replaceAllButton","Replace All"),ut=T.N("label.toggleReplaceButton","Toggle Replace mode"),Mt=T.N("title.matchesCountLimit","Only the first {0} results are highlighted, but all find operations work on the entire text.",K),kt=T.N("label.matchesLocation","{0} of {1}"),nn=T.N("label.noResults","No results");let Zn=69;const Yn="ctrlEnterReplaceAll.windows.donotask",Mn=ht.dz?256:2048;class Nn{constructor(we){this.afterLineNumber=we,this.heightInPx=33,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}function Li(tt,we,Fe){const Ye=!!we.match(/\n/);Fe&&Ye&&Fe.selectionStart>0&&tt.stopPropagation()}function si(tt,we,Fe){const Ye=!!we.match(/\n/);Fe&&Ye&&Fe.selectionEnd<Fe.value.length&&tt.stopPropagation()}let Wi=(()=>{class tt extends ye.${constructor(Fe,Ye,mt,$t,Zt,fn,In,_n,On){super(),this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=Fe,this._controller=Ye,this._state=mt,this._contextViewProvider=$t,this._keybindingService=Zt,this._contextKeyService=fn,this._storageService=_n,this._notificationService=On,this._ctrlEnterReplaceAllWarningPrompted=!!_n.getBoolean(Yn,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new U.vp(500),this._register((0,j.OF)(()=>this._updateHistoryDelayer.cancel())),this._register(this._state.onFindReplaceStateChange(Kn=>this._onStateChanged(Kn))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration(Kn=>{if(Kn.hasChanged(78)&&(this._codeEditor.getOption(78)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),Kn.hasChanged(128)&&this._tryUpdateWidgetWidth(),Kn.hasChanged(2)&&this.updateAccessibilitySupport(),Kn.hasChanged(33)){const Wn=this._codeEditor.getOption(33).addExtraSpaceOnTop;Wn&&!this._viewZone&&(this._viewZone=new Nn(0),this._showViewZone()),!Wn&&this._viewZone&&this._removeViewZone()}})),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection(()=>{this._isVisible&&this._updateToggleSelectionFindButton()})),this._register(this._codeEditor.onDidFocusEditorWidget(()=>function(tt,we,Fe,Ye){return new(Fe||(Fe=Promise))(function($t,Zt){function fn(On){try{_n(Ye.next(On))}catch(Kn){Zt(Kn)}}function In(On){try{_n(Ye.throw(On))}catch(Kn){Zt(Kn)}}function _n(On){On.done?$t(On.value):function($t){return $t instanceof Fe?$t:new Fe(function(Zt){Zt($t)})}(On.value).then(fn,In)}_n((Ye=Ye.apply(tt,we||[])).next())})}(this,void 0,void 0,function*(){if(this._isVisible){let Kn=yield this._controller.getGlobalBufferTerm();Kn&&Kn!==this._state.searchString&&(this._state.change({searchString:Kn},!1),this._findInput.select())}}))),this._findInputFocused=be.bindTo(fn),this._findFocusTracker=this._register(ge.go(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus(()=>{this._findInputFocused.set(!0),this._updateSearchScope()})),this._register(this._findFocusTracker.onDidBlur(()=>{this._findInputFocused.set(!1)})),this._replaceInputFocused=N.bindTo(fn),this._replaceFocusTracker=this._register(ge.go(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus(()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()})),this._register(this._replaceFocusTracker.onDidBlur(()=>{this._replaceInputFocused.set(!1)})),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(33).addExtraSpaceOnTop&&(this._viewZone=new Nn(0)),this._applyTheme(In.getColorTheme()),this._register(In.onDidColorThemeChange(this._applyTheme.bind(this))),this._register(this._codeEditor.onDidChangeModel(()=>{!this._isVisible||(this._viewZoneId=void 0)})),this._register(this._codeEditor.onDidScrollChange(Kn=>{Kn.scrollTopChanged?this._layoutViewZone():setTimeout(()=>{this._layoutViewZone()},0)}))}getId(){return tt.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(Fe){if(Fe.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}Fe.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),Fe.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),Fe.isReplaceRevealed&&(this._state.isReplaceRevealed?!this._codeEditor.getOption(78)&&!this._isReplaceVisible&&(this._isReplaceVisible=!0,this._replaceInput.width=ge.w(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(Fe.isRevealed||Fe.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),Fe.isRegex&&this._findInput.setRegex(this._state.isRegex),Fe.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),Fe.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),Fe.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),Fe.searchScope&&(this._toggleSelectionFind.checked=!!this._state.searchScope,this._updateToggleSelectionFindButton()),(Fe.searchString||Fe.matchesCount||Fe.matchesPosition)&&(this._domNode.classList.toggle("no-results",this._state.searchString.length>0&&0===this._state.matchesCount),this._updateMatchesCount(),this._updateButtons()),(Fe.searchString||Fe.currentMatch)&&this._layoutViewZone(),Fe.updateHistory&&this._delayedUpdateHistory(),Fe.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,ve.dL)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){let Fe;if(this._matchesCount.style.minWidth=Zn+"px",this._matchesCount.title=this._state.matchesCount>=K?Mt:"",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild),this._state.matchesCount>0){let Ye=String(this._state.matchesCount);this._state.matchesCount>=K&&(Ye+="+");let mt=String(this._state.matchesPosition);"0"===mt&&(mt="?"),Fe=O.WU(kt,mt,Ye)}else Fe=nn;this._matchesCount.appendChild(document.createTextNode(Fe)),(0,vt.Z9)(this._getAriaLabel(Fe,this._state.currentMatch,this._state.searchString)),Zn=Math.max(Zn,this._matchesCount.clientWidth)}_getAriaLabel(Fe,Ye,mt){if(Fe===nn)return""===mt?T.N("ariaSearchNoResultEmpty","{0} found",Fe):T.N("ariaSearchNoResult","{0} found for '{1}'",Fe,mt);if(Ye){const $t=T.N("ariaSearchNoResultWithLineNum","{0} found for '{1}', at {2}",Fe,mt,Ye.startLineNumber+":"+Ye.startColumn),Zt=this._codeEditor.getModel();return Zt&&Ye.startLineNumber<=Zt.getLineCount()&&Ye.startLineNumber>=1?`${Zt.getLineContent(Ye.startLineNumber)}, ${$t}`:$t}return T.N("ariaSearchNoResultWithLineNumNoCurrentMatch","{0} found for '{1}'",Fe,mt)}_updateToggleSelectionFindButton(){let Fe=this._codeEditor.getSelection();this._isVisible&&(this._toggleSelectionFind.checked||Fe&&(Fe.startLineNumber!==Fe.endLineNumber||Fe.startColumn!==Fe.endColumn))?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);let Fe=this._state.searchString.length>0,Ye=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&Fe&&Ye&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&Fe&&Ye&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&Fe),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&Fe),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);let mt=!this._codeEditor.getOption(78);this._toggleReplaceBtn.setEnabled(this._isVisible&&mt)}_reveal(){if(this._revealTimeouts.forEach(Fe=>{clearTimeout(Fe)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;const Fe=this._codeEditor.getSelection();switch(this._codeEditor.getOption(33).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":this._toggleSelectionFind.checked=!!Fe&&Fe.startLineNumber!==Fe.endLineNumber}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(()=>{this._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);let Ye=!0;if(this._codeEditor.getOption(33).seedSearchStringFromSelection&&Fe){const mt=this._codeEditor.getDomNode();if(mt){const $t=ge.i(mt),Zt=this._codeEditor.getScrolledVisiblePosition(Fe.getStartPosition()),fn=$t.left+(Zt?Zt.left:0),In=Zt?Zt.top:0;if(this._viewZone&&In<this._viewZone.heightInPx){Fe.endLineNumber>Fe.startLineNumber&&(Ye=!1);const _n=ge.xQ(this._domNode).left;fn>_n&&(Ye=!1);const On=this._codeEditor.getScrolledVisiblePosition(Fe.getEndPosition());$t.left+(On?On.left:0)>_n&&(Ye=!1)}}}this._showViewZone(Ye)}}_hide(Fe){this._revealTimeouts.forEach(Ye=>{clearTimeout(Ye)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),Fe&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(Fe){if(!this._codeEditor.getOption(33).addExtraSpaceOnTop)return void this._removeViewZone();if(!this._isVisible)return;const mt=this._viewZone;void 0!==this._viewZoneId||!mt||this._codeEditor.changeViewZones($t=>{mt.heightInPx=this._getHeight(),this._viewZoneId=$t.addZone(mt),this._codeEditor.setScrollTop(Fe||this._codeEditor.getScrollTop()+mt.heightInPx)})}_showViewZone(Fe=!0){if(!this._isVisible||!this._codeEditor.getOption(33).addExtraSpaceOnTop)return;void 0===this._viewZone&&(this._viewZone=new Nn(0));const mt=this._viewZone;this._codeEditor.changeViewZones($t=>{if(void 0!==this._viewZoneId){const Zt=this._getHeight();if(Zt===mt.heightInPx)return;let fn=Zt-mt.heightInPx;return mt.heightInPx=Zt,$t.layoutZone(this._viewZoneId),void(Fe&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+fn))}{let Zt=this._getHeight();if(Zt-=this._codeEditor.getOption(72).top,Zt<=0)return;mt.heightInPx=Zt,this._viewZoneId=$t.addZone(mt),Fe&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+Zt)}})}_removeViewZone(){this._codeEditor.changeViewZones(Fe=>{void 0!==this._viewZoneId&&(Fe.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))})}_applyTheme(Fe){let Ye={inputActiveOptionBorder:Fe.getColor(p.PR),inputActiveOptionBackground:Fe.getColor(p.XE),inputActiveOptionForeground:Fe.getColor(p.Pv),inputBackground:Fe.getColor(p.sE),inputForeground:Fe.getColor(p.zJ),inputBorder:Fe.getColor(p.dt),inputValidationInfoBackground:Fe.getColor(p._l),inputValidationInfoForeground:Fe.getColor(p.YI),inputValidationInfoBorder:Fe.getColor(p.EP),inputValidationWarningBackground:Fe.getColor(p.RV),inputValidationWarningForeground:Fe.getColor(p.SU),inputValidationWarningBorder:Fe.getColor(p.C3),inputValidationErrorBackground:Fe.getColor(p.p),inputValidationErrorForeground:Fe.getColor(p._t),inputValidationErrorBorder:Fe.getColor(p.OZ)};this._findInput.style(Ye),this._replaceInput.style(Ye),this._toggleSelectionFind.style(Ye)}_tryUpdateWidgetWidth(){if(!this._isVisible||!ge.Uw(this._domNode))return;const Fe=this._codeEditor.getLayoutInfo();if(Fe.contentWidth<=0)return void this._domNode.classList.add("hiddenEditor");this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");const mt=Fe.width,$t=Fe.minimap.minimapWidth;let Zt=!1,fn=!1,In=!1;if(this._resized&&ge.w(this._domNode)>419)return this._domNode.style.maxWidth=mt-28-$t-15+"px",void(this._replaceInput.width=ge.w(this._findInput.domNode));if(447+$t>=mt&&(fn=!0),447+$t-Zn>=mt&&(In=!0),447+$t-Zn>=mt+50&&(Zt=!0),this._domNode.classList.toggle("collapsed-find-widget",Zt),this._domNode.classList.toggle("narrow-find-widget",In),this._domNode.classList.toggle("reduced-find-widget",fn),!In&&!Zt&&(this._domNode.style.maxWidth=mt-28-$t-15+"px"),this._resized){this._findInput.inputBox.layout();let _n=this._findInput.inputBox.element.clientWidth;_n>0&&(this._replaceInput.width=_n)}else this._isReplaceVisible&&(this._replaceInput.width=ge.w(this._findInput.domNode))}_getHeight(){let Fe=0;return Fe+=4,Fe+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(Fe+=4,Fe+=this._replaceInput.inputBox.height+2),Fe+=4,Fe}_tryUpdateHeight(){const Fe=this._getHeight();return(null===this._cachedHeight||this._cachedHeight!==Fe)&&(this._cachedHeight=Fe,this._domNode.style.height=`${Fe}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){let Fe=this._codeEditor.getSelections();Fe.map(Ye=>(1===Ye.endColumn&&Ye.endLineNumber>Ye.startLineNumber&&(Ye=Ye.setEndPosition(Ye.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(Ye.endLineNumber-1))),Ye.startLineNumber===Ye.endLineNumber||d.e.equalsRange(Ye,this._state.currentMatch)?null:Ye)).filter(Ye=>!!Ye),Fe.length&&this._state.change({searchScope:Fe},!0)}}_onFindInputMouseDown(Fe){Fe.middleButton&&Fe.stopPropagation()}_onFindInputKeyDown(Fe){return Fe.equals(3|Mn)?(this._findInput.inputBox.insertAtCursor("\n"),void Fe.preventDefault()):Fe.equals(2)?(this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),void Fe.preventDefault()):Fe.equals(2066)?(this._codeEditor.focus(),void Fe.preventDefault()):Fe.equals(16)?Li(Fe,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea")):Fe.equals(18)?si(Fe,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea")):void 0}_onReplaceInputKeyDown(Fe){return Fe.equals(3|Mn)?(ht.ED&&ht.tY&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(T.N("ctrlEnter.keybindingChanged","Ctrl+Enter now inserts line break instead of replacing all. You can modify the keybinding for editor.action.replaceAll to override this behavior.")),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(Yn,!0,0,0)),this._replaceInput.inputBox.insertAtCursor("\n"),void Fe.preventDefault()):Fe.equals(2)?(this._findInput.focusOnCaseSensitive(),void Fe.preventDefault()):Fe.equals(1026)?(this._findInput.focus(),void Fe.preventDefault()):Fe.equals(2066)?(this._codeEditor.focus(),void Fe.preventDefault()):Fe.equals(16)?Li(Fe,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea")):Fe.equals(18)?si(Fe,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea")):void 0}getVerticalSashLeft(Fe){return 0}_keybindingLabelFor(Fe){let Ye=this._keybindingService.lookupKeybinding(Fe);return Ye?` (${Ye.getLabel()})`:""}_buildDomNode(){this._findInput=this._register(new Oe(null,this._contextViewProvider,{width:221,label:Kt,placeholder:bn,appendCaseSensitiveLabel:this._keybindingLabelFor("toggleFindCaseSensitive"),appendWholeWordsLabel:this._keybindingLabelFor("toggleFindWholeWord"),appendRegexLabel:this._keybindingLabelFor("toggleFindRegex"),validation:_n=>{if(0===_n.length||!this._findInput.getRegex())return null;try{return new RegExp(_n,"gu"),null}catch(On){return{content:On.message}}},flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118},this._contextKeyService,!0)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(_n=>this._onFindInputKeyDown(_n))),this._register(this._findInput.inputBox.onDidChange(()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(_n=>{_n.equals(1026)&&this._isReplaceVisible&&(this._replaceInput.focus(),_n.preventDefault())})),this._register(this._findInput.onRegexKeyDown(_n=>{_n.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),_n.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange(_n=>{this._tryUpdateHeight()&&this._showViewZone()})),ht.IJ&&this._register(this._findInput.onMouseDown(_n=>this._onFindInputMouseDown(_n))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new rs({label:yn+this._keybindingLabelFor("editor.action.previousMatchFindAction"),icon:Pt,onTrigger:()=>{this._codeEditor.getAction("editor.action.previousMatchFindAction").run().then(void 0,ve.dL)}})),this._nextBtn=this._register(new rs({label:jn+this._keybindingLabelFor("editor.action.nextMatchFindAction"),icon:on,onTrigger:()=>{this._codeEditor.getAction("editor.action.nextMatchFindAction").run().then(void 0,ve.dL)}}));let mt=document.createElement("div");mt.className="find-part",mt.appendChild(this._findInput.domNode);const $t=document.createElement("div");$t.className="find-actions",mt.appendChild($t),$t.appendChild(this._matchesCount),$t.appendChild(this._prevBtn.domNode),$t.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new Te({icon:_e,title:Un+this._keybindingLabelFor("toggleFindInSelection"),isChecked:!1})),this._register(this._toggleSelectionFind.onChange(()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){let _n=this._codeEditor.getSelections();_n.map(On=>(1===On.endColumn&&On.endLineNumber>On.startLineNumber&&(On=On.setEndPosition(On.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(On.endLineNumber-1))),On.isEmpty()?null:On)).filter(On=>!!On),_n.length&&this._state.change({searchScope:_n},!0)}}else this._state.change({searchScope:null},!0)})),$t.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new rs({label:zn+this._keybindingLabelFor("closeFindWidget"),icon:Ne.s_,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:_n=>{_n.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),_n.preventDefault())}})),$t.appendChild(this._closeBtn.domNode),this._replaceInput=this._register(new We(null,void 0,{label:ci,placeholder:vi,appendPreserveCaseLabel:this._keybindingLabelFor("togglePreserveCase"),history:[],flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(_n=>this._onReplaceInputKeyDown(_n))),this._register(this._replaceInput.inputBox.onDidChange(()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(_n=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(_n=>{_n.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),_n.preventDefault())})),this._replaceBtn=this._register(new rs({label:Ii+this._keybindingLabelFor("editor.action.replaceOne"),icon:Et,onTrigger:()=>{this._controller.replace()},onKeyDown:_n=>{_n.equals(1026)&&(this._closeBtn.focus(),_n.preventDefault())}})),this._replaceAllBtn=this._register(new rs({label:Fn+this._keybindingLabelFor("editor.action.replaceAll"),icon:Lt,onTrigger:()=>{this._controller.replaceAll()}}));let Zt=document.createElement("div");Zt.className="replace-part",Zt.appendChild(this._replaceInput.domNode);const fn=document.createElement("div");fn.className="replace-actions",Zt.appendChild(fn),fn.appendChild(this._replaceBtn.domNode),fn.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new rs({label:ut,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=ge.w(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.style.width="419px",this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(mt),this._domNode.appendChild(Zt),this._resizeSash=new At.g(this._domNode,this,{orientation:0,size:2}),this._resized=!1;let In=419;this._register(this._resizeSash.onDidStart(()=>{In=ge.w(this._domNode)})),this._register(this._resizeSash.onDidChange(_n=>{this._resized=!0;let On=In+_n.startX-_n.currentX;On<419||On>(parseFloat(ge.Dx(this._domNode).maxWidth)||0)||(this._domNode.style.width=`${On}px`,this._isReplaceVisible&&(this._replaceInput.width=ge.w(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())})),this._register(this._resizeSash.onDidReset(()=>{const _n=ge.w(this._domNode);if(_n<419)return;let On=419;if(!this._resized||419===_n){const Kn=this._codeEditor.getLayoutInfo();On=Kn.width-28-Kn.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${On}px`,this._isReplaceVisible&&(this._replaceInput.width=ge.w(this._findInput.domNode)),this._findInput.inputBox.layout()}))}updateAccessibilitySupport(){const Fe=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(2!==Fe)}}return tt.ID="editor.contrib.findWidget",tt})();class rs extends ye.${constructor(we){super(),this._opts=we;let Fe="button";this._opts.className&&(Fe=Fe+" "+this._opts.className),this._opts.icon&&(Fe=Fe+" "+w.kS.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.title=this._opts.label,this._domNode.tabIndex=0,this._domNode.className=Fe,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this.onclick(this._domNode,Ye=>{this._opts.onTrigger(),Ye.preventDefault()}),this.onkeydown(this._domNode,Ye=>{if(Ye.equals(10)||Ye.equals(3))return this._opts.onTrigger(),void Ye.preventDefault();this._opts.onKeyDown&&this._opts.onKeyDown(Ye)})}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(we){this._domNode.classList.toggle("disabled",!we),this._domNode.setAttribute("aria-disabled",String(!we)),this._domNode.tabIndex=we?0:-1}setExpanded(we){this._domNode.setAttribute("aria-expanded",String(!!we)),we?(this._domNode.classList.remove(...w.kS.asClassNameArray($e)),this._domNode.classList.add(...w.kS.asClassNameArray(at))):(this._domNode.classList.remove(...w.kS.asClassNameArray(at)),this._domNode.classList.add(...w.kS.asClassNameArray($e)))}}(0,w.Ic)((tt,we)=>{const Fe=(oi,Wt)=>{Wt&&we.addRule(`.monaco-editor ${oi} { background-color: ${Wt}; }`)};Fe(".findMatch",tt.getColor(p.MU)),Fe(".currentFindMatch",tt.getColor(p.ny)),Fe(".findScope",tt.getColor(p.jU)),Fe(".find-widget",tt.getColor(p.D0));const mt=tt.getColor(p.rh);mt&&we.addRule(`.monaco-editor .find-widget { box-shadow: 0 0 8px 2px ${mt}; }`);const $t=tt.getColor(p.Ei);$t&&we.addRule(`.monaco-editor .findMatch { border: 1px ${"hc"===tt.type?"dotted":"solid"} ${$t}; box-sizing: border-box; }`);const Zt=tt.getColor(p.pn);Zt&&we.addRule(`.monaco-editor .currentFindMatch { border: 2px solid ${Zt}; padding: 1px; box-sizing: border-box; }`);const fn=tt.getColor(p.gk);fn&&we.addRule(`.monaco-editor .findScope { border: 1px ${"hc"===tt.type?"dashed":"solid"} ${fn}; }`);const In=tt.getColor(p.lR);In&&we.addRule(`.monaco-editor .find-widget { border: 1px solid ${In}; }`);const _n=tt.getColor(p.Hf);_n&&we.addRule(`.monaco-editor .find-widget { color: ${_n}; }`);const On=tt.getColor(p.Id);On&&we.addRule(`.monaco-editor .find-widget.no-results .matchesCount { color: ${On}; }`);const Kn=tt.getColor(p.Ng);if(Kn)we.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${Kn}; }`);else{const oi=tt.getColor(p.D1);oi&&we.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${oi}; }`)}const Wn=tt.getColor(p.R8);Wn&&we.addRule(`.monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: ${Wn}; }`)});var vs=a(2836),Ut=a(2957),P=a(652),q=a(3012),me=a(7129),Ke=a(1004),qe=function(tt,we,Fe,Ye){var Zt,mt=arguments.length,$t=mt<3?we:null===Ye?Ye=Object.getOwnPropertyDescriptor(we,Fe):Ye;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)$t=Reflect.decorate(tt,we,Fe,Ye);else for(var fn=tt.length-1;fn>=0;fn--)(Zt=tt[fn])&&($t=(mt<3?Zt($t):mt>3?Zt(we,Fe,$t):Zt(we,Fe))||$t);return mt>3&&$t&&Object.defineProperty(we,Fe,$t),$t},st=function(tt,we){return function(Fe,Ye){we(Fe,Ye,tt)}},jt=function(tt,we,Fe,Ye){return new(Fe||(Fe=Promise))(function($t,Zt){function fn(On){try{_n(Ye.next(On))}catch(Kn){Zt(Kn)}}function In(On){try{_n(Ye.throw(On))}catch(Kn){Zt(Kn)}}function _n(On){On.done?$t(On.value):function($t){return $t instanceof Fe?$t:new Fe(function(Zt){Zt($t)})}(On.value).then(fn,In)}_n((Ye=Ye.apply(tt,we||[])).next())})};function en(tt,we="single"){if(!tt.hasModel())return null;const Fe=tt.getSelection();if("single"===we&&Fe.startLineNumber===Fe.endLineNumber||"multiple"===we)if(Fe.isEmpty()){const Ye=tt.getConfiguredWordAtPosition(Fe.getStartPosition());if(Ye)return Ye.word}else if(tt.getModel().getValueLengthInRange(Fe)<524288)return tt.getModel().getValueInRange(Fe);return null}let Yt=class xR extends j.JT{constructor(we,Fe,Ye,mt){super(),this._editor=we,this._findWidgetVisible=ce.bindTo(Fe),this._contextKeyService=Fe,this._storageService=Ye,this._clipboardService=mt,this._updateHistoryDelayer=new U.vp(500),this._state=this._register(new Ue),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange($t=>this._onStateChanged($t))),this._model=null,this._register(this._editor.onDidChangeModel(()=>{let $t=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),$t&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(33).loop})}))}get editor(){return this._editor}static get(we){return we.getContribution(xR.ID)}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(we){this.saveQueryState(we),we.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),we.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(we){we.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,0),we.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,0),we.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,0),we.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,0)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!be.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){let we=this._editor.getSelections();we.map(Fe=>(1===Fe.endColumn&&Fe.endLineNumber>Fe.startLineNumber&&(Fe=Fe.setEndPosition(Fe.endLineNumber-1,this._editor.getModel().getLineMaxColumn(Fe.endLineNumber-1))),Fe.isEmpty()?null:Fe)).filter(Fe=>!!Fe),we.length&&this._state.change({searchScope:we},!0)}}setSearchString(we){this._state.isRegex&&(we=O.ec(we)),this._state.change({searchString:we},!1)}highlightFindOptions(we=!1){}_start(we){return jt(this,void 0,void 0,function*(){if(this.disposeModel(),!this._editor.hasModel())return;let Fe={isRevealed:!0};if("single"===we.seedSearchStringFromSelection){let Ye=en(this._editor,we.seedSearchStringFromSelection);Ye&&(Fe.searchString=this._state.isRegex?O.ec(Ye):Ye)}else if("multiple"===we.seedSearchStringFromSelection&&!we.updateSearchScope){let Ye=en(this._editor,we.seedSearchStringFromSelection);Ye&&(Fe.searchString=Ye)}if(!Fe.searchString&&we.seedSearchStringFromGlobalClipboard){let Ye=yield this.getGlobalBufferTerm();if(!this._editor.hasModel())return;Ye&&(Fe.searchString=Ye)}if(we.forceRevealReplace?Fe.isReplaceRevealed=!0:this._findWidgetVisible.get()||(Fe.isReplaceRevealed=!1),we.updateSearchScope){let Ye=this._editor.getSelections();Ye.some(mt=>!mt.isEmpty())&&(Fe.searchScope=Ye)}Fe.loop=we.loop,this._state.change(Fe,!1),this._model||(this._model=new he(this._editor,this._state))})}start(we){return this._start(we)}moveToNextMatch(){return!!this._model&&(this._model.moveToNextMatch(),!0)}moveToPrevMatch(){return!!this._model&&(this._model.moveToPrevMatch(),!0)}replace(){return!!this._model&&(this._model.replace(),!0)}replaceAll(){return!!this._model&&(this._model.replaceAll(),!0)}selectAllMatches(){return!!this._model&&(this._model.selectAllMatches(),this._editor.focus(),!0)}getGlobalBufferTerm(){return jt(this,void 0,void 0,function*(){return this._editor.getOption(33).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""})}setGlobalBufferTerm(we){this._editor.getOption(33).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(we)}};Yt.ID="editor.contrib.findController",Yt=qe([st(1,de.i6),st(2,me.Uy),st(3,Ut.p)],Yt);let tn=class extends Yt{constructor(we,Fe,Ye,mt,$t,Zt,fn,In){super(we,Ye,fn,In),this._contextViewService=Fe,this._keybindingService=mt,this._themeService=$t,this._notificationService=Zt,this._widget=null,this._findOptionsWidget=null}_start(we){const Fe=Object.create(null,{_start:{get:()=>super._start}});return jt(this,void 0,void 0,function*(){this._widget||this._createFindWidget();const Ye=this._editor.getSelection();let mt=!1;switch(this._editor.getOption(33).autoFindInSelection){case"always":mt=!0;break;case"never":mt=!1;break;case"multiline":mt=!!Ye&&Ye.startLineNumber!==Ye.endLineNumber}we.updateSearchScope=mt,yield Fe._start.call(this,we),this._widget&&(2===we.shouldFocus?this._widget.focusReplaceInput():1===we.shouldFocus&&this._widget.focusFindInput())})}highlightFindOptions(we=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!we?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new Wi(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new ze(this._editor,this._state,this._keybindingService,this._themeService))}};tn=qe([st(1,P.u),st(2,de.i6),st(3,q.d),st(4,w.XE),st(5,Ke.lT),st(6,me.Uy),st(7,Ut.p)],tn);const un=(0,k.rn)(new k.jY({id:"actions.find",label:T.N("startFindAction","Find"),alias:"Find",precondition:de.Ao.or($.u.focus,de.Ao.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2084,weight:100},menuOpts:{menuId:vs.eH.MenubarEditMenu,group:"3_find",title:T.N({key:"miFind",comment:["&& denotes a mnemonic"]},"&&Find"),order:1}}));un.addImplementation(0,(tt,we,Fe)=>{const Ye=Yt.get(we);return!!Ye&&Ye.start({forceRevealReplace:!1,seedSearchStringFromSelection:we.getOption(33).seedSearchStringFromSelection?"single":"none",seedSearchStringFromGlobalClipboard:we.getOption(33).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:we.getOption(33).loop})});class Cn extends k.R6{constructor(){super({id:"actions.findWithSelection",label:T.N("startFindWithSelectionAction","Find With Selection"),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2083},weight:100}})}run(we,Fe){return jt(this,void 0,void 0,function*(){let Ye=Yt.get(Fe);Ye&&(yield Ye.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:Fe.getOption(33).loop}),Ye.setGlobalBufferTerm(Ye.getState().searchString))})}}class An extends k.R6{run(we,Fe){return jt(this,void 0,void 0,function*(){let Ye=Yt.get(Fe);Ye&&!this._run(Ye)&&(yield Ye.start({forceRevealReplace:!1,seedSearchStringFromSelection:0===Ye.getState().searchString.length&&Fe.getOption(33).seedSearchStringFromSelection?"single":"none",seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:Fe.getOption(33).loop}),this._run(Ye))})}}class Bn extends An{constructor(){super({id:"editor.action.nextMatchFindAction",label:T.N("findNextMatchAction","Find Next"),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:$.u.focus,primary:61,mac:{primary:2085,secondary:[61]},weight:100},{kbExpr:de.Ao.and($.u.focus,be),primary:3,weight:100}]})}_run(we){return!!we.moveToNextMatch()&&(we.editor.pushUndoStop(),!0)}}class kn extends An{constructor(){super({id:"editor.action.previousMatchFindAction",label:T.N("findPreviousMatchAction","Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:$.u.focus,primary:1085,mac:{primary:3109,secondary:[1085]},weight:100},{kbExpr:de.Ao.and($.u.focus,be),primary:1027,weight:100}]})}_run(we){return we.moveToPrevMatch()}}class qn extends k.R6{run(we,Fe){return jt(this,void 0,void 0,function*(){let Ye=Yt.get(Fe);if(!Ye)return;let mt=en(Fe);mt&&Ye.setSearchString(mt),this._run(Ye)||(yield Ye.start({forceRevealReplace:!1,seedSearchStringFromSelection:Fe.getOption(33).seedSearchStringFromSelection?"single":"none",seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:Fe.getOption(33).loop}),this._run(Ye))})}}class fi extends qn{constructor(){super({id:"editor.action.nextSelectionMatchFindAction",label:T.N("nextSelectionMatchFindAction","Find Next Selection"),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:$.u.focus,primary:2109,weight:100}})}_run(we){return we.moveToNextMatch()}}class hn extends qn{constructor(){super({id:"editor.action.previousSelectionMatchFindAction",label:T.N("previousSelectionMatchFindAction","Find Previous Selection"),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:$.u.focus,primary:3133,weight:100}})}_run(we){return we.moveToPrevMatch()}}const Ze=(0,k.rn)(new k.jY({id:"editor.action.startFindReplaceAction",label:T.N("startReplace","Replace"),alias:"Replace",precondition:de.Ao.or($.u.focus,de.Ao.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596},weight:100},menuOpts:{menuId:vs.eH.MenubarEditMenu,group:"3_find",title:T.N({key:"miReplace",comment:["&& denotes a mnemonic"]},"&&Replace"),order:2}}));Ze.addImplementation(0,(tt,we,Fe)=>{if(!we.hasModel()||we.getOption(78))return!1;const Ye=Yt.get(we);if(!Ye)return!1;const mt=we.getSelection(),$t=Ye.isFindInputFocused(),Zt=!mt.isEmpty()&&mt.startLineNumber===mt.endLineNumber&&we.getOption(33).seedSearchStringFromSelection&&!$t,fn=$t||Zt?2:1;return Ye.start({forceRevealReplace:!0,seedSearchStringFromSelection:Zt?"single":"none",seedSearchStringFromGlobalClipboard:we.getOption(33).seedSearchStringFromSelection,shouldFocus:fn,shouldAnimate:!0,updateSearchScope:!1,loop:we.getOption(33).loop})}),(0,k._K)(Yt.ID,tn),(0,k.Qr)(Cn),(0,k.Qr)(Bn),(0,k.Qr)(kn),(0,k.Qr)(fi),(0,k.Qr)(hn);const rt=k._l.bindToContribution(Yt.get);(0,k.fK)(new rt({id:"closeFindWidget",precondition:ce,handler:tt=>tt.closeFindWidget(),kbOpts:{weight:105,kbExpr:de.Ao.and($.u.focus,de.Ao.not("isComposing")),primary:9,secondary:[1033]}})),(0,k.fK)(new rt({id:"toggleFindCaseSensitive",precondition:void 0,handler:tt=>tt.toggleCaseSensitive(),kbOpts:{weight:105,kbExpr:$.u.focus,primary:V.primary,mac:V.mac,win:V.win,linux:V.linux}})),(0,k.fK)(new rt({id:"toggleFindWholeWord",precondition:void 0,handler:tt=>tt.toggleWholeWords(),kbOpts:{weight:105,kbExpr:$.u.focus,primary:Z.primary,mac:Z.mac,win:Z.win,linux:Z.linux}})),(0,k.fK)(new rt({id:"toggleFindRegex",precondition:void 0,handler:tt=>tt.toggleRegex(),kbOpts:{weight:105,kbExpr:$.u.focus,primary:ie.primary,mac:ie.mac,win:ie.win,linux:ie.linux}})),(0,k.fK)(new rt({id:"toggleFindInSelection",precondition:void 0,handler:tt=>tt.toggleSearchScope(),kbOpts:{weight:105,kbExpr:$.u.focus,primary:ue.primary,mac:ue.mac,win:ue.win,linux:ue.linux}})),(0,k.fK)(new rt({id:"togglePreserveCase",precondition:void 0,handler:tt=>tt.togglePreserveCase(),kbOpts:{weight:105,kbExpr:$.u.focus,primary:oe.primary,mac:oe.mac,win:oe.win,linux:oe.linux}})),(0,k.fK)(new rt({id:"editor.action.replaceOne",precondition:ce,handler:tt=>tt.replace(),kbOpts:{weight:105,kbExpr:$.u.focus,primary:3094}})),(0,k.fK)(new rt({id:"editor.action.replaceOne",precondition:ce,handler:tt=>tt.replace(),kbOpts:{weight:105,kbExpr:de.Ao.and($.u.focus,N),primary:3}})),(0,k.fK)(new rt({id:"editor.action.replaceAll",precondition:ce,handler:tt=>tt.replaceAll(),kbOpts:{weight:105,kbExpr:$.u.focus,primary:2563}})),(0,k.fK)(new rt({id:"editor.action.replaceAll",precondition:ce,handler:tt=>tt.replaceAll(),kbOpts:{weight:105,kbExpr:de.Ao.and($.u.focus,N),primary:void 0,mac:{primary:2051}}})),(0,k.fK)(new rt({id:"editor.action.selectAllMatches",precondition:ce,handler:tt=>tt.selectAllMatches(),kbOpts:{weight:105,kbExpr:$.u.focus,primary:515}}))},6856:(Ct,Qe,a)=>{"use strict";a.r(Qe),a.d(Qe,{FoldingController:()=>vt,editorFoldForeground:()=>Rt,foldBackgroundBackground:()=>bt}),a(2038);var U=a(1606),j=a(1882),O=a(579),k=a(7922),$=a(4807),B=a(1719),R=a(4482),d=a(6723);const g=16777215,b=4278190080;class I{constructor(Xe,ft,Oe){if(Xe.length!==ft.length||Xe.length>65535)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=Xe,this._endIndexes=ft,this._collapseStates=new Uint32Array(Math.ceil(Xe.length/32)),this._types=Oe,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;let Xe=[],ft=(Oe,We)=>{let Ne=Xe[Xe.length-1];return this.getStartLineNumber(Ne)<=Oe&&this.getEndLineNumber(Ne)>=We};for(let Oe=0,We=this._startIndexes.length;Oe<We;Oe++){let Ne=this._startIndexes[Oe],J=this._endIndexes[Oe];if(Ne>g||J>g)throw new Error("startLineNumber or endLineNumber must not exceed "+g);for(;Xe.length>0&&!ft(Ne,J);)Xe.pop();let _e=Xe.length>0?Xe[Xe.length-1]:-1;Xe.push(Oe),this._startIndexes[Oe]=Ne+((255&_e)<<24),this._endIndexes[Oe]=J+((65280&_e)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(Xe){return this._startIndexes[Xe]&g}getEndLineNumber(Xe){return this._endIndexes[Xe]&g}getType(Xe){return this._types?this._types[Xe]:void 0}hasTypes(){return!!this._types}isCollapsed(Xe){return 0!=(this._collapseStates[Xe/32|0]&1<<Xe%32)}setCollapsed(Xe,ft){let Oe=Xe/32|0,We=Xe%32,Ne=this._collapseStates[Oe];this._collapseStates[Oe]=ft?Ne|1<<We:Ne&~(1<<We)}toRegion(Xe){return new p(this,Xe)}getParentIndex(Xe){this.ensureParentIndices();let ft=((this._startIndexes[Xe]&b)>>>24)+((this._endIndexes[Xe]&b)>>>16);return 65535===ft?-1:ft}contains(Xe,ft){return this.getStartLineNumber(Xe)<=ft&&this.getEndLineNumber(Xe)>=ft}findIndex(Xe){let ft=0,Oe=this._startIndexes.length;if(0===Oe)return-1;for(;ft<Oe;){let We=Math.floor((ft+Oe)/2);Xe<this.getStartLineNumber(We)?Oe=We:ft=We+1}return ft-1}findRange(Xe){let ft=this.findIndex(Xe);if(ft>=0){if(this.getEndLineNumber(ft)>=Xe)return ft;for(ft=this.getParentIndex(ft);-1!==ft;){if(this.contains(ft,Xe))return ft;ft=this.getParentIndex(ft)}}return-1}toString(){let Xe=[];for(let ft=0;ft<this.length;ft++)Xe[ft]=`[${this.isCollapsed(ft)?"+":"-"}] ${this.getStartLineNumber(ft)}/${this.getEndLineNumber(ft)}`;return Xe.join(", ")}}class p{constructor(Xe,ft){this.ranges=Xe,this.index=ft}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(Xe){return Xe.startLineNumber<=this.startLineNumber&&Xe.endLineNumber>=this.endLineNumber}containsLine(Xe){return this.startLineNumber<=Xe&&Xe<=this.endLineNumber}}class w{constructor(Xe,ft){this._updateEventEmitter=new d.Q5,this.onDidChange=this._updateEventEmitter.event,this._textModel=Xe,this._decorationProvider=ft,this._regions=new I(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[],this._isInitialized=!1}get regions(){return this._regions}get textModel(){return this._textModel}get isInitialized(){return this._isInitialized}toggleCollapseState(Xe){if(!Xe.length)return;Xe=Xe.sort((Oe,We)=>Oe.regionIndex-We.regionIndex);const ft={};this._decorationProvider.changeDecorations(Oe=>{let We=0,Ne=-1,J=-1;const _e=$e=>{for(;We<$e;){const at=this._regions.getEndLineNumber(We),Et=this._regions.isCollapsed(We);at<=Ne&&Oe.changeDecorationOptions(this._editorDecorationIds[We],this._decorationProvider.getDecorationOption(Et,at<=J)),Et&&at>J&&(J=at),We++}};for(let $e of Xe){let at=$e.regionIndex,Et=this._editorDecorationIds[at];if(Et&&!ft[Et]){ft[Et]=!0,_e(at);let Lt=!this._regions.isCollapsed(at);this._regions.setCollapsed(at,Lt),Ne=Math.max(Ne,this._regions.getEndLineNumber(at))}}_e(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:Xe})}update(Xe,ft=[]){let Oe=[],Ne=-1,J=(Lt,Pt)=>{const on=Xe.getStartLineNumber(Lt),Kt=Xe.getEndLineNumber(Lt);Pt&&((Lt,Pt)=>{for(let on of ft)if(Lt<on&&on<=Pt)return!0;return!1})(on,Kt)&&(Pt=!1),Xe.setCollapsed(Lt,Pt);const bn=this._textModel.getLineMaxColumn(on),yn={startLineNumber:on,startColumn:Math.max(bn-1,1),endLineNumber:on,endColumn:bn};Oe.push({range:yn,options:this._decorationProvider.getDecorationOption(Pt,Kt<=Ne)}),Pt&&Kt>Ne&&(Ne=Kt)},_e=0,$e=()=>{for(;_e<this._regions.length;){let Lt=this._regions.isCollapsed(_e);if(_e++,Lt)return _e-1}return-1},at=0,Et=$e();for(;-1!==Et&&at<Xe.length;){let Lt=this._textModel.getDecorationRange(this._editorDecorationIds[Et]);if(Lt){let Pt=Lt.startLineNumber;if(Lt.startColumn===Math.max(Lt.endColumn-1,1)&&this._textModel.getLineMaxColumn(Pt)===Lt.endColumn)for(;at<Xe.length;){let on=Xe.getStartLineNumber(at);if(!(Pt>=on))break;J(at,Pt===on),at++}}Et=$e()}for(;at<Xe.length;)J(at,!1),at++;this._editorDecorationIds=this._decorationProvider.deltaDecorations(this._editorDecorationIds,Oe),this._regions=Xe,this._isInitialized=!0,this._updateEventEmitter.fire({model:this})}getMemento(){let Xe=[];for(let ft=0;ft<this._regions.length;ft++)if(this._regions.isCollapsed(ft)){let Oe=this._textModel.getDecorationRange(this._editorDecorationIds[ft]);if(Oe){let We=Oe.startLineNumber,Ne=Oe.endLineNumber+this._regions.getEndLineNumber(ft)-this._regions.getStartLineNumber(ft);Xe.push({startLineNumber:We,endLineNumber:Ne})}}if(Xe.length>0)return Xe}applyMemento(Xe){if(!Array.isArray(Xe))return;let ft=[];for(let Oe of Xe){let We=this.getRegionAtLine(Oe.startLineNumber);We&&!We.isCollapsed&&ft.push(We)}this.toggleCollapseState(ft)}dispose(){this._decorationProvider.deltaDecorations(this._editorDecorationIds,[])}getAllRegionsAtLine(Xe,ft){let Oe=[];if(this._regions){let We=this._regions.findRange(Xe),Ne=1;for(;We>=0;){let J=this._regions.toRegion(We);(!ft||ft(J,Ne))&&Oe.push(J),Ne++,We=J.parentIndex}}return Oe}getRegionAtLine(Xe){if(this._regions){let ft=this._regions.findRange(Xe);if(ft>=0)return this._regions.toRegion(ft)}return null}getRegionsInside(Xe,ft){let Oe=[],We=Xe?Xe.regionIndex+1:0,Ne=Xe?Xe.endLineNumber:Number.MAX_VALUE;if(ft&&2===ft.length){const J=[];for(let _e=We,$e=this._regions.length;_e<$e;_e++){let at=this._regions.toRegion(_e);if(!(this._regions.getStartLineNumber(_e)<Ne))break;for(;J.length>0&&!at.containedBy(J[J.length-1]);)J.pop();J.push(at),ft(at,J.length)&&Oe.push(at)}}else for(let J=We,_e=this._regions.length;J<_e;J++){let $e=this._regions.toRegion(J);if(!(this._regions.getStartLineNumber(J)<Ne))break;(!ft||ft($e))&&Oe.push($e)}return Oe}}function S(Dt,Xe,ft=Number.MAX_VALUE,Oe){let We=[];if(Oe&&Oe.length>0)for(let Ne of Oe){let J=Dt.getRegionAtLine(Ne);if(J&&(J.isCollapsed!==Xe&&We.push(J),ft>1)){let _e=Dt.getRegionsInside(J,($e,at)=>$e.isCollapsed!==Xe&&at<ft);We.push(..._e)}}else{let Ne=Dt.getRegionsInside(null,(J,_e)=>J.isCollapsed!==Xe&&_e<ft);We.push(...Ne)}Dt.toggleCollapseState(We)}function v(Dt,Xe,ft,Oe){let We=[];for(let Ne of Oe){let J=Dt.getAllRegionsAtLine(Ne,(_e,$e)=>_e.isCollapsed!==Xe&&$e<=ft);We.push(...J)}Dt.toggleCollapseState(We)}function f(Dt,Xe,ft){let Oe=[];for(let J of ft)Oe.push(Dt.getAllRegionsAtLine(J,void 0)[0]);let Ne=Dt.getRegionsInside(null,J=>Oe.every(_e=>!_e.containedBy(J)&&!J.containedBy(_e))&&J.isCollapsed!==Xe);Dt.toggleCollapseState(Ne)}function m(Dt,Xe,ft){let Oe=Dt.textModel,We=Dt.regions,Ne=[];for(let J=We.length-1;J>=0;J--)if(ft!==We.isCollapsed(J)){let _e=We.getStartLineNumber(J);Xe.test(Oe.getLineContent(_e))&&Ne.push(We.toRegion(J))}Dt.toggleCollapseState(Ne)}function L(Dt,Xe,ft){let Oe=Dt.regions,We=[];for(let Ne=Oe.length-1;Ne>=0;Ne--)ft!==Oe.isCollapsed(Ne)&&Xe===Oe.getType(Ne)&&We.push(Oe.toRegion(Ne));Dt.toggleCollapseState(We)}var F=a(111),G=a(521),Y=a(6571),de=a(6803);const le=(0,Y.q5)("folding-expanded",G.lA.chevronDown,(0,U.N)("foldingExpandedIcon","Icon for expanded ranges in the editor glyph margin.")),ce=(0,Y.q5)("folding-collapsed",G.lA.chevronRight,(0,U.N)("foldingCollapsedIcon","Icon for collapsed ranges in the editor glyph margin."));class be{constructor(Xe){this.editor=Xe,this.autoHideFoldingControls=!0,this.showFoldingHighlights=!0}getDecorationOption(Xe,ft){return ft?be.HIDDEN_RANGE_DECORATION:Xe?this.showFoldingHighlights?be.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:be.COLLAPSED_VISUAL_DECORATION:this.autoHideFoldingControls?be.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:be.EXPANDED_VISUAL_DECORATION}deltaDecorations(Xe,ft){return this.editor.deltaDecorations(Xe,ft)}changeDecorations(Xe){return this.editor.changeDecorations(Xe)}}be.COLLAPSED_VISUAL_DECORATION=F.qx.register({description:"folding-collapsed-visual-decoration",stickiness:1,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:de.kS.asClassName(ce)}),be.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=F.qx.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:1,afterContentClassName:"inline-folded",className:"folded-background",isWholeLine:!0,firstLineDecorationClassName:de.kS.asClassName(ce)}),be.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=F.qx.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:de.kS.asClassName(le)}),be.EXPANDED_VISUAL_DECORATION=F.qx.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+de.kS.asClassName(le)}),be.HIDDEN_RANGE_DECORATION=F.qx.register({description:"folding-hidden-range-decoration",stickiness:1});var N=a(9549),V=a(8487),Z=a(2291);class ie{constructor(Xe){this._updateEventEmitter=new d.Q5,this._foldingModel=Xe,this._foldingModelListener=Xe.onDidChange(ft=>this.updateHiddenRanges()),this._hiddenRanges=[],Xe.regions.length&&this.updateHiddenRanges()}get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}updateHiddenRanges(){let Xe=!1,ft=[],Oe=0,We=0,Ne=Number.MAX_VALUE,J=-1,_e=this._foldingModel.regions;for(;Oe<_e.length;Oe++){if(!_e.isCollapsed(Oe))continue;let $e=_e.getStartLineNumber(Oe)+1,at=_e.getEndLineNumber(Oe);Ne<=$e&&at<=J||(!Xe&&We<this._hiddenRanges.length&&this._hiddenRanges[We].startLineNumber===$e&&this._hiddenRanges[We].endLineNumber===at?(ft.push(this._hiddenRanges[We]),We++):(Xe=!0,ft.push(new V.e($e,1,at,1))),Ne=$e,J=at)}(Xe||We<this._hiddenRanges.length)&&this.applyHiddenRanges(ft)}applyMemento(Xe){if(!Array.isArray(Xe)||0===Xe.length)return!1;let ft=[];for(let Oe of Xe){if(!Oe.startLineNumber||!Oe.endLineNumber)return!1;ft.push(new V.e(Oe.startLineNumber+1,1,Oe.endLineNumber,1))}return this.applyHiddenRanges(ft),!0}getMemento(){return this._hiddenRanges.map(Xe=>({startLineNumber:Xe.startLineNumber-1,endLineNumber:Xe.endLineNumber}))}applyHiddenRanges(Xe){this._hiddenRanges=Xe,this._updateEventEmitter.fire(Xe)}hasRanges(){return this._hiddenRanges.length>0}isHidden(Xe){return null!==oe(this._hiddenRanges,Xe)}adjustSelections(Xe){let ft=!1,Oe=this._foldingModel.textModel,We=null,Ne=J=>((!We||!function(Dt,Xe){return Dt>=Xe.startLineNumber&&Dt<=Xe.endLineNumber}(J,We))&&(We=oe(this._hiddenRanges,J)),We?We.startLineNumber-1:null);for(let J=0,_e=Xe.length;J<_e;J++){let $e=Xe[J],at=Ne($e.startLineNumber);at&&($e=$e.setStartPosition(at,Oe.getLineMaxColumn(at)),ft=!0);let Et=Ne($e.endLineNumber);Et&&($e=$e.setEndPosition(Et,Oe.getLineMaxColumn(Et)),ft=!0),Xe[J]=$e}return ft}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}}function oe(Dt,Xe){let ft=(0,Z.lG)(Dt,Oe=>Xe<Oe.startLineNumber)-1;return ft>=0&&Dt[ft].endLineNumber>=Xe?Dt[ft]:null}var ee=a(2587);class he{constructor(Xe){this.editorModel=Xe,this.id="indent"}dispose(){}compute(Xe){let ft=ee.zu.getFoldingRules(this.editorModel.getLanguageIdentifier().id);return Promise.resolve(function(Dt,Xe,ft,Oe=5e3){const We=Dt.getOptions().tabSize;let J,Ne=new ge(Oe);ft&&(J=new RegExp(`(${ft.start.source})|(?:${ft.end.source})`));let _e=[],$e=Dt.getLineCount()+1;_e.push({indent:-1,endAbove:$e,line:$e});for(let at=Dt.getLineCount();at>0;at--){let on,Et=Dt.getLineContent(at),Lt=F.yO.computeIndentLevel(Et,We),Pt=_e[_e.length-1];if(-1!==Lt){if(J&&(on=Et.match(J))){if(!on[1]){_e.push({indent:-2,endAbove:at,line:at});continue}{let Kt=_e.length-1;for(;Kt>0&&-2!==_e[Kt].indent;)Kt--;if(Kt>0){_e.length=Kt+1,Pt=_e[Kt],Ne.insertFirst(at,Pt.line,Lt),Pt.line=at,Pt.indent=Lt,Pt.endAbove=at;continue}}}if(Pt.indent>Lt){do{_e.pop(),Pt=_e[_e.length-1]}while(Pt.indent>Lt);let Kt=Pt.endAbove-1;Kt-at>=1&&Ne.insertFirst(at,Kt,Lt)}Pt.indent===Lt?Pt.endAbove=at:_e.push({indent:Lt,endAbove:at,line:at})}else Xe&&(Pt.endAbove=at)}return Ne.toIndentRanges(Dt)}(this.editorModel,ft&&!!ft.offSide,ft&&ft.markers))}}class ge{constructor(Xe){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=Xe}insertFirst(Xe,ft,Oe){if(Xe>g||ft>g)return;let We=this._length;this._startIndexes[We]=Xe,this._endIndexes[We]=ft,this._length++,Oe<1e3&&(this._indentOccurrences[Oe]=(this._indentOccurrences[Oe]||0)+1)}toIndentRanges(Xe){if(this._length<=this._foldingRangesLimit){let ft=new Uint32Array(this._length),Oe=new Uint32Array(this._length);for(let We=this._length-1,Ne=0;We>=0;We--,Ne++)ft[Ne]=this._startIndexes[We],Oe[Ne]=this._endIndexes[We];return new I(ft,Oe)}{let ft=0,Oe=this._indentOccurrences.length;for(let _e=0;_e<this._indentOccurrences.length;_e++){let $e=this._indentOccurrences[_e];if($e){if($e+ft>this._foldingRangesLimit){Oe=_e;break}ft+=$e}}const We=Xe.getOptions().tabSize;let Ne=new Uint32Array(this._foldingRangesLimit),J=new Uint32Array(this._foldingRangesLimit);for(let _e=this._length-1,$e=0;_e>=0;_e--){let at=this._startIndexes[_e],Et=Xe.getLineContent(at),Lt=F.yO.computeIndentLevel(Et,We);(Lt<Oe||Lt===Oe&&ft++<this._foldingRangesLimit)&&(Ne[$e]=at,J[$e]=this._endIndexes[_e],$e++)}return new I(Ne,J)}}}var ye=a(6412),ke=a(5160);const Pe={};class Te{constructor(Xe,ft,Oe,We=5e3){this.editorModel=Xe,this.providers=ft,this.limit=We,this.id="syntax";for(const Ne of ft)"function"==typeof Ne.onDidChange&&(this.disposables||(this.disposables=new B.SL),this.disposables.add(Ne.onDidChange(Oe)))}compute(Xe){return function(Dt,Xe,ft){let Oe=null,We=Dt.map((Ne,J)=>Promise.resolve(Ne.provideFoldingRanges(Xe,Pe,ft)).then(_e=>{if(!ft.isCancellationRequested&&Array.isArray(_e)){Array.isArray(Oe)||(Oe=[]);let $e=Xe.getLineCount();for(let at of _e)at.start>0&&at.end>at.start&&at.end<=$e&&Oe.push({start:at.start,end:at.end,rank:J,kind:at.kind})}},ke.Cp));return Promise.all(We).then(Ne=>Oe)}(this.providers,this.editorModel,Xe).then(ft=>ft?pe(ft,this.limit):null)}dispose(){var Xe;null===(Xe=this.disposables)||void 0===Xe||Xe.dispose()}}class Je{constructor(Xe){this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=Xe}add(Xe,ft,Oe,We){if(Xe>g||ft>g)return;let Ne=this._length;this._startIndexes[Ne]=Xe,this._endIndexes[Ne]=ft,this._nestingLevels[Ne]=We,this._types[Ne]=Oe,this._length++,We<30&&(this._nestingLevelCounts[We]=(this._nestingLevelCounts[We]||0)+1)}toIndentRanges(){if(this._length<=this._foldingRangesLimit){let Xe=new Uint32Array(this._length),ft=new Uint32Array(this._length);for(let Oe=0;Oe<this._length;Oe++)Xe[Oe]=this._startIndexes[Oe],ft[Oe]=this._endIndexes[Oe];return new I(Xe,ft,this._types)}{let Xe=0,ft=this._nestingLevelCounts.length;for(let J=0;J<this._nestingLevelCounts.length;J++){let _e=this._nestingLevelCounts[J];if(_e){if(_e+Xe>this._foldingRangesLimit){ft=J;break}Xe+=_e}}let Oe=new Uint32Array(this._foldingRangesLimit),We=new Uint32Array(this._foldingRangesLimit),Ne=[];for(let J=0,_e=0;J<this._length;J++){let $e=this._nestingLevels[J];($e<ft||$e===ft&&Xe++<this._foldingRangesLimit)&&(Oe[_e]=this._startIndexes[J],We[_e]=this._endIndexes[J],Ne[_e]=this._types[J],_e++)}return new I(Oe,We,Ne)}}}function pe(Dt,Xe){let We,ft=Dt.sort((J,_e)=>{let $e=J.start-_e.start;return 0===$e&&($e=J.rank-_e.rank),$e}),Oe=new Je(Xe),Ne=[];for(let J of ft)if(We){if(J.start>We.start)if(J.end<=We.end)Ne.push(We),We=J,Oe.add(J.start,J.end,J.kind&&J.kind.value,Ne.length);else{if(J.start>We.end){do{We=Ne.pop()}while(We&&J.start>We.end);We&&Ne.push(We),We=J}Oe.add(J.start,J.end,J.kind&&J.kind.value,Ne.length)}}else We=J,Oe.add(J.start,J.end,J.kind&&J.kind.value,Ne.length);return Oe.toIndentRanges()}class Ae{constructor(Xe,ft,Oe,We){if(this.editorModel=Xe,this.id="init",ft.length){let Ne=J=>({range:{startLineNumber:J.startLineNumber,startColumn:0,endLineNumber:J.endLineNumber,endColumn:Xe.getLineLength(J.endLineNumber)},options:{description:"folding-initializing-range-provider",stickiness:1}});this.decorationIds=Xe.deltaDecorations([],ft.map(Ne)),this.timeout=setTimeout(Oe,We)}}dispose(){this.decorationIds&&(this.editorModel.deltaDecorations(this.decorationIds,[]),this.decorationIds=void 0),"number"==typeof this.timeout&&(clearTimeout(this.timeout),this.timeout=void 0)}compute(Xe){let ft=[];if(this.decorationIds)for(let Oe of this.decorationIds){let We=this.editorModel.getDecorationRange(Oe);We&&ft.push({start:We.startLineNumber,end:We.endLineNumber,rank:1})}return Promise.resolve(pe(ft,Number.MAX_VALUE))}}var Ee=a(2844),ze=a(7251);const ot=new Ee.uy("foldingEnabled",!1);let vt=class MR extends B.JT{constructor(Xe,ft){super(),this.contextKeyService=ft,this.localToDispose=this._register(new B.SL),this.editor=Xe;const Oe=this.editor.getOptions();this._isEnabled=Oe.get(35),this._useFoldingProviders="indentation"!==Oe.get(36),this._unfoldOnClickAfterEndOfLine=Oe.get(38),this._restoringViewState=!1,this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingStateMemento=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new be(Xe),this.foldingDecorationProvider.autoHideFoldingControls="mouseover"===Oe.get(97),this.foldingDecorationProvider.showFoldingHighlights=Oe.get(37),this.foldingEnabled=ot.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration(We=>{if(We.hasChanged(35)&&(this._isEnabled=this.editor.getOptions().get(35),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),We.hasChanged(97)||We.hasChanged(37)){const Ne=this.editor.getOptions();this.foldingDecorationProvider.autoHideFoldingControls="mouseover"===Ne.get(97),this.foldingDecorationProvider.showFoldingHighlights=Ne.get(37),this.onModelContentChanged()}We.hasChanged(36)&&(this._useFoldingProviders="indentation"!==this.editor.getOptions().get(36),this.onFoldingStrategyChanged()),We.hasChanged(38)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(38))})),this.onModelChanged()}static get(Xe){return Xe.getContribution(MR.ID)}saveViewState(){let Xe=this.editor.getModel();if(!Xe||!this._isEnabled||Xe.isTooLargeForTokenization())return{};if(this.foldingModel){let ft=this.foldingModel.isInitialized?this.foldingModel.getMemento():this.hiddenRangeModel.getMemento(),Oe=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:ft,lineCount:Xe.getLineCount(),provider:Oe}}}restoreViewState(Xe){let ft=this.editor.getModel();if(!ft||!this._isEnabled||ft.isTooLargeForTokenization()||!this.hiddenRangeModel||!Xe||!Xe.collapsedRegions||Xe.lineCount!==ft.getLineCount())return;("syntax"===Xe.provider||"init"===Xe.provider)&&(this.foldingStateMemento=Xe);const Oe=Xe.collapsedRegions;if(this.hiddenRangeModel.applyMemento(Oe)){const We=this.getFoldingModel();We&&We.then(Ne=>{if(Ne){this._restoringViewState=!0;try{Ne.applyMemento(Oe)}finally{this._restoringViewState=!1}}}).then(void 0,ke.dL)}}onModelChanged(){this.localToDispose.clear();let Xe=this.editor.getModel();!this._isEnabled||!Xe||Xe.isTooLargeForTokenization()||(this.foldingModel=new w(Xe,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new ie(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(ft=>this.onHiddenRangesChanges(ft))),this.updateScheduler=new k.vp(200),this.cursorChangedScheduler=new k.pY(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(ye.aC.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent(()=>this.onModelContentChanged())),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown(ft=>this.onEditorMouseDown(ft))),this.localToDispose.add(this.editor.onMouseUp(ft=>this.onEditorMouseUp(ft))),this.localToDispose.add({dispose:()=>{this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.updateScheduler&&this.updateScheduler.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,this.foldingStateMemento=null,this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null}}),this.onModelContentChanged())}onFoldingStrategyChanged(){this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null,this.onModelContentChanged()}getRangeProvider(Xe){if(this.rangeProvider)return this.rangeProvider;if(this.rangeProvider=new he(Xe),this._useFoldingProviders&&this.foldingModel){let ft=ye.aC.ordered(this.foldingModel.textModel);if(0===ft.length&&this.foldingStateMemento&&this.foldingStateMemento.collapsedRegions)return this.rangeProvider=new Ae(Xe,this.foldingStateMemento.collapsedRegions,()=>{this.foldingStateMemento=null,this.onFoldingStrategyChanged()},3e4);ft.length>0&&(this.rangeProvider=new Te(Xe,ft,()=>this.onModelContentChanged()))}return this.foldingStateMemento=null,this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onModelContentChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(()=>{const Xe=this.foldingModel;if(!Xe)return null;let ft=this.foldingRegionPromise=(0,k.PG)(Oe=>this.getRangeProvider(Xe.textModel).compute(Oe));return ft.then(Oe=>{if(Oe&&ft===this.foldingRegionPromise){let We=this.editor.getSelections(),Ne=We?We.map(J=>J.startLineNumber):[];Xe.update(Oe,Ne)}return Xe})}).then(void 0,Xe=>((0,ke.dL)(Xe),null)))}onHiddenRangesChanges(Xe){if(this.hiddenRangeModel&&Xe.length&&!this._restoringViewState){let ft=this.editor.getSelections();ft&&this.hiddenRangeModel.adjustSelections(ft)&&this.editor.setSelections(ft)}this.editor.setHiddenAreas(Xe)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){const Xe=this.getFoldingModel();!Xe||Xe.then(ft=>{if(ft){let Oe=this.editor.getSelections();if(Oe&&Oe.length>0){let We=[];for(let Ne of Oe){let J=Ne.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(J)&&We.push(...ft.getAllRegionsAtLine(J,_e=>_e.isCollapsed&&J>_e.startLineNumber))}We.length&&(ft.toggleCollapseState(We),this.reveal(Oe[0].getPosition()))}}}).then(void 0,ke.dL)}onEditorMouseDown(Xe){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!Xe.target||!Xe.target.range||!Xe.event.leftButton&&!Xe.event.middleButton)return;const ft=Xe.target.range;let Oe=!1;switch(Xe.target.type){case 4:if(Xe.target.detail.offsetX-Xe.target.element.offsetLeft<5)return;Oe=!0;break;case 7:if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()&&!Xe.target.detail.isAfterLines)break;return;case 6:if(this.hiddenRangeModel.hasRanges()){let _e=this.editor.getModel();if(_e&&ft.startColumn===_e.getLineMaxColumn(ft.startLineNumber))break}return;default:return}this.mouseDownInfo={lineNumber:ft.startLineNumber,iconClicked:Oe}}onEditorMouseUp(Xe){const ft=this.getFoldingModel();if(!ft||!this.mouseDownInfo||!Xe.target)return;let Oe=this.mouseDownInfo.lineNumber,We=this.mouseDownInfo.iconClicked,Ne=Xe.target.range;if(Ne&&Ne.startLineNumber===Oe){if(We){if(4!==Xe.target.type)return}else{let J=this.editor.getModel();if(!J||Ne.startColumn!==J.getLineMaxColumn(Oe))return}ft.then(J=>{if(J){let _e=J.getRegionAtLine(Oe);if(_e&&_e.startLineNumber===Oe){let $e=_e.isCollapsed;if(We||$e){let Et=[];if(Xe.event.altKey){let Pt=J.getRegionsInside(null,on=>!on.containedBy(_e)&&!_e.containedBy(on));for(const on of Pt)on.isCollapsed&&Et.push(on);0===Et.length&&(Et=Pt)}else{let Lt=Xe.event.middleButton||Xe.event.shiftKey;if(Lt)for(const Pt of J.getRegionsInside(_e))Pt.isCollapsed===$e&&Et.push(Pt);($e||!Lt||0===Et.length)&&Et.push(_e)}J.toggleCollapseState(Et),this.reveal({lineNumber:Oe,column:1})}}}}).then(void 0,ke.dL)}}reveal(Xe){this.editor.revealPositionInCenterIfOutsideViewport(Xe,0)}};var Xe;vt.ID="editor.contrib.folding",vt=function(Dt,Xe,ft,Oe){var J,We=arguments.length,Ne=We<3?Xe:null===Oe?Oe=Object.getOwnPropertyDescriptor(Xe,ft):Oe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ne=Reflect.decorate(Dt,Xe,ft,Oe);else for(var _e=Dt.length-1;_e>=0;_e--)(J=Dt[_e])&&(Ne=(We<3?J(Ne):We>3?J(Xe,ft,Ne):J(Xe,ft))||Ne);return We>3&&Ne&&Object.defineProperty(Xe,ft,Ne),Ne}([(1,Xe=Ee.i6,function(ft,Oe){Xe(ft,Oe,1)})],vt);class At extends R.R6{runEditorCommand(Xe,ft,Oe){let We=vt.get(ft);if(!We)return;let Ne=We.getFoldingModel();return Ne?(this.reportTelemetry(Xe,ft),Ne.then(J=>{if(J){this.invoke(We,J,ft,Oe);const _e=ft.getSelection();_e&&We.reveal(_e.getStartPosition())}})):void 0}getSelectedLines(Xe){let ft=Xe.getSelections();return ft?ft.map(Oe=>Oe.startLineNumber):[]}getLineNumbers(Xe,ft){return Xe&&Xe.selectionLines?Xe.selectionLines.map(Oe=>Oe+1):this.getSelectedLines(ft)}run(Xe,ft){}}function ve(Dt){if(!j.o8(Dt)){if(!j.Kn(Dt))return!1;const Xe=Dt;if(!j.o8(Xe.levels)&&!j.hj(Xe.levels)||!j.o8(Xe.direction)&&!j.HD(Xe.direction)||!j.o8(Xe.selectionLines)&&(!j.kJ(Xe.selectionLines)||!Xe.selectionLines.every(j.hj)))return!1}return!0}let nt=(()=>{class Dt extends At{getFoldingLevel(){return parseInt(this.id.substr(Dt.ID_PREFIX.length))}invoke(ft,Oe,We){!function(Dt,Xe,ft,Oe){let Ne=Dt.getRegionsInside(null,(J,_e)=>_e===Xe&&true!==J.isCollapsed&&!Oe.some($e=>J.containsLine($e)));Dt.toggleCollapseState(Ne)}(Oe,this.getFoldingLevel(),0,this.getSelectedLines(We))}}return Dt.ID_PREFIX="editor.foldLevel",Dt.ID=Xe=>Dt.ID_PREFIX+Xe,Dt})();(0,R._K)(vt.ID,vt),(0,R.Qr)(class extends At{constructor(){super({id:"editor.unfold",label:U.N("unfoldAction.label","Unfold"),alias:"Unfold",precondition:ot,kbOpts:{kbExpr:N.u.editorTextFocus,primary:3161,mac:{primary:2649},weight:100},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t\t* 'levels': Number of levels to unfold. If not set, defaults to 1.\n\t\t\t\t\t\t* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.\n\t\t\t\t\t\t* 'selectionLines': The start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.\n\t\t\t\t\t\t",constraint:ve,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(Xe,ft,Oe,We){let Ne=We&&We.levels||1,J=this.getLineNumbers(We,Oe);We&&"up"===We.direction?v(ft,!1,Ne,J):S(ft,!1,Ne,J)}}),(0,R.Qr)(class extends At{constructor(){super({id:"editor.unfoldRecursively",label:U.N("unFoldRecursivelyAction.label","Unfold Recursively"),alias:"Unfold Recursively",precondition:ot,kbOpts:{kbExpr:N.u.editorTextFocus,primary:(0,$.gx)(2089,2137),weight:100}})}invoke(Xe,ft,Oe,We){S(ft,!1,Number.MAX_VALUE,this.getSelectedLines(Oe))}}),(0,R.Qr)(class extends At{constructor(){super({id:"editor.fold",label:U.N("foldAction.label","Fold"),alias:"Fold",precondition:ot,kbOpts:{kbExpr:N.u.editorTextFocus,primary:3159,mac:{primary:2647},weight:100},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t\t\t* 'levels': Number of levels to fold.\n\t\t\t\t\t\t\t* 'direction': If 'up', folds given number of levels up otherwise folds down.\n\t\t\t\t\t\t\t* 'selectionLines': The start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.\n\t\t\t\t\t\t\tIf no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.\n\t\t\t\t\t\t",constraint:ve,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(Xe,ft,Oe,We){let Ne=this.getLineNumbers(We,Oe);const J=We&&We.levels,_e=We&&We.direction;"number"!=typeof J&&"string"!=typeof _e?function(Dt,Xe,ft){let Oe=[];for(let We of ft){let Ne=Dt.getAllRegionsAtLine(We,J=>true!==J.isCollapsed);Ne.length>0&&Oe.push(Ne[0])}Dt.toggleCollapseState(Oe)}(ft,0,Ne):"up"===_e?v(ft,!0,J||1,Ne):S(ft,!0,J||1,Ne)}}),(0,R.Qr)(class extends At{constructor(){super({id:"editor.foldRecursively",label:U.N("foldRecursivelyAction.label","Fold Recursively"),alias:"Fold Recursively",precondition:ot,kbOpts:{kbExpr:N.u.editorTextFocus,primary:(0,$.gx)(2089,2135),weight:100}})}invoke(Xe,ft,Oe){let We=this.getSelectedLines(Oe);S(ft,!0,Number.MAX_VALUE,We)}}),(0,R.Qr)(class extends At{constructor(){super({id:"editor.foldAll",label:U.N("foldAllAction.label","Fold All"),alias:"Fold All",precondition:ot,kbOpts:{kbExpr:N.u.editorTextFocus,primary:(0,$.gx)(2089,2069),weight:100}})}invoke(Xe,ft,Oe){S(ft,!0)}}),(0,R.Qr)(class extends At{constructor(){super({id:"editor.unfoldAll",label:U.N("unfoldAllAction.label","Unfold All"),alias:"Unfold All",precondition:ot,kbOpts:{kbExpr:N.u.editorTextFocus,primary:(0,$.gx)(2089,2088),weight:100}})}invoke(Xe,ft,Oe){S(ft,!1)}}),(0,R.Qr)(class extends At{constructor(){super({id:"editor.foldAllBlockComments",label:U.N("foldAllBlockComments.label","Fold All Block Comments"),alias:"Fold All Block Comments",precondition:ot,kbOpts:{kbExpr:N.u.editorTextFocus,primary:(0,$.gx)(2089,2133),weight:100}})}invoke(Xe,ft,Oe){if(ft.regions.hasTypes())L(ft,ye.AD.Comment.value,!0);else{const We=Oe.getModel();if(!We)return;let Ne=ee.zu.getComments(We.getLanguageIdentifier().id);Ne&&Ne.blockCommentStartToken&&m(ft,new RegExp("^\\s*"+(0,O.ec)(Ne.blockCommentStartToken)),!0)}}}),(0,R.Qr)(class extends At{constructor(){super({id:"editor.foldAllMarkerRegions",label:U.N("foldAllMarkerRegions.label","Fold All Regions"),alias:"Fold All Regions",precondition:ot,kbOpts:{kbExpr:N.u.editorTextFocus,primary:(0,$.gx)(2089,2077),weight:100}})}invoke(Xe,ft,Oe){if(ft.regions.hasTypes())L(ft,ye.AD.Region.value,!0);else{const We=Oe.getModel();if(!We)return;let Ne=ee.zu.getFoldingRules(We.getLanguageIdentifier().id);Ne&&Ne.markers&&Ne.markers.start&&m(ft,new RegExp(Ne.markers.start),!0)}}}),(0,R.Qr)(class extends At{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:U.N("unfoldAllMarkerRegions.label","Unfold All Regions"),alias:"Unfold All Regions",precondition:ot,kbOpts:{kbExpr:N.u.editorTextFocus,primary:(0,$.gx)(2089,2078),weight:100}})}invoke(Xe,ft,Oe){if(ft.regions.hasTypes())L(ft,ye.AD.Region.value,!1);else{const We=Oe.getModel();if(!We)return;let Ne=ee.zu.getFoldingRules(We.getLanguageIdentifier().id);Ne&&Ne.markers&&Ne.markers.start&&m(ft,new RegExp(Ne.markers.start),!1)}}}),(0,R.Qr)(class extends At{constructor(){super({id:"editor.foldAllExcept",label:U.N("foldAllExcept.label","Fold All Regions Except Selected"),alias:"Fold All Regions Except Selected",precondition:ot,kbOpts:{kbExpr:N.u.editorTextFocus,primary:(0,$.gx)(2089,2131),weight:100}})}invoke(Xe,ft,Oe){f(ft,!0,this.getSelectedLines(Oe))}}),(0,R.Qr)(class extends At{constructor(){super({id:"editor.unfoldAllExcept",label:U.N("unfoldAllExcept.label","Unfold All Regions Except Selected"),alias:"Unfold All Regions Except Selected",precondition:ot,kbOpts:{kbExpr:N.u.editorTextFocus,primary:(0,$.gx)(2089,2129),weight:100}})}invoke(Xe,ft,Oe){f(ft,!1,this.getSelectedLines(Oe))}}),(0,R.Qr)(class extends At{constructor(){super({id:"editor.toggleFold",label:U.N("toggleFoldAction.label","Toggle Fold"),alias:"Toggle Fold",precondition:ot,kbOpts:{kbExpr:N.u.editorTextFocus,primary:(0,$.gx)(2089,2090),weight:100}})}invoke(Xe,ft,Oe){!function(Dt,Xe,ft){let Oe=[];for(let We of ft){let Ne=Dt.getRegionAtLine(We);if(Ne){Oe.push(Ne),0}}Dt.toggleCollapseState(Oe)}(ft,0,this.getSelectedLines(Oe))}});for(let Dt=1;Dt<=7;Dt++)(0,R.QG)(new nt({id:nt.ID(Dt),label:U.N("foldLevelAction.label","Fold Level {0}",Dt),alias:`Fold Level ${Dt}`,precondition:ot,kbOpts:{kbExpr:N.u.editorTextFocus,primary:(0,$.gx)(2089,2048|21+Dt),weight:100}}));const bt=(0,ze.P6)("editor.foldBackground",{light:(0,ze.Zn)(ze.hE,.3),dark:(0,ze.Zn)(ze.hE,.3),hc:null},U.N("foldBackgroundBackground","Background color behind folded ranges. The color must not be opaque so as not to hide underlying decorations."),!0),Rt=(0,ze.P6)("editorGutter.foldingControlForeground",{dark:ze.XZ,light:ze.XZ,hc:ze.XZ},U.N("editorGutter.foldingControlForeground","Color of the folding control in the editor gutter."));(0,de.Ic)((Dt,Xe)=>{const ft=Dt.getColor(bt);ft&&Xe.addRule(`.monaco-editor .folded-background { background-color: ${ft}; }`);const Oe=Dt.getColor(Rt);Oe&&Xe.addRule(`\n\t\t.monaco-editor .cldr${de.kS.asCSSSelector(le)},\n\t\t.monaco-editor .cldr${de.kS.asCSSSelector(ce)} {\n\t\t\tcolor: ${Oe} !important;\n\t\t}\n\t\t`)})},6599:(Ct,Qe,a)=>{"use strict";a.r(Qe);var T=a(1606),U=a(4482),j=a(2303);(0,U.Qr)(class extends U.R6{constructor(){super({id:"editor.action.fontZoomIn",label:T.N("EditorFontZoomIn.label","Editor Font Zoom In"),alias:"Editor Font Zoom In",precondition:void 0})}run(R,d){j.C.setZoomLevel(j.C.getZoomLevel()+1)}}),(0,U.Qr)(class extends U.R6{constructor(){super({id:"editor.action.fontZoomOut",label:T.N("EditorFontZoomOut.label","Editor Font Zoom Out"),alias:"Editor Font Zoom Out",precondition:void 0})}run(R,d){j.C.setZoomLevel(j.C.getZoomLevel()-1)}}),(0,U.Qr)(class extends U.R6{constructor(){super({id:"editor.action.fontZoomReset",label:T.N("EditorFontZoomReset.label","Editor Font Zoom Reset"),alias:"Editor Font Zoom Reset",precondition:void 0})}run(R,d){j.C.setZoomLevel(0)}})},8664:(Ct,Qe,a)=>{"use strict";a.d(Qe,{xC:()=>G,Zg:()=>L,x$:()=>Y,Qq:()=>le,Qs:()=>V});var T=a(7579),U=a(2291),j=a(9357),O=a(5160),k=a(6746),$=a(1358),B=a(6957),R=a(2109),d=a(8487),C=a(9730),g=a(6412),b=a(4725),I=a(1954),p=a(8292),w=a(1606);class E{constructor(ie){this.value=ie,this._lower=ie.toLowerCase()}static toKey(ie){return"string"==typeof ie?ie.toLowerCase():ie._lower}}var S=a(4562),v=a(4857),M=a(8896),_=a(1882),f=a(5539),m=function(Z,ie,ue,oe){return new(ue||(ue=Promise))(function(K,ne){function he(ye){try{re(oe.next(ye))}catch(ke){ne(ke)}}function ge(ye){try{re(oe.throw(ye))}catch(ke){ne(ke)}}function re(ye){ye.done?K(ye.value):function(K){return K instanceof ue?K:new ue(function(ne){ne(K)})}(ye.value).then(he,ge)}re((oe=oe.apply(Z,ie||[])).next())})};function L(Z){if(!(Z=Z.filter(ee=>ee.range)).length)return;let{range:ie}=Z[0];for(let ee=1;ee<Z.length;ee++)ie=d.e.plusRange(ie,Z[ee].range);const{startLineNumber:ue,endLineNumber:oe}=ie;(0,T.Z9)(ue===oe?1===Z.length?w.N("hint11","Made 1 formatting edit on line {0}",ue):w.N("hintn1","Made {0} formatting edits on line {1}",Z.length,ue):1===Z.length?w.N("hint1n","Made 1 formatting edit between lines {0} and {1}",ue,oe):w.N("hintnn","Made {0} formatting edits between lines {1} and {2}",Z.length,ue,oe))}function F(Z){const ie=[],ue=new Set,oe=g.Az.ordered(Z);for(const K of oe)ie.push(K),K.extensionId&&ue.add(E.toKey(K.extensionId));const ee=g.vN.ordered(Z);for(const K of ee){if(K.extensionId){if(ue.has(E.toKey(K.extensionId)))continue;ue.add(E.toKey(K.extensionId))}ie.push({displayName:K.displayName,extensionId:K.extensionId,provideDocumentFormattingEdits:(ne,he,ge)=>K.provideDocumentRangeFormattingEdits(ne,ne.getFullModelRange(),he,ge)})}return ie}class G{static setFormatterSelector(ie){return{dispose:G._selectors.unshift(ie)}}static select(ie,ue,oe){return m(this,void 0,void 0,function*(){if(0===ie.length)return;const ee=f.$.first(G._selectors);return ee?yield ee(ie,ue,oe):void 0})}}function Y(Z,ie,ue,oe,ee,K){return m(this,void 0,void 0,function*(){const ne=Z.get(S.TG),he=(0,B.CL)(ie)?ie.getModel():ie,ge=g.vN.ordered(he),re=yield G.select(ge,he,oe);re&&(ee.report(re),yield ne.invokeFunction(de,re,ie,ue,K))})}function de(Z,ie,ue,oe,ee){return m(this,void 0,void 0,function*(){const K=Z.get(b.p);let ne,he;(0,B.CL)(ue)?(ne=ue.getModel(),he=new $.Dl(ue,5,void 0,ee)):(ne=ue,he=new $.YQ(ue,ee));let ge=[],re=0;for(let fe of(0,U._2)(oe).sort(d.e.compareRangesUsingStarts))re>0&&d.e.areIntersectingOrTouching(ge[re-1],fe)?ge[re-1]=d.e.fromPositions(ge[re-1].getStartPosition(),fe.getEndPosition()):re=ge.push(fe);const ye=fe=>m(this,void 0,void 0,function*(){return(yield ie.provideDocumentRangeFormattingEdits(ne,fe,ne.getFormattingOptions(),he.token))||[]}),ke=(fe,Te)=>{if(!fe.length||!Te.length)return!1;const Ce=fe.reduce((Je,pe)=>d.e.plusRange(Je,pe.range),fe[0].range);if(!Te.some(Je=>d.e.intersectRanges(Ce,Je.range)))return!1;for(let Je of fe)for(let pe of Te)if(d.e.intersectRanges(Je.range,pe.range))return!0;return!1},xe=[],Pe=[];try{for(let fe of ge){if(he.token.isCancellationRequested)return!0;Pe.push(yield ye(fe))}for(let fe=0;fe<ge.length;++fe)for(let Te=fe+1;Te<ge.length;++Te){if(he.token.isCancellationRequested)return!0;if(ke(Pe[fe],Pe[Te])){const Ce=d.e.plusRange(ge[fe],ge[Te]),Je=yield ye(Ce);ge.splice(Te,1),ge.splice(fe,1),ge.push(Ce),Pe.splice(Te,1),Pe.splice(fe,1),Pe.push(Je),fe=0,Te=0}}for(let fe of Pe){if(he.token.isCancellationRequested)return!0;const Te=yield K.computeMoreMinimalEdits(ne.uri,fe);Te&&xe.push(...Te)}}finally{he.dispose()}if(0===xe.length)return!1;if((0,B.CL)(ue))p.V.execute(ue,xe,!0),L(xe),ue.revealPositionInCenterIfOutsideViewport(ue.getPosition(),1);else{const[{range:fe}]=xe,Te=new C.Y(fe.startLineNumber,fe.startColumn,fe.endLineNumber,fe.endColumn);ne.pushEditOperations([Te],xe.map(Ce=>({text:Ce.text,range:d.e.lift(Ce.range),forceMoveMarkers:!0})),Ce=>{for(const{range:Je}of Ce)if(d.e.areIntersectingOrTouching(Je,Te))return[new C.Y(Je.startLineNumber,Je.startColumn,Je.endLineNumber,Je.endColumn)];return null})}return!0})}function le(Z,ie,ue,oe,ee){return m(this,void 0,void 0,function*(){const K=Z.get(S.TG),ne=(0,B.CL)(ie)?ie.getModel():ie,he=F(ne),ge=yield G.select(he,ne,ue);ge&&(oe.report(ge),yield K.invokeFunction(ce,ge,ie,ue,ee))})}function ce(Z,ie,ue,oe,ee){return m(this,void 0,void 0,function*(){const K=Z.get(b.p);let ne,he,ge;(0,B.CL)(ue)?(ne=ue.getModel(),he=new $.Dl(ue,5,void 0,ee)):(ne=ue,he=new $.YQ(ue,ee));try{const re=yield ie.provideDocumentFormattingEdits(ne,ne.getFormattingOptions(),he.token);if(ge=yield K.computeMoreMinimalEdits(ne.uri,re),he.token.isCancellationRequested)return!0}finally{he.dispose()}if(!ge||0===ge.length)return!1;if((0,B.CL)(ue))p.V.execute(ue,ge,2!==oe),2!==oe&&(L(ge),ue.revealPositionInCenterIfOutsideViewport(ue.getPosition(),1));else{const[{range:re}]=ge,ye=new C.Y(re.startLineNumber,re.startColumn,re.endLineNumber,re.endColumn);ne.pushEditOperations([ye],ge.map(ke=>({text:ke.text,range:d.e.lift(ke.range),forceMoveMarkers:!0})),ke=>{for(const{range:xe}of ke)if(d.e.areIntersectingOrTouching(xe,ye))return[new C.Y(xe.startLineNumber,xe.startColumn,xe.endLineNumber,xe.endColumn)];return null})}return!0})}function V(Z,ie,ue,oe,ee){const K=g.ln.ordered(ie);return 0===K.length||K[0].autoFormatTriggerCharacters.indexOf(oe)<0?Promise.resolve(void 0):Promise.resolve(K[0].provideOnTypeFormattingEdits(ie,ue,oe,ee,j.T.None)).catch(O.Cp).then(ne=>Z.computeMoreMinimalEdits(ie.uri,ne))}G._selectors=new v.S,M.P.registerCommand("_executeFormatRangeProvider",function(Z,...ie){const[ue,oe,ee]=ie;(0,_.p_)(k.o.isUri(ue)),(0,_.p_)(d.e.isIRange(oe));const K=Z.get(I.q).getModel(ue);if(!K)throw(0,O.b1)("resource");return function(Z,ie,ue,oe,ee){return m(this,void 0,void 0,function*(){const K=g.vN.ordered(ie);for(const ne of K){let he=yield Promise.resolve(ne.provideDocumentRangeFormattingEdits(ie,ue,oe,ee)).catch(O.Cp);if((0,U.Of)(he))return yield Z.computeMoreMinimalEdits(ie.uri,he)}})}(Z.get(b.p),K,d.e.lift(oe),ee,j.T.None)}),M.P.registerCommand("_executeFormatDocumentProvider",function(Z,...ie){const[ue,oe]=ie;(0,_.p_)(k.o.isUri(ue));const ee=Z.get(I.q).getModel(ue);if(!ee)throw(0,O.b1)("resource");return function(Z,ie,ue,oe){return m(this,void 0,void 0,function*(){const ee=F(ie);for(const K of ee){let ne=yield Promise.resolve(K.provideDocumentFormattingEdits(ie,ue,oe)).catch(O.Cp);if((0,U.Of)(ne))return yield Z.computeMoreMinimalEdits(ie.uri,ne)}})}(Z.get(b.p),ee,oe,j.T.None)}),M.P.registerCommand("_executeFormatOnTypeProvider",function(Z,...ie){const[ue,oe,ee,K]=ie;(0,_.p_)(k.o.isUri(ue)),(0,_.p_)(R.L.isIPosition(oe)),(0,_.p_)("string"==typeof ee);const ne=Z.get(I.q).getModel(ue);if(!ne)throw(0,O.b1)("resource");return V(Z.get(b.p),ne,R.L.lift(oe),ee,K)})},9338:(Ct,Qe,a)=>{"use strict";a.r(Qe);var T=a(2291),U=a(9357),j=a(4807),O=a(1719),k=a(4482),$=a(3779),B=a(5610),R=a(8487),d=a(9549),C=a(6412),g=a(4725),b=a(8664),I=a(8292),p=a(1606),w=a(8896),E=a(2844),S=a(4562),v=a(5160),M=a(723),_=function(de,le,ce,be){var Z,N=arguments.length,V=N<3?le:null===be?be=Object.getOwnPropertyDescriptor(le,ce):be;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)V=Reflect.decorate(de,le,ce,be);else for(var ie=de.length-1;ie>=0;ie--)(Z=de[ie])&&(V=(N<3?Z(V):N>3?Z(le,ce,V):Z(le,ce))||V);return N>3&&V&&Object.defineProperty(le,ce,V),V},f=function(de,le){return function(ce,be){le(ce,be,de)}},m=function(de,le,ce,be){return new(ce||(ce=Promise))(function(V,Z){function ie(ee){try{oe(be.next(ee))}catch(K){Z(K)}}function ue(ee){try{oe(be.throw(ee))}catch(K){Z(K)}}function oe(ee){ee.done?V(ee.value):function(V){return V instanceof ce?V:new ce(function(Z){Z(V)})}(ee.value).then(ie,ue)}oe((be=be.apply(de,le||[])).next())})};let L=class{constructor(le,ce){this._workerService=ce,this._callOnDispose=new O.SL,this._callOnModel=new O.SL,this._editor=le,this._callOnDispose.add(le.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(le.onDidChangeModel(()=>this._update())),this._callOnDispose.add(le.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(C.ln.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){if(this._callOnModel.clear(),!this._editor.getOption(45)||!this._editor.hasModel())return;const le=this._editor.getModel(),[ce]=C.ln.ordered(le);if(!ce||!ce.autoFormatTriggerCharacters)return;let be=new B.q;for(let N of ce.autoFormatTriggerCharacters)be.add(N.charCodeAt(0));this._callOnModel.add(this._editor.onDidType(N=>{let V=N.charCodeAt(N.length-1);be.has(V)&&this._trigger(String.fromCharCode(V))}))}_trigger(le){if(!this._editor.hasModel()||this._editor.getSelections().length>1)return;const ce=this._editor.getModel(),be=this._editor.getPosition();let N=!1;const V=this._editor.onDidChangeModelContent(Z=>{if(Z.isFlush)return N=!0,void V.dispose();for(let ie=0,ue=Z.changes.length;ie<ue;ie++)if(Z.changes[ie].range.endLineNumber<=be.lineNumber)return N=!0,void V.dispose()});(0,b.Qs)(this._workerService,ce,be,le,ce.getFormattingOptions()).then(Z=>{V.dispose(),!N&&(0,T.Of)(Z)&&(I.V.execute(this._editor,Z,!0),(0,b.Zg)(Z))},Z=>{throw V.dispose(),Z})}};L.ID="editor.contrib.autoFormat",L=_([f(1,g.p)],L);let F=class{constructor(le,ce){this.editor=le,this._instantiationService=ce,this._callOnDispose=new O.SL,this._callOnModel=new O.SL,this._callOnDispose.add(le.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(le.onDidChangeModel(()=>this._update())),this._callOnDispose.add(le.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(C.vN.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),this.editor.getOption(44)&&(!this.editor.hasModel()||!C.vN.has(this.editor.getModel())||this._callOnModel.add(this.editor.onDidPaste(({range:le})=>this._trigger(le))))}_trigger(le){!this.editor.hasModel()||this.editor.getSelections().length>1||this._instantiationService.invokeFunction(b.x$,this.editor,le,2,M.E.None,U.T.None).catch(v.dL)}};F.ID="editor.contrib.formatOnPaste",F=_([f(1,S.TG)],F),(0,k._K)(L.ID,L),(0,k._K)(F.ID,F),(0,k.Qr)(class extends k.R6{constructor(){super({id:"editor.action.formatDocument",label:p.N("formatDocument.label","Format Document"),alias:"Format Document",precondition:E.Ao.and(d.u.notInCompositeEditor,d.u.writable,d.u.hasDocumentFormattingProvider),kbOpts:{kbExpr:d.u.editorTextFocus,primary:1572,linux:{primary:3111},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}run(le,ce){return m(this,void 0,void 0,function*(){if(ce.hasModel()){const be=le.get(S.TG);yield le.get(M.e).showWhile(be.invokeFunction(b.Qq,ce,1,M.E.None,U.T.None),250)}})}}),(0,k.Qr)(class extends k.R6{constructor(){super({id:"editor.action.formatSelection",label:p.N("formatSelection.label","Format Selection"),alias:"Format Selection",precondition:E.Ao.and(d.u.writable,d.u.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:d.u.editorTextFocus,primary:(0,j.gx)(2089,2084),weight:100},contextMenuOpts:{when:d.u.hasNonEmptySelection,group:"1_modification",order:1.31}})}run(le,ce){return m(this,void 0,void 0,function*(){if(!ce.hasModel())return;const be=le.get(S.TG),N=ce.getModel(),V=ce.getSelections().map(ie=>ie.isEmpty()?new R.e(ie.startLineNumber,1,ie.startLineNumber,N.getLineMaxColumn(ie.startLineNumber)):ie);yield le.get(M.e).showWhile(be.invokeFunction(b.x$,ce,V,1,M.E.None,U.T.None),250)})}}),w.P.registerCommand("editor.action.format",de=>m(void 0,void 0,void 0,function*(){const le=de.get($.$).getFocusedCodeEditor();if(!le||!le.hasModel())return;const ce=de.get(w.H);le.getSelection().isEmpty()?yield ce.executeCommand("editor.action.formatDocument"):yield ce.executeCommand("editor.action.formatSelection")}))},8292:(Ct,Qe,a)=>{"use strict";a.d(Qe,{V:()=>j});var T=a(7900),U=a(8487);class j{static _handleEolEdits(k,$){let B,R=[];for(let d of $)"number"==typeof d.eol&&(B=d.eol),d.range&&"string"==typeof d.text&&R.push(d);return"number"==typeof B&&k.hasModel()&&k.getModel().pushEOL(B),R}static _isFullModelReplaceEdit(k,$){if(!k.hasModel())return!1;const B=k.getModel(),R=B.validateRange($.range);return B.getFullModelRange().equalsRange(R)}static execute(k,$,B){B&&k.pushUndoStop();const R=j._handleEolEdits(k,$);1===R.length&&j._isFullModelReplaceEdit(k,R[0])?k.executeEdits("formatEditsCommand",R.map(d=>T.h.replace(U.e.lift(d.range),d.text))):k.executeEdits("formatEditsCommand",R.map(d=>T.h.replaceMove(U.e.lift(d.range),d.text))),B&&k.pushUndoStop()}}},4891:(Ct,Qe,a)=>{"use strict";a.r(Qe),a.d(Qe,{MarkerController:()=>Ee,NextMarkerAction:()=>Be});var m,T=a(1606),U=a(1719),j=a(2844),O=a(2109),k=a(8487),$=a(4482),B=a(9549),d=(a(8668),a(1165)),C=a(1641),g=a(7251),b=a(6803),I=a(3727),p=a(4304),w=a(6844),E=a(2291),S=a(6723),v=a(1592),M=a(8401),_=a(1022),f=a(521);(m||(m={})).className=function(De){switch(De){case _.Z.Ignore:return"severity-ignore "+f.lA.info.classNames;case _.Z.Info:return f.lA.info.classNames;case _.Z.Warning:return f.lA.warning.classNames;case _.Z.Error:return f.lA.error.classNames;default:return""}},(0,b.Ic)((ht,Ge)=>{const De=ht.getColor(g.Jp);if(De){const _t=f.lA.error.cssSelector;Ge.addRule(`\n\t\t\t.monaco-editor .zone-widget ${_t},\n\t\t\t.markers-panel .marker-icon${_t},\n\t\t\t.text-search-provider-messages .providerMessage ${_t},\n\t\t\t.extensions-viewlet > .extensions ${_t} {\n\t\t\t\tcolor: ${De};\n\t\t\t}\n\t\t`)}const Le=ht.getColor(g.BO);if(Le){const _t=f.lA.warning.cssSelector;Ge.addRule(`\n\t\t\t.monaco-editor .zone-widget ${_t},\n\t\t\t.markers-panel .marker-icon${_t},\n\t\t\t.extensions-viewlet > .extensions ${_t},\n\t\t\t.extension-editor ${_t},\n\t\t\t.text-search-provider-messages .providerMessage ${_t},\n\t\t\t.preferences-editor ${_t} {\n\t\t\t\tcolor: ${Le};\n\t\t\t}\n\t\t`)}const dt=ht.getColor(g.OL);if(dt){const _t=f.lA.info.cssSelector;Ge.addRule(`\n\t\t\t.monaco-editor .zone-widget ${_t},\n\t\t\t.markers-panel .marker-icon${_t},\n\t\t\t.extensions-viewlet > .extensions ${_t},\n\t\t\t.text-search-provider-messages .providerMessage ${_t},\n\t\t\t.extension-editor ${_t} {\n\t\t\t\tcolor: ${dt};\n\t\t\t}\n\t\t`)}});var L=a(1227),F=a(2836),G=a(4120),Y=a(4562),de=a(579),le=a(5360),be=function(ht,Ge){return function(De,Le){Ge(De,Le,ht)}};class N{constructor(Ge,De,Le,dt,_t){this._openerService=dt,this._labelService=_t,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new U.SL,this._editor=De;const Nt=document.createElement("div");Nt.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),Nt.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),Nt.appendChild(this._relatedBlock),this._disposables.add(d.mu(this._relatedBlock,"click",zt=>{zt.preventDefault();const pn=this._relatedDiagnostics.get(zt.target);pn&&Le(pn)})),this._scrollable=new p.NB(Nt,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:3,verticalScrollbarSize:3}),Ge.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll(zt=>{Nt.style.left=`-${zt.scrollLeft}px`,Nt.style.top=`-${zt.scrollTop}px`})),this._disposables.add(this._scrollable)}dispose(){(0,U.B9)(this._disposables)}update(Ge){const{source:De,message:Le,relatedInformation:dt,code:_t}=Ge;let Nt=((null==De?void 0:De.length)||0)+"()".length;_t&&(Nt+="string"==typeof _t?_t.length:_t.value.length);const zt=(0,de.uq)(Le);this._lines=zt.length,this._longestLineLength=0;for(const nt of zt)this._longestLineLength=Math.max(nt.length+Nt,this._longestLineLength);d.PO(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(Ge)),this._editor.applyFontInfo(this._messageBlock);let pn=this._messageBlock;for(const nt of zt)pn=document.createElement("div"),pn.innerText=nt,""===nt&&(pn.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(pn);if(De||_t){const nt=document.createElement("span");if(nt.classList.add("details"),pn.appendChild(nt),De){const bt=document.createElement("span");bt.innerText=De,bt.classList.add("source"),nt.appendChild(bt)}if(_t)if("string"==typeof _t){const bt=document.createElement("span");bt.innerText=`(${_t})`,bt.classList.add("code"),nt.appendChild(bt)}else this._codeLink=d.$("a.code-link"),this._codeLink.setAttribute("href",`${_t.target.toString()}`),this._codeLink.onclick=Rt=>{this._openerService.open(_t.target,{allowCommands:!0}),Rt.preventDefault(),Rt.stopPropagation()},d.R3(this._codeLink,d.$("span")).innerText=_t.value,nt.appendChild(this._codeLink)}if(d.PO(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),(0,E.Of)(dt)){const nt=this._relatedBlock.appendChild(document.createElement("div"));nt.style.paddingTop=`${Math.floor(.66*this._editor.getOption(56))}px`,this._lines+=1;for(const bt of dt){let Rt=document.createElement("div"),Dt=document.createElement("a");Dt.classList.add("filename"),Dt.innerText=`${(0,w.p)(bt.resource)}(${bt.startLineNumber}, ${bt.startColumn}): `,Dt.title=this._labelService.getUriLabel(bt.resource),this._relatedDiagnostics.set(Dt,bt);let Xe=document.createElement("span");Xe.innerText=bt.message,Rt.appendChild(Dt),Rt.appendChild(Xe),this._lines+=1,nt.appendChild(Rt)}}const Qt=this._editor.getOption(40),Ht=Math.ceil(Qt.typicalFullwidthCharacterWidth*this._longestLineLength*.75);this._scrollable.setScrollDimensions({scrollWidth:Ht,scrollHeight:Qt.lineHeight*this._lines})}layout(Ge,De){this._scrollable.getDomNode().style.height=`${Ge}px`,this._scrollable.getDomNode().style.width=`${De}px`,this._scrollable.setScrollDimensions({width:De,height:Ge})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(Ge){let De="";switch(Ge.severity){case C.ZL.Error:De=T.N("Error","Error");break;case C.ZL.Warning:De=T.N("Warning","Warning");break;case C.ZL.Info:De=T.N("Info","Info");break;case C.ZL.Hint:De=T.N("Hint","Hint")}let Le=T.N("marker aria","{0} at {1}. ",De,Ge.startLineNumber+":"+Ge.startColumn);const dt=this._editor.getModel();return dt&&Ge.startLineNumber<=dt.getLineCount()&&Ge.startLineNumber>=1&&(Le=`${dt.getLineContent(Ge.startLineNumber)}, ${Le}`),Le}}let V=class IR extends v.vk{constructor(Ge,De,Le,dt,_t,Nt,zt){super(Ge,{showArrow:!0,showFrame:!0,isAccessible:!0},_t),this._themeService=De,this._openerService=Le,this._menuService=dt,this._contextKeyService=Nt,this._labelService=zt,this._callOnDispose=new U.SL,this._onDidSelectRelatedInformation=new S.Q5,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=C.ZL.Warning,this._backgroundColor=I.Il.white,this._applyTheme(De.getColorTheme()),this._callOnDispose.add(De.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(Ge){this._backgroundColor=Ge.getColor(ne);let De=oe;this._severity===C.ZL.Warning?De=ee:this._severity===C.ZL.Info&&(De=K);const Le=Ge.getColor(De);this.style({arrowColor:Le,frameColor:Le,headerBackgroundColor:this._backgroundColor,primaryHeadingColor:Ge.getColor(v.IH),secondaryHeadingColor:Ge.getColor(v.R7)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(Ge){super._fillHead(Ge),this._disposables.add(this._actionbarWidget.actionRunner.onBeforeRun(dt=>this.editor.focus()));const De=[],Le=this._menuService.createMenu(IR.TitleMenu,this._contextKeyService);(0,G.vr)(Le,void 0,De),this._actionbarWidget.push(De,{label:!1,icon:!0,index:0}),Le.dispose()}_fillTitleIcon(Ge){this._icon=d.R3(Ge,d.$(""))}_fillBody(Ge){this._parentContainer=Ge,Ge.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),Ge.appendChild(this._container),this._message=new N(this._container,this.editor,De=>this._onDidSelectRelatedInformation.fire(De),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(Ge,De,Le){this._container.classList.remove("stale"),this._message.update(Ge),this._severity=Ge.severity,this._applyTheme(this._themeService.getColorTheme());let dt=k.e.lift(Ge);const _t=this.editor.getPosition();let Nt=_t&&dt.containsPosition(_t)?_t:dt.getStartPosition();super.show(Nt,this.computeRequiredHeight());const zt=this.editor.getModel();if(zt){const pn=Le>1?T.N("problems","{0} of {1} problems",De,Le):T.N("change","{0} of {1} problem",De,Le);this.setTitle((0,M.EZ)(zt.uri),pn)}this._icon.className=`codicon ${m.className(C.ZL.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(Nt,0),this.editor.focus()}updateMarker(Ge){this._container.classList.remove("stale"),this._message.update(Ge)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(Ge,De){super._doLayoutBody(Ge,De),this._heightInPixel=Ge,this._message.layout(Ge,De),this._container.style.height=`${Ge}px`}_onWidth(Ge){this._message.layout(this._heightInPixel,Ge)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};V.TitleMenu=new F.eH("gotoErrorTitleMenu"),V=function(ht,Ge,De,Le){var Nt,dt=arguments.length,_t=dt<3?Ge:null===Le?Le=Object.getOwnPropertyDescriptor(Ge,De):Le;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)_t=Reflect.decorate(ht,Ge,De,Le);else for(var zt=ht.length-1;zt>=0;zt--)(Nt=ht[zt])&&(_t=(dt<3?Nt(_t):dt>3?Nt(Ge,De,_t):Nt(Ge,De))||_t);return dt>3&&_t&&Object.defineProperty(Ge,De,_t),_t}([be(1,b.XE),be(2,L.v4),be(3,F.co),be(4,Y.TG),be(5,j.i6),be(6,le.e)],V);let Z=(0,g.kw)(g.lX,g.b6),ie=(0,g.kw)(g.uo,g.pW),ue=(0,g.kw)(g.c6,g.T8);const oe=(0,g.P6)("editorMarkerNavigationError.background",{dark:Z,light:Z,hc:Z},T.N("editorMarkerNavigationError","Editor marker navigation widget error color.")),ee=(0,g.P6)("editorMarkerNavigationWarning.background",{dark:ie,light:ie,hc:ie},T.N("editorMarkerNavigationWarning","Editor marker navigation widget warning color.")),K=(0,g.P6)("editorMarkerNavigationInfo.background",{dark:ue,light:ue,hc:ue},T.N("editorMarkerNavigationInfo","Editor marker navigation widget info color.")),ne=(0,g.P6)("editorMarkerNavigation.background",{dark:"#2D2D30",light:I.Il.white,hc:"#0C141F"},T.N("editorMarkerNavigationBackground","Editor marker navigation widget background."));(0,b.Ic)((ht,Ge)=>{const De=ht.getColor(g.ur);De&&(Ge.addRule(`.monaco-editor .marker-widget a { color: ${De}; }`),Ge.addRule(`.monaco-editor .marker-widget a.code-link span:hover { color: ${De}; }`))});var he=a(3779),ge=a(6746),re=a(4165),ye=a(4857),ke=function(ht,Ge,De,Le){var Nt,dt=arguments.length,_t=dt<3?Ge:null===Le?Le=Object.getOwnPropertyDescriptor(Ge,De):Le;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)_t=Reflect.decorate(ht,Ge,De,Le);else for(var zt=ht.length-1;zt>=0;zt--)(Nt=ht[zt])&&(_t=(dt<3?Nt(_t):dt>3?Nt(Ge,De,_t):Nt(Ge,De))||_t);return dt>3&&_t&&Object.defineProperty(Ge,De,_t),_t},xe=function(ht,Ge){return function(De,Le){Ge(De,Le,ht)}};class Pe{constructor(Ge,De,Le){this.marker=Ge,this.index=De,this.total=Le}}let fe=class NR{constructor(Ge,De){this._markerService=De,this._onDidChange=new S.Q5,this.onDidChange=this._onDidChange.event,this._dispoables=new U.SL,this._markers=[],this._nextIdx=-1,ge.o.isUri(Ge)?this._resourceFilter=dt=>dt.toString()===Ge.toString():Ge&&(this._resourceFilter=Ge);const Le=()=>{this._markers=this._markerService.read({resource:ge.o.isUri(Ge)?Ge:void 0,severities:C.ZL.Error|C.ZL.Warning|C.ZL.Info}),"function"==typeof Ge&&(this._markers=this._markers.filter(dt=>this._resourceFilter(dt.resource))),this._markers.sort(NR._compareMarker)};Le(),this._dispoables.add(De.onMarkerChanged(dt=>{(!this._resourceFilter||dt.some(_t=>this._resourceFilter(_t)))&&(Le(),this._nextIdx=-1,this._onDidChange.fire())}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(Ge){return!this._resourceFilter&&!Ge||!(!this._resourceFilter||!Ge)&&this._resourceFilter(Ge)}get selected(){const Ge=this._markers[this._nextIdx];return Ge&&new Pe(Ge,this._nextIdx+1,this._markers.length)}_initIdx(Ge,De,Le){let dt=!1,_t=this._markers.findIndex(Nt=>Nt.resource.toString()===Ge.uri.toString());_t<0&&(_t=(0,E.ry)(this._markers,{resource:Ge.uri},(Nt,zt)=>(0,de.qu)(Nt.resource.toString(),zt.resource.toString())),_t<0&&(_t=~_t));for(let Nt=_t;Nt<this._markers.length;Nt++){let zt=k.e.lift(this._markers[Nt]);if(zt.isEmpty()){const pn=Ge.getWordAtPosition(zt.getStartPosition());pn&&(zt=new k.e(zt.startLineNumber,pn.startColumn,zt.startLineNumber,pn.endColumn))}if(De&&(zt.containsPosition(De)||De.isBeforeOrEqual(zt.getStartPosition()))){this._nextIdx=Nt,dt=!0;break}if(this._markers[Nt].resource.toString()!==Ge.uri.toString())break}dt||(this._nextIdx=Le?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(Ge,De,Le){if(0===this._markers.length)return!1;let dt=this._nextIdx;return-1===this._nextIdx?this._initIdx(De,Le,Ge):Ge?this._nextIdx=(this._nextIdx+1)%this._markers.length:Ge||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),dt!==this._nextIdx}find(Ge,De){let Le=this._markers.findIndex(dt=>dt.resource.toString()===Ge.toString());if(!(Le<0))for(;Le<this._markers.length;Le++)if(k.e.containsPosition(this._markers[Le],De))return new Pe(this._markers[Le],Le+1,this._markers.length)}static _compareMarker(Ge,De){let Le=(0,de.qu)(Ge.resource.toString(),De.resource.toString());return 0===Le&&(Le=C.ZL.compare(Ge.severity,De.severity)),0===Le&&(Le=k.e.compareRangesUsingStarts(Ge,De)),Le}};fe=ke([xe(1,C.lT)],fe);const Te=(0,Y.yh)("IMarkerNavigationService");let Ce=class{constructor(Ge){this._markerService=Ge,this._provider=new ye.S}getMarkerList(Ge){for(let De of this._provider){const Le=De.getMarkerList(Ge);if(Le)return Le}return new fe(Ge,this._markerService)}};Ce=ke([xe(0,C.lT)],Ce),(0,re.z)(Te,Ce,!0);var Je=a(6571),Ve=function(ht,Ge){return function(De,Le){Ge(De,Le,ht)}},Ae=function(ht,Ge,De,Le){return new(De||(De=Promise))(function(_t,Nt){function zt(Ht){try{Qt(Le.next(Ht))}catch(qt){Nt(qt)}}function pn(Ht){try{Qt(Le.throw(Ht))}catch(qt){Nt(qt)}}function Qt(Ht){Ht.done?_t(Ht.value):function(_t){return _t instanceof De?_t:new De(function(Nt){Nt(_t)})}(Ht.value).then(zt,pn)}Qt((Le=Le.apply(ht,Ge||[])).next())})};let Ee=class iv{constructor(Ge,De,Le,dt,_t){this._markerNavigationService=De,this._contextKeyService=Le,this._editorService=dt,this._instantiationService=_t,this._sessionDispoables=new U.SL,this._editor=Ge,this._widgetVisible=At.bindTo(this._contextKeyService)}static get(Ge){return Ge.getContribution(iv.ID)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(Ge){if(this._model&&this._model.matches(Ge))return this._model;let De=!1;return this._model&&(De=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(Ge),De&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(V,this._editor),this._widget.onDidClose(()=>this.close(),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(Le=>{var dt,_t,Nt;(!(null===(dt=this._model)||void 0===dt?void 0:dt.selected)||!k.e.containsPosition(null===(_t=this._model)||void 0===_t?void 0:_t.selected.marker,Le.position))&&(null===(Nt=this._model)||void 0===Nt||Nt.resetIndex())})),this._sessionDispoables.add(this._model.onDidChange(()=>{if(!this._widget||!this._widget.position||!this._model)return;const Le=this._model.find(this._editor.getModel().uri,this._widget.position);Le?this._widget.updateMarker(Le.marker):this._widget.showStale()})),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(Le=>{this._editorService.openCodeEditor({resource:Le.resource,options:{pinned:!0,revealIfOpened:!0,selection:k.e.lift(Le).collapseToStart()}},this._editor),this.close(!1)})),this._sessionDispoables.add(this._editor.onDidChangeModel(()=>this._cleanUp())),this._model}close(Ge=!0){this._cleanUp(),Ge&&this._editor.focus()}showAtMarker(Ge){if(this._editor.hasModel()){const De=this._getOrCreateModel(this._editor.getModel().uri);De.resetIndex(),De.move(!0,this._editor.getModel(),new O.L(Ge.startLineNumber,Ge.startColumn)),De.selected&&this._widget.showAtMarker(De.selected.marker,De.selected.index,De.selected.total)}}nagivate(Ge,De){return Ae(this,void 0,void 0,function*(){if(this._editor.hasModel()){const Le=this._getOrCreateModel(De?void 0:this._editor.getModel().uri);if(Le.move(Ge,this._editor.getModel(),this._editor.getPosition()),!Le.selected)return;if(Le.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();const dt=yield this._editorService.openCodeEditor({resource:Le.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:Le.selected.marker}},this._editor);dt&&(iv.get(dt).close(),iv.get(dt).nagivate(Ge,De))}else this._widget.showAtMarker(Le.selected.marker,Le.selected.index,Le.selected.total)}})}};Ee.ID="editor.contrib.markerController",Ee=function(ht,Ge,De,Le){var Nt,dt=arguments.length,_t=dt<3?Ge:null===Le?Le=Object.getOwnPropertyDescriptor(Ge,De):Le;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)_t=Reflect.decorate(ht,Ge,De,Le);else for(var zt=ht.length-1;zt>=0;zt--)(Nt=ht[zt])&&(_t=(dt<3?Nt(_t):dt>3?Nt(Ge,De,_t):Nt(Ge,De))||_t);return dt>3&&_t&&Object.defineProperty(Ge,De,_t),_t}([Ve(1,Te),Ve(2,j.i6),Ve(3,he.$),Ve(4,Y.TG)],Ee);class ze extends $.R6{constructor(Ge,De,Le){super(Le),this._next=Ge,this._multiFile=De}run(Ge,De){return Ae(this,void 0,void 0,function*(){De.hasModel()&&Ee.get(De).nagivate(this._next,this._multiFile)})}}class Be extends ze{constructor(){super(!0,!1,{id:Be.ID,label:Be.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:B.u.focus,primary:578,weight:100},menuOpts:{menuId:V.TitleMenu,title:Be.LABEL,icon:(0,Je.q5)("marker-navigation-next",f.lA.chevronDown,T.N("nextMarkerIcon","Icon for goto next marker.")),group:"navigation",order:1}})}}Be.ID="editor.action.marker.next",Be.LABEL=T.N("markerAction.next.label","Go to Next Problem (Error, Warning, Info)");class Ue extends ze{constructor(){super(!1,!1,{id:Ue.ID,label:Ue.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:B.u.focus,primary:1602,weight:100},menuOpts:{menuId:V.TitleMenu,title:Be.LABEL,icon:(0,Je.q5)("marker-navigation-previous",f.lA.chevronUp,T.N("previousMarkerIcon","Icon for goto previous marker.")),group:"navigation",order:2}})}}Ue.ID="editor.action.marker.prev",Ue.LABEL=T.N("markerAction.previous.label","Go to Previous Problem (Error, Warning, Info)"),(0,$._K)(Ee.ID,Ee),(0,$.Qr)(Be),(0,$.Qr)(Ue),(0,$.Qr)(class extends ze{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:T.N("markerAction.nextInFiles.label","Go to Next Problem in Files (Error, Warning, Info)"),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:B.u.focus,primary:66,weight:100},menuOpts:{menuId:F.eH.MenubarGoMenu,title:T.N({key:"miGotoNextProblem",comment:["&& denotes a mnemonic"]},"Next &&Problem"),group:"6_problem_nav",order:1}})}}),(0,$.Qr)(class extends ze{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:T.N("markerAction.previousInFiles.label","Go to Previous Problem in Files (Error, Warning, Info)"),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:B.u.focus,primary:1090,weight:100},menuOpts:{menuId:F.eH.MenubarGoMenu,title:T.N({key:"miGotoPreviousProblem",comment:["&& denotes a mnemonic"]},"Previous &&Problem"),group:"6_problem_nav",order:2}})}});const At=new j.uy("markersNavigationVisible",!1),ve=$._l.bindToContribution(Ee.get);(0,$.fK)(new ve({id:"closeMarkersNavigation",precondition:At,handler:ht=>ht.close(),kbOpts:{weight:150,kbExpr:B.u.focus,primary:9,secondary:[1033]}}))},1667:(Ct,Qe,a)=>{"use strict";a.r(Qe),a.d(Qe,{DefinitionAction:()=>Ae});var T=a(7579),U=a(7922),j=a(4807),O=a(9190),k=a(6957),$=a(4482),B=a(3779),R=a(2109),d=a(8487),C=a(9549),g=a(6412),b=a(9152),I=a(1592),p=a(3571),w=a(310),E=a(1606),S=a(2836),v=a(2844),M=a(1004),_=a(723),f=a(7378),m=a(8896),L=a(1358),F=a(4562),G=a(4165),Y=a(2331),de=a(1719),le=a(6723),ce=a(3012),be=a(8401),N=function(At,ve,ht,Ge){var dt,De=arguments.length,Le=De<3?ve:null===Ge?Ge=Object.getOwnPropertyDescriptor(ve,ht):Ge;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Le=Reflect.decorate(At,ve,ht,Ge);else for(var _t=At.length-1;_t>=0;_t--)(dt=At[_t])&&(Le=(De<3?dt(Le):De>3?dt(ve,ht,Le):dt(ve,ht))||Le);return De>3&&Le&&Object.defineProperty(ve,ht,Le),Le},V=function(At,ve){return function(ht,Ge){ve(ht,Ge,At)}};const Z=new v.uy("hasSymbols",!1,(0,E.N)("hasSymbols","Whether there are symbol locations that can be navigated via keyboard-only.")),ie=(0,F.yh)("ISymbolNavigationService");let ue=class{constructor(ve,ht,Ge,De){this._editorService=ht,this._notificationService=Ge,this._keybindingService=De,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=Z.bindTo(ve)}reset(){var ve,ht;this._ctxHasSymbols.reset(),null===(ve=this._currentState)||void 0===ve||ve.dispose(),null===(ht=this._currentMessage)||void 0===ht||ht.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(ve){const ht=ve.parent.parent;if(ht.references.length<=1)return void this.reset();this._currentModel=ht,this._currentIdx=ht.references.indexOf(ve),this._ctxHasSymbols.set(!0),this._showMessage();const Ge=new oe(this._editorService),De=Ge.onDidChange(Le=>{if(this._ignoreEditorChange)return;const dt=this._editorService.getActiveCodeEditor();if(!dt)return;const _t=dt.getModel(),Nt=dt.getPosition();if(!_t||!Nt)return;let zt=!1,pn=!1;for(const Qt of ht.references)if((0,be.Xy)(Qt.uri,_t.uri))zt=!0,pn=pn||d.e.containsPosition(Qt.range,Nt);else if(zt)break;(!zt||!pn)&&this.reset()});this._currentState=(0,de.F8)(Ge,De)}revealNext(ve){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;const ht=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:ht.uri,options:{selection:d.e.collapseToStart(ht.range),selectionRevealType:3}},ve).finally(()=>{this._ignoreEditorChange=!1})}_showMessage(){var ve;null===(ve=this._currentMessage)||void 0===ve||ve.dispose();const ht=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),Ge=ht?(0,E.N)("location.kb","Symbol {0} of {1}, {2} for next",this._currentIdx+1,this._currentModel.references.length,ht.getLabel()):(0,E.N)("location","Symbol {0} of {1}",this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(Ge)}};ue=N([V(0,v.i6),V(1,B.$),V(2,M.lT),V(3,ce.d)],ue),(0,G.z)(ie,ue,!0),(0,$.fK)(new class extends $._l{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:Z,kbOpts:{weight:100,primary:70}})}runEditorCommand(At,ve){return At.get(ie).revealNext(ve)}}),Y.W.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:Z,primary:9,handler(At){At.get(ie).reset()}});let oe=class{constructor(ve){this._listener=new Map,this._disposables=new de.SL,this._onDidChange=new le.Q5,this.onDidChange=this._onDidChange.event,this._disposables.add(ve.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(ve.onCodeEditorAdd(this._onDidAddEditor,this)),ve.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),(0,de.B9)(this._listener.values())}_onDidAddEditor(ve){this._listener.set(ve,(0,de.F8)(ve.onDidChangeCursorPosition(ht=>this._onDidChange.fire({editor:ve})),ve.onDidChangeModelContent(ht=>this._onDidChange.fire({editor:ve}))))}_onDidRemoveEditor(ve){var ht;null===(ht=this._listener.get(ve))||void 0===ht||ht.dispose(),this._listener.delete(ve)}};oe=N([V(0,B.$)],oe);var re,ye,ke,xe,Pe,fe,Te,Ce,ee=a(4991),K=a(6746),ne=a(1882),he=a(4406),ge=function(At,ve,ht,Ge){return new(ht||(ht=Promise))(function(Le,dt){function _t(pn){try{zt(Ge.next(pn))}catch(Qt){dt(Qt)}}function Nt(pn){try{zt(Ge.throw(pn))}catch(Qt){dt(Qt)}}function zt(pn){pn.done?Le(pn.value):function(Le){return Le instanceof ht?Le:new ht(function(dt){dt(Le)})}(pn.value).then(_t,Nt)}zt((Ge=Ge.apply(At,ve||[])).next())})};S.BH.appendMenuItem(S.eH.EditorContext,{submenu:S.eH.EditorContextPeek,title:E.N("peek.submenu","Peek"),group:"navigation",order:100});const Je=new Set;function pe(At){const ve=new At;return(0,$.QG)(ve),Je.add(ve.id),ve}class Ve extends $.R6{constructor(ve,ht){super(ht),this._configuration=ve}run(ve,ht){if(!ht.hasModel())return Promise.resolve(void 0);const Ge=ve.get(M.lT),De=ve.get(B.$),Le=ve.get(_.e),dt=ve.get(ie),_t=ht.getModel(),Nt=ht.getPosition(),zt=new L.Dl(ht,5),pn=(0,U.eP)(this._getLocationModel(_t,Nt,zt.token),zt.token).then(Qt=>ge(this,void 0,void 0,function*(){if(!Qt||zt.token.isCancellationRequested)return;let Ht;if((0,T.Z9)(Qt.ariaMessage),Qt.referenceAt(_t.uri,Nt)){const nt=this._getAlternativeCommand(ht);nt!==this.id&&Je.has(nt)&&(Ht=ht.getAction(nt))}const qt=Qt.references.length;if(0===qt){if(!this._configuration.muteMessage){const nt=_t.getWordAtPosition(Nt);b.O.get(ht).showMessage(this._getNoResultFoundMessage(nt),Nt)}}else{if(1!==qt||!Ht)return this._onResult(De,dt,ht,Qt);Ht.run()}}),Qt=>{Ge.error(Qt)}).finally(()=>{zt.dispose()});return Le.showWhile(pn,250),pn}_onResult(ve,ht,Ge,De){return ge(this,void 0,void 0,function*(){const Le=this._getGoToPreference(Ge);if(Ge instanceof he.H||!(this._configuration.openInPeek||"peek"===Le&&De.references.length>1)){const dt=De.firstReference(),_t=De.references.length>1&&"gotoAndPeek"===Le,Nt=yield this._openReference(Ge,ve,dt,this._configuration.openToSide,!_t);_t&&Nt?this._openInPeek(Nt,De):De.dispose(),"goto"===Le&&ht.put(dt)}else this._openInPeek(Ge,De)})}_openReference(ve,ht,Ge,De,Le){return ge(this,void 0,void 0,function*(){let dt;if((0,g.vx)(Ge)&&(dt=Ge.targetSelectionRange),dt||(dt=Ge.range),!dt)return;const _t=yield ht.openCodeEditor({resource:Ge.uri,options:{selection:d.e.collapseToStart(dt),selectionRevealType:3}},ve,De);if(_t){if(Le){const Nt=_t.getModel(),zt=_t.deltaDecorations([],[{range:dt,options:{description:"symbol-navigate-action-highlight",className:"symbolHighlight"}}]);setTimeout(()=>{_t.getModel()===Nt&&_t.deltaDecorations(zt,[])},350)}return _t}})}_openInPeek(ve,ht){let Ge=p.J.get(ve);Ge&&ve.hasModel()?Ge.toggleWidget(ve.getSelection(),(0,U.PG)(De=>Promise.resolve(ht)),this._configuration.openInPeek):ht.dispose()}}class Ae extends Ve{_getLocationModel(ve,ht,Ge){return ge(this,void 0,void 0,function*(){return new w.oQ(yield(0,f.nD)(ve,ht,Ge),E.N("def.title","Definitions"))})}_getNoResultFoundMessage(ve){return ve&&ve.word?E.N("noResultWord","No definition found for '{0}'",ve.word):E.N("generic.noResults","No definition found")}_getAlternativeCommand(ve){return ve.getOption(47).alternativeDefinitionCommand}_getGoToPreference(ve){return ve.getOption(47).multipleDefinitions}}const Ee=O.$L&&!ee.$W?2118:70;pe(((re=class Aw extends Ae{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Aw.id,label:E.N("actions.goToDecl.label","Go to Definition"),alias:"Go to Definition",precondition:v.Ao.and(C.u.hasDefinitionProvider,C.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:C.u.editorTextFocus,primary:Ee,weight:100},contextMenuOpts:{group:"navigation",order:1.1},menuOpts:{menuId:S.eH.MenubarGoMenu,group:"4_symbol_nav",order:2,title:E.N({key:"miGotoDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Definition")}}),m.P.registerCommandAlias("editor.action.goToDeclaration",Aw.id)}}).id="editor.action.revealDefinition",re)),pe(((ye=class Rw extends Ae{constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:Rw.id,label:E.N("actions.goToDeclToSide.label","Open Definition to the Side"),alias:"Open Definition to the Side",precondition:v.Ao.and(C.u.hasDefinitionProvider,C.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:C.u.editorTextFocus,primary:(0,j.gx)(2089,Ee),weight:100}}),m.P.registerCommandAlias("editor.action.openDeclarationToTheSide",Rw.id)}}).id="editor.action.revealDefinitionAside",ye)),pe(((ke=class Ow extends Ae{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:Ow.id,label:E.N("actions.previewDecl.label","Peek Definition"),alias:"Peek Definition",precondition:v.Ao.and(C.u.hasDefinitionProvider,I.Jy.notInPeekEditor,C.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:C.u.editorTextFocus,primary:582,linux:{primary:3140},weight:100},contextMenuOpts:{menuId:S.eH.EditorContextPeek,group:"peek",order:2}}),m.P.registerCommandAlias("editor.action.previewDeclaration",Ow.id)}}).id="editor.action.peekDefinition",ke));class ze extends Ve{_getLocationModel(ve,ht,Ge){return ge(this,void 0,void 0,function*(){return new w.oQ(yield(0,f.zq)(ve,ht,Ge),E.N("decl.title","Declarations"))})}_getNoResultFoundMessage(ve){return ve&&ve.word?E.N("decl.noResultWord","No declaration found for '{0}'",ve.word):E.N("decl.generic.noResults","No declaration found")}_getAlternativeCommand(ve){return ve.getOption(47).alternativeDeclarationCommand}_getGoToPreference(ve){return ve.getOption(47).multipleDeclarations}}pe(((xe=class TR extends ze{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:TR.id,label:E.N("actions.goToDeclaration.label","Go to Declaration"),alias:"Go to Declaration",precondition:v.Ao.and(C.u.hasDeclarationProvider,C.u.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{group:"navigation",order:1.3},menuOpts:{menuId:S.eH.MenubarGoMenu,group:"4_symbol_nav",order:3,title:E.N({key:"miGotoDeclaration",comment:["&& denotes a mnemonic"]},"Go to &&Declaration")}})}_getNoResultFoundMessage(ve){return ve&&ve.word?E.N("decl.noResultWord","No declaration found for '{0}'",ve.word):E.N("decl.generic.noResults","No declaration found")}}).id="editor.action.revealDeclaration",xe)),pe(class extends ze{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",label:E.N("actions.peekDecl.label","Peek Declaration"),alias:"Peek Declaration",precondition:v.Ao.and(C.u.hasDeclarationProvider,I.Jy.notInPeekEditor,C.u.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:S.eH.EditorContextPeek,group:"peek",order:3}})}});class Be extends Ve{_getLocationModel(ve,ht,Ge){return ge(this,void 0,void 0,function*(){return new w.oQ(yield(0,f.L3)(ve,ht,Ge),E.N("typedef.title","Type Definitions"))})}_getNoResultFoundMessage(ve){return ve&&ve.word?E.N("goToTypeDefinition.noResultWord","No type definition found for '{0}'",ve.word):E.N("goToTypeDefinition.generic.noResults","No type definition found")}_getAlternativeCommand(ve){return ve.getOption(47).alternativeTypeDefinitionCommand}_getGoToPreference(ve){return ve.getOption(47).multipleTypeDefinitions}}pe(((Pe=class AR extends Be{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:AR.ID,label:E.N("actions.goToTypeDefinition.label","Go to Type Definition"),alias:"Go to Type Definition",precondition:v.Ao.and(C.u.hasTypeDefinitionProvider,C.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:C.u.editorTextFocus,primary:0,weight:100},contextMenuOpts:{group:"navigation",order:1.4},menuOpts:{menuId:S.eH.MenubarGoMenu,group:"4_symbol_nav",order:3,title:E.N({key:"miGotoTypeDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Type Definition")}})}}).ID="editor.action.goToTypeDefinition",Pe)),pe(((fe=class RR extends Be{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:RR.ID,label:E.N("actions.peekTypeDefinition.label","Peek Type Definition"),alias:"Peek Type Definition",precondition:v.Ao.and(C.u.hasTypeDefinitionProvider,I.Jy.notInPeekEditor,C.u.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:S.eH.EditorContextPeek,group:"peek",order:4}})}}).ID="editor.action.peekTypeDefinition",fe));class Ue extends Ve{_getLocationModel(ve,ht,Ge){return ge(this,void 0,void 0,function*(){return new w.oQ(yield(0,f.f4)(ve,ht,Ge),E.N("impl.title","Implementations"))})}_getNoResultFoundMessage(ve){return ve&&ve.word?E.N("goToImplementation.noResultWord","No implementation found for '{0}'",ve.word):E.N("goToImplementation.generic.noResults","No implementation found")}_getAlternativeCommand(ve){return ve.getOption(47).alternativeImplementationCommand}_getGoToPreference(ve){return ve.getOption(47).multipleImplementations}}pe(((Te=class OR extends Ue{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:OR.ID,label:E.N("actions.goToImplementation.label","Go to Implementations"),alias:"Go to Implementations",precondition:v.Ao.and(C.u.hasImplementationProvider,C.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:C.u.editorTextFocus,primary:2118,weight:100},menuOpts:{menuId:S.eH.MenubarGoMenu,group:"4_symbol_nav",order:4,title:E.N({key:"miGotoImplementation",comment:["&& denotes a mnemonic"]},"Go to &&Implementations")},contextMenuOpts:{group:"navigation",order:1.45}})}}).ID="editor.action.goToImplementation",Te)),pe(((Ce=class PR extends Ue{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:PR.ID,label:E.N("actions.peekImplementation.label","Peek Implementations"),alias:"Peek Implementations",precondition:v.Ao.and(C.u.hasImplementationProvider,I.Jy.notInPeekEditor,C.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:C.u.editorTextFocus,primary:3142,weight:100},contextMenuOpts:{menuId:S.eH.EditorContextPeek,group:"peek",order:5}})}}).ID="editor.action.peekImplementation",Ce));class ot extends Ve{_getNoResultFoundMessage(ve){return ve?E.N("references.no","No references found for '{0}'",ve.word):E.N("references.noGeneric","No references found")}_getAlternativeCommand(ve){return ve.getOption(47).alternativeReferenceCommand}_getGoToPreference(ve){return ve.getOption(47).multipleReferences}}pe(class extends ot{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",label:E.N("goToReferences.label","Go to References"),alias:"Go to References",precondition:v.Ao.and(C.u.hasReferenceProvider,I.Jy.notInPeekEditor,C.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:C.u.editorTextFocus,primary:1094,weight:100},contextMenuOpts:{group:"navigation",order:1.45},menuOpts:{menuId:S.eH.MenubarGoMenu,group:"4_symbol_nav",order:5,title:E.N({key:"miGotoReference",comment:["&& denotes a mnemonic"]},"Go to &&References")}})}_getLocationModel(ve,ht,Ge){return ge(this,void 0,void 0,function*(){return new w.oQ(yield(0,f.aA)(ve,ht,!0,Ge),E.N("ref.title","References"))})}}),pe(class extends ot{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",label:E.N("references.action.label","Peek References"),alias:"Peek References",precondition:v.Ao.and(C.u.hasReferenceProvider,I.Jy.notInPeekEditor,C.u.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:S.eH.EditorContextPeek,group:"peek",order:6}})}_getLocationModel(ve,ht,Ge){return ge(this,void 0,void 0,function*(){return new w.oQ(yield(0,f.aA)(ve,ht,!1,Ge),E.N("ref.title","References"))})}});class vt extends Ve{constructor(ve,ht,Ge){super(ve,{id:"editor.action.goToLocation",label:E.N("label.generic","Go To Any Symbol"),alias:"Go To Any Symbol",precondition:v.Ao.and(I.Jy.notInPeekEditor,C.u.isInWalkThroughSnippet.toNegated())}),this._references=ht,this._gotoMultipleBehaviour=Ge}_getLocationModel(ve,ht,Ge){return ge(this,void 0,void 0,function*(){return new w.oQ(this._references,E.N("generic.title","Locations"))})}_getNoResultFoundMessage(ve){return ve&&E.N("generic.noResult","No results for '{0}'",ve.word)||""}_getGoToPreference(ve){var ht;return null!==(ht=this._gotoMultipleBehaviour)&&void 0!==ht?ht:ve.getOption(47).multipleReferences}_getAlternativeCommand(){return""}}m.P.registerCommand({id:"editor.action.goToLocations",description:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:K.o},{name:"position",description:"The position at which to start",constraint:R.L.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:(At,ve,ht,Ge,De,Le,dt)=>ge(void 0,void 0,void 0,function*(){(0,ne.p_)(K.o.isUri(ve)),(0,ne.p_)(R.L.isIPosition(ht)),(0,ne.p_)(Array.isArray(Ge)),(0,ne.p_)(void 0===De||"string"==typeof De),(0,ne.p_)(void 0===dt||"boolean"==typeof dt);const _t=At.get(B.$),Nt=yield _t.openCodeEditor({resource:ve},_t.getFocusedCodeEditor());if((0,k.CL)(Nt))return Nt.setPosition(ht),Nt.revealPositionInCenterIfOutsideViewport(ht,0),Nt.invokeWithinContext(zt=>{const pn=new class extends vt{_getNoResultFoundMessage(Qt){return Le||super._getNoResultFoundMessage(Qt)}}({muteMessage:!Boolean(Le),openInPeek:Boolean(dt),openToSide:!1},Ge,De);zt.get(F.TG).invokeFunction(pn.run.bind(pn),Nt)})})}),m.P.registerCommand({id:"editor.action.peekLocations",description:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:K.o},{name:"position",description:"The position at which to start",constraint:R.L.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:(At,ve,ht,Ge,De)=>ge(void 0,void 0,void 0,function*(){At.get(m.H).executeCommand("editor.action.goToLocations",ve,ht,Ge,De,void 0,!0)})}),m.P.registerCommand({id:"editor.action.findReferences",handler:(At,ve,ht)=>{(0,ne.p_)(K.o.isUri(ve)),(0,ne.p_)(R.L.isIPosition(ht));const Ge=At.get(B.$);return Ge.openCodeEditor({resource:ve},Ge.getFocusedCodeEditor()).then(De=>{if(!(0,k.CL)(De)||!De.hasModel())return;const Le=p.J.get(De);if(!Le)return;const dt=(0,U.PG)(Nt=>(0,f.aA)(De.getModel(),R.L.lift(ht),!1,Nt).then(zt=>new w.oQ(zt,E.N("ref.title","References")))),_t=new d.e(ht.lineNumber,ht.column,ht.lineNumber,ht.column);return Promise.resolve(Le.toggleWidget(_t,dt,!1))})}}),m.P.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations")},7378:(Ct,Qe,a)=>{"use strict";a.d(Qe,{nD:()=>R,zq:()=>d,f4:()=>C,L3:()=>g,aA:()=>b});var T=a(9357),U=a(5160),j=a(4482),O=a(6412),k=a(310),$=function(p,w,E,S){return new(E||(E=Promise))(function(M,_){function f(F){try{L(S.next(F))}catch(G){_(G)}}function m(F){try{L(S.throw(F))}catch(G){_(G)}}function L(F){F.done?M(F.value):function(M){return M instanceof E?M:new E(function(_){_(M)})}(F.value).then(f,m)}L((S=S.apply(p,w||[])).next())})};function B(p,w,E,S){const M=E.ordered(p).map(_=>Promise.resolve(S(_,p,w)).then(void 0,f=>{(0,U.Cp)(f)}));return Promise.all(M).then(_=>{const f=[];for(let m of _)Array.isArray(m)?f.push(...m):m&&f.push(m);return f})}function R(p,w,E){return B(p,w,O.Ct,(S,v,M)=>S.provideDefinition(v,M,E))}function d(p,w,E){return B(p,w,O.RN,(S,v,M)=>S.provideDeclaration(v,M,E))}function C(p,w,E){return B(p,w,O.vI,(S,v,M)=>S.provideImplementation(v,M,E))}function g(p,w,E){return B(p,w,O.tA,(S,v,M)=>S.provideTypeDefinition(v,M,E))}function b(p,w,E,S){return B(p,w,O.FL,(v,M,_)=>$(this,void 0,void 0,function*(){const f=yield v.provideReferences(M,_,{includeDeclaration:!0},S);if(!E||!f||2!==f.length)return f;const m=yield v.provideReferences(M,_,{includeDeclaration:!1},S);return m&&1===m.length?m:f}))}function I(p){return $(this,void 0,void 0,function*(){const w=yield p(),E=new k.oQ(w,""),S=E.references.map(v=>v.link);return E.dispose(),S})}(0,j.sb)("_executeDefinitionProvider",(p,w)=>I(()=>R(p,w,T.T.None))),(0,j.sb)("_executeDeclarationProvider",(p,w)=>I(()=>d(p,w,T.T.None))),(0,j.sb)("_executeImplementationProvider",(p,w)=>I(()=>C(p,w,T.T.None))),(0,j.sb)("_executeTypeDefinitionProvider",(p,w)=>I(()=>g(p,w,T.T.None))),(0,j.sb)("_executeReferenceProvider",(p,w)=>I(()=>b(p,w,!1,T.T.None)))},7355:(Ct,Qe,a)=>{"use strict";a.d(Qe,{yN:()=>d});var T=a(1719),U=a(6723),j=a(9190);function O(C,g){return!!C[g]}class k{constructor(g,b){this.target=g.target,this.hasTriggerModifier=O(g.event,b.triggerModifier),this.hasSideBySideModifier=O(g.event,b.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=g.event.detail<=1}}class ${constructor(g,b){this.keyCodeIsTriggerKey=g.keyCode===b.triggerKey,this.keyCodeIsSideBySideKey=g.keyCode===b.triggerSideBySideKey,this.hasTriggerModifier=O(g,b.triggerModifier)}}class B{constructor(g,b,I,p){this.triggerKey=g,this.triggerModifier=b,this.triggerSideBySideKey=I,this.triggerSideBySideModifier=p}equals(g){return this.triggerKey===g.triggerKey&&this.triggerModifier===g.triggerModifier&&this.triggerSideBySideKey===g.triggerSideBySideKey&&this.triggerSideBySideModifier===g.triggerSideBySideModifier}}function R(C){return"altKey"===C?j.dz?new B(57,"metaKey",6,"altKey"):new B(5,"ctrlKey",6,"altKey"):j.dz?new B(6,"altKey",57,"metaKey"):new B(6,"altKey",5,"ctrlKey")}class d extends T.JT{constructor(g){super(),this._onMouseMoveOrRelevantKeyDown=this._register(new U.Q5),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new U.Q5),this.onExecute=this._onExecute.event,this._onCancel=this._register(new U.Q5),this.onCancel=this._onCancel.event,this._editor=g,this._opts=R(this._editor.getOption(67)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration(b=>{if(b.hasChanged(67)){const I=R(this._editor.getOption(67));if(this._opts.equals(I))return;this._opts=I,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}})),this._register(this._editor.onMouseMove(b=>this._onEditorMouseMove(new k(b,this._opts)))),this._register(this._editor.onMouseDown(b=>this._onEditorMouseDown(new k(b,this._opts)))),this._register(this._editor.onMouseUp(b=>this._onEditorMouseUp(new k(b,this._opts)))),this._register(this._editor.onKeyDown(b=>this._onEditorKeyDown(new $(b,this._opts)))),this._register(this._editor.onKeyUp(b=>this._onEditorKeyUp(new $(b,this._opts)))),this._register(this._editor.onMouseDrag(()=>this._resetHandler())),this._register(this._editor.onDidChangeCursorSelection(b=>this._onDidChangeCursorSelection(b))),this._register(this._editor.onDidChangeModel(b=>this._resetHandler())),this._register(this._editor.onDidChangeModelContent(()=>this._resetHandler())),this._register(this._editor.onDidScrollChange(b=>{(b.scrollTopChanged||b.scrollLeftChanged)&&this._resetHandler()}))}_onDidChangeCursorSelection(g){g.selection&&g.selection.startColumn!==g.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(g){this._lastMouseMoveEvent=g,this._onMouseMoveOrRelevantKeyDown.fire([g,null])}_onEditorMouseDown(g){this._hasTriggerKeyOnMouseDown=g.hasTriggerModifier,this._lineNumberOnMouseDown=g.target.position?g.target.position.lineNumber:0}_onEditorMouseUp(g){this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===(g.target.position?g.target.position.lineNumber:0)&&this._onExecute.fire(g)}_onEditorKeyDown(g){this._lastMouseMoveEvent&&(g.keyCodeIsTriggerKey||g.keyCodeIsSideBySideKey&&g.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,g]):g.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(g){g.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}}},5220:(Ct,Qe,a)=>{"use strict";a.r(Qe),a.d(Qe,{GotoDefinitionAtPositionEditorContribution:()=>F}),a(1286);var U=a(1606),j=a(7922),O=a(5160),k=a(4303),$=a(8923),B=a(8487),R=a(6412),d=a(4482),C=a(7378),g=a(1719),b=a(4128),I=a(6803),p=a(7251),w=a(1358),E=a(1667),S=a(7355),v=a(2109),M=a(1882),_=a(1592),f=a(2844),L=function(G,Y){return function(de,le){Y(de,le,G)}};let F=class Zg{constructor(Y,de,le){this.textModelResolverService=de,this.modeService=le,this.toUnhook=new g.SL,this.toUnhookForKeyboard=new g.SL,this.linkDecorations=[],this.currentWordAtPosition=null,this.previousPromise=null,this.editor=Y;let ce=new S.yN(Y);this.toUnhook.add(ce),this.toUnhook.add(ce.onMouseMoveOrRelevantKeyDown(([be,N])=>{this.startFindDefinitionFromMouse(be,(0,M.f6)(N))})),this.toUnhook.add(ce.onExecute(be=>{this.isEnabled(be)&&this.gotoDefinition(be.target.position,be.hasSideBySideModifier).then(()=>{this.removeLinkDecorations()},N=>{this.removeLinkDecorations(),(0,O.dL)(N)})})),this.toUnhook.add(ce.onCancel(()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null}))}static get(Y){return Y.getContribution(Zg.ID)}startFindDefinitionFromCursor(Y){return this.startFindDefinition(Y).then(()=>{this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()})),this.toUnhookForKeyboard.add(this.editor.onKeyDown(de=>{de&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())}))})}startFindDefinitionFromMouse(Y,de){if(!(9===Y.target.type&&this.linkDecorations.length>0))return this.editor.hasModel()&&this.isEnabled(Y,de)?void this.startFindDefinition(Y.target.position):(this.currentWordAtPosition=null,void this.removeLinkDecorations())}startFindDefinition(Y){var de;this.toUnhookForKeyboard.clear();const le=Y?null===(de=this.editor.getModel())||void 0===de?void 0:de.getWordAtPosition(Y):null;if(!le)return this.currentWordAtPosition=null,this.removeLinkDecorations(),Promise.resolve(0);if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===le.startColumn&&this.currentWordAtPosition.endColumn===le.endColumn&&this.currentWordAtPosition.word===le.word)return Promise.resolve(0);this.currentWordAtPosition=le;let ce=new w.yy(this.editor,15);return this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=(0,j.PG)(be=>this.findDefinition(Y,be)),this.previousPromise.then(be=>{if(be&&be.length&&ce.validate(this.editor))if(be.length>1)this.addDecoration(new B.e(Y.lineNumber,le.startColumn,Y.lineNumber,le.endColumn),(new k.W5).appendText(U.N("multipleResults","Click to show {0} definitions.",be.length)));else{let N=be[0];if(!N.uri)return;this.textModelResolverService.createModelReference(N.uri).then(V=>{if(!V.object||!V.object.textEditorModel)return void V.dispose();const{object:{textEditorModel:Z}}=V,{startLineNumber:ie}=N.range;if(ie<1||ie>Z.getLineCount())return void V.dispose();const ue=this.getPreviewValue(Z,ie,N);let oe;oe=N.originSelectionRange?B.e.lift(N.originSelectionRange):new B.e(Y.lineNumber,le.startColumn,Y.lineNumber,le.endColumn);const ee=this.modeService.getModeIdByFilepathOrFirstLine(Z.uri);this.addDecoration(oe,(new k.W5).appendCodeblock(ee||"",ue)),V.dispose()})}else this.removeLinkDecorations()}).then(void 0,O.dL)}getPreviewValue(Y,de,le){let ce=le.targetSelectionRange?le.range:this.getPreviewRangeBasedOnBrackets(Y,de);return ce.endLineNumber-ce.startLineNumber>=Zg.MAX_SOURCE_PREVIEW_LINES&&(ce=this.getPreviewRangeBasedOnIndentation(Y,de)),this.stripIndentationFromPreviewRange(Y,de,ce)}stripIndentationFromPreviewRange(Y,de,le){let be=Y.getLineFirstNonWhitespaceColumn(de);for(let V=de+1;V<le.endLineNumber;V++){const Z=Y.getLineFirstNonWhitespaceColumn(V);be=Math.min(be,Z)}return Y.getValueInRange(le).replace(new RegExp(`^\\s{${be-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(Y,de){const le=Y.getLineFirstNonWhitespaceColumn(de),ce=Math.min(Y.getLineCount(),de+Zg.MAX_SOURCE_PREVIEW_LINES);let be=de+1;for(;be<ce&&le!==Y.getLineFirstNonWhitespaceColumn(be);be++);return new B.e(de,1,be+1,1)}getPreviewRangeBasedOnBrackets(Y,de){const le=Math.min(Y.getLineCount(),de+Zg.MAX_SOURCE_PREVIEW_LINES),ce=[];let be=!0,N=Y.findNextBracket(new v.L(de,1));for(;null!==N;){if(0===ce.length)ce.push(N);else{const ue=ce[ce.length-1];if(ue.open[0]===N.open[0]&&ue.isOpen&&!N.isOpen?ce.pop():ce.push(N),0===ce.length){if(!be)return new B.e(de,1,N.range.endLineNumber+1,1);be=!1}}const V=Y.getLineMaxColumn(de);let Z=N.range.endLineNumber,ie=N.range.endColumn;if(V===N.range.endColumn&&(Z++,ie=1),Z>le)return new B.e(de,1,le+1,1);N=Y.findNextBracket(new v.L(Z,ie))}return new B.e(de,1,le+1,1)}addDecoration(Y,de){this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[{range:Y,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:de}}])}removeLinkDecorations(){this.linkDecorations.length>0&&(this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[]))}isEnabled(Y,de){return this.editor.hasModel()&&Y.isNoneOrSingleMouseDown&&6===Y.target.type&&(Y.hasTriggerModifier||!!de&&de.keyCodeIsTriggerKey)&&R.Ct.has(this.editor.getModel())}findDefinition(Y,de){const le=this.editor.getModel();return le?(0,C.nD)(le,Y,de):Promise.resolve(null)}gotoDefinition(Y,de){return this.editor.setPosition(Y),this.editor.invokeWithinContext(le=>{const ce=!de&&this.editor.getOption(75)&&!this.isInPeekEditor(le);return new E.DefinitionAction({openToSide:de,openInPeek:ce,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run(le,this.editor)})}isInPeekEditor(Y){const de=Y.get(f.i6);return _.Jy.inPeekEditor.getValue(de)}dispose(){this.toUnhook.dispose()}};F.ID="editor.contrib.gotodefinitionatposition",F.MAX_SOURCE_PREVIEW_LINES=8,F=function(G,Y,de,le){var N,ce=arguments.length,be=ce<3?Y:null===le?le=Object.getOwnPropertyDescriptor(Y,de):le;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)be=Reflect.decorate(G,Y,de,le);else for(var V=G.length-1;V>=0;V--)(N=G[V])&&(be=(ce<3?N(be):ce>3?N(Y,de,be):N(Y,de))||be);return ce>3&&be&&Object.defineProperty(Y,de,be),be}([L(1,b.S),L(2,$.h)],F),(0,d._K)(F.ID,F),(0,I.Ic)((G,Y)=>{const de=G.getColor(p._Y);de&&Y.addRule(`.monaco-editor .goto-definition-link { color: ${de} !important; }`)})},3571:(Ct,Qe,a)=>{"use strict";a.d(Qe,{J:()=>ht});var T=a(1606),U=a(5160),j=a(1719),O=a(3779),k=a(4562),$=a(2844),B=a(9040),R=a(7129),d=a(310),g=(a(1815),a(1165)),b=a(3727),I=a(6723),p=a(6857),w=a(8401),E=a(4406),S=a(8487),v=a(111),M=a(4128),_=a(1060),f=a(4504),m=a(5360),L=a(6803),F=a(1710),G=a(6844),Y=a(3012),de=a(9785),le=a(3595),ce=function(De,Le,dt,_t){var pn,Nt=arguments.length,zt=Nt<3?Le:null===_t?_t=Object.getOwnPropertyDescriptor(Le,dt):_t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)zt=Reflect.decorate(De,Le,dt,_t);else for(var Qt=De.length-1;Qt>=0;Qt--)(pn=De[Qt])&&(zt=(Nt<3?pn(zt):Nt>3?pn(Le,dt,zt):pn(Le,dt))||zt);return Nt>3&&zt&&Object.defineProperty(Le,dt,zt),zt},be=function(De,Le){return function(dt,_t){Le(dt,_t,De)}};let N=class{constructor(Le){this._resolverService=Le}hasChildren(Le){return Le instanceof d.oQ||Le instanceof d.F2}getChildren(Le){if(Le instanceof d.oQ)return Le.groups;if(Le instanceof d.F2)return Le.resolve(this._resolverService).then(dt=>dt.children);throw new Error("bad tree")}};N=ce([be(0,M.S)],N);class V{getHeight(){return 23}getTemplateId(Le){return Le instanceof d.F2?oe.id:K.id}}let Z=class{constructor(Le){this._keybindingService=Le}getKeyboardNavigationLabel(Le){var dt;if(Le instanceof d.WX){const _t=null===(dt=Le.parent.getPreview(Le))||void 0===dt?void 0:dt.preview(Le.range);if(_t)return _t.value}return(0,w.EZ)(Le.uri)}};Z=ce([be(0,Y.d)],Z);class ie{getId(Le){return Le instanceof d.WX?Le.id:Le.uri}}let ue=class extends j.JT{constructor(Le,dt,_t){super(),this._uriLabel=dt;const Nt=document.createElement("div");Nt.classList.add("reference-file"),this.file=this._register(new _.g(Nt,{supportHighlights:!0})),this.badge=new f.Z(g.R3(Nt,g.$(".count"))),this._register((0,F.WZ)(this.badge,_t)),Le.appendChild(Nt)}set(Le,dt){let _t=(0,w.XX)(Le.uri);this.file.setLabel((0,G.p)(Le.uri),this._uriLabel.getUriLabel(_t,{relative:!0}),{title:this._uriLabel.getUriLabel(Le.uri),matches:dt});const Nt=Le.children.length;this.badge.setCount(Nt),this.badge.setTitleFormat(Nt>1?(0,T.N)("referencesCount","{0} references",Nt):(0,T.N)("referenceCount","{0} reference",Nt))}};ue=ce([be(1,m.e),be(2,L.XE)],ue);let oe=class kR{constructor(Le){this._instantiationService=Le,this.templateId=kR.id}renderTemplate(Le){return this._instantiationService.createInstance(ue,Le)}renderElement(Le,dt,_t){_t.set(Le.element,(0,de.mB)(Le.filterData))}disposeTemplate(Le){Le.dispose()}};oe.id="FileReferencesRenderer",oe=ce([be(0,k.TG)],oe);class ee{constructor(Le){this.label=new le.q(Le,!1)}set(Le,dt){var _t;const Nt=null===(_t=Le.parent.getPreview(Le))||void 0===_t?void 0:_t.preview(Le.range);if(Nt&&Nt.value){const{value:zt,highlight:pn}=Nt;dt&&!de.CL.isDefault(dt)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(zt,(0,de.mB)(dt))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(zt,[pn]))}else this.label.set(`${(0,w.EZ)(Le.uri)}:${Le.range.startLineNumber+1}:${Le.range.startColumn+1}`)}}let K=(()=>{class De{constructor(){this.templateId=De.id}renderTemplate(dt){return new ee(dt)}renderElement(dt,_t,Nt){Nt.set(dt.element,dt.filterData)}disposeTemplate(){}}return De.id="OneReferenceRenderer",De})();class ne{getWidgetAriaLabel(){return(0,T.N)("treeAriaLabel","References")}getAriaLabel(Le){return Le.ariaMessage}}var he=a(2490),ge=a(7251),re=a(1592),ye=a(8346),ke=a(6995),Pe=function(De,Le){return function(dt,_t){Le(dt,_t,De)}},fe=function(De,Le,dt,_t){return new(dt||(dt=Promise))(function(zt,pn){function Qt(nt){try{qt(_t.next(nt))}catch(bt){pn(bt)}}function Ht(nt){try{qt(_t.throw(nt))}catch(bt){pn(bt)}}function qt(nt){nt.done?zt(nt.value):function(zt){return zt instanceof dt?zt:new dt(function(pn){pn(zt)})}(nt.value).then(Qt,Ht)}qt((_t=_t.apply(De,Le||[])).next())})};class Te{constructor(Le,dt){this._editor=Le,this._model=dt,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new j.SL,this._callOnModelChange=new j.SL,this._callOnDispose.add(this._editor.onDidChangeModel(()=>this._onModelChanged())),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();const Le=this._editor.getModel();if(Le)for(let dt of this._model.references)if(dt.uri.toString()===Le.uri.toString())return void this._addDecorations(dt.parent)}_addDecorations(Le){if(!this._editor.hasModel())return;this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(()=>this._onDecorationChanged()));const dt=[],_t=[];for(let zt=0,pn=Le.children.length;zt<pn;zt++){let Qt=Le.children[zt];this._decorationIgnoreSet.has(Qt.id)||Qt.uri.toString()===this._editor.getModel().uri.toString()&&(dt.push({range:Qt.range,options:Te.DecorationOptions}),_t.push(zt))}const Nt=this._editor.deltaDecorations([],dt);for(let zt=0;zt<Nt.length;zt++)this._decorations.set(Nt[zt],Le.children[_t[zt]])}_onDecorationChanged(){const Le=[],dt=this._editor.getModel();if(dt){for(let[_t,Nt]of this._decorations){const zt=dt.getDecorationRange(_t);if(!zt)continue;let pn=!1;S.e.equalsRange(zt,Nt.range)||((S.e.spansMultipleLines(zt)||Nt.range.endColumn-Nt.range.startColumn!=zt.endColumn-zt.startColumn)&&(pn=!0),pn?(this._decorationIgnoreSet.add(Nt.id),Le.push(_t)):Nt.range=zt)}for(let _t=0,Nt=Le.length;_t<Nt;_t++)this._decorations.delete(Le[_t]);this._editor.deltaDecorations(Le,[])}}removeDecorations(){this._editor.deltaDecorations([...this._decorations.keys()],[]),this._decorations.clear()}}Te.DecorationOptions=v.qx.register({description:"reference-decoration",stickiness:1,className:"reference-decoration"});class Je extends he.ls{}let pe=class extends re.vk{constructor(Le,dt,_t,Nt,zt,pn,Qt,Ht,qt,nt){super(Le,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0},pn),this._defaultTreeKeyboardSupport=dt,this.layoutData=_t,this._textModelResolverService=zt,this._instantiationService=pn,this._peekViewService=Qt,this._uriLabel=Ht,this._undoRedoService=qt,this._keybindingService=nt,this._disposeOnNewModel=new j.SL,this._callOnDispose=new j.SL,this._onDidSelectReference=new I.Q5,this.onDidSelectReference=this._onDidSelectReference.event,this._dim=new g.Ro(0,0),this._applyTheme(Nt.getColorTheme()),this._callOnDispose.add(Nt.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(Le,this),this.create()}dispose(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),(0,j.B9)(this._preview),(0,j.B9)(this._previewNotAvailableMessage),(0,j.B9)(this._tree),(0,j.B9)(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(Le){const dt=Le.getColor(re.SC)||b.Il.transparent;this.style({arrowColor:dt,frameColor:dt,headerBackgroundColor:Le.getColor(re.KY)||b.Il.transparent,primaryHeadingColor:Le.getColor(re.IH),secondaryHeadingColor:Le.getColor(re.R7)})}show(Le){this.editor.revealRangeInCenterIfOutsideViewport(Le,0),super.show(Le,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(Le){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:Le.ctrlKey||Le.metaKey||Le.altKey?"side":"open",source:"title"})}_fillBody(Le){this.setCssClass("reference-zone-widget"),this._messageContainer=g.R3(Le,g.$("div.messages")),g.Cp(this._messageContainer),this._splitView=new ye.z(Le,{orientation:1}),this._previewContainer=g.R3(Le,g.$("div.preview.inline")),this._preview=this._instantiationService.createInstance(E.H,this._previewContainer,{scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!1},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}},this.editor),g.Cp(this._previewContainer),this._previewNotAvailableMessage=new v.yO(T.N("missingPreviewMessage","no preview available"),v.yO.DEFAULT_CREATION_OPTIONS,null,null,this._undoRedoService),this._treeContainer=g.R3(Le,g.$("div.ref-tree.inline"));const _t={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new ne,keyboardNavigationLabelProvider:this._instantiationService.createInstance(Z),identityProvider:new ie,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:re.M8}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(g.mu(this._treeContainer,"keydown",zt=>{zt.equals(9)&&(this._keybindingService.dispatchEvent(zt,zt.target),zt.stopPropagation())},!0)),this._tree=this._instantiationService.createInstance(Je,"ReferencesWidget",this._treeContainer,new V,[this._instantiationService.createInstance(oe),this._instantiationService.createInstance(K)],this._instantiationService.createInstance(N),_t),this._splitView.addView({onDidChange:I.ju.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:zt=>{this._preview.layout({height:this._dim.height,width:zt})}},ye.M.Distribute),this._splitView.addView({onDidChange:I.ju.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:zt=>{this._treeContainer.style.height=`${this._dim.height}px`,this._treeContainer.style.width=`${zt}px`,this._tree.layout(this._dim.height,zt)}},ye.M.Distribute),this._disposables.add(this._splitView.onDidSashChange(()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)},void 0));let Nt=(zt,pn)=>{zt instanceof d.WX&&("show"===pn&&this._revealReference(zt,!1),this._onDidSelectReference.fire({element:zt,kind:pn,source:"tree"}))};this._tree.onDidOpen(zt=>{Nt(zt.element,zt.sideBySide?"side":zt.editorOptions.pinned?"goto":"show")}),g.Cp(this._treeContainer)}_onWidth(Le){this._dim&&this._doLayoutBody(this._dim.height,Le)}_doLayoutBody(Le,dt){super._doLayoutBody(Le,dt),this._dim=new g.Ro(dt,Le),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(dt),this._splitView.resizeView(0,dt*this.layoutData.ratio)}setSelection(Le){return this._revealReference(Le,!0).then(()=>{!this._model||(this._tree.setSelection([Le]),this._tree.setFocus([Le]))})}setModel(Le){return this._disposeOnNewModel.clear(),this._model=Le,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=T.N("noResults","No results"),g.$Z(this._messageContainer),Promise.resolve(void 0)):(g.Cp(this._messageContainer),this._decorationsManager=new Te(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(Le=>this._tree.rerender(Le))),this._disposeOnNewModel.add(this._preview.onMouseDown(Le=>{const{event:dt,target:_t}=Le;if(2!==dt.detail)return;const Nt=this._getFocusedReference();!Nt||this._onDidSelectReference.fire({element:{uri:Nt.uri,range:_t.range},kind:dt.ctrlKey||dt.metaKey||dt.altKey?"side":"open",source:"editor"})})),this.container.classList.add("results-loaded"),g.$Z(this._treeContainer),g.$Z(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(1===this._model.groups.length?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){const[Le]=this._tree.getFocus();return Le instanceof d.WX?Le:Le instanceof d.F2&&Le.children.length>0?Le.children[0]:void 0}revealReference(Le){return fe(this,void 0,void 0,function*(){yield this._revealReference(Le,!1),this._onDidSelectReference.fire({element:Le,kind:"goto",source:"tree"})})}_revealReference(Le,dt){return fe(this,void 0,void 0,function*(){if(this._revealedReference===Le)return;this._revealedReference=Le,Le.uri.scheme!==p.lg.inMemory?this.setTitle((0,w.Hx)(Le.uri),this._uriLabel.getUriLabel((0,w.XX)(Le.uri))):this.setTitle(T.N("peekView.alternateTitle","References"));const _t=this._textModelResolverService.createModelReference(Le.uri);this._tree.getInput()===Le.parent||(dt&&this._tree.reveal(Le.parent),yield this._tree.expand(Le.parent)),this._tree.reveal(Le);const Nt=yield _t;if(!this._model)return void Nt.dispose();(0,j.B9)(this._previewModelReference);const zt=Nt.object;if(zt){const pn=this._preview.getModel()===zt.textEditorModel?0:1,Qt=S.e.lift(Le.range).collapseToStart();this._previewModelReference=Nt,this._preview.setModel(zt.textEditorModel),this._preview.setSelection(Qt),this._preview.revealRangeInCenter(Qt,pn)}else this._preview.setModel(this._previewNotAvailableMessage),Nt.dispose()})}};pe=function(De,Le,dt,_t){var pn,Nt=arguments.length,zt=Nt<3?Le:null===_t?_t=Object.getOwnPropertyDescriptor(Le,dt):_t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)zt=Reflect.decorate(De,Le,dt,_t);else for(var Qt=De.length-1;Qt>=0;Qt--)(pn=De[Qt])&&(zt=(Nt<3?pn(zt):Nt>3?pn(Le,dt,zt):pn(Le,dt))||zt);return Nt>3&&zt&&Object.defineProperty(Le,dt,zt),zt}([Pe(3,L.XE),Pe(4,M.S),Pe(5,k.TG),Pe(6,re.Fw),Pe(7,m.e),Pe(8,ke.tJ),Pe(9,Y.d)],pe),(0,L.Ic)((De,Le)=>{const dt=De.getColor(re.F8);dt&&Le.addRule(`.monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight { background-color: ${dt}; }`);const _t=De.getColor(re.WL);_t&&Le.addRule(`.monaco-editor .reference-zone-widget .preview .reference-decoration { background-color: ${_t}; }`);const Nt=De.getColor(re.xH);Nt&&Le.addRule(`.monaco-editor .reference-zone-widget .preview .reference-decoration { border: 2px solid ${Nt}; box-sizing: border-box; }`);const zt=De.getColor(ge.xL);zt&&Le.addRule(`.monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight { border: 1px dotted ${zt}; box-sizing: border-box; }`);const pn=De.getColor(re.M8);pn&&Le.addRule(`.monaco-editor .reference-zone-widget .ref-tree { background-color: ${pn}; }`);const Qt=De.getColor(re.xk);Qt&&Le.addRule(`.monaco-editor .reference-zone-widget .ref-tree { color: ${Qt}; }`);const Ht=De.getColor(re.a7);Ht&&Le.addRule(`.monaco-editor .reference-zone-widget .ref-tree .reference-file { color: ${Ht}; }`);const qt=De.getColor(re.Zj);qt&&Le.addRule(`.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) { background-color: ${qt}; }`);const nt=De.getColor(re.IY);nt&&Le.addRule(`.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) { color: ${nt} !important; }`);const bt=De.getColor(re.RX);bt&&Le.addRule(`.monaco-editor .reference-zone-widget .preview .monaco-editor .monaco-editor-background,.monaco-editor .reference-zone-widget .preview .monaco-editor .inputarea.ime-input {\tbackground-color: ${bt};}`);const Rt=De.getColor(re.sH);Rt&&Le.addRule(`.monaco-editor .reference-zone-widget .preview .monaco-editor .margin {\tbackground-color: ${Rt};}`)});var Ve=a(2109),Ae=a(1004),Ee=a(7922),ze=a(2331),Be=a(4807),Ue=a(8896),vt=function(De,Le){return function(dt,_t){Le(dt,_t,De)}},At=function(De,Le,dt,_t){return new(dt||(dt=Promise))(function(zt,pn){function Qt(nt){try{qt(_t.next(nt))}catch(bt){pn(bt)}}function Ht(nt){try{qt(_t.throw(nt))}catch(bt){pn(bt)}}function qt(nt){nt.done?zt(nt.value):function(zt){return zt instanceof dt?zt:new dt(function(pn){pn(zt)})}(nt.value).then(Qt,Ht)}qt((_t=_t.apply(De,Le||[])).next())})};const ve=new $.uy("referenceSearchVisible",!1,T.N("referenceSearchVisible","Whether reference peek is visible, like 'Peek References' or 'Peek Definition'"));let ht=class Pw{constructor(Le,dt,_t,Nt,zt,pn,Qt,Ht){this._defaultTreeKeyboardSupport=Le,this._editor=dt,this._editorService=Nt,this._notificationService=zt,this._instantiationService=pn,this._storageService=Qt,this._configurationService=Ht,this._disposables=new j.SL,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=ve.bindTo(_t)}static get(Le){return Le.getContribution(Pw.ID)}dispose(){var Le,dt;this._referenceSearchVisible.reset(),this._disposables.dispose(),null===(Le=this._widget)||void 0===Le||Le.dispose(),null===(dt=this._model)||void 0===dt||dt.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(Le,dt,_t){let Nt;if(this._widget&&(Nt=this._widget.position),this.closeWidget(),Nt&&Le.containsPosition(Nt))return;this._peekMode=_t,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>{this.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(()=>{this._ignoreModelChangeEvent||this.closeWidget()}));const zt="peekViewLayout",pn=class{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(Le){let dt,_t;try{const Nt=JSON.parse(Le);dt=Nt.ratio,_t=Nt.heightInLines}catch(Nt){}return{ratio:dt||.7,heightInLines:_t||18}}}.fromJSON(this._storageService.get(zt,0,"{}"));this._widget=this._instantiationService.createInstance(pe,this._editor,this._defaultTreeKeyboardSupport,pn),this._widget.setTitle(T.N("labelLoading","Loading...")),this._widget.show(Le),this._disposables.add(this._widget.onDidClose(()=>{dt.cancel(),this._widget&&(this._storageService.store(zt,JSON.stringify(this._widget.layoutData),0,1),this._widget=void 0),this.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference(Ht=>{let{element:qt,kind:nt}=Ht;if(qt)switch(nt){case"open":("editor"!==Ht.source||!this._configurationService.getValue("editor.stablePeek"))&&this.openReference(qt,!1,!1);break;case"side":this.openReference(qt,!0,!1);break;case"goto":_t?this._gotoReference(qt):this.openReference(qt,!1,!0)}}));const Qt=++this._requestIdPool;dt.then(Ht=>{var qt;if(Qt===this._requestIdPool&&this._widget)return null===(qt=this._model)||void 0===qt||qt.dispose(),this._model=Ht,this._widget.setModel(this._model).then(()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._widget.setMetaTitle(this._model.isEmpty?"":T.N("metaTitle.N","{0} ({1})",this._model.title,this._model.references.length));let nt=this._editor.getModel().uri,bt=new Ve.L(Le.startLineNumber,Le.startColumn),Rt=this._model.nearestReference(nt,bt);if(Rt)return this._widget.setSelection(Rt).then(()=>{this._widget&&"editor"===this._editor.getOption(74)&&this._widget.focusOnPreviewEditor()})}});Ht.dispose()},Ht=>{this._notificationService.error(Ht)})}changeFocusBetweenPreviewAndReferences(){!this._widget||(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}goToNextOrPreviousReference(Le){return At(this,void 0,void 0,function*(){if(!this._editor.hasModel()||!this._model||!this._widget)return;const dt=this._widget.position;if(!dt)return;const _t=this._model.nearestReference(this._editor.getModel().uri,dt);if(!_t)return;const Nt=this._model.nextOrPreviousReference(_t,Le),zt=this._editor.hasTextFocus(),pn=this._widget.isPreviewEditorFocused();yield this._widget.setSelection(Nt),yield this._gotoReference(Nt),zt?this._editor.focus():this._widget&&pn&&this._widget.focusOnPreviewEditor()})}revealReference(Le){return At(this,void 0,void 0,function*(){!this._editor.hasModel()||!this._model||!this._widget||(yield this._widget.revealReference(Le))})}closeWidget(Le=!0){var dt,_t;null===(dt=this._widget)||void 0===dt||dt.dispose(),null===(_t=this._model)||void 0===_t||_t.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,Le&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(Le){this._widget&&this._widget.hide(),this._ignoreModelChangeEvent=!0;const dt=S.e.lift(Le.range).collapseToStart();return this._editorService.openCodeEditor({resource:Le.uri,options:{selection:dt}},this._editor).then(_t=>{var Nt;if(this._ignoreModelChangeEvent=!1,_t&&this._widget)if(this._editor===_t)this._widget.show(dt),this._widget.focusOnReferenceTree();else{const zt=Pw.get(_t),pn=this._model.clone();this.closeWidget(),_t.focus(),zt.toggleWidget(dt,(0,Ee.PG)(Qt=>Promise.resolve(pn)),null!==(Nt=this._peekMode)&&void 0!==Nt&&Nt)}else this.closeWidget()},_t=>{this._ignoreModelChangeEvent=!1,(0,U.dL)(_t)})}openReference(Le,dt,_t){dt||this.closeWidget();const{uri:Nt,range:zt}=Le;this._editorService.openCodeEditor({resource:Nt,options:{selection:zt,pinned:_t}},this._editor,dt)}};function Ge(De,Le){const dt=(0,re.rc)(De);if(!dt)return;let _t=ht.get(dt);_t&&Le(_t)}ht.ID="editor.contrib.referencesController",ht=function(De,Le,dt,_t){var pn,Nt=arguments.length,zt=Nt<3?Le:null===_t?_t=Object.getOwnPropertyDescriptor(Le,dt):_t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)zt=Reflect.decorate(De,Le,dt,_t);else for(var Qt=De.length-1;Qt>=0;Qt--)(pn=De[Qt])&&(zt=(Nt<3?pn(zt):Nt>3?pn(Le,dt,zt):pn(Le,dt))||zt);return Nt>3&&zt&&Object.defineProperty(Le,dt,zt),zt}([vt(2,$.i6),vt(3,O.$),vt(4,Ae.lT),vt(5,k.TG),vt(6,R.Uy),vt(7,B.Ui)],ht),ze.W.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:(0,Be.gx)(2089,60),when:$.Ao.or(ve,re.Jy.inPeekEditor),handler(De){Ge(De,Le=>{Le.changeFocusBetweenPreviewAndReferences()})}}),ze.W.registerCommandAndKeybindingRule({id:"goToNextReference",weight:90,primary:62,secondary:[70],when:$.Ao.or(ve,re.Jy.inPeekEditor),handler(De){Ge(De,Le=>{Le.goToNextOrPreviousReference(!0)})}}),ze.W.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:90,primary:1086,secondary:[1094],when:$.Ao.or(ve,re.Jy.inPeekEditor),handler(De){Ge(De,Le=>{Le.goToNextOrPreviousReference(!1)})}}),Ue.P.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference"),Ue.P.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference"),Ue.P.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch"),Ue.P.registerCommand("closeReferenceSearch",De=>Ge(De,Le=>Le.closeWidget())),ze.W.registerKeybindingRule({id:"closeReferenceSearch",weight:-1,primary:9,secondary:[1033],when:$.Ao.and(re.Jy.inPeekEditor,$.Ao.not("config.editor.stablePeek"))}),ze.W.registerKeybindingRule({id:"closeReferenceSearch",weight:250,primary:9,secondary:[1033],when:$.Ao.and(ve,$.Ao.not("config.editor.stablePeek"))}),ze.W.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2066]},when:$.Ao.and(ve,he.CQ),handler(De){var Le;const _t=null===(Le=De.get(he.Lw).lastFocusedList)||void 0===Le?void 0:Le.getFocus();Array.isArray(_t)&&_t[0]instanceof d.WX&&Ge(De,Nt=>Nt.revealReference(_t[0]))}}),ze.W.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2051,mac:{primary:259},when:$.Ao.and(ve,he.CQ),handler(De){var Le;const _t=null===(Le=De.get(he.Lw).lastFocusedList)||void 0===Le?void 0:Le.getFocus();Array.isArray(_t)&&_t[0]instanceof d.WX&&Ge(De,Nt=>Nt.openReference(_t[0],!0,!0))}}),Ue.P.registerCommand("openReference",De=>{var Le;const _t=null===(Le=De.get(he.Lw).lastFocusedList)||void 0===Le?void 0:Le.getFocus();Array.isArray(_t)&&_t[0]instanceof d.WX&&Ge(De,Nt=>Nt.openReference(_t[0],!1,!0))})},310:(Ct,Qe,a)=>{"use strict";a.d(Qe,{WX:()=>g,F2:()=>I,oQ:()=>p});var T=a(1606),U=a(6723),j=a(8401),O=a(1719),k=a(579),$=a(4437),B=a(8487),R=a(299),d=a(5160);class g{constructor(E,S,v,M){this.isProviderFirst=E,this.parent=S,this.link=v,this._rangeCallback=M,this.id=$.a.nextId()}get uri(){return this.link.uri}get range(){var E,S;return null!==(S=null!==(E=this._range)&&void 0!==E?E:this.link.targetSelectionRange)&&void 0!==S?S:this.link.range}set range(E){this._range=E,this._rangeCallback(this)}get ariaMessage(){var E;const S=null===(E=this.parent.getPreview(this))||void 0===E?void 0:E.preview(this.range);return S?(0,T.N)({key:"aria.oneReference.preview",comment:["Placeholders are: 0: filename, 1:line number, 2: column number, 3: preview snippet of source code"]},"symbol in {0} on line {1} at column {2}, {3}",(0,j.EZ)(this.uri),this.range.startLineNumber,this.range.startColumn,S.value):(0,T.N)("aria.oneReference","symbol in {0} on line {1} at column {2}",(0,j.EZ)(this.uri),this.range.startLineNumber,this.range.startColumn)}}class b{constructor(E){this._modelReference=E}dispose(){this._modelReference.dispose()}preview(E,S=8){const v=this._modelReference.object.textEditorModel;if(!v)return;const{startLineNumber:M,startColumn:_,endLineNumber:f,endColumn:m}=E,L=v.getWordUntilPosition({lineNumber:M,column:_-S}),F=new B.e(M,L.startColumn,M,_),G=new B.e(f,m,f,1073741824),Y=v.getValueInRange(F).replace(/^\s+/,""),de=v.getValueInRange(E);return{value:Y+de+v.getValueInRange(G).replace(/\s+$/,""),highlight:{start:Y.length,end:Y.length+de.length}}}}class I{constructor(E,S){this.parent=E,this.uri=S,this.children=[],this._previews=new R.Y9}dispose(){(0,O.B9)(this._previews.values()),this._previews.clear()}getPreview(E){return this._previews.get(E.uri)}get ariaMessage(){const E=this.children.length;return 1===E?(0,T.N)("aria.fileReferences.1","1 symbol in {0}, full path {1}",(0,j.EZ)(this.uri),this.uri.fsPath):(0,T.N)("aria.fileReferences.N","{0} symbols in {1}, full path {2}",E,(0,j.EZ)(this.uri),this.uri.fsPath)}resolve(E){return function(w,E,S,v){return new(S||(S=Promise))(function(_,f){function m(G){try{F(v.next(G))}catch(Y){f(Y)}}function L(G){try{F(v.throw(G))}catch(Y){f(Y)}}function F(G){G.done?_(G.value):function(_){return _ instanceof S?_:new S(function(f){f(_)})}(G.value).then(m,L)}F((v=v.apply(w,E||[])).next())})}(this,void 0,void 0,function*(){if(0!==this._previews.size)return this;for(let S of this.children)if(!this._previews.has(S.uri))try{const v=yield E.createModelReference(S.uri);this._previews.set(S.uri,new b(v))}catch(v){(0,d.dL)(v)}return this})}}class p{constructor(E,S){this.groups=[],this.references=[],this._onDidChangeReferenceRange=new U.Q5,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=E,this._title=S;const[v]=E;let M;E.sort(p._compareReferences);for(let _ of E)if((!M||!j.SF.isEqual(M.uri,_.uri,!0))&&(M=new I(this,_.uri),this.groups.push(M)),0===M.children.length||0!==p._compareReferences(_,M.children[M.children.length-1])){const f=new g(v===_,M,_,m=>this._onDidChangeReferenceRange.fire(m));this.references.push(f),M.children.push(f)}}dispose(){(0,O.B9)(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new p(this._links,this._title)}get title(){return this._title}get isEmpty(){return 0===this.groups.length}get ariaMessage(){return this.isEmpty?(0,T.N)("aria.result.0","No results found"):1===this.references.length?(0,T.N)("aria.result.1","Found 1 symbol in {0}",this.references[0].uri.fsPath):1===this.groups.length?(0,T.N)("aria.result.n1","Found {0} symbols in {1}",this.references.length,this.groups[0].uri.fsPath):(0,T.N)("aria.result.nm","Found {0} symbols in {1} files",this.references.length,this.groups.length)}nextOrPreviousReference(E,S){let{parent:v}=E,M=v.children.indexOf(E),_=v.children.length,f=v.parent.groups.length;return 1===f||S&&M+1<_||!S&&M>0?(M=S?(M+1)%_:(M+_-1)%_,v.children[M]):(M=v.parent.groups.indexOf(v),S?(M=(M+1)%f,v.parent.groups[M].children[0]):(M=(M+f-1)%f,v.parent.groups[M].children[v.parent.groups[M].children.length-1]))}nearestReference(E,S){const v=this.references.map((M,_)=>({idx:_,prefixLen:k.Mh(M.uri.toString(),E.toString()),offsetDist:100*Math.abs(M.range.startLineNumber-S.lineNumber)+Math.abs(M.range.startColumn-S.column)})).sort((M,_)=>M.prefixLen>_.prefixLen?-1:M.prefixLen<_.prefixLen?1:M.offsetDist<_.offsetDist?-1:M.offsetDist>_.offsetDist?1:0)[0];if(v)return this.references[v.idx]}referenceAt(E,S){for(const v of this.references)if(v.uri.toString()===E.toString()&&B.e.containsPosition(v.range,S))return v}firstReference(){for(const E of this.references)if(E.isProviderFirst)return E;return this.references[0]}static _compareReferences(E,S){return j.SF.compare(E.uri,S.uri)||B.e.compareRangesUsingStarts(E.range,S.range)}}},33:(Ct,Qe,a)=>{"use strict";a.r(Qe),a.d(Qe,{ModesHoverController:()=>ci});var T=a(1606),U=a(4807),j=a(1719),O=a(4482),k=a(8487),$=a(9549),B=a(8923),R=a(1165),d=a(2109),C=a(111),g=a(6412),b=a(7922),I=a(5160);class p{constructor(ut,Mt,kt,nn,sn){this._computer=ut,this._state=0,this._hoverTime=sn,this._firstWaitScheduler=new b.pY(()=>this._triggerAsyncComputation(),0),this._secondWaitScheduler=new b.pY(()=>this._triggerSyncComputation(),0),this._loadingMessageScheduler=new b.pY(()=>this._showLoadingMessage(),0),this._asyncComputationPromise=null,this._asyncComputationPromiseDone=!1,this._completeCallback=Mt,this._errorCallback=kt,this._progressCallback=nn}setHoverTime(ut){this._hoverTime=ut}_firstWaitTime(){return this._hoverTime/2}_secondWaitTime(){return this._hoverTime/2}_loadingMessageTime(){return 3*this._hoverTime}_triggerAsyncComputation(){this._state=2,this._secondWaitScheduler.schedule(this._secondWaitTime()),this._computer.computeAsync?(this._asyncComputationPromiseDone=!1,this._asyncComputationPromise=(0,b.PG)(ut=>this._computer.computeAsync(ut)),this._asyncComputationPromise.then(ut=>{this._asyncComputationPromiseDone=!0,this._withAsyncResult(ut)},ut=>this._onError(ut))):this._asyncComputationPromiseDone=!0}_triggerSyncComputation(){this._computer.computeSync&&this._computer.onResult(this._computer.computeSync(),!0),this._asyncComputationPromiseDone?(this._state=0,this._onComplete(this._computer.getResult())):(this._state=3,this._onProgress(this._computer.getResult()))}_showLoadingMessage(){3===this._state&&this._onProgress(this._computer.getResultWithLoadingMessage())}_withAsyncResult(ut){ut&&this._computer.onResult(ut,!1),3===this._state&&(this._state=0,this._onComplete(this._computer.getResult()))}_onComplete(ut){this._completeCallback(ut)}_onError(ut){this._errorCallback?this._errorCallback(ut):(0,I.dL)(ut)}_onProgress(ut){this._progressCallback(ut)}start(ut){if(0===ut)0===this._state&&(this._state=1,this._firstWaitScheduler.schedule(this._firstWaitTime()),this._loadingMessageScheduler.schedule(this._loadingMessageTime()));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation()}}cancel(){this._loadingMessageScheduler.cancel(),1===this._state&&this._firstWaitScheduler.cancel(),2===this._state&&(this._secondWaitScheduler.cancel(),this._asyncComputationPromise&&(this._asyncComputationPromise.cancel(),this._asyncComputationPromise=null)),3===this._state&&this._asyncComputationPromise&&(this._asyncComputationPromise.cancel(),this._asyncComputationPromise=null),this._state=0}}var w=a(6803),E=a(2291),S=a(7251),v=a(3010),_=(a(9920),a(4304));const f=R.$;class m extends j.JT{constructor(){super(),this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this._scrollbar=this._register(new _.s$(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this._scrollbar.getDomNode())}onContentsChanged(){this._scrollbar.scanDomNode()}}class L extends j.JT{constructor(ut,Mt,kt){super(),this.actionContainer=R.R3(ut,f("div.action-container")),this.action=R.R3(this.actionContainer,f("a.action")),this.action.setAttribute("href","#"),this.action.setAttribute("role","button"),Mt.iconClass&&R.R3(this.action,f(`span.icon.${Mt.iconClass}`)),R.R3(this.action,f("span")).textContent=kt?`${Mt.label} (${kt})`:Mt.label,this._register(R.nm(this.actionContainer,R.tw.CLICK,sn=>{sn.stopPropagation(),sn.preventDefault(),Mt.run(this.actionContainer)})),this.setEnabled(!0)}static render(ut,Mt,kt){return new L(ut,Mt,kt)}setEnabled(ut){ut?(this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled")):(this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true"))}}var F=a(1641),G=a(8401),Y=a(7838),de=a(1227),le=a(4891),ce=a(825),be=a(528),N=a(672),V=a(723),ie=function(Fn,ut){return function(Mt,kt){ut(Mt,kt,Fn)}};const ue=R.$;class oe{constructor(ut,Mt,kt){this.owner=ut,this.range=Mt,this.marker=kt}isValidForHoverAnchor(ut){return 1===ut.type&&this.range.startColumn<=ut.range.startColumn&&this.range.endColumn>=ut.range.endColumn}}const ee={type:1,filter:{include:N.yN.QuickFix}};let K=class{constructor(ut,Mt,kt,nn){this._editor=ut,this._hover=Mt,this._markerDecorationsService=kt,this._openerService=nn,this.recentMarkerCodeActionsInfo=void 0}computeSync(ut,Mt){if(!this._editor.hasModel()||1!==ut.type)return[];const kt=this._editor.getModel(),nn=ut.range.startLineNumber,sn=kt.getLineMaxColumn(nn),gn=[];for(const En of Mt){const Zn=En.range.startLineNumber===nn?En.range.startColumn:1,ai=En.range.endLineNumber===nn?En.range.endColumn:sn,Yn=this._markerDecorationsService.getMarker(kt.uri,En);if(!Yn)continue;const Mn=new k.e(ut.range.startLineNumber,Zn,ut.range.startLineNumber,ai);gn.push(new oe(this,Mn,Yn))}return gn}renderHoverParts(ut,Mt,kt){if(!ut.length)return j.JT.None;const nn=new j.SL;ut.forEach(gn=>Mt.appendChild(this.renderMarkerHover(gn,nn)));const sn=1===ut.length?ut[0]:ut.sort((gn,En)=>F.ZL.compare(gn.marker.severity,En.marker.severity))[0];return this.renderMarkerStatusbar(sn,kt,nn),nn}renderMarkerHover(ut,Mt){const kt=ue("div.hover-row"),nn=R.R3(kt,ue("div.marker.hover-contents")),{source:sn,message:gn,code:En,relatedInformation:Zn}=ut.marker;this._editor.applyFontInfo(nn);const ai=R.R3(nn,ue("span"));if(ai.style.whiteSpace="pre-wrap",ai.innerText=gn,sn||En)if(En&&"string"!=typeof En){const Yn=ue("span");sn&&(R.R3(Yn,ue("span")).innerText=sn);const Mn=R.R3(Yn,ue("a.code-link"));Mn.setAttribute("href",En.target.toString()),Mt.add(R.nm(Mn,"click",si=>{this._openerService.open(En.target,{allowCommands:!0}),si.preventDefault(),si.stopPropagation()})),R.R3(Mn,ue("span")).innerText=En.value;const Li=R.R3(nn,Yn);Li.style.opacity="0.6",Li.style.paddingLeft="6px"}else{const Yn=R.R3(nn,ue("span"));Yn.style.opacity="0.6",Yn.style.paddingLeft="6px",Yn.innerText=sn&&En?`${sn}(${En})`:sn||`(${En})`}if((0,E.Of)(Zn))for(const{message:Yn,resource:Mn,startLineNumber:Nn,startColumn:Li}of Zn){const si=R.R3(nn,ue("div"));si.style.marginTop="8px";const Wi=R.R3(si,ue("a"));Wi.innerText=`${(0,G.EZ)(Mn)}(${Nn}, ${Li}): `,Wi.style.cursor="pointer",Mt.add(R.nm(Wi,"click",vs=>{vs.stopPropagation(),vs.preventDefault(),this._openerService&&this._openerService.open(Mn,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:Nn,startColumn:Li}}}).catch(I.dL)}));const rs=R.R3(si,ue("span"));rs.innerText=Yn,this._editor.applyFontInfo(rs)}return kt}renderMarkerStatusbar(ut,Mt,kt){if((ut.marker.severity===F.ZL.Error||ut.marker.severity===F.ZL.Warning||ut.marker.severity===F.ZL.Info)&&Mt.addAction({label:T.N("view problem","View Problem"),commandId:le.NextMarkerAction.ID,run:()=>{this._hover.hide(),le.MarkerController.get(this._editor).showAtMarker(ut.marker),this._editor.focus()}}),!this._editor.getOption(78)){const nn=Mt.append(ue("div"));this.recentMarkerCodeActionsInfo&&(F.H0.makeKey(this.recentMarkerCodeActionsInfo.marker)===F.H0.makeKey(ut.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(nn.textContent=T.N("noQuickFixes","No quick fixes available")):this.recentMarkerCodeActionsInfo=void 0);const sn=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?j.JT.None:kt.add((0,b.Vg)(()=>nn.textContent=T.N("checkingForQuickFixes","Checking for quick fixes..."),200));nn.textContent||(nn.textContent=String.fromCharCode(160));const gn=this.getCodeActions(ut.marker);kt.add((0,j.OF)(()=>gn.cancel())),gn.then(En=>{if(sn.dispose(),this.recentMarkerCodeActionsInfo={marker:ut.marker,hasCodeActions:En.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions)return En.dispose(),void(nn.textContent=T.N("noQuickFixes","No quick fixes available"));nn.style.display="none";let Zn=!1;kt.add((0,j.OF)(()=>{Zn||En.dispose()})),Mt.addAction({label:T.N("quick fixes","Quick Fix..."),commandId:be.E7.Id,run:ai=>{Zn=!0;const Yn=be.pY.get(this._editor),Mn=R.i(ai);this._hover.hide(),Yn.showCodeActions(ee,En,{x:Mn.left+6,y:Mn.top+Mn.height+6})}})})}}getCodeActions(ut){return(0,b.PG)(Mt=>(0,ce.aI)(this._editor.getModel(),new k.e(ut.startLineNumber,ut.startColumn,ut.endLineNumber,ut.endColumn),ee,V.E.None,Mt))}};K=function(Fn,ut,Mt,kt){var gn,nn=arguments.length,sn=nn<3?ut:null===kt?kt=Object.getOwnPropertyDescriptor(ut,Mt):kt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)sn=Reflect.decorate(Fn,ut,Mt,kt);else for(var En=Fn.length-1;En>=0;En--)(gn=Fn[En])&&(sn=(nn<3?gn(sn):nn>3?gn(ut,Mt,sn):gn(ut,Mt))||sn);return nn>3&&sn&&Object.defineProperty(ut,Mt,sn),sn}([ie(2,Y.i),ie(3,de.v4)],K);var ne=a(4562),he=a(4303),ge=a(8582),re=a(9357);function ye(Fn,ut,Mt){const nn=g.xp.ordered(Fn).map(sn=>Promise.resolve(sn.provideHover(Fn,ut,Mt)).then(gn=>gn&&function(Fn){return void 0!==Fn.range&&(void 0!==Fn.contents&&Fn.contents&&Fn.contents.length>0)}(gn)?gn:void 0,gn=>{(0,I.Cp)(gn)}));return Promise.all(nn).then(E.kX)}(0,O.sb)("_executeHoverProvider",(Fn,ut)=>ye(Fn,ut,re.T.None));var xe=a(9040),fe=function(Fn,ut){return function(Mt,kt){ut(Mt,kt,Fn)}};const Ce=R.$;class Je{constructor(ut,Mt,kt){this.owner=ut,this.range=Mt,this.contents=kt}isValidForHoverAnchor(ut){return 1===ut.type&&this.range.startColumn<=ut.range.startColumn&&this.range.endColumn>=ut.range.endColumn}}let pe=class{constructor(ut,Mt,kt,nn,sn){this._editor=ut,this._hover=Mt,this._modeService=kt,this._openerService=nn,this._configurationService=sn}createLoadingMessage(ut){return new Je(this,ut.range,[(new he.W5).appendText(T.N("modesContentHover.loading","Loading..."))])}computeSync(ut,Mt){if(!this._editor.hasModel()||1!==ut.type)return[];const kt=this._editor.getModel(),nn=ut.range.startLineNumber,sn=kt.getLineMaxColumn(nn),gn=[];for(const ai of Mt){const Yn=ai.range.startLineNumber===nn?ai.range.startColumn:1,Mn=ai.range.endLineNumber===nn?ai.range.endColumn:sn,Nn=ai.options.hoverMessage;if(!Nn||(0,he.CP)(Nn))continue;const Li=new k.e(ut.range.startLineNumber,Yn,ut.range.startLineNumber,Mn);gn.push(new Je(this,Li,(0,E._2)(Nn)))}const En=this._editor.getModel().getLineLength(nn);return En>=this._configurationService.getValue("editor.maxTokenizationLineLength")&&gn.push(new Je(this,new k.e(nn,1,nn,En+1),[{value:T.N("too many characters","Tokenization is skipped for long lines for performance reasons. This can be configured via `editor.maxTokenizationLineLength`.")}])),gn}computeAsync(ut,Mt,kt){return function(Fn,ut,Mt,kt){return new(Mt||(Mt=Promise))(function(sn,gn){function En(Yn){try{ai(kt.next(Yn))}catch(Mn){gn(Mn)}}function Zn(Yn){try{ai(kt.throw(Yn))}catch(Mn){gn(Mn)}}function ai(Yn){Yn.done?sn(Yn.value):function(sn){return sn instanceof Mt?sn:new Mt(function(gn){gn(sn)})}(Yn.value).then(En,Zn)}ai((kt=kt.apply(Fn,ut||[])).next())})}(this,void 0,void 0,function*(){if(!this._editor.hasModel()||1!==ut.type)return Promise.resolve([]);const nn=this._editor.getModel();if(!g.xp.has(nn))return Promise.resolve([]);const sn=yield ye(nn,new d.L(ut.range.startLineNumber,ut.range.startColumn),kt),gn=[];for(const En of sn){if((0,he.CP)(En.contents))continue;const Zn=En.range?k.e.lift(En.range):ut.range;gn.push(new Je(this,Zn,En.contents))}return gn})}renderHoverParts(ut,Mt,kt){const nn=new j.SL;for(const sn of ut)for(const gn of sn.contents){if((0,he.CP)(gn))continue;const En=Ce("div.hover-row.markdown-hover"),Zn=R.R3(En,Ce("div.hover-contents")),ai=nn.add(new ge.$({editor:this._editor},this._modeService,this._openerService));nn.add(ai.onDidRenderAsync(()=>{Zn.className="hover-contents code-hover-contents",this._hover.onContentsChanged()}));const Yn=nn.add(ai.render(gn));Zn.appendChild(Yn.element),Mt.appendChild(En)}return nn}};pe=function(Fn,ut,Mt,kt){var gn,nn=arguments.length,sn=nn<3?ut:null===kt?kt=Object.getOwnPropertyDescriptor(ut,Mt):kt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)sn=Reflect.decorate(Fn,ut,Mt,kt);else for(var En=Fn.length-1;En>=0;En--)(gn=Fn[En])&&(sn=(nn<3?gn(sn):nn>3?gn(ut,Mt,sn):gn(ut,Mt))||sn);return nn>3&&sn&&Object.defineProperty(ut,Mt,sn),sn}([fe(2,B.h),fe(3,de.v4),fe(4,xe.Ui)],pe);class Ve{constructor(ut,Mt){this.priority=ut,this.range=Mt,this.type=1}equals(ut){return 1===ut.type&&this.range.equalsRange(ut.range)}canAdoptVisibleHover(ut,Mt){return 1===ut.type&&Mt.lineNumber===this.range.startLineNumber}}class Ae{constructor(ut,Mt,kt){this.priority=ut,this.owner=Mt,this.range=kt,this.type=2}equals(ut){return 2===ut.type&&this.owner===ut.owner}canAdoptVisibleHover(ut,Mt){return 2===ut.type&&this.owner===ut.owner}}var Ee=a(4608),ze=a(8896),Be=a(2836),Ue=a(2844),vt=function(Fn,ut){return function(Mt,kt){ut(Mt,kt,Fn)}};class At{constructor(ut,Mt,kt){this.owner=ut,this.range=Mt,this.controller=kt}isValidForHoverAnchor(ut){return 1===ut.type&&this.range.startColumn<=ut.range.startColumn&&this.range.endColumn>=ut.range.endColumn}hasMultipleSuggestions(){return this.controller.hasMultipleInlineCompletions()}}let ve=class{constructor(ut,Mt,kt,nn,sn){this._editor=ut,this._commandService=kt,this._menuService=nn,this._contextKeyService=sn}suggestHoverAnchor(ut){const Mt=Ee.GhostTextController.get(this._editor);if(!Mt)return null;if(8===ut.target.type){const kt=ut.target.detail;if(Mt.shouldShowHoverAtViewZone(kt.viewZoneId))return new Ae(1e3,this,k.e.fromPositions(kt.positionBefore||kt.position,kt.positionBefore||kt.position))}return 7===ut.target.type&&ut.target.range&&Mt.shouldShowHoverAt(ut.target.range)||6===ut.target.type&&ut.target.range&&ut.target.detail&&ut.target.detail.mightBeForeignElement&&Mt.shouldShowHoverAt(ut.target.range)?new Ae(1e3,this,ut.target.range):null}computeSync(ut,Mt){const kt=Ee.GhostTextController.get(this._editor);return kt&&kt.shouldShowHoverAt(ut.range)?[new At(this,ut.range,kt)]:[]}renderHoverParts(ut,Mt,kt){const nn=new j.SL,sn=nn.add(this._menuService.createMenu(Be.eH.InlineCompletionsActions,this._contextKeyService)),gn=kt.addAction({label:T.N("showNextInlineSuggestion","Next"),commandId:Ee.ShowNextInlineSuggestionAction.ID,run:()=>this._commandService.executeCommand(Ee.ShowNextInlineSuggestionAction.ID)}),En=kt.addAction({label:T.N("showPreviousInlineSuggestion","Previous"),commandId:Ee.ShowPreviousInlineSuggestionAction.ID,run:()=>this._commandService.executeCommand(Ee.ShowPreviousInlineSuggestionAction.ID)});kt.addAction({label:T.N("acceptInlineSuggestion","Accept"),commandId:Ee.commitInlineSuggestionAction.id,run:()=>this._commandService.executeCommand(Ee.commitInlineSuggestionAction.id)});const Zn=[gn,En];for(const ai of Zn)ai.setEnabled(!1);ut[0].hasMultipleSuggestions().then(ai=>{for(const Yn of Zn)Yn.setEnabled(ai)});for(const[ai,Yn]of sn.getActions())for(const Mn of Yn)Mn instanceof Be.U8&&kt.addAction({label:Mn.label,commandId:Mn.item.id,run:()=>this._commandService.executeCommand(Mn.item.id)});return nn}};ve=function(Fn,ut,Mt,kt){var gn,nn=arguments.length,sn=nn<3?ut:null===kt?kt=Object.getOwnPropertyDescriptor(ut,Mt):kt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)sn=Reflect.decorate(Fn,ut,Mt,kt);else for(var En=Fn.length-1;En>=0;En--)(gn=Fn[En])&&(sn=(nn<3?gn(sn):nn>3?gn(ut,Mt,sn):gn(ut,Mt))||sn);return nn>3&&sn&&Object.defineProperty(ut,Mt,sn),sn}([vt(2,ze.H),vt(3,Be.co),vt(4,Ue.i6)],ve);var ht=a(6162),Ge=a(8526),De=a(3727),Le=a(6723);class dt{constructor(ut,Mt,kt){this.presentationIndex=kt,this._onColorFlushed=new Le.Q5,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new Le.Q5,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new Le.Q5,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=ut,this._color=ut,this._colorPresentations=Mt}get color(){return this._color}set color(ut){this._color.equals(ut)||(this._color=ut,this._onDidChangeColor.fire(ut))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(ut){this._colorPresentations=ut,this.presentationIndex>ut.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(ut,Mt){for(let kt=0;kt<this.colorPresentations.length;kt++)if(Mt.toLowerCase()===this.colorPresentations[kt].label){this.presentationIndex=kt,this._onDidChangePresentation.fire(this.presentation);break}}flushColor(){this._onColorFlushed.fire(this._color)}}a(1005);var Nt=a(4991),zt=a(3058);const pn=R.$;class Qt extends j.JT{constructor(ut,Mt,kt){super(),this.model=Mt,this.domNode=pn(".colorpicker-header"),R.R3(ut,this.domNode),this.pickedColorNode=R.R3(this.domNode,pn(".picked-color"));const nn=R.R3(this.domNode,pn(".original-color"));nn.style.backgroundColor=De.Il.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=kt.getColorTheme().getColor(S.yJ)||De.Il.white,this._register((0,w.Ic)((sn,gn)=>{this.backgroundColor=sn.getColor(S.yJ)||De.Il.white})),this._register(R.nm(this.pickedColorNode,R.tw.CLICK,()=>this.model.selectNextColorPresentation())),this._register(R.nm(nn,R.tw.CLICK,()=>{this.model.color=this.model.originalColor,this.model.flushColor()})),this._register(Mt.onDidChangeColor(this.onDidChangeColor,this)),this._register(Mt.onDidChangePresentation(this.onDidChangePresentation,this)),this.pickedColorNode.style.backgroundColor=De.Il.Format.CSS.format(Mt.color)||"",this.pickedColorNode.classList.toggle("light",Mt.color.rgba.a<.5?this.backgroundColor.isLighter():Mt.color.isLighter())}onDidChangeColor(ut){this.pickedColorNode.style.backgroundColor=De.Il.Format.CSS.format(ut)||"",this.pickedColorNode.classList.toggle("light",ut.rgba.a<.5?this.backgroundColor.isLighter():ut.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this.pickedColorNode.textContent=this.model.presentation?this.model.presentation.label:""}}class Ht extends j.JT{constructor(ut,Mt,kt){super(),this.model=Mt,this.pixelRatio=kt,this.domNode=pn(".colorpicker-body"),R.R3(ut,this.domNode),this.saturationBox=new qt(this.domNode,this.model,this.pixelRatio),this._register(this.saturationBox),this._register(this.saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this.saturationBox.onColorFlushed(this.flushColor,this)),this.opacityStrip=new bt(this.domNode,this.model),this._register(this.opacityStrip),this._register(this.opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this.opacityStrip.onColorFlushed(this.flushColor,this)),this.hueStrip=new Rt(this.domNode,this.model),this._register(this.hueStrip),this._register(this.hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this.hueStrip.onColorFlushed(this.flushColor,this))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:ut,v:Mt}){const kt=this.model.color.hsva;this.model.color=new De.Il(new De.tx(kt.h,ut,Mt,kt.a))}onDidOpacityChange(ut){const Mt=this.model.color.hsva;this.model.color=new De.Il(new De.tx(Mt.h,Mt.s,Mt.v,ut))}onDidHueChange(ut){const Mt=this.model.color.hsva,kt=360*(1-ut);this.model.color=new De.Il(new De.tx(360===kt?0:kt,Mt.s,Mt.v,Mt.a))}layout(){this.saturationBox.layout(),this.opacityStrip.layout(),this.hueStrip.layout()}}class qt extends j.JT{constructor(ut,Mt,kt){super(),this.model=Mt,this.pixelRatio=kt,this._onDidChange=new Le.Q5,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new Le.Q5,this.onColorFlushed=this._onColorFlushed.event,this.domNode=pn(".saturation-wrap"),R.R3(ut,this.domNode),this.canvas=document.createElement("canvas"),this.canvas.className="saturation-box",R.R3(this.domNode,this.canvas),this.selection=pn(".saturation-selection"),R.R3(this.domNode,this.selection),this.layout(),this._register(R.Lo(this.domNode,nn=>this.onMouseDown(nn))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}onMouseDown(ut){this.monitor=this._register(new zt.Z);const Mt=R.i(this.domNode);ut.target!==this.selection&&this.onDidChangePosition(ut.offsetX,ut.offsetY),this.monitor.startMonitoring(ut.target,ut.buttons,zt.e,nn=>this.onDidChangePosition(nn.posx-Mt.left,nn.posy-Mt.top),()=>null);const kt=R.qV(document,()=>{this._onColorFlushed.fire(),kt.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)},!0)}onDidChangePosition(ut,Mt){const kt=Math.max(0,Math.min(1,ut/this.width)),nn=Math.max(0,Math.min(1,1-Mt/this.height));this.paintSelection(kt,nn),this._onDidChange.fire({s:kt,v:nn})}layout(){this.width=this.domNode.offsetWidth,this.height=this.domNode.offsetHeight,this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio,this.paint();const ut=this.model.color.hsva;this.paintSelection(ut.s,ut.v)}paint(){const Mt=new De.Il(new De.tx(this.model.color.hsva.h,1,1,1)),kt=this.canvas.getContext("2d"),nn=kt.createLinearGradient(0,0,this.canvas.width,0);nn.addColorStop(0,"rgba(255, 255, 255, 1)"),nn.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),nn.addColorStop(1,"rgba(255, 255, 255, 0)");const sn=kt.createLinearGradient(0,0,0,this.canvas.height);sn.addColorStop(0,"rgba(0, 0, 0, 0)"),sn.addColorStop(1,"rgba(0, 0, 0, 1)"),kt.rect(0,0,this.canvas.width,this.canvas.height),kt.fillStyle=De.Il.Format.CSS.format(Mt),kt.fill(),kt.fillStyle=nn,kt.fill(),kt.fillStyle=sn,kt.fill()}paintSelection(ut,Mt){this.selection.style.left=ut*this.width+"px",this.selection.style.top=this.height-Mt*this.height+"px"}onDidChangeColor(){this.monitor&&this.monitor.isMonitoring()||this.paint()}}class nt extends j.JT{constructor(ut,Mt){super(),this.model=Mt,this._onDidChange=new Le.Q5,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new Le.Q5,this.onColorFlushed=this._onColorFlushed.event,this.domNode=R.R3(ut,pn(".strip")),this.overlay=R.R3(this.domNode,pn(".overlay")),this.slider=R.R3(this.domNode,pn(".slider")),this.slider.style.top="0px",this._register(R.Lo(this.domNode,kt=>this.onMouseDown(kt))),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;const ut=this.getValue(this.model.color);this.updateSliderPosition(ut)}onMouseDown(ut){const Mt=this._register(new zt.Z),kt=R.i(this.domNode);this.domNode.classList.add("grabbing"),ut.target!==this.slider&&this.onDidChangeTop(ut.offsetY),Mt.startMonitoring(ut.target,ut.buttons,zt.e,sn=>this.onDidChangeTop(sn.posy-kt.top),()=>null);const nn=R.qV(document,()=>{this._onColorFlushed.fire(),nn.dispose(),Mt.stopMonitoring(!0),this.domNode.classList.remove("grabbing")},!0)}onDidChangeTop(ut){const Mt=Math.max(0,Math.min(1,1-ut/this.height));this.updateSliderPosition(Mt),this._onDidChange.fire(Mt)}updateSliderPosition(ut){this.slider.style.top=(1-ut)*this.height+"px"}}class bt extends nt{constructor(ut,Mt){super(ut,Mt),this.domNode.classList.add("opacity-strip"),this._register(Mt.onDidChangeColor(this.onDidChangeColor,this)),this.onDidChangeColor(this.model.color)}onDidChangeColor(ut){const{r:Mt,g:kt,b:nn}=ut.rgba,sn=new De.Il(new De.VS(Mt,kt,nn,1)),gn=new De.Il(new De.VS(Mt,kt,nn,0));this.overlay.style.background=`linear-gradient(to bottom, ${sn} 0%, ${gn} 100%)`}getValue(ut){return ut.hsva.a}}class Rt extends nt{constructor(ut,Mt){super(ut,Mt),this.domNode.classList.add("hue-strip")}getValue(ut){return 1-ut.hsva.h/360}}class Dt extends v.${constructor(ut,Mt,kt,nn){super(),this.model=Mt,this.pixelRatio=kt,this._register((0,Nt.fX)(()=>this.layout()));const sn=pn(".colorpicker-widget");ut.appendChild(sn);const gn=new Qt(sn,this.model,nn);this.body=new Ht(sn,this.model,this.pixelRatio),this._register(gn),this._register(this.body)}layout(){this.body.layout()}}var Oe=function(Fn,ut,Mt,kt){return new(Mt||(Mt=Promise))(function(sn,gn){function En(Yn){try{ai(kt.next(Yn))}catch(Mn){gn(Mn)}}function Zn(Yn){try{ai(kt.throw(Yn))}catch(Mn){gn(Mn)}}function ai(Yn){Yn.done?sn(Yn.value):function(sn){return sn instanceof Mt?sn:new Mt(function(gn){gn(sn)})}(Yn.value).then(En,Zn)}ai((kt=kt.apply(Fn,ut||[])).next())})};class We{constructor(ut,Mt,kt,nn){this.owner=ut,this.range=Mt,this.model=kt,this.provider=nn,this.forceShowAtRange=!0}isValidForHoverAnchor(ut){return 1===ut.type&&this.range.startColumn<=ut.range.startColumn&&this.range.endColumn>=ut.range.endColumn}}let Ne=class{constructor(ut,Mt,kt){this._editor=ut,this._hover=Mt,this._themeService=kt}computeSync(ut,Mt){return[]}computeAsync(ut,Mt,kt){return Oe(this,void 0,void 0,function*(){if(!this._editor.hasModel())return[];const nn=Ge.i.get(this._editor);for(const sn of Mt){const gn=nn.getColorData(sn.range.getStartPosition());if(gn)return[yield this._createColorHover(this._editor.getModel(),gn.colorInfo,gn.provider)]}return[]})}_createColorHover(ut,Mt,kt){return Oe(this,void 0,void 0,function*(){const nn=ut.getValueInRange(Mt.range),{red:sn,green:gn,blue:En,alpha:Zn}=Mt.color,ai=new De.VS(Math.round(255*sn),Math.round(255*gn),Math.round(255*En),Zn),Yn=new De.Il(ai),Mn=yield(0,ht.R)(ut,Mt,kt,re.T.None),Nn=new dt(Yn,[],0);return Nn.colorPresentations=Mn||[],Nn.guessColorPresentation(Yn,nn),new We(this,k.e.lift(Mt.range),Nn,kt)})}renderHoverParts(ut,Mt,kt){if(0===ut.length||!this._editor.hasModel())return j.JT.None;const nn=new j.SL,sn=ut[0],gn=this._editor.getModel(),En=sn.model,Zn=nn.add(new Dt(Mt,En,this._editor.getOption(126),this._themeService));let ai=new k.e(sn.range.startLineNumber,sn.range.startColumn,sn.range.endLineNumber,sn.range.endColumn);const Yn=()=>{let Nn,Li;if(En.presentation.textEdit){Nn=[En.presentation.textEdit],Li=new k.e(En.presentation.textEdit.range.startLineNumber,En.presentation.textEdit.range.startColumn,En.presentation.textEdit.range.endLineNumber,En.presentation.textEdit.range.endColumn);const si=this._editor.getModel()._setTrackedRange(null,Li,3);this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",Nn),Li=this._editor.getModel()._getTrackedRange(si)||Li}else Nn=[{identifier:null,range:ai,text:En.presentation.label,forceMoveMarkers:!1}],Li=ai.setEndPosition(ai.endLineNumber,ai.startColumn+En.presentation.label.length),this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",Nn);En.presentation.additionalTextEdits&&(Nn=[...En.presentation.additionalTextEdits],this._editor.executeEdits("colorpicker",Nn),this._hover.hide()),this._editor.pushUndoStop(),ai=Li},Mn=Nn=>(0,ht.R)(gn,{range:ai,color:{red:Nn.rgba.r/255,green:Nn.rgba.g/255,blue:Nn.rgba.b/255,alpha:Nn.rgba.a}},sn.provider,re.T.None).then(Li=>{En.colorPresentations=Li||[]});return nn.add(En.onColorFlushed(Nn=>{Mn(Nn).then(Yn)})),nn.add(En.onDidChangeColor(Mn)),this._hover.setColorPicker(Zn),nn}};var ut;Ne=function(Fn,ut,Mt,kt){var gn,nn=arguments.length,sn=nn<3?ut:null===kt?kt=Object.getOwnPropertyDescriptor(ut,Mt):kt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)sn=Reflect.decorate(Fn,ut,Mt,kt);else for(var En=Fn.length-1;En>=0;En--)(gn=Fn[En])&&(sn=(nn<3?gn(sn):nn>3?gn(ut,Mt,sn):gn(ut,Mt))||sn);return nn>3&&sn&&Object.defineProperty(ut,Mt,sn),sn}([(2,ut=w.XE,function(Mt,kt){ut(Mt,kt,2)})],Ne);var J=a(3012),_e=function(Fn,ut,Mt,kt){var gn,nn=arguments.length,sn=nn<3?ut:null===kt?kt=Object.getOwnPropertyDescriptor(ut,Mt):kt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)sn=Reflect.decorate(Fn,ut,Mt,kt);else for(var En=Fn.length-1;En>=0;En--)(gn=Fn[En])&&(sn=(nn<3?gn(sn):nn>3?gn(ut,Mt,sn):gn(ut,Mt))||sn);return nn>3&&sn&&Object.defineProperty(ut,Mt,sn),sn},$e=function(Fn,ut){return function(Mt,kt){ut(Mt,kt,Fn)}},at=function(Fn,ut,Mt,kt){return new(Mt||(Mt=Promise))(function(sn,gn){function En(Yn){try{ai(kt.next(Yn))}catch(Mn){gn(Mn)}}function Zn(Yn){try{ai(kt.throw(Yn))}catch(Mn){gn(Mn)}}function ai(Yn){Yn.done?sn(Yn.value):function(sn){return sn instanceof Mt?sn:new Mt(function(gn){gn(sn)})}(Yn.value).then(En,Zn)}ai((kt=kt.apply(Fn,ut||[])).next())})};const Et=R.$;let Lt=class extends j.JT{constructor(ut){super(),this._keybindingService=ut,this._hasContent=!1,this.hoverElement=Et("div.hover-row.status-bar"),this.actionsElement=R.R3(this.hoverElement,Et("div.actions"))}get hasContent(){return this._hasContent}addAction(ut){const Mt=this._keybindingService.lookupKeybinding(ut.commandId),kt=Mt?Mt.getLabel():null;return this._hasContent=!0,this._register(L.render(this.actionsElement,ut,kt))}append(ut){const Mt=R.R3(this.actionsElement,ut);return this._hasContent=!0,Mt}};Lt=_e([$e(0,J.d)],Lt);class Pt{constructor(ut,Mt){this._participants=Mt,this._editor=ut,this._result=[],this._anchor=null}setAnchor(ut){this._anchor=ut,this._result=[]}clearResult(){this._result=[]}static _getLineDecorations(ut,Mt){if(1!==Mt.type)return[];const kt=ut.getModel(),nn=Mt.range.startLineNumber,sn=kt.getLineMaxColumn(nn);return ut.getLineDecorations(nn).filter(gn=>!!gn.options.isWholeLine||!((gn.range.startLineNumber===nn?gn.range.startColumn:1)>Mt.range.startColumn||Mt.range.endColumn>(gn.range.endLineNumber===nn?gn.range.endColumn:sn)))}computeAsync(ut){return at(this,void 0,void 0,function*(){const Mt=this._anchor;if(!this._editor.hasModel()||!Mt)return Promise.resolve([]);const kt=Pt._getLineDecorations(this._editor,Mt),nn=yield Promise.all(this._participants.map(sn=>this._computeAsync(sn,kt,Mt,ut)));return(0,E.xH)(nn)})}_computeAsync(ut,Mt,kt,nn){return at(this,void 0,void 0,function*(){return ut.computeAsync?ut.computeAsync(kt,Mt,nn):[]})}computeSync(){if(!this._editor.hasModel()||!this._anchor)return[];const ut=Pt._getLineDecorations(this._editor,this._anchor);let Mt=[];for(const kt of this._participants)Mt=Mt.concat(kt.computeSync(this._anchor,ut));return(0,E.kX)(Mt)}onResult(ut,Mt){this._result=Mt?ut.concat(this._result):this._result.concat(ut)}getResult(){return this._result.slice(0)}getResultWithLoadingMessage(){if(this._anchor)for(const ut of this._participants)if(ut.createLoadingMessage){const Mt=ut.createLoadingMessage(this._anchor);if(Mt)return this._result.slice(0).concat([Mt])}return this._result.slice(0)}}let on=class kw extends v.${constructor(ut,Mt,kt,nn){super(),this._hoverVisibleKey=Mt,this._keybindingService=nn,this.allowEditorOverflow=!0,this._participants=[kt.createInstance(Ne,ut,this),kt.createInstance(pe,ut,this),kt.createInstance(ve,ut,this),kt.createInstance(K,ut,this)],this._hover=this._register(new m),this._id=kw.ID,this._editor=ut,this._isVisible=!1,this._stoleFocus=!1,this._renderDisposable=null,this.onkeydown(this._hover.containerDomNode,sn=>{sn.equals(9)&&this.hide()}),this._register(this._editor.onDidChangeConfiguration(sn=>{sn.hasChanged(40)&&this._updateFont()})),this._editor.onDidLayoutChange(()=>this.layout()),this.layout(),this._editor.addContentWidget(this),this._showAtPosition=null,this._showAtRange=null,this._stoleFocus=!1,this._messages=[],this._lastAnchor=null,this._computer=new Pt(this._editor,this._participants),this._highlightDecorations=[],this._isChangingDecorations=!1,this._shouldFocus=!1,this._colorPicker=null,this._hoverOperation=new p(this._computer,sn=>this._withResult(sn,!0),null,sn=>this._withResult(sn,!1),this._editor.getOption(50).delay),this._register(R.mu(this.getDomNode(),R.tw.FOCUS,()=>{this._colorPicker&&this.getDomNode().classList.add("colorpicker-hover")})),this._register(R.mu(this.getDomNode(),R.tw.BLUR,()=>{this.getDomNode().classList.remove("colorpicker-hover")})),this._register(ut.onDidChangeConfiguration(()=>{this._hoverOperation.setHoverTime(this._editor.getOption(50).delay)})),this._register(g.RW.onDidChange(()=>{this._isVisible&&this._lastAnchor&&this._messages.length>0&&(this._hover.contentsDomNode.textContent="",this._renderMessages(this._lastAnchor,this._messages))}))}dispose(){this._hoverOperation.cancel(),this._editor.removeContentWidget(this),super.dispose()}getId(){return this._id}getDomNode(){return this._hover.containerDomNode}_shouldShowAt(ut){const Mt=ut.target.type;if(6===Mt)return!0;if(7===Mt){const kt=this._editor.getOption(40).typicalHalfwidthCharacterWidth/2,nn=ut.target.detail;if(nn&&!nn.isAfterLines&&"number"==typeof nn.horizontalDistanceToText&&nn.horizontalDistanceToText<kt)return!0}return!1}maybeShowAt(ut){var Mt;const kt=[];for(const nn of this._participants)if("function"==typeof nn.suggestHoverAnchor){const sn=nn.suggestHoverAnchor(ut);sn&&kt.push(sn)}if(this._shouldShowAt(ut)&&ut.target.range){const sn=[...(null===(Mt=ut.target.element)||void 0===Mt?void 0:Mt.classList.values())||[]].find(gn=>gn.startsWith("ced-colorBox"))&&ut.target.range.endColumn-ut.target.range.startColumn==1?new k.e(ut.target.range.startLineNumber,ut.target.range.startColumn+1,ut.target.range.endLineNumber,ut.target.range.endColumn+1):ut.target.range;kt.push(new Ve(0,sn))}return 0!==kt.length&&(kt.sort((nn,sn)=>sn.priority-nn.priority),this._startShowingAt(kt[0],0,!1),!0)}_showAt(ut,Mt,kt){this._showAtPosition=ut,this._showAtRange=Mt,this._hoverVisibleKey.set(!0),this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._editor.layoutContentWidget(this),this._editor.render(),this._stoleFocus=kt,kt&&this._hover.containerDomNode.focus()}getPosition(){return this._isVisible?{position:this._showAtPosition,range:this._showAtRange,preference:[1,2]}:null}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(Mt=>this._editor.applyFontInfo(Mt))}_updateContents(ut){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(ut),this._updateFont(),this._editor.layoutContentWidget(this),this._hover.onContentsChanged()}layout(){const ut=Math.max(this._editor.getLayoutInfo().height/4,250),{fontSize:Mt,lineHeight:kt}=this._editor.getOption(40);this._hover.contentsDomNode.style.fontSize=`${Mt}px`,this._hover.contentsDomNode.style.lineHeight=`${kt}px`,this._hover.contentsDomNode.style.maxHeight=`${ut}px`,this._hover.contentsDomNode.style.maxWidth=`${Math.max(.66*this._editor.getLayoutInfo().width,500)}px`}onModelDecorationsChanged(){this._isChangingDecorations||this._isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._colorPicker||this._hoverOperation.start(0))}startShowingAtRange(ut,Mt,kt){this._startShowingAt(new Ve(0,ut),Mt,kt)}_startShowingAt(ut,Mt,kt){if(!this._lastAnchor||!this._lastAnchor.equals(ut)){if(this._hoverOperation.cancel(),this._isVisible)if(this._showAtPosition&&this._lastAnchor&&ut.canAdoptVisibleHover(this._lastAnchor,this._showAtPosition)){const nn=this._messages.filter(sn=>sn.isValidForHoverAnchor(ut));if(0===nn.length)this.hide();else{if(nn.length===this._messages.length)return;this._renderMessages(ut,nn)}}else this.hide();this._lastAnchor=ut,this._computer.setAnchor(ut),this._shouldFocus=kt,this._hoverOperation.start(Mt)}}hide(){this._lastAnchor=null,this._hoverOperation.cancel(),this._isVisible&&(setTimeout(()=>{this._isVisible||this._hoverVisibleKey.set(!1)},0),this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._editor.layoutContentWidget(this),this._stoleFocus&&this._editor.focus()),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,[]),this._isChangingDecorations=!1,this._renderDisposable&&(this._renderDisposable.dispose(),this._renderDisposable=null),this._colorPicker=null}isColorPickerVisible(){return!!this._colorPicker}setColorPicker(ut){this._colorPicker=ut}onContentsChanged(){this._hover.onContentsChanged()}_withResult(ut,Mt){this._messages=ut,this._lastAnchor&&this._messages.length>0?this._renderMessages(this._lastAnchor,this._messages):Mt&&this.hide()}_renderMessages(ut,Mt){this._renderDisposable&&(this._renderDisposable.dispose(),this._renderDisposable=null),this._colorPicker=null;let kt=1073741824,nn=Mt[0].range,sn=null,gn=document.createDocumentFragment();const En=new j.SL,Zn=new Map;for(const Yn of Mt)kt=Math.min(kt,Yn.range.startColumn),nn=k.e.plusRange(nn,Yn.range),Yn.forceShowAtRange&&(sn=Yn.range),Zn.has(Yn.owner)||Zn.set(Yn.owner,[]),Zn.get(Yn.owner).push(Yn);const ai=En.add(new Lt(this._keybindingService));for(const[Yn,Mn]of Zn)En.add(Yn.renderHoverParts(Mn,gn,ai));ai.hasContent&&gn.appendChild(ai.hoverElement),this._renderDisposable=En,gn.hasChildNodes()&&(sn?this._showAt(sn.getStartPosition(),sn,this._shouldFocus):this._showAt(new d.L(ut.range.startLineNumber,kt),nn,this._shouldFocus),this._updateContents(gn)),this._colorPicker&&this._colorPicker.layout(),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,nn?[{range:nn,options:kw._DECORATION_OPTIONS}]:[]),this._isChangingDecorations=!1}};on.ID="editor.contrib.modesContentHoverWidget",on._DECORATION_OPTIONS=C.qx.register({description:"content-hover-highlight",className:"hoverHighlight"}),on=_e([$e(2,ne.TG),$e(3,J.d)],on),(0,w.Ic)((Fn,ut)=>{const Mt=Fn.getColor(S.ur);Mt&&ut.addRule(`.monaco-hover .hover-contents a.code-link span:hover { color: ${Mt}; }`)});class Kt extends v.${constructor(ut,Mt){super(),this._id=ut,this._editor=Mt,this._isVisible=!1,this._domNode=document.createElement("div"),this._domNode.className="monaco-hover hidden",this._domNode.setAttribute("aria-hidden","true"),this._domNode.setAttribute("role","tooltip"),this._showAtLineNumber=-1,this._register(this._editor.onDidChangeConfiguration(kt=>{kt.hasChanged(40)&&this.updateFont()})),this._editor.addOverlayWidget(this)}get isVisible(){return this._isVisible}set isVisible(ut){this._isVisible=ut,this._domNode.classList.toggle("hidden",!this._isVisible)}getId(){return this._id}getDomNode(){return this._domNode}showAt(ut){this._showAtLineNumber=ut,this.isVisible||(this.isVisible=!0);const Mt=this._editor.getLayoutInfo(),kt=this._editor.getTopForLineNumber(this._showAtLineNumber),nn=this._editor.getScrollTop(),sn=this._editor.getOption(56),En=kt-nn-(this._domNode.clientHeight-sn)/2;this._domNode.style.left=`${Mt.glyphMarginLeft+Mt.glyphMarginWidth}px`,this._domNode.style.top=`${Math.max(Math.round(En),0)}px`}hide(){!this.isVisible||(this.isVisible=!1)}getPosition(){return null}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}updateFont(){[...Array.prototype.slice.call(this._domNode.getElementsByTagName("code")),...Array.prototype.slice.call(this._domNode.getElementsByClassName("code"))].forEach(kt=>this._editor.applyFontInfo(kt))}updateContents(ut){this._domNode.textContent="",this._domNode.appendChild(ut),this.updateFont()}}class bn{constructor(ut){this._editor=ut,this._lineNumber=-1,this._result=[]}setLineNumber(ut){this._lineNumber=ut,this._result=[]}clearResult(){this._result=[]}computeSync(){const ut=nn=>({value:nn}),Mt=this._editor.getLineDecorations(this._lineNumber),kt=[];if(!Mt)return kt;for(const nn of Mt){if(!nn.options.glyphMarginClassName)continue;const sn=nn.options.glyphMarginHoverMessage;!sn||(0,he.CP)(sn)||kt.push(...(0,E._2)(sn).map(ut))}return kt}onResult(ut,Mt){this._result=this._result.concat(ut)}getResult(){return this._result}getResultWithLoadingMessage(){return this.getResult()}}let yn=(()=>{class Fn extends Kt{constructor(Mt,kt,nn=de.SW){super(Fn.ID,Mt),this._renderDisposeables=this._register(new j.SL),this._messages=[],this._lastLineNumber=-1,this._markdownRenderer=this._register(new ge.$({editor:this._editor},kt,nn)),this._computer=new bn(this._editor),this._hoverOperation=new p(this._computer,sn=>this._withResult(sn),void 0,sn=>this._withResult(sn),300)}dispose(){this._hoverOperation.cancel(),super.dispose()}onModelDecorationsChanged(){this.isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._hoverOperation.start(0))}startShowingAt(Mt){this._lastLineNumber!==Mt&&(this._hoverOperation.cancel(),this.hide(),this._lastLineNumber=Mt,this._computer.setLineNumber(Mt),this._hoverOperation.start(0))}hide(){this._lastLineNumber=-1,this._hoverOperation.cancel(),super.hide()}_withResult(Mt){this._messages=Mt,this._messages.length>0?this._renderMessages(this._lastLineNumber,this._messages):this.hide()}_renderMessages(Mt,kt){this._renderDisposeables.clear();const nn=document.createDocumentFragment();for(const sn of kt){const gn=this._markdownRenderer.render(sn.value);this._renderDisposeables.add(gn),nn.appendChild((0,R.$)("div.hover-row",void 0,gn.element))}this.updateContents(nn),this.showAt(Mt)}}return Fn.ID="editor.contrib.modesGlyphHoverWidget",Fn})();var jn=a(5220),zn=function(Fn,ut){return function(Mt,kt){ut(Mt,kt,Fn)}};let ci=class FR{constructor(ut,Mt,kt,nn,sn){this._editor=ut,this._instantiationService=Mt,this._openerService=kt,this._modeService=nn,this._toUnhook=new j.SL,this._isMouseDown=!1,this._hoverClicked=!1,this._contentWidget=null,this._glyphWidget=null,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration(gn=>{gn.hasChanged(50)&&(this._unhookEvents(),this._hookEvents())}),this._hoverVisibleKey=$.u.hoverVisible.bindTo(sn)}static get(ut){return ut.getContribution(FR.ID)}_hookEvents(){const ut=()=>this._hideWidgets(),Mt=this._editor.getOption(50);this._isHoverEnabled=Mt.enabled,this._isHoverSticky=Mt.sticky,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown(kt=>this._onEditorMouseDown(kt))),this._toUnhook.add(this._editor.onMouseUp(kt=>this._onEditorMouseUp(kt))),this._toUnhook.add(this._editor.onMouseMove(kt=>this._onEditorMouseMove(kt))),this._toUnhook.add(this._editor.onKeyDown(kt=>this._onKeyDown(kt))),this._toUnhook.add(this._editor.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged()))):(this._toUnhook.add(this._editor.onMouseMove(kt=>this._onEditorMouseMove(kt))),this._toUnhook.add(this._editor.onKeyDown(kt=>this._onKeyDown(kt)))),this._toUnhook.add(this._editor.onMouseLeave(ut)),this._toUnhook.add(this._editor.onDidChangeModel(ut)),this._toUnhook.add(this._editor.onDidScrollChange(kt=>this._onEditorScrollChanged(kt)))}_unhookEvents(){this._toUnhook.clear()}_onModelDecorationsChanged(){var ut,Mt;null===(ut=this._contentWidget)||void 0===ut||ut.onModelDecorationsChanged(),null===(Mt=this._glyphWidget)||void 0===Mt||Mt.onModelDecorationsChanged()}_onEditorScrollChanged(ut){(ut.scrollTopChanged||ut.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(ut){this._isMouseDown=!0;const Mt=ut.target.type;9!==Mt||ut.target.detail!==on.ID?12===Mt&&ut.target.detail===yn.ID||(12!==Mt&&ut.target.detail!==yn.ID&&(this._hoverClicked=!1),this._hideWidgets()):this._hoverClicked=!0}_onEditorMouseUp(ut){this._isMouseDown=!1}_onEditorMouseMove(ut){var Mt,kt,nn,sn,gn;let En=ut.target.type;if(!(this._isMouseDown&&this._hoverClicked||this._isHoverSticky&&9===En&&ut.target.detail===on.ID||this._isHoverSticky&&!(null===(kt=null===(Mt=ut.event.browserEvent.view)||void 0===Mt?void 0:Mt.getSelection())||void 0===kt?void 0:kt.isCollapsed)||!this._isHoverSticky&&9===En&&ut.target.detail===on.ID&&(null===(nn=this._contentWidget)||void 0===nn?void 0:nn.isColorPickerVisible())||this._isHoverSticky&&12===En&&ut.target.detail===yn.ID))if(this._isHoverEnabled){if(!this._getOrCreateContentWidget().maybeShowAt(ut))return 2===En&&ut.target.position?(null===(gn=this._contentWidget)||void 0===gn||gn.hide(),this._glyphWidget||(this._glyphWidget=new yn(this._editor,this._modeService,this._openerService)),void this._glyphWidget.startShowingAt(ut.target.position.lineNumber)):void this._hideWidgets();null===(sn=this._glyphWidget)||void 0===sn||sn.hide()}else this._hideWidgets()}_onKeyDown(ut){5!==ut.keyCode&&6!==ut.keyCode&&57!==ut.keyCode&&4!==ut.keyCode&&this._hideWidgets()}_hideWidgets(){var ut,Mt,kt;this._isMouseDown&&this._hoverClicked&&(null===(ut=this._contentWidget)||void 0===ut?void 0:ut.isColorPickerVisible())||(this._hoverClicked=!1,null===(Mt=this._glyphWidget)||void 0===Mt||Mt.hide(),null===(kt=this._contentWidget)||void 0===kt||kt.hide())}_getOrCreateContentWidget(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(on,this._editor,this._hoverVisibleKey)),this._contentWidget}isColorPickerVisible(){var ut;return(null===(ut=this._contentWidget)||void 0===ut?void 0:ut.isColorPickerVisible())||!1}showContentHover(ut,Mt,kt){this._getOrCreateContentWidget().startShowingAtRange(ut,Mt,kt)}dispose(){var ut,Mt;this._unhookEvents(),this._toUnhook.dispose(),this._didChangeConfigurationHandler.dispose(),null===(ut=this._glyphWidget)||void 0===ut||ut.dispose(),null===(Mt=this._contentWidget)||void 0===Mt||Mt.dispose()}};ci.ID="editor.contrib.hover",ci=function(Fn,ut,Mt,kt){var gn,nn=arguments.length,sn=nn<3?ut:null===kt?kt=Object.getOwnPropertyDescriptor(ut,Mt):kt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)sn=Reflect.decorate(Fn,ut,Mt,kt);else for(var En=Fn.length-1;En>=0;En--)(gn=Fn[En])&&(sn=(nn<3?gn(sn):nn>3?gn(ut,Mt,sn):gn(ut,Mt))||sn);return nn>3&&sn&&Object.defineProperty(ut,Mt,sn),sn}([zn(1,ne.TG),zn(2,de.v4),zn(3,B.h),zn(4,Ue.i6)],ci),(0,O._K)(ci.ID,ci),(0,O.Qr)(class extends O.R6{constructor(){super({id:"editor.action.showHover",label:T.N({key:"showHover",comment:["Label for action that will trigger the showing of a hover in the editor.","This allows for users to show the hover without using the mouse."]},"Show Hover"),alias:"Show Hover",precondition:void 0,kbOpts:{kbExpr:$.u.editorTextFocus,primary:(0,U.gx)(2089,2087),weight:100}})}run(ut,Mt){if(!Mt.hasModel())return;let kt=ci.get(Mt);if(!kt)return;const nn=Mt.getPosition(),sn=new k.e(nn.lineNumber,nn.column,nn.lineNumber,nn.column),gn=2===Mt.getOption(2);kt.showContentHover(sn,1,gn)}}),(0,O.Qr)(class extends O.R6{constructor(){super({id:"editor.action.showDefinitionPreviewHover",label:T.N({key:"showDefinitionPreviewHover",comment:["Label for action that will trigger the showing of definition preview hover in the editor.","This allows for users to show the definition preview hover without using the mouse."]},"Show Definition Preview Hover"),alias:"Show Definition Preview Hover",precondition:void 0})}run(ut,Mt){let kt=ci.get(Mt);if(!kt)return;const nn=Mt.getPosition();if(!nn)return;const sn=new k.e(nn.lineNumber,nn.column,nn.lineNumber,nn.column);jn.GotoDefinitionAtPositionEditorContribution.get(Mt).startFindDefinitionFromCursor(nn).then(()=>{kt.showContentHover(sn,1,!0)})}}),(0,w.Ic)((Fn,ut)=>{const Mt=Fn.getColor(S.pt);Mt&&ut.addRule(`.monaco-editor .hoverHighlight { background-color: ${Mt}; }`);const kt=Fn.getColor(S.yJ);kt&&ut.addRule(`.monaco-editor .monaco-hover { background-color: ${kt}; }`);const nn=Fn.getColor(S.CN);nn&&(ut.addRule(`.monaco-editor .monaco-hover { border: 1px solid ${nn}; }`),ut.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${nn.transparent(.5)}; }`),ut.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${nn.transparent(.5)}; }`),ut.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${nn.transparent(.5)}; }`));const sn=Fn.getColor(S.ur);sn&&ut.addRule(`.monaco-editor .monaco-hover a { color: ${sn}; }`);const gn=Fn.getColor(S.sg);gn&&ut.addRule(`.monaco-editor .monaco-hover a:hover { color: ${gn}; }`);const En=Fn.getColor(S.Sb);En&&ut.addRule(`.monaco-editor .monaco-hover { color: ${En}; }`);const Zn=Fn.getColor(S.Lo);Zn&&ut.addRule(`.monaco-editor .monaco-hover .hover-row .actions { background-color: ${Zn}; }`);const ai=Fn.getColor(S.Sw);ai&&ut.addRule(`.monaco-editor .monaco-hover code { background-color: ${ai}; }`)})},2287:(Ct,Qe,a)=>{"use strict";a.r(Qe);var T=a(1606),U=a(8487),j=a(9730),O=a(9549),k=a(4482),$=a(4725);class B{constructor(_,f,m){this._editRange=_,this._originalSelection=f,this._text=m}getEditOperations(_,f){f.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(_,f){const L=f.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new j.Y(L.endLineNumber,Math.min(this._originalSelection.positionColumn,L.endColumn),L.endLineNumber,Math.min(this._originalSelection.positionColumn,L.endColumn)):new j.Y(L.endLineNumber,L.endColumn-this._text.length,L.endLineNumber,L.endColumn)}}var R=a(1358),d=a(6803),C=a(3258),g=a(111),b=a(7922),I=a(5160);let E=class Fw{constructor(_,f){this.decorationIds=[],this.editor=_,this.editorWorkerService=f}static get(_){return _.getContribution(Fw.ID)}dispose(){}run(_,f){this.currentRequest&&this.currentRequest.cancel();const m=this.editor.getSelection(),L=this.editor.getModel();if(!L||!m)return;let F=m;if(F.startLineNumber!==F.endLineNumber)return;const G=new R.yy(this.editor,5),Y=L.uri;return this.editorWorkerService.canNavigateValueSet(Y)?(this.currentRequest=(0,b.PG)(de=>this.editorWorkerService.navigateValueSet(Y,F,f)),this.currentRequest.then(de=>{if(!(de&&de.range&&de.value&&G.validate(this.editor)))return;let le=U.e.lift(de.range),ce=de.range,be=de.value.length-(F.endColumn-F.startColumn);ce={startLineNumber:ce.startLineNumber,startColumn:ce.startColumn,endLineNumber:ce.endLineNumber,endColumn:ce.startColumn+de.value.length},be>1&&(F=new j.Y(F.startLineNumber,F.startColumn,F.endLineNumber,F.endColumn+be-1));const N=new B(le,F,de.value);this.editor.pushUndoStop(),this.editor.executeCommand(_,N),this.editor.pushUndoStop(),this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[{range:ce,options:Fw.DECORATION}]),this.decorationRemover&&this.decorationRemover.cancel(),this.decorationRemover=(0,b.Vs)(350),this.decorationRemover.then(()=>this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[])).catch(I.dL)}).catch(I.dL)):Promise.resolve(void 0)}};var _;E.ID="editor.contrib.inPlaceReplaceController",E.DECORATION=g.qx.register({description:"in-place-replace",className:"valueSetReplacement"}),E=function(M,_,f,m){var G,L=arguments.length,F=L<3?_:null===m?m=Object.getOwnPropertyDescriptor(_,f):m;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)F=Reflect.decorate(M,_,f,m);else for(var Y=M.length-1;Y>=0;Y--)(G=M[Y])&&(F=(L<3?G(F):L>3?G(_,f,F):G(_,f))||F);return L>3&&F&&Object.defineProperty(_,f,F),F}([(1,_=$.p,function(f,m){_(f,m,1)})],E),(0,k._K)(E.ID,E),(0,k.Qr)(class extends k.R6{constructor(){super({id:"editor.action.inPlaceReplace.up",label:T.N("InPlaceReplaceAction.previous.label","Replace with Previous Value"),alias:"Replace with Previous Value",precondition:O.u.writable,kbOpts:{kbExpr:O.u.editorTextFocus,primary:3154,weight:100}})}run(_,f){const m=E.get(f);return m?m.run(this.id,!0):Promise.resolve(void 0)}}),(0,k.Qr)(class extends k.R6{constructor(){super({id:"editor.action.inPlaceReplace.down",label:T.N("InPlaceReplaceAction.next.label","Replace with Next Value"),alias:"Replace with Next Value",precondition:O.u.writable,kbOpts:{kbExpr:O.u.editorTextFocus,primary:3156,weight:100}})}run(_,f){const m=E.get(f);return m?m.run(this.id,!1):Promise.resolve(void 0)}}),(0,d.Ic)((M,_)=>{const f=M.getColor(C.Dl);f&&_.addRule(`.monaco-editor.vs .valueSetReplacement { outline: solid 2px ${f}; }`)})},1816:(Ct,Qe,a)=>{"use strict";function T(j,O){let k=0;for(let $=0;$<j.length;$++)"\t"===j.charAt($)?k+=O:k++;return k}function U(j,O,k){j=j<0?0:j;let $="";if(!k){let B=Math.floor(j/O);j%=O;for(let R=0;R<B;R++)$+="\t"}for(let B=0;B<j;B++)$+=" ";return $}a.d(Qe,{Y:()=>T,J:()=>U})},4448:(Ct,Qe,a)=>{"use strict";a.r(Qe),a.d(Qe,{getReindentEditOperations:()=>w,IndentationToSpacesAction:()=>E,IndentationToTabsAction:()=>S,ChangeIndentationSizeAction:()=>v,IndentUsingTabs:()=>M,IndentUsingSpaces:()=>_,DetectIndentation:()=>f,ReindentLinesAction:()=>m,ReindentSelectedLinesAction:()=>L,AutoIndentOnPasteCommand:()=>F,AutoIndentOnPaste:()=>G,IndentationToSpacesCommand:()=>de,IndentationToTabsCommand:()=>le});var T=a(1606),U=a(1719),j=a(579),O=a(4482),k=a(6108),$=a(7900),B=a(8487),R=a(9730),d=a(9549),C=a(111),g=a(2587),b=a(1954),I=a(1816),p=a(3130);function w(ce,be,N,V){if(1===ce.getLineCount()&&1===ce.getLineMaxColumn(1))return[];let Z=g.zu.getIndentationRules(ce.getLanguageIdentifier().id);if(!Z)return[];for(N=Math.min(N,ce.getLineCount());be<=N&&Z.unIndentedLinePattern;){let ke=ce.getLineContent(be);if(!Z.unIndentedLinePattern.test(ke))break;be++}if(be>N-1)return[];const{tabSize:ie,indentSize:ue,insertSpaces:oe}=ce.getOptions(),ee=(ke,xe)=>k.U.shiftIndent(ke,ke.length+(xe=xe||1),ie,ue,oe),K=(ke,xe)=>k.U.unshiftIndent(ke,ke.length+(xe=xe||1),ie,ue,oe);let he,ne=[],ge=ce.getLineContent(be),re=ge;if(null!=V){he=V;let ke=j.V8(ge);re=he+ge.substring(ke.length),Z.decreaseIndentPattern&&Z.decreaseIndentPattern.test(re)&&(he=K(he),re=he+ge.substring(ke.length)),ge!==re&&ne.push($.h.replaceMove(new R.Y(be,1,be,ke.length+1),C.yO.normalizeIndentation(he,ue,oe)))}else he=j.V8(ge);let ye=he;Z.increaseIndentPattern&&Z.increaseIndentPattern.test(re)?(ye=ee(ye),he=ee(he)):Z.indentNextLinePattern&&Z.indentNextLinePattern.test(re)&&(ye=ee(ye));for(let ke=++be;ke<=N;ke++){let xe=ce.getLineContent(ke),Pe=j.V8(xe),fe=ye+xe.substring(Pe.length);Z.decreaseIndentPattern&&Z.decreaseIndentPattern.test(fe)&&(ye=K(ye),he=K(he)),Pe!==ye&&ne.push($.h.replaceMove(new R.Y(ke,1,ke,Pe.length+1),C.yO.normalizeIndentation(ye,ue,oe))),(!Z.unIndentedLinePattern||!Z.unIndentedLinePattern.test(xe))&&(Z.increaseIndentPattern&&Z.increaseIndentPattern.test(fe)?(he=ee(he),ye=he):ye=Z.indentNextLinePattern&&Z.indentNextLinePattern.test(fe)?ee(ye):he)}return ne}let E=(()=>{class ce extends O.R6{constructor(){super({id:ce.ID,label:T.N("indentationToSpaces","Convert Indentation to Spaces"),alias:"Convert Indentation to Spaces",precondition:d.u.writable})}run(N,V){let Z=V.getModel();if(!Z)return;let ie=Z.getOptions(),ue=V.getSelection();if(!ue)return;const oe=new de(ue,ie.tabSize);V.pushUndoStop(),V.executeCommands(this.id,[oe]),V.pushUndoStop(),Z.updateOptions({insertSpaces:!0})}}return ce.ID="editor.action.indentationToSpaces",ce})(),S=(()=>{class ce extends O.R6{constructor(){super({id:ce.ID,label:T.N("indentationToTabs","Convert Indentation to Tabs"),alias:"Convert Indentation to Tabs",precondition:d.u.writable})}run(N,V){let Z=V.getModel();if(!Z)return;let ie=Z.getOptions(),ue=V.getSelection();if(!ue)return;const oe=new le(ue,ie.tabSize);V.pushUndoStop(),V.executeCommands(this.id,[oe]),V.pushUndoStop(),Z.updateOptions({insertSpaces:!1})}}return ce.ID="editor.action.indentationToTabs",ce})();class v extends O.R6{constructor(be,N){super(N),this.insertSpaces=be}run(be,N){const V=be.get(p.eJ),Z=be.get(b.q);let ie=N.getModel();if(!ie)return;let ue=Z.getCreationOptions(ie.getLanguageIdentifier().language,ie.uri,ie.isForSimpleWidget);const oe=[1,2,3,4,5,6,7,8].map(K=>({id:K.toString(),label:K.toString(),description:K===ue.tabSize?T.N("configuredTabSize","Configured Tab Size"):void 0})),ee=Math.min(ie.getOptions().tabSize-1,7);setTimeout(()=>{V.pick(oe,{placeHolder:T.N({key:"selectTabWidth",comment:["Tab corresponds to the tab key"]},"Select Tab Size for Current File"),activeItem:oe[ee]}).then(K=>{K&&ie&&!ie.isDisposed()&&ie.updateOptions({tabSize:parseInt(K.label,10),insertSpaces:this.insertSpaces})})},50)}}let M=(()=>{class ce extends v{constructor(){super(!1,{id:ce.ID,label:T.N("indentUsingTabs","Indent Using Tabs"),alias:"Indent Using Tabs",precondition:void 0})}}return ce.ID="editor.action.indentUsingTabs",ce})(),_=(()=>{class ce extends v{constructor(){super(!0,{id:ce.ID,label:T.N("indentUsingSpaces","Indent Using Spaces"),alias:"Indent Using Spaces",precondition:void 0})}}return ce.ID="editor.action.indentUsingSpaces",ce})(),f=(()=>{class ce extends O.R6{constructor(){super({id:ce.ID,label:T.N("detectIndentation","Detect Indentation from Content"),alias:"Detect Indentation from Content",precondition:void 0})}run(N,V){const Z=N.get(b.q);let ie=V.getModel();if(!ie)return;let ue=Z.getCreationOptions(ie.getLanguageIdentifier().language,ie.uri,ie.isForSimpleWidget);ie.detectIndentation(ue.insertSpaces,ue.tabSize)}}return ce.ID="editor.action.detectIndentation",ce})();class m extends O.R6{constructor(){super({id:"editor.action.reindentlines",label:T.N("editor.reindentlines","Reindent Lines"),alias:"Reindent Lines",precondition:d.u.writable})}run(be,N){let V=N.getModel();if(!V)return;let Z=w(V,1,V.getLineCount());Z.length>0&&(N.pushUndoStop(),N.executeEdits(this.id,Z),N.pushUndoStop())}}class L extends O.R6{constructor(){super({id:"editor.action.reindentselectedlines",label:T.N("editor.reindentselectedlines","Reindent Selected Lines"),alias:"Reindent Selected Lines",precondition:d.u.writable})}run(be,N){let V=N.getModel();if(!V)return;let Z=N.getSelections();if(null===Z)return;let ie=[];for(let ue of Z){let oe=ue.startLineNumber,ee=ue.endLineNumber;if(oe!==ee&&1===ue.endColumn&&ee--,1===oe){if(oe===ee)continue}else oe--;let K=w(V,oe,ee);ie.push(...K)}ie.length>0&&(N.pushUndoStop(),N.executeEdits(this.id,ie),N.pushUndoStop())}}class F{constructor(be,N){this._initialSelection=N,this._edits=[],this._selectionId=null;for(let V of be)V.range&&"string"==typeof V.text&&this._edits.push(V)}getEditOperations(be,N){for(let Z of this._edits)N.addEditOperation(B.e.lift(Z.range),Z.text);let V=!1;Array.isArray(this._edits)&&1===this._edits.length&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(V=!0,this._selectionId=N.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(V=!0,this._selectionId=N.trackSelection(this._initialSelection,!1))),V||(this._selectionId=N.trackSelection(this._initialSelection))}computeCursorState(be,N){return N.getTrackedSelection(this._selectionId)}}let G=(()=>{class ce{constructor(N){this.callOnDispose=new U.SL,this.callOnModel=new U.SL,this.editor=N,this.callOnDispose.add(N.onDidChangeConfiguration(()=>this.update())),this.callOnDispose.add(N.onDidChangeModel(()=>this.update())),this.callOnDispose.add(N.onDidChangeModelLanguage(()=>this.update()))}update(){this.callOnModel.clear(),!(this.editor.getOption(9)<4||this.editor.getOption(44))&&(!this.editor.hasModel()||this.callOnModel.add(this.editor.onDidPaste(({range:N})=>{this.trigger(N)})))}trigger(N){let V=this.editor.getSelections();if(null===V||V.length>1)return;const Z=this.editor.getModel();if(!Z||!Z.isCheapToTokenize(N.getStartPosition().lineNumber))return;const ie=this.editor.getOption(9),{tabSize:ue,indentSize:oe,insertSpaces:ee}=Z.getOptions();let K=[],ne={shiftIndent:ye=>k.U.shiftIndent(ye,ye.length+1,ue,oe,ee),unshiftIndent:ye=>k.U.unshiftIndent(ye,ye.length+1,ue,oe,ee)},he=N.startLineNumber;for(;he<=N.endLineNumber&&this.shouldIgnoreLine(Z,he);)he++;if(he>N.endLineNumber)return;let ge=Z.getLineContent(he);if(!/\S/.test(ge.substring(0,N.startColumn-1))){let ye=g.zu.getGoodIndentForLine(ie,Z,Z.getLanguageIdentifier().id,he,ne);if(null!==ye){let ke=j.V8(ge),xe=I.Y(ye,ue);if(xe!==I.Y(ke,ue)){let fe=I.J(xe,ue,ee);K.push({range:new B.e(he,1,he,ke.length+1),text:fe}),ge=fe+ge.substr(ke.length)}else{let fe=g.zu.getIndentMetadata(Z,he);if(0===fe||8===fe)return}}}const re=he;for(;he<N.endLineNumber&&!/\S/.test(Z.getLineContent(he+1));)he++;if(he!==N.endLineNumber){let ke=g.zu.getGoodIndentForLine(ie,{getLineTokens:xe=>Z.getLineTokens(xe),getLanguageIdentifier:()=>Z.getLanguageIdentifier(),getLanguageIdAtPosition:(xe,Pe)=>Z.getLanguageIdAtPosition(xe,Pe),getLineContent:xe=>xe===re?ge:Z.getLineContent(xe)},Z.getLanguageIdentifier().id,he+1,ne);if(null!==ke){let xe=I.Y(ke,ue),Pe=I.Y(j.V8(Z.getLineContent(he+1)),ue);if(xe!==Pe){let fe=xe-Pe;for(let Te=he+1;Te<=N.endLineNumber;Te++){let Ce=Z.getLineContent(Te),Je=j.V8(Ce),Ve=I.Y(Je,ue)+fe,Ae=I.J(Ve,ue,ee);Ae!==Je&&K.push({range:new B.e(Te,1,Te,Je.length+1),text:Ae})}}}}if(K.length>0){this.editor.pushUndoStop();let ye=new F(K,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",ye),this.editor.pushUndoStop()}}shouldIgnoreLine(N,V){N.forceTokenization(V);let Z=N.getLineFirstNonWhitespaceColumn(V);if(0===Z)return!0;let ie=N.getLineTokens(V);if(ie.getCount()>0){let ue=ie.findTokenIndexAtOffset(Z);if(ue>=0&&1===ie.getStandardTokenType(ue))return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}}return ce.ID="editor.contrib.autoIndentOnPaste",ce})();function Y(ce,be,N,V){if(1===ce.getLineCount()&&1===ce.getLineMaxColumn(1))return;let Z="";for(let ue=0;ue<N;ue++)Z+=" ";let ie=new RegExp(Z,"gi");for(let ue=1,oe=ce.getLineCount();ue<=oe;ue++){let ee=ce.getLineFirstNonWhitespaceColumn(ue);if(0===ee&&(ee=ce.getLineMaxColumn(ue)),1===ee)continue;const K=new B.e(ue,1,ue,ee),ne=ce.getValueInRange(K),he=V?ne.replace(/\t/gi,Z):ne.replace(ie,"\t");be.addEditOperation(K,he)}}class de{constructor(be,N){this.selection=be,this.tabSize=N,this.selectionId=null}getEditOperations(be,N){this.selectionId=N.trackSelection(this.selection),Y(be,N,this.tabSize,!0)}computeCursorState(be,N){return N.getTrackedSelection(this.selectionId)}}class le{constructor(be,N){this.selection=be,this.tabSize=N,this.selectionId=null}getEditOperations(be,N){this.selectionId=N.trackSelection(this.selection),Y(be,N,this.tabSize,!1)}computeCursorState(be,N){return N.getTrackedSelection(this.selectionId)}}(0,O._K)(G.ID,G),(0,O.Qr)(E),(0,O.Qr)(S),(0,O.Qr)(M),(0,O.Qr)(_),(0,O.Qr)(f),(0,O.Qr)(m),(0,O.Qr)(L)},1808:(Ct,Qe,a)=>{"use strict";a.r(Qe),a.d(Qe,{getInlayHints:()=>L,InlayHintsController:()=>F});var T=a(7922),U=a(5160),j=a(3728),O=a(1719),k=a(4482),$=a(3779),B=a(6412),R=a(2291),d=a(7251),C=a(9357),g=a(6803),b=a(8487),I=a(7741),p=a(8896),w=a(6746),E=a(1882),S=a(4128),v=a(2109),_=function(G,Y){return function(de,le){Y(de,le,G)}},f=function(G,Y,de,le){return new(de||(de=Promise))(function(be,N){function V(ue){try{ie(le.next(ue))}catch(oe){N(oe)}}function Z(ue){try{ie(le.throw(ue))}catch(oe){N(oe)}}function ie(ue){ue.done?be(ue.value):function(be){return be instanceof de?be:new de(function(N){N(be)})}(ue.value).then(V,Z)}ie((le=le.apply(G,Y||[])).next())})};function L(G,Y,de){return f(this,void 0,void 0,function*(){const le=[],ce=B.mX.ordered(G).reverse(),be=(0,R.xH)(ce.map(N=>Y.map(V=>Promise.resolve(N.provideInlayHints(G,V,de)).then(Z=>{Z&&le.push({list:Z,provider:N})},Z=>{(0,U.Cp)(Z)}))));return yield Promise.all(be),le})}let F=class{constructor(Y,de,le){this._editor=Y,this._codeEditorService=de,this._themeService=le,this._disposables=new O.SL,this._sessionDisposables=new O.SL,this._getInlayHintsDelays=new I.Y(B.mX,250,2500),this._decorationsTypeIds=[],this._decorationIds=[],this._disposables.add(B.mX.onDidChange(()=>this._update())),this._disposables.add(le.onDidColorThemeChange(()=>this._update())),this._disposables.add(Y.onDidChangeModel(()=>this._update())),this._disposables.add(Y.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(Y.onDidChangeConfiguration(ce=>{ce.hasChanged(124)&&this._update()})),this._update()}dispose(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}_update(){if(this._sessionDisposables.clear(),!this._editor.getOption(124).enabled)return void this._removeAllDecorations();const Y=this._editor.getModel();if(!Y||!B.mX.has(Y))return void this._removeAllDecorations();const de=new T.pY(()=>f(this,void 0,void 0,function*(){const ce=Date.now(),be=new C.A;this._sessionDisposables.add((0,O.OF)(()=>be.dispose(!0)));const N=this._editor.getVisibleRangesPlusViewportAboveBelow(),V=yield L(Y,N,be.token),Z=this._getInlayHintsDelays.update(Y,Date.now()-ce);de.delay=Z,this._updateHintsDecorators(V)}),this._getInlayHintsDelays.get(Y));this._sessionDisposables.add(de),this._sessionDisposables.add(this._editor.onDidChangeModelContent(()=>de.schedule())),this._disposables.add(this._editor.onDidScrollChange(()=>de.schedule())),de.schedule();const le=new O.SL;this._sessionDisposables.add(le);for(const ce of B.mX.all(Y))"function"==typeof ce.onDidChangeInlayHints&&le.add(ce.onDidChangeInlayHints(()=>de.schedule()))}_updateHintsDecorators(Y){const{fontSize:de,fontFamily:le}=this._getLayoutInfo(),ce=this._themeService.getColorTheme().getColor(d.Pp),be=this._themeService.getColorTheme().getColor(d.VV),N=[],V=[],Z="--inlayHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(Z,le);for(const{list:ie}of Y)for(let ue=0;ue<ie.length&&V.length<500;ue++){const{text:oe,position:ee,whitespaceBefore:K,whitespaceAfter:ne}=ie[ue],re={contentText:oe,backgroundColor:`${ce}`,color:`${be}`,margin:`0px ${ne?de/3|0:0}px 0px ${K?de/3|0:0}px`,fontSize:`${de}px`,fontFamily:`var(${Z})`,padding:`0px ${de/4|0}px`,borderRadius:(de/4|0)+"px"},ye="inlayHints-"+(0,j.vp)(re).toString(16);this._codeEditorService.registerDecorationType("inlay-hints-controller",ye,{before:re},void 0,this._editor),N.push(ye);const ke=this._codeEditorService.resolveDecorationOptions(ye,!0);V.push({range:b.e.fromPositions(ee),options:ke})}this._decorationsTypeIds.forEach(this._codeEditorService.removeDecorationType,this._codeEditorService),this._decorationsTypeIds=N,this._decorationIds=this._editor.deltaDecorations(this._decorationIds,V)}_getLayoutInfo(){const Y=this._editor.getOption(124),de=this._editor.getOption(42);let le=Y.fontSize;return(!le||le<5||le>de)&&(le=.9*de|0),{fontSize:le,fontFamily:Y.fontFamily}}_removeAllDecorations(){this._decorationIds=this._editor.deltaDecorations(this._decorationIds,[]),this._decorationsTypeIds.forEach(this._codeEditorService.removeDecorationType,this._codeEditorService),this._decorationsTypeIds=[]}};F.ID="editor.contrib.InlayHints",F=function(G,Y,de,le){var N,ce=arguments.length,be=ce<3?Y:null===le?le=Object.getOwnPropertyDescriptor(Y,de):le;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)be=Reflect.decorate(G,Y,de,le);else for(var V=G.length-1;V>=0;V--)(N=G[V])&&(be=(ce<3?N(be):ce>3?N(Y,de,be):N(Y,de))||be);return ce>3&&be&&Object.defineProperty(Y,de,be),be}([_(1,$.$),_(2,g.XE)],F),(0,k._K)(F.ID,F),p.P.registerCommand("_executeInlayHintProvider",(G,...Y)=>f(void 0,void 0,void 0,function*(){const[de,le]=Y;(0,E.p_)(w.o.isUri(de)),(0,E.p_)(b.e.isIRange(le));const ce=yield G.get(S.S).createModelReference(de);try{const be=yield L(ce.object.textEditorModel,[b.e.lift(le)],C.T.None);return(0,R.xH)(be.map(N=>N.list)).sort((N,V)=>v.L.compare(N.position,V.position))}finally{ce.dispose()}}))},4608:(Ct,Qe,a)=>{"use strict";a.r(Qe),a.d(Qe,{ActiveGhostTextController:()=>Rt,GhostTextController:()=>nt,ShowNextInlineSuggestionAction:()=>ft,ShowPreviousInlineSuggestionAction:()=>Oe,TriggerInlineSuggestionAction:()=>We,commitInlineSuggestionAction:()=>Xe});var m,T=a(1719),U=a(4482),j=a(9549),k=(a(2967),a(1165)),$=a(8487),B=a(3779),R=a(579),d=a(712),C=a(4103),g=a(8918),b=a(1558),I=a(1959),p=a(2109),w=a(6803),E=a(3258),S=a(3727),v=a(5),M=a(9880),_=function(Ne,J,_e,$e){var Lt,at=arguments.length,Et=at<3?J:null===$e?$e=Object.getOwnPropertyDescriptor(J,_e):$e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Et=Reflect.decorate(Ne,J,_e,$e);else for(var Pt=Ne.length-1;Pt>=0;Pt--)(Lt=Ne[Pt])&&(Et=(at<3?Lt(Et):at>3?Lt(J,_e,Et):Lt(J,_e))||Et);return at>3&&Et&&Object.defineProperty(J,_e,Et),Et},f=function(Ne,J){return function(_e,$e){J(_e,$e,Ne)}};const L=null===(m=window.trustedTypes)||void 0===m?void 0:m.createPolicy("editorGhostText",{createHTML:Ne=>Ne});let F=class extends T.JT{constructor(J,_e,$e,at){super(),this.editor=J,this.model=_e,this.codeEditorService=$e,this.themeService=at,this.disposed=!1,this.partsWidget=this._register(new G(this.editor,this.codeEditorService,this.themeService)),this.additionalLinesWidget=this._register(new de(this.editor)),this.viewMoreContentWidget=void 0,this._register(this.editor.onDidChangeConfiguration(Et=>{(Et.hasChanged(27)||Et.hasChanged(103)||Et.hasChanged(86)||Et.hasChanged(80)||Et.hasChanged(41)||Et.hasChanged(40)||Et.hasChanged(56))&&this.update()})),this._register((0,T.OF)(()=>{var Et;this.disposed=!0,this.update(),null===(Et=this.viewMoreContentWidget)||void 0===Et||Et.dispose(),this.viewMoreContentWidget=void 0})),this._register(_e.onDidChange(()=>{this.update()})),this.update()}shouldShowHoverAtViewZone(J){return this.additionalLinesWidget.viewZoneId===J}update(){var J;const _e=this.model.ghostText;if(!this.editor.hasModel()||!_e||this.disposed)return this.partsWidget.clear(),void this.additionalLinesWidget.clear();const $e=new Array,at=new Array;function Et(Kt,bn){if(at.length>0){const yn=at[at.length-1];bn&&yn.decorations.push(new M.Kp(yn.content.length+1,yn.content.length+1+Kt[0].length,bn,0)),yn.content+=Kt[0],Kt=Kt.slice(1)}for(const yn of Kt)at.push({content:yn,decorations:bn?[new M.Kp(1,yn.length+1,bn,0)]:[]})}const Lt=this.editor.getModel().getLineContent(_e.lineNumber);this.editor.getModel().getLineTokens(_e.lineNumber);let Pt,on=0;for(const Kt of _e.parts){let bn=Kt.lines;void 0===Pt?($e.push({column:Kt.column,text:bn[0]}),bn=bn.slice(1)):Et([Lt.substring(on,Kt.column-1)],void 0),bn.length>0&&(Et(bn,"ghost-text"),void 0===Pt&&Kt.column<=Lt.length&&(Pt=Kt.column)),on=Kt.column-1}void 0!==Pt&&Et([Lt.substring(on)],void 0),this.partsWidget.setParts(_e.lineNumber,$e,void 0!==Pt?{column:Pt,length:Lt.length+1-Pt}:void 0),this.additionalLinesWidget.updateLines(_e.lineNumber,at,_e.additionalReservedLineCount),_e.parts.some(Kt=>Kt.lines.length<0)?this.viewMoreContentWidget=this.renderViewMoreLines(new p.L(_e.lineNumber,this.editor.getModel().getLineMaxColumn(_e.lineNumber)),"",0):(null===(J=this.viewMoreContentWidget)||void 0===J||J.dispose(),this.viewMoreContentWidget=void 0)}renderViewMoreLines(J,_e,$e){const at=this.editor.getOption(40),Et=document.createElement("div");Et.className="suggest-preview-additional-widget",b.V.applyFontInfoSlow(Et,at);const Lt=document.createElement("span");Lt.className="content-spacer",Lt.append(_e),Et.append(Lt);const Pt=document.createElement("span");Pt.className="content-newline suggest-preview-text",Pt.append("\u23ce  "),Et.append(Pt);const on=new T.SL,Kt=document.createElement("div");return Kt.className="button suggest-preview-text",Kt.append(`+${$e} lines\u2026`),on.add(k.mu(Kt,"mousedown",bn=>{var yn;null===(yn=this.model)||void 0===yn||yn.setExpanded(!0),bn.preventDefault(),this.editor.focus()})),Et.append(Kt),new N(this.editor,J,Et,on)}};F=_([f(2,B.$),f(3,w.XE)],F);let G=class{constructor(J,_e,$e){this.editor=J,this.codeEditorService=_e,this.themeService=$e,this.decorationIds=[],this.disposableStore=new T.SL}dispose(){this.clear(),this.disposableStore.dispose()}clear(){this.editor.deltaDecorations(this.decorationIds,[]),this.disposableStore.clear()}setParts(J,_e,$e){this.disposableStore.clear();const at=this.themeService.getColorTheme(),Et=at.getColor(E.N5);let Lt,Pt;Et&&(Lt=String(Et.rgba.a),Pt=S.Il.Format.CSS.format(Y(Et)));const on=at.getColor(E.x3);let Kt;on&&(Kt=`2px dashed ${on}`);const bn=this.editor.getModel();if(!bn)return;const{tabSize:yn}=bn.getOptions(),jn=bn.getLineContent(J)||"";let Un=0,zn="";const ci=new Array;$e&&ci.push({range:$.e.fromPositions(new p.L(J,$e.column),new p.L(J,$e.column+$e.length)),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}}),this.decorationIds=this.editor.deltaDecorations(this.decorationIds,_e.map(vi=>{zn+=jn.substring(Un,vi.column-1),Un=vi.column-1;const Ii=this.renderSingleLineText(vi.text,zn,yn,!1),Fn=this.disposableStore.add(function(Ne,J,_e,$e){const at="0-ghost-text-"+ce++;return Ne.registerDecorationType("ghost-text",at,$e),{dispose(){Ne.removeDecorationType(at)},resolve:()=>Ne.resolveDecorationOptions(at,!0)}}(this.codeEditorService,0,0,{after:{contentText:Ii,opacity:Lt,color:Pt,border:Kt}}));return{range:$.e.fromPositions(new p.L(J,vi.column)),options:Object.assign({},Fn.resolve())}}).concat(ci))}renderSingleLineText(J,_e,$e,at){const Lt=v.io.visibleColumnsByColumns(_e+J,$e);let Pt="",on=_e.length+1;for(const Kt of J){if("\t"===Kt){const bn=Lt[on+1]-Lt[on];if(at){Pt+="\u2192";for(let yn=1;yn<bn;yn++)Pt+="\xa0"}else for(let yn=0;yn<bn;yn++)Pt+="\xa0"}else Pt+=" "===Kt?at?"\xb7":"\xa0":Kt;on+=1}return Pt}};function Y(Ne){const{r:J,b:_e,g:$e}=Ne.rgba;return new S.Il(new S.VS(J,$e,_e,255))}G=_([f(1,B.$),f(2,w.XE)],G);class de{constructor(J){this.editor=J,this._viewZoneId=void 0}get viewZoneId(){return this._viewZoneId}dispose(){this.clear()}clear(){this.editor.changeViewZones(J=>{this._viewZoneId&&(J.removeZone(this._viewZoneId),this._viewZoneId=void 0)})}updateLines(J,_e,$e){const at=this.editor.getModel();if(!at)return;const{tabSize:Et}=at.getOptions();this.editor.changeViewZones(Lt=>{this._viewZoneId&&(Lt.removeZone(this._viewZoneId),this._viewZoneId=void 0);const Pt=Math.max(_e.length,$e);if(Pt>0){const on=document.createElement("div");(function(Ne,J,_e,$e){const at=$e.get(27),Et=$e.get(103),Pt=$e.get(80),on=$e.get(41),Kt=$e.get(40),bn=$e.get(56),yn=(0,g.l$)(1e4);yn.appendASCIIString('<div class="suggest-preview-text">');for(let zn=0,ci=_e.length;zn<ci;zn++){const vi=_e[zn],Ii=vi.content;yn.appendASCIIString('<div class="view-line'),yn.appendASCIIString('" style="top:'),yn.appendASCIIString(String(zn*bn)),yn.appendASCIIString('px;width:1000000px;">');const Fn=R.$i(Ii),ut=R.Ut(Ii),Mt=I.A.createEmpty(Ii);(0,d.d1)(new d.IJ(Kt.isMonospace&&!at,Kt.canUseHalfwidthRightwardsArrow,Ii,!1,Fn,ut,0,Mt,vi.decorations,J,0,Kt.spaceWidth,Kt.middotWidth,Kt.wsmiddotWidth,Et,"none",Pt,on!==C.n0.OFF,null),yn),yn.appendASCIIString("</div>")}yn.appendASCIIString("</div>"),b.V.applyFontInfoSlow(Ne,Kt);const jn=yn.build(),Un=L?L.createHTML(jn):jn;Ne.innerHTML=Un})(on,Et,_e,this.editor.getOptions()),this._viewZoneId=Lt.addZone({afterLineNumber:J,heightInLines:Pt,domNode:on})}})}}let ce=0;class N extends T.JT{constructor(J,_e,$e,at){super(),this.editor=J,this.position=_e,this.domNode=$e,this.allowEditorOverflow=!1,this.suppressMouseDown=!1,this._register(at),this._register((0,T.OF)(()=>{this.editor.removeContentWidget(this)})),this.editor.addContentWidget(this)}getId(){return"editor.widget.viewMoreLinesWidget"}getDomNode(){return this.domNode}getPosition(){return{position:this.position,preference:[0]}}}(0,w.Ic)((Ne,J)=>{const _e=Ne.getColor(E.N5);if(_e){const at=String(_e.rgba.a),Et=S.Il.Format.CSS.format(Y(_e));J.addRule(`.monaco-editor .suggest-preview-text .ghost-text { opacity: ${at}; color: ${Et}; }`)}const $e=Ne.getColor(E.x3);$e&&J.addRule(`.monaco-editor .suggest-preview-text .ghost-text { border: 2px dashed ${$e}; }`)});var V=a(1606),Z=a(2844),ie=a(4562),ue=a(7922),oe=a(9357),ee=a(5160),K=a(6723),ne=a(6412),he=a(7900),ge=a(8896);class ye{constructor(){this._isDisposed=!1,(0,T.wi)(this)}get value(){return this._isDisposed?void 0:this._value}set value(J){var _e;this._isDisposed||J===this._value||(null===(_e=this._value)||void 0===_e||_e.dispose(),this._value=J)}clear(){this.value=void 0}dispose(){var J;this._isDisposed=!0,null===(J=this._value)||void 0===J||J.dispose(),this._value=void 0}replace(J){const _e=this._value;return this._value=J,_e}}var ke=a(6502),xe=a(2398);class Pe{constructor(J,_e,$e=0){this.lineNumber=J,this.parts=_e,this.additionalReservedLineCount=$e}}class fe extends T.JT{constructor(J){super(),this.editor=J,this._expanded=void 0,this.onDidChangeEmitter=new K.Q5,this.onDidChange=this.onDidChangeEmitter.event,this._register(J.onDidChangeConfiguration(_e=>{_e.hasChanged(104)&&void 0===this._expanded&&this.onDidChangeEmitter.fire()}))}get expanded(){return void 0===this._expanded||this._expanded}setExpanded(J){this._expanded=!0,this.onDidChangeEmitter.fire()}}var Je=function(Ne,J,_e,$e){return new(_e||(_e=Promise))(function(Et,Lt){function Pt(bn){try{Kt($e.next(bn))}catch(yn){Lt(yn)}}function on(bn){try{Kt($e.throw(bn))}catch(yn){Lt(yn)}}function Kt(bn){bn.done?Et(bn.value):function(Et){return Et instanceof _e?Et:new _e(function(Lt){Lt(Et)})}(bn.value).then(Pt,on)}Kt(($e=$e.apply(Ne,J||[])).next())})};let pe=class extends T.JT{constructor(J,_e){super(),this.editor=J,this.commandService=_e,this.onDidChangeEmitter=new K.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.completionSession=this._register(new ye),this.active=!1,this._register(_e.onDidExecuteCommand($e=>{new Set([U.n_.id,U.kz.id,ke.CoreEditingCommands.Tab.id,ke.CoreEditingCommands.DeleteLeft.id,ke.CoreEditingCommands.DeleteRight.id]).has($e.commandId)&&J.hasTextFocus()&&this.handleUserInput()})),this._register(this.editor.onDidType($e=>{this.handleUserInput()})),this._register(this.editor.onDidChangeCursorPosition($e=>{this.session&&!this.session.isValid&&this.hide()}))}handleUserInput(){this.session&&!this.session.isValid&&this.hide(),setTimeout(()=>{this.startSessionIfTriggered()},0)}get session(){return this.completionSession.value}get ghostText(){var J;return null===(J=this.session)||void 0===J?void 0:J.ghostText}get minReservedLineCount(){return this.session?this.session.minReservedLineCount:0}get expanded(){return!!this.session&&this.session.expanded}setExpanded(J){var _e;null===(_e=this.session)||void 0===_e||_e.setExpanded(J)}setActive(J){var _e;this.active=J,J&&(null===(_e=this.session)||void 0===_e||_e.scheduleAutomaticUpdate())}startSessionIfTriggered(){!this.editor.getOption(52).enabled||this.session&&this.session.isValid||this.trigger()}trigger(){this.completionSession.value||(this.completionSession.value=new Ve(this.editor,this.editor.getPosition(),()=>this.active,this.commandService),this.completionSession.value.takeOwnership(this.completionSession.value.onDidChange(()=>{this.onDidChangeEmitter.fire()})))}hide(){this.completionSession.clear(),this.onDidChangeEmitter.fire()}commitCurrentSuggestion(){var J;null===(J=this.session)||void 0===J||J.commitCurrentCompletion()}showNext(){var J;null===(J=this.session)||void 0===J||J.showNextInlineCompletion()}showPrevious(){var J;null===(J=this.session)||void 0===J||J.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var J;return Je(this,void 0,void 0,function*(){const _e=yield null===(J=this.session)||void 0===J?void 0:J.hasMultipleInlineCompletions();return void 0!==_e&&_e})}};var J;pe=function(Ne,J,_e,$e){var Lt,at=arguments.length,Et=at<3?J:null===$e?$e=Object.getOwnPropertyDescriptor(J,_e):$e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Et=Reflect.decorate(Ne,J,_e,$e);else for(var Pt=Ne.length-1;Pt>=0;Pt--)(Lt=Ne[Pt])&&(Et=(at<3?Lt(Et):at>3?Lt(J,_e,Et):Lt(J,_e))||Et);return at>3&&Et&&Object.defineProperty(J,_e,Et),Et}([(1,J=ge.H,function(_e,$e){J(_e,$e,1)})],pe);class Ve extends fe{constructor(J,_e,$e,at){let Et;super(J),this.triggerPosition=_e,this.shouldUpdate=$e,this.commandService=at,this.minReservedLineCount=0,this.updateOperation=this._register(new ye),this.cache=this._register(new ye),this.updateSoon=this._register(new ue.pY(()=>this.update(ne.bw.Automatic),50)),this.textModel=this.editor.getModel(),this.currentlySelectedCompletionId=void 0,this._register(this.onDidChange(()=>{const Lt=this.currentCompletion;if(Lt&&Lt.sourceInlineCompletion!==Et){Et=Lt.sourceInlineCompletion;const Pt=Lt.sourceProvider;Pt.handleItemDidShow&&Pt.handleItemDidShow(Lt.sourceInlineCompletions,Et)}})),this._register(this.editor.onDidChangeCursorPosition(Lt=>{this.cache.value&&this.onDidChangeEmitter.fire()})),this._register(this.editor.onDidChangeModelContent(Lt=>{if(this.cache.value){let Pt=!1;for(const on of this.cache.value.completions){const Kt=this.textModel.getDecorationRange(on.decorationId);Kt?on.synchronizedRange.equalsRange(Kt)||(Pt=!0,on.synchronizedRange=Kt):(0,ee.dL)(new Error("Decoration has no range"))}Pt&&this.onDidChangeEmitter.fire()}this.scheduleAutomaticUpdate()})),this._register(ne.zu.onDidChange(()=>{this.updateSoon.schedule()})),this.scheduleAutomaticUpdate()}fixAndGetIndexOfCurrentSelection(){if(!this.currentlySelectedCompletionId||!this.cache.value||0===this.cache.value.completions.length)return 0;const J=this.cache.value.completions.findIndex(_e=>_e.semanticId===this.currentlySelectedCompletionId);return-1===J?(this.currentlySelectedCompletionId=void 0,0):J}get currentCachedCompletion(){if(this.cache.value)return this.cache.value.completions[this.fixAndGetIndexOfCurrentSelection()]}showNextInlineCompletion(){var J;return Je(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();const _e=(null===(J=this.cache.value)||void 0===J?void 0:J.completions)||[];if(_e.length>0){const $e=(this.fixAndGetIndexOfCurrentSelection()+1)%_e.length;this.currentlySelectedCompletionId=_e[$e].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}showPreviousInlineCompletion(){var J;return Je(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();const _e=(null===(J=this.cache.value)||void 0===J?void 0:J.completions)||[];if(_e.length>0){const $e=(this.fixAndGetIndexOfCurrentSelection()+_e.length-1)%_e.length;this.currentlySelectedCompletionId=_e[$e].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}ensureUpdateWithExplicitContext(){var J;return Je(this,void 0,void 0,function*(){this.updateOperation.value?this.updateOperation.value.triggerKind===ne.bw.Explicit?yield this.updateOperation.value.promise:yield this.update(ne.bw.Explicit):(null===(J=this.cache.value)||void 0===J?void 0:J.triggerKind)!==ne.bw.Explicit&&(yield this.update(ne.bw.Explicit))})}hasMultipleInlineCompletions(){var J;return Je(this,void 0,void 0,function*(){return yield this.ensureUpdateWithExplicitContext(),((null===(J=this.cache.value)||void 0===J?void 0:J.completions.length)||0)>1})}get ghostText(){const J=this.currentCompletion,_e=this.editor.getOptions().get(52).mode;return J?Be(J,this.editor.getModel(),_e,this.editor.getSelection().getEndPosition()):void 0}get currentCompletion(){const J=this.currentCachedCompletion;if(J)return{text:J.inlineCompletion.text,range:J.synchronizedRange,command:J.inlineCompletion.command,sourceProvider:J.inlineCompletion.sourceProvider,sourceInlineCompletions:J.inlineCompletion.sourceInlineCompletions,sourceInlineCompletion:J.inlineCompletion.sourceInlineCompletion}}get isValid(){return this.editor.getPosition().lineNumber===this.triggerPosition.lineNumber}scheduleAutomaticUpdate(){this.updateOperation.clear(),this.updateSoon.schedule()}update(J){return Je(this,void 0,void 0,function*(){if(!this.shouldUpdate())return;const _e=this.editor.getPosition(),$e=(0,ue.PG)(Et=>Je(this,void 0,void 0,function*(){let Lt;try{Lt=yield function(Ne,J,_e,$e=oe.T.None){return Je(this,void 0,void 0,function*(){const at=function(Ne,J){const _e=J.getWordAtPosition(Ne),$e=J.getLineMaxColumn(Ne.lineNumber);return _e?new $.e(Ne.lineNumber,_e.startColumn,Ne.lineNumber,$e):$.e.fromPositions(Ne,Ne.with(void 0,$e))}(Ne,J),Et=ne.zu.all(J),Lt=yield Promise.all(Et.map(on=>Je(this,void 0,void 0,function*(){const Kt=yield on.provideInlineCompletions(J,Ne,_e,$e);return{completions:Kt,provider:on,dispose:()=>{Kt&&on.freeInlineCompletions(Kt)}}}))),Pt=new Map;for(const on of Lt){const Kt=on.completions;if(Kt)for(const bn of Kt.items.map(yn=>({text:yn.text,range:yn.range?$.e.lift(yn.range):at,command:yn.command,sourceProvider:on.provider,sourceInlineCompletions:Kt,sourceInlineCompletion:yn})))bn.range.startLineNumber===bn.range.endLineNumber&&Pt.set(JSON.stringify({text:bn.text,range:bn.range}),bn)}return{items:[...Pt.values()],dispose:()=>{for(const on of Lt)on.dispose()}}})}(_e,this.editor.getModel(),{triggerKind:J},Et)}catch(Pt){return void(0,ee.dL)(Pt)}Et.isCancellationRequested||(this.cache.value=new Ee(this.editor,Lt,()=>this.onDidChangeEmitter.fire(),J),this.onDidChangeEmitter.fire())})),at=new Ae($e,J);this.updateOperation.value=at,yield $e,this.updateOperation.value===at&&this.updateOperation.clear()})}takeOwnership(J){this._register(J)}commitCurrentCompletion(){if(!this.ghostText)return;const J=this.currentCompletion;J&&this.commit(J)}commit(J){const _e=this.cache.replace(void 0);this.editor.executeEdits("inlineSuggestion.accept",[he.h.replaceMove(J.range,J.text)]),J.command?this.commandService.executeCommand(J.command.id,...J.command.arguments||[]).finally(()=>{null==_e||_e.dispose()}).then(void 0,ee.Cp):null==_e||_e.dispose(),this.onDidChangeEmitter.fire()}}class Ae{constructor(J,_e){this.promise=J,this.triggerKind=_e}dispose(){this.promise.cancel()}}class Ee extends T.JT{constructor(J,_e,$e,at){super(),this.triggerKind=at;const Et=J.deltaDecorations([],_e.items.map(Lt=>({range:Lt.range,options:{description:"inline-completion-tracking-range"}})));this._register((0,T.OF)(()=>{J.deltaDecorations(Et,[])})),this.completions=_e.items.map((Lt,Pt)=>new ze(Lt,Et[Pt])),this._register(J.onDidChangeModelContent(()=>{let Lt=!1;const Pt=J.getModel();for(const on of this.completions){const Kt=Pt.getDecorationRange(on.decorationId);Kt?on.synchronizedRange.equalsRange(Kt)||(Lt=!0,on.synchronizedRange=Kt):(0,ee.dL)(new Error("Decoration has no range"))}Lt&&$e()})),this._register(_e)}}class ze{constructor(J,_e){this.inlineCompletion=J,this.decorationId=_e,this.semanticId=JSON.stringify({text:this.inlineCompletion.text,startLine:this.inlineCompletion.range.startLineNumber,startColumn:this.inlineCompletion.range.startColumn,command:this.inlineCompletion.command}),this.synchronizedRange=J.range}}function Be(Ne,J,_e,$e){if(Ne.range.startLineNumber!==Ne.range.endLineNumber)return;const at=J.getValueInRange(Ne.range),Et=function(Ne,J){if((null==Ue?void 0:Ue.originalValue)===Ne&&(null==Ue?void 0:Ue.newValue)===J)return null==Ue?void 0:Ue.changes;{const _e=(0,xe.a$)(Ne,J,!1);return Ue={originalValue:Ne,newValue:J,changes:_e},_e}}(at,Ne.text),Lt=Ne.range.startLineNumber,Pt=new Array;if("prefix"===_e){const on=Et.filter(Kt=>0===Kt.originalLength);if(on.length>1||1===on.length&&on[0].originalStart!==at.length)return}for(const on of Et){const Kt=Ne.range.startColumn+on.originalStart+on.originalLength;if($e&&$e.lineNumber===Ne.range.startLineNumber&&Kt<$e.column)return;if(on.originalLength>0){const jn=at.substr(on.originalStart,on.originalLength),Un=J.getLineFirstNonWhitespaceColumn(Lt);if(!/^(\t| )*$/.test(jn)||!(0===Un||Kt<=Un))return}if(0===on.modifiedLength)continue;const bn=Ne.text.substr(on.modifiedStart,on.modifiedLength),yn=R.uq(bn);Pt.push({column:Kt,lines:yn})}return new Pe(Lt,Pt,0)}let Ue;var ve=a(4915),ht=a(6020),Ge=a(426);class De extends fe{constructor(J){super(J),this.isSuggestWidgetVisible=!1,this.currentGhostText=void 0,this._isActive=!1,this.isShiftKeyPressed=!1,this.minReservedLineCount=0,this.setInactiveDelayed=this._register(new ue.pY(()=>{this.isSuggestWidgetVisible||this.isActive&&(this._isActive=!1,this.onDidChangeEmitter.fire())},100));const _e=Ge.SuggestController.get(this.editor);if(_e){let $e=!1;const at=()=>{$e||($e=!0,this._register(_e.widget.value.onDidShow(()=>{this.isSuggestWidgetVisible=!0,this._isActive=!0,this.updateFromSuggestion()})),this._register(_e.widget.value.onDidHide(()=>{this.isSuggestWidgetVisible=!1,this.setInactiveDelayed.schedule(),this.minReservedLineCount=0,this.updateFromSuggestion()})),this._register(_e.widget.value.onDidFocus(()=>{this.isSuggestWidgetVisible=!0,this._isActive=!0,this.updateFromSuggestion()})))};this._register(K.ju.once(_e.model.onDidTrigger)(Et=>{at()}))}this.updateFromSuggestion(),this._register((0,T.OF)(()=>{const $e=Ge.SuggestController.get(this.editor);$e&&$e.stopForceRenderingAbove()})),this._register(J.onKeyDown($e=>{$e.shiftKey&&!this.isShiftKeyPressed&&(this.isShiftKeyPressed=!0,this.updateFromSuggestion())})),this._register(J.onKeyUp($e=>{$e.shiftKey&&this.isShiftKeyPressed&&(this.isShiftKeyPressed=!1,this.updateFromSuggestion())}))}get isActive(){return this._isActive}setExpanded(J){super.setExpanded(J),this.updateFromSuggestion()}isSuggestionPreviewEnabled(){return this.editor.getOption(104).preview}updateFromSuggestion(){const J=Ge.SuggestController.get(this.editor);if(!J)return void this.setCurrentInlineCompletion(void 0);if(!this.isSuggestWidgetVisible)return void this.setCurrentInlineCompletion(void 0);const _e=J.widget.value.getFocusedItem();this.setCurrentInlineCompletion(_e?function(Ne,J,_e,$e){const at=_e.item;if(Array.isArray(at.completion.additionalTextEdits))return{text:"",range:$.e.fromPositions(J,J)};let{insertText:Et}=at.completion;if(4&at.completion.insertTextRules){const Pt=(new ve.Yj).parse(Et),on=Ne.editor.getModel();ht.l.adjustWhitespace(on,J,Pt,!0,!0),Et=Pt.toString()}const Lt=Ne.getOverwriteInfo(at,$e);return{text:Et,range:$.e.fromPositions(J.delta(0,-Lt.overwriteBefore),J.delta(0,Math.max(Lt.overwriteAfter,0)))}}(J,this.editor.getPosition(),_e,this.isShiftKeyPressed):void 0)}setCurrentInlineCompletion(J){const _e=this.editor.getOptions().get(104).previewMode;this.currentGhostText=J?Be(J,this.editor.getModel(),_e)||new Pe(J.range.endLineNumber,[],this.minReservedLineCount):void 0,this.currentGhostText&&this.expanded&&(this.minReservedLineCount=Math.max(this.minReservedLineCount,...this.currentGhostText.parts.map(at=>at.lines.length-1)));const $e=Ge.SuggestController.get(this.editor);$e&&(this.minReservedLineCount>=1&&this.isSuggestionPreviewEnabled()?$e.forceRenderingAbove():$e.stopForceRenderingAbove()),this.onDidChangeEmitter.fire()}get ghostText(){return this.isSuggestionPreviewEnabled()?this.currentGhostText:void 0}}class zt extends T.JT{constructor(){super(...arguments),this.onDidChangeEmitter=new K.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.hasCachedGhostText=!1,this.currentModelRef=this._register(new T.XK)}get targetModel(){var J;return null===(J=this.currentModelRef.value)||void 0===J?void 0:J.object}setTargetModel(J){this.currentModelRef.clear(),this.currentModelRef.value=J?function(Ne,J){return{object:Ne,dispose:()=>null==J?void 0:J.dispose()}}(J,J.onDidChange(()=>{this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire()})):void 0,this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire()}get ghostText(){var J,_e;return this.hasCachedGhostText||(this.cachedGhostText=null===(_e=null===(J=this.currentModelRef.value)||void 0===J?void 0:J.object)||void 0===_e?void 0:_e.ghostText,this.hasCachedGhostText=!0),this.cachedGhostText}setExpanded(J){var _e;null===(_e=this.targetModel)||void 0===_e||_e.setExpanded(J)}get expanded(){return!!this.targetModel&&this.targetModel.expanded}get minReservedLineCount(){return this.targetModel?this.targetModel.minReservedLineCount:0}}let pn=class extends zt{constructor(J,_e){super(),this.editor=J,this.commandService=_e,this.suggestWidgetAdapterModel=this._register(new De(this.editor)),this.inlineCompletionsModel=this._register(new pe(this.editor,this.commandService)),this._register(this.suggestWidgetAdapterModel.onDidChange(()=>{this.updateModel()})),this.updateModel()}get activeInlineCompletionsModel(){if(this.targetModel===this.inlineCompletionsModel)return this.inlineCompletionsModel}updateModel(){this.setTargetModel(this.suggestWidgetAdapterModel.isActive?this.suggestWidgetAdapterModel:this.inlineCompletionsModel),this.inlineCompletionsModel.setActive(this.targetModel===this.inlineCompletionsModel)}shouldShowHoverAt(J){var _e;const $e=null===(_e=this.activeInlineCompletionsModel)||void 0===_e?void 0:_e.ghostText;return!!$e&&$e.parts.some(at=>J.containsPosition(new p.L($e.lineNumber,at.column)))}triggerInlineCompletion(){var J;null===(J=this.activeInlineCompletionsModel)||void 0===J||J.trigger()}commitInlineCompletion(){var J;null===(J=this.activeInlineCompletionsModel)||void 0===J||J.commitCurrentSuggestion()}hideInlineCompletion(){var J;null===(J=this.activeInlineCompletionsModel)||void 0===J||J.hide()}showNextInlineCompletion(){var J;null===(J=this.activeInlineCompletionsModel)||void 0===J||J.showNext()}showPreviousInlineCompletion(){var J;null===(J=this.activeInlineCompletionsModel)||void 0===J||J.showPrevious()}hasMultipleInlineCompletions(){var J;return function(Ne,J,_e,$e){return new(_e||(_e=Promise))(function(Et,Lt){function Pt(bn){try{Kt($e.next(bn))}catch(yn){Lt(yn)}}function on(bn){try{Kt($e.throw(bn))}catch(yn){Lt(yn)}}function Kt(bn){bn.done?Et(bn.value):function(Et){return Et instanceof _e?Et:new _e(function(Lt){Lt(Et)})}(bn.value).then(Pt,on)}Kt(($e=$e.apply(Ne,J||[])).next())})}(this,void 0,void 0,function*(){const _e=yield null===(J=this.activeInlineCompletionsModel)||void 0===J?void 0:J.hasMultipleInlineCompletions();return void 0!==_e&&_e})}};pn=function(Ne,J,_e,$e){var Lt,at=arguments.length,Et=at<3?J:null===$e?$e=Object.getOwnPropertyDescriptor(J,_e):$e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Et=Reflect.decorate(Ne,J,_e,$e);else for(var Pt=Ne.length-1;Pt>=0;Pt--)(Lt=Ne[Pt])&&(Et=(at<3?Lt(Et):at>3?Lt(J,_e,Et):Lt(J,_e))||Et);return at>3&&Et&&Object.defineProperty(J,_e,Et),Et}([function(Ne,J){return function(_e,$e){J(_e,$e,1)}}(0,ge.H)],pn);var Qt=function(Ne,J,_e,$e){var Lt,at=arguments.length,Et=at<3?J:null===$e?$e=Object.getOwnPropertyDescriptor(J,_e):$e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Et=Reflect.decorate(Ne,J,_e,$e);else for(var Pt=Ne.length-1;Pt>=0;Pt--)(Lt=Ne[Pt])&&(Et=(at<3?Lt(Et):at>3?Lt(J,_e,Et):Lt(J,_e))||Et);return at>3&&Et&&Object.defineProperty(J,_e,Et),Et},Ht=function(Ne,J){return function(_e,$e){J(_e,$e,Ne)}},qt=function(Ne,J,_e,$e){return new(_e||(_e=Promise))(function(Et,Lt){function Pt(bn){try{Kt($e.next(bn))}catch(yn){Lt(yn)}}function on(bn){try{Kt($e.throw(bn))}catch(yn){Lt(yn)}}function Kt(bn){bn.done?Et(bn.value):function(Et){return Et instanceof _e?Et:new _e(function(Lt){Lt(Et)})}(bn.value).then(Pt,on)}Kt(($e=$e.apply(Ne,J||[])).next())})};let nt=class BR extends T.JT{constructor(J,_e){super(),this.editor=J,this.instantiationService=_e,this.triggeredExplicitly=!1,this.activeController=this._register(new T.XK),this._register(this.editor.onDidChangeModel(()=>{this.updateModelController()})),this._register(this.editor.onDidChangeConfiguration($e=>{$e.hasChanged(104)&&this.updateModelController(),$e.hasChanged(52)&&this.updateModelController()})),this.updateModelController()}static get(J){return J.getContribution(BR.ID)}get activeModel(){var J;return null===(J=this.activeController.value)||void 0===J?void 0:J.model}updateModelController(){const J=this.editor.getOption(104),_e=this.editor.getOption(52);this.activeController.value=void 0,this.activeController.value=this.editor.hasModel()&&(J.preview||_e.enabled||this.triggeredExplicitly)?this.instantiationService.createInstance(Rt,this.editor):void 0}shouldShowHoverAt(J){var _e;return(null===(_e=this.activeModel)||void 0===_e?void 0:_e.shouldShowHoverAt(J))||!1}shouldShowHoverAtViewZone(J){var _e,$e;return(null===($e=null===(_e=this.activeController.value)||void 0===_e?void 0:_e.widget)||void 0===$e?void 0:$e.shouldShowHoverAtViewZone(J))||!1}trigger(){var J;this.triggeredExplicitly=!0,this.activeController.value||this.updateModelController(),null===(J=this.activeModel)||void 0===J||J.triggerInlineCompletion()}commit(){var J;null===(J=this.activeModel)||void 0===J||J.commitInlineCompletion()}hide(){var J;null===(J=this.activeModel)||void 0===J||J.hideInlineCompletion()}showNextInlineCompletion(){var J;null===(J=this.activeModel)||void 0===J||J.showNextInlineCompletion()}showPreviousInlineCompletion(){var J;null===(J=this.activeModel)||void 0===J||J.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var J;return qt(this,void 0,void 0,function*(){const _e=yield null===(J=this.activeModel)||void 0===J?void 0:J.hasMultipleInlineCompletions();return void 0!==_e&&_e})}};nt.inlineSuggestionVisible=new Z.uy("inlineSuggestionVisible",!1,V.N("inlineSuggestionVisible","Whether an inline suggestion is visible")),nt.inlineSuggestionHasIndentation=new Z.uy("inlineSuggestionHasIndentation",!1,V.N("inlineSuggestionHasIndentation","Whether the inline suggestion starts with whitespace")),nt.ID="editor.contrib.ghostTextController",nt=Qt([Ht(1,ie.TG)],nt);class bt{constructor(J){this.contextKeyService=J,this.inlineCompletionVisible=nt.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=nt.inlineSuggestionHasIndentation.bindTo(this.contextKeyService)}}let Rt=class extends T.JT{constructor(J,_e,$e){super(),this.editor=J,this.instantiationService=_e,this.contextKeyService=$e,this.contextKeys=new bt(this.contextKeyService),this.model=this._register(this.instantiationService.createInstance(pn,this.editor)),this.widget=this._register(this.instantiationService.createInstance(F,this.editor,this.model)),this._register((0,T.OF)(()=>{this.contextKeys.inlineCompletionVisible.set(!1),this.contextKeys.inlineCompletionSuggestsIndentation.set(!1)})),this._register(this.model.onDidChange(()=>{this.updateContextKeys()})),this.updateContextKeys()}updateContextKeys(){var J;this.contextKeys.inlineCompletionVisible.set(void 0!==(null===(J=this.model.activeInlineCompletionsModel)||void 0===J?void 0:J.ghostText));const _e=this.model.inlineCompletionsModel.ghostText;if(_e&&_e.parts.length>0){const{column:$e,lines:at}=_e.parts[0],Et=at[0].startsWith(" ")||at[0].startsWith("\t"),Pt=$e<=this.editor.getModel().getLineIndentColumn(_e.lineNumber);this.contextKeys.inlineCompletionSuggestsIndentation.set(!!this.model.activeInlineCompletionsModel&&Et&&Pt)}else this.contextKeys.inlineCompletionSuggestsIndentation.set(!1)}};Rt=Qt([Ht(1,ie.TG),Ht(2,Z.i6)],Rt);const Dt=U._l.bindToContribution(nt.get),Xe=new Dt({id:"editor.action.inlineSuggest.commit",precondition:Z.Ao.and(nt.inlineSuggestionVisible,nt.inlineSuggestionHasIndentation.toNegated(),j.u.tabMovesFocus.toNegated()),kbOpts:{weight:200,primary:2},handler(Ne){Ne.commit(),Ne.editor.focus()}});(0,U.fK)(Xe),(0,U.fK)(new Dt({id:"editor.action.inlineSuggest.hide",precondition:nt.inlineSuggestionVisible,kbOpts:{weight:100,primary:9},handler(Ne){Ne.hide()}}));let ft=(()=>{class Ne extends U.R6{constructor(){super({id:Ne.ID,label:V.N("action.inlineSuggest.showNext","Show Next Inline Suggestion"),alias:"Show Next Inline Suggestion",precondition:Z.Ao.and(j.u.writable,nt.inlineSuggestionVisible),kbOpts:{weight:100,primary:601}})}run(_e,$e){return qt(this,void 0,void 0,function*(){const at=nt.get($e);at&&(at.showNextInlineCompletion(),$e.focus())})}}return Ne.ID="editor.action.inlineSuggest.showNext",Ne})(),Oe=(()=>{class Ne extends U.R6{constructor(){super({id:Ne.ID,label:V.N("action.inlineSuggest.showPrevious","Show Previous Inline Suggestion"),alias:"Show Previous Inline Suggestion",precondition:Z.Ao.and(j.u.writable,nt.inlineSuggestionVisible),kbOpts:{weight:100,primary:599}})}run(_e,$e){return qt(this,void 0,void 0,function*(){const at=nt.get($e);at&&(at.showPreviousInlineCompletion(),$e.focus())})}}return Ne.ID="editor.action.inlineSuggest.showPrevious",Ne})();class We extends U.R6{constructor(){super({id:"editor.action.inlineSuggest.trigger",label:V.N("action.inlineSuggest.trigger","Trigger Inline Suggestion"),alias:"Trigger Inline Suggestion",precondition:j.u.writable})}run(J,_e){return qt(this,void 0,void 0,function*(){const $e=nt.get(_e);$e&&$e.trigger()})}}(0,U._K)(nt.ID,nt),(0,U.Qr)(We),(0,U.Qr)(ft),(0,U.Qr)(Oe)},1500:(Ct,Qe,a)=>{"use strict";a.r(Qe),a.d(Qe,{AbstractCaseAction:()=>Pe,AbstractDeleteAllToBoundaryAction:()=>ge,AbstractSortLinesAction:()=>V,DeleteAllLeftAction:()=>re,DeleteAllRightAction:()=>ye,DeleteLinesAction:()=>oe,DuplicateSelectionAction:()=>le,IndentLinesAction:()=>ee,InsertLineAfterAction:()=>he,InsertLineBeforeAction:()=>ne,JoinLinesAction:()=>ke,LowerCaseAction:()=>Te,SnakeCaseAction:()=>pe,SortLinesAscendingAction:()=>Z,SortLinesDescendingAction:()=>ie,TitleCaseAction:()=>Ce,TransposeAction:()=>xe,TrimTrailingWhitespaceAction:()=>ue,UpperCaseAction:()=>fe});var T=a(1606),U=a(4807),j=a(6502),O=a(4482),k=a(8571),$=a(579),B=a(7900),R=a(8487);class d{constructor(Ae,Ee){this._selection=Ae,this._cursors=Ee,this._selectionId=null}getEditOperations(Ae,Ee){let ze=function(Ve,Ae){Ae.sort((ot,vt)=>ot.lineNumber===vt.lineNumber?ot.column-vt.column:ot.lineNumber-vt.lineNumber);for(let ot=Ae.length-2;ot>=0;ot--)Ae[ot].lineNumber===Ae[ot+1].lineNumber&&Ae.splice(ot,1);let Ee=[],ze=0,Be=0,Ue=Ae.length;for(let ot=1,vt=Ve.getLineCount();ot<=vt;ot++){let At=Ve.getLineContent(ot),ve=At.length+1,ht=0;if(Be<Ue&&Ae[Be].lineNumber===ot&&(ht=Ae[Be].column,Be++,ht===ve)||0===At.length)continue;let Ge=$.ow(At),De=0;if(-1===Ge)De=1;else{if(Ge===At.length-1)continue;De=Ge+2}De=Math.max(ht,De),Ee[ze++]=B.h.delete(new R.e(ot,De,ot,ve))}return Ee}(Ae,this._cursors);for(let Be=0,Ue=ze.length;Be<Ue;Be++){let ot=ze[Be];Ee.addEditOperation(ot.range,ot.text)}this._selectionId=Ee.trackSelection(this._selection)}computeCursorState(Ae,Ee){return Ee.getTrackedSelection(this._selectionId)}}var g=a(5741),b=a(2109),I=a(9730),p=a(9549);class w{constructor(Ae,Ee,ze){this._selection=Ae,this._isCopyingDown=Ee,this._noop=ze||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(Ae,Ee){let ze=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,ze.startLineNumber<ze.endLineNumber&&1===ze.endColumn&&(this._endLineNumberDelta=1,ze=ze.setEndPosition(ze.endLineNumber-1,Ae.getLineMaxColumn(ze.endLineNumber-1)));let Be=[];for(let ot=ze.startLineNumber;ot<=ze.endLineNumber;ot++)Be.push(Ae.getLineContent(ot));const Ue=Be.join("\n");""===Ue&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?Ee.addEditOperation(new R.e(ze.endLineNumber,Ae.getLineMaxColumn(ze.endLineNumber),ze.endLineNumber+1,1),ze.endLineNumber===Ae.getLineCount()?"":"\n"):this._isCopyingDown?Ee.addEditOperation(new R.e(ze.startLineNumber,1,ze.startLineNumber,1),Ue+"\n"):Ee.addEditOperation(new R.e(ze.endLineNumber,Ae.getLineMaxColumn(ze.endLineNumber),ze.endLineNumber,Ae.getLineMaxColumn(ze.endLineNumber)),"\n"+Ue),this._selectionId=Ee.trackSelection(ze),this._selectionDirection=this._selection.getDirection()}computeCursorState(Ae,Ee){let ze=Ee.getTrackedSelection(this._selectionId);if(0!==this._startLineNumberDelta||0!==this._endLineNumberDelta){let Be=ze.startLineNumber,Ue=ze.startColumn,ot=ze.endLineNumber,vt=ze.endColumn;0!==this._startLineNumberDelta&&(Be+=this._startLineNumberDelta,Ue=1),0!==this._endLineNumberDelta&&(ot+=this._endLineNumberDelta,vt=1),ze=I.Y.createWithDirection(Be,Ue,ot,vt,this._selectionDirection)}return ze}}var E=a(6108),S=a(1533),v=a(2587),M=a(1816);class _{constructor(Ae,Ee,ze){this._selection=Ae,this._isMovingDown=Ee,this._autoIndent=ze,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(Ae,Ee){let ze=Ae.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===ze)return void(this._selectionId=Ee.trackSelection(this._selection));if(!this._isMovingDown&&1===this._selection.startLineNumber)return void(this._selectionId=Ee.trackSelection(this._selection));this._moveEndPositionDown=!1;let Be=this._selection;Be.startLineNumber<Be.endLineNumber&&1===Be.endColumn&&(this._moveEndPositionDown=!0,Be=Be.setEndPosition(Be.endLineNumber-1,Ae.getLineMaxColumn(Be.endLineNumber-1)));const{tabSize:Ue,indentSize:ot,insertSpaces:vt}=Ae.getOptions();let At=this.buildIndentConverter(Ue,ot,vt),ve={getLineTokens:ht=>Ae.getLineTokens(ht),getLanguageIdentifier:()=>Ae.getLanguageIdentifier(),getLanguageIdAtPosition:(ht,Ge)=>Ae.getLanguageIdAtPosition(ht,Ge),getLineContent:null};if(Be.startLineNumber===Be.endLineNumber&&1===Ae.getLineMaxColumn(Be.startLineNumber)){let ht=Be.startLineNumber,Ge=this._isMovingDown?ht+1:ht-1;1===Ae.getLineMaxColumn(Ge)?Ee.addEditOperation(new R.e(1,1,1,1),null):(Ee.addEditOperation(new R.e(ht,1,ht,1),Ae.getLineContent(Ge)),Ee.addEditOperation(new R.e(Ge,1,Ge,Ae.getLineMaxColumn(Ge)),null)),Be=new I.Y(Ge,1,Ge,1)}else{let ht,Ge;if(this._isMovingDown){ht=Be.endLineNumber+1,Ge=Ae.getLineContent(ht),Ee.addEditOperation(new R.e(ht-1,Ae.getLineMaxColumn(ht-1),ht,Ae.getLineMaxColumn(ht)),null);let De=Ge;if(this.shouldAutoIndent(Ae,Be)){let Le=this.matchEnterRule(Ae,At,Ue,ht,Be.startLineNumber-1);if(null!==Le){let _t=$.V8(Ae.getLineContent(ht)),Nt=Le+M.Y(_t,Ue);De=M.J(Nt,Ue,vt)+this.trimLeft(Ge)}else{ve.getLineContent=Nt=>Ae.getLineContent(Nt===Be.startLineNumber?ht:Nt);let _t=v.zu.getGoodIndentForLine(this._autoIndent,ve,Ae.getLanguageIdAtPosition(ht,1),Be.startLineNumber,At);if(null!==_t){let Nt=$.V8(Ae.getLineContent(ht)),zt=M.Y(_t,Ue);zt!==M.Y(Nt,Ue)&&(De=M.J(zt,Ue,vt)+this.trimLeft(Ge))}}Ee.addEditOperation(new R.e(Be.startLineNumber,1,Be.startLineNumber,1),De+"\n");let dt=this.matchEnterRuleMovingDown(Ae,At,Ue,Be.startLineNumber,ht,De);if(null!==dt)0!==dt&&this.getIndentEditsOfMovingBlock(Ae,Ee,Be,Ue,vt,dt);else{ve.getLineContent=Nt=>Nt===Be.startLineNumber?De:Ae.getLineContent(Nt>=Be.startLineNumber+1&&Nt<=Be.endLineNumber+1?Nt-1:Nt);let _t=v.zu.getGoodIndentForLine(this._autoIndent,ve,Ae.getLanguageIdAtPosition(ht,1),Be.startLineNumber+1,At);if(null!==_t){const Nt=$.V8(Ae.getLineContent(Be.startLineNumber)),zt=M.Y(_t,Ue),pn=M.Y(Nt,Ue);zt!==pn&&this.getIndentEditsOfMovingBlock(Ae,Ee,Be,Ue,vt,zt-pn)}}}else Ee.addEditOperation(new R.e(Be.startLineNumber,1,Be.startLineNumber,1),De+"\n")}else if(ht=Be.startLineNumber-1,Ge=Ae.getLineContent(ht),Ee.addEditOperation(new R.e(ht,1,ht+1,1),null),Ee.addEditOperation(new R.e(Be.endLineNumber,Ae.getLineMaxColumn(Be.endLineNumber),Be.endLineNumber,Ae.getLineMaxColumn(Be.endLineNumber)),"\n"+Ge),this.shouldAutoIndent(Ae,Be)){ve.getLineContent=Le=>Ae.getLineContent(Le===ht?Be.startLineNumber:Le);let De=this.matchEnterRule(Ae,At,Ue,Be.startLineNumber,Be.startLineNumber-2);if(null!==De)0!==De&&this.getIndentEditsOfMovingBlock(Ae,Ee,Be,Ue,vt,De);else{let Le=v.zu.getGoodIndentForLine(this._autoIndent,ve,Ae.getLanguageIdAtPosition(Be.startLineNumber,1),ht,At);if(null!==Le){let dt=$.V8(Ae.getLineContent(Be.startLineNumber)),_t=M.Y(Le,Ue),Nt=M.Y(dt,Ue);_t!==Nt&&this.getIndentEditsOfMovingBlock(Ae,Ee,Be,Ue,vt,_t-Nt)}}}}this._selectionId=Ee.trackSelection(Be)}buildIndentConverter(Ae,Ee,ze){return{shiftIndent:Be=>E.U.shiftIndent(Be,Be.length+1,Ae,Ee,ze),unshiftIndent:Be=>E.U.unshiftIndent(Be,Be.length+1,Ae,Ee,ze)}}parseEnterResult(Ae,Ee,ze,Be,Ue){if(Ue){let ot=Ue.indentation;Ue.indentAction===S.wU.None||Ue.indentAction===S.wU.Indent?ot=Ue.indentation+Ue.appendText:Ue.indentAction===S.wU.IndentOutdent?ot=Ue.indentation:Ue.indentAction===S.wU.Outdent&&(ot=Ee.unshiftIndent(Ue.indentation)+Ue.appendText);let vt=Ae.getLineContent(Be);if(this.trimLeft(vt).indexOf(this.trimLeft(ot))>=0){let At=$.V8(Ae.getLineContent(Be)),ve=$.V8(ot),ht=v.zu.getIndentMetadata(Ae,Be);return null!==ht&&2&ht&&(ve=Ee.unshiftIndent(ve)),M.Y(ve,ze)-M.Y(At,ze)}}return null}matchEnterRuleMovingDown(Ae,Ee,ze,Be,Ue,ot){if($.ow(ot)>=0){let vt=Ae.getLineMaxColumn(Ue),At=v.zu.getEnterAction(this._autoIndent,Ae,new R.e(Ue,vt,Ue,vt));return this.parseEnterResult(Ae,Ee,ze,Be,At)}{let vt=Be-1;for(;vt>=1;){let ht=Ae.getLineContent(vt);if($.ow(ht)>=0)break;vt--}if(vt<1||Be>Ae.getLineCount())return null;let At=Ae.getLineMaxColumn(vt),ve=v.zu.getEnterAction(this._autoIndent,Ae,new R.e(vt,At,vt,At));return this.parseEnterResult(Ae,Ee,ze,Be,ve)}}matchEnterRule(Ae,Ee,ze,Be,Ue,ot){let vt=Ue;for(;vt>=1;){let ht;if(ht=vt===Ue&&void 0!==ot?ot:Ae.getLineContent(vt),$.ow(ht)>=0)break;vt--}if(vt<1||Be>Ae.getLineCount())return null;let At=Ae.getLineMaxColumn(vt),ve=v.zu.getEnterAction(this._autoIndent,Ae,new R.e(vt,At,vt,At));return this.parseEnterResult(Ae,Ee,ze,Be,ve)}trimLeft(Ae){return Ae.replace(/^\s+/,"")}shouldAutoIndent(Ae,Ee){if(this._autoIndent<4||!Ae.isCheapToTokenize(Ee.startLineNumber))return!1;let ze=Ae.getLanguageIdAtPosition(Ee.startLineNumber,1);return!(ze!==Ae.getLanguageIdAtPosition(Ee.endLineNumber,1)||null===v.zu.getIndentRulesSupport(ze))}getIndentEditsOfMovingBlock(Ae,Ee,ze,Be,Ue,ot){for(let vt=ze.startLineNumber;vt<=ze.endLineNumber;vt++){let At=Ae.getLineContent(vt),ve=$.V8(At),Ge=M.Y(ve,Be)+ot,De=M.J(Ge,Be,Ue);De!==ve&&(Ee.addEditOperation(new R.e(vt,1,vt,ve.length+1),De),vt===ze.endLineNumber&&ze.endColumn<=ve.length+1&&""===De&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(Ae,Ee){let ze=Ee.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(ze=ze.setEndPosition(ze.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&ze.startLineNumber<ze.endLineNumber&&(ze=ze.setEndPosition(ze.endLineNumber,2)),ze}}let f=(()=>{class Ve{constructor(Ee,ze){this.selection=Ee,this.descending=ze,this.selectionId=null}static getCollator(){return Ve._COLLATOR||(Ve._COLLATOR=new Intl.Collator),Ve._COLLATOR}getEditOperations(Ee,ze){let Be=function(Ve,Ae,Ee){let ze=m(Ve,Ae,Ee);return ze?B.h.replace(new R.e(ze.startLineNumber,1,ze.endLineNumber,Ve.getLineMaxColumn(ze.endLineNumber)),ze.after.join("\n")):null}(Ee,this.selection,this.descending);Be&&ze.addEditOperation(Be.range,Be.text),this.selectionId=ze.trackSelection(this.selection)}computeCursorState(Ee,ze){return ze.getTrackedSelection(this.selectionId)}static canRun(Ee,ze,Be){if(null===Ee)return!1;let Ue=m(Ee,ze,Be);if(!Ue)return!1;for(let ot=0,vt=Ue.before.length;ot<vt;ot++)if(Ue.before[ot]!==Ue.after[ot])return!0;return!1}}return Ve._COLLATOR=null,Ve})();function m(Ve,Ae,Ee){let ze=Ae.startLineNumber,Be=Ae.endLineNumber;if(1===Ae.endColumn&&Be--,ze>=Be)return null;let Ue=[];for(let vt=ze;vt<=Be;vt++)Ue.push(Ve.getLineContent(vt));let ot=Ue.slice(0);return ot.sort(f.getCollator().compare),!0===Ee&&(ot=ot.reverse()),{startLineNumber:ze,endLineNumber:Be,before:Ue,after:ot}}var F=a(2836);class G extends O.R6{constructor(Ae,Ee){super(Ee),this.down=Ae}run(Ae,Ee){if(!Ee.hasModel())return;const ze=Ee.getSelections().map((ot,vt)=>({selection:ot,index:vt,ignore:!1}));ze.sort((ot,vt)=>R.e.compareRangesUsingStarts(ot.selection,vt.selection));let Be=ze[0];for(let ot=1;ot<ze.length;ot++){const vt=ze[ot];Be.selection.endLineNumber===vt.selection.startLineNumber&&(Be.index<vt.index?vt.ignore=!0:(Be.ignore=!0,Be=vt))}const Ue=[];for(const ot of ze)Ue.push(new w(ot.selection,this.down,ot.ignore));Ee.pushUndoStop(),Ee.executeCommands(this.id,Ue),Ee.pushUndoStop()}}class le extends O.R6{constructor(){super({id:"editor.action.duplicateSelection",label:T.N("duplicateSelection","Duplicate Selection"),alias:"Duplicate Selection",precondition:p.u.writable,menuOpts:{menuId:F.eH.MenubarSelectionMenu,group:"2_line",title:T.N({key:"miDuplicateSelection",comment:["&& denotes a mnemonic"]},"&&Duplicate Selection"),order:5}})}run(Ae,Ee,ze){if(!Ee.hasModel())return;const Be=[],Ue=Ee.getSelections(),ot=Ee.getModel();for(const vt of Ue)if(vt.isEmpty())Be.push(new w(vt,!0));else{const At=new I.Y(vt.endLineNumber,vt.endColumn,vt.endLineNumber,vt.endColumn);Be.push(new k.OY(At,ot.getValueInRange(vt)))}Ee.pushUndoStop(),Ee.executeCommands(this.id,Be),Ee.pushUndoStop()}}class ce extends O.R6{constructor(Ae,Ee){super(Ee),this.down=Ae}run(Ae,Ee){let ze=[],Be=Ee.getSelections()||[];const Ue=Ee.getOption(9);for(const ot of Be)ze.push(new _(ot,this.down,Ue));Ee.pushUndoStop(),Ee.executeCommands(this.id,ze),Ee.pushUndoStop()}}class V extends O.R6{constructor(Ae,Ee){super(Ee),this.descending=Ae}run(Ae,Ee){const ze=Ee.getSelections()||[];for(const Ue of ze)if(!f.canRun(Ee.getModel(),Ue,this.descending))return;let Be=[];for(let Ue=0,ot=ze.length;Ue<ot;Ue++)Be[Ue]=new f(ze[Ue],this.descending);Ee.pushUndoStop(),Ee.executeCommands(this.id,Be),Ee.pushUndoStop()}}class Z extends V{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:T.N("lines.sortAscending","Sort Lines Ascending"),alias:"Sort Lines Ascending",precondition:p.u.writable})}}class ie extends V{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:T.N("lines.sortDescending","Sort Lines Descending"),alias:"Sort Lines Descending",precondition:p.u.writable})}}let ue=(()=>{class Ve extends O.R6{constructor(){super({id:Ve.ID,label:T.N("lines.trimTrailingWhitespace","Trim Trailing Whitespace"),alias:"Trim Trailing Whitespace",precondition:p.u.writable,kbOpts:{kbExpr:p.u.editorTextFocus,primary:(0,U.gx)(2089,2102),weight:100}})}run(Ee,ze,Be){let Ue=[];"auto-save"===Be.reason&&(Ue=(ze.getSelections()||[]).map(At=>new b.L(At.positionLineNumber,At.positionColumn)));let ot=ze.getSelection();if(null===ot)return;let vt=new d(ot,Ue);ze.pushUndoStop(),ze.executeCommands(this.id,[vt]),ze.pushUndoStop()}}return Ve.ID="editor.action.trimTrailingWhitespace",Ve})();class oe extends O.R6{constructor(){super({id:"editor.action.deleteLines",label:T.N("lines.delete","Delete Line"),alias:"Delete Line",precondition:p.u.writable,kbOpts:{kbExpr:p.u.textInputFocus,primary:3113,weight:100}})}run(Ae,Ee){if(!Ee.hasModel())return;let ze=this._getLinesToRemove(Ee),Be=Ee.getModel();if(1===Be.getLineCount()&&1===Be.getLineMaxColumn(1))return;let Ue=0,ot=[],vt=[];for(let At=0,ve=ze.length;At<ve;At++){const ht=ze[At];let Ge=ht.startLineNumber,De=ht.endLineNumber,Le=1,dt=Be.getLineMaxColumn(De);De<Be.getLineCount()?(De+=1,dt=1):Ge>1&&(Ge-=1,Le=Be.getLineMaxColumn(Ge)),ot.push(B.h.replace(new I.Y(Ge,Le,De,dt),"")),vt.push(new I.Y(Ge-Ue,ht.positionColumn,Ge-Ue,ht.positionColumn)),Ue+=ht.endLineNumber-ht.startLineNumber+1}Ee.pushUndoStop(),Ee.executeEdits(this.id,ot,vt),Ee.pushUndoStop()}_getLinesToRemove(Ae){let Ee=Ae.getSelections().map(Ue=>{let ot=Ue.endLineNumber;return Ue.startLineNumber<Ue.endLineNumber&&1===Ue.endColumn&&(ot-=1),{startLineNumber:Ue.startLineNumber,selectionStartColumn:Ue.selectionStartColumn,endLineNumber:ot,positionColumn:Ue.positionColumn}});Ee.sort((Ue,ot)=>Ue.startLineNumber===ot.startLineNumber?Ue.endLineNumber-ot.endLineNumber:Ue.startLineNumber-ot.startLineNumber);let ze=[],Be=Ee[0];for(let Ue=1;Ue<Ee.length;Ue++)Be.endLineNumber+1>=Ee[Ue].startLineNumber?Be.endLineNumber=Ee[Ue].endLineNumber:(ze.push(Be),Be=Ee[Ue]);return ze.push(Be),ze}}class ee extends O.R6{constructor(){super({id:"editor.action.indentLines",label:T.N("lines.indent","Indent Line"),alias:"Indent Line",precondition:p.u.writable,kbOpts:{kbExpr:p.u.editorTextFocus,primary:2137,weight:100}})}run(Ae,Ee){const ze=Ee._getViewModel();!ze||(Ee.pushUndoStop(),Ee.executeCommands(this.id,g.u.indent(ze.cursorConfig,Ee.getModel(),Ee.getSelections())),Ee.pushUndoStop())}}class ne extends O.R6{constructor(){super({id:"editor.action.insertLineBefore",label:T.N("lines.insertBefore","Insert Line Above"),alias:"Insert Line Above",precondition:p.u.writable,kbOpts:{kbExpr:p.u.editorTextFocus,primary:3075,weight:100}})}run(Ae,Ee){const ze=Ee._getViewModel();!ze||(Ee.pushUndoStop(),Ee.executeCommands(this.id,g.u.lineInsertBefore(ze.cursorConfig,Ee.getModel(),Ee.getSelections())))}}class he extends O.R6{constructor(){super({id:"editor.action.insertLineAfter",label:T.N("lines.insertAfter","Insert Line Below"),alias:"Insert Line Below",precondition:p.u.writable,kbOpts:{kbExpr:p.u.editorTextFocus,primary:2051,weight:100}})}run(Ae,Ee){const ze=Ee._getViewModel();!ze||(Ee.pushUndoStop(),Ee.executeCommands(this.id,g.u.lineInsertAfter(ze.cursorConfig,Ee.getModel(),Ee.getSelections())))}}class ge extends O.R6{run(Ae,Ee){if(!Ee.hasModel())return;const ze=Ee.getSelection();let Be=this._getRangesToDelete(Ee),Ue=[];for(let At=0,ve=Be.length-1;At<ve;At++){let ht=Be[At],Ge=Be[At+1];null===R.e.intersectRanges(ht,Ge)?Ue.push(ht):Be[At+1]=R.e.plusRange(ht,Ge)}Ue.push(Be[Be.length-1]);let ot=this._getEndCursorState(ze,Ue),vt=Ue.map(At=>B.h.replace(At,""));Ee.pushUndoStop(),Ee.executeEdits(this.id,vt,ot),Ee.pushUndoStop()}}class re extends ge{constructor(){super({id:"deleteAllLeft",label:T.N("lines.deleteAllLeft","Delete All Left"),alias:"Delete All Left",precondition:p.u.writable,kbOpts:{kbExpr:p.u.textInputFocus,primary:0,mac:{primary:2049},weight:100}})}_getEndCursorState(Ae,Ee){let ze=null,Be=[],Ue=0;return Ee.forEach(ot=>{let vt;if(1===ot.endColumn&&Ue>0){let At=ot.startLineNumber-Ue;vt=new I.Y(At,ot.startColumn,At,ot.startColumn)}else vt=new I.Y(ot.startLineNumber,ot.startColumn,ot.startLineNumber,ot.startColumn);Ue+=ot.endLineNumber-ot.startLineNumber,ot.intersectRanges(Ae)?ze=vt:Be.push(vt)}),ze&&Be.unshift(ze),Be}_getRangesToDelete(Ae){let Ee=Ae.getSelections();if(null===Ee)return[];let ze=Ee,Be=Ae.getModel();return null===Be?[]:(ze.sort(R.e.compareRangesUsingStarts),ze=ze.map(Ue=>{if(Ue.isEmpty()){if(1===Ue.startColumn){let ot=Math.max(1,Ue.startLineNumber-1),vt=1===Ue.startLineNumber?1:Be.getLineContent(ot).length+1;return new R.e(ot,vt,Ue.startLineNumber,1)}return new R.e(Ue.startLineNumber,1,Ue.startLineNumber,Ue.startColumn)}return new R.e(Ue.startLineNumber,1,Ue.endLineNumber,Ue.endColumn)}),ze)}}class ye extends ge{constructor(){super({id:"deleteAllRight",label:T.N("lines.deleteAllRight","Delete All Right"),alias:"Delete All Right",precondition:p.u.writable,kbOpts:{kbExpr:p.u.textInputFocus,primary:0,mac:{primary:297,secondary:[2068]},weight:100}})}_getEndCursorState(Ae,Ee){let ze=null,Be=[];for(let Ue=0,ot=Ee.length,vt=0;Ue<ot;Ue++){let At=Ee[Ue],ve=new I.Y(At.startLineNumber-vt,At.startColumn,At.startLineNumber-vt,At.startColumn);At.intersectRanges(Ae)?ze=ve:Be.push(ve)}return ze&&Be.unshift(ze),Be}_getRangesToDelete(Ae){let Ee=Ae.getModel();if(null===Ee)return[];let ze=Ae.getSelections();if(null===ze)return[];let Be=ze.map(Ue=>{if(Ue.isEmpty()){const ot=Ee.getLineMaxColumn(Ue.startLineNumber);return Ue.startColumn===ot?new R.e(Ue.startLineNumber,Ue.startColumn,Ue.startLineNumber+1,1):new R.e(Ue.startLineNumber,Ue.startColumn,Ue.startLineNumber,ot)}return Ue});return Be.sort(R.e.compareRangesUsingStarts),Be}}class ke extends O.R6{constructor(){super({id:"editor.action.joinLines",label:T.N("lines.joinLines","Join Lines"),alias:"Join Lines",precondition:p.u.writable,kbOpts:{kbExpr:p.u.editorTextFocus,primary:0,mac:{primary:296},weight:100}})}run(Ae,Ee){let ze=Ee.getSelections();if(null===ze)return;let Be=Ee.getSelection();if(null===Be)return;ze.sort(R.e.compareRangesUsingStarts);let Ue=[],ot=ze.reduce((De,Le)=>De.isEmpty()?De.endLineNumber===Le.startLineNumber?(Be.equalsSelection(De)&&(Be=Le),Le):Le.startLineNumber>De.endLineNumber+1?(Ue.push(De),Le):new I.Y(De.startLineNumber,De.startColumn,Le.endLineNumber,Le.endColumn):Le.startLineNumber>De.endLineNumber?(Ue.push(De),Le):new I.Y(De.startLineNumber,De.startColumn,Le.endLineNumber,Le.endColumn));Ue.push(ot);let vt=Ee.getModel();if(null===vt)return;let At=[],ve=[],ht=Be,Ge=0;for(let De=0,Le=Ue.length;De<Le;De++){let pn,Qt,dt=Ue[De],_t=dt.startLineNumber,Nt=1,zt=0,Ht=vt.getLineContent(dt.endLineNumber).length-dt.endColumn;if(dt.isEmpty()||dt.startLineNumber===dt.endLineNumber){let bt=dt.getStartPosition();bt.lineNumber<vt.getLineCount()?(pn=_t+1,Qt=vt.getLineMaxColumn(pn)):(pn=bt.lineNumber,Qt=vt.getLineMaxColumn(bt.lineNumber))}else pn=dt.endLineNumber,Qt=vt.getLineMaxColumn(pn);let qt=vt.getLineContent(_t);for(let bt=_t+1;bt<=pn;bt++){let Rt=vt.getLineContent(bt),Dt=vt.getLineFirstNonWhitespaceColumn(bt);if(Dt>=1){let Xe=!0;""===qt&&(Xe=!1),Xe&&(" "===qt.charAt(qt.length-1)||"\t"===qt.charAt(qt.length-1))&&(Xe=!1,qt=qt.replace(/[\s\uFEFF\xA0]+$/g," "));let ft=Rt.substr(Dt-1);qt+=(Xe?" ":"")+ft,zt=Xe?ft.length+1:ft.length}else zt=0}let nt=new R.e(_t,Nt,pn,Qt);if(!nt.isEmpty()){let bt;dt.isEmpty()?(At.push(B.h.replace(nt,qt)),bt=new I.Y(nt.startLineNumber-Ge,qt.length-zt+1,_t-Ge,qt.length-zt+1)):dt.startLineNumber===dt.endLineNumber?(At.push(B.h.replace(nt,qt)),bt=new I.Y(dt.startLineNumber-Ge,dt.startColumn,dt.endLineNumber-Ge,dt.endColumn)):(At.push(B.h.replace(nt,qt)),bt=new I.Y(dt.startLineNumber-Ge,dt.startColumn,dt.startLineNumber-Ge,qt.length-Ht)),null!==R.e.intersectRanges(nt,Be)?ht=bt:ve.push(bt)}Ge+=nt.endLineNumber-nt.startLineNumber}ve.unshift(ht),Ee.pushUndoStop(),Ee.executeEdits(this.id,At,ve),Ee.pushUndoStop()}}class xe extends O.R6{constructor(){super({id:"editor.action.transpose",label:T.N("editor.transpose","Transpose characters around the cursor"),alias:"Transpose characters around the cursor",precondition:p.u.writable})}run(Ae,Ee){let ze=Ee.getSelections();if(null===ze)return;let Be=Ee.getModel();if(null===Be)return;let Ue=[];for(let ot=0,vt=ze.length;ot<vt;ot++){let At=ze[ot];if(!At.isEmpty())continue;let ve=At.getStartPosition(),ht=Be.getLineMaxColumn(ve.lineNumber);if(ve.column>=ht){if(ve.lineNumber===Be.getLineCount())continue;let Ge=new R.e(ve.lineNumber,Math.max(1,ve.column-1),ve.lineNumber+1,1),De=Be.getValueInRange(Ge).split("").reverse().join("");Ue.push(new k.T4(new I.Y(ve.lineNumber,Math.max(1,ve.column-1),ve.lineNumber+1,1),De))}else{let Ge=new R.e(ve.lineNumber,Math.max(1,ve.column-1),ve.lineNumber,ve.column+1),De=Be.getValueInRange(Ge).split("").reverse().join("");Ue.push(new k.hP(Ge,De,new I.Y(ve.lineNumber,ve.column+1,ve.lineNumber,ve.column+1)))}}Ee.pushUndoStop(),Ee.executeCommands(this.id,Ue),Ee.pushUndoStop()}}class Pe extends O.R6{run(Ae,Ee){const ze=Ee.getSelections();if(null===ze)return;const Be=Ee.getModel();if(null===Be)return;const Ue=Ee.getOption(114),ot=[];for(const vt of ze)if(vt.isEmpty()){const At=vt.getStartPosition(),ve=Ee.getConfiguredWordAtPosition(At);if(!ve)continue;const ht=new R.e(At.lineNumber,ve.startColumn,At.lineNumber,ve.endColumn),Ge=Be.getValueInRange(ht);ot.push(B.h.replace(ht,this._modifyText(Ge,Ue)))}else{const At=Be.getValueInRange(vt);ot.push(B.h.replace(vt,this._modifyText(At,Ue)))}Ee.pushUndoStop(),Ee.executeEdits(this.id,ot),Ee.pushUndoStop()}}class fe extends Pe{constructor(){super({id:"editor.action.transformToUppercase",label:T.N("editor.transformToUppercase","Transform to Uppercase"),alias:"Transform to Uppercase",precondition:p.u.writable})}_modifyText(Ae,Ee){return Ae.toLocaleUpperCase()}}class Te extends Pe{constructor(){super({id:"editor.action.transformToLowercase",label:T.N("editor.transformToLowercase","Transform to Lowercase"),alias:"Transform to Lowercase",precondition:p.u.writable})}_modifyText(Ae,Ee){return Ae.toLocaleLowerCase()}}class Ce extends Pe{constructor(){super({id:"editor.action.transformToTitlecase",label:T.N("editor.transformToTitlecase","Transform to Title Case"),alias:"Transform to Title Case",precondition:p.u.writable})}_modifyText(Ae,Ee){const Be=("\r\n\t "+Ee).split("");let Ue="",ot=!0;for(let vt=0;vt<Ae.length;vt++){let At=Ae[vt];Be.indexOf(At)>=0?(ot=!0,Ue+=At):ot?(ot=!1,Ue+=At.toLocaleUpperCase()):Ue+=At.toLocaleLowerCase()}return Ue}}class Je{constructor(Ae,Ee){this._pattern=Ae,this._flags=Ee,this._actual=null,this._evaluated=!1}get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch(Ae){}}return this._actual}isSupported(){return null!==this.get()}}class pe extends Pe{constructor(){super({id:"editor.action.transformToSnakecase",label:T.N("editor.transformToSnakecase","Transform to Snake Case"),alias:"Transform to Snake Case",precondition:p.u.writable})}_modifyText(Ae,Ee){const ze=pe.regExp1.get(),Be=pe.regExp2.get();return ze&&Be?Ae.replace(ze,"$1_$2").replace(Be,"$1_$2$3").toLocaleLowerCase():Ae}}pe.regExp1=new Je("(\\p{Ll})(\\p{Lu})","gmu"),pe.regExp2=new Je("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu"),(0,O.Qr)(class extends G{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:T.N("lines.copyUp","Copy Line Up"),alias:"Copy Line Up",precondition:p.u.writable,kbOpts:{kbExpr:p.u.editorTextFocus,primary:1552,linux:{primary:3600},weight:100},menuOpts:{menuId:F.eH.MenubarSelectionMenu,group:"2_line",title:T.N({key:"miCopyLinesUp",comment:["&& denotes a mnemonic"]},"&&Copy Line Up"),order:1}})}}),(0,O.Qr)(class extends G{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:T.N("lines.copyDown","Copy Line Down"),alias:"Copy Line Down",precondition:p.u.writable,kbOpts:{kbExpr:p.u.editorTextFocus,primary:1554,linux:{primary:3602},weight:100},menuOpts:{menuId:F.eH.MenubarSelectionMenu,group:"2_line",title:T.N({key:"miCopyLinesDown",comment:["&& denotes a mnemonic"]},"Co&&py Line Down"),order:2}})}}),(0,O.Qr)(le),(0,O.Qr)(class extends ce{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:T.N("lines.moveUp","Move Line Up"),alias:"Move Line Up",precondition:p.u.writable,kbOpts:{kbExpr:p.u.editorTextFocus,primary:528,linux:{primary:528},weight:100},menuOpts:{menuId:F.eH.MenubarSelectionMenu,group:"2_line",title:T.N({key:"miMoveLinesUp",comment:["&& denotes a mnemonic"]},"Mo&&ve Line Up"),order:3}})}}),(0,O.Qr)(class extends ce{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:T.N("lines.moveDown","Move Line Down"),alias:"Move Line Down",precondition:p.u.writable,kbOpts:{kbExpr:p.u.editorTextFocus,primary:530,linux:{primary:530},weight:100},menuOpts:{menuId:F.eH.MenubarSelectionMenu,group:"2_line",title:T.N({key:"miMoveLinesDown",comment:["&& denotes a mnemonic"]},"Move &&Line Down"),order:4}})}}),(0,O.Qr)(Z),(0,O.Qr)(ie),(0,O.Qr)(ue),(0,O.Qr)(oe),(0,O.Qr)(ee),(0,O.Qr)(class extends O.R6{constructor(){super({id:"editor.action.outdentLines",label:T.N("lines.outdent","Outdent Line"),alias:"Outdent Line",precondition:p.u.writable,kbOpts:{kbExpr:p.u.editorTextFocus,primary:2135,weight:100}})}run(Ae,Ee){j.CoreEditingCommands.Outdent.runEditorCommand(Ae,Ee,null)}}),(0,O.Qr)(ne),(0,O.Qr)(he),(0,O.Qr)(re),(0,O.Qr)(ye),(0,O.Qr)(ke),(0,O.Qr)(xe),(0,O.Qr)(fe),(0,O.Qr)(Te),(0,O.Qr)(Ce),pe.regExp1.isSupported()&&pe.regExp2.isSupported()&&(0,O.Qr)(pe)},8612:(Ct,Qe,a)=>{"use strict";a.r(Qe),a.d(Qe,{CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE:()=>F,LinkedEditingContribution:()=>Y,LinkedEditingAction:()=>de,editorLinkedEditingBackground:()=>be});var T=a(1606),U=a(4482),j=a(2291),O=a(1719),k=a(2109),$=a(9357),B=a(8487),R=a(6412),d=a(7922),C=a(111),g=a(2844),b=a(9549),I=a(6746),p=a(3779),w=a(5160),E=a(579),S=a(7251),v=a(6803),M=a(3727),_=a(2587),L=function(N,V,Z,ie){return new(Z||(Z=Promise))(function(oe,ee){function K(ge){try{he(ie.next(ge))}catch(re){ee(re)}}function ne(ge){try{he(ie.throw(ge))}catch(re){ee(re)}}function he(ge){ge.done?oe(ge.value):function(oe){return oe instanceof Z?oe:new Z(function(ee){ee(oe)})}(ge.value).then(K,ne)}he((ie=ie.apply(N,V||[])).next())})};const F=new g.uy("LinkedEditingInputVisible",!1),G="linked-editing-decoration";let Y=class Bw extends O.JT{constructor(V,Z){super(),this._debounceDuration=200,this._localToDispose=this._register(new O.SL),this._editor=V,this._enabled=!1,this._visibleContextKey=F.bindTo(Z),this._currentDecorations=[],this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new O.SL),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequest=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel(()=>this.reinitialize(!0))),this._register(this._editor.onDidChangeConfiguration(ie=>{(ie.hasChanged(59)||ie.hasChanged(79))&&this.reinitialize(!1)})),this._register(R.id.onDidChange(()=>this.reinitialize(!1))),this._register(this._editor.onDidChangeModelLanguage(()=>this.reinitialize(!0))),this.reinitialize(!0)}static get(V){return V.getContribution(Bw.ID)}reinitialize(V){const Z=this._editor.getModel(),ie=null!==Z&&(this._editor.getOption(59)||this._editor.getOption(79))&&R.id.has(Z);if(ie===this._enabled&&!V||(this._enabled=ie,this.clearRanges(),this._localToDispose.clear(),!ie||null===Z))return;this._languageWordPattern=_.zu.getWordDefinition(Z.getLanguageIdentifier().id),this._localToDispose.add(Z.onDidChangeLanguageConfiguration(()=>{this._languageWordPattern=_.zu.getWordDefinition(Z.getLanguageIdentifier().id)}));const ue=new d.vp(this._debounceDuration),oe=()=>{this._rangeUpdateTriggerPromise=ue.trigger(()=>this.updateRanges(),this._debounceDuration)},ee=new d.vp(0),K=ne=>{this._rangeSyncTriggerPromise=ee.trigger(()=>this._syncRanges(ne))};this._localToDispose.add(this._editor.onDidChangeCursorPosition(()=>{oe()})),this._localToDispose.add(this._editor.onDidChangeModelContent(ne=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){const he=Z.getDecorationRange(this._currentDecorations[0]);if(he&&ne.changes.every(ge=>he.intersectRanges(ge.range)))return void K(this._currentDecorations)}oe()})),this._localToDispose.add({dispose:()=>{ue.cancel(),ee.cancel()}}),this.updateRanges()}_syncRanges(V){if(!this._editor.hasModel()||V!==this._currentDecorations||0===V.length)return;const Z=this._editor.getModel(),ie=Z.getDecorationRange(V[0]);if(!ie||ie.startLineNumber!==ie.endLineNumber)return this.clearRanges();const ue=Z.getValueInRange(ie);if(this._currentWordPattern){const ee=ue.match(this._currentWordPattern);if((ee?ee[0].length:0)!==ue.length)return this.clearRanges()}let oe=[];for(let ee=1,K=V.length;ee<K;ee++){const ne=Z.getDecorationRange(V[ee]);if(ne)if(ne.startLineNumber!==ne.endLineNumber)oe.push({range:ne,text:ue});else{let he=Z.getValueInRange(ne),ge=ue,re=ne.startColumn,ye=ne.endColumn;const ke=E.Mh(he,ge);re+=ke,he=he.substr(ke),ge=ge.substr(ke);const xe=E.P1(he,ge);ye-=xe,he=he.substr(0,he.length-xe),ge=ge.substr(0,ge.length-xe),(re!==ye||0!==ge.length)&&oe.push({range:new B.e(ne.startLineNumber,re,ne.endLineNumber,ye),text:ge})}}if(0!==oe.length)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;const ee=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",oe),this._editor._getViewModel().setPrevEditOperationType(ee)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,[]),this._currentRequest&&(this._currentRequest.cancel(),this._currentRequest=null,this._currentRequestPosition=null)}updateRanges(V=!1){return L(this,void 0,void 0,function*(){if(!this._editor.hasModel())return void this.clearRanges();const Z=this._editor.getPosition();if(!this._enabled&&!V||this._editor.getSelections().length>1)return void this.clearRanges();const ie=this._editor.getModel(),ue=ie.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===ue){if(Z.equals(this._currentRequestPosition))return;if(this._currentDecorations&&this._currentDecorations.length>0){const ee=ie.getDecorationRange(this._currentDecorations[0]);if(ee&&ee.containsPosition(Z))return}}this._currentRequestPosition=Z,this._currentRequestModelVersion=ue;const oe=(0,d.PG)(ee=>L(this,void 0,void 0,function*(){try{const K=yield ce(ie,Z,ee);if(oe!==this._currentRequest||(this._currentRequest=null,ue!==ie.getVersionId()))return;let ne=[];(null==K?void 0:K.ranges)&&(ne=K.ranges),this._currentWordPattern=(null==K?void 0:K.wordPattern)||this._languageWordPattern;let he=!1;for(let re=0,ye=ne.length;re<ye;re++)if(B.e.containsPosition(ne[re],Z)){if(he=!0,0!==re){const ke=ne[re];ne.splice(re,1),ne.unshift(ke)}break}if(!he)return void this.clearRanges();const ge=ne.map(re=>({range:re,options:Bw.DECORATION}));this._visibleContextKey.set(!0),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,ge)}catch(K){(0,w.VV)(K)||(0,w.dL)(K),(this._currentRequest===oe||!this._currentRequest)&&this.clearRanges()}}));return this._currentRequest=oe,oe})}};var V;Y.ID="editor.contrib.linkedEditing",Y.DECORATION=C.qx.register({description:"linked-editing",stickiness:0,className:G}),Y=function(N,V,Z,ie){var ee,ue=arguments.length,oe=ue<3?V:null===ie?ie=Object.getOwnPropertyDescriptor(V,Z):ie;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)oe=Reflect.decorate(N,V,Z,ie);else for(var K=N.length-1;K>=0;K--)(ee=N[K])&&(oe=(ue<3?ee(oe):ue>3?ee(V,Z,oe):ee(V,Z))||oe);return ue>3&&oe&&Object.defineProperty(V,Z,oe),oe}([(1,V=g.i6,function(Z,ie){V(Z,ie,1)})],Y);class de extends U.R6{constructor(){super({id:"editor.action.linkedEditing",label:T.N("linkedEditing.label","Start Linked Editing"),alias:"Start Linked Editing",precondition:g.Ao.and(b.u.writable,b.u.hasRenameProvider),kbOpts:{kbExpr:b.u.editorTextFocus,primary:3132,weight:100}})}runCommand(V,Z){const ie=V.get(p.$),[ue,oe]=Array.isArray(Z)&&Z||[void 0,void 0];return I.o.isUri(ue)&&k.L.isIPosition(oe)?ie.openCodeEditor({resource:ue},ie.getActiveCodeEditor()).then(ee=>{!ee||(ee.setPosition(oe),ee.invokeWithinContext(K=>(this.reportTelemetry(K,ee),this.run(K,ee))))},w.dL):super.runCommand(V,Z)}run(V,Z){const ie=Y.get(Z);return ie?Promise.resolve(ie.updateRanges(!0)):Promise.resolve()}}const le=U._l.bindToContribution(Y.get);function ce(N,V,Z){const ie=R.id.ordered(N);return(0,d.Ps)(ie.map(ue=>()=>L(this,void 0,void 0,function*(){try{return yield ue.provideLinkedEditingRanges(N,V,Z)}catch(oe){return void(0,w.Cp)(oe)}})),ue=>!!ue&&j.Of(null==ue?void 0:ue.ranges))}(0,U.fK)(new le({id:"cancelLinkedEditingInput",precondition:F,handler:N=>N.clearRanges(),kbOpts:{kbExpr:b.u.editorTextFocus,weight:199,primary:9,secondary:[1033]}}));const be=(0,S.P6)("editor.linkedEditingBackground",{dark:M.Il.fromHex("#f00").transparent(.3),light:M.Il.fromHex("#f00").transparent(.3),hc:M.Il.fromHex("#f00").transparent(.3)},T.N("editorLinkedEditingBackground","Background color when the editor auto renames on type."));(0,v.Ic)((N,V)=>{const Z=N.getColor(be);Z&&V.addRule(`.monaco-editor .${G} { background: ${Z}; border-left-color: ${Z}; }`)}),(0,U.sb)("_executeLinkedEditingProvider",(N,V)=>ce(N,V,$.T.None)),(0,U._K)(Y.ID,Y),(0,U.Qr)(de)},1627:(Ct,Qe,a)=>{"use strict";a.r(Qe),a.d(Qe,{LinkDetector:()=>ue}),a(4380);var U=a(1606),j=a(7922),O=a(9357),k=a(5160),$=a(4303),B=a(1719),R=a(9190),d=a(4482),C=a(111),g=a(6412),b=a(7355),I=a(6746),p=a(8487),w=a(1954),E=a(8896),S=a(2291),v=a(1882),M=function(ee,K,ne,he){return new(ne||(ne=Promise))(function(re,ye){function ke(fe){try{Pe(he.next(fe))}catch(Te){ye(Te)}}function xe(fe){try{Pe(he.throw(fe))}catch(Te){ye(Te)}}function Pe(fe){fe.done?re(fe.value):function(re){return re instanceof ne?re:new ne(function(ye){ye(re)})}(fe.value).then(ke,xe)}Pe((he=he.apply(ee,K||[])).next())})};class _{constructor(K,ne){this._link=K,this._provider=ne}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}resolve(K){return M(this,void 0,void 0,function*(){return this._link.url?this._link.url:"function"==typeof this._provider.resolveLink?Promise.resolve(this._provider.resolveLink(this._link,K)).then(ne=>(this._link=ne||this._link,this._link.url?this.resolve(K):Promise.reject(new Error("missing")))):Promise.reject(new Error("missing"))})}}class f{constructor(K){this._disposables=new B.SL;let ne=[];for(const[he,ge]of K){const re=he.links.map(ye=>new _(ye,ge));ne=f._union(ne,re),(0,B.Wf)(he)&&this._disposables.add(he)}this.links=ne}dispose(){this._disposables.dispose(),this.links.length=0}static _union(K,ne){let ge,re,ye,ke,he=[];for(ge=0,ye=0,re=K.length,ke=ne.length;ge<re&&ye<ke;){const xe=K[ge],Pe=ne[ye];p.e.areIntersectingOrTouching(xe.range,Pe.range)?ge++:p.e.compareRangesUsingStarts(xe.range,Pe.range)<0?(he.push(xe),ge++):(he.push(Pe),ye++)}for(;ge<re;ge++)he.push(K[ge]);for(;ye<ke;ye++)he.push(ne[ye]);return he}}function m(ee,K){const ne=[],he=g.pM.ordered(ee).reverse().map((ge,re)=>Promise.resolve(ge.provideLinks(ee,K)).then(ye=>{ye&&(ne[re]=[ye,ge])},k.Cp));return Promise.all(he).then(()=>{const ge=new f((0,S.kX)(ne));return K.isCancellationRequested?(ge.dispose(),new f([])):ge})}E.P.registerCommand("_executeLinkProvider",(ee,...K)=>M(void 0,void 0,void 0,function*(){let[ne,he]=K;(0,v.p_)(ne instanceof I.o),"number"!=typeof he&&(he=0);const ge=ee.get(w.q).getModel(ne);if(!ge)return[];const re=yield m(ge,O.T.None);if(!re)return[];for(let ke=0;ke<Math.min(he,re.links.length);ke++)yield re.links[ke].resolve(O.T.None);const ye=re.links.slice(0);return re.dispose(),ye}));var L=a(1004),F=a(1227),G=a(7251),Y=a(6803),de=a(6857),le=a(8401),be=function(ee,K){return function(ne,he){K(ne,he,ee)}};const Z={general:C.qx.register({description:"detected-link",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:C.qx.register({description:"detected-link-active",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})};class ie{constructor(K,ne){this.link=K,this.decorationId=ne}static decoration(K,ne){return{range:K.range,options:ie._getOptions(K,ne,!1)}}static _getOptions(K,ne,he){const ge=Object.assign({},he?Z.active:Z.general);return ge.hoverMessage=function(ee,K){const ne=ee.url&&/^command:/i.test(ee.url.toString()),he=ee.tooltip?ee.tooltip:ne?U.N("links.navigate.executeCmd","Execute command"):U.N("links.navigate.follow","Follow link"),ge=K?R.dz?U.N("links.navigate.kb.meta.mac","cmd + click"):U.N("links.navigate.kb.meta","ctrl + click"):R.dz?U.N("links.navigate.kb.alt.mac","option + click"):U.N("links.navigate.kb.alt","alt + click");if(ee.url){let re="";if(/^command:/i.test(ee.url.toString())){const ke=ee.url.toString().match(/^command:([^?#]+)/);ke&&(re=` "${U.N("tooltip.explanation","Execute command {0}",ke[1])}"`)}return new $.W5("",!0).appendMarkdown(`[${he}](${ee.url.toString(!0)}${re}) (${ge})`)}return(new $.W5).appendText(`${he} (${ge})`)}(K,ne),ge}activate(K,ne){K.changeDecorationOptions(this.decorationId,ie._getOptions(this.link,ne,!0))}deactivate(K,ne){K.changeDecorationOptions(this.decorationId,ie._getOptions(this.link,ne,!1))}}let ue=class Vw{constructor(K,ne,he){this.listenersToRemove=new B.SL,this.editor=K,this.openerService=ne,this.notificationService=he;let ge=new b.yN(K);this.listenersToRemove.add(ge),this.listenersToRemove.add(ge.onMouseMoveOrRelevantKeyDown(([re,ye])=>{this._onEditorMouseMove(re,ye)})),this.listenersToRemove.add(ge.onExecute(re=>{this.onEditorMouseUp(re)})),this.listenersToRemove.add(ge.onCancel(re=>{this.cleanUpActiveLinkDecoration()})),this.enabled=K.getOption(60),this.listenersToRemove.add(K.onDidChangeConfiguration(re=>{const ye=K.getOption(60);this.enabled!==ye&&(this.enabled=ye,this.updateDecorations([]),this.stop(),this.beginCompute())})),this.listenersToRemove.add(K.onDidChangeModelContent(re=>this.onChange())),this.listenersToRemove.add(K.onDidChangeModel(re=>this.onModelChanged())),this.listenersToRemove.add(K.onDidChangeModelLanguage(re=>this.onModelModeChanged())),this.listenersToRemove.add(g.pM.onDidChange(re=>this.onModelModeChanged())),this.timeout=new j._F,this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null,this.beginCompute()}static get(K){return K.getContribution(Vw.ID)}onModelChanged(){this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.beginCompute()}onModelModeChanged(){this.stop(),this.beginCompute()}onChange(){this.timeout.setIfNotSet(()=>this.beginCompute(),Vw.RECOMPUTE_TIME)}beginCompute(){return ee=this,K=void 0,he=function*(){if(!this.editor.hasModel()||!this.enabled)return;const K=this.editor.getModel();if(g.pM.has(K)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=j.PG(ne=>m(K,ne));try{this.activeLinksList=yield this.computePromise,this.updateDecorations(this.activeLinksList.links)}catch(ne){(0,k.dL)(ne)}finally{this.computePromise=null}}},new((ne=void 0)||(ne=Promise))(function(re,ye){function ke(fe){try{Pe(he.next(fe))}catch(Te){ye(Te)}}function xe(fe){try{Pe(he.throw(fe))}catch(Te){ye(Te)}}function Pe(fe){fe.done?re(fe.value):function(re){return re instanceof ne?re:new ne(function(ye){ye(re)})}(fe.value).then(ke,xe)}Pe((he=he.apply(ee,K||[])).next())});var ee,K,ne,he}updateDecorations(K){const ne="altKey"===this.editor.getOption(67);let he=[],ge=Object.keys(this.currentOccurrences);for(let ke=0,xe=ge.length;ke<xe;ke++)he.push(this.currentOccurrences[ge[ke]].decorationId);let re=[];if(K)for(const ke of K)re.push(ie.decoration(ke,ne));let ye=this.editor.deltaDecorations(he,re);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let ke=0,xe=ye.length;ke<xe;ke++){let Pe=new ie(K[ke],ye[ke]);this.currentOccurrences[Pe.decorationId]=Pe}}_onEditorMouseMove(K,ne){const he="altKey"===this.editor.getOption(67);if(this.isEnabled(K,ne)){this.cleanUpActiveLinkDecoration();const ge=this.getLinkOccurrence(K.target.position);ge&&this.editor.changeDecorations(re=>{ge.activate(re,he),this.activeLinkDecorationId=ge.decorationId})}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){const K="altKey"===this.editor.getOption(67);if(this.activeLinkDecorationId){const ne=this.currentOccurrences[this.activeLinkDecorationId];ne&&this.editor.changeDecorations(he=>{ne.deactivate(he,K)}),this.activeLinkDecorationId=null}}onEditorMouseUp(K){if(!this.isEnabled(K))return;const ne=this.getLinkOccurrence(K.target.position);!ne||this.openLinkOccurrence(ne,K.hasSideBySideModifier,!0)}openLinkOccurrence(K,ne,he=!1){if(!this.openerService)return;const{link:ge}=K;ge.resolve(O.T.None).then(re=>{if("string"==typeof re&&this.editor.hasModel()){const ye=this.editor.getModel().uri;if(ye.scheme===de.lg.file&&re.startsWith(`${de.lg.file}:`)){const ke=I.o.parse(re);if(ke.scheme===de.lg.file){const xe=le.z_(ke);let Pe=null;xe.startsWith("/./")?Pe=`.${xe.substr(1)}`:xe.startsWith("//./")&&(Pe=`.${xe.substr(2)}`),Pe&&(re=le.Vo(ye,Pe))}}}return this.openerService.open(re,{openToSide:ne,fromUserGesture:he,allowContributedOpeners:!0,allowCommands:!0})},re=>{const ye=re instanceof Error?re.message:re;"invalid"===ye?this.notificationService.warn(U.N("invalid.url","Failed to open this link because it is not well-formed: {0}",ge.url.toString())):"missing"===ye?this.notificationService.warn(U.N("missing.url","Failed to open this link because its target is missing.")):(0,k.dL)(re)})}getLinkOccurrence(K){if(!this.editor.hasModel()||!K)return null;const ne=this.editor.getModel().getDecorationsInRange({startLineNumber:K.lineNumber,startColumn:K.column,endLineNumber:K.lineNumber,endColumn:K.column},0,!0);for(const he of ne){const ge=this.currentOccurrences[he.id];if(ge)return ge}return null}isEnabled(K,ne){return Boolean(6===K.target.type&&(K.hasTriggerModifier||ne&&ne.keyCodeIsTriggerKey))}stop(){var K;this.timeout.cancel(),this.activeLinksList&&(null===(K=this.activeLinksList)||void 0===K||K.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){this.listenersToRemove.dispose(),this.stop(),this.timeout.dispose()}};ue.ID="editor.linkDetector",ue.RECOMPUTE_TIME=1e3,ue=function(ee,K,ne,he){var ye,ge=arguments.length,re=ge<3?K:null===he?he=Object.getOwnPropertyDescriptor(K,ne):he;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)re=Reflect.decorate(ee,K,ne,he);else for(var ke=ee.length-1;ke>=0;ke--)(ye=ee[ke])&&(re=(ge<3?ye(re):ge>3?ye(K,ne,re):ye(K,ne))||re);return ge>3&&re&&Object.defineProperty(K,ne,re),re}([be(1,F.v4),be(2,L.lT)],ue),(0,d._K)(ue.ID,ue),(0,d.Qr)(class extends d.R6{constructor(){super({id:"editor.action.openLink",label:U.N("label","Open Link"),alias:"Open Link",precondition:void 0})}run(K,ne){let he=ue.get(ne);if(!he||!ne.hasModel())return;let ge=ne.getSelections();for(let re of ge){let ye=he.getLinkOccurrence(re.getEndPosition());ye&&he.openLinkOccurrence(ye,!1)}}}),(0,Y.Ic)((ee,K)=>{const ne=ee.getColor(G._Y);ne&&K.addRule(`.monaco-editor .detected-link-active { color: ${ne} !important; }`)})},9152:(Ct,Qe,a)=>{"use strict";a.d(Qe,{O:()=>p}),a(1035);var U=a(1606),j=a(7922),O=a(1719),k=a(7579),$=a(8487),B=a(4482),R=a(2844),d=a(6803),C=a(7251),g=a(786);let p=class Ww{constructor(v,M){this._messageWidget=new O.XK,this._messageListeners=new O.SL,this._editor=v,this._visible=Ww.MESSAGE_VISIBLE.bindTo(M),this._editorListener=this._editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit())}static get(v){return v.getContribution(Ww.ID)}dispose(){this._editorListener.dispose(),this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(v,M){let _;(0,k.Z9)(v),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._messageWidget.value=new E(this._editor,M,v),this._messageListeners.add(this._editor.onDidBlurEditorText(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeCursorPosition(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidDispose(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeModel(()=>this.closeMessage())),this._messageListeners.add(new j._F(()=>this.closeMessage(),3e3)),this._messageListeners.add(this._editor.onMouseMove(f=>{!f.target.position||(_?_.containsPosition(f.target.position)||this.closeMessage():_=new $.e(M.lineNumber-3,1,f.target.position.lineNumber+3,1))}))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(E.fadeOut(this._messageWidget.value))}_onDidAttemptReadOnlyEdit(){this._editor.hasModel()&&this.showMessage(U.N("editor.readonly","Cannot edit in read-only editor"),this._editor.getPosition())}};var v;p.ID="editor.contrib.messageController",p.MESSAGE_VISIBLE=new R.uy("messageVisible",!1,U.N("messageVisible","Whether the editor is currently showing an inline message")),p=function(S,v,M,_){var L,f=arguments.length,m=f<3?v:null===_?_=Object.getOwnPropertyDescriptor(v,M):_;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)m=Reflect.decorate(S,v,M,_);else for(var F=S.length-1;F>=0;F--)(L=S[F])&&(m=(f<3?L(m):f>3?L(v,M,m):L(v,M))||m);return f>3&&m&&Object.defineProperty(v,M,m),m}([(1,v=R.i6,function(M,_){v(M,_,1)})],p);const w=B._l.bindToContribution(p.get);(0,B.fK)(new w({id:"leaveEditorMessage",precondition:p.MESSAGE_VISIBLE,handler:S=>S.closeMessage(),kbOpts:{weight:130,primary:9}}));class E{constructor(v,{lineNumber:M,column:_},f){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=v,this._editor.revealLinesInCenterIfOutsideViewport(M,M,0),this._position={lineNumber:M,column:_-1},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage");const m=document.createElement("div");m.classList.add("anchor","top"),this._domNode.appendChild(m);const L=document.createElement("div");L.classList.add("message"),L.textContent=f,this._domNode.appendChild(L);const F=document.createElement("div");F.classList.add("anchor","below"),this._domNode.appendChild(F),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}static fadeOut(v){let M;const _=()=>{v.dispose(),clearTimeout(M),v.getDomNode().removeEventListener("animationend",_)};return M=setTimeout(_,110),v.getDomNode().addEventListener("animationend",_),v.getDomNode().classList.add("fadeOut"),{dispose:_}}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2]}}afterRender(v){this._domNode.classList.toggle("below",2===v)}}(0,B._K)(p.ID,p),(0,d.Ic)((S,v)=>{const M=S.getColor(C.EP);if(M){let m=S.type===g.e.HIGH_CONTRAST?2:1;v.addRule(`.monaco-editor .monaco-editor-overlaymessage .anchor.below { border-top-color: ${M}; }`),v.addRule(`.monaco-editor .monaco-editor-overlaymessage .anchor.top { border-bottom-color: ${M}; }`),v.addRule(`.monaco-editor .monaco-editor-overlaymessage .message { border: ${m}px solid ${M}; }`)}const _=S.getColor(C._l);_&&v.addRule(`.monaco-editor .monaco-editor-overlaymessage .message { background-color: ${_}; }`);const f=S.getColor(C.YI);f&&v.addRule(`.monaco-editor .monaco-editor-overlaymessage .message { color: ${f}; }`)})},2974:(Ct,Qe,a)=>{"use strict";a.r(Qe),a.d(Qe,{InsertCursorAbove:()=>_,InsertCursorBelow:()=>f,MultiCursorSessionResult:()=>G,MultiCursorSession:()=>Y,MultiCursorSelectionController:()=>de,MultiCursorSelectionControllerAction:()=>le,AddSelectionToNextFindMatchAction:()=>ce,AddSelectionToPreviousFindMatchAction:()=>be,MoveSelectionToNextFindMatchAction:()=>N,MoveSelectionToPreviousFindMatchAction:()=>V,SelectHighlightsAction:()=>Z,CompatChangeAll:()=>ie,SelectionHighlighter:()=>oe});var T=a(1606),U=a(7922),j=a(4807),O=a(1719),k=a(7579),$=a(4482),B=a(2281),R=a(8487),d=a(9730),C=a(9549),g=a(2902),b=a(111),I=a(6412),p=a(9638),w=a(2836),E=a(7251),S=a(6803),v=a(2844);function M(ne,he){const ge=he.filter(re=>!ne.find(ye=>ye.equals(re)));if(ge.length>=1){const re=ge.map(ke=>`line ${ke.viewState.position.lineNumber} column ${ke.viewState.position.column}`).join(", "),ye=1===ge.length?T.N("cursorAdded","Cursor added: {0}",re):T.N("cursorsAdded","Cursors added: {0}",re);(0,k.i7)(ye)}}class _ extends $.R6{constructor(){super({id:"editor.action.insertCursorAbove",label:T.N("mutlicursor.insertAbove","Add Cursor Above"),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:C.u.editorTextFocus,primary:2576,linux:{primary:1552,secondary:[3088]},weight:100},menuOpts:{menuId:w.eH.MenubarSelectionMenu,group:"3_multi",title:T.N({key:"miInsertCursorAbove",comment:["&& denotes a mnemonic"]},"&&Add Cursor Above"),order:2}})}run(he,ge,re){if(!ge.hasModel())return;const ye=re&&!0===re.logicalLine,ke=ge._getViewModel();if(ke.cursorConfig.readOnly)return;ke.pushStackElement();const xe=ke.getCursorStates();ke.setCursorStates(re.source,3,B.P.addCursorUp(ke,xe,ye)),ke.revealTopMostCursor(re.source),M(xe,ke.getCursorStates())}}class f extends $.R6{constructor(){super({id:"editor.action.insertCursorBelow",label:T.N("mutlicursor.insertBelow","Add Cursor Below"),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:C.u.editorTextFocus,primary:2578,linux:{primary:1554,secondary:[3090]},weight:100},menuOpts:{menuId:w.eH.MenubarSelectionMenu,group:"3_multi",title:T.N({key:"miInsertCursorBelow",comment:["&& denotes a mnemonic"]},"A&&dd Cursor Below"),order:3}})}run(he,ge,re){if(!ge.hasModel())return;const ye=re&&!0===re.logicalLine,ke=ge._getViewModel();if(ke.cursorConfig.readOnly)return;ke.pushStackElement();const xe=ke.getCursorStates();ke.setCursorStates(re.source,3,B.P.addCursorDown(ke,xe,ye)),ke.revealBottomMostCursor(re.source),M(xe,ke.getCursorStates())}}class G{constructor(he,ge,re){this.selections=he,this.revealRange=ge,this.revealScrollType=re}}class Y{constructor(he,ge,re,ye,ke,xe,Pe){this._editor=he,this.findController=ge,this.isDisconnectedFromFindController=re,this.searchText=ye,this.wholeWord=ke,this.matchCase=xe,this.currentMatch=Pe}static create(he,ge){if(!he.hasModel())return null;const re=ge.getState();if(!he.hasTextFocus()&&re.isRevealed&&re.searchString.length>0)return new Y(he,ge,!1,re.searchString,re.wholeWord,re.matchCase,null);let ke,xe,ye=!1;const Pe=he.getSelections();1===Pe.length&&Pe[0].isEmpty()?(ye=!0,ke=!0,xe=!0):(ke=re.wholeWord,xe=re.matchCase);const fe=he.getSelection();let Te,Ce=null;if(fe.isEmpty()){const Je=he.getConfiguredWordAtPosition(fe.getStartPosition());if(!Je)return null;Te=Je.word,Ce=new d.Y(fe.startLineNumber,Je.startColumn,fe.startLineNumber,Je.endColumn)}else Te=he.getModel().getValueInRange(fe).replace(/\r\n/g,"\n");return new Y(he,ge,ye,Te,ke,xe,Ce)}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const he=this._getNextMatch();if(!he)return null;const ge=this._editor.getSelections();return new G(ge.concat(he),he,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const he=this._getNextMatch();if(!he)return null;const ge=this._editor.getSelections();return new G(ge.slice(0,ge.length-1).concat(he),he,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const ye=this.currentMatch;return this.currentMatch=null,ye}this.findController.highlightFindOptions();const he=this._editor.getSelections(),ge=he[he.length-1],re=this._editor.getModel().findNextMatch(this.searchText,ge.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(114):null,!1);return re?new d.Y(re.range.startLineNumber,re.range.startColumn,re.range.endLineNumber,re.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const he=this._getPreviousMatch();if(!he)return null;const ge=this._editor.getSelections();return new G(ge.concat(he),he,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const he=this._getPreviousMatch();if(!he)return null;const ge=this._editor.getSelections();return new G(ge.slice(0,ge.length-1).concat(he),he,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const ye=this.currentMatch;return this.currentMatch=null,ye}this.findController.highlightFindOptions();const he=this._editor.getSelections(),ge=he[he.length-1],re=this._editor.getModel().findPreviousMatch(this.searchText,ge.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(114):null,!1);return re?new d.Y(re.range.startLineNumber,re.range.startColumn,re.range.endLineNumber,re.range.endColumn):null}selectAll(){return this._editor.hasModel()?(this.findController.highlightFindOptions(),this._editor.getModel().findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(114):null,!1,1073741824)):[]}}let de=(()=>{class ne extends O.JT{constructor(ge){super(),this._sessionDispose=this._register(new O.SL),this._editor=ge,this._ignoreSelectionChange=!1,this._session=null}static get(ge){return ge.getContribution(ne.ID)}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(ge){if(!this._session){const re=Y.create(this._editor,ge);if(!re)return;this._session=re;const ye={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(ye.wholeWordOverride=1,ye.matchCaseOverride=1,ye.isRegexOverride=2),ge.getState().change(ye,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(ke=>{this._ignoreSelectionChange||this._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(()=>{this._endSession()})),this._sessionDispose.add(ge.getState().onFindReplaceStateChange(ke=>{(ke.matchCase||ke.wholeWord)&&this._endSession()}))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){const ge={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(ge,!1)}this._session=null}_setSelections(ge){this._ignoreSelectionChange=!0,this._editor.setSelections(ge),this._ignoreSelectionChange=!1}_expandEmptyToWord(ge,re){if(!re.isEmpty())return re;const ye=this._editor.getConfiguredWordAtPosition(re.getStartPosition());return ye?new d.Y(re.startLineNumber,ye.startColumn,re.startLineNumber,ye.endColumn):re}_applySessionResult(ge){!ge||(this._setSelections(ge.selections),ge.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(ge.revealRange,ge.revealScrollType))}getSession(ge){return this._session}addSelectionToNextFindMatch(ge){if(this._editor.hasModel()){if(!this._session){const re=this._editor.getSelections();if(re.length>1){const ke=ge.getState().matchCase;if(!ee(this._editor.getModel(),re,ke)){const Pe=this._editor.getModel();let fe=[];for(let Te=0,Ce=re.length;Te<Ce;Te++)fe[Te]=this._expandEmptyToWord(Pe,re[Te]);return void this._editor.setSelections(fe)}}}this._beginSessionIfNeeded(ge),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(ge){this._beginSessionIfNeeded(ge),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(ge){this._beginSessionIfNeeded(ge),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(ge){this._beginSessionIfNeeded(ge),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(ge){if(!this._editor.hasModel())return;let re=null;const ye=ge.getState();if(ye.isRevealed&&ye.searchString.length>0&&ye.isRegex)re=this._editor.getModel().findMatches(ye.searchString,!0,ye.isRegex,ye.matchCase,ye.wholeWord?this._editor.getOption(114):null,!1,1073741824);else{if(this._beginSessionIfNeeded(ge),!this._session)return;re=this._session.selectAll()}if(ye.searchScope){const ke=ye.searchScope;let xe=[];re.forEach(Pe=>{ke.forEach(fe=>{Pe.range.endLineNumber<=fe.endLineNumber&&Pe.range.startLineNumber>=fe.startLineNumber&&xe.push(Pe)})}),re=xe}if(re.length>0){const ke=this._editor.getSelection();for(let xe=0,Pe=re.length;xe<Pe;xe++){const fe=re[xe];if(fe.range.intersectRanges(ke)){re[xe]=re[0],re[0]=fe;break}}this._setSelections(re.map(xe=>new d.Y(xe.range.startLineNumber,xe.range.startColumn,xe.range.endLineNumber,xe.range.endColumn)))}}}return ne.ID="editor.contrib.multiCursorController",ne})();class le extends $.R6{run(he,ge){const re=de.get(ge);if(!re)return;const ye=p.CommonFindController.get(ge);if(!ye)return;const ke=ge._getViewModel();if(ke){const xe=ke.getCursorStates();this._run(re,ye),M(xe,ke.getCursorStates())}}}class ce extends le{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:T.N("addSelectionToNextFindMatch","Add Selection To Next Find Match"),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:C.u.focus,primary:2082,weight:100},menuOpts:{menuId:w.eH.MenubarSelectionMenu,group:"3_multi",title:T.N({key:"miAddSelectionToNextFindMatch",comment:["&& denotes a mnemonic"]},"Add &&Next Occurrence"),order:5}})}_run(he,ge){he.addSelectionToNextFindMatch(ge)}}class be extends le{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:T.N("addSelectionToPreviousFindMatch","Add Selection To Previous Find Match"),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:w.eH.MenubarSelectionMenu,group:"3_multi",title:T.N({key:"miAddSelectionToPreviousFindMatch",comment:["&& denotes a mnemonic"]},"Add P&&revious Occurrence"),order:6}})}_run(he,ge){he.addSelectionToPreviousFindMatch(ge)}}class N extends le{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:T.N("moveSelectionToNextFindMatch","Move Last Selection To Next Find Match"),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:C.u.focus,primary:(0,j.gx)(2089,2082),weight:100}})}_run(he,ge){he.moveSelectionToNextFindMatch(ge)}}class V extends le{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:T.N("moveSelectionToPreviousFindMatch","Move Last Selection To Previous Find Match"),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run(he,ge){he.moveSelectionToPreviousFindMatch(ge)}}class Z extends le{constructor(){super({id:"editor.action.selectHighlights",label:T.N("selectAllOccurrencesOfFindMatch","Select All Occurrences of Find Match"),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:C.u.focus,primary:3114,weight:100},menuOpts:{menuId:w.eH.MenubarSelectionMenu,group:"3_multi",title:T.N({key:"miSelectHighlights",comment:["&& denotes a mnemonic"]},"Select All &&Occurrences"),order:7}})}_run(he,ge){he.selectAll(ge)}}class ie extends le{constructor(){super({id:"editor.action.changeAll",label:T.N("changeAll.label","Change All Occurrences"),alias:"Change All Occurrences",precondition:v.Ao.and(C.u.writable,C.u.editorTextFocus),kbOpts:{kbExpr:C.u.editorTextFocus,primary:2108,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(he,ge){he.selectAll(ge)}}class ue{constructor(he,ge,re,ye){this.searchText=he,this.matchCase=ge,this.wordSeparators=re,this.modelVersionId=ye}static softEquals(he,ge){return!he&&!ge||!(!he||!ge)&&he.searchText===ge.searchText&&he.matchCase===ge.matchCase&&he.wordSeparators===ge.wordSeparators&&he.modelVersionId===ge.modelVersionId}}class oe extends O.JT{constructor(he){super(),this.editor=he,this._isEnabled=he.getOption(95),this.decorations=[],this.updateSoon=this._register(new U.pY(()=>this._update(),300)),this.state=null,this._register(he.onDidChangeConfiguration(ge=>{this._isEnabled=he.getOption(95)})),this._register(he.onDidChangeCursorSelection(ge=>{!this._isEnabled||(ge.selection.isEmpty()?3===ge.reason?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())})),this._register(he.onDidChangeModel(ge=>{this._setState(null)})),this._register(he.onDidChangeModelContent(ge=>{this._isEnabled&&this.updateSoon.schedule()})),this._register(p.CommonFindController.get(he).getState().onFindReplaceStateChange(ge=>{this._update()}))}_update(){this._setState(oe._createState(this._isEnabled,this.editor))}static _createState(he,ge){if(!he||!ge.hasModel())return null;const re=ge.getSelection();if(re.startLineNumber!==re.endLineNumber)return null;const ye=de.get(ge);if(!ye)return null;const ke=p.CommonFindController.get(ge);if(!ke)return null;let xe=ye.getSession(ke);if(!xe){const Te=ge.getSelections();if(Te.length>1){const Je=ke.getState().matchCase;if(!ee(ge.getModel(),Te,Je))return null}xe=Y.create(ge,ke)}if(!xe||xe.currentMatch||/^[ \t]+$/.test(xe.searchText)||xe.searchText.length>200)return null;const Pe=ke.getState(),fe=Pe.matchCase;if(Pe.isRevealed){let Te=Pe.searchString;fe||(Te=Te.toLowerCase());let Ce=xe.searchText;if(fe||(Ce=Ce.toLowerCase()),Te===Ce&&xe.matchCase===Pe.matchCase&&xe.wholeWord===Pe.wholeWord&&!Pe.isRegex)return null}return new ue(xe.searchText,xe.matchCase,xe.wholeWord?ge.getOption(114):null,ge.getModel().getVersionId())}_setState(he){if(ue.softEquals(this.state,he))return void(this.state=he);if(this.state=he,!this.state)return void(this.decorations=this.editor.deltaDecorations(this.decorations,[]));if(!this.editor.hasModel())return;const ge=this.editor.getModel();if(ge.isTooLargeForTokenization())return;const re=I.vH.has(ge)&&this.editor.getOption(69);let ye=ge.findMatches(this.state.searchText,!0,!1,this.state.matchCase,this.state.wordSeparators,!1).map(fe=>fe.range);ye.sort(R.e.compareRangesUsingStarts);let ke=this.editor.getSelections();ke.sort(R.e.compareRangesUsingStarts);let xe=[];for(let fe=0,Te=0,Ce=ye.length,Je=ke.length;fe<Ce;){const pe=ye[fe];if(Te>=Je)xe.push(pe),fe++;else{const Ve=R.e.compareRangesUsingStarts(pe,ke[Te]);Ve<0?((ke[Te].isEmpty()||!R.e.areIntersecting(pe,ke[Te]))&&xe.push(pe),fe++):(Ve>0||fe++,Te++)}}const Pe=xe.map(fe=>({range:fe,options:re?oe._SELECTION_HIGHLIGHT:oe._SELECTION_HIGHLIGHT_OVERVIEW}));this.decorations=this.editor.deltaDecorations(this.decorations,Pe)}dispose(){this._setState(null),super.dispose()}}function ee(ne,he,ge){const re=K(ne,he[0],!ge);for(let ye=1,ke=he.length;ye<ke;ye++){const xe=he[ye];if(xe.isEmpty())return!1;if(re!==K(ne,xe,!ge))return!1}return!0}function K(ne,he,ge){const re=ne.getValueInRange(he);return ge?re.toLowerCase():re}oe.ID="editor.contrib.selectionHighlighter",oe._SELECTION_HIGHLIGHT_OVERVIEW=b.qx.register({description:"selection-highlight-overview",stickiness:1,className:"selectionHighlight",overviewRuler:{color:(0,S.EN)(E.SP),position:g.sh.Center}}),oe._SELECTION_HIGHLIGHT=b.qx.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight"}),(0,$._K)(de.ID,de),(0,$._K)(oe.ID,oe),(0,$.Qr)(_),(0,$.Qr)(f),(0,$.Qr)(class extends $.R6{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:T.N("mutlicursor.insertAtEndOfEachLineSelected","Add Cursors to Line Ends"),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:C.u.editorTextFocus,primary:1575,weight:100},menuOpts:{menuId:w.eH.MenubarSelectionMenu,group:"3_multi",title:T.N({key:"miInsertCursorAtEndOfEachLineSelected",comment:["&& denotes a mnemonic"]},"Add C&&ursors to Line Ends"),order:4}})}getCursorsForSelection(he,ge,re){if(!he.isEmpty()){for(let ye=he.startLineNumber;ye<he.endLineNumber;ye++){let ke=ge.getLineMaxColumn(ye);re.push(new d.Y(ye,ke,ye,ke))}he.endColumn>1&&re.push(new d.Y(he.endLineNumber,he.endColumn,he.endLineNumber,he.endColumn))}}run(he,ge){if(!ge.hasModel())return;const re=ge.getModel(),ye=ge.getSelections(),ke=ge._getViewModel(),xe=ke.getCursorStates();let Pe=[];ye.forEach(fe=>this.getCursorsForSelection(fe,re,Pe)),Pe.length>0&&ge.setSelections(Pe),M(xe,ke.getCursorStates())}}),(0,$.Qr)(ce),(0,$.Qr)(be),(0,$.Qr)(N),(0,$.Qr)(V),(0,$.Qr)(Z),(0,$.Qr)(ie),(0,$.Qr)(class extends $.R6{constructor(){super({id:"editor.action.addCursorsToBottom",label:T.N("mutlicursor.addCursorsToBottom","Add Cursors To Bottom"),alias:"Add Cursors To Bottom",precondition:void 0})}run(he,ge){if(!ge.hasModel())return;const re=ge.getSelections(),ye=ge.getModel().getLineCount();let ke=[];for(let fe=re[0].startLineNumber;fe<=ye;fe++)ke.push(new d.Y(fe,re[0].startColumn,fe,re[0].endColumn));const xe=ge._getViewModel(),Pe=xe.getCursorStates();ke.length>0&&ge.setSelections(ke),M(Pe,xe.getCursorStates())}}),(0,$.Qr)(class extends $.R6{constructor(){super({id:"editor.action.addCursorsToTop",label:T.N("mutlicursor.addCursorsToTop","Add Cursors To Top"),alias:"Add Cursors To Top",precondition:void 0})}run(he,ge){if(!ge.hasModel())return;const re=ge.getSelections();let ye=[];for(let Pe=re[0].startLineNumber;Pe>=1;Pe--)ye.push(new d.Y(Pe,re[0].startColumn,Pe,re[0].endColumn));const ke=ge._getViewModel(),xe=ke.getCursorStates();ye.length>0&&ge.setSelections(ye),M(xe,ke.getCursorStates())}})},1656:(Ct,Qe,a)=>{"use strict";a.r(Qe),a.d(Qe,{TriggerParameterHintsAction:()=>fe});var T=a(1606),U=a(1719),j=a(4562),O=a(9549),k=a(2844),$=a(4482),B=a(1165),R=a(7579),d=a(4304),C=a(6723),b=(a(8996),a(8923)),I=a(8582),p=a(5160),w=a(2109),E=a(6412),S=a(9357),v=a(8896),M=a(6746),_=a(1882),f=a(4128),m=function(Je,pe,Ve,Ae){return new(Ve||(Ve=Promise))(function(ze,Be){function Ue(At){try{vt(Ae.next(At))}catch(ve){Be(ve)}}function ot(At){try{vt(Ae.throw(At))}catch(ve){Be(ve)}}function vt(At){At.done?ze(At.value):function(ze){return ze instanceof Ve?ze:new Ve(function(Be){Be(ze)})}(At.value).then(Ue,ot)}vt((Ae=Ae.apply(Je,pe||[])).next())})};const L={Visible:new k.uy("parameterHintsVisible",!1),MultipleSignatures:new k.uy("parameterHintsMultipleSignatures",!1)};function F(Je,pe,Ve,Ae){return m(this,void 0,void 0,function*(){const Ee=E.nD.ordered(Je);for(const ze of Ee)try{const Be=yield ze.provideSignatureHelp(Je,pe,Ae,Ve);if(Be)return Be}catch(Be){(0,p.Cp)(Be)}})}v.P.registerCommand("_executeSignatureHelpProvider",(Je,...pe)=>m(void 0,void 0,void 0,function*(){const[Ve,Ae,Ee]=pe;(0,_.p_)(M.o.isUri(Ve)),(0,_.p_)(w.L.isIPosition(Ae)),(0,_.p_)("string"==typeof Ee||!Ee);const ze=yield Je.get(f.S).createModelReference(Ve);try{const Be=yield F(ze.object.textEditorModel,w.L.lift(Ae),{triggerKind:E.WW.Invoke,isRetrigger:!1,triggerCharacter:Ee},S.T.None);return Be?(setTimeout(()=>Be.dispose(),0),Be.value):void 0}finally{ze.dispose()}}));var N,G=a(1227),Y=a(7251),de=a(6803),le=a(7922),ce=a(5610);!function(Je){Je.Default={type:0},Je.Pending=class{constructor(Ee,ze){this.request=Ee,this.previouslyActiveHints=ze,this.type=2}},Je.Active=class{constructor(Ee){this.hints=Ee,this.type=1}}}(N||(N={}));let V=(()=>{class Je extends U.JT{constructor(Ve,Ae=Je.DEFAULT_DELAY){super(),this._onChangedHints=this._register(new C.Q5),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=N.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new U.XK),this.triggerChars=new ce.q,this.retriggerChars=new ce.q,this.triggerId=0,this.editor=Ve,this.throttledDelayer=new le.vp(Ae),this._register(this.editor.onDidBlurEditorWidget(()=>this.cancel())),this._register(this.editor.onDidChangeConfiguration(()=>this.onEditorConfigurationChange())),this._register(this.editor.onDidChangeModel(Ee=>this.onModelChanged())),this._register(this.editor.onDidChangeModelLanguage(Ee=>this.onModelChanged())),this._register(this.editor.onDidChangeCursorSelection(Ee=>this.onCursorChange(Ee))),this._register(this.editor.onDidChangeModelContent(Ee=>this.onModelContentChange())),this._register(E.nD.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType(Ee=>this.onDidType(Ee))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(Ve){2===this._state.type&&this._state.request.cancel(),this._state=Ve}cancel(Ve=!1){this.state=N.Default,this.throttledDelayer.cancel(),Ve||this._onChangedHints.fire(void 0)}trigger(Ve,Ae){const Ee=this.editor.getModel();if(!Ee||!E.nD.has(Ee))return;const ze=++this.triggerId;this._pendingTriggers.push(Ve),this.throttledDelayer.trigger(()=>this.doTrigger(ze),Ae).catch(p.dL)}next(){if(1!==this.state.type)return;const Ve=this.state.hints.signatures.length,Ae=this.state.hints.activeSignature,Ee=Ae%Ve==Ve-1,ze=this.editor.getOption(73).cycle;!(Ve<2||Ee)||ze?this.updateActiveSignature(Ee&&ze?0:Ae+1):this.cancel()}previous(){if(1!==this.state.type)return;const Ve=this.state.hints.signatures.length,Ae=this.state.hints.activeSignature,Ee=0===Ae,ze=this.editor.getOption(73).cycle;!(Ve<2||Ee)||ze?this.updateActiveSignature(Ee&&ze?Ve-1:Ae-1):this.cancel()}updateActiveSignature(Ve){1===this.state.type&&(this.state=new N.Active(Object.assign(Object.assign({},this.state.hints),{activeSignature:Ve})),this._onChangedHints.fire(this.state.hints))}doTrigger(Ve){return function(Je,pe,Ve,Ae){return new(Ve||(Ve=Promise))(function(ze,Be){function Ue(At){try{vt(Ae.next(At))}catch(ve){Be(ve)}}function ot(At){try{vt(Ae.throw(At))}catch(ve){Be(ve)}}function vt(At){At.done?ze(At.value):function(ze){return ze instanceof Ve?ze:new Ve(function(Be){Be(ze)})}(At.value).then(Ue,ot)}vt((Ae=Ae.apply(Je,pe||[])).next())})}(this,void 0,void 0,function*(){const Ae=1===this.state.type||2===this.state.type,Ee=this.getLastActiveHints();if(this.cancel(!0),0===this._pendingTriggers.length)return!1;const ze=this._pendingTriggers.reduce(Z);this._pendingTriggers=[];const Be={triggerKind:ze.triggerKind,triggerCharacter:ze.triggerCharacter,isRetrigger:Ae,activeSignatureHelp:Ee};if(!this.editor.hasModel())return!1;const Ue=this.editor.getModel(),ot=this.editor.getPosition();this.state=new N.Pending((0,le.PG)(vt=>F(Ue,ot,Be,vt)),Ee);try{const vt=yield this.state.request;return Ve!==this.triggerId?(null==vt||vt.dispose(),!1):vt&&vt.value.signatures&&0!==vt.value.signatures.length?(this.state=new N.Active(vt.value),this._lastSignatureHelpResult.value=vt,this._onChangedHints.fire(this.state.hints),!0):(null==vt||vt.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1)}catch(vt){return Ve===this.triggerId&&(this.state=N.Default),(0,p.dL)(vt),!1}})}getLastActiveHints(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return 1===this.state.type||2===this.state.type||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars=new ce.q,this.retriggerChars=new ce.q;const Ve=this.editor.getModel();if(Ve)for(const Ae of E.nD.ordered(Ve)){for(const Ee of Ae.signatureHelpTriggerCharacters||[])this.triggerChars.add(Ee.charCodeAt(0)),this.retriggerChars.add(Ee.charCodeAt(0));for(const Ee of Ae.signatureHelpRetriggerCharacters||[])this.retriggerChars.add(Ee.charCodeAt(0))}}onDidType(Ve){if(!this.triggerOnType)return;const Ae=Ve.length-1,Ee=Ve.charCodeAt(Ae);(this.triggerChars.has(Ee)||this.isTriggered&&this.retriggerChars.has(Ee))&&this.trigger({triggerKind:E.WW.TriggerCharacter,triggerCharacter:Ve.charAt(Ae)})}onCursorChange(Ve){"mouse"===Ve.source?this.cancel():this.isTriggered&&this.trigger({triggerKind:E.WW.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:E.WW.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(73).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}}return Je.DEFAULT_DELAY=120,Je})();function Z(Je,pe){switch(pe.triggerKind){case E.WW.Invoke:return pe;case E.WW.ContentChange:return Je;case E.WW.TriggerCharacter:default:return pe}}var ie=a(579),ue=a(521),oe=a(786),ee=a(6571),ne=function(Je,pe){return function(Ve,Ae){pe(Ve,Ae,Je)}};const he=B.$,ge=(0,ee.q5)("parameter-hints-next",ue.lA.chevronDown,T.N("parameterHintsNextIcon","Icon for show next parameter hint.")),re=(0,ee.q5)("parameter-hints-previous",ue.lA.chevronUp,T.N("parameterHintsPreviousIcon","Icon for show previous parameter hint."));let ye=class VR extends U.JT{constructor(pe,Ve,Ae,Ee){super(),this.editor=pe,this.renderDisposeables=this._register(new U.SL),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new I.$({editor:pe},Ee,Ae)),this.model=this._register(new V(pe)),this.keyVisible=L.Visible.bindTo(Ve),this.keyMultipleSignatures=L.MultipleSignatures.bindTo(Ve),this._register(this.model.onChangedHints(ze=>{ze?(this.show(),this.render(ze)):this.hide()}))}createParamaterHintDOMNodes(){const pe=he(".editor-widget.parameter-hints-widget"),Ve=B.R3(pe,he(".phwrapper"));Ve.tabIndex=-1;const Ae=B.R3(Ve,he(".controls")),Ee=B.R3(Ae,he(".button"+de.kS.asCSSSelector(re))),ze=B.R3(Ae,he(".overloads")),Be=B.R3(Ae,he(".button"+de.kS.asCSSSelector(ge)));this._register(B.nm(Ee,"click",ht=>{B.zB.stop(ht),this.previous()})),this._register(B.nm(Be,"click",ht=>{B.zB.stop(ht),this.next()}));const Ue=he(".body"),ot=new d.s$(Ue,{});this._register(ot),Ve.appendChild(ot.getDomNode());const vt=B.R3(Ue,he(".signature")),At=B.R3(Ue,he(".docs"));pe.style.userSelect="text",this.domNodes={element:pe,signature:vt,overloads:ze,docs:At,scrollbar:ot},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection(ht=>{this.visible&&this.editor.layoutContentWidget(this)}));const ve=()=>{if(!this.domNodes)return;const ht=this.editor.getOption(40);this.domNodes.element.style.fontSize=`${ht.fontSize}px`};ve(),this._register(C.ju.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(ht=>ht.hasChanged(40)).on(ve,null)),this._register(this.editor.onDidLayoutChange(ht=>this.updateMaxHeight())),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParamaterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(()=>{this.domNodes&&this.domNodes.element.classList.add("visible")},100),this.editor.layoutContentWidget(this))}hide(){this.renderDisposeables.clear(),this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,this.domNodes&&this.domNodes.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(pe){var Ve;if(this.renderDisposeables.clear(),!this.domNodes)return;const Ae=pe.signatures.length>1;this.domNodes.element.classList.toggle("multiple",Ae),this.keyMultipleSignatures.set(Ae),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";const Ee=pe.signatures[pe.activeSignature];if(!Ee)return;const ze=B.R3(this.domNodes.signature,he(".code")),Be=this.editor.getOption(40);ze.style.fontSize=`${Be.fontSize}px`,ze.style.fontFamily=Be.fontFamily;const ot=null!==(Ve=Ee.activeParameter)&&void 0!==Ve?Ve:pe.activeParameter;Ee.parameters.length>0?this.renderParameters(ze,Ee,ot):B.R3(ze,he("span")).textContent=Ee.label;const vt=Ee.parameters[ot];if(null==vt?void 0:vt.documentation){const ve=he("span.documentation");if("string"==typeof vt.documentation)ve.textContent=vt.documentation;else{const ht=this.renderMarkdownDocs(vt.documentation);ve.appendChild(ht.element)}B.R3(this.domNodes.docs,he("p",{},ve))}if(void 0!==Ee.documentation)if("string"==typeof Ee.documentation)B.R3(this.domNodes.docs,he("p",{},Ee.documentation));else{const ve=this.renderMarkdownDocs(Ee.documentation);B.R3(this.domNodes.docs,ve.element)}const At=this.hasDocs(Ee,vt);if(this.domNodes.signature.classList.toggle("has-docs",At),this.domNodes.docs.classList.toggle("empty",!At),this.domNodes.overloads.textContent=String(pe.activeSignature+1).padStart(pe.signatures.length.toString().length,"0")+"/"+pe.signatures.length,vt){const ve=this.getParameterLabel(Ee,ot);this.announcedLabel!==ve&&(R.Z9(T.N("hint","{0}, hint",ve)),this.announcedLabel=ve)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}renderMarkdownDocs(pe){const Ve=this.renderDisposeables.add(this.markdownRenderer.render(pe,{asyncRenderCallback:()=>{var Ae;null===(Ae=this.domNodes)||void 0===Ae||Ae.scrollbar.scanDomNode()}}));return Ve.element.classList.add("markdown-docs"),Ve}hasDocs(pe,Ve){return!!(Ve&&"string"==typeof Ve.documentation&&(0,_.cW)(Ve.documentation).length>0||Ve&&"object"==typeof Ve.documentation&&(0,_.cW)(Ve.documentation).value.length>0||pe.documentation&&"string"==typeof pe.documentation&&(0,_.cW)(pe.documentation).length>0||pe.documentation&&"object"==typeof pe.documentation&&(0,_.cW)(pe.documentation.value).length>0)}renderParameters(pe,Ve,Ae){const[Ee,ze]=this.getParameterLabelOffsets(Ve,Ae),Be=document.createElement("span");Be.textContent=Ve.label.substring(0,Ee);const Ue=document.createElement("span");Ue.textContent=Ve.label.substring(Ee,ze),Ue.className="parameter active";const ot=document.createElement("span");ot.textContent=Ve.label.substring(ze),B.R3(pe,Be,Ue,ot)}getParameterLabel(pe,Ve){const Ae=pe.parameters[Ve];return Array.isArray(Ae.label)?pe.label.substring(Ae.label[0],Ae.label[1]):Ae.label}getParameterLabelOffsets(pe,Ve){const Ae=pe.parameters[Ve];if(Ae){if(Array.isArray(Ae.label))return Ae.label;if(Ae.label.length){const Ee=new RegExp(`(\\W|^)${(0,ie.ec)(Ae.label)}(?=\\W|$)`,"g");Ee.test(pe.label);const ze=Ee.lastIndex-Ae.label.length;return ze>=0?[ze,Ee.lastIndex]:[0,0]}return[0,0]}return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}cancel(){this.model.cancel()}getDomNode(){return this.domNodes||this.createParamaterHintDOMNodes(),this.domNodes.element}getId(){return VR.ID}trigger(pe){this.model.trigger(pe,0)}updateMaxHeight(){if(!this.domNodes)return;const Ve=`${Math.max(this.editor.getLayoutInfo().height/4,250)}px`;this.domNodes.element.style.maxHeight=Ve;const Ae=this.domNodes.element.getElementsByClassName("phwrapper");Ae.length&&(Ae[0].style.maxHeight=Ve)}};ye.ID="editor.widget.parameterHintsWidget",ye=function(Je,pe,Ve,Ae){var Be,Ee=arguments.length,ze=Ee<3?pe:null===Ae?Ae=Object.getOwnPropertyDescriptor(pe,Ve):Ae;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ze=Reflect.decorate(Je,pe,Ve,Ae);else for(var Ue=Je.length-1;Ue>=0;Ue--)(Be=Je[Ue])&&(ze=(Ee<3?Be(ze):Ee>3?Be(pe,Ve,ze):Be(pe,Ve))||ze);return Ee>3&&ze&&Object.defineProperty(pe,Ve,ze),ze}([ne(1,k.i6),ne(2,G.v4),ne(3,b.h)],ye),(0,de.Ic)((Je,pe)=>{const Ve=Je.getColor(Y.CN);Ve&&(pe.addRule(`.monaco-editor .parameter-hints-widget { border: ${Je.type===oe.e.HIGH_CONTRAST?2:1}px solid ${Ve}; }`),pe.addRule(`.monaco-editor .parameter-hints-widget.multiple .body { border-left: 1px solid ${Ve.transparent(.5)}; }`),pe.addRule(`.monaco-editor .parameter-hints-widget .signature.has-docs { border-bottom: 1px solid ${Ve.transparent(.5)}; }`));const Ae=Je.getColor(Y.yJ);Ae&&pe.addRule(`.monaco-editor .parameter-hints-widget { background-color: ${Ae}; }`);const Ee=Je.getColor(Y.ur);Ee&&pe.addRule(`.monaco-editor .parameter-hints-widget a { color: ${Ee}; }`);const ze=Je.getColor(Y.Sb);ze&&pe.addRule(`.monaco-editor .parameter-hints-widget { color: ${ze}; }`);const Be=Je.getColor(Y.Sw);Be&&pe.addRule(`.monaco-editor .parameter-hints-widget code { background-color: ${Be}; }`)});let Pe=class WR extends U.JT{constructor(pe,Ve){super(),this.editor=pe,this.widget=this._register(Ve.createInstance(ye,this.editor))}static get(pe){return pe.getContribution(WR.ID)}cancel(){this.widget.cancel()}previous(){this.widget.previous()}next(){this.widget.next()}trigger(pe){this.widget.trigger(pe)}};var pe;Pe.ID="editor.controller.parameterHints",Pe=function(Je,pe,Ve,Ae){var Be,Ee=arguments.length,ze=Ee<3?pe:null===Ae?Ae=Object.getOwnPropertyDescriptor(pe,Ve):Ae;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ze=Reflect.decorate(Je,pe,Ve,Ae);else for(var Ue=Je.length-1;Ue>=0;Ue--)(Be=Je[Ue])&&(ze=(Ee<3?Be(ze):Ee>3?Be(pe,Ve,ze):Be(pe,Ve))||ze);return Ee>3&&ze&&Object.defineProperty(pe,Ve,ze),ze}([(1,pe=j.TG,function(Ve,Ae){pe(Ve,Ae,1)})],Pe);class fe extends $.R6{constructor(){super({id:"editor.action.triggerParameterHints",label:T.N("parameterHints.trigger.label","Trigger Parameter Hints"),alias:"Trigger Parameter Hints",precondition:O.u.hasSignatureHelpProvider,kbOpts:{kbExpr:O.u.editorTextFocus,primary:3082,weight:100}})}run(pe,Ve){const Ae=Pe.get(Ve);Ae&&Ae.trigger({triggerKind:E.WW.Invoke})}}(0,$._K)(Pe.ID,Pe),(0,$.Qr)(fe);const Ce=$._l.bindToContribution(Pe.get);(0,$.fK)(new Ce({id:"closeParameterHints",precondition:L.Visible,handler:Je=>Je.cancel(),kbOpts:{weight:175,kbExpr:O.u.focus,primary:9,secondary:[1033]}})),(0,$.fK)(new Ce({id:"showPrevParameterHint",precondition:k.Ao.and(L.Visible,L.MultipleSignatures),handler:Je=>Je.previous(),kbOpts:{weight:175,kbExpr:O.u.focus,primary:16,secondary:[528],mac:{primary:16,secondary:[528,302]}}})),(0,$.fK)(new Ce({id:"showNextParameterHint",precondition:k.Ao.and(L.Visible,L.MultipleSignatures),handler:Je=>Je.next(),kbOpts:{weight:175,kbExpr:O.u.focus,primary:18,secondary:[530],mac:{primary:18,secondary:[530,300]}}}))},1592:(Ct,Qe,a)=>{"use strict";a.d(Qe,{Fw:()=>Z,Jy:()=>ie,vk:()=>K,rc:()=>oe,SC:()=>re,RX:()=>Te,sH:()=>Ce,WL:()=>pe,xH:()=>Ve,M8:()=>ye,a7:()=>xe,xk:()=>ke,F8:()=>Je,Zj:()=>Pe,IY:()=>fe,KY:()=>ne,IH:()=>he,R7:()=>ge}),a(841);var U=a(1165),j=a(1764),O=a(7513),k=a(3727),$=a(6723),B=a(3788),R=a(3779),d=a(4406),g=(a(3673),a(6209)),b=a(4437),I=a(1719),p=a(8487),w=a(111);const E=new k.Il(new k.VS(0,122,204)),S={showArrow:!0,showFrame:!0,className:"",frameColor:E,arrowColor:E,keepEditorSelection:!1};class M{constructor(Ee,ze,Be,Ue,ot,vt){this.id="",this.domNode=Ee,this.afterLineNumber=ze,this.afterColumn=Be,this.heightInLines=Ue,this._onDomNodeTop=ot,this._onComputedHeight=vt}onDomNodeTop(Ee){this._onDomNodeTop(Ee)}onComputedHeight(Ee){this._onComputedHeight(Ee)}}class _{constructor(Ee,ze){this._id=Ee,this._domNode=ze}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}}class f{constructor(Ee){this._editor=Ee,this._ruleName=f._IdGenerator.nextId(),this._decorations=[],this._color=null,this._height=-1}dispose(){this.hide(),U.uN(this._ruleName)}set color(Ee){this._color!==Ee&&(this._color=Ee,this._updateStyle())}set height(Ee){this._height!==Ee&&(this._height=Ee,this._updateStyle())}_updateStyle(){U.uN(this._ruleName),U.fk(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px; margin-left: -${this._height}px; `)}show(Ee){this._decorations=this._editor.deltaDecorations(this._decorations,[{range:p.e.fromPositions(Ee),options:{description:"zone-widget-arrow",className:this._ruleName,stickiness:1}}])}hide(){this._editor.deltaDecorations(this._decorations,[])}}f._IdGenerator=new b.R(".arrow-decoration-");var L=a(1606),F=a(2844),G=a(4562),Y=a(4165),de=a(4482),le=a(7251),ce=a(521),be=a(4120),N=function(Ae,Ee,ze,Be){var vt,Ue=arguments.length,ot=Ue<3?Ee:null===Be?Be=Object.getOwnPropertyDescriptor(Ee,ze):Be;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ot=Reflect.decorate(Ae,Ee,ze,Be);else for(var At=Ae.length-1;At>=0;At--)(vt=Ae[At])&&(ot=(Ue<3?vt(ot):Ue>3?vt(Ee,ze,ot):vt(Ee,ze))||ot);return Ue>3&&ot&&Object.defineProperty(Ee,ze,ot),ot},V=function(Ae,Ee){return function(ze,Be){Ee(ze,Be,Ae)}};const Z=(0,G.yh)("IPeekViewService");var ie,Ae;(0,Y.z)(Z,class{constructor(){this._widgets=new Map}addExclusiveWidget(Ae,Ee){const ze=this._widgets.get(Ae);ze&&(ze.listener.dispose(),ze.widget.dispose()),this._widgets.set(Ae,{widget:Ee,listener:Ee.onDidClose(()=>{const Ue=this._widgets.get(Ae);Ue&&Ue.widget===Ee&&(Ue.listener.dispose(),this._widgets.delete(Ae))})})}}),(Ae=ie||(ie={})).inPeekEditor=new F.uy("inReferenceSearchEditor",!0,L.N("inReferenceSearchEditor","Whether the current code editor is embedded inside peek")),Ae.notInPeekEditor=Ae.inPeekEditor.toNegated();let ue=class{constructor(Ee,ze){Ee instanceof d.H&&ie.inPeekEditor.bindTo(ze)}dispose(){}};function oe(Ae){let Ee=Ae.get(R.$).getFocusedCodeEditor();return Ee instanceof d.H?Ee.getParentEditor():Ee}ue.ID="editor.contrib.referenceController",ue=N([V(1,F.i6)],ue),(0,de._K)(ue.ID,ue);const ee={headerBackgroundColor:k.Il.white,primaryHeadingColor:k.Il.fromHex("#333333"),secondaryHeadingColor:k.Il.fromHex("#6c6c6cb3")};let K=class extends class{constructor(Ee,ze={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._positionMarkerId=[],this._viewZone=null,this._disposables=new I.SL,this.container=null,this._isShowing=!1,this.editor=Ee,this.options=B.I8(ze),B.jB(this.options,S,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(Be=>{const Ue=this._getWidth(Be);this.domNode.style.width=Ue+"px",this.domNode.style.left=this._getLeft(Be)+"px",this._onWidth(Ue)}))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(Ee=>{this._viewZone&&Ee.removeZone(this._viewZone.id),this._viewZone=null}),this.editor.deltaDecorations(this._positionMarkerId,[]),this._positionMarkerId=[],this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new f(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(Ee){Ee.frameColor&&(this.options.frameColor=Ee.frameColor),Ee.arrowColor&&(this.options.arrowColor=Ee.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){let Ee=this.options.frameColor.toString();this.container.style.borderTopColor=Ee,this.container.style.borderBottomColor=Ee}if(this._arrow&&this.options.arrowColor){let Ee=this.options.arrowColor.toString();this._arrow.color=Ee}}_getWidth(Ee){return Ee.width-Ee.minimap.minimapWidth-Ee.verticalScrollbarWidth}_getLeft(Ee){return Ee.minimap.minimapWidth>0&&0===Ee.minimap.minimapLeft?Ee.minimap.minimapWidth:0}_onViewZoneTop(Ee){this.domNode.style.top=Ee+"px"}_onViewZoneHeight(Ee){if(this.domNode.style.height=`${Ee}px`,this.container){let ze=Ee-this._decoratingElementsHeight();this.container.style.height=`${ze}px`;const Be=this.editor.getLayoutInfo();this._doLayout(ze,this._getWidth(Be))}this._resizeSash&&this._resizeSash.layout()}get position(){const[Ee]=this._positionMarkerId;if(!Ee)return;const ze=this.editor.getModel();if(!ze)return;const Be=ze.getDecorationRange(Ee);return Be?Be.getStartPosition():void 0}show(Ee,ze){const Be=p.e.isIRange(Ee)?p.e.lift(Ee):p.e.fromPositions(Ee);this._isShowing=!0,this._showImpl(Be,ze),this._isShowing=!1,this._positionMarkerId=this.editor.deltaDecorations(this._positionMarkerId,[{range:Be,options:w.qx.EMPTY}])}hide(){this._viewZone&&(this.editor.changeViewZones(Ee=>{this._viewZone&&Ee.removeZone(this._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._arrow&&this._arrow.hide()}_decoratingElementsHeight(){let Ee=this.editor.getOption(56),ze=0;return this.options.showArrow&&(ze+=2*Math.round(Ee/3)),this.options.showFrame&&(ze+=2*Math.round(Ee/9)),ze}_showImpl(Ee,ze){const Be=Ee.getStartPosition(),Ue=this.editor.getLayoutInfo(),ot=this._getWidth(Ue);this.domNode.style.width=`${ot}px`,this.domNode.style.left=this._getLeft(Ue)+"px";const vt=document.createElement("div");vt.style.overflow="hidden";const At=this.editor.getOption(56),ve=Math.max(12,this.editor.getLayoutInfo().height/At*.8);ze=Math.min(ze,ve);let ht=0,Ge=0;if(this._arrow&&this.options.showArrow&&(ht=Math.round(At/3),this._arrow.height=ht,this._arrow.show(Be)),this.options.showFrame&&(Ge=Math.round(At/9)),this.editor.changeViewZones(dt=>{this._viewZone&&dt.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new M(vt,Be.lineNumber,Be.column,ze,_t=>this._onViewZoneTop(_t),_t=>this._onViewZoneHeight(_t)),this._viewZone.id=dt.addZone(this._viewZone),this._overlayWidget=new _("vs.editor.contrib.zoneWidget"+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)}),this.container&&this.options.showFrame){const dt=this.options.frameWidth?this.options.frameWidth:Ge;this.container.style.borderTopWidth=dt+"px",this.container.style.borderBottomWidth=dt+"px"}let De=ze*At-this._decoratingElementsHeight();this.container&&(this.container.style.top=ht+"px",this.container.style.height=De+"px",this.container.style.overflow="hidden"),this._doLayout(De,ot),this.options.keepEditorSelection||this.editor.setSelection(Ee);const Le=this.editor.getModel();if(Le){const dt=Ee.endLineNumber+1;dt<=Le.getLineCount()?this.revealLine(dt,!1):this.revealLine(Le.getLineCount(),!0)}}revealLine(Ee,ze){ze?this.editor.revealLineInCenter(Ee,0):this.editor.revealLine(Ee,0)}setCssClass(Ee,ze){!this.container||(ze&&this.container.classList.remove(ze),this.container.classList.add(Ee))}_onWidth(Ee){}_doLayout(Ee,ze){}_relayout(Ee){this._viewZone&&this._viewZone.heightInLines!==Ee&&this.editor.changeViewZones(ze=>{this._viewZone&&(this._viewZone.heightInLines=Ee,ze.layoutZone(this._viewZone.id))})}_initSash(){if(this._resizeSash)return;let Ee;this._resizeSash=this._disposables.add(new g.g(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.hide(),this._resizeSash.state=0),this._disposables.add(this._resizeSash.onDidStart(ze=>{this._viewZone&&(Ee={startY:ze.startY,heightInLines:this._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(()=>{Ee=void 0})),this._disposables.add(this._resizeSash.onDidChange(ze=>{if(Ee){let Be=(ze.currentY-Ee.startY)/this.editor.getOption(56),Ue=Be<0?Math.ceil(Be):Math.floor(Be),ot=Ee.heightInLines+Ue;ot>5&&ot<35&&this._relayout(ot)}}))}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(null===this.domNode.style.height?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){const Ee=this.editor.getLayoutInfo();return Ee.width-Ee.minimap.minimapWidth}}{constructor(Ee,ze,Be){super(Ee,ze),this.instantiationService=Be,this._onDidClose=new $.Q5,this.onDidClose=this._onDidClose.event,B.jB(this.options,ee,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(Ee){let ze=this.options;Ee.headerBackgroundColor&&(ze.headerBackgroundColor=Ee.headerBackgroundColor),Ee.primaryHeadingColor&&(ze.primaryHeadingColor=Ee.primaryHeadingColor),Ee.secondaryHeadingColor&&(ze.secondaryHeadingColor=Ee.secondaryHeadingColor),super.style(Ee)}_applyStyles(){super._applyStyles();let Ee=this.options;this._headElement&&Ee.headerBackgroundColor&&(this._headElement.style.backgroundColor=Ee.headerBackgroundColor.toString()),this._primaryHeading&&Ee.primaryHeadingColor&&(this._primaryHeading.style.color=Ee.primaryHeadingColor.toString()),this._secondaryHeading&&Ee.secondaryHeadingColor&&(this._secondaryHeading.style.color=Ee.secondaryHeadingColor.toString()),this._bodyElement&&Ee.frameColor&&(this._bodyElement.style.borderColor=Ee.frameColor.toString())}_fillContainer(Ee){this.setCssClass("peekview-widget"),this._headElement=U.$(".head"),this._bodyElement=U.$(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),Ee.appendChild(this._headElement),Ee.appendChild(this._bodyElement)}_fillHead(Ee,ze){const Be=U.$(".peekview-title");U.R3(this._headElement,Be),U.mu(Be,"click",vt=>this._onTitleClick(vt)),this._fillTitleIcon(Be),this._primaryHeading=U.$("span.filename"),this._secondaryHeading=U.$("span.dirname"),this._metaHeading=U.$("span.meta"),U.R3(Be,this._primaryHeading,this._secondaryHeading,this._metaHeading);const Ue=U.$(".peekview-actions");U.R3(this._headElement,Ue);const ot=this._getActionBarOptions();this._actionbarWidget=new j.o(Ue,ot),this._disposables.add(this._actionbarWidget),ze||this._actionbarWidget.push(new O.aU("peekview.close",L.N("label.close","Close"),ce.lA.close.classNames,!0,()=>(this.dispose(),Promise.resolve())),{label:!1,icon:!0})}_fillTitleIcon(Ee){}_getActionBarOptions(){return{actionViewItemProvider:be.Id.bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(Ee){}setTitle(Ee,ze){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=Ee,this._primaryHeading.setAttribute("title",Ee),ze?this._secondaryHeading.innerText=ze:U.PO(this._secondaryHeading))}setMetaTitle(Ee){this._metaHeading&&(Ee?(this._metaHeading.innerText=Ee,U.$Z(this._metaHeading)):U.Cp(this._metaHeading))}_doLayout(Ee,ze){if(!this._isShowing&&Ee<0)return void this.dispose();const Be=Math.ceil(1.2*this.editor.getOption(56)),Ue=Math.round(Ee-(Be+2));this._doLayoutHead(Be,ze),this._doLayoutBody(Ue,ze)}_doLayoutHead(Ee,ze){this._headElement&&(this._headElement.style.height=`${Ee}px`,this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(Ee,ze){this._bodyElement&&(this._bodyElement.style.height=`${Ee}px`)}};K=N([V(2,G.TG)],K);const ne=(0,le.P6)("peekViewTitle.background",{dark:"#1E1E1E",light:"#FFFFFF",hc:"#0C141F"},L.N("peekViewTitleBackground","Background color of the peek view title area.")),he=(0,le.P6)("peekViewTitleLabel.foreground",{dark:"#FFFFFF",light:"#333333",hc:"#FFFFFF"},L.N("peekViewTitleForeground","Color of the peek view title.")),ge=(0,le.P6)("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161e6",hc:"#FFFFFF99"},L.N("peekViewTitleInfoForeground","Color of the peek view title info.")),re=(0,le.P6)("peekView.border",{dark:"#007acc",light:"#007acc",hc:le.lR},L.N("peekViewBorder","Color of the peek view borders and arrow.")),ye=(0,le.P6)("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hc:k.Il.black},L.N("peekViewResultsBackground","Background color of the peek view result list.")),ke=(0,le.P6)("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hc:k.Il.white},L.N("peekViewResultsMatchForeground","Foreground color for line nodes in the peek view result list.")),xe=(0,le.P6)("peekViewResult.fileForeground",{dark:k.Il.white,light:"#1E1E1E",hc:k.Il.white},L.N("peekViewResultsFileForeground","Foreground color for file nodes in the peek view result list.")),Pe=(0,le.P6)("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hc:null},L.N("peekViewResultsSelectionBackground","Background color of the selected entry in the peek view result list.")),fe=(0,le.P6)("peekViewResult.selectionForeground",{dark:k.Il.white,light:"#6C6C6C",hc:k.Il.white},L.N("peekViewResultsSelectionForeground","Foreground color of the selected entry in the peek view result list.")),Te=(0,le.P6)("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hc:k.Il.black},L.N("peekViewEditorBackground","Background color of the peek view editor.")),Ce=(0,le.P6)("peekViewEditorGutter.background",{dark:Te,light:Te,hc:Te},L.N("peekViewEditorGutterBackground","Background color of the gutter in the peek view editor.")),Je=(0,le.P6)("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hc:null},L.N("peekViewResultsMatchHighlight","Match highlight color in the peek view result list.")),pe=(0,le.P6)("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hc:null},L.N("peekViewEditorMatchHighlight","Match highlight color in the peek view editor.")),Ve=(0,le.P6)("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hc:le.xL},L.N("peekViewEditorMatchHighlightBorder","Match highlight border in the peek view editor."))},6892:(Ct,Qe,a)=>{"use strict";a.d(Qe,{X:()=>R});var T=a(2902),U=a(6803),j=a(3258),O=a(1719),k=a(6957),$=a(1882),B=a(3245);class R{constructor(C){this.options=C,this.rangeHighlightDecorationId=void 0}provide(C,g){var b;const I=new O.SL;C.canAcceptInBackground=!!(null===(b=this.options)||void 0===b?void 0:b.canAcceptInBackground),C.matchOnLabel=C.matchOnDescription=C.matchOnDetail=C.sortByLabel=!1;const p=I.add(new O.XK);return p.value=this.doProvide(C,g),I.add(this.onDidActiveTextEditorControlChange(()=>{p.value=void 0,p.value=this.doProvide(C,g)})),I}doProvide(C,g){const b=new O.SL,I=this.activeTextEditorControl;if(I&&this.canProvideWithTextEditor(I)){const p={editor:I},w=(0,k.Pi)(I);if(w){let E=(0,$.f6)(I.saveViewState());b.add(w.onDidChangeCursorPosition(()=>{E=(0,$.f6)(I.saveViewState())})),p.restoreViewState=()=>{E&&I===this.activeTextEditorControl&&I.restoreViewState(E)},b.add((0,B.I)(g.onCancellationRequested)(()=>{var S;return null===(S=p.restoreViewState)||void 0===S?void 0:S.call(p)}))}b.add((0,O.OF)(()=>this.clearDecorations(I))),b.add(this.provideWithTextEditor(p,C,g))}else b.add(this.provideWithoutTextEditor(C,g));return b}canProvideWithTextEditor(C){return!0}gotoLocation({editor:C},g){C.setSelection(g.range),C.revealRangeInCenter(g.range,0),g.preserveFocus||C.focus()}getModel(C){var g;return(0,k.QI)(C)?null===(g=C.getModel())||void 0===g?void 0:g.modified:C.getModel()}addDecorations(C,g){C.changeDecorations(b=>{const I=[];this.rangeHighlightDecorationId&&(I.push(this.rangeHighlightDecorationId.overviewRulerDecorationId),I.push(this.rangeHighlightDecorationId.rangeHighlightId),this.rangeHighlightDecorationId=void 0);const p=[{range:g,options:{description:"quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:g,options:{description:"quick-access-range-highlight-overview",overviewRuler:{color:(0,U.EN)(j.m9),position:T.sh.Full}}}],[w,E]=b.deltaDecorations(I,p);this.rangeHighlightDecorationId={rangeHighlightId:w,overviewRulerDecorationId:E}})}clearDecorations(C){const g=this.rangeHighlightDecorationId;g&&(C.changeDecorations(b=>{b.deltaDecorations([g.overviewRulerDecorationId,g.rangeHighlightId],[])}),this.rangeHighlightDecorationId=void 0)}}},7394:(Ct,Qe,a)=>{"use strict";a.r(Qe),a.d(Qe,{RenameAction:()=>he,rename:()=>K});var T=a(1606),U=a(5160),j=a(2844),O=a(723),k=a(4482),$=a(9549),R=(a(5094),a(1719)),d=a(2109),C=a(7251),g=a(6803),b=a(3012),p=function(re,ye){return function(ke,xe){ye(ke,xe,re)}};const w=new j.uy("renameInputVisible",!1,(0,T.N)("renameInputVisible","Whether the rename input widget is visible"));let E=class{constructor(ye,ke,xe,Pe,fe){this._editor=ye,this._acceptKeybindings=ke,this._themeService=xe,this._keybindingService=Pe,this._disposables=new R.SL,this.allowEditorOverflow=!0,this._visibleContextKey=w.bindTo(fe),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration(Te=>{Te.hasChanged(40)&&this._updateFont()})),this._disposables.add(xe.onDidColorThemeChange(this._updateStyles,this))}dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){if(!this._domNode){this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._input=document.createElement("input"),this._input.className="rename-input",this._input.type="text",this._input.setAttribute("aria-label",(0,T.N)("renameAriaLabel","Rename input. Type new name and press Enter to commit.")),this._domNode.appendChild(this._input),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label);const ye=()=>{var ke,xe;const[Pe,fe]=this._acceptKeybindings;this._keybindingService.lookupKeybinding(Pe),this._label.innerText=(0,T.N)({key:"label",comment:['placeholders are keybindings, e.g "F2 to Rename, Shift+F2 to Preview"']},"{0} to Rename, {1} to Preview",null===(ke=this._keybindingService.lookupKeybinding(Pe))||void 0===ke?void 0:ke.getLabel(),null===(xe=this._keybindingService.lookupKeybinding(fe))||void 0===xe?void 0:xe.getLabel())};ye(),this._disposables.add(this._keybindingService.onDidUpdateKeybindings(ye)),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())}return this._domNode}_updateStyles(ye){var ke,xe,Pe,fe;if(!this._input||!this._domNode)return;const Te=ye.getColor(C.rh);this._domNode.style.backgroundColor=String(null!==(ke=ye.getColor(C.D0))&&void 0!==ke?ke:""),this._domNode.style.boxShadow=Te?` 0 0 8px 2px ${Te}`:"",this._domNode.style.color=String(null!==(xe=ye.getColor(C.zJ))&&void 0!==xe?xe:""),this._input.style.backgroundColor=String(null!==(Pe=ye.getColor(C.sE))&&void 0!==Pe?Pe:"");const Ce=ye.getColor(C.dt);this._input.style.borderWidth=Ce?"1px":"0px",this._input.style.borderStyle=Ce?"solid":"none",this._input.style.borderColor=null!==(fe=null==Ce?void 0:Ce.toString())&&void 0!==fe?fe:"none"}_updateFont(){if(!this._input||!this._label)return;const ye=this._editor.getOption(40);this._input.style.fontFamily=ye.fontFamily,this._input.style.fontWeight=ye.fontWeight,this._input.style.fontSize=`${ye.fontSize}px`,this._label.style.fontSize=.8*ye.fontSize+"px"}getPosition(){return this._visible?{position:this._position,preference:[2,1]}:null}afterRender(ye){ye||this.cancelInput(!0)}acceptInput(ye){this._currentAcceptInput&&this._currentAcceptInput(ye)}cancelInput(ye){this._currentCancelInput&&this._currentCancelInput(ye)}getInput(ye,ke,xe,Pe,fe,Te){this._domNode.classList.toggle("preview",fe),this._position=new d.L(ye.startLineNumber,ye.startColumn),this._input.value=ke,this._input.setAttribute("selectionStart",xe.toString()),this._input.setAttribute("selectionEnd",Pe.toString()),this._input.size=Math.max(1.1*(ye.endColumn-ye.startColumn),20);const Ce=new R.SL;return new Promise(Je=>{this._currentCancelInput=pe=>(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,Je(pe),!0),this._currentAcceptInput=pe=>{0!==this._input.value.trim().length&&this._input.value!==ke?(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,Je({newName:this._input.value,wantsPreview:fe&&pe})):this.cancelInput(!0)},Te.onCancellationRequested(()=>this.cancelInput(!0)),Ce.add(this._editor.onDidBlurEditorWidget(()=>this.cancelInput(!1))),this._show()}).finally(()=>{Ce.dispose(),this._hide()})}_show(){this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(()=>{this._input.focus(),this._input.setSelectionRange(parseInt(this._input.getAttribute("selectionStart")),parseInt(this._input.getAttribute("selectionEnd")))},100)}_hide(){this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}};E=function(re,ye,ke,xe){var Te,Pe=arguments.length,fe=Pe<3?ye:null===xe?xe=Object.getOwnPropertyDescriptor(ye,ke):xe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)fe=Reflect.decorate(re,ye,ke,xe);else for(var Ce=re.length-1;Ce>=0;Ce--)(Te=re[Ce])&&(fe=(Pe<3?Te(fe):Pe>3?Te(ye,ke,fe):Te(ye,ke))||fe);return Pe>3&&fe&&Object.defineProperty(ye,ke,fe),fe}([p(2,g.XE),p(3,b.d),p(4,j.i6)],E);var S=a(6412),v=a(7579),M=a(8487),_=a(9152),f=a(1358),m=a(1004),L=a(2168),F=a(6746),G=a(3779),Y=a(9357),de=a(7922),le=a(8998),ce=a(4562),be=a(1161),N=a(1631),V=a(2122),Z=a(1882),ue=function(re,ye){return function(ke,xe){ye(ke,xe,re)}},oe=function(re,ye,ke,xe){return new(ke||(ke=Promise))(function(fe,Te){function Ce(Ve){try{pe(xe.next(Ve))}catch(Ae){Te(Ae)}}function Je(Ve){try{pe(xe.throw(Ve))}catch(Ae){Te(Ae)}}function pe(Ve){Ve.done?fe(Ve.value):function(fe){return fe instanceof ke?fe:new ke(function(Te){Te(fe)})}(Ve.value).then(Ce,Je)}pe((xe=xe.apply(re,ye||[])).next())})};class ee{constructor(ye,ke){this.model=ye,this.position=ke,this._providerRenameIdx=0,this._providers=S.G0.ordered(ye)}hasProvider(){return this._providers.length>0}resolveRenameLocation(ye){return oe(this,void 0,void 0,function*(){const ke=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){const Pe=this._providers[this._providerRenameIdx];if(!Pe.resolveRenameLocation)break;let fe=yield Pe.resolveRenameLocation(this.model,this.position,ye);if(fe){if(fe.rejectReason){ke.push(fe.rejectReason);continue}return fe}}const xe=this.model.getWordAtPosition(this.position);return xe?{range:new M.e(this.position.lineNumber,xe.startColumn,this.position.lineNumber,xe.endColumn),text:xe.word,rejectReason:ke.length>0?ke.join("\n"):void 0}:{range:M.e.fromPositions(this.position),text:"",rejectReason:ke.length>0?ke.join("\n"):void 0}})}provideRenameEdits(ye,ke){return oe(this,void 0,void 0,function*(){return this._provideRenameEdits(ye,this._providerRenameIdx,[],ke)})}_provideRenameEdits(ye,ke,xe,Pe){return oe(this,void 0,void 0,function*(){const fe=this._providers[ke];if(!fe)return{edits:[],rejectReason:xe.join("\n")};const Te=yield fe.provideRenameEdits(this.model,this.position,ye,Pe);return Te?Te.rejectReason?this._provideRenameEdits(ye,ke+1,xe.concat(Te.rejectReason),Pe):Te:this._provideRenameEdits(ye,ke+1,xe.concat(T.N("no result","No result.")),Pe)})}}function K(re,ye,ke){return oe(this,void 0,void 0,function*(){const xe=new ee(re,ye),Pe=yield xe.resolveRenameLocation(Y.T.None);return(null==Pe?void 0:Pe.rejectReason)?{edits:[],rejectReason:Pe.rejectReason}:xe.provideRenameEdits(ke,Y.T.None)})}let ne=class HR{constructor(ye,ke,xe,Pe,fe,Te,Ce){this.editor=ye,this._instaService=ke,this._notificationService=xe,this._bulkEditService=Pe,this._progressService=fe,this._logService=Te,this._configService=Ce,this._dispoableStore=new R.SL,this._cts=new Y.A,this._renameInputField=this._dispoableStore.add(new de.Ue(()=>this._dispoableStore.add(this._instaService.createInstance(E,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))))}static get(ye){return ye.getContribution(HR.ID)}dispose(){this._dispoableStore.dispose(),this._cts.dispose(!0)}run(){return oe(this,void 0,void 0,function*(){if(this._cts.dispose(!0),!this.editor.hasModel())return;const ye=this.editor.getPosition(),ke=new ee(this.editor.getModel(),ye);if(!ke.hasProvider())return;let xe;this._cts=new f.Dl(this.editor,5);try{const Ve=ke.resolveRenameLocation(this._cts.token);this._progressService.showWhile(Ve,250),xe=yield Ve}catch(Ve){return void _.O.get(this.editor).showMessage(Ve||T.N("resolveRenameLocationFailed","An unknown error occurred while resolving rename location"),ye)}if(!xe)return;if(xe.rejectReason)return void _.O.get(this.editor).showMessage(xe.rejectReason,ye);if(this._cts.token.isCancellationRequested)return;this._cts.dispose(),this._cts=new f.Dl(this.editor,5,xe.range);let Pe=this.editor.getSelection(),fe=0,Te=xe.text.length;!M.e.isEmpty(Pe)&&!M.e.spansMultipleLines(Pe)&&M.e.containsRange(xe.range,Pe)&&(fe=Math.max(0,Pe.startColumn-xe.range.startColumn),Te=Math.min(xe.range.endColumn,Pe.endColumn)-xe.range.startColumn);const Ce=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),Je=yield this._renameInputField.value.getInput(xe.range,xe.text,fe,Te,Ce,this._cts.token);if("boolean"==typeof Je)return void(Je&&this.editor.focus());this.editor.focus();const pe=(0,de.eP)(ke.provideRenameEdits(Je.newName,this._cts.token),this._cts.token).then(Ve=>oe(this,void 0,void 0,function*(){if(Ve&&this.editor.hasModel()){if(Ve.rejectReason)return void this._notificationService.info(Ve.rejectReason);this._bulkEditService.apply(L.fo.convert(Ve),{editor:this.editor,showPreview:Je.wantsPreview,label:T.N("label","Renaming '{0}'",null==xe?void 0:xe.text),quotableLabel:T.N("quotableLabel","Renaming {0}",null==xe?void 0:xe.text)}).then(Ae=>{Ae.ariaSummary&&(0,v.Z9)(T.N("aria","Successfully renamed '{0}' to '{1}'. Summary: {2}",xe.text,Je.newName,Ae.ariaSummary))}).catch(Ae=>{this._notificationService.error(T.N("rename.failedApply","Rename failed to apply edits")),this._logService.error(Ae)})}}),Ve=>{this._notificationService.error(T.N("rename.failed","Rename failed to compute edits")),this._logService.error(Ve)});return this._progressService.showWhile(pe,250),pe})}acceptRenameInput(ye){this._renameInputField.value.acceptInput(ye)}cancelRenameInput(){this._renameInputField.value.cancelInput(!0)}};ne.ID="editor.contrib.renameController",ne=function(re,ye,ke,xe){var Te,Pe=arguments.length,fe=Pe<3?ye:null===xe?xe=Object.getOwnPropertyDescriptor(ye,ke):xe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)fe=Reflect.decorate(re,ye,ke,xe);else for(var Ce=re.length-1;Ce>=0;Ce--)(Te=re[Ce])&&(fe=(Pe<3?Te(fe):Pe>3?Te(ye,ke,fe):Te(ye,ke))||fe);return Pe>3&&fe&&Object.defineProperty(ye,ke,fe),fe}([ue(1,ce.TG),ue(2,m.lT),ue(3,L.vu),ue(4,O.e),ue(5,le.VZ),ue(6,V.V)],ne);class he extends k.R6{constructor(){super({id:"editor.action.rename",label:T.N("rename.label","Rename Symbol"),alias:"Rename Symbol",precondition:j.Ao.and($.u.writable,$.u.hasRenameProvider),kbOpts:{kbExpr:$.u.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand(ye,ke){const xe=ye.get(G.$),[Pe,fe]=Array.isArray(ke)&&ke||[void 0,void 0];return F.o.isUri(Pe)&&d.L.isIPosition(fe)?xe.openCodeEditor({resource:Pe},xe.getActiveCodeEditor()).then(Te=>{!Te||(Te.setPosition(fe),Te.invokeWithinContext(Ce=>(this.reportTelemetry(Ce,Te),this.run(Ce,Te))))},U.dL):super.runCommand(ye,ke)}run(ye,ke){const xe=ne.get(ke);return xe?xe.run():Promise.resolve()}}(0,k._K)(ne.ID,ne),(0,k.Qr)(he);const ge=k._l.bindToContribution(ne.get);(0,k.fK)(new ge({id:"acceptRenameInput",precondition:w,handler:re=>re.acceptRenameInput(!1),kbOpts:{weight:199,kbExpr:$.u.focus,primary:3}})),(0,k.fK)(new ge({id:"acceptRenameInputWithPreview",precondition:j.Ao.and(w,j.Ao.has("config.editor.rename.enablePreview")),handler:re=>re.acceptRenameInput(!0),kbOpts:{weight:199,kbExpr:$.u.focus,primary:1027}})),(0,k.fK)(new ge({id:"cancelRenameInput",precondition:w,handler:re=>re.cancelRenameInput(),kbOpts:{weight:199,kbExpr:$.u.focus,primary:9,secondary:[1033]}})),(0,k.sb)("_executeDocumentRenameProvider",function(re,ye,...ke){const[xe]=ke;return(0,Z.p_)("string"==typeof xe),K(re,ye,xe)}),be.B.as(N.IP.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:T.N("enablePreview","Enable/disable the ability to preview changes before renaming"),default:!0,type:"boolean"}}})},6615:(Ct,Qe,a)=>{"use strict";a.d(Qe,{x:()=>k});var T=a(2109),U=a(8487),j=a(4857);let k=(()=>{class ${provideSelectionRanges(R,d){return function($,B,R,d){return new(R||(R=Promise))(function(g,b){function I(E){try{w(d.next(E))}catch(S){b(S)}}function p(E){try{w(d.throw(E))}catch(S){b(S)}}function w(E){E.done?g(E.value):function(g){return g instanceof R?g:new R(function(b){b(g)})}(E.value).then(I,p)}w((d=d.apply($,B||[])).next())})}(this,void 0,void 0,function*(){const C=[];for(const g of d){const b=[];C.push(b);const I=new Map;yield new Promise(p=>$._bracketsRightYield(p,0,R,g,I)),yield new Promise(p=>$._bracketsLeftYield(p,0,R,g,I,b))}return C})}static _bracketsRightYield(R,d,C,g,b){const I=new Map,p=Date.now();for(;;){if(d>=$._maxRounds){R();break}if(!g){R();break}let w=C.findNextBracket(g);if(!w){R();break}if(Date.now()-p>$._maxDuration){setTimeout(()=>$._bracketsRightYield(R,d+1,C,g,b));break}const S=w.close[0];if(w.isOpen){let v=I.has(S)?I.get(S):0;I.set(S,v+1)}else{let v=I.has(S)?I.get(S):0;if(v-=1,I.set(S,Math.max(0,v)),v<0){let M=b.get(S);M||(M=new j.S,b.set(S,M)),M.push(w.range)}}g=w.range.getEndPosition()}}static _bracketsLeftYield(R,d,C,g,b,I){const p=new Map,w=Date.now();for(;;){if(d>=$._maxRounds&&0===b.size){R();break}if(!g){R();break}let E=C.findPrevBracket(g);if(!E){R();break}if(Date.now()-w>$._maxDuration){setTimeout(()=>$._bracketsLeftYield(R,d+1,C,g,b,I));break}const v=E.close[0];if(E.isOpen){let M=p.has(v)?p.get(v):0;if(M-=1,p.set(v,Math.max(0,M)),M<0){let _=b.get(v);if(_){let f=_.shift();0===_.size&&b.delete(v);const m=U.e.fromPositions(E.range.getEndPosition(),f.getStartPosition()),L=U.e.fromPositions(E.range.getStartPosition(),f.getEndPosition());I.push({range:m}),I.push({range:L}),$._addBracketLeading(C,L,I)}}}else{let M=p.has(v)?p.get(v):0;p.set(v,M+1)}g=E.range.getStartPosition()}}static _addBracketLeading(R,d,C){if(d.startLineNumber===d.endLineNumber)return;const g=d.startLineNumber,b=R.getLineFirstNonWhitespaceColumn(g);0!==b&&b!==d.startColumn&&(C.push({range:U.e.fromPositions(new T.L(g,b),d.getEndPosition())}),C.push({range:U.e.fromPositions(new T.L(g,1),d.getEndPosition())}));const I=g-1;if(I>0){const p=R.getLineFirstNonWhitespaceColumn(I);p===d.startColumn&&p!==R.getLineLastNonWhitespaceColumn(I)&&(C.push({range:U.e.fromPositions(new T.L(I,p),d.getEndPosition())}),C.push({range:U.e.fromPositions(new T.L(I,1),d.getEndPosition())}))}}}return $._maxDuration=30,$._maxRounds=2,$})()},8845:(Ct,Qe,a)=>{"use strict";a.r(Qe),a.d(Qe,{provideSelectionRanges:()=>m});var T=a(2291),U=a(9357),j=a(4482),O=a(2109),k=a(8487),$=a(9730),B=a(9549),R=a(6412),d=a(1606),C=a(2836),g=a(579),I=a(6615),p=a(8896),w=a(5160),E=function(L,F,G,Y){return new(G||(G=Promise))(function(le,ce){function be(Z){try{V(Y.next(Z))}catch(ie){ce(ie)}}function N(Z){try{V(Y.throw(Z))}catch(ie){ce(ie)}}function V(Z){Z.done?le(Z.value):function(le){return le instanceof G?le:new G(function(ce){ce(le)})}(Z.value).then(be,N)}V((Y=Y.apply(L,F||[])).next())})};class S{constructor(F,G){this.index=F,this.ranges=G}mov(F){let G=this.index+(F?1:-1);if(G<0||G>=this.ranges.length)return this;const Y=new S(G,this.ranges);return Y.ranges[G].equalsRange(this.ranges[this.index])?Y.mov(F):Y}}let v=(()=>{class L{constructor(G){this._editor=G,this._ignoreSelection=!1}static get(G){return G.getContribution(L.ID)}dispose(){var G;null===(G=this._selectionListener)||void 0===G||G.dispose()}run(G){return E(this,void 0,void 0,function*(){if(!this._editor.hasModel())return;const Y=this._editor.getSelections(),de=this._editor.getModel();if(!R.AC.has(de)||(this._state||(yield m(de,Y.map(ce=>ce.getPosition()),this._editor.getOption(100),U.T.None).then(ce=>{var be;if(T.Of(ce)&&ce.length===Y.length&&this._editor.hasModel()&&T.fS(this._editor.getSelections(),Y,(N,V)=>N.equalsSelection(V))){for(let N=0;N<ce.length;N++)ce[N]=ce[N].filter(V=>V.containsPosition(Y[N].getStartPosition())&&V.containsPosition(Y[N].getEndPosition())),ce[N].unshift(Y[N]);this._state=ce.map(N=>new S(0,N)),null===(be=this._selectionListener)||void 0===be||be.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition(()=>{var N;this._ignoreSelection||(null===(N=this._selectionListener)||void 0===N||N.dispose(),this._state=void 0)})}})),!this._state))return;this._state=this._state.map(ce=>ce.mov(G));const le=this._state.map(ce=>$.Y.fromPositions(ce.ranges[ce.index].getStartPosition(),ce.ranges[ce.index].getEndPosition()));this._ignoreSelection=!0;try{this._editor.setSelections(le)}finally{this._ignoreSelection=!1}})}}return L.ID="editor.contrib.smartSelectController",L})();class M extends j.R6{constructor(F,G){super(G),this._forward=F}run(F,G){return E(this,void 0,void 0,function*(){let Y=v.get(G);Y&&(yield Y.run(this._forward))})}}function m(L,F,G,Y){return E(this,void 0,void 0,function*(){const de=R.AC.all(L);1===de.length&&de.unshift(new I.x);let le=[],ce=[];for(const be of de)le.push(Promise.resolve(be.provideSelectionRanges(L,F,Y)).then(N=>{if(T.Of(N)&&N.length===F.length)for(let V=0;V<F.length;V++){ce[V]||(ce[V]=[]);for(const Z of N[V])k.e.isIRange(Z.range)&&k.e.containsPosition(Z.range,F[V])&&ce[V].push(k.e.lift(Z.range))}},w.Cp));return yield Promise.all(le),ce.map(be=>{if(0===be.length)return[];be.sort((ie,ue)=>O.L.isBefore(ie.getStartPosition(),ue.getStartPosition())?1:O.L.isBefore(ue.getStartPosition(),ie.getStartPosition())||O.L.isBefore(ie.getEndPosition(),ue.getEndPosition())?-1:O.L.isBefore(ue.getEndPosition(),ie.getEndPosition())?1:0);let V,N=[];for(const ie of be)(!V||k.e.containsRange(ie,V)&&!k.e.equalsRange(ie,V))&&(N.push(ie),V=ie);if(!G.selectLeadingAndTrailingWhitespace)return N;let Z=[N[0]];for(let ie=1;ie<N.length;ie++){const ue=N[ie-1],oe=N[ie];if(oe.startLineNumber!==ue.startLineNumber||oe.endLineNumber!==ue.endLineNumber){const ee=new k.e(ue.startLineNumber,L.getLineFirstNonWhitespaceColumn(ue.startLineNumber),ue.endLineNumber,L.getLineLastNonWhitespaceColumn(ue.endLineNumber));ee.containsRange(ue)&&!ee.equalsRange(ue)&&oe.containsRange(ee)&&!oe.equalsRange(ee)&&Z.push(ee);const K=new k.e(ue.startLineNumber,1,ue.endLineNumber,L.getLineMaxColumn(ue.endLineNumber));K.containsRange(ue)&&!K.equalsRange(ee)&&oe.containsRange(K)&&!oe.equalsRange(K)&&Z.push(K)}Z.push(oe)}return Z})})}p.P.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand"),(0,j._K)(v.ID,v),(0,j.Qr)(class extends M{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:d.N("smartSelect.expand","Expand Selection"),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:B.u.editorTextFocus,primary:1553,mac:{primary:3345,secondary:[1297]},weight:100},menuOpts:{menuId:C.eH.MenubarSelectionMenu,group:"1_basic",title:d.N({key:"miSmartSelectGrow",comment:["&& denotes a mnemonic"]},"&&Expand Selection"),order:2}})}}),(0,j.Qr)(class extends M{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:d.N("smartSelect.shrink","Shrink Selection"),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:B.u.editorTextFocus,primary:1551,mac:{primary:3343,secondary:[1295]},weight:100},menuOpts:{menuId:C.eH.MenubarSelectionMenu,group:"1_basic",title:d.N({key:"miSmartSelectShrink",comment:["&& denotes a mnemonic"]},"&&Shrink Selection"),order:3}})}}),R.AC.register("*",new class{provideSelectionRanges(F,G){const Y=[];for(const de of G){const le=[];Y.push(le),this._addInWordRanges(le,F,de),this._addWordRanges(le,F,de),this._addWhitespaceLine(le,F,de),le.push({range:F.getFullModelRange()})}return Y}_addInWordRanges(F,G,Y){const de=G.getWordAtPosition(Y);if(!de)return;let{word:le,startColumn:ce}=de,be=Y.column-ce,N=be,V=be,Z=0;for(;N>=0;N--){let ie=le.charCodeAt(N);if(N!==be&&(95===ie||45===ie))break;if((0,g.mK)(ie)&&(0,g.df)(Z))break;Z=ie}for(N+=1;V<le.length;V++){let ie=le.charCodeAt(V);if((0,g.df)(ie)&&(0,g.mK)(Z))break;if(95===ie||45===ie)break;Z=ie}N<V&&F.push({range:new k.e(Y.lineNumber,ce+N,Y.lineNumber,ce+V)})}_addWordRanges(F,G,Y){const de=G.getWordAtPosition(Y);de&&F.push({range:new k.e(Y.lineNumber,de.startColumn,Y.lineNumber,de.endColumn)})}_addWhitespaceLine(F,G,Y){G.getLineLength(Y.lineNumber)>0&&0===G.getLineFirstNonWhitespaceColumn(Y.lineNumber)&&0===G.getLineLastNonWhitespaceColumn(Y.lineNumber)&&F.push({range:new k.e(Y.lineNumber,1,Y.lineNumber,G.getLineMaxColumn(Y.lineNumber))})}}),(0,j.f)("_executeSelectionRangeProvider",function(L,...F){const[G]=F;return m(L,G,{selectLeadingAndTrailingWhitespace:!0},U.T.None)})},1079:(Ct,Qe,a)=>{"use strict";a.r(Qe),a.d(Qe,{SnippetController2:()=>p});var T=a(1719),U=a(4482),j=a(8487),O=a(9730),k=a(9549),$=a(9844),B=a(2844),R=a(8998),d=a(6020),C=a(1606),b=function(E,S){return function(v,M){S(v,M,E)}};const I={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let p=class Xg{constructor(S,v,M){this._editor=S,this._logService=v,this._snippetListener=new T.SL,this._modelVersionId=-1,this._inSnippet=Xg.InSnippetMode.bindTo(M),this._hasNextTabstop=Xg.HasNextTabstop.bindTo(M),this._hasPrevTabstop=Xg.HasPrevTabstop.bindTo(M)}static get(S){return S.getContribution(Xg.ID)}dispose(){var S;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),null===(S=this._session)||void 0===S||S.dispose(),this._snippetListener.dispose()}insert(S,v){try{this._doInsert(S,void 0===v?I:Object.assign(Object.assign({},I),v))}catch(M){this.cancel(),this._logService.error(M),this._logService.error("snippet_error"),this._logService.error("insert_template=",S),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(S,v){!this._editor.hasModel()||(this._snippetListener.clear(),v.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session?this._session.merge(S,v):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new d.l(this._editor,S,v),this._session.insert()),v.undoStopAfter&&this._editor.getModel().pushStackElement(),this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(M=>M.isFlush&&this.cancel())),this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel())),this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState())))}_updateState(){if(this._session&&this._editor.hasModel()){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){if(!this._session||!this._editor.hasModel())return void(this._currentChoice=void 0);const{choice:S}=this._session;if(S){if(this._currentChoice!==S){this._currentChoice=S,this._editor.setSelections(this._editor.getSelections().map(M=>O.Y.fromPositions(M.getStartPosition())));const[v]=S.options;(0,$.i5)(this._editor,S.options.map((M,_)=>({kind:13,label:M.value,insertText:M.value,sortText:"a".repeat(_+1),range:j.e.fromPositions(this._editor.getPosition(),this._editor.getPosition().delta(0,v.value.length))})))}}else this._currentChoice=void 0}finish(){for(;this._inSnippet.get();)this.next()}cancel(S=!1){var v;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),null===(v=this._session)||void 0===v||v.dispose(),this._session=void 0,this._modelVersionId=-1,S&&this._editor.setSelections([this._editor.getSelection()])}prev(){this._session&&this._session.prev(),this._updateState()}next(){this._session&&this._session.next(),this._updateState()}isInSnippet(){return Boolean(this._inSnippet.get())}};p.ID="snippetController2",p.InSnippetMode=new B.uy("inSnippetMode",!1,(0,C.N)("inSnippetMode","Whether the editor in current in snippet mode")),p.HasNextTabstop=new B.uy("hasNextTabstop",!1,(0,C.N)("hasNextTabstop","Whether there is a next tab stop when in snippet mode")),p.HasPrevTabstop=new B.uy("hasPrevTabstop",!1,(0,C.N)("hasPrevTabstop","Whether there is a previous tab stop when in snippet mode")),p=function(E,S,v,M){var m,_=arguments.length,f=_<3?S:null===M?M=Object.getOwnPropertyDescriptor(S,v):M;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(E,S,v,M);else for(var L=E.length-1;L>=0;L--)(m=E[L])&&(f=(_<3?m(f):_>3?m(S,v,f):m(S,v))||f);return _>3&&f&&Object.defineProperty(S,v,f),f}([b(1,R.VZ),b(2,B.i6)],p),(0,U._K)(p.ID,p);const w=U._l.bindToContribution(p.get);(0,U.fK)(new w({id:"jumpToNextSnippetPlaceholder",precondition:B.Ao.and(p.InSnippetMode,p.HasNextTabstop),handler:E=>E.next(),kbOpts:{weight:130,kbExpr:k.u.editorTextFocus,primary:2}})),(0,U.fK)(new w({id:"jumpToPrevSnippetPlaceholder",precondition:B.Ao.and(p.InSnippetMode,p.HasPrevTabstop),handler:E=>E.prev(),kbOpts:{weight:130,kbExpr:k.u.editorTextFocus,primary:1026}})),(0,U.fK)(new w({id:"leaveSnippet",precondition:p.InSnippetMode,handler:E=>E.cancel(!0),kbOpts:{weight:130,kbExpr:k.u.editorTextFocus,primary:9,secondary:[1033]}})),(0,U.fK)(new w({id:"acceptSnippet",precondition:p.InSnippetMode,handler:E=>E.finish()}))},4915:(Ct,Qe,a)=>{"use strict";a.d(Qe,{xv:()=>j,Vm:()=>k,Lv:()=>$,Yj:()=>b});let T=(()=>{class I{constructor(){this.value="",this.pos=0}static isDigitCharacter(w){return w>=48&&w<=57}static isVariableCharacter(w){return 95===w||w>=97&&w<=122||w>=65&&w<=90}text(w){this.value=w,this.pos=0}tokenText(w){return this.value.substr(w.pos,w.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};let v,w=this.pos,E=0,S=this.value.charCodeAt(w);if(v=I._table[S],"number"==typeof v)return this.pos+=1,{type:v,pos:w,len:1};if(I.isDigitCharacter(S)){v=8;do{E+=1,S=this.value.charCodeAt(w+E)}while(I.isDigitCharacter(S));return this.pos+=E,{type:v,pos:w,len:E}}if(I.isVariableCharacter(S)){v=9;do{S=this.value.charCodeAt(w+ ++E)}while(I.isVariableCharacter(S)||I.isDigitCharacter(S));return this.pos+=E,{type:v,pos:w,len:E}}v=10;do{E+=1,S=this.value.charCodeAt(w+E)}while(!isNaN(S)&&void 0===I._table[S]&&!I.isDigitCharacter(S)&&!I.isVariableCharacter(S));return this.pos+=E,{type:v,pos:w,len:E}}}return I._table={36:0,58:1,44:2,123:3,125:4,92:5,47:6,124:7,43:11,45:12,63:13},I})();class U{constructor(){this._children=[]}appendChild(p){return p instanceof j&&this._children[this._children.length-1]instanceof j?this._children[this._children.length-1].value+=p.value:(p.parent=this,this._children.push(p)),this}replace(p,w){const{parent:E}=p,S=E.children.indexOf(p),v=E.children.slice(0);v.splice(S,1,...w),E._children=v,function M(_,f){for(const m of _)m.parent=f,M(m.children,m)}(w,E)}get children(){return this._children}get snippet(){let p=this;for(;;){if(!p)return;if(p instanceof g)return p;p=p.parent}}toString(){return this.children.reduce((p,w)=>p+w.toString(),"")}len(){return 0}}class j extends U{constructor(p){super(),this.value=p}toString(){return this.value}len(){return this.value.length}clone(){return new j(this.value)}}class O extends U{}class k extends O{constructor(p){super(),this.index=p}static compareByIndex(p,w){return p.index===w.index?0:p.isFinalTabstop?1:w.isFinalTabstop||p.index<w.index?-1:p.index>w.index?1:0}get isFinalTabstop(){return 0===this.index}get choice(){return 1===this._children.length&&this._children[0]instanceof $?this._children[0]:void 0}clone(){let p=new k(this.index);return this.transform&&(p.transform=this.transform.clone()),p._children=this.children.map(w=>w.clone()),p}}class $ extends U{constructor(){super(...arguments),this.options=[]}appendChild(p){return p instanceof j&&(p.parent=this,this.options.push(p)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){let p=new $;return this.options.forEach(p.appendChild,p),p}}class B extends U{constructor(){super(...arguments),this.regexp=new RegExp("")}resolve(p){const w=this;let E=!1,S=p.replace(this.regexp,function(){return E=!0,w._replace(Array.prototype.slice.call(arguments,0,-2))});return!E&&this._children.some(v=>v instanceof R&&Boolean(v.elseValue))&&(S=this._replace([])),S}_replace(p){let w="";for(const E of this._children)if(E instanceof R){let S=p[E.index]||"";S=E.resolve(S),w+=S}else w+=E.toString();return w}toString(){return""}clone(){let p=new B;return p.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),p._children=this.children.map(w=>w.clone()),p}}class R extends U{constructor(p,w,E,S){super(),this.index=p,this.shorthandName=w,this.ifValue=E,this.elseValue=S}resolve(p){return"upcase"===this.shorthandName?p?p.toLocaleUpperCase():"":"downcase"===this.shorthandName?p?p.toLocaleLowerCase():"":"capitalize"===this.shorthandName?p?p[0].toLocaleUpperCase()+p.substr(1):"":"pascalcase"===this.shorthandName?p?this._toPascalCase(p):"":"camelcase"===this.shorthandName?p?this._toCamelCase(p):"":Boolean(p)&&"string"==typeof this.ifValue?this.ifValue:Boolean(p)||"string"!=typeof this.elseValue?p||"":this.elseValue}_toPascalCase(p){const w=p.match(/[a-z0-9]+/gi);return w?w.map(E=>E.charAt(0).toUpperCase()+E.substr(1).toLowerCase()).join(""):p}_toCamelCase(p){const w=p.match(/[a-z0-9]+/gi);return w?w.map((E,S)=>0===S?E.toLowerCase():E.charAt(0).toUpperCase()+E.substr(1).toLowerCase()).join(""):p}clone(){return new R(this.index,this.shorthandName,this.ifValue,this.elseValue)}}class d extends O{constructor(p){super(),this.name=p}resolve(p){let w=p.resolve(this);return this.transform&&(w=this.transform.resolve(w||"")),void 0!==w&&(this._children=[new j(w)],!0)}clone(){const p=new d(this.name);return this.transform&&(p.transform=this.transform.clone()),p._children=this.children.map(w=>w.clone()),p}}function C(I,p){const w=[...I];for(;w.length>0;){const E=w.shift();if(!p(E))break;w.unshift(...E.children)}}class g extends U{get placeholderInfo(){if(!this._placeholders){let w,p=[];this.walk(function(E){return E instanceof k&&(p.push(E),w=!w||w.index<E.index?E:w),!0}),this._placeholders={all:p,last:w}}return this._placeholders}get placeholders(){const{all:p}=this.placeholderInfo;return p}offset(p){let w=0,E=!1;return this.walk(S=>S===p?(E=!0,!1):(w+=S.len(),!0)),E?w:-1}fullLen(p){let w=0;return C([p],E=>(w+=E.len(),!0)),w}enclosingPlaceholders(p){let w=[],{parent:E}=p;for(;E;)E instanceof k&&w.push(E),E=E.parent;return w}resolveVariables(p){return this.walk(w=>(w instanceof d&&w.resolve(p)&&(this._placeholders=void 0),!0)),this}appendChild(p){return this._placeholders=void 0,super.appendChild(p)}replace(p,w){return this._placeholders=void 0,super.replace(p,w)}clone(){let p=new g;return this._children=this.children.map(w=>w.clone()),p}walk(p){C(this.children,p)}}class b{constructor(){this._scanner=new T,this._token={type:14,pos:0,len:0}}static escape(p){return p.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(p){return/\${?CLIPBOARD/.test(p)}parse(p,w,E){this._scanner.text(p),this._token=this._scanner.next();const S=new g;for(;this._parse(S););const v=new Map,M=[];let _=0;S.walk(f=>(f instanceof k&&(_+=1,f.isFinalTabstop?v.set(0,void 0):!v.has(f.index)&&f.children.length>0?v.set(f.index,f.children):M.push(f)),!0));for(const f of M){const m=v.get(f.index);if(m){const L=new k(f.index);L.transform=f.transform;for(const F of m)L.appendChild(F.clone());S.replace(f,[L])}}return E||(E=_>0&&w),!v.has(0)&&E&&S.appendChild(new k(0)),S}_accept(p,w){if(void 0===p||this._token.type===p){let E=!w||this._scanner.tokenText(this._token);return this._token=this._scanner.next(),E}return!1}_backTo(p){return this._scanner.pos=p.pos+p.len,this._token=p,!1}_until(p){const w=this._token;for(;this._token.type!==p;){if(14===this._token.type)return!1;if(5===this._token.type){const S=this._scanner.next();if(0!==S.type&&4!==S.type&&5!==S.type)return!1}this._token=this._scanner.next()}const E=this._scanner.value.substring(w.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),E}_parse(p){return this._parseEscaped(p)||this._parseTabstopOrVariableName(p)||this._parseComplexPlaceholder(p)||this._parseComplexVariable(p)||this._parseAnything(p)}_parseEscaped(p){let w;return!!(w=this._accept(5,!0))&&(w=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||w,p.appendChild(new j(w)),!0)}_parseTabstopOrVariableName(p){let w;const E=this._token;return this._accept(0)&&(w=this._accept(9,!0)||this._accept(8,!0))?(p.appendChild(/^\d+$/.test(w)?new k(Number(w)):new d(w)),!0):this._backTo(E)}_parseComplexPlaceholder(p){let w;const E=this._token;if(!(this._accept(0)&&this._accept(3)&&(w=this._accept(8,!0))))return this._backTo(E);const v=new k(Number(w));if(this._accept(1))for(;;){if(this._accept(4))return p.appendChild(v),!0;if(!this._parse(v))return p.appendChild(new j("${"+w+":")),v.children.forEach(p.appendChild,p),!0}else{if(!(v.index>0&&this._accept(7)))return this._accept(6)?this._parseTransform(v)?(p.appendChild(v),!0):(this._backTo(E),!1):this._accept(4)?(p.appendChild(v),!0):this._backTo(E);{const M=new $;for(;;){if(this._parseChoiceElement(M)){if(this._accept(2))continue;if(this._accept(7)&&(v.appendChild(M),this._accept(4)))return p.appendChild(v),!0}return this._backTo(E),!1}}}}_parseChoiceElement(p){const w=this._token,E=[];for(;2!==this._token.type&&7!==this._token.type;){let S;if(S=(S=this._accept(5,!0))?this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||S:this._accept(void 0,!0),!S)return this._backTo(w),!1;E.push(S)}return 0===E.length?(this._backTo(w),!1):(p.appendChild(new j(E.join(""))),!0)}_parseComplexVariable(p){let w;const E=this._token;if(!(this._accept(0)&&this._accept(3)&&(w=this._accept(9,!0))))return this._backTo(E);const v=new d(w);if(!this._accept(1))return this._accept(6)?this._parseTransform(v)?(p.appendChild(v),!0):(this._backTo(E),!1):this._accept(4)?(p.appendChild(v),!0):this._backTo(E);for(;;){if(this._accept(4))return p.appendChild(v),!0;if(!this._parse(v))return p.appendChild(new j("${"+w+":")),v.children.forEach(p.appendChild,p),!0}}_parseTransform(p){let w=new B,E="",S="";for(;!this._accept(6);){let v;if(v=this._accept(5,!0))v=this._accept(6,!0)||v,E+=v;else{if(14===this._token.type)return!1;E+=this._accept(void 0,!0)}}for(;!this._accept(6);){let v;if(v=this._accept(5,!0))v=this._accept(5,!0)||this._accept(6,!0)||v,w.appendChild(new j(v));else if(!this._parseFormatString(w)&&!this._parseAnything(w))return!1}for(;!this._accept(4);){if(14===this._token.type)return!1;S+=this._accept(void 0,!0)}try{w.regexp=new RegExp(E,S)}catch(v){return!1}return p.transform=w,!0}_parseFormatString(p){const w=this._token;if(!this._accept(0))return!1;let E=!1;this._accept(3)&&(E=!0);let S=this._accept(8,!0);if(!S)return this._backTo(w),!1;if(!E)return p.appendChild(new R(Number(S))),!0;if(this._accept(4))return p.appendChild(new R(Number(S))),!0;if(!this._accept(1))return this._backTo(w),!1;if(this._accept(6)){let v=this._accept(9,!0);return v&&this._accept(4)?(p.appendChild(new R(Number(S),v)),!0):(this._backTo(w),!1)}if(this._accept(11)){let v=this._until(4);if(v)return p.appendChild(new R(Number(S),void 0,v,void 0)),!0}else if(this._accept(12)){let v=this._until(4);if(v)return p.appendChild(new R(Number(S),void 0,void 0,v)),!0}else if(this._accept(13)){let v=this._until(1);if(v){let M=this._until(4);if(M)return p.appendChild(new R(Number(S),void 0,v,M)),!0}}else{let v=this._until(4);if(v)return p.appendChild(new R(Number(S),void 0,void 0,v)),!0}return this._backTo(w),!1}_parseAnything(p){return 14!==this._token.type&&(p.appendChild(new j(this._scanner.tokenText(this._token))),this._accept(void 0),!0)}}},6020:(Ct,Qe,a)=>{"use strict";a.d(Qe,{l:()=>K});var T=a(2291),U=a(1719),j=a(579),k=(a(8560),a(7900)),$=a(8487),B=a(9730),R=a(111),d=a(7554),C=a(4562),g=a(4915),b=a(1606),I=a(8416),p=a(8401),w=a(2587),E=a(6746);const S="code-workspace";function v(ne){return"string"==typeof(null==ne?void 0:ne.id)&&E.o.isUri(ne.uri)}var _=a(6844);const f=new Uint8Array(16),m=[];for(let ne=0;ne<256;ne++)m.push(ne.toString(16).padStart(2,"0"));let L;L="object"==typeof crypto&&"function"==typeof crypto.getRandomValues?crypto.getRandomValues.bind(crypto):function(ne){for(let he=0;he<ne.length;he++)ne[he]=Math.floor(256*Math.random());return ne};class G{constructor(he){this._delegates=he}resolve(he){for(const ge of this._delegates){let re=ge.resolve(he);if(void 0!==re)return re}}}class Y{constructor(he,ge,re,ye){this._model=he,this._selection=ge,this._selectionIdx=re,this._overtypingCapturer=ye}resolve(he){const{name:ge}=he;if("SELECTION"===ge||"TM_SELECTED_TEXT"===ge){let re=this._model.getValueInRange(this._selection)||void 0,ye=this._selection.startLineNumber!==this._selection.endLineNumber;if(!re&&this._overtypingCapturer){const ke=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);ke&&(re=ke.value,ye=ke.multiline)}if(re&&ye&&he.snippet){const ke=this._model.getLineContent(this._selection.startLineNumber),xe=(0,j.V8)(ke,0,this._selection.startColumn-1);let Pe=xe;he.snippet.walk(Te=>Te!==he&&(Te instanceof g.xv&&(Pe=(0,j.V8)((0,j.uq)(Te.value).pop())),!0));const fe=(0,j.Mh)(Pe,xe);re=re.replace(/(\r\n|\r|\n)(.*)/g,(Te,Ce,Je)=>`${Ce}${Pe.substr(fe)}${Je}`)}return re}if("TM_CURRENT_LINE"===ge)return this._model.getLineContent(this._selection.positionLineNumber);if("TM_CURRENT_WORD"===ge){const re=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return re&&re.word||void 0}return"TM_LINE_INDEX"===ge?String(this._selection.positionLineNumber-1):"TM_LINE_NUMBER"===ge?String(this._selection.positionLineNumber):void 0}}class de{constructor(he,ge){this._labelService=he,this._model=ge}resolve(he){const{name:ge}=he;if("TM_FILENAME"===ge)return I.EZ(this._model.uri.fsPath);if("TM_FILENAME_BASE"===ge){const re=I.EZ(this._model.uri.fsPath),ye=re.lastIndexOf(".");return ye<=0?re:re.slice(0,ye)}return"TM_DIRECTORY"===ge&&this._labelService?"."===I.XX(this._model.uri.fsPath)?"":this._labelService.getUriLabel((0,p.XX)(this._model.uri)):"TM_FILEPATH"===ge&&this._labelService?this._labelService.getUriLabel(this._model.uri):"RELATIVE_FILEPATH"===ge&&this._labelService?this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0}):void 0}}class le{constructor(he,ge,re,ye){this._readClipboardText=he,this._selectionIdx=ge,this._selectionCount=re,this._spread=ye}resolve(he){if("CLIPBOARD"!==he.name)return;const ge=this._readClipboardText();if(ge){if(this._spread){const re=ge.split(/\r\n|\n|\r/).filter(ye=>!(0,j.m5)(ye));if(re.length===this._selectionCount)return re[this._selectionIdx]}return ge}}}class ce{constructor(he,ge){this._model=he,this._selection=ge}resolve(he){const{name:ge}=he,re=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),ye=w.zu.getComments(re);if(ye){if("LINE_COMMENT"===ge)return ye.lineCommentToken||void 0;if("BLOCK_COMMENT_START"===ge)return ye.blockCommentStartToken||void 0;if("BLOCK_COMMENT_END"===ge)return ye.blockCommentEndToken||void 0}}}class be{resolve(he){const{name:ge}=he;return"CURRENT_YEAR"===ge?String((new Date).getFullYear()):"CURRENT_YEAR_SHORT"===ge?String((new Date).getFullYear()).slice(-2):"CURRENT_MONTH"===ge?String((new Date).getMonth().valueOf()+1).padStart(2,"0"):"CURRENT_DATE"===ge?String((new Date).getDate().valueOf()).padStart(2,"0"):"CURRENT_HOUR"===ge?String((new Date).getHours().valueOf()).padStart(2,"0"):"CURRENT_MINUTE"===ge?String((new Date).getMinutes().valueOf()).padStart(2,"0"):"CURRENT_SECOND"===ge?String((new Date).getSeconds().valueOf()).padStart(2,"0"):"CURRENT_DAY_NAME"===ge?be.dayNames[(new Date).getDay()]:"CURRENT_DAY_NAME_SHORT"===ge?be.dayNamesShort[(new Date).getDay()]:"CURRENT_MONTH_NAME"===ge?be.monthNames[(new Date).getMonth()]:"CURRENT_MONTH_NAME_SHORT"===ge?be.monthNamesShort[(new Date).getMonth()]:"CURRENT_SECONDS_UNIX"===ge?String(Math.floor(Date.now()/1e3)):void 0}}be.dayNames=[b.N("Sunday","Sunday"),b.N("Monday","Monday"),b.N("Tuesday","Tuesday"),b.N("Wednesday","Wednesday"),b.N("Thursday","Thursday"),b.N("Friday","Friday"),b.N("Saturday","Saturday")],be.dayNamesShort=[b.N("SundayShort","Sun"),b.N("MondayShort","Mon"),b.N("TuesdayShort","Tue"),b.N("WednesdayShort","Wed"),b.N("ThursdayShort","Thu"),b.N("FridayShort","Fri"),b.N("SaturdayShort","Sat")],be.monthNames=[b.N("January","January"),b.N("February","February"),b.N("March","March"),b.N("April","April"),b.N("May","May"),b.N("June","June"),b.N("July","July"),b.N("August","August"),b.N("September","September"),b.N("October","October"),b.N("November","November"),b.N("December","December")],be.monthNamesShort=[b.N("JanuaryShort","Jan"),b.N("FebruaryShort","Feb"),b.N("MarchShort","Mar"),b.N("AprilShort","Apr"),b.N("MayShort","May"),b.N("JuneShort","Jun"),b.N("JulyShort","Jul"),b.N("AugustShort","Aug"),b.N("SeptemberShort","Sep"),b.N("OctoberShort","Oct"),b.N("NovemberShort","Nov"),b.N("DecemberShort","Dec")];class N{constructor(he){this._workspaceService=he}resolve(he){if(!this._workspaceService)return;const ge=(ne=this._workspaceService.getWorkspace()).configuration?{id:ne.id,configPath:ne.configuration}:1===ne.folders.length?{id:ne.id,uri:ne.folders[0].uri}:void 0;var ne;if(ge){if("WORKSPACE_NAME"===he.name)return this._resolveWorkspaceName(ge);if("WORKSPACE_FOLDER"===he.name)return this._resoveWorkspacePath(ge)}}_resolveWorkspaceName(he){if(v(he))return I.EZ(he.uri.path);let ge=I.EZ(he.configPath.path);return ge.endsWith(S)&&(ge=ge.substr(0,ge.length-S.length-1)),ge}_resoveWorkspacePath(he){if(v(he))return(0,_.D)(he.uri.fsPath);let ge=I.EZ(he.configPath.path),re=he.configPath.fsPath;return re.endsWith(ge)&&(re=re.substr(0,re.length-ge.length-1)),re?(0,_.D)(re):"/"}}class V{resolve(he){const{name:ge}=he;return"RANDOM"===ge?Math.random().toString().slice(-6):"RANDOM_HEX"===ge?Math.random().toString(16).slice(-6):"UUID"===ge?function(){L(f),f[6]=15&f[6]|64,f[8]=63&f[8]|128;let ne=0,he="";return he+=m[f[ne++]],he+=m[f[ne++]],he+=m[f[ne++]],he+=m[f[ne++]],he+="-",he+=m[f[ne++]],he+=m[f[ne++]],he+="-",he+=m[f[ne++]],he+=m[f[ne++]],he+="-",he+=m[f[ne++]],he+=m[f[ne++]],he+="-",he+=m[f[ne++]],he+=m[f[ne++]],he+=m[f[ne++]],he+=m[f[ne++]],he+=m[f[ne++]],he+=m[f[ne++]],he}():void 0}}var Z=a(6803),ie=a(7251),ue=a(5360);(0,Z.Ic)((ne,he)=>{function ge(re){const ye=ne.getColor(re);return ye?ye.toString():"transparent"}he.addRule(`.monaco-editor .snippet-placeholder { background-color: ${ge(ie.u2)}; outline-color: ${ge(ie.Pk)}; }`),he.addRule(`.monaco-editor .finish-snippet-placeholder { background-color: ${ge(ie.I1)}; outline-color: ${ge(ie.U6)}; }`)});class oe{constructor(he,ge,re,ye){this._editor=he,this._snippet=ge,this._offset=re,this._snippetLineLeadingWhitespace=ye,this._nestingLevel=1,this._placeholderGroups=(0,T.vM)(ge.placeholders,g.Vm.compareByIndex),this._placeholderGroupsIdx=-1}dispose(){this._placeholderDecorations&&this._editor.deltaDecorations([...this._placeholderDecorations.values()],[]),this._placeholderGroups.length=0}_initDecorations(){if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;const he=this._editor.getModel();this._editor.changeDecorations(ge=>{for(const re of this._snippet.placeholders){const ye=this._snippet.offset(re),ke=this._snippet.fullLen(re),xe=$.e.fromPositions(he.getPositionAt(this._offset+ye),he.getPositionAt(this._offset+ye+ke)),fe=ge.addDecoration(xe,re.isFinalTabstop?oe._decor.inactiveFinal:oe._decor.inactive);this._placeholderDecorations.set(re,fe)}})}move(he){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){let ye=[];for(const ke of this._placeholderGroups[this._placeholderGroupsIdx])if(ke.transform){const xe=this._placeholderDecorations.get(ke),Pe=this._editor.getModel().getDecorationRange(xe),fe=this._editor.getModel().getValueInRange(Pe),Te=ke.transform.resolve(fe).split(/\r\n|\r|\n/);for(let Ce=1;Ce<Te.length;Ce++)Te[Ce]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+Te[Ce]);ye.push(k.h.replace(Pe,Te.join(this._editor.getModel().getEOL())))}ye.length>0&&this._editor.executeEdits("snippet.placeholderTransform",ye)}let ge=!1;!0===he&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,ge=!0):!1===he&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,ge=!0);const re=this._editor.getModel().changeDecorations(ye=>{const ke=new Set,xe=[];for(const Pe of this._placeholderGroups[this._placeholderGroupsIdx]){const fe=this._placeholderDecorations.get(Pe),Te=this._editor.getModel().getDecorationRange(fe);xe.push(new B.Y(Te.startLineNumber,Te.startColumn,Te.endLineNumber,Te.endColumn)),ge=ge&&this._hasPlaceholderBeenCollapsed(Pe),ye.changeDecorationOptions(fe,Pe.isFinalTabstop?oe._decor.activeFinal:oe._decor.active),ke.add(Pe);for(const Ce of this._snippet.enclosingPlaceholders(Pe)){const Je=this._placeholderDecorations.get(Ce);ye.changeDecorationOptions(Je,Ce.isFinalTabstop?oe._decor.activeFinal:oe._decor.active),ke.add(Ce)}}for(const[Pe,fe]of this._placeholderDecorations)ke.has(Pe)||ye.changeDecorationOptions(fe,Pe.isFinalTabstop?oe._decor.inactiveFinal:oe._decor.inactive);return xe});return ge?this.move(he):null!=re?re:[]}_hasPlaceholderBeenCollapsed(he){let ge=he;for(;ge;){if(ge instanceof g.Vm){const re=this._placeholderDecorations.get(ge);if(this._editor.getModel().getDecorationRange(re).isEmpty()&&ge.toString().length>0)return!0}ge=ge.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||0===this._placeholderGroups.length}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}computePossibleSelections(){const he=new Map;for(const ge of this._placeholderGroups){let re;for(const ye of ge){if(ye.isFinalTabstop)break;re||(re=[],he.set(ye.index,re));const ke=this._placeholderDecorations.get(ye),xe=this._editor.getModel().getDecorationRange(ke);if(!xe){he.delete(ye.index);break}re.push(xe)}}return he}get choice(){return this._placeholderGroups[this._placeholderGroupsIdx][0].choice}merge(he){const ge=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(re=>{for(const ye of this._placeholderGroups[this._placeholderGroupsIdx]){const ke=he.shift();console.assert(!ke._placeholderDecorations);const xe=ke._snippet.placeholderInfo.last.index;for(const fe of ke._snippet.placeholderInfo.all)fe.index=fe.isFinalTabstop?ye.index+(xe+1)/this._nestingLevel:ye.index+fe.index/this._nestingLevel;this._snippet.replace(ye,ke._snippet.children);const Pe=this._placeholderDecorations.get(ye);re.removeDecoration(Pe),this._placeholderDecorations.delete(ye);for(const fe of ke._snippet.placeholders){const Te=ke._snippet.offset(fe),Ce=ke._snippet.fullLen(fe),Je=$.e.fromPositions(ge.getPositionAt(ke._offset+Te),ge.getPositionAt(ke._offset+Te+Ce)),pe=re.addDecoration(Je,oe._decor.inactive);this._placeholderDecorations.set(fe,pe)}}this._placeholderGroups=(0,T.vM)(this._snippet.placeholders,g.Vm.compareByIndex)})}}oe._decor={active:R.qx.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:R.qx.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:R.qx.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:R.qx.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};const ee={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};class K{constructor(he,ge,re=ee){this._templateMerges=[],this._snippets=[],this._editor=he,this._template=ge,this._options=re}static adjustWhitespace(he,ge,re,ye,ke){const xe=he.getLineContent(ge.lineNumber),Pe=(0,j.V8)(xe,0,ge.column-1);let fe;return re.walk(Te=>{if(!(Te instanceof g.xv)||Te.parent instanceof g.Lv)return!0;const Ce=Te.value.split(/\r\n|\r|\n/);if(ye){const pe=re.offset(Te);if(0===pe)Ce[0]=he.normalizeIndentation(Ce[0]);else{fe=null!=fe?fe:re.toString();let Ve=fe.charCodeAt(pe-1);(10===Ve||13===Ve)&&(Ce[0]=he.normalizeIndentation(Pe+Ce[0]))}for(let Ve=1;Ve<Ce.length;Ve++)Ce[Ve]=he.normalizeIndentation(Pe+Ce[Ve])}const Je=Ce.join(he.getEOL());return Je!==Te.value&&(Te.parent.replace(Te,[new g.xv(Je)]),fe=void 0),!0}),Pe}static adjustSelection(he,ge,re,ye){if(0!==re||0!==ye){const{positionLineNumber:ke,positionColumn:xe}=ge,Te=he.validateRange({startLineNumber:ke,startColumn:xe-re,endLineNumber:ke,endColumn:xe+ye});ge=B.Y.createWithDirection(Te.startLineNumber,Te.startColumn,Te.endLineNumber,Te.endColumn,ge.getDirection())}return ge}static createEditsAndSnippets(he,ge,re,ye,ke,xe,Pe,fe){const Te=[],Ce=[];if(!he.hasModel())return{edits:Te,snippets:Ce};const Je=he.getModel(),pe=he.invokeWithinContext(vt=>vt.get(d.ec,C.jt)),Ve=he.invokeWithinContext(vt=>new de(vt.get(ue.e,C.jt),Je)),Ae=()=>Pe;let Ee=0,ze=Je.getValueInRange(K.adjustSelection(Je,he.getSelection(),re,0)),Be=Je.getValueInRange(K.adjustSelection(Je,he.getSelection(),0,ye)),Ue=Je.getLineFirstNonWhitespaceColumn(he.getSelection().positionLineNumber);const ot=he.getSelections().map((vt,At)=>({selection:vt,idx:At})).sort((vt,At)=>$.e.compareRangesUsingStarts(vt.selection,At.selection));for(const{selection:vt,idx:At}of ot){let ve=K.adjustSelection(Je,vt,re,0),ht=K.adjustSelection(Je,vt,0,ye);ze!==Je.getValueInRange(ve)&&(ve=vt),Be!==Je.getValueInRange(ht)&&(ht=vt);const Ge=vt.setStartPosition(ve.startLineNumber,ve.startColumn).setEndPosition(ht.endLineNumber,ht.endColumn),De=(new g.Yj).parse(ge,!0,ke),Le=Ge.getStartPosition(),dt=K.adjustWhitespace(Je,Le,De,xe||At>0&&Ue!==Je.getLineFirstNonWhitespaceColumn(vt.positionLineNumber),!0);De.resolveVariables(new G([Ve,new le(Ae,At,ot.length,"spread"===he.getOption(68)),new Y(Je,vt,At,fe),new ce(Je,vt),new be,new N(pe),new V]));const _t=Je.getOffsetAt(Le)+Ee;Ee+=De.toString().length-Je.getValueLengthInRange(Ge),Te[At]=k.h.replace(Ge,De.toString()),Te[At].identifier={major:At,minor:0},Ce[At]=new oe(he,De,_t,dt)}return{edits:Te,snippets:Ce}}dispose(){(0,U.B9)(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;const{edits:he,snippets:ge}=K.createEditsAndSnippets(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer);this._snippets=ge,this._editor.executeEdits("snippet",he,re=>this._snippets[0].hasPlaceholder?this._move(!0):re.filter(ye=>!!ye.identifier).map(ye=>B.Y.fromPositions(ye.range.getEndPosition()))),this._editor.revealRange(this._editor.getSelections()[0])}merge(he,ge=ee){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,he]);const{edits:re,snippets:ye}=K.createEditsAndSnippets(this._editor,he,ge.overwriteBefore,ge.overwriteAfter,!0,ge.adjustWhitespace,ge.clipboardText,ge.overtypingCapturer);this._editor.executeEdits("snippet",re,ke=>{for(const xe of this._snippets)xe.merge(ye);return console.assert(0===ye.length),this._snippets[0].hasPlaceholder?this._move(void 0):ke.filter(xe=>!!xe.identifier).map(xe=>B.Y.fromPositions(xe.range.getEndPosition()))})}next(){const he=this._move(!0);this._editor.setSelections(he),this._editor.revealPositionInCenterIfOutsideViewport(he[0].getPosition())}prev(){const he=this._move(!1);this._editor.setSelections(he),this._editor.revealPositionInCenterIfOutsideViewport(he[0].getPosition())}_move(he){const ge=[];for(const re of this._snippets){const ye=re.move(he);ge.push(...ye)}return ge}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get choice(){return this._snippets[0].choice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;const he=this._editor.getSelections();if(he.length<this._snippets.length)return!1;let ge=new Map;for(const re of this._snippets){const ye=re.computePossibleSelections();if(0===ge.size)for(const[ke,xe]of ye){xe.sort($.e.compareRangesUsingStarts);for(const Pe of he)if(xe[0].containsRange(Pe)){ge.set(ke,[]);break}}if(0===ge.size)return!1;ge.forEach((ke,xe)=>{ke.push(...ye.get(xe))})}he.sort($.e.compareRangesUsingStarts);for(let[re,ye]of ge)if(ye.length===he.length){ye.sort($.e.compareRangesUsingStarts);for(let ke=0;ke<ye.length;ke++)if(!ye[ke].containsRange(he[ke])){ge.delete(re);continue}}else ge.delete(re);return ge.size>0}}},9844:(Ct,Qe,a)=>{"use strict";a.d(Qe,{_y:()=>v,GI:()=>M,A9:()=>f,ZJ:()=>L,kL:()=>G,wg:()=>be,i5:()=>V});var T=a(5160),U=a(6412),j=a(2109),O=a(2844),k=a(9357),$=a(8487),B=a(9785),R=a(1719),d=a(2836),C=a(4915),g=a(2329),b=a(8896),I=a(1882),p=a(6746),w=a(4128),E=a(1606),S=function(Z,ie,ue,oe){return new(ue||(ue=Promise))(function(K,ne){function he(ye){try{re(oe.next(ye))}catch(ke){ne(ke)}}function ge(ye){try{re(oe.throw(ye))}catch(ke){ne(ke)}}function re(ye){ye.done?K(ye.value):function(K){return K instanceof ue?K:new ue(function(ne){ne(K)})}(ye.value).then(he,ge)}re((oe=oe.apply(Z,ie||[])).next())})};const v={Visible:new O.uy("suggestWidgetVisible",!1,(0,E.N)("suggestWidgetVisible","Whether suggestion are visible")),DetailsVisible:new O.uy("suggestWidgetDetailsVisible",!1,(0,E.N)("suggestWidgetDetailsVisible","Whether suggestion details are visible")),MultipleSuggestions:new O.uy("suggestWidgetMultipleSuggestions",!1,(0,E.N)("suggestWidgetMultipleSuggestions","Whether there are multiple suggestions to pick from")),MakesTextEdit:new O.uy("suggestionMakesTextEdit",!0,(0,E.N)("suggestionMakesTextEdit","Whether inserting the current suggestion yields in a change or has everything already been typed")),AcceptSuggestionsOnEnter:new O.uy("acceptSuggestionOnEnter",!0,(0,E.N)("acceptSuggestionOnEnter","Whether suggestions are inserted when pressing Enter")),HasInsertAndReplaceRange:new O.uy("suggestionHasInsertAndReplaceRange",!1,(0,E.N)("suggestionHasInsertAndReplaceRange","Whether the current suggestion has insert and replace behaviour")),InsertMode:new O.uy("suggestionInsertMode",void 0,{type:"string",description:(0,E.N)("suggestionInsertMode","Whether the default behaviour is to insert or replace")}),CanResolve:new O.uy("suggestionCanResolve",!1,(0,E.N)("suggestionCanResolve","Whether the current suggestion supports to resolve further details"))},M=new d.eH("suggestWidgetStatusBar");class _{constructor(ie,ue,oe,ee){this.position=ie,this.completion=ue,this.container=oe,this.provider=ee,this.isInvalid=!1,this.score=B.CL.Default,this.distance=0,this.textLabel="string"==typeof ue.label?ue.label:ue.label.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=ue.sortText&&ue.sortText.toLowerCase(),this.filterTextLow=ue.filterText&&ue.filterText.toLowerCase(),$.e.isIRange(ue.range)?(this.editStart=new j.L(ue.range.startLineNumber,ue.range.startColumn),this.editInsertEnd=new j.L(ue.range.endLineNumber,ue.range.endColumn),this.editReplaceEnd=new j.L(ue.range.endLineNumber,ue.range.endColumn),this.isInvalid=this.isInvalid||$.e.spansMultipleLines(ue.range)||ue.range.startLineNumber!==ie.lineNumber):(this.editStart=new j.L(ue.range.insert.startLineNumber,ue.range.insert.startColumn),this.editInsertEnd=new j.L(ue.range.insert.endLineNumber,ue.range.insert.endColumn),this.editReplaceEnd=new j.L(ue.range.replace.endLineNumber,ue.range.replace.endColumn),this.isInvalid=this.isInvalid||$.e.spansMultipleLines(ue.range.insert)||$.e.spansMultipleLines(ue.range.replace)||ue.range.insert.startLineNumber!==ie.lineNumber||ue.range.replace.startLineNumber!==ie.lineNumber||ue.range.insert.startColumn!==ue.range.replace.startColumn),"function"!=typeof ee.resolveCompletionItem&&(this._resolveCache=Promise.resolve(),this._isResolved=!0)}get isResolved(){return!!this._isResolved}resolve(ie){return S(this,void 0,void 0,function*(){if(!this._resolveCache){const ue=ie.onCancellationRequested(()=>{this._resolveCache=void 0,this._isResolved=!1});this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,ie)).then(oe=>{Object.assign(this.completion,oe),this._isResolved=!0,ue.dispose()},oe=>{(0,T.VV)(oe)&&(this._resolveCache=void 0,this._isResolved=!1)})}return this._resolveCache})}}class f{constructor(ie=2,ue=new Set,oe=new Set,ee=!0){this.snippetSortOrder=ie,this.kindFilter=ue,this.providerFilter=oe,this.showDeprecated=ee}}function L(){}f.default=new f;class F{constructor(ie,ue,oe,ee){this.items=ie,this.needsClipboard=ue,this.durations=oe,this.disposable=ee}}function G(Z,ie,ue=f.default,oe={triggerKind:0},ee=k.T.None){return S(this,void 0,void 0,function*(){const K=new g.G(!0);ie=ie.clone();const ne=Z.getWordAtPosition(ie),he=ne?new $.e(ie.lineNumber,ne.startColumn,ie.lineNumber,ne.endColumn):$.e.fromPositions(ie),ge={replace:he,insert:he.setEndPosition(ie.lineNumber,ie.column)},re=[],ye=new R.SL,ke=[];let xe=!1;const Pe=(Te,Ce,Je)=>{var pe,Ve,Ae;if(Ce){for(let Ee of Ce.suggestions)if(!ue.kindFilter.has(Ee.kind)){if(!ue.showDeprecated&&(null===(pe=null==Ee?void 0:Ee.tags)||void 0===pe?void 0:pe.includes(1)))continue;Ee.range||(Ee.range=ge),Ee.sortText||(Ee.sortText="string"==typeof Ee.label?Ee.label:Ee.label.label),!xe&&Ee.insertTextRules&&4&Ee.insertTextRules&&(xe=C.Yj.guessNeedsClipboard(Ee.insertText)),re.push(new _(ie,Ee,Ce,Te))}(0,R.Wf)(Ce)&&ye.add(Ce),ke.push({providerName:null!==(Ve=Te._debugDisplayName)&&void 0!==Ve?Ve:"unkown_provider",elapsedProvider:null!==(Ae=Ce.duration)&&void 0!==Ae?Ae:-1,elapsedOverall:Je.elapsed()})}},fe=(()=>S(this,void 0,void 0,function*(){}))();for(let Te of U.KZ.orderedGroups(Z)){let Ce=re.length;if(yield Promise.all(Te.map(Je=>S(this,void 0,void 0,function*(){if(!(ue.providerFilter.size>0)||ue.providerFilter.has(Je))try{const pe=new g.G(!0),Ve=yield Je.provideCompletionItems(Z,ie,oe,ee);Pe(Je,Ve,pe)}catch(pe){(0,T.Cp)(pe)}}))),Ce!==re.length||ee.isCancellationRequested)break}return yield fe,ee.isCancellationRequested?(ye.dispose(),Promise.reject((0,T.F0)())):new F(re.sort(be(ue.snippetSortOrder)),xe,{entries:ke,elapsed:K.elapsed()},ye)})}function Y(Z,ie){if(Z.sortTextLow&&ie.sortTextLow){if(Z.sortTextLow<ie.sortTextLow)return-1;if(Z.sortTextLow>ie.sortTextLow)return 1}return Z.completion.label<ie.completion.label?-1:Z.completion.label>ie.completion.label?1:Z.completion.kind-ie.completion.kind}const ce=new Map;function be(Z){return ce.get(Z)}ce.set(0,function(Z,ie){if(Z.completion.kind!==ie.completion.kind){if(27===Z.completion.kind)return-1;if(27===ie.completion.kind)return 1}return Y(Z,ie)}),ce.set(2,function(Z,ie){if(Z.completion.kind!==ie.completion.kind){if(27===Z.completion.kind)return 1;if(27===ie.completion.kind)return-1}return Y(Z,ie)}),ce.set(1,Y),b.P.registerCommand("_executeCompletionItemProvider",(Z,...ie)=>S(void 0,void 0,void 0,function*(){const[ue,oe,ee,K]=ie;(0,I.p_)(p.o.isUri(ue)),(0,I.p_)(j.L.isIPosition(oe)),(0,I.p_)("string"==typeof ee||!ee),(0,I.p_)("number"==typeof K||!K);const ne=yield Z.get(w.S).createModelReference(ue);try{const he={incomplete:!1,suggestions:[]},ge=[],re=yield G(ne.object.textEditorModel,j.L.lift(oe),void 0,{triggerCharacter:ee,triggerKind:ee?1:0});for(const ye of re.items)ge.length<(null!=K?K:0)&&ge.push(ye.resolve(k.T.None)),he.incomplete=he.incomplete||ye.container.incomplete,he.suggestions.push(ye.completion);try{return yield Promise.all(ge),he}finally{setTimeout(()=>re.disposable.dispose(),100)}}finally{ne.dispose()}}));const N=new class{constructor(){this.onlyOnceSuggestions=[]}provideCompletionItems(){let ie={suggestions:this.onlyOnceSuggestions.slice(0)};return this.onlyOnceSuggestions.length=0,ie}};function V(Z,ie){setTimeout(()=>{N.onlyOnceSuggestions.push(...ie),Z.getContribution("editor.contrib.suggestController").triggerSuggest((new Set).add(N))},0)}U.KZ.register("*",N)},426:(Ct,Qe,a)=>{"use strict";a.r(Qe),a.d(Qe,{SuggestController:()=>Bn,TriggerSuggestAction:()=>kn});var T=a(7579),U=a(2291),j=a(5160),O=a(4807),k=a(1719),$=a(1358),B=a(4482),R=a(7900),d=a(8487),C=a(9549),g=a(1079),b=a(4915),I=a(299),p=a(7129),w=a(6412),E=a(7922),S=a(4562),v=a(9040),M=a(4165),_=a(8923),m=function(hn,Ze){return function(rt,tt){Ze(rt,tt,hn)}};class L{constructor(Ze){this.name=Ze}select(Ze,rt,tt){if(0===tt.length)return 0;let we=tt[0].score[0];for(let Fe=0;Fe<tt.length;Fe++){const{score:Ye,completion:mt}=tt[Fe];if(Ye[0]!==we)break;if(mt.preselect)return Fe}return 0}}class F extends L{constructor(){super("first")}memorize(Ze,rt,tt){}toJSON(){}fromJSON(){}}let de=class sv{constructor(Ze,rt,tt){this._storageService=Ze,this._modeService=rt,this._configService=tt,this._disposables=new k.SL,this._persistSoon=new E.pY(()=>this._saveState(),500),this._disposables.add(Ze.onWillSaveState(we=>{we.reason===p.fk.SHUTDOWN&&this._saveState()}))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(Ze,rt,tt){this._withStrategy(Ze,rt).memorize(Ze,rt,tt),this._persistSoon.schedule()}select(Ze,rt,tt){return this._withStrategy(Ze,rt).select(Ze,rt,tt)}_withStrategy(Ze,rt){var tt,we;const Fe=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:null===(tt=this._modeService.getLanguageIdentifier(Ze.getLanguageIdAtPosition(rt.lineNumber,rt.column)))||void 0===tt?void 0:tt.language,resource:Ze.uri});if((null===(we=this._strategy)||void 0===we?void 0:we.name)!==Fe){this._saveState();const Ye=sv._strategyCtors.get(Fe)||F;this._strategy=new Ye;try{const $t=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,Zt=this._storageService.get(`${sv._storagePrefix}/${Fe}`,$t);Zt&&this._strategy.fromJSON(JSON.parse(Zt))}catch(mt){}}return this._strategy}_saveState(){if(this._strategy){const rt=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,tt=JSON.stringify(this._strategy);this._storageService.store(`${sv._storagePrefix}/${this._strategy.name}`,tt,rt,1)}}};de._strategyCtors=new Map([["recentlyUsedByPrefix",class extends L{constructor(){super("recentlyUsedByPrefix"),this._trie=I.Id.forStrings(),this._seq=0}memorize(Ze,rt,tt){const{word:we}=Ze.getWordUntilPosition(rt),Fe=`${Ze.getLanguageIdentifier().language}/${we}`;this._trie.set(Fe,{type:tt.completion.kind,insertText:tt.completion.insertText,touch:this._seq++})}select(Ze,rt,tt){let{word:we}=Ze.getWordUntilPosition(rt);if(!we)return super.select(Ze,rt,tt);let Fe=`${Ze.getLanguageIdentifier().language}/${we}`,Ye=this._trie.get(Fe);if(Ye||(Ye=this._trie.findSubstr(Fe)),Ye)for(let mt=0;mt<tt.length;mt++){let{kind:$t,insertText:Zt}=tt[mt].completion;if($t===Ye.type&&Zt===Ye.insertText)return mt}return super.select(Ze,rt,tt)}toJSON(){let Ze=[];return this._trie.forEach((rt,tt)=>Ze.push([tt,rt])),Ze.sort((rt,tt)=>-(rt[1].touch-tt[1].touch)).forEach((rt,tt)=>rt[1].touch=tt),Ze.slice(0,200)}fromJSON(Ze){if(this._trie.clear(),Ze.length>0){this._seq=Ze[0][1].touch+1;for(const[rt,tt]of Ze)tt.type="number"==typeof tt.type?tt.type:(0,w.jr)(tt.type),this._trie.set(rt,tt)}}}],["recentlyUsed",class extends L{constructor(){super("recentlyUsed"),this._cache=new I.z6(300,.66),this._seq=0}memorize(Ze,rt,tt){const we=`${Ze.getLanguageIdentifier().language}/${tt.textLabel}`;this._cache.set(we,{touch:this._seq++,type:tt.completion.kind,insertText:tt.completion.insertText})}select(Ze,rt,tt){if(0===tt.length)return 0;const we=Ze.getLineContent(rt.lineNumber).substr(rt.column-10,rt.column-1);if(/\s$/.test(we))return super.select(Ze,rt,tt);let Fe=tt[0].score[0],mt=-1,$t=-1;for(let Zt=0;Zt<tt.length&&tt[Zt].score[0]===Fe;Zt++){const fn=`${Ze.getLanguageIdentifier().language}/${tt[Zt].textLabel}`,In=this._cache.peek(fn);if(In&&In.touch>$t&&In.type===tt[Zt].completion.kind&&In.insertText===tt[Zt].completion.insertText&&($t=In.touch,mt=Zt),tt[Zt].completion.preselect)return Zt}return-1!==mt?mt:0}toJSON(){return this._cache.toJSON()}fromJSON(Ze){this._cache.clear();for(const[tt,we]of Ze)we.touch=0,we.type="number"==typeof we.type?we.type:(0,w.jr)(we.type),this._cache.set(tt,we);this._seq=this._cache.size}}],["first",F]]),de._storagePrefix="suggest/memories",de=function(hn,Ze,rt,tt){var Ye,we=arguments.length,Fe=we<3?Ze:null===tt?tt=Object.getOwnPropertyDescriptor(Ze,rt):tt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Fe=Reflect.decorate(hn,Ze,rt,tt);else for(var mt=hn.length-1;mt>=0;mt--)(Ye=hn[mt])&&(Fe=(we<3?Ye(Fe):we>3?Ye(Ze,rt,Fe):Ye(Ze,rt))||Fe);return we>3&&Fe&&Object.defineProperty(Ze,rt,Fe),Fe}([m(0,p.Uy),m(1,_.h),m(2,v.Ui)],de);const le=(0,S.yh)("ISuggestMemories");(0,M.z)(le,de,!0);var ce=a(1606),be=a(8896),N=a(2844),V=a(2331),Z=a(9844);let oe=class ov{constructor(Ze,rt){this._editor=Ze,this._index=0,this._ckOtherSuggestions=ov.OtherSuggestions.bindTo(rt)}dispose(){this.reset()}reset(){var Ze;this._ckOtherSuggestions.reset(),null===(Ze=this._listener)||void 0===Ze||Ze.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:Ze,index:rt},tt){0!==Ze.items.length&&ov._moveIndex(!0,Ze,rt)!==rt?(this._acceptNext=tt,this._model=Ze,this._index=rt,this._listener=this._editor.onDidChangeCursorPosition(()=>{this._ignore||this.reset()}),this._ckOtherSuggestions.set(!0)):this.reset()}static _moveIndex(Ze,rt,tt){let we=tt;for(;we=(we+rt.items.length+(Ze?1:-1))%rt.items.length,we!==tt&&rt.items[we].completion.additionalTextEdits;);return we}next(){this._move(!0)}prev(){this._move(!1)}_move(Ze){if(this._model)try{this._ignore=!0,this._index=ov._moveIndex(Ze,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};var Ze;oe.OtherSuggestions=new N.uy("hasOtherSuggestions",!1),oe=function(hn,Ze,rt,tt){var Ye,we=arguments.length,Fe=we<3?Ze:null===tt?tt=Object.getOwnPropertyDescriptor(Ze,rt):tt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Fe=Reflect.decorate(hn,Ze,rt,tt);else for(var mt=hn.length-1;mt>=0;mt--)(Ye=hn[mt])&&(Fe=(we<3?Ye(Fe):we>3?Ye(Ze,rt,Fe):Ye(Ze,rt))||Fe);return we>3&&Fe&&Object.defineProperty(Ze,rt,Fe),Fe}([(1,Ze=N.i6,function(rt,tt){Ze(rt,tt,1)})],oe);var ee=a(6723),K=a(9730),ne=a(9785),he=a(579);class re{constructor(Ze,rt,tt,we,Fe,Ye,mt){this.clipboardText=mt,this._snippetCompareFn=re._compareCompletionItems,this._items=Ze,this._column=rt,this._wordDistance=we,this._options=Fe,this._refilterKind=1,this._lineContext=tt,"top"===Ye?this._snippetCompareFn=re._compareCompletionItemsSnippetsUp:"bottom"===Ye&&(this._snippetCompareFn=re._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(Ze){(this._lineContext.leadingLineContent!==Ze.leadingLineContent||this._lineContext.characterCountDelta!==Ze.characterCountDelta)&&(this._refilterKind=this._lineContext.characterCountDelta<Ze.characterCountDelta&&this._filteredItems?2:1,this._lineContext=Ze)}get items(){return this._ensureCachedState(),this._filteredItems}get allProvider(){return this._ensureCachedState(),this._providerInfo.keys()}get incomplete(){this._ensureCachedState();const Ze=new Set;for(let[rt,tt]of this._providerInfo)tt&&Ze.add(rt);return Ze}adopt(Ze){let rt=[];for(let tt=0;tt<this._items.length;)Ze.has(this._items[tt].provider)?tt++:(rt.push(this._items[tt]),this._items[tt]=this._items[this._items.length-1],this._items.pop());return this._refilterKind=1,rt}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){0!==this._refilterKind&&this._createCachedState()}_createCachedState(){this._providerInfo=new Map;const Ze=[],{leadingLineContent:rt,characterCountDelta:tt}=this._lineContext;let we="",Fe="";const Ye=1===this._refilterKind?this._items:this._filteredItems,mt=[],$t=!this._options.filterGraceful||Ye.length>2e3?ne.EW:ne.l7;for(let Zt=0;Zt<Ye.length;Zt++){const fn=Ye[Zt];if(fn.isInvalid)continue;this._providerInfo.set(fn.provider,Boolean(fn.container.incomplete));const In=fn.position.column-fn.editStart.column,_n=In+tt-(fn.position.column-this._column);if(we.length!==_n&&(we=0===_n?"":rt.slice(-_n),Fe=we.toLowerCase()),fn.word=we,0===_n)fn.score=ne.CL.Default;else{let On=0;for(;On<In;){const Kn=we.charCodeAt(On);if(32!==Kn&&9!==Kn)break;On+=1}if(On>=_n)fn.score=ne.CL.Default;else if("string"==typeof fn.completion.filterText){let Kn=$t(we,Fe,On,fn.completion.filterText,fn.filterTextLow,0,!1);if(!Kn)continue;0===(0,he.zY)(fn.completion.filterText,fn.textLabel)?fn.score=Kn:(fn.score=(0,ne.jB)(we,Fe,On,fn.textLabel,fn.labelLow,0),fn.score[0]=Kn[0])}else{let Kn=$t(we,Fe,On,fn.textLabel,fn.labelLow,0,!1);if(!Kn)continue;fn.score=Kn}}fn.idx=Zt,fn.distance=this._wordDistance.distance(fn.position,fn.completion),mt.push(fn),Ze.push(fn.textLabel.length)}this._filteredItems=mt.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:Ze.length?(0,U.HW)(Ze.length-.85,Ze,(Zt,fn)=>Zt-fn):0}}static _compareCompletionItems(Ze,rt){return Ze.score[0]>rt.score[0]?-1:Ze.score[0]<rt.score[0]?1:Ze.distance<rt.distance?-1:Ze.distance>rt.distance?1:Ze.idx<rt.idx?-1:Ze.idx>rt.idx?1:0}static _compareCompletionItemsSnippetsDown(Ze,rt){if(Ze.completion.kind!==rt.completion.kind){if(27===Ze.completion.kind)return 1;if(27===rt.completion.kind)return-1}return re._compareCompletionItems(Ze,rt)}static _compareCompletionItemsSnippetsUp(Ze,rt){if(Ze.completion.kind!==rt.completion.kind){if(27===Ze.completion.kind)return-1;if(27===rt.completion.kind)return 1}return re._compareCompletionItems(Ze,rt)}}var ye=a(9357),ke=a(4725),xe=a(6615);class fe{static create(Ze,rt){return function(hn,Ze,rt,tt){return new(rt||(rt=Promise))(function(Fe,Ye){function mt(fn){try{Zt(tt.next(fn))}catch(In){Ye(In)}}function $t(fn){try{Zt(tt.throw(fn))}catch(In){Ye(In)}}function Zt(fn){fn.done?Fe(fn.value):function(Fe){return Fe instanceof rt?Fe:new rt(function(Ye){Ye(Fe)})}(fn.value).then(mt,$t)}Zt((tt=tt.apply(hn,Ze||[])).next())})}(this,void 0,void 0,function*(){if(!rt.getOption(104).localityBonus||!rt.hasModel())return fe.None;const tt=rt.getModel(),we=rt.getPosition();if(!Ze.canComputeWordRanges(tt.uri))return fe.None;const[Fe]=yield(new xe.x).provideSelectionRanges(tt,[we]);if(0===Fe.length)return fe.None;const Ye=yield Ze.computeWordRanges(tt.uri,Fe[0].range);if(!Ye)return fe.None;const mt=tt.getWordUntilPosition(we);return delete Ye[mt.word],new class extends fe{distance($t,Zt){if(!we.equals(rt.getPosition()))return 0;if(17===Zt.kind)return 2<<20;let In=Ye["string"==typeof Zt.label?Zt.label:Zt.label.label];if((0,U.XY)(In))return 2<<20;let _n=(0,U.ry)(In,d.e.fromPositions($t),d.e.compareRangesUsingStarts),On=_n>=0?In[_n]:In[Math.max(0,~_n-1)],Kn=Fe.length;for(const Wn of Fe){if(!d.e.containsRange(Wn.range,On))break;Kn-=1}return Kn}}})}}fe.None=new class extends fe{distance(){return 0}};var Te=a(2957),Ce=a(5460),Je=a(8998),Ve=function(hn,Ze){return function(rt,tt){Ze(rt,tt,hn)}};class Ee{constructor(Ze,rt,tt,we){this.leadingLineContent=Ze.getLineContent(rt.lineNumber).substr(0,rt.column-1),this.leadingWord=Ze.getWordUntilPosition(rt),this.lineNumber=rt.lineNumber,this.column=rt.column,this.auto=tt,this.shy=we}static shouldAutoTrigger(Ze){if(!Ze.hasModel())return!1;const rt=Ze.getModel(),tt=Ze.getPosition();rt.tokenizeIfCheap(tt.lineNumber);const we=rt.getWordAtPosition(tt);return!(!we||we.endColumn!==tt.column||!isNaN(Number(we.word)))}}let Ue=class UR{constructor(Ze,rt,tt,we,Fe,Ye,mt){this._editor=Ze,this._editorWorkerService=rt,this._clipboardService=tt,this._telemetryService=we,this._logService=Fe,this._contextKeyService=Ye,this._configurationService=mt,this._toDispose=new k.SL,this._quickSuggestDelay=10,this._triggerCharacterListener=new k.SL,this._triggerQuickSuggest=new E._F,this._state=0,this._completionDisposables=new k.SL,this._onDidCancel=new ee.Q5,this._onDidTrigger=new ee.Q5,this._onDidSuggest=new ee.Q5,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new K.Y(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(()=>{this._updateTriggerCharacters(),this._updateQuickSuggest()})),this._toDispose.add(w.KZ.onDidChange(()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()})),this._toDispose.add(this._editor.onDidChangeCursorSelection(Zt=>{this._onCursorChange(Zt)}));let $t=!1;this._toDispose.add(this._editor.onDidCompositionStart(()=>{$t=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(()=>{$t=!1,this._refilterCompletionItems()})),this._toDispose.add(this._editor.onDidChangeModelContent(()=>{$t||this._refilterCompletionItems()})),this._updateTriggerCharacters(),this._updateQuickSuggest()}dispose(){(0,k.B9)(this._triggerCharacterListener),(0,k.B9)([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateQuickSuggest(){this._quickSuggestDelay=this._editor.getOption(77),(isNaN(this._quickSuggestDelay)||!this._quickSuggestDelay&&0!==this._quickSuggestDelay||this._quickSuggestDelay<0)&&(this._quickSuggestDelay=10)}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(78)||!this._editor.hasModel()||!this._editor.getOption(107))return;const Ze=new Map;for(const tt of w.KZ.all(this._editor.getModel()))for(const we of tt.triggerCharacters||[]){let Fe=Ze.get(we);Fe||(Fe=new Set,Fe.add((0,Z.ZJ)()),Ze.set(we,Fe)),Fe.add(tt)}const rt=tt=>{if(function(hn,Ze){return Boolean(hn.getContextKeyValue("inlineSuggestionVisible"))&&!Boolean(Ze.getValue("editor.inlineSuggest.allowSuggestOnTriggerCharacters"))}(this._contextKeyService,this._configurationService))return;if(!tt){const Ye=this._editor.getPosition();tt=this._editor.getModel().getLineContent(Ye.lineNumber).substr(0,Ye.column-1)}let we="";(0,he.YK)(tt.charCodeAt(tt.length-1))?(0,he.ZG)(tt.charCodeAt(tt.length-2))&&(we=tt.substr(tt.length-2)):we=tt.charAt(tt.length-1);const Fe=Ze.get(we);if(Fe){const Ye=this._completionModel?{items:this._completionModel.adopt(Fe),clipboardText:this._completionModel.clipboardText}:void 0;this.trigger({auto:!0,shy:!1,triggerCharacter:we},Boolean(this._completionModel),Fe,Ye)}};this._triggerCharacterListener.add(this._editor.onDidType(rt)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(rt))}get state(){return this._state}cancel(Ze=!1){var rt;0!==this._state&&(this._triggerQuickSuggest.cancel(),null===(rt=this._requestToken)||void 0===rt||rt.cancel(),this._requestToken=void 0,this._state=0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:Ze}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){0!==this._state&&(this._editor.hasModel()&&w.KZ.has(this._editor.getModel())?this.trigger({auto:2===this._state,shy:!1},!0):this.cancel())}_onCursorChange(Ze){if(!this._editor.hasModel())return;const rt=this._editor.getModel(),tt=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!Ze.selection.isEmpty()||0!==Ze.reason&&3!==Ze.reason||"keyboard"!==Ze.source&&"deleteLeft"!==Ze.source)this.cancel();else if(w.KZ.has(rt))if(0===this._state&&0===Ze.reason){if(!1===this._editor.getOption(76)||!tt.containsRange(this._currentSelection)&&!tt.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition())||this._editor.getOption(104).snippetsPreventQuickSuggestions&&g.SnippetController2.get(this._editor).isInSnippet())return;this.cancel(),this._triggerQuickSuggest.cancelAndSet(()=>{if(0!==this._state||!Ee.shouldAutoTrigger(this._editor)||!this._editor.hasModel())return;const we=this._editor.getModel(),Fe=this._editor.getPosition(),Ye=this._editor.getOption(76);if(!1!==Ye){if(!0!==Ye){we.tokenizeIfCheap(Fe.lineNumber);const mt=we.getLineTokens(Fe.lineNumber),$t=mt.getStandardTokenType(mt.findTokenIndexAtOffset(Math.max(Fe.column-1-1,0)));if(!(Ye.other&&0===$t||Ye.comments&&1===$t||Ye.strings&&2===$t))return}(function(hn,Ze){return Boolean(hn.getContextKeyValue("inlineSuggestionVisible"))&&!Boolean(Ze.getValue("editor.inlineSuggest.allowQuickSuggestions"))})(this._contextKeyService,this._configurationService)||this.trigger({auto:!0,shy:!1})}},this._quickSuggestDelay)}else 0!==this._state&&3===Ze.reason&&this._refilterCompletionItems()}_refilterCompletionItems(){Promise.resolve().then(()=>{if(0===this._state||!this._editor.hasModel())return;const Ze=this._editor.getModel(),rt=this._editor.getPosition(),tt=new Ee(Ze,rt,2===this._state,!1);this._onNewContext(tt)})}trigger(Ze,rt=!1,tt,we){var Fe;if(!this._editor.hasModel())return;const Ye=this._editor.getModel(),mt=Ze.auto,$t=new Ee(Ye,this._editor.getPosition(),mt,Ze.shy);this.cancel(rt),this._state=mt?2:1,this._onDidTrigger.fire({auto:mt,shy:Ze.shy,position:this._editor.getPosition()}),this._context=$t;let Zt={triggerKind:null!==(Fe=Ze.triggerKind)&&void 0!==Fe?Fe:0};Ze.triggerCharacter&&(Zt={triggerKind:1,triggerCharacter:Ze.triggerCharacter}),this._requestToken=new ye.A;const fn=this._editor.getOption(99);let In=1;switch(fn){case"top":In=0;break;case"bottom":In=2}const{itemKind:_n,showDeprecated:On}=UR._createSuggestFilter(this._editor),Kn=fe.create(this._editorWorkerService,this._editor),Wn=(0,Z.kL)(Ye,this._editor.getPosition(),new Z.A9(In,_n,tt,On),Zt,this._requestToken.token);Promise.all([Wn,Kn]).then(([oi,Wt])=>function(hn,Ze,rt,tt){return new(rt||(rt=Promise))(function(Fe,Ye){function mt(fn){try{Zt(tt.next(fn))}catch(In){Ye(In)}}function $t(fn){try{Zt(tt.throw(fn))}catch(In){Ye(In)}}function Zt(fn){fn.done?Fe(fn.value):function(Fe){return Fe instanceof rt?Fe:new rt(function(Ye){Ye(Fe)})}(fn.value).then(mt,$t)}Zt((tt=tt.apply(hn,Ze||[])).next())})}(this,void 0,void 0,function*(){var X;if(null===(X=this._requestToken)||void 0===X||X.dispose(),!this._editor.hasModel())return;let Ie=null==we?void 0:we.clipboardText;if(!Ie&&oi.needsClipboard&&(Ie=yield this._clipboardService.readText()),0===this._state)return;const et=this._editor.getModel();let wt=oi.items;if(we){const Tt=(0,Z.wg)(In);wt=wt.concat(we.items).sort(Tt)}const Vt=new Ee(et,this._editor.getPosition(),mt,Ze.shy);this._completionModel=new re(wt,this._context.column,{leadingLineContent:Vt.leadingLineContent,characterCountDelta:Vt.column-this._context.column},Wt,this._editor.getOption(104),this._editor.getOption(99),Ie),this._completionDisposables.add(oi.disposable),this._onNewContext(Vt),this._reportDurationsTelemetry(oi.durations)})).catch(j.dL)}_reportDurationsTelemetry(Ze){this._telemetryGate++%230==0&&setTimeout(()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(Ze)}),this._logService.debug("suggest.durations.json",Ze)})}static _createSuggestFilter(Ze){const rt=new Set;"none"===Ze.getOption(99)&&rt.add(27);const we=Ze.getOption(104);return we.showMethods||rt.add(0),we.showFunctions||rt.add(1),we.showConstructors||rt.add(2),we.showFields||rt.add(3),we.showVariables||rt.add(4),we.showClasses||rt.add(5),we.showStructs||rt.add(6),we.showInterfaces||rt.add(7),we.showModules||rt.add(8),we.showProperties||rt.add(9),we.showEvents||rt.add(10),we.showOperators||rt.add(11),we.showUnits||rt.add(12),we.showValues||rt.add(13),we.showConstants||rt.add(14),we.showEnums||rt.add(15),we.showEnumMembers||rt.add(16),we.showKeywords||rt.add(17),we.showWords||rt.add(18),we.showColors||rt.add(19),we.showFiles||rt.add(20),we.showReferences||rt.add(21),we.showColors||rt.add(22),we.showFolders||rt.add(23),we.showTypeParameters||rt.add(24),we.showSnippets||rt.add(27),we.showUsers||rt.add(25),we.showIssues||rt.add(26),{itemKind:rt,showDeprecated:we.showDeprecated}}_onNewContext(Ze){if(this._context){if(Ze.lineNumber!==this._context.lineNumber)return void this.cancel();if((0,he.V8)(Ze.leadingLineContent)!==(0,he.V8)(this._context.leadingLineContent))return void this.cancel();if(Ze.column<this._context.column)return void(Ze.leadingWord.word?this.trigger({auto:this._context.auto,shy:!1},!0):this.cancel());if(this._completionModel){if(0!==Ze.leadingWord.word.length&&Ze.leadingWord.startColumn>this._context.leadingWord.startColumn){const rt=new Set(w.KZ.all(this._editor.getModel()));for(let we of this._completionModel.allProvider)rt.delete(we);const tt=this._completionModel.adopt(new Set);return void this.trigger({auto:this._context.auto,shy:!1},!0,rt,{items:tt,clipboardText:this._completionModel.clipboardText})}if(Ze.column>this._context.column&&this._completionModel.incomplete.size>0&&0!==Ze.leadingWord.word.length){const{incomplete:rt}=this._completionModel,tt=this._completionModel.adopt(rt);this.trigger({auto:2===this._state,shy:!1,triggerKind:2},!0,rt,{items:tt,clipboardText:this._completionModel.clipboardText})}else{let rt=this._completionModel.lineContext,tt=!1;if(this._completionModel.lineContext={leadingLineContent:Ze.leadingLineContent,characterCountDelta:Ze.column-this._context.column},0===this._completionModel.items.length){if(Ee.shouldAutoTrigger(this._editor)&&this._context.leadingWord.endColumn<Ze.leadingWord.startColumn)return void this.trigger({auto:this._context.auto,shy:!1},!0);if(this._context.auto)return void this.cancel();if(this._completionModel.lineContext=rt,tt=this._completionModel.items.length>0,tt&&0===Ze.leadingWord.word.length)return void this.cancel()}this._onDidSuggest.fire({completionModel:this._completionModel,auto:this._context.auto,shy:this._context.shy,isFrozen:tt})}}}}};Ue=function(hn,Ze,rt,tt){var Ye,we=arguments.length,Fe=we<3?Ze:null===tt?tt=Object.getOwnPropertyDescriptor(Ze,rt):tt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Fe=Reflect.decorate(hn,Ze,rt,tt);else for(var mt=hn.length-1;mt>=0;mt--)(Ye=hn[mt])&&(Fe=(we<3?Ye(Fe):we>3?Ye(Ze,rt,Fe):Ye(Ze,rt))||Fe);return we>3&&Fe&&Object.defineProperty(Ze,rt,Fe),Fe}([Ve(1,ke.p),Ve(2,Te.p),Ve(3,Ce.b),Ve(4,Je.VZ),Ve(5,N.i6),Ve(6,v.Ui)],Ue),a(3339),a(9461),a(5605);var ve=a(1165),ht=a(6343),Ge=a(1710),De=a(6803),Le=a(7251),dt=a(4304),_t=a(8582),Nt=a(4303),zt=a(521),pn=a(6209);class Qt{constructor(){this._onDidWillResize=new ee.Q5,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new ee.Q5,this.onDidResize=this._onDidResize.event,this._sashListener=new k.SL,this._size=new ve.Ro(0,0),this._minSize=new ve.Ro(0,0),this._maxSize=new ve.Ro(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new pn.g(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new pn.g(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new pn.g(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:pn.l.North}),this._southSash=new pn.g(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:pn.l.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let Ze,rt=0,tt=0;this._sashListener.add(ee.ju.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(()=>{void 0===Ze&&(this._onDidWillResize.fire(),Ze=this._size,rt=0,tt=0)})),this._sashListener.add(ee.ju.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(()=>{void 0!==Ze&&(Ze=void 0,rt=0,tt=0,this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(this._eastSash.onDidChange(we=>{Ze&&(tt=we.currentX-we.startX,this.layout(Ze.height+rt,Ze.width+tt),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))})),this._sashListener.add(this._westSash.onDidChange(we=>{Ze&&(tt=-(we.currentX-we.startX),this.layout(Ze.height+rt,Ze.width+tt),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))})),this._sashListener.add(this._northSash.onDidChange(we=>{Ze&&(rt=-(we.currentY-we.startY),this.layout(Ze.height+rt,Ze.width+tt),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))})),this._sashListener.add(this._southSash.onDidChange(we=>{Ze&&(rt=we.currentY-we.startY,this.layout(Ze.height+rt,Ze.width+tt),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))})),this._sashListener.add(ee.ju.any(this._eastSash.onDidReset,this._westSash.onDidReset)(we=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(ee.ju.any(this._northSash.onDidReset,this._southSash.onDidReset)(we=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}enableSashes(Ze,rt,tt,we){this._northSash.state=Ze?3:0,this._eastSash.state=rt?3:0,this._southSash.state=tt?3:0,this._westSash.state=we?3:0}layout(Ze=this.size.height,rt=this.size.width){const{height:tt,width:we}=this._minSize,{height:Fe,width:Ye}=this._maxSize;Ze=Math.max(tt,Math.min(Fe,Ze)),rt=Math.max(we,Math.min(Ye,rt));const mt=new ve.Ro(rt,Ze);ve.Ro.equals(mt,this._size)||(this.domNode.style.height=Ze+"px",this.domNode.style.width=rt+"px",this._size=mt,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(Ze){this._maxSize=Ze}get maxSize(){return this._maxSize}set minSize(Ze){this._minSize=Ze}get minSize(){return this._minSize}set preferredSize(Ze){this._preferredSize=Ze}get preferredSize(){return this._preferredSize}}function nt(hn){return!!hn&&Boolean(hn.completion.documentation||hn.completion.detail&&hn.completion.detail!==hn.completion.label)}let bt=class{constructor(Ze,rt){this._editor=Ze,this._onDidClose=new ee.Q5,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new ee.Q5,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new k.SL,this._renderDisposeable=new k.SL,this._borderWidth=1,this._size=new ve.Ro(330,0),this.domNode=ve.$(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=rt.createInstance(_t.$,{editor:Ze}),this._body=ve.$(".body"),this._scrollbar=new dt.s$(this._body,{}),ve.R3(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=ve.R3(this._body,ve.$(".header")),this._close=ve.R3(this._header,ve.$("span"+zt.lA.close.cssSelector)),this._close.title=ce.N("details.close","Close"),this._type=ve.R3(this._header,ve.$("p.type")),this._docs=ve.R3(this._body,ve.$("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration(tt=>{tt.hasChanged(40)&&this._configureFont()}))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){const Ze=this._editor.getOptions(),rt=Ze.get(40),tt=rt.fontFamily,we=Ze.get(105)||rt.fontSize,Fe=Ze.get(106)||rt.lineHeight,Ye=rt.fontWeight,$t=`${Fe}px`;this.domNode.style.fontSize=`${we}px`,this.domNode.style.lineHeight=$t,this.domNode.style.fontWeight=Ye,this.domNode.style.fontFeatureSettings=rt.fontFeatureSettings,this._type.style.fontFamily=tt,this._close.style.height=$t,this._close.style.width=$t}getLayoutInfo(){const Ze=this._editor.getOption(106)||this._editor.getOption(40).lineHeight,rt=this._borderWidth;return{lineHeight:Ze,borderWidth:rt,borderHeight:2*rt,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=ce.N("loading","Loading..."),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,2*this.getLayoutInfo().lineHeight),this._onDidChangeContents.fire(this)}renderItem(Ze,rt){var tt,we;this._renderDisposeable.clear();let{detail:Fe,documentation:Ye}=Ze.completion;if(rt){let mt="";mt+=`score: ${Ze.score[0]}\n`,mt+=`prefix: ${null!==(tt=Ze.word)&&void 0!==tt?tt:"(no prefix)"}\n`,mt+=`word: ${Ze.completion.filterText?Ze.completion.filterText+" (filterText)":Ze.textLabel}\n`,mt+=`distance: ${Ze.distance} (localityBonus-setting)\n`,mt+=`index: ${Ze.idx}, based on ${Ze.completion.sortText&&`sortText: "${Ze.completion.sortText}"`||"label"}\n`,mt+=`commit_chars: ${null===(we=Ze.completion.commitCharacters)||void 0===we?void 0:we.join("")}\n`,Ye=(new Nt.W5).appendCodeblock("empty",mt),Fe=`Provider: ${Ze.provider._debugDisplayName}`}if(rt||nt(Ze)){if(this.domNode.classList.remove("no-docs","no-type"),Fe){const mt=Fe.length>1e5?`${Fe.substr(0,1e5)}\u2026`:Fe;this._type.textContent=mt,this._type.title=mt,ve.$Z(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gim.test(mt))}else ve.PO(this._type),this._type.title="",ve.Cp(this._type),this.domNode.classList.add("no-type");if(ve.PO(this._docs),"string"==typeof Ye)this._docs.classList.remove("markdown-docs"),this._docs.textContent=Ye;else if(Ye){this._docs.classList.add("markdown-docs"),ve.PO(this._docs);const mt=this._markdownRenderer.render(Ye);this._docs.appendChild(mt.element),this._renderDisposeable.add(mt),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=mt=>{mt.preventDefault(),mt.stopPropagation()},this._close.onclick=mt=>{mt.preventDefault(),mt.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}else this.clearContents()}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get size(){return this._size}layout(Ze,rt){const tt=new ve.Ro(Ze,rt);ve.Ro.equals(tt,this._size)||(this._size=tt,ve.dp(this.domNode,Ze,rt)),this._scrollbar.scanDomNode()}scrollDown(Ze=8){this._body.scrollTop+=Ze}scrollUp(Ze=8){this._body.scrollTop-=Ze}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(Ze){this._borderWidth=Ze}get borderWidth(){return this._borderWidth}};bt=function(hn,Ze,rt,tt){var Ye,we=arguments.length,Fe=we<3?Ze:null===tt?tt=Object.getOwnPropertyDescriptor(Ze,rt):tt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Fe=Reflect.decorate(hn,Ze,rt,tt);else for(var mt=hn.length-1;mt>=0;mt--)(Ye=hn[mt])&&(Fe=(we<3?Ye(Fe):we>3?Ye(Ze,rt,Fe):Ye(Ze,rt))||Fe);return we>3&&Fe&&Object.defineProperty(Ze,rt,Fe),Fe}([function(hn,Ze){return function(rt,tt){Ze(rt,tt,1)}}(0,S.TG)],bt);class Rt{constructor(Ze,rt){this.widget=Ze,this._editor=rt,this._disposables=new k.SL,this._added=!1,this._resizable=new Qt,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(Ze.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let tt,we,Fe=0,Ye=0;this._disposables.add(this._resizable.onDidWillResize(()=>{tt=this._topLeft,we=this._resizable.size})),this._disposables.add(this._resizable.onDidResize(mt=>{if(tt&&we){this.widget.layout(mt.dimension.width,mt.dimension.height);let $t=!1;mt.west&&(Ye=we.width-mt.dimension.width,$t=!0),mt.north&&(Fe=we.height-mt.dimension.height,$t=!0),$t&&this._applyTopLeft({top:tt.top+Fe,left:tt.left+Ye})}mt.done&&(tt=void 0,we=void 0,Fe=0,Ye=0,this._userSize=mt.dimension)})),this._disposables.add(this.widget.onDidChangeContents(()=>{var mt;this._anchorBox&&this._placeAtAnchor(this._anchorBox,null!==(mt=this._userSize)&&void 0!==mt?mt:this.widget.size)}))}dispose(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return null}show(){this._added||(this._editor.addOverlayWidget(this),this.getDomNode().style.position="fixed",this._added=!0)}hide(Ze=!1){this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),Ze&&(this._userSize=void 0,this.widget.clearContents())}placeAtAnchor(Ze){var rt;const tt=ve.i(Ze);this._anchorBox=tt,this._placeAtAnchor(this._anchorBox,null!==(rt=this._userSize)&&void 0!==rt?rt:this.widget.size)}_placeAtAnchor(Ze,rt){const tt=ve.D6(document.body),we=this.widget.getLayoutInfo();let Fe,Ye,In,_n,mt=new ve.Ro(220,2*we.lineHeight),$t=0,Zt=Ze.top,fn=Ze.top+Ze.height-we.borderHeight,On=tt.width-(Ze.left+Ze.width+we.borderWidth+we.horizontalPadding);$t=-we.borderWidth+Ze.left+Ze.width,_n=!0,Fe=new ve.Ro(On,tt.height-Ze.top-we.borderHeight-we.verticalPadding),Ye=Fe.with(void 0,Ze.top+Ze.height-we.borderHeight-we.verticalPadding),rt.width>On&&(Ze.left>On&&(On=Ze.left-we.borderWidth-we.horizontalPadding,_n=!1,$t=Math.max(we.horizontalPadding,Ze.left-rt.width-we.borderWidth),Fe=Fe.with(On),Ye=Fe.with(void 0,Ye.height)),Ze.width>1.3*On&&tt.height-(Ze.top+Ze.height)>Ze.height&&(On=Ze.width,$t=Ze.left,Zt=-we.borderWidth+Ze.top+Ze.height,Fe=new ve.Ro(Ze.width-we.borderHeight,tt.height-Ze.top-Ze.height-we.verticalPadding),Ye=Fe.with(void 0,Ze.top-we.verticalPadding),mt=mt.with(Fe.width)));let oi,Kn=rt.height,Wn=Math.max(Fe.height,Ye.height);Kn>Wn&&(Kn=Wn),Kn<=Fe.height?(In=!0,oi=Fe):(In=!1,oi=Ye),this._applyTopLeft({left:$t,top:In?Zt:fn-Kn}),this.getDomNode().style.position="fixed",this._resizable.enableSashes(!In,_n,In,!_n),this._resizable.minSize=mt,this._resizable.maxSize=oi,this._resizable.layout(Kn,Math.min(oi.width,rt.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(Ze){this._topLeft=Ze,this.getDomNode().style.left=`${this._topLeft.left}px`,this.getDomNode().style.top=`${this._topLeft.top}px`}}var Dt=a(1764),Xe=a(4120),ft=a(2836),We=function(hn,Ze){return function(rt,tt){Ze(rt,tt,hn)}};class Ne extends Xe.Mm{updateLabel(){const Ze=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!Ze)return super.updateLabel();this.label&&(this.label.textContent=(0,ce.N)("ddd","{0} ({1})",this._action.label,Ne.symbolPrintEnter(Ze)))}static symbolPrintEnter(Ze){var rt;return null===(rt=Ze.getLabel())||void 0===rt?void 0:rt.replace(/\benter\b/gi,"\u23ce")}}let J=class{constructor(Ze,rt,tt,we){this._menuService=tt,this._contextKeyService=we,this._menuDisposables=new k.SL,this.element=ve.R3(Ze,ve.$(".suggest-status-bar"));const Fe=Ye=>Ye instanceof ft.U8?rt.createInstance(Ne,Ye,void 0):void 0;this._leftActions=new Dt.o(this.element,{actionViewItemProvider:Fe}),this._rightActions=new Dt.o(this.element,{actionViewItemProvider:Fe}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this.element.remove()}show(){const Ze=this._menuService.createMenu(Z.GI,this._contextKeyService),rt=()=>{const tt=[],we=[];for(let[Fe,Ye]of Ze.getActions())"left"===Fe?tt.push(...Ye):we.push(...Ye);this._leftActions.clear(),this._leftActions.push(tt),this._rightActions.clear(),this._rightActions.push(we)};this._menuDisposables.add(Ze.onDidChange(()=>rt())),this._menuDisposables.add(Ze)}hide(){this._menuDisposables.clear()}};J=function(hn,Ze,rt,tt){var Ye,we=arguments.length,Fe=we<3?Ze:null===tt?tt=Object.getOwnPropertyDescriptor(Ze,rt):tt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Fe=Reflect.decorate(hn,Ze,rt,tt);else for(var mt=hn.length-1;mt>=0;mt--)(Ye=hn[mt])&&(Fe=(we<3?Ye(Fe):we>3?Ye(Ze,rt,Fe):Ye(Ze,rt))||Fe);return we>3&&Fe&&Object.defineProperty(Ze,rt,Fe),Fe}([We(1,S.TG),We(2,ft.co),We(3,N.i6)],J);var _e=a(1060),$e=a(6857),at=a(8401),Et=a(6367),Lt=(()=>(function(hn){hn[hn.FILE=0]="FILE",hn[hn.FOLDER=1]="FOLDER",hn[hn.ROOT_FOLDER=2]="ROOT_FOLDER"}(Lt||(Lt={})),Lt))();function Pt(hn,Ze,rt,tt){const we=tt===Lt.ROOT_FOLDER?["rootfolder-icon"]:tt===Lt.FOLDER?["folder-icon"]:["file-icon"];if(rt){let Fe;if(Fe=rt.scheme===$e.lg.data?at.Vb.parseMetaData(rt).get(at.Vb.META_DATA_LABEL):Kt((0,at.Hx)(rt).toLowerCase()),tt===Lt.FOLDER)we.push(`${Fe}-name-folder-icon`);else{if(Fe){if(we.push(`${Fe}-name-file-icon`),Fe.length<=255){const mt=Fe.split(".");for(let $t=1;$t<mt.length;$t++)we.push(`${mt.slice($t).join(".")}-ext-file-icon`)}we.push("ext-file-icon")}const Ye=function(hn,Ze,rt){if(!rt)return null;let tt=null;if(rt.scheme===$e.lg.data){const Fe=at.Vb.parseMetaData(rt).get(at.Vb.META_DATA_MIME);Fe&&(tt=Ze.getModeId(Fe))}else{const we=hn.getModel(rt);we&&(tt=we.getModeId())}return tt&&tt!==Et.XT?tt:Ze.getModeIdByFilepathOrFirstLine(rt)}(hn,Ze,rt);Ye&&we.push(`${Kt(Ye)}-lang-file-icon`)}}return we}function Kt(hn){return hn.replace(/[\11\12\14\15\40]/g,"/")}var ci,bn=a(1954),yn=a(6746),zn=function(hn,Ze){return function(rt,tt){Ze(rt,tt,hn)}};function vi(hn){return`suggest-aria-id:${hn}`}const Ii=(0,a(6571).q5)("suggest-more-info",zt.lA.chevronRight,ce.N("suggestMoreInfoIcon","Icon for more information in the suggest widget.")),Fn=new((ci=class rv{extract(Ze,rt){if(Ze.textLabel.match(rv._regexStrict))return rt[0]=Ze.textLabel,!0;if(Ze.completion.detail&&Ze.completion.detail.match(rv._regexStrict))return rt[0]=Ze.completion.detail,!0;if("string"==typeof Ze.completion.documentation){const tt=rv._regexRelaxed.exec(Ze.completion.documentation);if(tt&&(0===tt.index||tt.index+tt[0].length===Ze.completion.documentation.length))return rt[0]=tt[0],!0}return!1}})._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,ci._regexStrict=new RegExp(`^${ci._regexRelaxed.source}$`,"i"),ci);let ut=class{constructor(Ze,rt,tt,we){this._editor=Ze,this._modelService=rt,this._modeService=tt,this._themeService=we,this._onDidToggleDetails=new ee.Q5,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate(Ze){const rt=Object.create(null);rt.disposables=new k.SL,rt.root=Ze,rt.root.classList.add("show-file-icons"),rt.icon=(0,ve.R3)(Ze,(0,ve.$)(".icon")),rt.colorspan=(0,ve.R3)(rt.icon,(0,ve.$)("span.colorspan"));const tt=(0,ve.R3)(Ze,(0,ve.$)(".contents")),we=(0,ve.R3)(tt,(0,ve.$)(".main"));rt.iconContainer=(0,ve.R3)(we,(0,ve.$)(".icon-label.codicon")),rt.left=(0,ve.R3)(we,(0,ve.$)("span.left")),rt.right=(0,ve.R3)(we,(0,ve.$)("span.right")),rt.iconLabel=new _e.g(rt.left,{supportHighlights:!0,supportIcons:!0}),rt.disposables.add(rt.iconLabel),rt.parametersLabel=(0,ve.R3)(rt.left,(0,ve.$)("span.signature-label")),rt.qualifierLabel=(0,ve.R3)(rt.left,(0,ve.$)("span.qualifier-label")),rt.detailsLabel=(0,ve.R3)(rt.right,(0,ve.$)("span.details-label")),rt.readMore=(0,ve.R3)(rt.right,(0,ve.$)("span.readMore"+De.kS.asCSSSelector(Ii))),rt.readMore.title=ce.N("readMore","Read More");const Fe=()=>{const Ye=this._editor.getOptions(),mt=Ye.get(40),$t=mt.fontFamily,Zt=mt.fontFeatureSettings,fn=Ye.get(105)||mt.fontSize,In=Ye.get(106)||mt.lineHeight,_n=mt.fontWeight,Kn=`${In}px`;rt.root.style.fontSize=`${fn}px`,rt.root.style.fontWeight=_n,we.style.fontFamily=$t,we.style.fontFeatureSettings=Zt,we.style.lineHeight=Kn,rt.icon.style.height=Kn,rt.icon.style.width=Kn,rt.readMore.style.height=Kn,rt.readMore.style.width=Kn};return Fe(),rt.disposables.add(this._editor.onDidChangeConfiguration(Ye=>{(Ye.hasChanged(40)||Ye.hasChanged(105)||Ye.hasChanged(106))&&Fe()})),rt}renderElement(Ze,rt,tt){const{completion:we}=Ze;tt.root.id=vi(rt),tt.colorspan.style.backgroundColor="";const Fe={labelEscapeNewLines:!0,matches:(0,ne.mB)(Ze.score)};let Ye=[];if(19===we.kind&&Fn.extract(Ze,Ye))tt.icon.className="icon customcolor",tt.iconContainer.className="icon hide",tt.colorspan.style.backgroundColor=Ye[0];else if(20===we.kind&&this._themeService.getFileIconTheme().hasFileIcons){tt.icon.className="icon hide",tt.iconContainer.className="icon hide";const mt=Pt(this._modelService,this._modeService,yn.o.from({scheme:"fake",path:Ze.textLabel}),Lt.FILE),$t=Pt(this._modelService,this._modeService,yn.o.from({scheme:"fake",path:we.detail}),Lt.FILE);Fe.extraClasses=mt.length>$t.length?mt:$t}else 23===we.kind&&this._themeService.getFileIconTheme().hasFolderIcons?(tt.icon.className="icon hide",tt.iconContainer.className="icon hide",Fe.extraClasses=(0,U.xH)([Pt(this._modelService,this._modeService,yn.o.from({scheme:"fake",path:Ze.textLabel}),Lt.FOLDER),Pt(this._modelService,this._modeService,yn.o.from({scheme:"fake",path:we.detail}),Lt.FOLDER)])):(tt.icon.className="icon hide",tt.iconContainer.className="",tt.iconContainer.classList.add("suggest-icon",...(0,w.Sy)(we.kind).split(" ")));we.tags&&we.tags.indexOf(1)>=0&&(Fe.extraClasses=(Fe.extraClasses||[]).concat(["deprecated"]),Fe.matches=[]),tt.iconLabel.setLabel(Ze.textLabel,void 0,Fe),"string"==typeof we.label?(tt.parametersLabel.textContent="",tt.detailsLabel.textContent=Mt(we.detail||""),tt.root.classList.add("string-label")):(tt.parametersLabel.textContent=Mt(we.label.detail||""),tt.detailsLabel.textContent=Mt(we.label.description||""),tt.root.classList.remove("string-label")),this._editor.getOption(104).showInlineDetails?(0,ve.$Z)(tt.detailsLabel):(0,ve.Cp)(tt.detailsLabel),nt(Ze)?(tt.right.classList.add("can-expand-details"),(0,ve.$Z)(tt.readMore),tt.readMore.onmousedown=mt=>{mt.stopPropagation(),mt.preventDefault()},tt.readMore.onclick=mt=>{mt.stopPropagation(),mt.preventDefault(),this._onDidToggleDetails.fire()}):(tt.right.classList.remove("can-expand-details"),(0,ve.Cp)(tt.readMore),tt.readMore.onmousedown=null,tt.readMore.onclick=null)}disposeTemplate(Ze){Ze.disposables.dispose()}};function Mt(hn){return hn.replace(/\r\n|\r|\n/g,"")}ut=function(hn,Ze,rt,tt){var Ye,we=arguments.length,Fe=we<3?Ze:null===tt?tt=Object.getOwnPropertyDescriptor(Ze,rt):tt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Fe=Reflect.decorate(hn,Ze,rt,tt);else for(var mt=hn.length-1;mt>=0;mt--)(Ye=hn[mt])&&(Fe=(we<3?Ye(Fe):we>3?Ye(Ze,rt,Fe):Ye(Ze,rt))||Fe);return we>3&&Fe&&Object.defineProperty(Ze,rt,Fe),Fe}([zn(1,bn.q),zn(2,_.h),zn(3,De.XE)],ut);var kt=a(4406),nn=a(1902),gn=function(hn,Ze){return function(rt,tt){Ze(rt,tt,hn)}};const Zn=(0,Le.P6)("editorSuggestWidget.background",{dark:Le.D0,light:Le.D0,hc:Le.D0},ce.N("editorSuggestWidgetBackground","Background color of the suggest widget.")),ai=(0,Le.P6)("editorSuggestWidget.border",{dark:Le.D1,light:Le.D1,hc:Le.D1},ce.N("editorSuggestWidgetBorder","Border color of the suggest widget.")),Yn=(0,Le.P6)("editorSuggestWidget.foreground",{dark:Le.NO,light:Le.NO,hc:Le.NO},ce.N("editorSuggestWidgetForeground","Foreground color of the suggest widget.")),Mn=(0,Le.P6)("editorSuggestWidget.selectedForeground",{dark:Le.NP,light:Le.NP,hc:Le.NP},ce.N("editorSuggestWidgetSelectedForeground","Foreground color of the selected entry in the suggest widget.")),Nn=(0,Le.P6)("editorSuggestWidget.selectedIconForeground",{dark:Le.cb,light:Le.cb,hc:Le.cb},ce.N("editorSuggestWidgetSelectedIconForeground","Icon foreground color of the selected entry in the suggest widget.")),Li=(0,Le.P6)("editorSuggestWidget.selectedBackground",{dark:Le.Vq,light:Le.Vq,hc:Le.Vq},ce.N("editorSuggestWidgetSelectedBackground","Background color of the selected entry in the suggest widget.")),si=(0,Le.P6)("editorSuggestWidget.highlightForeground",{dark:Le.Gw,light:Le.Gw,hc:Le.Gw},ce.N("editorSuggestWidgetHighlightForeground","Color of the match highlights in the suggest widget.")),Wi=(0,Le.P6)("editorSuggestWidget.focusHighlightForeground",{dark:Le.PX,light:Le.PX,hc:Le.PX},ce.N("editorSuggestWidgetFocusHighlightForeground","Color of the match highlights in the suggest widget when an item is focused."));class rs{constructor(Ze,rt){this._service=Ze,this._key=`suggestWidget.size/${rt.getEditorType()}/${rt instanceof kt.H}`}restore(){var Ze;const rt=null!==(Ze=this._service.get(this._key,0))&&void 0!==Ze?Ze:"";try{const tt=JSON.parse(rt);if(ve.Ro.is(tt))return ve.Ro.lift(tt)}catch(tt){}}store(Ze){this._service.store(this._key,JSON.stringify(Ze),0,1)}reset(){this._service.remove(this._key,0)}}let vs=class Hw{constructor(Ze,rt,tt,we,Fe){this.editor=Ze,this._storageService=rt,this._state=0,this._isAuto=!1,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new E._F,this._disposables=new k.SL,this._onDidSelect=new ee.Q5,this._onDidFocus=new ee.Q5,this._onDidHide=new ee.Q5,this._onDidShow=new ee.Q5,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new ee.Q5,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new Qt,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new Ut(this,Ze),this._persistedSize=new rs(rt,Ze);class Ye{constructor(On,Kn,Wn=!1,oi=!1){this.persistedSize=On,this.currentSize=Kn,this.persistHeight=Wn,this.persistWidth=oi}}let mt;this._disposables.add(this.element.onDidWillResize(()=>{this._contentWidget.lockPreference(),mt=new Ye(this._persistedSize.restore(),this.element.size)})),this._disposables.add(this.element.onDidResize(_n=>{var On,Kn,Wn,oi;if(this._resize(_n.dimension.width,_n.dimension.height),mt&&(mt.persistHeight=mt.persistHeight||!!_n.north||!!_n.south,mt.persistWidth=mt.persistWidth||!!_n.east||!!_n.west),_n.done){if(mt){const{itemHeight:Wt,defaultSize:X}=this.getLayoutInfo(),Ie=Math.round(Wt/2);let{width:et,height:wt}=this.element.size;(!mt.persistHeight||Math.abs(mt.currentSize.height-wt)<=Ie)&&(wt=null!==(Kn=null===(On=mt.persistedSize)||void 0===On?void 0:On.height)&&void 0!==Kn?Kn:X.height),(!mt.persistWidth||Math.abs(mt.currentSize.width-et)<=Ie)&&(et=null!==(oi=null===(Wn=mt.persistedSize)||void 0===Wn?void 0:Wn.width)&&void 0!==oi?oi:X.width),this._persistedSize.store(new ve.Ro(et,wt))}this._contentWidget.unlockPreference(),mt=void 0}})),this._messageElement=ve.R3(this.element.domNode,ve.$(".message")),this._listElement=ve.R3(this.element.domNode,ve.$(".tree"));const $t=Fe.createInstance(bt,this.editor);$t.onDidClose(this.toggleDetails,this,this._disposables),this._details=new Rt($t,this.editor);const Zt=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(104).showIcons);Zt();const fn=Fe.createInstance(ut,this.editor);this._disposables.add(fn),this._disposables.add(fn.onDidToggleDetails(()=>this.toggleDetails())),this._list=new ht.aV("SuggestWidget",this._listElement,{getHeight:_n=>this.getLayoutInfo().itemHeight,getTemplateId:_n=>"suggestion"},[fn],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,accessibilityProvider:{getRole:()=>"option",getAriaLabel:_n=>{if(_n.isResolved&&this._isDetailsVisible()){const{documentation:On,detail:Kn}=_n.completion,Wn=he.WU("{0}{1}",Kn||"",On?"string"==typeof On?On:On.value:"");return ce.N("ariaCurrenttSuggestionReadDetails","{0}, docs: {1}",_n.textLabel,Wn)}return _n.textLabel},getWidgetAriaLabel:()=>ce.N("suggest","Suggest"),getWidgetRole:()=>"listbox"}}),this._status=Fe.createInstance(J,this.element.domNode);const In=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(104).showStatusBar);In(),this._disposables.add((0,Ge.Jl)(this._list,we,{listInactiveFocusBackground:Li,listInactiveFocusOutline:Le.xL})),this._disposables.add(we.onDidColorThemeChange(_n=>this._onThemeChange(_n))),this._onThemeChange(we.getColorTheme()),this._disposables.add(this._list.onMouseDown(_n=>this._onListMouseDownOrTap(_n))),this._disposables.add(this._list.onTap(_n=>this._onListMouseDownOrTap(_n))),this._disposables.add(this._list.onDidChangeSelection(_n=>this._onListSelection(_n))),this._disposables.add(this._list.onDidChangeFocus(_n=>this._onListFocus(_n))),this._disposables.add(this.editor.onDidChangeCursorSelection(()=>this._onCursorSelectionChanged())),this._disposables.add(this.editor.onDidChangeConfiguration(_n=>{_n.hasChanged(104)&&(In(),Zt())})),this._ctxSuggestWidgetVisible=Z._y.Visible.bindTo(tt),this._ctxSuggestWidgetDetailsVisible=Z._y.DetailsVisible.bindTo(tt),this._ctxSuggestWidgetMultipleSuggestions=Z._y.MultipleSuggestions.bindTo(tt),this._disposables.add(ve.mu(this._details.widget.domNode,"keydown",_n=>{this._onDetailsKeydown.fire(_n)})),this._disposables.add(this.editor.onMouseDown(_n=>this._onEditorMouseDown(_n)))}dispose(){var Ze;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),null===(Ze=this._loadingTimeout)||void 0===Ze||Ze.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown(Ze){this._details.widget.domNode.contains(Ze.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(Ze.target.element)&&this.editor.focus()}_onCursorSelectionChanged(){0!==this._state&&this._contentWidget.layout()}_onListMouseDownOrTap(Ze){void 0===Ze.element||void 0===Ze.index||(Ze.browserEvent.preventDefault(),Ze.browserEvent.stopPropagation(),this._select(Ze.element,Ze.index))}_onListSelection(Ze){Ze.elements.length&&this._select(Ze.elements[0],Ze.indexes[0])}_select(Ze,rt){const tt=this._completionModel;tt&&(this._onDidSelect.fire({item:Ze,index:rt,model:tt}),this.editor.focus())}_onThemeChange(Ze){const rt=Ze.getColor(Zn);rt&&(this.element.domNode.style.backgroundColor=rt.toString(),this._messageElement.style.backgroundColor=rt.toString(),this._details.widget.domNode.style.backgroundColor=rt.toString());const tt=Ze.getColor(ai);tt&&(this.element.domNode.style.borderColor=tt.toString(),this._messageElement.style.borderColor=tt.toString(),this._status.element.style.borderTopColor=tt.toString(),this._details.widget.domNode.style.borderColor=tt.toString(),this._detailsBorderColor=tt.toString());const we=Ze.getColor(Le.R8);we&&(this._detailsFocusBorderColor=we.toString()),this._details.widget.borderWidth="hc"===Ze.type?2:1}_onListFocus(Ze){var rt;if(this._ignoreFocusEvents)return;if(!Ze.elements.length)return this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),void this.editor.setAriaOptions({activeDescendant:void 0});if(!this._completionModel)return;const tt=Ze.elements[0],we=Ze.indexes[0];tt!==this._focusedItem&&(null===(rt=this._currentSuggestionDetails)||void 0===rt||rt.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=tt,this._list.reveal(we),this._currentSuggestionDetails=(0,E.PG)(Fe=>function(hn,Ze,rt,tt){return new(rt||(rt=Promise))(function(Fe,Ye){function mt(fn){try{Zt(tt.next(fn))}catch(In){Ye(In)}}function $t(fn){try{Zt(tt.throw(fn))}catch(In){Ye(In)}}function Zt(fn){fn.done?Fe(fn.value):function(Fe){return Fe instanceof rt?Fe:new rt(function(Ye){Ye(Fe)})}(fn.value).then(mt,$t)}Zt((tt=tt.apply(hn,Ze||[])).next())})}(this,void 0,void 0,function*(){const Ye=(0,E.Vg)(()=>{this._isDetailsVisible()&&this.showDetails(!0)},250);Fe.onCancellationRequested(()=>Ye.dispose());const mt=yield tt.resolve(Fe);return Ye.dispose(),mt})),this._currentSuggestionDetails.then(()=>{we>=this._list.length||tt!==this._list.element(we)||(this._ignoreFocusEvents=!0,this._list.splice(we,1,[tt]),this._list.setFocus([we]),this._ignoreFocusEvents=!1,this._isDetailsVisible()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:vi(we)}))}).catch(j.dL)),this._onDidFocus.fire({item:tt,index:we,model:this._completionModel})}_setState(Ze){if(this._state!==Ze)switch(this._state=Ze,this.element.domNode.classList.toggle("frozen",4===Ze),this.element.domNode.classList.remove("message"),Ze){case 0:ve.Cp(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=Hw.LOADING_MESSAGE,ve.Cp(this._listElement,this._status.element),ve.$Z(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=Hw.NO_SUGGESTIONS_MESSAGE,ve.Cp(this._listElement,this._status.element),ve.$Z(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 3:case 4:ve.Cp(this._messageElement),ve.$Z(this._listElement,this._status.element),this._show();break;case 5:ve.Cp(this._messageElement),ve.$Z(this._listElement,this._status.element),this._details.show(),this._show()}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet(()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)},100)}showTriggered(Ze,rt){0===this._state&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!Ze,this._isAuto||(this._loadingTimeout=(0,E.Vg)(()=>this._setState(1),rt)))}showSuggestions(Ze,rt,tt,we){var Fe,Ye;if(this._contentWidget.setPosition(this.editor.getPosition()),null===(Fe=this._loadingTimeout)||void 0===Fe||Fe.dispose(),null===(Ye=this._currentSuggestionDetails)||void 0===Ye||Ye.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==Ze&&(this._completionModel=Ze),tt&&2!==this._state&&0!==this._state)return void this._setState(4);const mt=this._completionModel.items.length,$t=0===mt;if(this._ctxSuggestWidgetMultipleSuggestions.set(mt>1),$t)return this._setState(we?0:2),void(this._completionModel=void 0);this._focusedItem=void 0,this._list.splice(0,this._list.length,this._completionModel.items),this._setState(tt?4:3),this._list.reveal(rt,0),this._list.setFocus([rt]),this._layout(this.element.size),this._detailsBorderColor&&(this._details.widget.domNode.style.borderColor=this._detailsBorderColor)}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(0!==this._state&&2!==this._state&&1!==this._state&&this._completionModel)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}toggleDetailsFocus(){5===this._state?(this._setState(3),this._detailsBorderColor&&(this._details.widget.domNode.style.borderColor=this._detailsBorderColor)):3===this._state&&this._isDetailsVisible()&&(this._setState(5),this._detailsFocusBorderColor&&(this._details.widget.domNode.style.borderColor=this._detailsFocusBorderColor))}toggleDetails(){this._isDetailsVisible()?(this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):(nt(this._list.getFocusedElements()[0])||this._explainMode)&&(3===this._state||5===this._state||4===this._state)&&(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}showDetails(Ze){this._details.show(),Ze?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._positionDetails(),this.editor.focus(),this.element.domNode.classList.add("shows-details")}toggleExplainMode(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){var Ze;null===(Ze=this._loadingTimeout)||void 0===Ze||Ze.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();const rt=this._persistedSize.restore(),tt=Math.ceil(4.3*this.getLayoutInfo().itemHeight);rt&&rt.height<tt&&this._persistedSize.store(rt.with(void 0,tt))}isFrozen(){return 4===this._state}_afterRender(Ze){null!==Ze?2===this._state||1===this._state||(this._isDetailsVisible()&&this._details.show(),this._positionDetails()):this._isDetailsVisible()&&this._details.hide()}_layout(Ze){var rt,tt,we;if(!this.editor.hasModel()||!this.editor.getDomNode())return;const Fe=ve.D6(document.body),Ye=this.getLayoutInfo();Ze||(Ze=Ye.defaultSize);let mt=Ze.height,$t=Ze.width;if(this._status.element.style.lineHeight=`${Ye.itemHeight}px`,2===this._state||1===this._state)mt=Ye.itemHeight+Ye.borderHeight,$t=Ye.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new ve.Ro($t,mt),this._contentWidget.setPreference(2);else{const Zt=Fe.width-Ye.borderHeight-2*Ye.horizontalPadding;$t>Zt&&($t=Zt);const fn=this._completionModel?this._completionModel.stats.pLabelLen*Ye.typicalHalfwidthCharacterWidth:$t,In=Ye.statusBarHeight+this._list.contentHeight+Ye.borderHeight,_n=Ye.itemHeight+Ye.statusBarHeight,On=ve.i(this.editor.getDomNode()),Kn=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),oi=Math.min(Fe.height-(On.top+Kn.top+Kn.height)-Ye.verticalPadding,In),Wt=Math.min(On.top+Kn.top-Ye.verticalPadding,In);let X=Math.min(Math.max(Wt,oi)+Ye.borderHeight,In);mt===(null===(rt=this._cappedHeight)||void 0===rt?void 0:rt.capped)&&(mt=this._cappedHeight.wanted),mt<_n&&(mt=_n),mt>X&&(mt=X);const Ie=100;mt>oi||this._forceRenderingAbove&&Wt>Ie?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),X=Wt):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),X=oi),this.element.preferredSize=new ve.Ro(fn,Ye.defaultSize.height),this.element.maxSize=new ve.Ro(Zt,X),this.element.minSize=new ve.Ro(220,_n),this._cappedHeight=mt===In?{wanted:null!==(we=null===(tt=this._cappedHeight)||void 0===tt?void 0:tt.wanted)&&void 0!==we?we:Ze.height,capped:mt}:void 0}this._resize($t,mt)}_resize(Ze,rt){const{width:tt,height:we}=this.element.maxSize;Ze=Math.min(tt,Ze),rt=Math.min(we,rt);const{statusBarHeight:Fe}=this.getLayoutInfo();this._list.layout(rt-Fe,Ze),this._listElement.style.height=rt-Fe+"px",this.element.layout(rt,Ze),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode)}getLayoutInfo(){const Ze=this.editor.getOption(40),rt=(0,nn.u)(this.editor.getOption(106)||Ze.lineHeight,8,1e3),tt=this.editor.getOption(104).showStatusBar&&2!==this._state&&1!==this._state?rt:0,we=this._details.widget.borderWidth,Fe=2*we;return{itemHeight:rt,statusBarHeight:tt,borderWidth:we,borderHeight:Fe,typicalHalfwidthCharacterWidth:Ze.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new ve.Ro(430,tt+12*rt+Fe)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible(Ze){this._storageService.store("expandSuggestionDocs",Ze,0,0)}forceRenderingAbove(){this._forceRenderingAbove||(this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore()))}stopForceRenderingAbove(){this._forceRenderingAbove=!1}};vs.LOADING_MESSAGE=ce.N("suggestWidget.loading","Loading..."),vs.NO_SUGGESTIONS_MESSAGE=ce.N("suggestWidget.noSuggestions","No suggestions."),vs=function(hn,Ze,rt,tt){var Ye,we=arguments.length,Fe=we<3?Ze:null===tt?tt=Object.getOwnPropertyDescriptor(Ze,rt):tt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Fe=Reflect.decorate(hn,Ze,rt,tt);else for(var mt=hn.length-1;mt>=0;mt--)(Ye=hn[mt])&&(Fe=(we<3?Ye(Fe):we>3?Ye(Ze,rt,Fe):Ye(Ze,rt))||Fe);return we>3&&Fe&&Object.defineProperty(Ze,rt,Fe),Fe}([gn(1,p.Uy),gn(2,N.i6),gn(3,De.XE),gn(4,S.TG)],vs);class Ut{constructor(Ze,rt){this._widget=Ze,this._editor=rt,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}hide(){this._hidden||(this._hidden=!0,this.layout())}layout(){this._editor.layoutContentWidget(this)}getPosition(){return!this._hidden&&this._position&&this._preference?{position:this._position,preference:[this._preference]}:null}beforeRender(){const{height:Ze,width:rt}=this._widget.element.size,{borderWidth:tt,horizontalPadding:we}=this._widget.getLayoutInfo();return new ve.Ro(rt+2*tt+we,Ze+2*tt)}afterRender(Ze){this._widget._afterRender(Ze)}setPreference(Ze){this._preferenceLocked||(this._preference=Ze)}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(Ze){this._position=Ze}}(0,De.Ic)((hn,Ze)=>{const rt=hn.getColor(si);rt&&Ze.addRule(`.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-highlighted-label .highlight { color: ${rt}; }`);const tt=hn.getColor(Wi);rt&&Ze.addRule(`.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused .monaco-highlighted-label .highlight { color: ${tt}; }`);const we=hn.getColor(Yn);we&&Ze.addRule(`.monaco-editor .suggest-widget, .monaco-editor .suggest-details { color: ${we}; }`);const Fe=hn.getColor(Mn);Fe&&Ze.addRule(`.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused { color: ${Fe}; }`);const Ye=hn.getColor(Nn);Ye&&Ze.addRule(`.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused .codicon { color: ${Ye}; }`);const mt=hn.getColor(Le.ur);mt&&Ze.addRule(`.monaco-editor .suggest-details a { color: ${mt}; }`);const $t=hn.getColor(Le.Sw);$t&&Ze.addRule(`.monaco-editor .suggest-details code { background-color: ${$t}; }`)});let me=class jR{constructor(Ze,rt){this._editor=Ze,this._enabled=!1,this._ckAtEnd=jR.AtEnd.bindTo(rt),this._configListener=this._editor.onDidChangeConfiguration(tt=>tt.hasChanged(109)&&this._update()),this._update()}dispose(){var Ze;this._configListener.dispose(),null===(Ze=this._selectionListener)||void 0===Ze||Ze.dispose(),this._ckAtEnd.reset()}_update(){const Ze="on"===this._editor.getOption(109);if(this._enabled!==Ze)if(this._enabled=Ze,this._enabled){const rt=()=>{if(!this._editor.hasModel())return void this._ckAtEnd.set(!1);const tt=this._editor.getModel(),we=this._editor.getSelection(),Fe=tt.getWordAtPosition(we.getStartPosition());this._ckAtEnd.set(!!Fe&&Fe.endColumn===we.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(rt),rt()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}};me.AtEnd=new N.uy("atEndOfWord",!1),me=function(hn,Ze,rt,tt){var Ye,we=arguments.length,Fe=we<3?Ze:null===tt?tt=Object.getOwnPropertyDescriptor(Ze,rt):tt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Fe=Reflect.decorate(hn,Ze,rt,tt);else for(var mt=hn.length-1;mt>=0;mt--)(Ye=hn[mt])&&(Fe=(we<3?Ye(Fe):we>3?Ye(Ze,rt,Fe):Ye(Ze,rt))||Fe);return we>3&&Fe&&Object.defineProperty(Ze,rt,Fe),Fe}([function(hn,Ze){return function(rt,tt){Ze(rt,tt,1)}}(0,N.i6)],me);var Ke=a(1882),qe=a(5610);class st{constructor(Ze,rt,tt){this._disposables=new k.SL,this._disposables.add(rt.onDidShow(()=>this._onItem(rt.getFocusedItem()))),this._disposables.add(rt.onDidFocus(this._onItem,this)),this._disposables.add(rt.onDidHide(this.reset,this)),this._disposables.add(Ze.onWillType(we=>{if(this._active&&!rt.isFrozen()){const Fe=we.charCodeAt(we.length-1);this._active.acceptCharacters.has(Fe)&&Ze.getOption(0)&&tt(this._active.item)}}))}_onItem(Ze){if(!Ze||!(0,U.Of)(Ze.item.completion.commitCharacters))return void this.reset();if(this._active&&this._active.item.item===Ze.item)return;const rt=new qe.q;for(const tt of Ze.item.completion.commitCharacters)tt.length>0&&rt.add(tt.charCodeAt(0));this._active={acceptCharacters:rt,item:Ze}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}}let jt=(()=>{class hn{constructor(rt,tt){this._disposables=new k.SL,this._lastOvertyped=[],this._empty=!0,this._disposables.add(rt.onWillType(()=>{if(!this._empty||!rt.hasModel())return;const we=rt.getSelections(),Fe=we.length;let Ye=!1;for(let $t=0;$t<Fe;$t++)if(!we[$t].isEmpty()){Ye=!0;break}if(!Ye)return;this._lastOvertyped=[];const mt=rt.getModel();for(let $t=0;$t<Fe;$t++){const Zt=we[$t];if(mt.getValueLengthInRange(Zt)>hn._maxSelectionLength)return;this._lastOvertyped[$t]={value:mt.getValueInRange(Zt),multiline:Zt.startLineNumber!==Zt.endLineNumber}}this._empty=!1})),this._disposables.add(tt.onDidCancel(we=>{!this._empty&&!we.retrigger&&(this._empty=!0)}))}getLastOvertypedInfo(rt){if(!this._empty&&rt>=0&&rt<this._lastOvertyped.length)return this._lastOvertyped[rt]}dispose(){this._disposables.dispose()}}return hn._maxSelectionLength=51200,hn})();var Ft=a(2109),en=a(9190),Yt=a(2329),un=function(hn,Ze){return function(rt,tt){Ze(rt,tt,hn)}};class An{constructor(Ze,rt){if(this._model=Ze,this._position=rt,Ze.getLineMaxColumn(rt.lineNumber)!==rt.column){const we=Ze.getOffsetAt(rt),Fe=Ze.getPositionAt(we+1);this._marker=Ze.deltaDecorations([],[{range:d.e.fromPositions(rt,Fe),options:{description:"suggest-line-suffix",stickiness:1}}])}}dispose(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])}delta(Ze){if(this._model.isDisposed()||this._position.lineNumber!==Ze.lineNumber)return 0;if(this._marker){const rt=this._model.getDecorationRange(this._marker[0]);return this._model.getOffsetAt(rt.getStartPosition())-this._model.getOffsetAt(Ze)}return this._model.getLineMaxColumn(Ze.lineNumber)-Ze.column}}let Bn=class zR{constructor(Ze,rt,tt,we,Fe,Ye){this._memoryService=rt,this._commandService=tt,this._contextKeyService=we,this._instantiationService=Fe,this._logService=Ye,this._lineSuffix=new k.XK,this._toDispose=new k.SL,this.editor=Ze,this.model=Fe.createInstance(Ue,this.editor);const mt=Z._y.InsertMode.bindTo(we);mt.set(Ze.getOption(104).insertMode),this.model.onDidTrigger(()=>mt.set(Ze.getOption(104).insertMode)),this.widget=this._toDispose.add(new E.Ue(()=>{const fn=this._instantiationService.createInstance(vs,this.editor);this._toDispose.add(fn),this._toDispose.add(fn.onDidSelect(Wn=>this._insertSuggestion(Wn,0),this));const In=new st(this.editor,fn,Wn=>this._insertSuggestion(Wn,2));this._toDispose.add(In),this._toDispose.add(this.model.onDidSuggest(Wn=>{0===Wn.completionModel.items.length&&In.reset()}));const _n=Z._y.MakesTextEdit.bindTo(this._contextKeyService),On=Z._y.HasInsertAndReplaceRange.bindTo(this._contextKeyService),Kn=Z._y.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add((0,k.OF)(()=>{_n.reset(),On.reset(),Kn.reset()})),this._toDispose.add(fn.onDidFocus(({item:Wn})=>{const oi=this.editor.getPosition(),Wt=Wn.editStart.column,X=oi.column;let Ie=!0;"smart"!==this.editor.getOption(1)||2!==this.model.state||Wn.completion.command||Wn.completion.additionalTextEdits||4&Wn.completion.insertTextRules||X-Wt!==Wn.completion.insertText.length||(Ie=this.editor.getModel().getValueInRange({startLineNumber:oi.lineNumber,startColumn:Wt,endLineNumber:oi.lineNumber,endColumn:X})!==Wn.completion.insertText),_n.set(Ie),On.set(!Ft.L.equals(Wn.editInsertEnd,Wn.editReplaceEnd)),Kn.set(Boolean(Wn.provider.resolveCompletionItem)||Boolean(Wn.completion.documentation)||Wn.completion.detail!==Wn.completion.label)})),this._toDispose.add(fn.onDetailsKeyDown(Wn=>{Wn.toKeybinding().equals(new O.QC(!0,!1,!1,!1,33))||en.dz&&Wn.toKeybinding().equals(new O.QC(!1,!1,!1,!0,33))?Wn.stopPropagation():Wn.toKeybinding().isModifierKey()||this.editor.focus()})),fn})),this._overtypingCapturer=this._toDispose.add(new E.Ue(()=>this._toDispose.add(new jt(this.editor,this.model)))),this._alternatives=this._toDispose.add(new E.Ue(()=>this._toDispose.add(new oe(this.editor,this._contextKeyService)))),this._toDispose.add(Fe.createInstance(me,Ze)),this._toDispose.add(this.model.onDidTrigger(fn=>{this.widget.value.showTriggered(fn.auto,fn.shy?250:50),this._lineSuffix.value=new An(this.editor.getModel(),fn.position)})),this._toDispose.add(this.model.onDidSuggest(fn=>{if(!fn.shy){let In=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),fn.completionModel.items);this.widget.value.showSuggestions(fn.completionModel,In,fn.isFrozen,fn.auto)}})),this._toDispose.add(this.model.onDidCancel(fn=>{fn.retrigger||this.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(()=>{this.model.cancel(),this.model.clear()}));let $t=Z._y.AcceptSuggestionsOnEnter.bindTo(we),Zt=()=>{const fn=this.editor.getOption(1);$t.set("on"===fn||"smart"===fn)};this._toDispose.add(this.editor.onDidChangeConfiguration(()=>Zt())),Zt()}static get(Ze){return Ze.getContribution(zR.ID)}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose()}_insertSuggestion(Ze,rt){if(!Ze||!Ze.item)return this._alternatives.value.reset(),this.model.cancel(),void this.model.clear();if(!this.editor.hasModel())return;const tt=this.editor.getModel(),we=tt.getAlternativeVersionId(),{item:Fe}=Ze,Ye=[],mt=new ye.A;1&rt||this.editor.pushUndoStop();const $t=this.getOverwriteInfo(Fe,Boolean(8&rt));if(this._memoryService.memorize(tt,this.editor.getPosition(),Fe),Array.isArray(Fe.completion.additionalTextEdits)){const fn=$.ZF.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",Fe.completion.additionalTextEdits.map(In=>R.h.replace(d.e.lift(In.range),In.text))),fn.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!Fe.isResolved){const fn=new Yt.G(!0);let In;const _n=tt.onDidChangeContent(oi=>{if(oi.isFlush)return mt.cancel(),void _n.dispose();for(let Wt of oi.changes){const X=d.e.getEndPosition(Wt.range);(!In||Ft.L.isBefore(X,In))&&(In=X)}});let On=rt;rt|=2;let Kn=!1,Wn=this.editor.onWillType(()=>{Wn.dispose(),Kn=!0,2&On||this.editor.pushUndoStop()});Ye.push(Fe.resolve(mt.token).then(()=>{if(!Fe.completion.additionalTextEdits||mt.token.isCancellationRequested||In&&Fe.completion.additionalTextEdits.some(Wt=>Ft.L.isBefore(In,d.e.getStartPosition(Wt.range))))return!1;Kn&&this.editor.pushUndoStop();const oi=$.ZF.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",Fe.completion.additionalTextEdits.map(Wt=>R.h.replace(d.e.lift(Wt.range),Wt.text))),oi.restoreRelativeVerticalPositionOfCursor(this.editor),(Kn||!(2&On))&&this.editor.pushUndoStop(),!0}).then(oi=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",fn.elapsed(),oi),_n.dispose(),Wn.dispose()}))}let{insertText:Zt}=Fe.completion;4&Fe.completion.insertTextRules||(Zt=b.Yj.escape(Zt)),g.SnippetController2.get(this.editor).insert(Zt,{overwriteBefore:$t.overwriteBefore,overwriteAfter:$t.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(1&Fe.completion.insertTextRules),clipboardText:Ze.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),2&rt||this.editor.pushUndoStop(),Fe.completion.command?Fe.completion.command.id===kn.id?this.model.trigger({auto:!0,shy:!1},!0):(Ye.push(this._commandService.executeCommand(Fe.completion.command.id,...Fe.completion.command.arguments?[...Fe.completion.command.arguments]:[]).catch(j.dL)),this.model.cancel()):this.model.cancel(),4&rt&&this._alternatives.value.set(Ze,fn=>{for(mt.cancel();tt.canUndo();){we!==tt.getAlternativeVersionId()&&tt.undo(),this._insertSuggestion(fn,3|(8&rt?8:0));break}}),this._alertCompletionItem(Fe),Promise.all(Ye).finally(()=>{this.model.clear(),mt.dispose()})}getOverwriteInfo(Ze,rt){(0,Ke.p_)(this.editor.hasModel());let tt="replace"===this.editor.getOption(104).insertMode;rt&&(tt=!tt);const Fe=(tt?Ze.editReplaceEnd.column:Ze.editInsertEnd.column)-Ze.position.column;return{overwriteBefore:Ze.position.column-Ze.editStart.column+(this.editor.getPosition().column-Ze.position.column),overwriteAfter:Fe+(this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0)}}_alertCompletionItem(Ze){if((0,U.Of)(Ze.completion.additionalTextEdits)){let rt=ce.N("aria.alert.snippet","Accepting '{0}' made {1} additional edits",Ze.textLabel,Ze.completion.additionalTextEdits.length);(0,T.Z9)(rt)}}triggerSuggest(Ze){this.editor.hasModel()&&(this.model.trigger({auto:!1,shy:!1},!1,Ze),this.editor.revealLine(this.editor.getPosition().lineNumber,0),this.editor.focus())}triggerSuggestAndAcceptBest(Ze){if(!this.editor.hasModel())return;const rt=this.editor.getPosition(),tt=()=>{rt.equals(this.editor.getPosition())&&this._commandService.executeCommand(Ze.fallback)},we=Fe=>{if(4&Fe.completion.insertTextRules||Fe.completion.additionalTextEdits)return!0;const Ye=this.editor.getPosition(),mt=Fe.editStart.column,$t=Ye.column;return $t-mt!==Fe.completion.insertText.length||this.editor.getModel().getValueInRange({startLineNumber:Ye.lineNumber,startColumn:mt,endLineNumber:Ye.lineNumber,endColumn:$t})!==Fe.completion.insertText};ee.ju.once(this.model.onDidTrigger)(Fe=>{let Ye=[];ee.ju.any(this.model.onDidTrigger,this.model.onDidCancel)(()=>{(0,k.B9)(Ye),tt()},void 0,Ye),this.model.onDidSuggest(({completionModel:mt})=>{if((0,k.B9)(Ye),0===mt.items.length)return void tt();const $t=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),mt.items),Zt=mt.items[$t];we(Zt)?(this.editor.pushUndoStop(),this._insertSuggestion({index:$t,item:Zt,model:mt},7)):tt()},void 0,Ye)}),this.model.trigger({auto:!1,shy:!0}),this.editor.revealLine(rt.lineNumber,0),this.editor.focus()}acceptSelectedSuggestion(Ze,rt){const tt=this.widget.value.getFocusedItem();let we=0;Ze&&(we|=4),rt&&(we|=8),this._insertSuggestion(tt,we)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}forceRenderingAbove(){this.widget.value.forceRenderingAbove()}stopForceRenderingAbove(){this.widget.value.stopForceRenderingAbove()}};Bn.ID="editor.contrib.suggestController",Bn=function(hn,Ze,rt,tt){var Ye,we=arguments.length,Fe=we<3?Ze:null===tt?tt=Object.getOwnPropertyDescriptor(Ze,rt):tt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Fe=Reflect.decorate(hn,Ze,rt,tt);else for(var mt=hn.length-1;mt>=0;mt--)(Ye=hn[mt])&&(Fe=(we<3?Ye(Fe):we>3?Ye(Ze,rt,Fe):Ye(Ze,rt))||Fe);return we>3&&Fe&&Object.defineProperty(Ze,rt,Fe),Fe}([un(1,le),un(2,be.H),un(3,N.i6),un(4,S.TG),un(5,Je.VZ)],Bn);let kn=(()=>{class hn extends B.R6{constructor(){super({id:hn.id,label:ce.N("suggest.trigger.label","Trigger Suggest"),alias:"Trigger Suggest",precondition:N.Ao.and(C.u.writable,C.u.hasCompletionItemProvider),kbOpts:{kbExpr:C.u.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[521,2087]},weight:100}})}run(rt,tt){const we=Bn.get(tt);!we||we.triggerSuggest()}}return hn.id="editor.action.triggerSuggest",hn})();(0,B._K)(Bn.ID,Bn),(0,B.Qr)(kn);const qn=190,fi=B._l.bindToContribution(Bn.get);(0,B.fK)(new fi({id:"acceptSelectedSuggestion",precondition:Z._y.Visible,handler(hn){hn.acceptSelectedSuggestion(!0,!1)}})),V.W.registerKeybindingRule({id:"acceptSelectedSuggestion",when:N.Ao.and(Z._y.Visible,C.u.textInputFocus),primary:2,weight:qn}),V.W.registerKeybindingRule({id:"acceptSelectedSuggestion",when:N.Ao.and(Z._y.Visible,C.u.textInputFocus,Z._y.AcceptSuggestionsOnEnter,Z._y.MakesTextEdit),primary:3,weight:qn}),ft.BH.appendMenuItem(Z.GI,{command:{id:"acceptSelectedSuggestion",title:ce.N("accept.insert","Insert")},group:"left",order:1,when:Z._y.HasInsertAndReplaceRange.toNegated()}),ft.BH.appendMenuItem(Z.GI,{command:{id:"acceptSelectedSuggestion",title:ce.N("accept.insert","Insert")},group:"left",order:1,when:N.Ao.and(Z._y.HasInsertAndReplaceRange,Z._y.InsertMode.isEqualTo("insert"))}),ft.BH.appendMenuItem(Z.GI,{command:{id:"acceptSelectedSuggestion",title:ce.N("accept.replace","Replace")},group:"left",order:1,when:N.Ao.and(Z._y.HasInsertAndReplaceRange,Z._y.InsertMode.isEqualTo("replace"))}),(0,B.fK)(new fi({id:"acceptAlternativeSelectedSuggestion",precondition:N.Ao.and(Z._y.Visible,C.u.textInputFocus),kbOpts:{weight:qn,kbExpr:C.u.textInputFocus,primary:1027,secondary:[1026]},handler(hn){hn.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:Z.GI,group:"left",order:2,when:N.Ao.and(Z._y.HasInsertAndReplaceRange,Z._y.InsertMode.isEqualTo("insert")),title:ce.N("accept.replace","Replace")},{menuId:Z.GI,group:"left",order:2,when:N.Ao.and(Z._y.HasInsertAndReplaceRange,Z._y.InsertMode.isEqualTo("replace")),title:ce.N("accept.insert","Insert")}]})),be.P.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion"),(0,B.fK)(new fi({id:"hideSuggestWidget",precondition:Z._y.Visible,handler:hn=>hn.cancelSuggestWidget(),kbOpts:{weight:qn,kbExpr:C.u.textInputFocus,primary:9,secondary:[1033]}})),(0,B.fK)(new fi({id:"selectNextSuggestion",precondition:N.Ao.and(Z._y.Visible,Z._y.MultipleSuggestions),handler:hn=>hn.selectNextSuggestion(),kbOpts:{weight:qn,kbExpr:C.u.textInputFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})),(0,B.fK)(new fi({id:"selectNextPageSuggestion",precondition:N.Ao.and(Z._y.Visible,Z._y.MultipleSuggestions),handler:hn=>hn.selectNextPageSuggestion(),kbOpts:{weight:qn,kbExpr:C.u.textInputFocus,primary:12,secondary:[2060]}})),(0,B.fK)(new fi({id:"selectLastSuggestion",precondition:N.Ao.and(Z._y.Visible,Z._y.MultipleSuggestions),handler:hn=>hn.selectLastSuggestion()})),(0,B.fK)(new fi({id:"selectPrevSuggestion",precondition:N.Ao.and(Z._y.Visible,Z._y.MultipleSuggestions),handler:hn=>hn.selectPrevSuggestion(),kbOpts:{weight:qn,kbExpr:C.u.textInputFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})),(0,B.fK)(new fi({id:"selectPrevPageSuggestion",precondition:N.Ao.and(Z._y.Visible,Z._y.MultipleSuggestions),handler:hn=>hn.selectPrevPageSuggestion(),kbOpts:{weight:qn,kbExpr:C.u.textInputFocus,primary:11,secondary:[2059]}})),(0,B.fK)(new fi({id:"selectFirstSuggestion",precondition:N.Ao.and(Z._y.Visible,Z._y.MultipleSuggestions),handler:hn=>hn.selectFirstSuggestion()})),(0,B.fK)(new fi({id:"toggleSuggestionDetails",precondition:Z._y.Visible,handler:hn=>hn.toggleSuggestionDetails(),kbOpts:{weight:qn,kbExpr:C.u.textInputFocus,primary:2058,mac:{primary:266}},menuOpts:[{menuId:Z.GI,group:"right",order:1,when:N.Ao.and(Z._y.DetailsVisible,Z._y.CanResolve),title:ce.N("detail.more","show less")},{menuId:Z.GI,group:"right",order:1,when:N.Ao.and(Z._y.DetailsVisible.toNegated(),Z._y.CanResolve),title:ce.N("detail.less","show more")}]})),(0,B.fK)(new fi({id:"toggleExplainMode",precondition:Z._y.Visible,handler:hn=>hn.toggleExplainMode(),kbOpts:{weight:100,primary:2133}})),(0,B.fK)(new fi({id:"toggleSuggestionFocus",precondition:Z._y.Visible,handler:hn=>hn.toggleSuggestionFocus(),kbOpts:{weight:qn,kbExpr:C.u.textInputFocus,primary:2570,mac:{primary:778}}})),(0,B.fK)(new fi({id:"insertBestCompletion",precondition:N.Ao.and(C.u.textInputFocus,N.Ao.equals("config.editor.tabCompletion","on"),me.AtEnd,Z._y.Visible.toNegated(),oe.OtherSuggestions.toNegated(),g.SnippetController2.InSnippetMode.toNegated()),handler:(hn,Ze)=>{hn.triggerSuggestAndAcceptBest((0,Ke.Kn)(Ze)?Object.assign({fallback:"tab"},Ze):{fallback:"tab"})},kbOpts:{weight:qn,primary:2}})),(0,B.fK)(new fi({id:"insertNextSuggestion",precondition:N.Ao.and(C.u.textInputFocus,N.Ao.equals("config.editor.tabCompletion","on"),oe.OtherSuggestions,Z._y.Visible.toNegated(),g.SnippetController2.InSnippetMode.toNegated()),handler:hn=>hn.acceptNextSuggestion(),kbOpts:{weight:qn,kbExpr:C.u.textInputFocus,primary:2}})),(0,B.fK)(new fi({id:"insertPrevSuggestion",precondition:N.Ao.and(C.u.textInputFocus,N.Ao.equals("config.editor.tabCompletion","on"),oe.OtherSuggestions,Z._y.Visible.toNegated(),g.SnippetController2.InSnippetMode.toNegated()),handler:hn=>hn.acceptPrevSuggestion(),kbOpts:{weight:qn,kbExpr:C.u.textInputFocus,primary:1026}})),(0,B.Qr)(class extends B.R6{constructor(){super({id:"editor.action.resetSuggestSize",label:ce.N("suggest.reset.label","Reset Suggest Widget Size"),alias:"Reset Suggest Widget Size",precondition:void 0})}run(hn,Ze){Bn.get(Ze).resetWidgetSize()}})},5605:(Ct,Qe,a)=>{"use strict";var T=a(1606),U=a(6803),j=a(7251),O=a(521);const k=(0,j.P6)("symbolIcon.arrayForeground",{dark:j.dR,light:j.dR,hc:j.dR},(0,T.N)("symbolIcon.arrayForeground","The foreground color for array symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),$=(0,j.P6)("symbolIcon.booleanForeground",{dark:j.dR,light:j.dR,hc:j.dR},(0,T.N)("symbolIcon.booleanForeground","The foreground color for boolean symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),B=(0,j.P6)("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},(0,T.N)("symbolIcon.classForeground","The foreground color for class symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),R=(0,j.P6)("symbolIcon.colorForeground",{dark:j.dR,light:j.dR,hc:j.dR},(0,T.N)("symbolIcon.colorForeground","The foreground color for color symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),d=(0,j.P6)("symbolIcon.constantForeground",{dark:j.dR,light:j.dR,hc:j.dR},(0,T.N)("symbolIcon.constantForeground","The foreground color for constant symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),C=(0,j.P6)("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},(0,T.N)("symbolIcon.constructorForeground","The foreground color for constructor symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),g=(0,j.P6)("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},(0,T.N)("symbolIcon.enumeratorForeground","The foreground color for enumerator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),b=(0,j.P6)("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,T.N)("symbolIcon.enumeratorMemberForeground","The foreground color for enumerator member symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),I=(0,j.P6)("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},(0,T.N)("symbolIcon.eventForeground","The foreground color for event symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),p=(0,j.P6)("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,T.N)("symbolIcon.fieldForeground","The foreground color for field symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),w=(0,j.P6)("symbolIcon.fileForeground",{dark:j.dR,light:j.dR,hc:j.dR},(0,T.N)("symbolIcon.fileForeground","The foreground color for file symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),E=(0,j.P6)("symbolIcon.folderForeground",{dark:j.dR,light:j.dR,hc:j.dR},(0,T.N)("symbolIcon.folderForeground","The foreground color for folder symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),S=(0,j.P6)("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},(0,T.N)("symbolIcon.functionForeground","The foreground color for function symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),v=(0,j.P6)("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,T.N)("symbolIcon.interfaceForeground","The foreground color for interface symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),M=(0,j.P6)("symbolIcon.keyForeground",{dark:j.dR,light:j.dR,hc:j.dR},(0,T.N)("symbolIcon.keyForeground","The foreground color for key symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),_=(0,j.P6)("symbolIcon.keywordForeground",{dark:j.dR,light:j.dR,hc:j.dR},(0,T.N)("symbolIcon.keywordForeground","The foreground color for keyword symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),f=(0,j.P6)("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},(0,T.N)("symbolIcon.methodForeground","The foreground color for method symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),m=(0,j.P6)("symbolIcon.moduleForeground",{dark:j.dR,light:j.dR,hc:j.dR},(0,T.N)("symbolIcon.moduleForeground","The foreground color for module symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),L=(0,j.P6)("symbolIcon.namespaceForeground",{dark:j.dR,light:j.dR,hc:j.dR},(0,T.N)("symbolIcon.namespaceForeground","The foreground color for namespace symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),F=(0,j.P6)("symbolIcon.nullForeground",{dark:j.dR,light:j.dR,hc:j.dR},(0,T.N)("symbolIcon.nullForeground","The foreground color for null symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),G=(0,j.P6)("symbolIcon.numberForeground",{dark:j.dR,light:j.dR,hc:j.dR},(0,T.N)("symbolIcon.numberForeground","The foreground color for number symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Y=(0,j.P6)("symbolIcon.objectForeground",{dark:j.dR,light:j.dR,hc:j.dR},(0,T.N)("symbolIcon.objectForeground","The foreground color for object symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),de=(0,j.P6)("symbolIcon.operatorForeground",{dark:j.dR,light:j.dR,hc:j.dR},(0,T.N)("symbolIcon.operatorForeground","The foreground color for operator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),le=(0,j.P6)("symbolIcon.packageForeground",{dark:j.dR,light:j.dR,hc:j.dR},(0,T.N)("symbolIcon.packageForeground","The foreground color for package symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),ce=(0,j.P6)("symbolIcon.propertyForeground",{dark:j.dR,light:j.dR,hc:j.dR},(0,T.N)("symbolIcon.propertyForeground","The foreground color for property symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),be=(0,j.P6)("symbolIcon.referenceForeground",{dark:j.dR,light:j.dR,hc:j.dR},(0,T.N)("symbolIcon.referenceForeground","The foreground color for reference symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),N=(0,j.P6)("symbolIcon.snippetForeground",{dark:j.dR,light:j.dR,hc:j.dR},(0,T.N)("symbolIcon.snippetForeground","The foreground color for snippet symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),V=(0,j.P6)("symbolIcon.stringForeground",{dark:j.dR,light:j.dR,hc:j.dR},(0,T.N)("symbolIcon.stringForeground","The foreground color for string symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Z=(0,j.P6)("symbolIcon.structForeground",{dark:j.dR,light:j.dR,hc:j.dR},(0,T.N)("symbolIcon.structForeground","The foreground color for struct symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),ie=(0,j.P6)("symbolIcon.textForeground",{dark:j.dR,light:j.dR,hc:j.dR},(0,T.N)("symbolIcon.textForeground","The foreground color for text symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),ue=(0,j.P6)("symbolIcon.typeParameterForeground",{dark:j.dR,light:j.dR,hc:j.dR},(0,T.N)("symbolIcon.typeParameterForeground","The foreground color for type parameter symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),oe=(0,j.P6)("symbolIcon.unitForeground",{dark:j.dR,light:j.dR,hc:j.dR},(0,T.N)("symbolIcon.unitForeground","The foreground color for unit symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),ee=(0,j.P6)("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,T.N)("symbolIcon.variableForeground","The foreground color for variable symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));(0,U.Ic)((K,ne)=>{const he=K.getColor(k);he&&ne.addRule(`${O.lA.symbolArray.cssSelector} { color: ${he}; }`);const ge=K.getColor($);ge&&ne.addRule(`${O.lA.symbolBoolean.cssSelector} { color: ${ge}; }`);const re=K.getColor(B);re&&ne.addRule(`${O.lA.symbolClass.cssSelector} { color: ${re}; }`);const ye=K.getColor(f);ye&&ne.addRule(`${O.lA.symbolMethod.cssSelector} { color: ${ye}; }`);const ke=K.getColor(R);ke&&ne.addRule(`${O.lA.symbolColor.cssSelector} { color: ${ke}; }`);const xe=K.getColor(d);xe&&ne.addRule(`${O.lA.symbolConstant.cssSelector} { color: ${xe}; }`);const Pe=K.getColor(C);Pe&&ne.addRule(`${O.lA.symbolConstructor.cssSelector} { color: ${Pe}; }`);const fe=K.getColor(g);fe&&ne.addRule(`\n\t\t\t${O.lA.symbolValue.cssSelector},${O.lA.symbolEnum.cssSelector} { color: ${fe}; }`);const Te=K.getColor(b);Te&&ne.addRule(`${O.lA.symbolEnumMember.cssSelector} { color: ${Te}; }`);const Ce=K.getColor(I);Ce&&ne.addRule(`${O.lA.symbolEvent.cssSelector} { color: ${Ce}; }`);const Je=K.getColor(p);Je&&ne.addRule(`${O.lA.symbolField.cssSelector} { color: ${Je}; }`);const pe=K.getColor(w);pe&&ne.addRule(`${O.lA.symbolFile.cssSelector} { color: ${pe}; }`);const Ve=K.getColor(E);Ve&&ne.addRule(`${O.lA.symbolFolder.cssSelector} { color: ${Ve}; }`);const Ae=K.getColor(S);Ae&&ne.addRule(`${O.lA.symbolFunction.cssSelector} { color: ${Ae}; }`);const Ee=K.getColor(v);Ee&&ne.addRule(`${O.lA.symbolInterface.cssSelector} { color: ${Ee}; }`);const ze=K.getColor(M);ze&&ne.addRule(`${O.lA.symbolKey.cssSelector} { color: ${ze}; }`);const Be=K.getColor(_);Be&&ne.addRule(`${O.lA.symbolKeyword.cssSelector} { color: ${Be}; }`);const Ue=K.getColor(m);Ue&&ne.addRule(`${O.lA.symbolModule.cssSelector} { color: ${Ue}; }`);const ot=K.getColor(L);ot&&ne.addRule(`${O.lA.symbolNamespace.cssSelector} { color: ${ot}; }`);const vt=K.getColor(F);vt&&ne.addRule(`${O.lA.symbolNull.cssSelector} { color: ${vt}; }`);const At=K.getColor(G);At&&ne.addRule(`${O.lA.symbolNumber.cssSelector} { color: ${At}; }`);const ve=K.getColor(Y);ve&&ne.addRule(`${O.lA.symbolObject.cssSelector} { color: ${ve}; }`);const ht=K.getColor(de);ht&&ne.addRule(`${O.lA.symbolOperator.cssSelector} { color: ${ht}; }`);const Ge=K.getColor(le);Ge&&ne.addRule(`${O.lA.symbolPackage.cssSelector} { color: ${Ge}; }`);const De=K.getColor(ce);De&&ne.addRule(`${O.lA.symbolProperty.cssSelector} { color: ${De}; }`);const Le=K.getColor(be);Le&&ne.addRule(`${O.lA.symbolReference.cssSelector} { color: ${Le}; }`);const dt=K.getColor(N);dt&&ne.addRule(`${O.lA.symbolSnippet.cssSelector} { color: ${dt}; }`);const _t=K.getColor(V);_t&&ne.addRule(`${O.lA.symbolString.cssSelector} { color: ${_t}; }`);const Nt=K.getColor(Z);Nt&&ne.addRule(`${O.lA.symbolStruct.cssSelector} { color: ${Nt}; }`);const zt=K.getColor(ie);zt&&ne.addRule(`${O.lA.symbolText.cssSelector} { color: ${zt}; }`);const pn=K.getColor(ue);pn&&ne.addRule(`${O.lA.symbolTypeParameter.cssSelector} { color: ${pn}; }`);const Qt=K.getColor(oe);Qt&&ne.addRule(`${O.lA.symbolUnit.cssSelector} { color: ${Qt}; }`);const Ht=K.getColor(ee);Ht&&ne.addRule(`${O.lA.symbolVariable.cssSelector} { color: ${Ht}; }`)})},9007:(Ct,Qe,a)=>{"use strict";a.r(Qe),a.d(Qe,{ToggleTabFocusModeAction:()=>k});var T=a(1606),U=a(7579),j=a(4482),O=a(2547);let k=(()=>{class $ extends j.R6{constructor(){super({id:$.ID,label:T.N({key:"toggle.tabMovesFocus",comment:["Turn on/off use of tab key for moving focus around VS Code"]},"Toggle Tab Key Moves Focus"),alias:"Toggle Tab Key Moves Focus",precondition:void 0,kbOpts:{kbExpr:null,primary:2091,mac:{primary:1323},weight:100}})}run(R,d){const g=!O.nG.getTabFocusMode();O.nG.setTabFocusMode(g),(0,U.Z9)(g?T.N("toggle.tabMovesFocus.on","Pressing Tab will now move focus to the next focusable element"):T.N("toggle.tabMovesFocus.off","Pressing Tab will now insert the tab character"))}}return $.ID="editor.action.toggleTabFocusMode",$})();(0,j.Qr)(k)},8479:(Ct,Qe,a)=>{"use strict";a.r(Qe);var T=a(1606),U=a(1719),j=a(4482),O=a(3779),k=a(5757),$=a(8401),R=function(p,w){return function(E,S){w(E,S,p)}};const C="ignoreUnusualLineTerminators";let I=class extends U.JT{constructor(w,E,S){super(),this._editor=w,this._dialogService=E,this._codeEditorService=S,this._config=this._editor.getOption(111),this._register(this._editor.onDidChangeConfiguration(v=>{v.hasChanged(111)&&(this._config=this._editor.getOption(111),this._checkForUnusualLineTerminators())})),this._register(this._editor.onDidChangeModel(()=>{this._checkForUnusualLineTerminators()})),this._register(this._editor.onDidChangeModelContent(v=>{v.isUndoing||this._checkForUnusualLineTerminators()}))}_checkForUnusualLineTerminators(){return p=this,w=void 0,S=function*(){if("off"===this._config||!this._editor.hasModel())return;const w=this._editor.getModel();w.mightContainUnusualLineTerminators()&&!0!==function(p,w){return p.getModelProperty(w.uri,C)}(this._codeEditorService,w)&&!this._editor.getOption(78)&&("auto"!==this._config?(yield this._dialogService.confirm({title:T.N("unusualLineTerminators.title","Unusual Line Terminators"),message:T.N("unusualLineTerminators.message","Detected unusual line terminators"),detail:T.N("unusualLineTerminators.detail","The file '{0}' contains one or more unusual line terminator characters, like Line Separator (LS) or Paragraph Separator (PS).\n\nIt is recommended to remove them from the file. This can be configured via `editor.unusualLineTerminators`.",(0,$.EZ)(w.uri)),primaryButton:T.N("unusualLineTerminators.fix","Remove Unusual Line Terminators"),secondaryButton:T.N("unusualLineTerminators.ignore","Ignore")})).confirmed?w.removeUnusualLineTerminators(this._editor.getSelections()):function(p,w,E){p.setModelProperty(w.uri,C,!0)}(this._codeEditorService,w):w.removeUnusualLineTerminators(this._editor.getSelections()))},new((E=void 0)||(E=Promise))(function(M,_){function f(F){try{L(S.next(F))}catch(G){_(G)}}function m(F){try{L(S.throw(F))}catch(G){_(G)}}function L(F){F.done?M(F.value):function(M){return M instanceof E?M:new E(function(_){_(M)})}(F.value).then(f,m)}L((S=S.apply(p,w||[])).next())});var p,w,E,S}};I.ID="editor.contrib.unusualLineTerminatorsDetector",I=function(p,w,E,S){var _,v=arguments.length,M=v<3?w:null===S?S=Object.getOwnPropertyDescriptor(w,E):S;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)M=Reflect.decorate(p,w,E,S);else for(var f=p.length-1;f>=0;f--)(_=p[f])&&(M=(v<3?_(M):v>3?_(w,E,M):_(w,E))||M);return v>3&&M&&Object.defineProperty(w,E,M),M}([R(1,k.S),R(2,O.$)],I),(0,j._K)(I.ID,I)},9170:(Ct,Qe,a)=>{"use strict";a.r(Qe);var T=a(7922),U=a(1719),j=a(4482),O=a(6412),k=a(1954),$=a(3107),B=a(6803),R=a(9040),d=a(4219),C=a(3750),b=function(p,w){return function(E,S){w(E,S,p)}};let I=class extends U.JT{constructor(w,E,S,v){super(),this._modelService=E,this._themeService=S,this._configurationService=v,this._editor=w,this._tokenizeViewport=new T.pY(()=>this._tokenizeViewportNow(),100),this._outstandingRequests=[],this._register(this._editor.onDidScrollChange(()=>{this._tokenizeViewport.schedule()})),this._register(this._editor.onDidChangeModel(()=>{this._cancelAll(),this._tokenizeViewport.schedule()})),this._register(this._editor.onDidChangeModelContent(M=>{this._cancelAll(),this._tokenizeViewport.schedule()})),this._register(O.K7.onDidChange(()=>{this._cancelAll(),this._tokenizeViewport.schedule()})),this._register(this._configurationService.onDidChangeConfiguration(M=>{M.affectsConfiguration(d.e3)&&(this._cancelAll(),this._tokenizeViewport.schedule())})),this._register(this._themeService.onDidColorThemeChange(()=>{this._cancelAll(),this._tokenizeViewport.schedule()}))}_cancelAll(){for(const w of this._outstandingRequests)w.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(w){for(let E=0,S=this._outstandingRequests.length;E<S;E++)if(this._outstandingRequests[E]===w)return void this._outstandingRequests.splice(E,1)}_tokenizeViewportNow(){if(!this._editor.hasModel())return;const w=this._editor.getModel();if(w.hasCompleteSemanticTokens())return;if(!(0,d.tw)(w,this._themeService,this._configurationService))return void(w.hasSomeSemanticTokens()&&w.setSemanticTokens(null,!1));const E=(0,C.St)(w);if(!E)return void(w.hasSomeSemanticTokens()&&w.setSemanticTokens(null,!1));const S=this._modelService.getSemanticTokensProviderStyling(E),v=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(v.map(M=>this._requestRange(w,M,E,S)))}_requestRange(w,E,S,v){const M=w.getVersionId(),_=(0,T.PG)(f=>Promise.resolve(S.provideDocumentRangeSemanticTokens(w,E,f)));return _.then(f=>{!f||w.isDisposed()||w.getVersionId()!==M||w.setPartialSemanticTokens(E,(0,$.h)(f,v,w.getLanguageIdentifier()))}).then(()=>this._removeOutstandingRequest(_),()=>this._removeOutstandingRequest(_)),_}};I.ID="editor.contrib.viewportSemanticTokens",I=function(p,w,E,S){var _,v=arguments.length,M=v<3?w:null===S?S=Object.getOwnPropertyDescriptor(w,E):S;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)M=Reflect.decorate(p,w,E,S);else for(var f=p.length-1;f>=0;f--)(_=p[f])&&(M=(v<3?_(M):v>3?_(w,E,M):_(w,E))||M);return v>3&&M&&Object.defineProperty(w,E,M),M}([b(1,k.q),b(2,B.XE),b(3,R.Ui)],I),(0,j._K)(I.ID,I)},660:(Ct,Qe,a)=>{"use strict";a.r(Qe),a.d(Qe,{getOccurrencesAtPosition:()=>Y});var T=a(1606),U=a(2291),j=a(7922),O=a(9357),k=a(5160),$=a(1719),B=a(4482),R=a(8487),d=a(9549),C=a(2902),g=a(111),b=a(6412),I=a(2844),p=a(7251),w=a(6803),E=a(7579);const M=(0,p.P6)("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hc:null},T.N("wordHighlight","Background color of a symbol during read-access, like reading a variable. The color must not be opaque so as not to hide underlying decorations."),!0),_=(0,p.P6)("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hc:null},T.N("wordHighlightStrong","Background color of a symbol during write-access, like writing to a variable. The color must not be opaque so as not to hide underlying decorations."),!0),f=(0,p.P6)("editor.wordHighlightBorder",{light:null,dark:null,hc:p.xL},T.N("wordHighlightBorder","Border color of a symbol during read-access, like reading a variable.")),m=(0,p.P6)("editor.wordHighlightStrongBorder",{light:null,dark:null,hc:p.xL},T.N("wordHighlightStrongBorder","Border color of a symbol during write-access, like writing to a variable.")),L=(0,p.P6)("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},T.N("overviewRulerWordHighlightForeground","Overview ruler marker color for symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),F=(0,p.P6)("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hc:"#C0A0C0CC"},T.N("overviewRulerWordHighlightStrongForeground","Overview ruler marker color for write-access symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),G=new I.uy("hasWordHighlights",!1);function Y(ee,K,ne){const he=b.vH.ordered(ee);return(0,j.Ps)(he.map(ge=>()=>Promise.resolve(ge.provideDocumentHighlights(ee,K,ne)).then(void 0,k.Cp)),U.Of)}class de{constructor(K,ne,he){this._wordRange=this._getCurrentWordRange(K,ne),this.result=(0,j.PG)(ge=>this._compute(K,ne,he,ge))}_getCurrentWordRange(K,ne){const he=K.getWordAtPosition(ne.getPosition());return he?new R.e(ne.startLineNumber,he.startColumn,ne.startLineNumber,he.endColumn):null}isValid(K,ne,he){const ge=ne.startLineNumber,re=ne.startColumn,ye=ne.endColumn,ke=this._getCurrentWordRange(K,ne);let xe=Boolean(this._wordRange&&this._wordRange.equalsRange(ke));for(let Pe=0,fe=he.length;!xe&&Pe<fe;Pe++){let Te=K.getDecorationRange(he[Pe]);Te&&Te.startLineNumber===ge&&Te.startColumn<=re&&Te.endColumn>=ye&&(xe=!0)}return xe}cancel(){this.result.cancel()}}class le extends de{_compute(K,ne,he,ge){return Y(K,ne.getPosition(),ge).then(re=>re||[])}}class ce extends de{constructor(K,ne,he){super(K,ne,he),this._selectionIsEmpty=ne.isEmpty()}_compute(K,ne,he,ge){return(0,j.Vs)(250,ge).then(()=>{if(!ne.isEmpty())return[];const re=K.getWordAtPosition(ne.getPosition());return!re||re.word.length>1e3?[]:K.findMatches(re.word,!0,!1,!0,he,!1).map(ke=>({range:ke.range,kind:b.MY.Text}))})}isValid(K,ne,he){const ge=ne.isEmpty();return this._selectionIsEmpty===ge&&super.isValid(K,ne,he)}}(0,B.sb)("_executeDocumentHighlights",(ee,K)=>Y(ee,K,O.T.None));class N{constructor(K,ne){this.toUnhook=new $.SL,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=K,this._hasWordHighlights=G.bindTo(ne),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(69),this.model=this.editor.getModel(),this.toUnhook.add(K.onDidChangeCursorPosition(he=>{this._ignorePositionChangeEvent||!this.occurrencesHighlight||this._onPositionChanged(he)})),this.toUnhook.add(K.onDidChangeModelContent(he=>{this._stopAll()})),this.toUnhook.add(K.onDidChangeConfiguration(he=>{let ge=this.editor.getOption(69);this.occurrencesHighlight!==ge&&(this.occurrencesHighlight=ge,this._stopAll())})),this._decorationIds=[],this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}hasDecorations(){return this._decorationIds.length>0}restore(){!this.occurrencesHighlight||this._run()}_getSortedHighlights(){return U.kX(this._decorationIds.map(K=>this.model.getDecorationRange(K)).sort(R.e.compareRangesUsingStarts))}moveNext(){let K=this._getSortedHighlights(),he=(K.findIndex(re=>re.containsPosition(this.editor.getPosition()))+1)%K.length,ge=K[he];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(ge.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(ge);const re=this._getWord();if(re){const ye=this.editor.getModel().getLineContent(ge.startLineNumber);(0,E.Z9)(`${ye}, ${he+1} of ${K.length} for '${re.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){let K=this._getSortedHighlights(),he=(K.findIndex(re=>re.containsPosition(this.editor.getPosition()))-1+K.length)%K.length,ge=K[he];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(ge.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(ge);const re=this._getWord();if(re){const ye=this.editor.getModel().getLineContent(ge.startLineNumber);(0,E.Z9)(`${ye}, ${he+1} of ${K.length} for '${re.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeDecorations(){this._decorationIds.length>0&&(this._decorationIds=this.editor.deltaDecorations(this._decorationIds,[]),this._hasWordHighlights.set(!1))}_stopAll(){this._removeDecorations(),-1!==this.renderDecorationsTimer&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),null!==this.workerRequest&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(K){this.occurrencesHighlight&&3===K.reason?this._run():this._stopAll()}_getWord(){let K=this.editor.getSelection();return this.model.getWordAtPosition({lineNumber:K.startLineNumber,column:K.startColumn})}_run(){let K=this.editor.getSelection();if(K.startLineNumber!==K.endLineNumber)return void this._stopAll();let ne=K.startColumn,he=K.endColumn;const ge=this._getWord();if(!ge||ge.startColumn>ne||ge.endColumn<he)return void this._stopAll();const re=this.workerRequest&&this.workerRequest.isValid(this.model,K,this._decorationIds);if(this.lastCursorPositionChangeTime=(new Date).getTime(),re)this.workerRequestCompleted&&-1!==this.renderDecorationsTimer&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();let ye=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=function(ee,K,ne){return b.vH.has(ee)?new le(ee,K,ne):new ce(ee,K,ne)}(this.model,this.editor.getSelection(),this.editor.getOption(114)),this.workerRequest.result.then(ke=>{ye===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=ke||[],this._beginRenderDecorations())},k.dL)}}_beginRenderDecorations(){let K=(new Date).getTime(),ne=this.lastCursorPositionChangeTime+250;K>=ne?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(()=>{this.renderDecorations()},ne-K)}renderDecorations(){this.renderDecorationsTimer=-1;let K=[];for(const ne of this.workerRequestValue)ne.range&&K.push({range:ne.range,options:N._getDecorationOptions(ne.kind)});this._decorationIds=this.editor.deltaDecorations(this._decorationIds,K),this._hasWordHighlights.set(this.hasDecorations())}static _getDecorationOptions(K){return K===b.MY.Write?this._WRITE_OPTIONS:K===b.MY.Text?this._TEXT_OPTIONS:this._REGULAR_OPTIONS}dispose(){this._stopAll(),this.toUnhook.dispose()}}N._WRITE_OPTIONS=g.qx.register({description:"word-highlight-strong",stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:(0,w.EN)(F),position:C.sh.Center}}),N._TEXT_OPTIONS=g.qx.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight",overviewRuler:{color:(0,w.EN)(p.SP),position:C.sh.Center}}),N._REGULAR_OPTIONS=g.qx.register({description:"word-highlight",stickiness:1,className:"wordHighlight",overviewRuler:{color:(0,w.EN)(L),position:C.sh.Center}});let V=class KR extends $.JT{constructor(K,ne){super(),this.wordHighlighter=null;const he=()=>{K.hasModel()&&(this.wordHighlighter=new N(K,ne))};this._register(K.onDidChangeModel(ge=>{this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),he()})),he()}static get(K){return K.getContribution(KR.ID)}saveViewState(){return!(!this.wordHighlighter||!this.wordHighlighter.hasDecorations())}moveNext(){this.wordHighlighter&&this.wordHighlighter.moveNext()}moveBack(){this.wordHighlighter&&this.wordHighlighter.moveBack()}restoreViewState(K){this.wordHighlighter&&K&&this.wordHighlighter.restore()}dispose(){this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),super.dispose()}};var K;V.ID="editor.contrib.wordHighlighter",V=function(ee,K,ne,he){var ye,ge=arguments.length,re=ge<3?K:null===he?he=Object.getOwnPropertyDescriptor(K,ne):he;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)re=Reflect.decorate(ee,K,ne,he);else for(var ke=ee.length-1;ke>=0;ke--)(ye=ee[ke])&&(re=(ge<3?ye(re):ge>3?ye(K,ne,re):ye(K,ne))||re);return ge>3&&re&&Object.defineProperty(K,ne,re),re}([(1,K=I.i6,function(ne,he){K(ne,he,1)})],V);class Z extends B.R6{constructor(K,ne){super(ne),this._isNext=K}run(K,ne){const he=V.get(ne);!he||(this._isNext?he.moveNext():he.moveBack())}}(0,B._K)(V.ID,V),(0,B.Qr)(class extends Z{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:T.N("wordHighlight.next.label","Go to Next Symbol Highlight"),alias:"Go to Next Symbol Highlight",precondition:G,kbOpts:{kbExpr:d.u.editorTextFocus,primary:65,weight:100}})}}),(0,B.Qr)(class extends Z{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:T.N("wordHighlight.previous.label","Go to Previous Symbol Highlight"),alias:"Go to Previous Symbol Highlight",precondition:G,kbOpts:{kbExpr:d.u.editorTextFocus,primary:1089,weight:100}})}}),(0,B.Qr)(class extends B.R6{constructor(){super({id:"editor.action.wordHighlight.trigger",label:T.N("wordHighlight.trigger.label","Trigger Symbol Highlight"),alias:"Trigger Symbol Highlight",precondition:G.toNegated(),kbOpts:{kbExpr:d.u.editorTextFocus,primary:0,weight:100}})}run(K,ne,he){const ge=V.get(ne);!ge||ge.restoreViewState(!0)}}),(0,w.Ic)((ee,K)=>{const ne=ee.getColor(p.Rz);ne&&(K.addRule(`.monaco-editor .focused .selectionHighlight { background-color: ${ne}; }`),K.addRule(`.monaco-editor .selectionHighlight { background-color: ${ne.transparent(.5)}; }`));const he=ee.getColor(M);he&&K.addRule(`.monaco-editor .wordHighlight { background-color: ${he}; }`);const ge=ee.getColor(_);ge&&K.addRule(`.monaco-editor .wordHighlightStrong { background-color: ${ge}; }`);const re=ee.getColor(p.g_);re&&K.addRule(`.monaco-editor .selectionHighlight { border: 1px ${"hc"===ee.type?"dotted":"solid"} ${re}; box-sizing: border-box; }`);const ye=ee.getColor(f);ye&&K.addRule(`.monaco-editor .wordHighlight { border: 1px ${"hc"===ee.type?"dashed":"solid"} ${ye}; box-sizing: border-box; }`);const ke=ee.getColor(m);ke&&K.addRule(`.monaco-editor .wordHighlightStrong { border: 1px ${"hc"===ee.type?"dashed":"solid"} ${ke}; box-sizing: border-box; }`)})},3392:(Ct,Qe,a)=>{"use strict";a.r(Qe),a.d(Qe,{MoveWordCommand:()=>E,WordLeftCommand:()=>S,WordRightCommand:()=>v,CursorWordStartLeft:()=>M,CursorWordEndLeft:()=>_,CursorWordLeft:()=>f,CursorWordStartLeftSelect:()=>m,CursorWordEndLeftSelect:()=>L,CursorWordLeftSelect:()=>F,CursorWordAccessibilityLeft:()=>G,CursorWordAccessibilityLeftSelect:()=>Y,CursorWordStartRight:()=>de,CursorWordEndRight:()=>le,CursorWordRight:()=>ce,CursorWordStartRightSelect:()=>be,CursorWordEndRightSelect:()=>N,CursorWordRightSelect:()=>V,CursorWordAccessibilityRight:()=>Z,CursorWordAccessibilityRightSelect:()=>ie,DeleteWordCommand:()=>ue,DeleteWordLeftCommand:()=>oe,DeleteWordRightCommand:()=>ee,DeleteWordStartLeft:()=>K,DeleteWordEndLeft:()=>ne,DeleteWordLeft:()=>he,DeleteWordStartRight:()=>ge,DeleteWordEndRight:()=>re,DeleteWordRight:()=>ye,DeleteInsideWord:()=>ke});var T=a(1606),U=a(4482),j=a(8571),O=a(5),k=a(5581),$=a(8509),B=a(2109),R=a(8487),d=a(9730),C=a(9549),g=a(2668),b=a(2844),I=a(4103),p=a(2587),w=a(7143);class E extends U._l{constructor(Pe){super(Pe),this._inSelectionMode=Pe.inSelectionMode,this._wordNavigationType=Pe.wordNavigationType}runEditorCommand(Pe,fe,Te){if(!fe.hasModel())return;const Ce=(0,$.u)(fe.getOption(114)),Je=fe.getModel(),Ve=fe.getSelections().map(Ae=>{const Ee=new B.L(Ae.positionLineNumber,Ae.positionColumn),ze=this._move(Ce,Je,Ee,this._wordNavigationType);return this._moveTo(Ae,ze,this._inSelectionMode)});if(Je.pushStackElement(),fe._getViewModel().setCursorStates("moveWordCommand",3,Ve.map(Ae=>O.Vi.fromModelSelection(Ae))),1===Ve.length){const Ae=new B.L(Ve[0].positionLineNumber,Ve[0].positionColumn);fe.revealPosition(Ae,0)}}_moveTo(Pe,fe,Te){return Te?new d.Y(Pe.selectionStartLineNumber,Pe.selectionStartColumn,fe.lineNumber,fe.column):new d.Y(fe.lineNumber,fe.column,fe.lineNumber,fe.column)}}class S extends E{_move(Pe,fe,Te,Ce){return k.w.moveWordLeft(Pe,fe,Te,Ce)}}class v extends E{_move(Pe,fe,Te,Ce){return k.w.moveWordRight(Pe,fe,Te,Ce)}}class M extends S{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}}class _ extends S{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}}class f extends S{constructor(){var Pe;super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:b.Ao.and(C.u.textInputFocus,null===(Pe=b.Ao.and(g.U,w.c))||void 0===Pe?void 0:Pe.negate()),primary:2063,mac:{primary:527},weight:100}})}}class m extends S{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}}class L extends S{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}}class F extends S{constructor(){var Pe;super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:b.Ao.and(C.u.textInputFocus,null===(Pe=b.Ao.and(g.U,w.c))||void 0===Pe?void 0:Pe.negate()),primary:3087,mac:{primary:1551},weight:100}})}}class G extends S{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}_move(Pe,fe,Te,Ce){return super._move((0,$.u)(I.BH.wordSeparators.defaultValue),fe,Te,Ce)}}class Y extends S{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}_move(Pe,fe,Te,Ce){return super._move((0,$.u)(I.BH.wordSeparators.defaultValue),fe,Te,Ce)}}class de extends v{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}}class le extends v{constructor(){var Pe;super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:b.Ao.and(C.u.textInputFocus,null===(Pe=b.Ao.and(g.U,w.c))||void 0===Pe?void 0:Pe.negate()),primary:2065,mac:{primary:529},weight:100}})}}class ce extends v{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}}class be extends v{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}}class N extends v{constructor(){var Pe;super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:b.Ao.and(C.u.textInputFocus,null===(Pe=b.Ao.and(g.U,w.c))||void 0===Pe?void 0:Pe.negate()),primary:3089,mac:{primary:1553},weight:100}})}}class V extends v{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}}class Z extends v{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}_move(Pe,fe,Te,Ce){return super._move((0,$.u)(I.BH.wordSeparators.defaultValue),fe,Te,Ce)}}class ie extends v{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}_move(Pe,fe,Te,Ce){return super._move((0,$.u)(I.BH.wordSeparators.defaultValue),fe,Te,Ce)}}class ue extends U._l{constructor(Pe){super(Pe),this._whitespaceHeuristics=Pe.whitespaceHeuristics,this._wordNavigationType=Pe.wordNavigationType}runEditorCommand(Pe,fe,Te){if(!fe.hasModel())return;const Ce=(0,$.u)(fe.getOption(114)),Je=fe.getModel(),pe=fe.getSelections(),Ve=fe.getOption(5),Ae=fe.getOption(8),Ee=p.zu.getAutoClosingPairs(Je.getLanguageIdentifier().id),ze=fe._getViewModel(),Be=pe.map(Ue=>{const ot=this._delete({wordSeparators:Ce,model:Je,selection:Ue,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingDelete:fe.getOption(6),autoClosingBrackets:Ve,autoClosingQuotes:Ae,autoClosingPairs:Ee,autoClosedCharacters:ze.getCursorAutoClosedCharacters()},this._wordNavigationType);return new j.T4(ot,"")});fe.pushUndoStop(),fe.executeCommands(this.id,Be),fe.pushUndoStop()}}class oe extends ue{_delete(Pe,fe){return k.w.deleteWordLeft(Pe,fe)||new R.e(1,1,1,1)}}class ee extends ue{_delete(Pe,fe){let Te=k.w.deleteWordRight(Pe,fe);if(Te)return Te;const Ce=Pe.model.getLineCount(),Je=Pe.model.getLineMaxColumn(Ce);return new R.e(Ce,Je,Ce,Je)}}class K extends oe{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:C.u.writable})}}class ne extends oe{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:C.u.writable})}}class he extends oe{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:C.u.writable,kbOpts:{kbExpr:C.u.textInputFocus,primary:2049,mac:{primary:513},weight:100}})}}class ge extends ee{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:C.u.writable})}}class re extends ee{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:C.u.writable})}}class ye extends ee{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:C.u.writable,kbOpts:{kbExpr:C.u.textInputFocus,primary:2068,mac:{primary:532},weight:100}})}}class ke extends U.R6{constructor(){super({id:"deleteInsideWord",precondition:C.u.writable,label:T.N("deleteInsideWord","Delete Word"),alias:"Delete Word"})}run(Pe,fe,Te){if(!fe.hasModel())return;const Ce=(0,$.u)(fe.getOption(114)),Je=fe.getModel(),Ve=fe.getSelections().map(Ae=>{const Ee=k.w.deleteInsideWord(Ce,Je,Ae);return new j.T4(Ee,"")});fe.pushUndoStop(),fe.executeCommands(this.id,Ve),fe.pushUndoStop()}}(0,U.fK)(new M),(0,U.fK)(new _),(0,U.fK)(new f),(0,U.fK)(new m),(0,U.fK)(new L),(0,U.fK)(new F),(0,U.fK)(new de),(0,U.fK)(new le),(0,U.fK)(new ce),(0,U.fK)(new be),(0,U.fK)(new N),(0,U.fK)(new V),(0,U.fK)(new G),(0,U.fK)(new Y),(0,U.fK)(new Z),(0,U.fK)(new ie),(0,U.fK)(new K),(0,U.fK)(new ne),(0,U.fK)(new he),(0,U.fK)(new ge),(0,U.fK)(new re),(0,U.fK)(new ye),(0,U.Qr)(ke)},5016:(Ct,Qe,a)=>{"use strict";a.r(Qe),a.d(Qe,{DeleteWordPartLeft:()=>B,DeleteWordPartRight:()=>R,WordPartLeftCommand:()=>d,CursorWordPartLeft:()=>C,CursorWordPartLeftSelect:()=>g,WordPartRightCommand:()=>b,CursorWordPartRight:()=>I,CursorWordPartRightSelect:()=>p});var T=a(4482),U=a(5581),j=a(8487),O=a(9549),k=a(3392),$=a(8896);class B extends k.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:O.u.writable,kbOpts:{kbExpr:O.u.textInputFocus,primary:0,mac:{primary:769},weight:100}})}_delete(E,S){return U.L.deleteWordPartLeft(E)||new j.e(1,1,1,1)}}class R extends k.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:O.u.writable,kbOpts:{kbExpr:O.u.textInputFocus,primary:0,mac:{primary:788},weight:100}})}_delete(E,S){let v=U.L.deleteWordPartRight(E);if(v)return v;const M=E.model.getLineCount(),_=E.model.getLineMaxColumn(M);return new j.e(M,_,M,_)}}class d extends k.MoveWordCommand{_move(E,S,v,M){return U.L.moveWordPartLeft(E,S,v)}}class C extends d{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:O.u.textInputFocus,primary:0,mac:{primary:783},weight:100}})}}$.P.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");class g extends d{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:O.u.textInputFocus,primary:0,mac:{primary:1807},weight:100}})}}$.P.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");class b extends k.MoveWordCommand{_move(E,S,v,M){return U.L.moveWordPartRight(E,S,v)}}class I extends b{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:O.u.textInputFocus,primary:0,mac:{primary:785},weight:100}})}}class p extends b{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:O.u.textInputFocus,primary:0,mac:{primary:1809},weight:100}})}}(0,T.fK)(new B),(0,T.fK)(new R),(0,T.fK)(new C),(0,T.fK)(new g),(0,T.fK)(new I),(0,T.fK)(new p)},3776:(Ct,Qe,a)=>{"use strict";a.r(Qe),a(139);var U=a(1165),j=a(2874),O=a(6059),k=a(7579),$=a(3010),B=a(1719),R=a(9190),d=a(579),C=a(6746),g=a(4482),b=a(9549),I=a(9007),p=a(2844),w=a(4562),E=a(3012),S=a(1227),v=a(7251),M=a(6803),_=a(4598),f=function(ce,be,N,V){var ue,Z=arguments.length,ie=Z<3?be:null===V?V=Object.getOwnPropertyDescriptor(be,N):V;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ie=Reflect.decorate(ce,be,N,V);else for(var oe=ce.length-1;oe>=0;oe--)(ue=ce[oe])&&(ie=(Z<3?ue(ie):Z>3?ue(be,N,ie):ue(be,N))||ie);return Z>3&&ie&&Object.defineProperty(be,N,ie),ie},m=function(ce,be){return function(N,V){be(N,V,ce)}};const L=new p.uy("accessibilityHelpWidgetVisible",!1);let F=class $R extends B.JT{constructor(be,N){super(),this._editor=be,this._widget=this._register(N.createInstance(Y,this._editor))}static get(be){return be.getContribution($R.ID)}show(){this._widget.show()}hide(){this._widget.hide()}};F.ID="editor.contrib.accessibilityHelpController",F=f([m(1,w.TG)],F);let Y=class av extends $.${constructor(be,N,V,Z){super(),this._contextKeyService=N,this._keybindingService=V,this._openerService=Z,this._editor=be,this._isVisibleKey=L.bindTo(this._contextKeyService),this._domNode=(0,j.X)(document.createElement("div")),this._domNode.setClassName("accessibilityHelpWidget"),this._domNode.setDisplay("none"),this._domNode.setAttribute("role","dialog"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode=(0,j.X)(document.createElement("div")),this._contentDomNode.setAttribute("role","document"),this._domNode.appendChild(this._contentDomNode),this._isVisible=!1,this._register(this._editor.onDidLayoutChange(()=>{this._isVisible&&this._layout()})),this._register(U.mu(this._contentDomNode.domNode,"keydown",ie=>{if(this._isVisible&&(ie.equals(2083)&&((0,k.Z9)(_.Oe.emergencyConfOn),this._editor.updateOptions({accessibilitySupport:"on"}),U.PO(this._contentDomNode.domNode),this._buildContent(),this._contentDomNode.domNode.focus(),ie.preventDefault(),ie.stopPropagation()),ie.equals(2086))){(0,k.Z9)(_.Oe.openingDocs);let ue=this._editor.getRawOptions().accessibilityHelpUrl;void 0===ue&&(ue="https://go.microsoft.com/fwlink/?linkid=852450"),this._openerService.open(C.o.parse(ue)),ie.preventDefault(),ie.stopPropagation()}})),this.onblur(this._contentDomNode.domNode,()=>{this.hide()}),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return av.ID}getDomNode(){return this._domNode.domNode}getPosition(){return{preference:null}}show(){this._isVisible||(this._isVisible=!0,this._isVisibleKey.set(!0),this._layout(),this._domNode.setDisplay("block"),this._domNode.setAttribute("aria-hidden","false"),this._contentDomNode.domNode.tabIndex=0,this._buildContent(),this._contentDomNode.domNode.focus())}_descriptionForCommand(be,N,V){let Z=this._keybindingService.lookupKeybinding(be);return Z?d.WU(N,Z.getAriaLabel()):d.WU(V,be)}_buildContent(){const be=this._editor.getOptions(),N=this._editor.getSelections();let V=0;if(N){const oe=this._editor.getModel();oe&&N.forEach(ee=>{V+=oe.getValueLengthInRange(ee)})}let Z=function(ce,be){return ce&&0!==ce.length?1===ce.length?be?d.WU(_.Oe.singleSelectionRange,ce[0].positionLineNumber,ce[0].positionColumn,be):d.WU(_.Oe.singleSelection,ce[0].positionLineNumber,ce[0].positionColumn):be?d.WU(_.Oe.multiSelectionRange,ce.length,be):ce.length>0?d.WU(_.Oe.multiSelection,ce.length):"":_.Oe.noSelection}(N,V);be.get(51)?be.get(78)?Z+=_.Oe.readonlyDiffEditor:Z+=_.Oe.editableDiffEditor:be.get(78)?Z+=_.Oe.readonlyEditor:Z+=_.Oe.editableEditor;const ie=R.dz?_.Oe.changeConfigToOnMac:_.Oe.changeConfigToOnWinLinux;switch(be.get(2)){case 0:Z+="\n\n - "+ie;break;case 2:Z+="\n\n - "+_.Oe.auto_on;break;case 1:Z+="\n\n - "+_.Oe.auto_off,Z+=" "+ie}be.get(127)?Z+="\n\n - "+this._descriptionForCommand(I.ToggleTabFocusModeAction.ID,_.Oe.tabFocusModeOnMsg,_.Oe.tabFocusModeOnMsgNoKb):Z+="\n\n - "+this._descriptionForCommand(I.ToggleTabFocusModeAction.ID,_.Oe.tabFocusModeOffMsg,_.Oe.tabFocusModeOffMsgNoKb),Z+="\n\n - "+(R.dz?_.Oe.openDocMac:_.Oe.openDocWinLinux),Z+="\n\n"+_.Oe.outroMsg,this._contentDomNode.domNode.appendChild((0,O.BO)(Z)),this._contentDomNode.domNode.setAttribute("aria-label",Z)}hide(){!this._isVisible||(this._isVisible=!1,this._isVisibleKey.reset(),this._domNode.setDisplay("none"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode.domNode.tabIndex=-1,U.PO(this._contentDomNode.domNode),this._editor.focus())}_layout(){let be=this._editor.getLayoutInfo(),N=Math.max(5,Math.min(av.WIDTH,be.width-40)),V=Math.max(5,Math.min(av.HEIGHT,be.height-40));this._domNode.setWidth(N),this._domNode.setHeight(V);let Z=Math.round((be.height-V)/2);this._domNode.setTop(Z);let ie=Math.round((be.width-N)/2);this._domNode.setLeft(ie)}};Y.ID="editor.contrib.accessibilityHelpWidget",Y.WIDTH=500,Y.HEIGHT=300,Y=f([m(1,p.i6),m(2,E.d),m(3,S.v4)],Y),(0,g._K)(F.ID,F),(0,g.Qr)(class extends g.R6{constructor(){super({id:"editor.action.showAccessibilityHelp",label:_.Oe.showAccessibilityHelpAction,alias:"Show Accessibility Help",precondition:void 0,kbOpts:{primary:571,weight:100,linux:{primary:1595,secondary:[571]}}})}run(be,N){let V=F.get(N);V&&V.show()}});const le=g._l.bindToContribution(F.get);(0,g.fK)(new le({id:"closeAccessibilityHelp",precondition:L,handler:ce=>ce.hide(),kbOpts:{weight:200,kbExpr:b.u.focus,primary:9,secondary:[1033]}})),(0,M.Ic)((ce,be)=>{const N=ce.getColor(v.D0);N&&be.addRule(`.monaco-editor .accessibilityHelpWidget { background-color: ${N}; }`);const V=ce.getColor(v.Hf);V&&be.addRule(`.monaco-editor .accessibilityHelpWidget { color: ${V}; }`);const Z=ce.getColor(v.rh);Z&&be.addRule(`.monaco-editor .accessibilityHelpWidget { box-shadow: 0 2px 8px ${Z}; }`);const ie=ce.getColor(v.lR);ie&&be.addRule(`.monaco-editor .accessibilityHelpWidget { border: 2px solid ${ie}; }`)})},6545:(Ct,Qe,a)=>{"use strict";a.r(Qe),a.d(Qe,{IPadShowKeyboard:()=>$}),a(1445);var U=a(1165),j=a(1719),O=a(4482),k=a(9190);let $=(()=>{class R extends j.JT{constructor(C){super(),this.editor=C,this.widget=null,k.gn&&(this._register(C.onDidChangeConfiguration(()=>this.update())),this.update())}update(){const C=!this.editor.getOption(78);!this.widget&&C?this.widget=new B(this.editor):this.widget&&!C&&(this.widget.dispose(),this.widget=null)}dispose(){super.dispose(),this.widget&&(this.widget.dispose(),this.widget=null)}}return R.ID="editor.contrib.iPadShowKeyboard",R})(),B=(()=>{class R extends j.JT{constructor(C){super(),this.editor=C,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._register(U.nm(this._domNode,"touchstart",g=>{this.editor.focus()})),this._register(U.nm(this._domNode,"focus",g=>{this.editor.focus()})),this.editor.addOverlayWidget(this)}dispose(){this.editor.removeOverlayWidget(this),super.dispose()}getId(){return R.ID}getDomNode(){return this._domNode}getPosition(){return{preference:1}}}return R.ID="editor.contrib.ShowKeyboardWidget",R})();(0,O._K)($.ID,$)},4535:(Ct,Qe,a)=>{"use strict";a.r(Qe),a(1093);var U=a(1165),j=a(3727),O=a(1719),k=a(4482),$=a(6412),B=a(8995),R=a(8923),d=a(675),C=a(7251),g=a(6803),b=a(4598),I=a(786),w=function(f,m){return function(L,F){m(L,F,f)}};let E=class GR extends O.JT{constructor(m,L,F){super(),this._editor=m,this._modeService=F,this._widget=null,this._register(this._editor.onDidChangeModel(G=>this.stop())),this._register(this._editor.onDidChangeModelLanguage(G=>this.stop())),this._register($.RW.onDidChange(G=>this.stop())),this._register(this._editor.onKeyUp(G=>9===G.keyCode&&this.stop()))}static get(m){return m.getContribution(GR.ID)}dispose(){this.stop(),super.dispose()}launch(){this._widget||!this._editor.hasModel()||(this._widget=new _(this._editor,this._modeService))}stop(){this._widget&&(this._widget.dispose(),this._widget=null)}};E.ID="editor.contrib.inspectTokens",E=function(f,m,L,F){var de,G=arguments.length,Y=G<3?m:null===F?F=Object.getOwnPropertyDescriptor(m,L):F;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Y=Reflect.decorate(f,m,L,F);else for(var le=f.length-1;le>=0;le--)(de=f[le])&&(Y=(G<3?de(Y):G>3?de(m,L,Y):de(m,L))||Y);return G>3&&Y&&Object.defineProperty(m,L,Y),Y}([w(1,d.Z),w(2,R.h)],E);let _=(()=>{class f extends O.JT{constructor(L,F){super(),this.allowEditorOverflow=!0,this._editor=L,this._modeService=F,this._model=this._editor.getModel(),this._domNode=document.createElement("div"),this._domNode.className="tokens-inspect-widget",this._tokenizationSupport=function(f){return $.RW.get(f.language)||{getInitialState:()=>B.nO,tokenize:(L,F,G,Y)=>(0,B.Ri)(f.language,L,G,Y),tokenize2:(L,F,G,Y)=>(0,B.mh)(f.id,L,G,Y)}}(this._model.getLanguageIdentifier()),this._compute(this._editor.getPosition()),this._register(this._editor.onDidChangeCursorPosition(G=>this._compute(this._editor.getPosition()))),this._editor.addContentWidget(this)}dispose(){this._editor.removeContentWidget(this),super.dispose()}getId(){return f._ID}_compute(L){let F=this._getTokensAtLine(L.lineNumber),G=0;for(let be=F.tokens1.length-1;be>=0;be--)if(L.column-1>=F.tokens1[be].offset){G=be;break}let Y=0;for(let be=F.tokens2.length>>>1;be>=0;be--)if(L.column-1>=F.tokens2[be<<1]){Y=be;break}let de=this._model.getLineContent(L.lineNumber),le="";G<F.tokens1.length&&(le=de.substring(F.tokens1[G].offset,G+1<F.tokens1.length?F.tokens1[G+1].offset:de.length)),(0,U.mc)(this._domNode,(0,U.$)("h2.tm-token",void 0,function(f){let m="";for(let L=0,F=f.length;L<F;L++){let G=f.charCodeAt(L);switch(G){case 9:m+="\u2192";break;case 32:m+="\xb7";break;default:m+=String.fromCharCode(G)}}return m}(le),(0,U.$)("span.tm-token-length",void 0,`${le.length} ${1===le.length?"char":"chars"}`))),(0,U.R3)(this._domNode,(0,U.$)("hr.tokens-inspect-separator",{style:"clear:both"}));const ce=1+(Y<<1)<F.tokens2.length?this._decodeMetadata(F.tokens2[1+(Y<<1)]):null;(0,U.R3)(this._domNode,(0,U.$)("table.tm-metadata-table",void 0,(0,U.$)("tbody",void 0,(0,U.$)("tr",void 0,(0,U.$)("td.tm-metadata-key",void 0,"language"),(0,U.$)("td.tm-metadata-value",void 0,`${ce?ce.languageIdentifier.language:"-?-"}`)),(0,U.$)("tr",void 0,(0,U.$)("td.tm-metadata-key",void 0,"token type"),(0,U.$)("td.tm-metadata-value",void 0,`${ce?this._tokenTypeToString(ce.tokenType):"-?-"}`)),(0,U.$)("tr",void 0,(0,U.$)("td.tm-metadata-key",void 0,"font style"),(0,U.$)("td.tm-metadata-value",void 0,`${ce?this._fontStyleToString(ce.fontStyle):"-?-"}`)),(0,U.$)("tr",void 0,(0,U.$)("td.tm-metadata-key",void 0,"foreground"),(0,U.$)("td.tm-metadata-value",void 0,`${ce?j.Il.Format.CSS.formatHex(ce.foreground):"-?-"}`)),(0,U.$)("tr",void 0,(0,U.$)("td.tm-metadata-key",void 0,"background"),(0,U.$)("td.tm-metadata-value",void 0,`${ce?j.Il.Format.CSS.formatHex(ce.background):"-?-"}`))))),(0,U.R3)(this._domNode,(0,U.$)("hr.tokens-inspect-separator")),G<F.tokens1.length&&(0,U.R3)(this._domNode,(0,U.$)("span.tm-token-type",void 0,F.tokens1[G].type)),this._editor.layoutContentWidget(this)}_decodeMetadata(L){let F=$.RW.getColorMap(),G=$.NX.getLanguageId(L),Y=$.NX.getTokenType(L),de=$.NX.getFontStyle(L),le=$.NX.getForeground(L),ce=$.NX.getBackground(L);return{languageIdentifier:this._modeService.getLanguageIdentifier(G),tokenType:Y,fontStyle:de,foreground:F[le],background:F[ce]}}_tokenTypeToString(L){switch(L){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 4:return"RegEx";default:return"??"}}_fontStyleToString(L){let F="";return 1&L&&(F+="italic "),2&L&&(F+="bold "),4&L&&(F+="underline "),0===F.length&&(F="---"),F}_getTokensAtLine(L){let F=this._getStateBeforeLine(L),G=this._tokenizationSupport.tokenize(this._model.getLineContent(L),!0,F,0),Y=this._tokenizationSupport.tokenize2(this._model.getLineContent(L),!0,F,0);return{startState:F,tokens1:G.tokens,tokens2:Y.tokens,endState:G.endState}}_getStateBeforeLine(L){let F=this._tokenizationSupport.getInitialState();for(let G=1;G<L;G++)F=this._tokenizationSupport.tokenize(this._model.getLineContent(G),!0,F,0).endState;return F}getDomNode(){return this._domNode}getPosition(){return{position:this._editor.getPosition(),preference:[2,1]}}}return f._ID="editor.contrib.inspectTokensWidget",f})();(0,k._K)(E.ID,E),(0,k.Qr)(class extends k.R6{constructor(){super({id:"editor.action.inspectTokens",label:b.ug.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}run(m,L){let F=E.get(L);F&&F.launch()}}),(0,g.Ic)((f,m)=>{const L=f.getColor(C.CN);L&&(m.addRule(`.monaco-editor .tokens-inspect-widget { border: ${f.type===I.e.HIGH_CONTRAST?2:1}px solid ${L}; }`),m.addRule(`.monaco-editor .tokens-inspect-widget .tokens-inspect-separator { background-color: ${L}; }`));const F=f.getColor(C.yJ);F&&m.addRule(`.monaco-editor .tokens-inspect-widget { background-color: ${F}; }`);const G=f.getColor(C.Sb);G&&m.addRule(`.monaco-editor .tokens-inspect-widget { color: ${G}; }`)})},7850:(Ct,Qe,a)=>{"use strict";a.r(Qe),a.d(Qe,{GotoLineAction:()=>xe,StandaloneCommandsQuickAccessProvider:()=>ke});var T=a(1161),U=a(4961),j=a(4598),O=a(3779),k=a(1606),$=a(9357),B=a(1719),R=a(7922),d=function(Pe,fe,Te,Ce){return new(Te||(Te=Promise))(function(pe,Ve){function Ae(Be){try{ze(Ce.next(Be))}catch(Ue){Ve(Ue)}}function Ee(Be){try{ze(Ce.throw(Be))}catch(Ue){Ve(Ue)}}function ze(Be){Be.done?pe(Be.value):function(pe){return pe instanceof Te?pe:new Te(function(Ve){Ve(pe)})}(Be.value).then(Ae,Ee)}ze((Ce=Ce.apply(Pe,fe||[])).next())})},C=(()=>{return(Pe=C||(C={}))[Pe.NO_ACTION=0]="NO_ACTION",Pe[Pe.CLOSE_PICKER=1]="CLOSE_PICKER",Pe[Pe.REFRESH_PICKER=2]="REFRESH_PICKER",Pe[Pe.REMOVE_ITEM=3]="REMOVE_ITEM",C;var Pe})();function g(Pe){return Array.isArray(Pe.items)}let I=(()=>{class Pe extends B.JT{constructor(Te,Ce){super(),this.prefix=Te,this.options=Ce}provide(Te,Ce){var Je;const pe=new B.SL;let Ve;Te.canAcceptInBackground=!!(null===(Je=this.options)||void 0===Je?void 0:Je.canAcceptInBackground),Te.matchOnLabel=Te.matchOnDescription=Te.matchOnDetail=Te.sortByLabel=!1;const Ae=pe.add(new B.XK),Ee=()=>d(this,void 0,void 0,function*(){const ze=Ae.value=new B.SL;null==Ve||Ve.dispose(!0),Te.busy=!1,Ve=new $.A(Ce);const Be=Ve.token,Ue=Te.value.substr(this.prefix.length).trim(),ot=this._getPicks(Ue,ze,Be),vt=(At,ve)=>{var ht;let Ge,De;if(g(At)?(Ge=At.items,De=At.active):Ge=At,0===Ge.length){if(ve)return!1;Ue.length>0&&(null===(ht=this.options)||void 0===ht?void 0:ht.noResultsPick)&&(Ge=[this.options.noResultsPick])}return Te.items=Ge,De&&(Te.activeItems=[De]),!0};if(null!==ot)if(function(Pe){return!!Pe.picks&&Pe.additionalPicks instanceof Promise}(ot)){let At=!1,ve=!1;yield Promise.all([(()=>d(this,void 0,void 0,function*(){yield(0,R.Vs)(Pe.FAST_PICKS_RACE_DELAY),!Be.isCancellationRequested&&(ve||(At=vt(ot.picks,!0)))}))(),(()=>d(this,void 0,void 0,function*(){Te.busy=!0;try{const ht=yield ot.additionalPicks;if(Be.isCancellationRequested)return;let Ge,De,Le,dt;if(g(ot.picks)?(Ge=ot.picks.items,De=ot.picks.active):Ge=ot.picks,g(ht)?(Le=ht.items,dt=ht.active):Le=ht,Le.length>0||!At){let _t;if(!De&&!dt){const Nt=Te.activeItems[0];Nt&&-1!==Ge.indexOf(Nt)&&(_t=Nt)}vt({items:[...Ge,...Le],active:De||dt||_t})}}finally{Be.isCancellationRequested||(Te.busy=!1),ve=!0}}))()])}else if(ot instanceof Promise){Te.busy=!0;try{const At=yield ot;if(Be.isCancellationRequested)return;vt(At)}finally{Be.isCancellationRequested||(Te.busy=!1)}}else vt(ot)});return pe.add(Te.onDidChangeValue(()=>Ee())),Ee(),pe.add(Te.onDidAccept(ze=>{const[Be]=Te.selectedItems;"function"==typeof(null==Be?void 0:Be.accept)&&(ze.inBackground||Te.hide(),Be.accept(Te.keyMods,ze))})),pe.add(Te.onDidTriggerItemButton(({button:ze,item:Be})=>d(this,void 0,void 0,function*(){var Ue,ot;if("function"==typeof Be.trigger){const vt=null!==(ot=null===(Ue=Be.buttons)||void 0===Ue?void 0:Ue.indexOf(ze))&&void 0!==ot?ot:-1;if(vt>=0){const At=Be.trigger(vt,Te.keyMods),ve="number"==typeof At?At:yield At;if(Ce.isCancellationRequested)return;switch(ve){case C.NO_ACTION:break;case C.CLOSE_PICKER:Te.hide();break;case C.REFRESH_PICKER:Ee();break;case C.REMOVE_ITEM:const ht=Te.items.indexOf(Be);if(-1!==ht){const Ge=Te.items.slice();Ge.splice(ht,1),Te.items=Ge}}}}}))),pe}}return Pe.FAST_PICKS_RACE_DELAY=200,Pe})();var p=a(9785),w=a(1882),E=a(299),S=a(7129),v=a(9040),M=a(4562),_=a(3012),f=a(8896),m=a(5460),L=a(5160),F=a(5757),G=a(1022),Y=a(2291);function de(Pe,fe){return fe&&(Pe.stack||Pe.stacktrace)?k.N("stackTrace.format","{0}: {1}",ce(Pe),le(Pe.stack)||le(Pe.stacktrace)):ce(Pe)}function le(Pe){return Array.isArray(Pe)?Pe.join("\n"):Pe}function ce(Pe){return"string"==typeof Pe.code&&"number"==typeof Pe.errno&&"string"==typeof Pe.syscall?k.N("nodeExceptionMessage","A system error occurred ({0})",Pe.message):Pe.message||k.N("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}function be(Pe=null,fe=!1){if(!Pe)return k.N("error.defaultMessage","An unknown error occurred. Please consult the log for more details.");if(Array.isArray(Pe)){const Te=Y.kX(Pe),Ce=be(Te[0],fe);return Te.length>1?k.N("error.moreErrors","{0} ({1} errors in total)",Ce,Te.length):Ce}if(w.HD(Pe))return Pe;if(Pe.detail){const Te=Pe.detail;if(Te.error)return de(Te.error,fe);if(Te.exception)return de(Te.exception,fe)}return Pe.stack?de(Pe,fe):Pe.message?Pe.message:k.N("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}var N=function(Pe,fe,Te,Ce){var Ve,Je=arguments.length,pe=Je<3?fe:null===Ce?Ce=Object.getOwnPropertyDescriptor(fe,Te):Ce;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)pe=Reflect.decorate(Pe,fe,Te,Ce);else for(var Ae=Pe.length-1;Ae>=0;Ae--)(Ve=Pe[Ae])&&(pe=(Je<3?Ve(pe):Je>3?Ve(fe,Te,pe):Ve(fe,Te))||pe);return Je>3&&pe&&Object.defineProperty(fe,Te,pe),pe},V=function(Pe,fe){return function(Te,Ce){fe(Te,Ce,Pe)}},Z=function(Pe,fe,Te,Ce){return new(Te||(Te=Promise))(function(pe,Ve){function Ae(Be){try{ze(Ce.next(Be))}catch(Ue){Ve(Ue)}}function Ee(Be){try{ze(Ce.throw(Be))}catch(Ue){Ve(Ue)}}function ze(Be){Be.done?pe(Be.value):function(pe){return pe instanceof Te?pe:new Te(function(Ve){Ve(pe)})}(Be.value).then(Ae,Ee)}ze((Ce=Ce.apply(Pe,fe||[])).next())})};let ie=class lv extends I{constructor(fe,Te,Ce,Je,pe,Ve){super(lv.PREFIX,fe),this.instantiationService=Te,this.keybindingService=Ce,this.commandService=Je,this.telemetryService=pe,this.dialogService=Ve,this.commandsHistory=this._register(this.instantiationService.createInstance(ue)),this.options=fe}_getPicks(fe,Te,Ce){return Z(this,void 0,void 0,function*(){const Je=yield this.getCommandPicks(Te,Ce);if(Ce.isCancellationRequested)return[];const pe=[];for(const ze of Je){const Be=(0,w.f6)(lv.WORD_FILTER(fe,ze.label)),Ue=ze.commandAlias?(0,w.f6)(lv.WORD_FILTER(fe,ze.commandAlias)):void 0;Be||Ue?(ze.highlights={label:Be,detail:this.options.showAlias?Ue:void 0},pe.push(ze)):fe===ze.commandId&&pe.push(ze)}const Ve=new Map;for(const ze of pe){const Be=Ve.get(ze.label);Be?(ze.description=ze.commandId,Be.description=Be.commandId):Ve.set(ze.label,ze)}pe.sort((ze,Be)=>{const Ue=this.commandsHistory.peek(ze.commandId),ot=this.commandsHistory.peek(Be.commandId);return Ue&&ot?Ue>ot?-1:1:Ue?-1:ot?1:ze.label.localeCompare(Be.label)});const Ae=[];let Ee=!1;for(let ze=0;ze<pe.length;ze++){const Be=pe[ze],Ue=this.keybindingService.lookupKeybinding(Be.commandId),ot=Ue?(0,k.N)("commandPickAriaLabelWithKeybinding","{0}, {1}",Be.label,Ue.getAriaLabel()):Be.label;0===ze&&this.commandsHistory.peek(Be.commandId)&&(Ae.push({type:"separator",label:(0,k.N)("recentlyUsed","recently used")}),Ee=!0),0!==ze&&Ee&&!this.commandsHistory.peek(Be.commandId)&&(Ae.push({type:"separator",label:(0,k.N)("morecCommands","other commands")}),Ee=!1),Ae.push(Object.assign(Object.assign({},Be),{ariaLabel:ot,detail:this.options.showAlias&&Be.commandAlias!==Be.label?Be.commandAlias:void 0,keybinding:Ue,accept:()=>Z(this,void 0,void 0,function*(){this.commandsHistory.push(Be.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:Be.commandId,from:"quick open"});try{yield this.commandService.executeCommand(Be.commandId)}catch(vt){(0,L.VV)(vt)||this.dialogService.show(G.Z.Error,(0,k.N)("canNotRun","Command '{0}' resulted in an error ({1})",Be.label,be(vt)))}})}))}return Ae})}};ie.PREFIX=">",ie.WORD_FILTER=(0,p.or)(p.Ji,p.KZ,p.ir),ie=N([V(1,M.TG),V(2,_.d),V(3,f.H),V(4,m.b),V(5,F.S)],ie);let ue=class ho extends B.JT{constructor(fe,Te){super(),this.storageService=fe,this.configurationService=Te,this.configuredCommandsHistoryLength=0,this.updateConfiguration(),this.load(),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(()=>this.updateConfiguration()))}updateConfiguration(){this.configuredCommandsHistoryLength=ho.getConfiguredCommandHistoryLength(this.configurationService),ho.cache&&ho.cache.limit!==this.configuredCommandsHistoryLength&&(ho.cache.limit=this.configuredCommandsHistoryLength,ho.saveState(this.storageService))}load(){const fe=this.storageService.get(ho.PREF_KEY_CACHE,0);let Te;if(fe)try{Te=JSON.parse(fe)}catch(Je){}const Ce=ho.cache=new E.z6(this.configuredCommandsHistoryLength,1);if(Te){let Je;Je=Te.usesLRU?Te.entries:Te.entries.sort((pe,Ve)=>pe.value-Ve.value),Je.forEach(pe=>Ce.set(pe.key,pe.value))}ho.counter=this.storageService.getNumber(ho.PREF_KEY_COUNTER,0,ho.counter)}push(fe){!ho.cache||(ho.cache.set(fe,ho.counter++),ho.saveState(this.storageService))}peek(fe){var Te;return null===(Te=ho.cache)||void 0===Te?void 0:Te.peek(fe)}static saveState(fe){if(!ho.cache)return;const Te={usesLRU:!0,entries:[]};ho.cache.forEach((Ce,Je)=>Te.entries.push({key:Je,value:Ce})),fe.store(ho.PREF_KEY_CACHE,JSON.stringify(Te),0,0),fe.store(ho.PREF_KEY_COUNTER,ho.counter,0,0)}static getConfiguredCommandHistoryLength(fe){var Te,Ce;const pe=null===(Ce=null===(Te=fe.getValue().workbench)||void 0===Te?void 0:Te.commandPalette)||void 0===Ce?void 0:Ce.history;return"number"==typeof pe?pe:ho.DEFAULT_COMMANDS_HISTORY_LENGTH}};ue.DEFAULT_COMMANDS_HISTORY_LENGTH=50,ue.PREF_KEY_CACHE="commandPalette.mru.cache",ue.PREF_KEY_COUNTER="commandPalette.mru.counter",ue.counter=1,ue=N([V(0,S.Uy),V(1,v.Ui)],ue);var oe=a(9505);class ee extends ie{constructor(fe,Te,Ce,Je,pe,Ve){super(fe,Te,Ce,Je,pe,Ve)}getCodeEditorCommandPicks(){const fe=this.activeTextEditorControl;if(!fe)return[];const Te=[];for(const Ce of fe.getSupportedActions())Te.push({commandId:Ce.id,commandAlias:Ce.alias,label:(0,oe.x$)(Ce.label)||Ce.id});return Te}}var K=a(4482),ne=a(9549),he=a(3130),re=function(Pe,fe){return function(Te,Ce){fe(Te,Ce,Pe)}};let ke=class extends ee{constructor(fe,Te,Ce,Je,pe,Ve){super({showAlias:!1},fe,Ce,Je,pe,Ve),this.codeEditorService=Te}get activeTextEditorControl(){return(0,w.f6)(this.codeEditorService.getFocusedCodeEditor())}getCommandPicks(){return Pe=this,fe=void 0,Ce=function*(){return this.getCodeEditorCommandPicks()},new((Te=void 0)||(Te=Promise))(function(pe,Ve){function Ae(Be){try{ze(Ce.next(Be))}catch(Ue){Ve(Ue)}}function Ee(Be){try{ze(Ce.throw(Be))}catch(Ue){Ve(Ue)}}function ze(Be){Be.done?pe(Be.value):function(pe){return pe instanceof Te?pe:new Te(function(Ve){Ve(pe)})}(Be.value).then(Ae,Ee)}ze((Ce=Ce.apply(Pe,fe||[])).next())});var Pe,fe,Te,Ce}};ke=function(Pe,fe,Te,Ce){var Ve,Je=arguments.length,pe=Je<3?fe:null===Ce?Ce=Object.getOwnPropertyDescriptor(fe,Te):Ce;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)pe=Reflect.decorate(Pe,fe,Te,Ce);else for(var Ae=Pe.length-1;Ae>=0;Ae--)(Ve=Pe[Ae])&&(pe=(Je<3?Ve(pe):Je>3?Ve(fe,Te,pe):Ve(fe,Te))||pe);return Je>3&&pe&&Object.defineProperty(fe,Te,pe),pe}([re(0,M.TG),re(1,O.$),re(2,_.d),re(3,f.H),re(4,m.b),re(5,F.S)],ke),T.B.as(U.IP.Quickaccess).registerQuickAccessProvider({ctor:ke,prefix:ke.PREFIX,helpEntries:[{description:j.UX.quickCommandHelp,needsEditor:!0}]});class xe extends K.R6{constructor(){super({id:"editor.action.quickCommand",label:j.UX.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:ne.u.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}run(fe){fe.get(he.eJ).quickAccess.show(ke.PREFIX)}}(0,K.Qr)(xe)},7883:(Ct,Qe,a)=>{"use strict";a.r(Qe),a.d(Qe,{GotoLineAction:()=>v,StandaloneGotoLineQuickAccessProvider:()=>S});var T=a(1606),U=a(1719),j=a(6892),O=a(6957);let k=(()=>{class M extends j.X{constructor(){super({canAcceptInBackground:!0})}provideWithoutTextEditor(f){const m=(0,T.N)("cannotRunGotoLine","Open a text editor first to go to a line.");return f.items=[{label:m}],f.ariaLabel=m,U.JT.None}provideWithTextEditor(f,m,L){const F=f.editor,G=new U.SL;G.add(m.onDidAccept(le=>{const[ce]=m.selectedItems;if(ce){if(!this.isValidLineNumber(F,ce.lineNumber))return;this.gotoLocation(f,{range:this.toRange(ce.lineNumber,ce.column),keyMods:m.keyMods,preserveFocus:le.inBackground}),le.inBackground||m.hide()}}));const Y=()=>{const le=this.parsePosition(F,m.value.trim().substr(M.PREFIX.length)),ce=this.getPickLabel(F,le.lineNumber,le.column);if(m.items=[{lineNumber:le.lineNumber,column:le.column,label:ce}],m.ariaLabel=ce,!this.isValidLineNumber(F,le.lineNumber))return void this.clearDecorations(F);const be=this.toRange(le.lineNumber,le.column);F.revealRangeInCenter(be,0),this.addDecorations(F,be)};Y(),G.add(m.onDidChangeValue(()=>Y()));const de=(0,O.Pi)(F);return de&&2===de.getOptions().get(57).renderType&&(de.updateOptions({lineNumbers:"on"}),G.add((0,U.OF)(()=>de.updateOptions({lineNumbers:"relative"})))),G}toRange(f=1,m=1){return{startLineNumber:f,startColumn:m,endLineNumber:f,endColumn:m}}parsePosition(f,m){const L=m.split(/,|:|#/).map(G=>parseInt(G,10)).filter(G=>!isNaN(G)),F=this.lineCount(f)+1;return{lineNumber:L[0]>0?L[0]:F+L[0],column:L[1]}}getPickLabel(f,m,L){if(this.isValidLineNumber(f,m))return this.isValidColumn(f,m,L)?(0,T.N)("gotoLineColumnLabel","Go to line {0} and character {1}.",m,L):(0,T.N)("gotoLineLabel","Go to line {0}.",m);const F=f.getPosition()||{lineNumber:1,column:1},G=this.lineCount(f);return G>1?(0,T.N)("gotoLineLabelEmptyWithLimit","Current Line: {0}, Character: {1}. Type a line number between 1 and {2} to navigate to.",F.lineNumber,F.column,G):(0,T.N)("gotoLineLabelEmpty","Current Line: {0}, Character: {1}. Type a line number to navigate to.",F.lineNumber,F.column)}isValidLineNumber(f,m){return!(!m||"number"!=typeof m)&&m>0&&m<=this.lineCount(f)}isValidColumn(f,m,L){if(!L||"number"!=typeof L)return!1;const F=this.getModel(f);if(!F)return!1;const G={lineNumber:m,column:L};return F.validatePosition(G).equals(G)}lineCount(f){var m,L;return null!==(L=null===(m=this.getModel(f))||void 0===m?void 0:m.getLineCount())&&void 0!==L?L:0}}return M.PREFIX=":",M})();var $=a(1161),B=a(4961),R=a(3779),d=a(1882),C=a(4598),g=a(6723),b=a(4482),I=a(9549),p=a(3130);let S=class extends k{constructor(_){super(),this.editorService=_,this.onDidActiveTextEditorControlChange=g.ju.None}get activeTextEditorControl(){return(0,d.f6)(this.editorService.getFocusedCodeEditor())}};var _;S=function(M,_,f,m){var G,L=arguments.length,F=L<3?_:null===m?m=Object.getOwnPropertyDescriptor(_,f):m;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)F=Reflect.decorate(M,_,f,m);else for(var Y=M.length-1;Y>=0;Y--)(G=M[Y])&&(F=(L<3?G(F):L>3?G(_,f,F):G(_,f))||F);return L>3&&F&&Object.defineProperty(_,f,F),F}([(0,_=R.$,function(f,m){_(f,m,0)})],S),$.B.as(B.IP.Quickaccess).registerQuickAccessProvider({ctor:S,prefix:S.PREFIX,helpEntries:[{description:C.qq.gotoLineActionLabel,needsEditor:!0}]});class v extends b.R6{constructor(){super({id:"editor.action.gotoLine",label:C.qq.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:I.u.focus,primary:2085,mac:{primary:293},weight:100}})}run(_){_.get(p.eJ).quickAccess.show(S.PREFIX)}}(0,b.Qr)(v)},9887:(Ct,Qe,a)=>{"use strict";a.r(Qe),a.d(Qe,{GotoLineAction:()=>ge,StandaloneGotoSymbolQuickAccessProvider:()=>he}),a(9461),a(5605);var j=a(1606),O=a(9357),k=a(1719),$=a(8487),B=a(6892),R=a(6412),d=a(5210),C=a(579),g=a(9785),b=a(8416),I=a(9190);const p=[void 0,[]];function w(re,ye,ke=0,xe=0){return ye.values&&ye.values.length>1?function(re,ye,ke,xe){let Pe=0;const fe=[];for(const Te of ye){const[Ce,Je]=S(re,Te,ke,xe);if("number"!=typeof Ce)return p;Pe+=Ce,fe.push(...Je)}return[Pe,v(fe)]}(re,ye.values,ke,xe):S(re,ye,ke,xe)}function S(re,ye,ke,xe){const Pe=(0,g.EW)(ye.original,ye.originalLowercase,ke,re,re.toLowerCase(),xe,!0);return Pe?[Pe[0],(0,g.mB)(Pe)]:p}function v(re){const ye=re.sort((Pe,fe)=>Pe.start-fe.start),ke=[];let xe;for(const Pe of ye)xe&&M(xe,Pe)?(xe.start=Math.min(xe.start,Pe.start),xe.end=Math.max(xe.end,Pe.end)):(xe=Pe,ke.push(Pe));return ke}function M(re,ye){return!(re.end<ye.start||ye.end<re.start)}function f(re){"string"!=typeof re&&(re="");const ye=re.toLowerCase(),{pathNormalized:ke,normalized:xe,normalizedLowercase:Pe}=m(re),fe=ke.indexOf(b.ir)>=0;let Te;const Ce=re.split(" ");if(Ce.length>1)for(const Je of Ce){const{pathNormalized:pe,normalized:Ve,normalizedLowercase:Ae}=m(Je);Ve&&(Te||(Te=[]),Te.push({original:Je,originalLowercase:Je.toLowerCase(),pathNormalized:pe,normalized:Ve,normalizedLowercase:Ae}))}return{original:re,originalLowercase:ye,pathNormalized:ke,normalized:xe,normalizedLowercase:Pe,values:Te,containsPathSeparator:fe}}function m(re){let ye;ye=re.replace(I.ED?/\//g:/\\/g,b.ir);const ke=(0,C.R1)(ye).replace(/\s/g,"");return{pathNormalized:ye,normalized:ke,normalizedLowercase:ke.toLowerCase()}}function L(re){return Array.isArray(re)?f(re.map(ye=>ye.original).join(" ")):f(re.original)}var F=a(521),G=function(re,ye,ke,xe){return new(ke||(ke=Promise))(function(fe,Te){function Ce(Ve){try{pe(xe.next(Ve))}catch(Ae){Te(Ae)}}function Je(Ve){try{pe(xe.throw(Ve))}catch(Ae){Te(Ae)}}function pe(Ve){Ve.done?fe(Ve.value):function(fe){return fe instanceof ke?fe:new ke(function(Te){Te(fe)})}(Ve.value).then(Ce,Je)}pe((xe=xe.apply(re,ye||[])).next())})};class Y extends B.X{constructor(ye=Object.create(null)){super(ye),this.options=ye,this.options.canAcceptInBackground=!0}provideWithoutTextEditor(ye){return this.provideLabelPick(ye,(0,j.N)("cannotRunGotoSymbolWithoutEditor","To go to a symbol, first open a text editor with symbol information.")),k.JT.None}provideWithTextEditor(ye,ke,xe){const fe=this.getModel(ye.editor);return fe?R.vJ.has(fe)?this.doProvideWithEditorSymbols(ye,fe,ke,xe):this.doProvideWithoutEditorSymbols(ye,fe,ke,xe):k.JT.None}doProvideWithoutEditorSymbols(ye,ke,xe,Pe){const fe=new k.SL;return this.provideLabelPick(xe,(0,j.N)("cannotRunGotoSymbolWithoutSymbolProvider","The active text editor does not provide symbol information.")),(()=>{G(this,void 0,void 0,function*(){!(yield this.waitForLanguageSymbolRegistry(ke,fe))||Pe.isCancellationRequested||fe.add(this.doProvideWithEditorSymbols(ye,ke,xe,Pe))})})(),fe}provideLabelPick(ye,ke){ye.items=[{label:ke,index:0,kind:14}],ye.ariaLabel=ke}waitForLanguageSymbolRegistry(ye,ke){return G(this,void 0,void 0,function*(){if(R.vJ.has(ye))return!0;let xe;const Pe=new Promise(Te=>xe=Te),fe=ke.add(R.vJ.onDidChange(()=>{R.vJ.has(ye)&&(fe.dispose(),xe(!0))}));return ke.add((0,k.OF)(()=>xe(!1))),Pe})}doProvideWithEditorSymbols(ye,ke,xe,Pe){const fe=ye.editor,Te=new k.SL;Te.add(xe.onDidAccept(Ae=>{const[Ee]=xe.selectedItems;Ee&&Ee.range&&(this.gotoLocation(ye,{range:Ee.range.selection,keyMods:xe.keyMods,preserveFocus:Ae.inBackground}),Ae.inBackground||xe.hide())})),Te.add(xe.onDidTriggerItemButton(({item:Ae})=>{Ae&&Ae.range&&(this.gotoLocation(ye,{range:Ae.range.selection,keyMods:xe.keyMods,forceSideBySide:!0}),xe.hide())}));const Ce=this.getDocumentSymbols(ke,Pe);let Je;const pe=()=>G(this,void 0,void 0,function*(){null==Je||Je.dispose(!0),xe.busy=!1,Je=new O.A(Pe),xe.busy=!0;try{const Ae=f(xe.value.substr(Y.PREFIX.length).trim()),Ee=yield this.doGetSymbolPicks(Ce,Ae,void 0,Je.token);if(Pe.isCancellationRequested)return;Ee.length>0?xe.items=Ee:this.provideLabelPick(xe,Ae.original.length>0?(0,j.N)("noMatchingSymbolResults","No matching editor symbols"):(0,j.N)("noSymbolResults","No editor symbols"))}finally{Pe.isCancellationRequested||(xe.busy=!1)}});Te.add(xe.onDidChangeValue(()=>pe())),pe();let Ve=!0;return Te.add(xe.onDidChangeActive(()=>{const[Ae]=xe.activeItems;if(Ae&&Ae.range){if(Ve)return void(Ve=!1);fe.revealRangeInCenter(Ae.range.selection,0),this.addDecorations(fe,Ae.range.decoration)}})),Te}doGetSymbolPicks(ye,ke,xe,Pe){return G(this,void 0,void 0,function*(){const fe=yield ye;if(Pe.isCancellationRequested)return[];const Te=0===ke.original.indexOf(Y.SCOPE_PREFIX),Ce=Te?1:0;let Je,pe;ke.values&&ke.values.length>1?(Je=L(ke.values[0]),pe=L(ke.values.slice(1))):Je=ke;const Ve=[];for(let ze=0;ze<fe.length;ze++){const Be=fe[ze],Ue=(0,C.fy)(Be.name),ot=`$(symbol-${R.uZ.toString(Be.kind)||"property"}) ${Ue}`,vt=ot.length-Ue.length;let ve,ht,Ge,De,At=Be.containerName;if((null==xe?void 0:xe.extraContainerLabel)&&(At=At?`${xe.extraContainerLabel} \u2022 ${At}`:xe.extraContainerLabel),ke.original.length>Ce){let dt=!1;if(Je!==ke&&([ve,ht]=w(ot,Object.assign(Object.assign({},ke),{values:void 0}),Ce,vt),"number"==typeof ve&&(dt=!0)),"number"!=typeof ve&&([ve,ht]=w(ot,Je,Ce,vt),"number"!=typeof ve))continue;if(!dt&&pe){if(At&&pe.original.length>0&&([Ge,De]=w(At,pe)),"number"!=typeof Ge)continue;"number"==typeof ve&&(ve+=Ge)}}const Le=Be.tags&&Be.tags.indexOf(1)>=0;Ve.push({index:ze,kind:Be.kind,score:ve,label:ot,ariaLabel:Ue,description:At,highlights:Le?void 0:{label:ht,description:De},range:{selection:$.e.collapseToStart(Be.selectionRange),decoration:Be.range},strikethrough:Le,buttons:(()=>{var dt,_t;const Nt=(null===(dt=this.options)||void 0===dt?void 0:dt.openSideBySideDirection)?null===(_t=this.options)||void 0===_t?void 0:_t.openSideBySideDirection():void 0;if(Nt)return[{iconClass:"right"===Nt?F.lA.splitHorizontal.classNames:F.lA.splitVertical.classNames,tooltip:"right"===Nt?(0,j.N)("openToSide","Open to the Side"):(0,j.N)("openToBottom","Open to the Bottom")}]})()})}const Ae=Ve.sort((ze,Be)=>Te?this.compareByKindAndScore(ze,Be):this.compareByScore(ze,Be));let Ee=[];if(Te){let ze,Be,ot=function(){Be&&"number"==typeof ze&&Ue>0&&(Be.label=(0,C.WU)(le[ze]||de,Ue))},Ue=0;for(const vt of Ae)ze!==vt.kind?(ot(),ze=vt.kind,Ue=1,Be={type:"separator"},Ee.push(Be)):Ue++,Ee.push(vt);ot()}else Ae.length>0&&(Ee=[{label:(0,j.N)("symbols","symbols ({0})",Ve.length),type:"separator"},...Ae]);return Ee})}compareByScore(ye,ke){if("number"!=typeof ye.score&&"number"==typeof ke.score)return 1;if("number"==typeof ye.score&&"number"!=typeof ke.score)return-1;if("number"==typeof ye.score&&"number"==typeof ke.score){if(ye.score>ke.score)return-1;if(ye.score<ke.score)return 1}return ye.index<ke.index?-1:ye.index>ke.index?1:0}compareByKindAndScore(ye,ke){const fe=(le[ye.kind]||de).localeCompare(le[ke.kind]||de);return 0===fe?this.compareByScore(ye,ke):fe}getDocumentSymbols(ye,ke){return G(this,void 0,void 0,function*(){const xe=yield d.C3.create(ye,ke);return ke.isCancellationRequested?[]:xe.asListOfDocumentSymbols()})}}Y.PREFIX="@",Y.SCOPE_PREFIX=":",Y.PREFIX_BY_CATEGORY=`${Y.PREFIX}${Y.SCOPE_PREFIX}`;const de=(0,j.N)("property","properties ({0})"),le={5:(0,j.N)("method","methods ({0})"),11:(0,j.N)("function","functions ({0})"),8:(0,j.N)("_constructor","constructors ({0})"),12:(0,j.N)("variable","variables ({0})"),4:(0,j.N)("class","classes ({0})"),22:(0,j.N)("struct","structs ({0})"),23:(0,j.N)("event","events ({0})"),24:(0,j.N)("operator","operators ({0})"),10:(0,j.N)("interface","interfaces ({0})"),2:(0,j.N)("namespace","namespaces ({0})"),3:(0,j.N)("package","packages ({0})"),25:(0,j.N)("typeParameter","type parameters ({0})"),1:(0,j.N)("modules","modules ({0})"),6:(0,j.N)("property","properties ({0})"),9:(0,j.N)("enum","enumerations ({0})"),21:(0,j.N)("enumMember","enumeration members ({0})"),14:(0,j.N)("string","strings ({0})"),0:(0,j.N)("file","files ({0})"),17:(0,j.N)("array","arrays ({0})"),15:(0,j.N)("number","numbers ({0})"),16:(0,j.N)("boolean","booleans ({0})"),18:(0,j.N)("object","objects ({0})"),19:(0,j.N)("key","keys ({0})"),7:(0,j.N)("field","fields ({0})"),13:(0,j.N)("constant","constants ({0})")};var ce=a(1161),be=a(4961),N=a(3779),V=a(1882),Z=a(4598),ie=a(6723),ue=a(4482),oe=a(9549),ee=a(3130);let he=class extends Y{constructor(ye){super(),this.editorService=ye,this.onDidActiveTextEditorControlChange=ie.ju.None}get activeTextEditorControl(){return(0,V.f6)(this.editorService.getFocusedCodeEditor())}};var ye;he=function(re,ye,ke,xe){var Te,Pe=arguments.length,fe=Pe<3?ye:null===xe?xe=Object.getOwnPropertyDescriptor(ye,ke):xe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)fe=Reflect.decorate(re,ye,ke,xe);else for(var Ce=re.length-1;Ce>=0;Ce--)(Te=re[Ce])&&(fe=(Pe<3?Te(fe):Pe>3?Te(ye,ke,fe):Te(ye,ke))||fe);return Pe>3&&fe&&Object.defineProperty(ye,ke,fe),fe}([(0,ye=N.$,function(ke,xe){ye(ke,xe,0)})],he),ce.B.as(be.IP.Quickaccess).registerQuickAccessProvider({ctor:he,prefix:Y.PREFIX,helpEntries:[{description:Z.aq.quickOutlineActionLabel,prefix:Y.PREFIX,needsEditor:!0},{description:Z.aq.quickOutlineByCategoryActionLabel,prefix:Y.PREFIX_BY_CATEGORY,needsEditor:!0}]});class ge extends ue.R6{constructor(){super({id:"editor.action.quickOutline",label:Z.aq.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:oe.u.hasDocumentSymbolProvider,kbOpts:{kbExpr:oe.u.focus,primary:3117,weight:100},contextMenuOpts:{group:"navigation",order:3}})}run(ye){ye.get(ee.eJ).quickAccess.show(Y.PREFIX)}}(0,ue.Qr)(ge)},6486:(Ct,Qe,a)=>{"use strict";a.r(Qe);var T=a(1161),U=a(4961),j=a(4598),O=a(3130),k=a(1606),$=a(1719);let d=class cv{constructor(g){this.quickInputService=g,this.registry=T.B.as(U.IP.Quickaccess)}provide(g){const b=new $.SL;b.add(g.onDidAccept(()=>{const[w]=g.selectedItems;w&&this.quickInputService.quickAccess.show(w.prefix,{preserveValue:!0})})),b.add(g.onDidChangeValue(w=>{const E=this.registry.getQuickAccessProvider(w.substr(cv.PREFIX.length));E&&E.prefix&&E.prefix!==cv.PREFIX&&this.quickInputService.quickAccess.show(E.prefix,{preserveValue:!0})}));const{editorProviders:I,globalProviders:p}=this.getQuickAccessProviders();return g.items=0===I.length||0===p.length?[...0===I.length?p:I]:[{label:(0,k.N)("globalCommands","global commands"),type:"separator"},...p,{label:(0,k.N)("editorCommands","editor commands"),type:"separator"},...I],b}getQuickAccessProviders(){const g=[],b=[];for(const I of this.registry.getQuickAccessProviders().sort((p,w)=>p.prefix.localeCompare(w.prefix)))if(I.prefix!==cv.PREFIX)for(const p of I.helpEntries){const w=p.prefix||I.prefix,E=w||"\u2026";(p.needsEditor?b:g).push({prefix:w,label:E,ariaLabel:(0,k.N)("helpPickAriaLabel","{0}, {1}",E,p.description),description:p.description})}return{editorProviders:b,globalProviders:g}}};var g;d.PREFIX="?",d=function(C,g,b,I){var E,p=arguments.length,w=p<3?g:null===I?I=Object.getOwnPropertyDescriptor(g,b):I;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(C,g,b,I);else for(var S=C.length-1;S>=0;S--)(E=C[S])&&(w=(p<3?E(w):p>3?E(g,b,w):E(g,b))||w);return p>3&&w&&Object.defineProperty(g,b,w),w}([(0,g=O.eJ,function(b,I){g(b,I,0)})],d),T.B.as(U.IP.Quickaccess).registerQuickAccessProvider({ctor:d,prefix:"",helpEntries:[{description:j.ld.helpQuickAccessActionLabel,needsEditor:!0}]})},8827:(Ct,Qe,a)=>{"use strict";a.r(Qe),a.d(Qe,{StandaloneReferencesController:()=>g});var T=a(4482),U=a(3779),j=a(3571),O=a(9040),k=a(2844),$=a(4562),B=a(1004),R=a(7129),C=function(b,I){return function(p,w){I(p,w,b)}};let g=class extends j.J{constructor(I,p,w,E,S,v,M){super(!0,I,p,w,E,S,v,M)}};g=function(b,I,p,w){var v,E=arguments.length,S=E<3?I:null===w?w=Object.getOwnPropertyDescriptor(I,p):w;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)S=Reflect.decorate(b,I,p,w);else for(var M=b.length-1;M>=0;M--)(v=b[M])&&(S=(E<3?v(S):E>3?v(I,p,S):v(I,p))||S);return E>3&&S&&Object.defineProperty(I,p,S),S}([C(1,k.i6),C(2,U.$),C(3,B.lT),C(4,$.TG),C(5,R.Uy),C(6,O.Ui)],g),(0,T._K)(j.J.ID,g)},1409:(Ct,Qe,a)=>{"use strict";a.r(Qe);var T=a(4482),U=a(675),j=a(4598);(0,T.Qr)(class extends T.R6{constructor(){super({id:"editor.action.toggleHighContrast",label:j.xi.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0}),this._originalThemeName=null}run($,B){const R=$.get(U.Z);this._originalThemeName?(R.setTheme(this._originalThemeName),this._originalThemeName=null):(this._originalThemeName=R.getColorTheme().themeName,R.setTheme("hc-black"))}})},675:(Ct,Qe,a)=>{"use strict";a.d(Qe,{Z:()=>U});const U=(0,a(4562).yh)("themeService")},1590:(Ct,Qe,a)=>{"use strict";a.d(Qe,{Q5:()=>T.Emitter,ZL:()=>T.MarkerSeverity,e6:()=>T.Range,Sf:()=>T.Uri,j6:()=>T.editor,Mj:()=>T.languages});var T=a(1347)},9984:(Ct,Qe,a)=>{"use strict";a.r(Qe),a.d(Qe,{cssDefaults:()=>$,scssDefaults:()=>B,lessDefaults:()=>R}),a(1347);var U=a(1590),j=function(){function C(g,b,I){this._onDidChange=new U.Q5,this._languageId=g,this.setOptions(b),this.setModeConfiguration(I)}return Object.defineProperty(C.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"modeConfiguration",{get:function(){return this._modeConfiguration},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"diagnosticsOptions",{get:function(){return this.options},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"options",{get:function(){return this._options},enumerable:!1,configurable:!0}),C.prototype.setOptions=function(g){this._options=g||Object.create(null),this._onDidChange.fire(this)},C.prototype.setDiagnosticsOptions=function(g){this.setOptions(g)},C.prototype.setModeConfiguration=function(g){this._modeConfiguration=g||Object.create(null),this._onDidChange.fire(this)},C}(),O={validate:!0,lint:{compatibleVendorPrefixes:"ignore",vendorPrefix:"warning",duplicateProperties:"warning",emptyRules:"warning",importStatement:"ignore",boxModel:"ignore",universalSelector:"ignore",zeroUnits:"ignore",fontFaceProperties:"warning",hexColorLength:"error",argumentsInColorFunction:"error",unknownProperties:"warning",ieHack:"ignore",unknownVendorSpecificProperties:"ignore",propertyIgnoredDueToDisplay:"warning",important:"ignore",float:"ignore",idSelector:"ignore"},data:{useDefaultDataProvider:!0}},k={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0},$=new j("css",O,k),B=new j("scss",O,k),R=new j("less",O,k);function d(){return a.e(3051).then(a.bind(a,3051))}U.Mj.css={cssDefaults:$,lessDefaults:R,scssDefaults:B},U.Mj.onLanguage("less",function(){d().then(function(C){return C.setupMode(R)})}),U.Mj.onLanguage("scss",function(){d().then(function(C){return C.setupMode(B)})}),U.Mj.onLanguage("css",function(){d().then(function(C){return C.setupMode($)})})},4134:(Ct,Qe,a)=>{"use strict";a.d(Qe,{Q5:()=>T.Emitter,e6:()=>T.Range,Sf:()=>T.Uri,j6:()=>T.editor,Mj:()=>T.languages});var T=a(1347)},1053:(Ct,Qe,a)=>{"use strict";a.d(Qe,{Q5:()=>T.Emitter,ZL:()=>T.MarkerSeverity,e6:()=>T.Range,j6:()=>T.editor,Mj:()=>T.languages});var T=a(1347)},121:(Ct,Qe,a)=>{"use strict";a.r(Qe),a.d(Qe,{jsonDefaults:()=>$}),a(1347);var U=a(1053),$=new(function(){function R(d,C,g){this._onDidChange=new U.Q5,this._languageId=d,this.setDiagnosticsOptions(C),this.setModeConfiguration(g)}return Object.defineProperty(R.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"modeConfiguration",{get:function(){return this._modeConfiguration},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"diagnosticsOptions",{get:function(){return this._diagnosticsOptions},enumerable:!1,configurable:!0}),R.prototype.setDiagnosticsOptions=function(d){this._diagnosticsOptions=d||Object.create(null),this._onDidChange.fire(this)},R.prototype.setModeConfiguration=function(d){this._modeConfiguration=d||Object.create(null),this._onDidChange.fire(this)},R}())("json",{validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1,schemaRequest:"warning",schemaValidation:"warning"},{documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0});U.Mj.json={jsonDefaults:$},U.Mj.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]}),U.Mj.onLanguage("json",function(){a.e(9286).then(a.bind(a,9286)).then(function(R){return R.setupMode($)})})},6304:(Ct,Qe,a)=>{"use strict";a.d(Qe,{Q5:()=>T.Emitter,ZL:()=>T.MarkerSeverity,eB:()=>T.MarkerTag,e6:()=>T.Range,Sf:()=>T.Uri,j6:()=>T.editor,Mj:()=>T.languages});var T=a(1347)},9748:(Ct,Qe,a)=>{"use strict";a.d(Qe,{TG:()=>g}),a(1347);var j=a(6304),O=(()=>{return(E=O||(O={}))[E.None=0]="None",E[E.CommonJS=1]="CommonJS",E[E.AMD=2]="AMD",E[E.UMD=3]="UMD",E[E.System=4]="System",E[E.ES2015=5]="ES2015",E[E.ESNext=99]="ESNext",O;var E})(),k=(()=>{return(E=k||(k={}))[E.None=0]="None",E[E.Preserve=1]="Preserve",E[E.React=2]="React",E[E.ReactNative=3]="ReactNative",E[E.ReactJSX=4]="ReactJSX",E[E.ReactJSXDev=5]="ReactJSXDev",k;var E})(),$=(()=>{return(E=$||($={}))[E.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",E[E.LineFeed=1]="LineFeed",$;var E})(),B=(()=>{return(E=B||(B={}))[E.ES3=0]="ES3",E[E.ES5=1]="ES5",E[E.ES2015=2]="ES2015",E[E.ES2016=3]="ES2016",E[E.ES2017=4]="ES2017",E[E.ES2018=5]="ES2018",E[E.ES2019=6]="ES2019",E[E.ES2020=7]="ES2020",E[E.ESNext=99]="ESNext",E[E.JSON=100]="JSON",E[E.Latest=99]="Latest",B;var E})(),R=(()=>{return(E=R||(R={}))[E.Classic=1]="Classic",E[E.NodeJs=2]="NodeJs",R;var E})(),d=function(){function E(S,v,M){this._onDidChange=new j.Q5,this._onDidExtraLibsChange=new j.Q5,this._extraLibs=Object.create(null),this._removedExtraLibs=Object.create(null),this._eagerModelSync=!1,this.setCompilerOptions(S),this.setDiagnosticsOptions(v),this.setWorkerOptions(M),this._onDidExtraLibsChangeTimeout=-1}return Object.defineProperty(E.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"onDidExtraLibsChange",{get:function(){return this._onDidExtraLibsChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"workerOptions",{get:function(){return this._workerOptions},enumerable:!1,configurable:!0}),E.prototype.getExtraLibs=function(){return this._extraLibs},E.prototype.addExtraLib=function(S,v){var _,M=this;if(_=void 0===v?"ts:extralib-"+Math.random().toString(36).substring(2,15):v,this._extraLibs[_]&&this._extraLibs[_].content===S)return{dispose:function(){}};var f=1;return this._removedExtraLibs[_]&&(f=this._removedExtraLibs[_]+1),this._extraLibs[_]&&(f=this._extraLibs[_].version+1),this._extraLibs[_]={content:S,version:f},this._fireOnDidExtraLibsChangeSoon(),{dispose:function(){var m=M._extraLibs[_];!m||m.version===f&&(delete M._extraLibs[_],M._removedExtraLibs[_]=f,M._fireOnDidExtraLibsChangeSoon())}}},E.prototype.setExtraLibs=function(S){for(var v in this._extraLibs)this._removedExtraLibs[v]=this._extraLibs[v].version;if(this._extraLibs=Object.create(null),S&&S.length>0)for(var M=0,_=S;M<_.length;M++){var f=_[M],L=(v=f.filePath||"ts:extralib-"+Math.random().toString(36).substring(2,15),1);this._removedExtraLibs[v]&&(L=this._removedExtraLibs[v]+1),this._extraLibs[v]={content:f.content,version:L}}this._fireOnDidExtraLibsChangeSoon()},E.prototype._fireOnDidExtraLibsChangeSoon=function(){var S=this;-1===this._onDidExtraLibsChangeTimeout&&(this._onDidExtraLibsChangeTimeout=setTimeout(function(){S._onDidExtraLibsChangeTimeout=-1,S._onDidExtraLibsChange.fire(void 0)},0))},E.prototype.getCompilerOptions=function(){return this._compilerOptions},E.prototype.setCompilerOptions=function(S){this._compilerOptions=S||Object.create(null),this._onDidChange.fire(void 0)},E.prototype.getDiagnosticsOptions=function(){return this._diagnosticsOptions},E.prototype.setDiagnosticsOptions=function(S){this._diagnosticsOptions=S||Object.create(null),this._onDidChange.fire(void 0)},E.prototype.setWorkerOptions=function(S){this._workerOptions=S||Object.create(null),this._onDidChange.fire(void 0)},E.prototype.setMaximumWorkerIdleTime=function(S){},E.prototype.setEagerModelSync=function(S){this._eagerModelSync=S},E.prototype.getEagerModelSync=function(){return this._eagerModelSync},E}(),g=new d({allowNonTsExtensions:!0,target:B.Latest},{noSemanticValidation:!1,noSyntaxValidation:!1,onlyVisible:!1},{}),b=new d({allowNonTsExtensions:!0,allowJs:!0,target:B.Latest},{noSemanticValidation:!0,noSyntaxValidation:!1,onlyVisible:!1},{});function w(){return a.e(7345).then(a.bind(a,7345))}j.Mj.typescript={ModuleKind:O,JsxEmit:k,NewLineKind:$,ScriptTarget:B,ModuleResolutionKind:R,typescriptVersion:"4.3.2",typescriptDefaults:g,javascriptDefaults:b,getTypeScriptWorker:function(){return w().then(function(E){return E.getTypeScriptWorker()})},getJavaScriptWorker:function(){return w().then(function(E){return E.getJavaScriptWorker()})}},j.Mj.onLanguage("typescript",function(){return w().then(function(E){return E.setupTypeScript(g)})}),j.Mj.onLanguage("javascript",function(){return w().then(function(E){return E.setupJavaScript(b)})})},1606:(Ct,Qe,a)=>{"use strict";function U(j,O,...k){return function(j,O){let k;return k=0===O.length?j:j.replace(/\{(\d+)\}/g,function($,B){const R=B[0];return void 0!==O[R]?O[R]:$}),k}(O,k)}a.d(Qe,{N:()=>U})},2668:(Ct,Qe,a)=>{"use strict";a.d(Qe,{F:()=>j,U:()=>O});var T=a(4562),U=a(2844);const j=(0,T.yh)("accessibilityService"),O=new U.uy("accessibilityModeEnabled",!1)},4120:(Ct,Qe,a)=>{"use strict";a.d(Qe,{Mm:()=>le,Id:()=>be,vr:()=>G}),a(306);var U=a(1165),j=a(7513),O=a(1719),k=a(1606),$=a(2836),B=a(652),R=a(3012),d=a(7962),C=a(1004),g=a(6803),b=a(1403),p=(a(8712),a(6723)),w=a(1745),E=a(9740);class S extends j.Wi{constructor(V,Z){super(),this._onDidChangeVisibility=new p.Q5,this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=(0,U.R3)(V,(0,U.$)(".monaco-dropdown")),this._label=(0,U.R3)(this._element,(0,U.$)(".dropdown-label"));let ie=Z.labelRenderer;ie||(ie=oe=>(oe.textContent=Z.label||"",null));for(const oe of[U.tw.CLICK,U.tw.MOUSE_DOWN,w.t.Tap])this._register((0,U.nm)(this.element,oe,ee=>U.zB.stop(ee,!0)));for(const oe of[U.tw.MOUSE_DOWN,w.t.Tap])this._register((0,U.nm)(this._label,oe,ee=>{ee instanceof MouseEvent&&ee.detail>1||(this.visible?this.hide():this.show())}));this._register((0,U.nm)(this._label,U.tw.KEY_UP,oe=>{const ee=new E.y(oe);(ee.equals(3)||ee.equals(10))&&(U.zB.stop(oe,!0),this.visible?this.hide():this.show())}));const ue=ie(this._label);ue&&this._register(ue),this._register(w.o.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}class v extends S{constructor(V,Z){super(V,Z),this._actions=[],this._contextMenuProvider=Z.contextMenuProvider,this.actions=Z.actions||[],this.actionProvider=Z.actionProvider,this.menuClassName=Z.menuClassName||"",this.menuAsChild=!!Z.menuAsChild}set menuOptions(V){this._menuOptions=V}get menuOptions(){return this._menuOptions}get actions(){return this.actionProvider?this.actionProvider.getActions():this._actions}set actions(V){this._actions=V}show(){super.show(),this.element.classList.add("active"),this._contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:V=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(V):void 0,getKeyBinding:V=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(V):void 0,getMenuClassName:()=>this.menuClassName,onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this.menuAsChild?this.element:void 0})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}class M extends b.Y{constructor(V,Z,ie,ue=Object.create(null)){super(null,V,ue),this.actionItem=null,this._onDidChangeVisibility=this._register(new p.Q5),this.menuActionsOrProvider=Z,this.contextMenuProvider=ie,this.options=ue,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(V){this.actionItem=V;const ie=Array.isArray(this.menuActionsOrProvider);if(this.dropdownMenu=this._register(new v(V,{contextMenuProvider:this.contextMenuProvider,labelRenderer:oe=>{this.element=(0,U.R3)(oe,(0,U.$)("a.action-label"));let ee=[];return"string"==typeof this.options.classNames?ee=this.options.classNames.split(/\s+/g).filter(K=>!!K):this.options.classNames&&(ee=this.options.classNames),ee.find(K=>"icon"===K)||ee.push("codicon"),this.element.classList.add(...ee),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this.element.title=this._action.label||"",null},menuAsChild:this.options.menuAsChild,actions:ie?this.menuActionsOrProvider:void 0,actionProvider:ie?void 0:this.menuActionsOrProvider})),this._register(this.dropdownMenu.onDidChangeVisibility(oe=>{var ee;null===(ee=this.element)||void 0===ee||ee.setAttribute("aria-expanded",`${oe}`),this._onDidChangeVisibility.fire(oe)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const oe=this;this.dropdownMenu.menuOptions=Object.assign(Object.assign({},this.dropdownMenu.menuOptions),{get anchorAlignment(){return oe.options.anchorAlignmentProvider()}})}this.updateEnabled()}setActionContext(V){super.setActionContext(V),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=V:this.dropdownMenu.menuOptions={context:V})}updateEnabled(){var V,Z;const ie=!this.getAction().enabled;null===(V=this.actionItem)||void 0===V||V.classList.toggle("disabled",ie),null===(Z=this.element)||void 0===Z||Z.classList.toggle("disabled",ie)}}var _=a(9190),f=a(2844),m=function(N,V,Z,ie){var ee,ue=arguments.length,oe=ue<3?V:null===ie?ie=Object.getOwnPropertyDescriptor(V,Z):ie;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)oe=Reflect.decorate(N,V,Z,ie);else for(var K=N.length-1;K>=0;K--)(ee=N[K])&&(oe=(ue<3?ee(oe):ue>3?ee(V,Z,oe):ee(V,Z))||oe);return ue>3&&oe&&Object.defineProperty(V,Z,oe),oe},L=function(N,V){return function(Z,ie){V(Z,ie,N)}};function G(N,V,Z,ie,ue,oe,ee){const K=N.getActions(V);return function(N,V,Z,ie=(K=>"navigation"===K),ue=Number.MAX_SAFE_INTEGER,oe=(()=>!1),ee=!1){let K,ne;Array.isArray(V)?(K=V,ne=V):(K=V.primary,ne=V.secondary);const he=new Set;for(const[ge,re]of N){let ye;ie(ge)?(ye=K,ye.length>0&&ee&&ye.push(new j.Z0)):(ye=ne,ye.length>0&&ye.push(new j.Z0));for(let ke of re){Z&&(ke=ke instanceof $.U8&&ke.alt?ke.alt:ke);const xe=ye.push(ke);ke instanceof j.wY&&he.add({group:ge,action:ke,index:xe-1})}}for(const{group:ge,action:re,index:ye}of he){const ke=ie(ge)?K:ne,xe=re.actions;(xe.length<=1||ke.length+xe.length-2<=ue)&&oe(re,ge,ke.length)&&ke.splice(ye,1,...xe)}if(K!==ne&&K.length>ue){const ge=K.splice(ue,K.length-ue);ne.unshift(...ge,new j.Z0)}}(K,Z,!1,"string"==typeof ie?he=>he===ie:ie,ue,oe,ee),function(N){const V=new O.SL;for(const[,Z]of N)for(const ie of Z)V.add(ie);return V}(K)}let le=class extends b.g{constructor(V,Z,ie,ue,oe){super(void 0,V,{icon:!(!V.class&&!V.item.icon),label:!V.class&&!V.item.icon,draggable:null==Z?void 0:Z.draggable}),this._keybindingService=ie,this._notificationService=ue,this._contextKeyService=oe,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new O.XK),this._altKey=U._q.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}onClick(V){return function(N,V,Z,ie){return new(Z||(Z=Promise))(function(oe,ee){function K(ge){try{he(ie.next(ge))}catch(re){ee(re)}}function ne(ge){try{he(ie.throw(ge))}catch(re){ee(re)}}function he(ge){ge.done?oe(ge.value):function(oe){return oe instanceof Z?oe:new Z(function(ee){ee(oe)})}(ge.value).then(K,ne)}he((ie=ie.apply(N,V||[])).next())})}(this,void 0,void 0,function*(){V.preventDefault(),V.stopPropagation();try{yield this.actionRunner.run(this._commandAction,this._context)}catch(Z){this._notificationService.error(Z)}})}render(V){super.render(V),V.classList.add("menu-entry"),this._updateItemClass(this._menuItemAction.item);let Z=!1,ie=this._altKey.keyStatus.altKey||(_.ED||_.IJ)&&this._altKey.keyStatus.shiftKey;const ue=()=>{const oe=Z&&ie;oe!==this._wantsAltCommand&&(this._wantsAltCommand=oe,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._menuItemAction.alt&&this._register(this._altKey.event(oe=>{ie=oe.altKey||(_.ED||_.IJ)&&oe.shiftKey,ue()})),this._register((0,U.nm)(V,"mouseleave",oe=>{Z=!1,ue()})),this._register((0,U.nm)(V,"mouseenter",oe=>{Z=!0,ue()}))}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}updateTooltip(){if(this.label){const V=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),Z=V&&V.getLabel(),ie=this._commandAction.tooltip||this._commandAction.label;let ue=Z?(0,k.N)("titleAndKb","{0} ({1})",ie,Z):ie;if(!this._wantsAltCommand&&this._menuItemAction.alt){const oe=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,ee=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),K=ee&&ee.getLabel(),ne=K?(0,k.N)("titleAndKb","{0} ({1})",oe,K):oe;ue+=`\n[${d.xo.modifierLabels[_.OS].altKey}] ${ne}`}this.label.title=ue}}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.item))}_updateItemClass(V){var Z;this._itemClassDispose.value=void 0;const{element:ie,label:ue}=this;if(!ie||!ue)return;const oe=this._commandAction.checked&&(null===(Z=V.toggled)||void 0===Z?void 0:Z.icon)?V.toggled.icon:V.icon;if(oe)if(g.kS.isThemeIcon(oe)){const ee=g.kS.asClassNameArray(oe);ue.classList.add(...ee),this._itemClassDispose.value=(0,O.OF)(()=>{ue.classList.remove(...ee)})}else oe.light&&ue.style.setProperty("--menu-entry-icon-light",(0,U.wY)(oe.light)),oe.dark&&ue.style.setProperty("--menu-entry-icon-dark",(0,U.wY)(oe.dark)),ue.classList.add("icon"),this._itemClassDispose.value=(0,O.OF)(()=>{ue.classList.remove("icon"),ue.style.removeProperty("--menu-entry-icon-light"),ue.style.removeProperty("--menu-entry-icon-dark")})}};le=m([L(2,R.d),L(3,C.lT),L(4,f.i6)],le);let ce=class extends M{constructor(V,Z){super(V,{getActions:()=>V.actions},Z,{menuAsChild:!0,classNames:g.kS.isThemeIcon(V.item.icon)?g.kS.asClassName(V.item.icon):void 0})}render(V){if(super.render(V),this.element){V.classList.add("menu-entry");const{icon:Z}=this._action.item;Z&&!g.kS.isThemeIcon(Z)&&(this.element.classList.add("icon"),Z.light&&this.element.style.setProperty("--menu-entry-icon-light",(0,U.wY)(Z.light)),Z.dark&&this.element.style.setProperty("--menu-entry-icon-dark",(0,U.wY)(Z.dark)))}}};function be(N,V){return V instanceof $.U8?N.createInstance(le,V,void 0):V instanceof $.NZ?N.createInstance(ce,V):void 0}ce=m([L(1,B.i)],ce)},2836:(Ct,Qe,a)=>{"use strict";a.d(Qe,{vr:()=>I,eH:()=>p,co:()=>w,BH:()=>E,NZ:()=>S,U8:()=>v});var T=a(7513),U=a(4562),j=a(2844),O=a(8896),k=a(1719),$=a(6723),B=a(6803),R=a(5539),d=a(4857),C=a(521),b=function(M,_){return function(f,m){_(f,m,M)}};function I(M){return void 0!==M.command}class p{constructor(_){this.id=p._idPool++,this._debugName=_}}p._idPool=0,p.CommandPalette=new p("CommandPalette"),p.EditorContext=new p("EditorContext"),p.SimpleEditorContext=new p("SimpleEditorContext"),p.EditorContextCopy=new p("EditorContextCopy"),p.EditorContextPeek=new p("EditorContextPeek"),p.MenubarEditMenu=new p("MenubarEditMenu"),p.MenubarCopy=new p("MenubarCopy"),p.MenubarGoMenu=new p("MenubarGoMenu"),p.MenubarSelectionMenu=new p("MenubarSelectionMenu"),p.InlineCompletionsActions=new p("InlineCompletionsActions");const w=(0,U.yh)("menuService"),E=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new $.Q5,this.onDidChangeMenu=this._onDidChangeMenu.event,this._commandPaletteChangeEvent={has:M=>M===p.CommandPalette}}addCommand(M){return this.addCommands(R.$.single(M))}addCommands(M){for(const _ of M)this._commands.set(_.id,_);return this._onDidChangeMenu.fire(this._commandPaletteChangeEvent),(0,k.OF)(()=>{let _=!1;for(const f of M)_=this._commands.delete(f.id)||_;_&&this._onDidChangeMenu.fire(this._commandPaletteChangeEvent)})}getCommand(M){return this._commands.get(M)}getCommands(){const M=new Map;return this._commands.forEach((_,f)=>M.set(f,_)),M}appendMenuItem(M,_){return this.appendMenuItems(R.$.single({id:M,item:_}))}appendMenuItems(M){const _=new Set,f=new d.S;for(const{id:m,item:L}of M){let F=this._menuItems.get(m);F||(F=new d.S,this._menuItems.set(m,F)),f.push(F.push(L)),_.add(m)}return this._onDidChangeMenu.fire(_),(0,k.OF)(()=>{if(f.size>0){for(let m of f)m();this._onDidChangeMenu.fire(_),f.clear()}})}getMenuItems(M){let _;return _=this._menuItems.has(M)?[...this._menuItems.get(M)]:[],M===p.CommandPalette&&this._appendImplicitItems(_),_}_appendImplicitItems(M){const _=new Set;for(const f of M)I(f)&&(_.add(f.command.id),f.alt&&_.add(f.alt.id));this._commands.forEach((f,m)=>{_.has(m)||M.push({command:f})})}};class S extends T.wY{constructor(_,f,m,L){super(`submenuitem.${_.submenu.id}`,"string"==typeof _.title?_.title:_.title.value,[],"submenu"),this.item=_,this._menuService=f,this._contextKeyService=m,this._options=L}get actions(){const _=[],f=this._menuService.createMenu(this.item.submenu,this._contextKeyService),m=f.getActions(this._options);f.dispose();for(const[,L]of m)L.length>0&&(_.push(...L),_.push(new T.Z0));return _.length&&_.pop(),_}}let v=class YR{constructor(_,f,m,L,F){var G;if(this._commandService=F,this.id=_.id,this.label=(null==m?void 0:m.renderShortTitle)&&_.shortTitle?"string"==typeof _.shortTitle?_.shortTitle:_.shortTitle.value:"string"==typeof _.title?_.title:_.title.value,this.tooltip=null!==(G=_.tooltip)&&void 0!==G?G:"",this.enabled=!_.precondition||L.contextMatchesRules(_.precondition),this.checked=!1,_.toggled){const Y=_.toggled.condition?_.toggled:{condition:_.toggled};this.checked=L.contextMatchesRules(Y.condition),this.checked&&Y.tooltip&&(this.tooltip="string"==typeof Y.tooltip?Y.tooltip:Y.tooltip.value),Y.title&&(this.label="string"==typeof Y.title?Y.title:Y.title.value)}this.item=_,this.alt=f?new YR(f,void 0,m,L,F):void 0,this._options=m,B.kS.isThemeIcon(_.icon)&&(this.class=C.dT.asClassName(_.icon))}dispose(){}run(..._){var f,m;let L=[];return(null===(f=this._options)||void 0===f?void 0:f.arg)&&(L=[...L,this._options.arg]),(null===(m=this._options)||void 0===m?void 0:m.shouldForwardArgs)&&(L=[...L,..._]),this._commandService.executeCommand(this.id,...L)}};v=function(M,_,f,m){var G,L=arguments.length,F=L<3?_:null===m?m=Object.getOwnPropertyDescriptor(_,f):m;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)F=Reflect.decorate(M,_,f,m);else for(var Y=M.length-1;Y>=0;Y--)(G=M[Y])&&(F=(L<3?G(F):L>3?G(_,f,F):G(_,f))||F);return L>3&&F&&Object.defineProperty(_,f,F),F}([b(3,j.i6),b(4,O.H)],v)},2957:(Ct,Qe,a)=>{"use strict";a.d(Qe,{p:()=>U});const U=(0,a(4562).yh)("clipboardService")},8896:(Ct,Qe,a)=>{"use strict";a.d(Qe,{H:()=>B,P:()=>R});var T=a(1719),U=a(1882),j=a(4562),O=a(6723),k=a(4857),$=a(5539);const B=(0,j.yh)("commandService"),R=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new O.Q5,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(d,C){if(!d)throw new Error("invalid command");if("string"==typeof d){if(!C)throw new Error("invalid command");return this.registerCommand({id:d,handler:C})}if(d.description){const w=[];for(let S of d.description.args)w.push(S.constraint);const E=d.handler;d.handler=function(S,...v){return(0,U.D8)(v,w),E(S,...v)}}const{id:g}=d;let b=this._commands.get(g);b||(b=new k.S,this._commands.set(g,b));let I=b.unshift(d),p=(0,T.OF)(()=>{I();const w=this._commands.get(g);(null==w?void 0:w.isEmpty())&&this._commands.delete(g)});return this._onDidRegisterCommand.fire(g),p}registerCommandAlias(d,C){return R.registerCommand(d,(g,...b)=>g.get(B).executeCommand(C,...b))}getCommand(d){const C=this._commands.get(d);if(C&&!C.isEmpty())return $.$.first(C)}getCommands(){const d=new Map;for(const C of this._commands.keys()){const g=this.getCommand(C);g&&d.set(C,g)}return d}};R.registerCommand("noop",()=>{})},9040:(Ct,Qe,a)=>{"use strict";a.d(Qe,{Ui:()=>O,Od:()=>k,KV:()=>$,xL:()=>B,Mt:()=>d,MR:()=>C,O4:()=>g});var T=a(1161),U=a(4562),j=a(1631);const O=(0,U.yh)("configurationService");function k(b,I){const p=Object.create(null);for(let w in b)$(p,w,b[w],I);return p}function $(b,I,p,w){const E=I.split("."),S=E.pop();let v=b;for(let M=0;M<E.length;M++){let _=E[M],f=v[_];switch(typeof f){case"undefined":f=v[_]=Object.create(null);break;case"object":break;default:return void w(`Ignoring ${I} as ${E.slice(0,M+1).join(".")} is ${JSON.stringify(f)}`)}v=f}if("object"==typeof v&&null!==v)try{v[S]=p}catch(M){w(`Ignoring ${I} as ${E.join(".")} is ${JSON.stringify(v)}`)}else w(`Ignoring ${I} as ${E.join(".")} is ${JSON.stringify(v)}`)}function B(b,I){R(b,I.split("."))}function R(b,I){const p=I.shift();if(0!==I.length){if(-1!==Object.keys(b).indexOf(p)){const w=b[p];"object"==typeof w&&!Array.isArray(w)&&(R(w,I),0===Object.keys(w).length&&delete b[p])}}else delete b[p]}function d(b,I,p){const S=function(v,M){let _=v;for(const f of M){if("object"!=typeof _||null===_)return;_=_[f]}return _}(b,I.split("."));return void 0===S?p:S}function C(){const b=T.B.as(j.IP.Configuration).getConfigurationProperties();return Object.keys(b)}function g(){const b=Object.create(null),I=T.B.as(j.IP.Configuration).getConfigurationProperties();for(let p in I)$(b,p,I[p].default,E=>console.error(`Conflict in default settings: ${E}`));return b}},1631:(Ct,Qe,a)=>{"use strict";a.d(Qe,{IP:()=>$,G1:()=>S,Uh:()=>v});var T=a(1606),U=a(6723),j=a(1161),O=a(1882),k=a(5821);const $={Configuration:"base.contributions.configuration"},B={properties:{},patternProperties:{}},R={properties:{},patternProperties:{}},d={properties:{},patternProperties:{}},C={properties:{},patternProperties:{}},g={properties:{},patternProperties:{}},b={properties:{},patternProperties:{}},I="vscode://schemas/settings/resourceLanguage",p=j.B.as(k.I.JSONContribution),S=new RegExp("\\[.*\\]$");function v(m){return m.substring(1,m.length-1)}const _=new class{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new U.Q5,this._onDidUpdateConfiguration=new U.Q5,this.defaultValues={},this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:T.N("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!1,errorMessage:"Unknown editor configuration setting",allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.excludedConfigurationProperties={},p.registerSchema(I,this.resourceLanguageSettingsSchema)}registerConfiguration(L,F=!0){this.registerConfigurations([L],F)}registerConfigurations(L,F=!0){const G=[];L.forEach(Y=>{G.push(...this.validateAndRegisterProperties(Y,F,Y.extensionInfo)),this.configurationContributors.push(Y),this.registerJSONConfiguration(Y)}),p.registerSchema(I,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire(G)}registerOverrideIdentifiers(L){for(const F of L)this.overrideIdentifiers.add(F);this.updateOverridePropertyPatternKey()}validateAndRegisterProperties(L,F=!0,G,Y=3){var de;Y=O.Jp(L.scope)?Y:L.scope;let le=[],ce=L.properties;if(ce)for(let N in ce){if(F&&((m=N).trim()?S.test(m)?T.N("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",m):void 0!==_.getConfigurationProperties()[m]&&T.N("config.property.duplicate","Cannot register '{0}'. This property is already registered.",m):T.N("config.property.empty","Cannot register an empty property"))){delete ce[N];continue}const V=ce[N];this.updatePropertyDefaultValue(N,V),S.test(N)?V.scope=void 0:(V.scope=O.Jp(V.scope)?Y:V.scope,V.restricted=O.Jp(V.restricted)?!!(null===(de=null==G?void 0:G.restrictedConfigurations)||void 0===de?void 0:de.includes(N)):V.restricted),!ce[N].hasOwnProperty("included")||ce[N].included?(this.configurationProperties[N]=ce[N],!ce[N].deprecationMessage&&ce[N].markdownDeprecationMessage&&(ce[N].deprecationMessage=ce[N].markdownDeprecationMessage),le.push(N)):(this.excludedConfigurationProperties[N]=ce[N],delete ce[N])}var m;let be=L.allOf;if(be)for(let N of be)le.push(...this.validateAndRegisterProperties(N,F,G,Y));return le}getConfigurationProperties(){return this.configurationProperties}registerJSONConfiguration(L){const F=G=>{let Y=G.properties;if(Y)for(const le in Y)this.updateSchema(le,Y[le]);let de=G.allOf;de&&de.forEach(F)};F(L)}updateSchema(L,F){switch(B.properties[L]=F,F.scope){case 1:R.properties[L]=F;break;case 2:d.properties[L]=F;break;case 6:C.properties[L]=F;break;case 3:g.properties[L]=F;break;case 4:b.properties[L]=F;break;case 5:b.properties[L]=F,this.resourceLanguageSettingsSchema.properties[L]=F}}updateOverridePropertyPatternKey(){for(const L of this.overrideIdentifiers.values()){const F=`[${L}]`,G={type:"object",description:T.N("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:T.N("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:I};this.updatePropertyDefaultValue(F,G),B.properties[F]=G,R.properties[F]=G,d.properties[F]=G,C.properties[F]=G,g.properties[F]=G,b.properties[F]=G}this._onDidSchemaChange.fire()}updatePropertyDefaultValue(L,F){let G=this.defaultValues[L];O.o8(G)&&(G=F.default),O.o8(G)&&(G=function(m){switch(Array.isArray(m)?m[0]:m){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}(F.type)),F.default=G}};j.B.add($.Configuration,_)},2844:(Ct,Qe,a)=>{"use strict";a.d(Qe,{Ao:()=>B,uy:()=>G,i6:()=>Y,Eq:()=>de});var T=a(579),U=a(4562),j=a(9190);let O=j.WE||"";const k=new Map;k.set("false",!1),k.set("true",!0),k.set("isMac",j.dz),k.set("isLinux",j.IJ),k.set("isWindows",j.ED),k.set("isWeb",j.$L),k.set("isMacNative",j.dz&&!j.$L),k.set("isEdge",O.indexOf("Edg/")>=0),k.set("isFirefox",O.indexOf("Firefox")>=0),k.set("isChrome",O.indexOf("Chrome")>=0),k.set("isSafari",O.indexOf("Safari")>=0);const $=Object.prototype.hasOwnProperty;class B{static has(N){return g.create(N)}static equals(N,V){return b.create(N,V)}static regex(N,V){return f.create(N,V)}static not(N){return E.create(N)}static and(...N){return L.create(N)}static or(...N){return F.create(N)}static deserialize(N,V=!1){if(N)return this._deserializeOrExpression(N,V)}static _deserializeOrExpression(N,V){let Z=N.split("||");return F.create(Z.map(ie=>this._deserializeAndExpression(ie,V)))}static _deserializeAndExpression(N,V){let Z=N.split("&&");return L.create(Z.map(ie=>this._deserializeOne(ie,V)))}static _deserializeOne(N,V){if((N=N.trim()).indexOf("!=")>=0){let Z=N.split("!=");return w.create(Z[0].trim(),this._deserializeValue(Z[1],V))}if(N.indexOf("==")>=0){let Z=N.split("==");return b.create(Z[0].trim(),this._deserializeValue(Z[1],V))}if(N.indexOf("=~")>=0){let Z=N.split("=~");return f.create(Z[0].trim(),this._deserializeRegexValue(Z[1],V))}if(N.indexOf(" in ")>=0){let Z=N.split(" in ");return I.create(Z[0].trim(),Z[1].trim())}if(/^[^<=>]+>=[^<=>]+$/.test(N)){const Z=N.split(">=");return v.create(Z[0].trim(),Z[1].trim())}if(/^[^<=>]+>[^<=>]+$/.test(N)){const Z=N.split(">");return S.create(Z[0].trim(),Z[1].trim())}if(/^[^<=>]+<=[^<=>]+$/.test(N)){const Z=N.split("<=");return _.create(Z[0].trim(),Z[1].trim())}if(/^[^<=>]+<[^<=>]+$/.test(N)){const Z=N.split("<");return M.create(Z[0].trim(),Z[1].trim())}return/^\!\s*/.test(N)?E.create(N.substr(1).trim()):g.create(N)}static _deserializeValue(N,V){if("true"===(N=N.trim()))return!0;if("false"===N)return!1;let Z=/^'([^']*)'$/.exec(N);return Z?Z[1].trim():N}static _deserializeRegexValue(N,V){if((0,T.m5)(N)){if(V)throw new Error("missing regexp-value for =~-expression");return console.warn("missing regexp-value for =~-expression"),null}let Z=N.indexOf("/"),ie=N.lastIndexOf("/");if(Z===ie||Z<0){if(V)throw new Error(`bad regexp-value '${N}', missing /-enclosure`);return console.warn(`bad regexp-value '${N}', missing /-enclosure`),null}let ue=N.slice(Z+1,ie),oe="i"===N[ie+1]?"i":"";try{return new RegExp(ue,oe)}catch(ee){if(V)throw new Error(`bad regexp-value '${N}', parse error: ${ee}`);return console.warn(`bad regexp-value '${N}', parse error: ${ee}`),null}}}function R(be,N){return be.cmp(N)}class d{constructor(){this.type=0}cmp(N){return this.type-N.type}equals(N){return N.type===this.type}evaluate(N){return!1}serialize(){return"false"}keys(){return[]}negate(){return C.INSTANCE}}d.INSTANCE=new d;class C{constructor(){this.type=1}cmp(N){return this.type-N.type}equals(N){return N.type===this.type}evaluate(N){return!0}serialize(){return"true"}keys(){return[]}negate(){return d.INSTANCE}}C.INSTANCE=new C;class g{constructor(N){this.key=N,this.type=2}static create(N){const V=k.get(N);return"boolean"==typeof V?V?C.INSTANCE:d.INSTANCE:new g(N)}cmp(N){return N.type!==this.type?this.type-N.type:le(this.key,N.key)}equals(N){return N.type===this.type&&this.key===N.key}evaluate(N){return!!N.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return E.create(this.key)}}class b{constructor(N,V){this.key=N,this.value=V,this.type=4}static create(N,V){if("boolean"==typeof V)return V?g.create(N):E.create(N);const Z=k.get(N);return"boolean"==typeof Z?V===(Z?"true":"false")?C.INSTANCE:d.INSTANCE:new b(N,V)}cmp(N){return N.type!==this.type?this.type-N.type:ce(this.key,this.value,N.key,N.value)}equals(N){return N.type===this.type&&this.key===N.key&&this.value===N.value}evaluate(N){return N.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return w.create(this.key,this.value)}}class I{constructor(N,V){this.key=N,this.valueKey=V,this.type=10}static create(N,V){return new I(N,V)}cmp(N){return N.type!==this.type?this.type-N.type:ce(this.key,this.valueKey,N.key,N.valueKey)}equals(N){return N.type===this.type&&this.key===N.key&&this.valueKey===N.valueKey}evaluate(N){const V=N.getValue(this.valueKey),Z=N.getValue(this.key);return Array.isArray(V)?V.indexOf(Z)>=0:"string"==typeof Z&&"object"==typeof V&&null!==V&&$.call(V,Z)}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return p.create(this)}}class p{constructor(N){this._actual=N,this.type=11}static create(N){return new p(N)}cmp(N){return N.type!==this.type?this.type-N.type:this._actual.cmp(N._actual)}equals(N){return N.type===this.type&&this._actual.equals(N._actual)}evaluate(N){return!this._actual.evaluate(N)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}class w{constructor(N,V){this.key=N,this.value=V,this.type=5}static create(N,V){if("boolean"==typeof V)return V?E.create(N):g.create(N);const Z=k.get(N);return"boolean"==typeof Z?V===(Z?"true":"false")?d.INSTANCE:C.INSTANCE:new w(N,V)}cmp(N){return N.type!==this.type?this.type-N.type:ce(this.key,this.value,N.key,N.value)}equals(N){return N.type===this.type&&this.key===N.key&&this.value===N.value}evaluate(N){return N.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return b.create(this.key,this.value)}}class E{constructor(N){this.key=N,this.type=3}static create(N){const V=k.get(N);return"boolean"==typeof V?V?d.INSTANCE:C.INSTANCE:new E(N)}cmp(N){return N.type!==this.type?this.type-N.type:le(this.key,N.key)}equals(N){return N.type===this.type&&this.key===N.key}evaluate(N){return!N.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return g.create(this.key)}}class S{constructor(N,V){this.key=N,this.value=V,this.type=12}static create(N,V){return new S(N,V)}cmp(N){return N.type!==this.type?this.type-N.type:ce(this.key,this.value,N.key,N.value)}equals(N){return N.type===this.type&&this.key===N.key&&this.value===N.value}evaluate(N){return parseFloat(N.getValue(this.key))>parseFloat(this.value)}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return _.create(this.key,this.value)}}class v{constructor(N,V){this.key=N,this.value=V,this.type=13}static create(N,V){return new v(N,V)}cmp(N){return N.type!==this.type?this.type-N.type:ce(this.key,this.value,N.key,N.value)}equals(N){return N.type===this.type&&this.key===N.key&&this.value===N.value}evaluate(N){return parseFloat(N.getValue(this.key))>=parseFloat(this.value)}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return M.create(this.key,this.value)}}class M{constructor(N,V){this.key=N,this.value=V,this.type=14}static create(N,V){return new M(N,V)}cmp(N){return N.type!==this.type?this.type-N.type:ce(this.key,this.value,N.key,N.value)}equals(N){return N.type===this.type&&this.key===N.key&&this.value===N.value}evaluate(N){return parseFloat(N.getValue(this.key))<parseFloat(this.value)}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return v.create(this.key,this.value)}}class _{constructor(N,V){this.key=N,this.value=V,this.type=15}static create(N,V){return new _(N,V)}cmp(N){return N.type!==this.type?this.type-N.type:ce(this.key,this.value,N.key,N.value)}equals(N){return N.type===this.type&&this.key===N.key&&this.value===N.value}evaluate(N){return parseFloat(N.getValue(this.key))<=parseFloat(this.value)}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return S.create(this.key,this.value)}}class f{constructor(N,V){this.key=N,this.regexp=V,this.type=7}static create(N,V){return new f(N,V)}cmp(N){if(N.type!==this.type)return this.type-N.type;if(this.key<N.key)return-1;if(this.key>N.key)return 1;const V=this.regexp?this.regexp.source:"",Z=N.regexp?N.regexp.source:"";return V<Z?-1:V>Z?1:0}equals(N){if(N.type===this.type){const V=this.regexp?this.regexp.source:"",Z=N.regexp?N.regexp.source:"";return this.key===N.key&&V===Z}return!1}evaluate(N){let V=N.getValue(this.key);return!!this.regexp&&this.regexp.test(V)}serialize(){return`${this.key} =~ ${this.regexp?`/${this.regexp.source}/${this.regexp.ignoreCase?"i":""}`:"/invalid/"}`}keys(){return[this.key]}negate(){return m.create(this)}}class m{constructor(N){this._actual=N,this.type=8}static create(N){return new m(N)}cmp(N){return N.type!==this.type?this.type-N.type:this._actual.cmp(N._actual)}equals(N){return N.type===this.type&&this._actual.equals(N._actual)}evaluate(N){return!this._actual.evaluate(N)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}class L{constructor(N){this.expr=N,this.type=6}static create(N){return L._normalizeArr(N)}cmp(N){if(N.type!==this.type)return this.type-N.type;if(this.expr.length<N.expr.length)return-1;if(this.expr.length>N.expr.length)return 1;for(let V=0,Z=this.expr.length;V<Z;V++){const ie=R(this.expr[V],N.expr[V]);if(0!==ie)return ie}return 0}equals(N){if(N.type===this.type){if(this.expr.length!==N.expr.length)return!1;for(let V=0,Z=this.expr.length;V<Z;V++)if(!this.expr[V].equals(N.expr[V]))return!1;return!0}return!1}evaluate(N){for(let V=0,Z=this.expr.length;V<Z;V++)if(!this.expr[V].evaluate(N))return!1;return!0}static _normalizeArr(N){const V=[];let Z=!1;for(const ie of N)if(ie){if(1===ie.type){Z=!0;continue}if(0===ie.type)return d.INSTANCE;if(6===ie.type){V.push(...ie.expr);continue}V.push(ie)}if(0===V.length&&Z)return C.INSTANCE;if(0!==V.length){if(1===V.length)return V[0];for(V.sort(R);V.length>1;){const ie=V[V.length-1];if(9!==ie.type)break;V.pop();const ue=V.pop(),oe=F.create(ie.expr.map(ee=>L.create([ee,ue])));oe&&(V.push(oe),V.sort(R))}return 1===V.length?V[0]:new L(V)}}serialize(){return this.expr.map(N=>N.serialize()).join(" && ")}keys(){const N=[];for(let V of this.expr)N.push(...V.keys());return N}negate(){let N=[];for(let V of this.expr)N.push(V.negate());return F.create(N)}}class F{constructor(N){this.expr=N,this.type=9}static create(N){const V=F._normalizeArr(N);if(0!==V.length)return 1===V.length?V[0]:new F(V)}cmp(N){if(N.type!==this.type)return this.type-N.type;if(this.expr.length<N.expr.length)return-1;if(this.expr.length>N.expr.length)return 1;for(let V=0,Z=this.expr.length;V<Z;V++){const ie=R(this.expr[V],N.expr[V]);if(0!==ie)return ie}return 0}equals(N){if(N.type===this.type){if(this.expr.length!==N.expr.length)return!1;for(let V=0,Z=this.expr.length;V<Z;V++)if(!this.expr[V].equals(N.expr[V]))return!1;return!0}return!1}evaluate(N){for(let V=0,Z=this.expr.length;V<Z;V++)if(this.expr[V].evaluate(N))return!0;return!1}static _normalizeArr(N){let V=[],Z=!1;if(N){for(let ie=0,ue=N.length;ie<ue;ie++){const oe=N[ie];if(oe){if(0===oe.type){Z=!0;continue}if(1===oe.type)return[C.INSTANCE];if(9===oe.type){V=V.concat(oe.expr);continue}V.push(oe)}}if(0===V.length&&Z)return[d.INSTANCE];V.sort(R)}return V}serialize(){return this.expr.map(N=>N.serialize()).join(" || ")}keys(){const N=[];for(let V of this.expr)N.push(...V.keys());return N}negate(){let N=[];for(let Z of this.expr)N.push(Z.negate());const V=Z=>9===Z.type?Z.expr:[Z];for(;N.length>1;){const Z=N.shift(),ie=N.shift(),ue=[];for(const oe of V(Z))for(const ee of V(ie))ue.push(B.and(oe,ee));N.unshift(B.or(...ue))}return N[0]}}let G=(()=>{class be extends g{constructor(V,Z,ie){super(V),this._defaultValue=Z,"object"==typeof ie?be._info.push(Object.assign(Object.assign({},ie),{key:V})):!0!==ie&&be._info.push({key:V,description:ie,type:null!=Z?typeof Z:void 0})}static all(){return be._info.values()}bindTo(V){return V.createKey(this.key,this._defaultValue)}getValue(V){return V.getContextKeyValue(this.key)}toNegated(){return B.not(this.key)}isEqualTo(V){return B.equals(this.key,V)}}return be._info=[],be})();const Y=(0,U.yh)("contextKeyService"),de="setContext";function le(be,N){return be<N?-1:be>N?1:0}function ce(be,N,V,Z){return be<V?-1:be>V?1:N<Z?-1:N>Z?1:0}},7143:(Ct,Qe,a)=>{"use strict";a.d(Qe,{c:()=>O,d:()=>k});var T=a(1606),U=a(2844),j=a(9190);const O=new U.uy("isWindows",j.ED,(0,T.N)("isWindows","Whether the operating system is Windows")),k="inputFocus"},652:(Ct,Qe,a)=>{"use strict";a.d(Qe,{u:()=>U,i:()=>j});var T=a(4562);const U=(0,T.yh)("contextViewService"),j=(0,T.yh)("contextMenuService")},5757:(Ct,Qe,a)=>{"use strict";a.d(Qe,{S:()=>U});const U=(0,a(4562).yh)("dialogService")},1303:(Ct,Qe,a)=>{"use strict";a.d(Qe,{M:()=>T});class T{constructor(j,O=[],k=!1){this.ctor=j,this.staticArguments=O,this.supportsDelayedInstantiation=k}}},4165:(Ct,Qe,a)=>{"use strict";a.d(Qe,{z:()=>j,d:()=>O});var T=a(1303);const U=[];function j(k,$,B){$ instanceof T.M||($=new T.M($,[],B)),U.push([k,$])}function O(){return U}},4562:(Ct,Qe,a)=>{"use strict";var T,$;a.d(Qe,{I8:()=>T,TG:()=>U,yh:()=>O,jt:()=>k}),($=T||(T={})).serviceIds=new Map,$.DI_TARGET="$di$target",$.DI_DEPENDENCIES="$di$dependencies",$.getServiceDependencies=function(R){return R[$.DI_DEPENDENCIES]||[]};const U=O("instantiationService");function j($,B,R,d){B[T.DI_TARGET]===B?B[T.DI_DEPENDENCIES].push({id:$,index:R,optional:d}):(B[T.DI_DEPENDENCIES]=[{id:$,index:R,optional:d}],B[T.DI_TARGET]=B)}function O($){if(T.serviceIds.has($))return T.serviceIds.get($);const B=function(R,d,C){if(3!==arguments.length)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");j(B,R,C,!1)};return B.toString=()=>$,T.serviceIds.set($,B),B}function k($){return function(B,R,d){if(3!==arguments.length)throw new Error("@optional-decorator can only be used to decorate a parameter");j($,B,d,!0)}}},6748:(Ct,Qe,a)=>{"use strict";a.d(Qe,{y:()=>T});class T{constructor(...j){this._entries=new Map;for(let[O,k]of j)this.set(O,k)}set(j,O){const k=this._entries.get(j);return this._entries.set(j,O),k}has(j){return this._entries.has(j)}get(j){return this._entries.get(j)}}},5821:(Ct,Qe,a)=>{"use strict";a.d(Qe,{I:()=>j});var T=a(1161),U=a(6723);const j={JSONContribution:"base.contributions.json"},$=new class{constructor(){this._onDidChangeSchema=new U.Q5,this.schemasById={}}registerSchema(R,d){var B;this.schemasById[(B=R,B.length>0&&"#"===B.charAt(B.length-1)?B.substring(0,B.length-1):B)]=d,this._onDidChangeSchema.fire(R)}notifySchemaChanged(R){this._onDidChangeSchema.fire(R)}};T.B.add(j.JSONContribution,$)},3012:(Ct,Qe,a)=>{"use strict";a.d(Qe,{d:()=>U});const U=(0,a(4562).yh)("keybindingService")},2331:(Ct,Qe,a)=>{"use strict";a.d(Qe,{W:()=>$});var T=a(4807),U=a(9190),j=a(8896),O=a(1161);class k{constructor(){this._coreKeybindings=[],this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(C){if(1===U.OS){if(C&&C.win)return C.win}else if(2===U.OS){if(C&&C.mac)return C.mac}else if(C&&C.linux)return C.linux;return C}registerKeybindingRule(C){const g=k.bindToCurrentPlatform(C);if(g&&g.primary){const b=(0,T.gm)(g.primary,U.OS);b&&this._registerDefaultKeybinding(b,C.id,C.args,C.weight,0,C.when)}if(g&&Array.isArray(g.secondary))for(let b=0,I=g.secondary.length;b<I;b++){const w=(0,T.gm)(g.secondary[b],U.OS);w&&this._registerDefaultKeybinding(w,C.id,C.args,C.weight,-b-1,C.when)}}registerCommandAndKeybindingRule(C){this.registerKeybindingRule(C),j.P.registerCommand(C)}static _mightProduceChar(C){return C>=21&&C<=30||C>=31&&C<=56||80===C||81===C||82===C||83===C||84===C||85===C||86===C||110===C||111===C||87===C||88===C||89===C||90===C||91===C||92===C}_assertNoCtrlAlt(C,g){C.ctrlKey&&C.altKey&&!C.metaKey&&k._mightProduceChar(C.keyCode)&&console.warn("Ctrl+Alt+ keybindings should not be used by default under Windows. Offender: ",C," for ",g)}_registerDefaultKeybinding(C,g,b,I,p,w){1===U.OS&&this._assertNoCtrlAlt(C.parts[0],g),this._coreKeybindings.push({keybinding:C,command:g,commandArgs:b,when:w,weight1:I,weight2:p,extensionId:null,isBuiltinExtension:!1}),this._cachedMergedKeybindings=null}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=[].concat(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(R)),this._cachedMergedKeybindings.slice(0)}}const $=new k;function R(d,C){return d.weight1!==C.weight1?d.weight1-C.weight1:d.command<C.command?-1:d.command>C.command?1:d.weight2-C.weight2}O.B.add("platform.keybindingsRegistry",$)},5360:(Ct,Qe,a)=>{"use strict";a.d(Qe,{e:()=>U});const U=(0,a(4562).yh)("labelService")},2490:(Ct,Qe,a)=>{"use strict";a.d(Qe,{Lw:()=>Nn,XN:()=>Li,ls:()=>_n,ev:()=>Ze,CQ:()=>rs});var T=a(1165),j=(a(1369),a(1719)),O=a(2291),k=a(6343),$=a(6723),B=a(9357);class R{constructor(X,Ie){this.renderer=X,this.modelProvider=Ie}get templateId(){return this.renderer.templateId}renderTemplate(X){return{data:this.renderer.renderTemplate(X),disposable:j.JT.None}}renderElement(X,Ie,et,wt){if(et.disposable&&et.disposable.dispose(),!et.data)return;const Vt=this.modelProvider();if(Vt.isResolved(X))return this.renderer.renderElement(Vt.get(X),X,et.data,wt);const Tt=new B.A,vn=Vt.resolve(X,Tt.token);et.disposable={dispose:()=>Tt.cancel()},this.renderer.renderPlaceholder(X,et.data),vn.then(wn=>this.renderer.renderElement(wn,X,et.data,wt))}disposeTemplate(X){X.disposable&&(X.disposable.dispose(),X.disposable=void 0),X.data&&(this.renderer.disposeTemplate(X.data),X.data=void 0)}}class d{constructor(X,Ie){this.modelProvider=X,this.accessibilityProvider=Ie}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(X){const Ie=this.modelProvider();return Ie.isResolved(X)?this.accessibilityProvider.getAriaLabel(Ie.get(X)):null}}var b=a(1606),I=a(9040),p=a(1631),w=a(2844),E=a(4562),S=a(3012),v=a(1161),M=a(1710),_=a(6803),f=a(7143),m=a(5539),F=(a(3259),a(9740)),G=(()=>{return(Wt=G||(G={}))[Wt.Unknown=0]="Unknown",Wt[Wt.Twistie=1]="Twistie",Wt[Wt.Element=2]="Element",G;var Wt})();class Y extends Error{constructor(X,Ie){super(`TreeError [${X}] ${Ie}`)}}class de{constructor(X){this.fn=X,this._map=new WeakMap}map(X){let Ie=this._map.get(X);return Ie||(Ie=this.fn(X),this._map.set(X,Ie)),Ie}}var le=a(6595),ce=a(8426),be=a(759),N=a(9785),V=a(2398);function Z(Wt){return"object"==typeof Wt&&"visibility"in Wt&&"data"in Wt}function ie(Wt){switch(Wt){case!0:return 1;case!1:return 0;default:return Wt}}function ue(Wt){return"boolean"==typeof Wt.collapsible}class oe{constructor(X,Ie,et,wt={}){this.user=X,this.list=Ie,this.rootRef=[],this.eventBufferer=new $.E7,this._onDidChangeCollapseState=new $.Q5,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new $.Q5,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new $.Q5,this.onDidSplice=this._onDidSplice.event,this.collapseByDefault=void 0!==wt.collapseByDefault&&wt.collapseByDefault,this.filter=wt.filter,this.autoExpandSingleChildren=void 0!==wt.autoExpandSingleChildren&&wt.autoExpandSingleChildren,this.root={parent:void 0,element:et,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(X,Ie,et=m.$.empty(),wt={}){if(0===X.length)throw new Y(this.user,"Invalid tree location");wt.diffIdentityProvider?this.spliceSmart(wt.diffIdentityProvider,X,Ie,et,wt):this.spliceSimple(X,Ie,et,wt)}spliceSmart(X,Ie,et,wt,Vt,Tt){var vn;void 0===wt&&(wt=m.$.empty()),void 0===Tt&&(Tt=null!==(vn=Vt.diffDepth)&&void 0!==vn?vn:0);const{parentNode:wn}=this.getParentNodeWithListIndex(Ie),Ln=[...wt],Rn=Ie[Ie.length-1],Gn=new V.Hs({getElements:()=>wn.children.map(di=>X.getId(di.element).toString())},{getElements:()=>[...wn.children.slice(0,Rn),...Ln,...wn.children.slice(Rn+et)].map(di=>X.getId(di.element).toString())}).ComputeDiff(!1);if(Gn.quitEarly)return this.spliceSimple(Ie,et,Ln,Vt);const ei=Ie.slice(0,-1),Xn=(di,Hi,js)=>{if(Tt>0)for(let Rs=0;Rs<js;Rs++)di--,Hi--,this.spliceSmart(X,[...ei,di,0],Number.MAX_SAFE_INTEGER,Ln[Hi].children,Vt,Tt-1)};let Sn=Math.min(wn.children.length,Rn+et),Qn=Ln.length;for(const di of Gn.changes.sort((Hi,js)=>js.originalStart-Hi.originalStart))Xn(Sn,Qn,Sn-(di.originalStart+di.originalLength)),Sn=di.originalStart,Qn=di.modifiedStart-Rn,this.spliceSimple([...ei,Sn],di.originalLength,m.$.slice(Ln,Qn,Qn+di.modifiedLength),Vt);Xn(Sn,Qn,Sn)}spliceSimple(X,Ie,et=m.$.empty(),{onDidCreateNode:wt,onDidDeleteNode:Vt}){const{parentNode:Tt,listIndex:vn,revealed:wn,visible:Ln}=this.getParentNodeWithListIndex(X),Rn=[],Gn=m.$.map(et,Ms=>this.createTreeNode(Ms,Tt,Tt.visible?1:0,wn,Rn,wt)),ei=X[X.length-1],Xn=Tt.children.length>0;let Sn=0;for(let Ms=ei;Ms>=0&&Ms<Tt.children.length;Ms--){const fo=Tt.children[Ms];if(fo.visible){Sn=fo.visibleChildIndex;break}}const Qn=[];let di=0,Hi=0;for(const Ms of Gn)Qn.push(Ms),Hi+=Ms.renderNodeCount,Ms.visible&&(Ms.visibleChildIndex=Sn+di++);const js=Tt.children.splice(ei,Ie,...Qn);let Rs=0;for(const Ms of js)Ms.visible&&Rs++;if(0!==Rs)for(let Ms=ei+Qn.length;Ms<Tt.children.length;Ms++){const fo=Tt.children[Ms];fo.visible&&(fo.visibleChildIndex-=Rs)}if(Tt.visibleChildrenCount+=di-Rs,wn&&Ln){const Ms=js.reduce((fo,zi)=>fo+(zi.visible?zi.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(Tt,Hi-Ms),this.list.splice(vn,Ms,Rn)}if(js.length>0&&Vt){const Ms=fo=>{Vt(fo),fo.children.forEach(Ms)};js.forEach(Ms)}const Ks=Tt.children.length>0;Xn!==Ks&&this.setCollapsible(X.slice(0,-1),Ks),this._onDidSplice.fire({insertedNodes:Qn,deletedNodes:js});let os=Tt;for(;os;){if(2===os.visibility){this.refilter();break}os=os.parent}}rerender(X){if(0===X.length)throw new Y(this.user,"Invalid tree location");const{node:Ie,listIndex:et,revealed:wt}=this.getTreeNodeWithListIndex(X);Ie.visible&&wt&&this.list.splice(et,1,[Ie])}has(X){return this.hasTreeNode(X)}getListIndex(X){const{listIndex:Ie,visible:et,revealed:wt}=this.getTreeNodeWithListIndex(X);return et&&wt?Ie:-1}getListRenderCount(X){return this.getTreeNode(X).renderNodeCount}isCollapsible(X){return this.getTreeNode(X).collapsible}setCollapsible(X,Ie){const et=this.getTreeNode(X);void 0===Ie&&(Ie=!et.collapsible);const wt={collapsible:Ie};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(X,wt))}isCollapsed(X){return this.getTreeNode(X).collapsed}setCollapsed(X,Ie,et){const wt=this.getTreeNode(X);void 0===Ie&&(Ie=!wt.collapsed);const Vt={collapsed:Ie,recursive:et||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(X,Vt))}_setCollapseState(X,Ie){const{node:et,listIndex:wt,revealed:Vt}=this.getTreeNodeWithListIndex(X),Tt=this._setListNodeCollapseState(et,wt,Vt,Ie);if(et!==this.root&&this.autoExpandSingleChildren&&Tt&&!ue(Ie)&&et.collapsible&&!et.collapsed&&!Ie.recursive){let vn=-1;for(let wn=0;wn<et.children.length;wn++)if(et.children[wn].visible){if(vn>-1){vn=-1;break}vn=wn}vn>-1&&this._setCollapseState([...X,vn],Ie)}return Tt}_setListNodeCollapseState(X,Ie,et,wt){const Vt=this._setNodeCollapseState(X,wt,!1);if(!et||!X.visible||!Vt)return Vt;const Tt=X.renderNodeCount,vn=this.updateNodeAfterCollapseChange(X);return this.list.splice(Ie+1,Tt-(-1===Ie?0:1),vn.slice(1)),Vt}_setNodeCollapseState(X,Ie,et){let wt;if(X===this.root?wt=!1:(ue(Ie)?(wt=X.collapsible!==Ie.collapsible,X.collapsible=Ie.collapsible):X.collapsible?(wt=X.collapsed!==Ie.collapsed,X.collapsed=Ie.collapsed):wt=!1,wt&&this._onDidChangeCollapseState.fire({node:X,deep:et})),!ue(Ie)&&Ie.recursive)for(const Vt of X.children)wt=this._setNodeCollapseState(Vt,Ie,!0)||wt;return wt}expandTo(X){this.eventBufferer.bufferEvents(()=>{let Ie=this.getTreeNode(X);for(;Ie.parent;)Ie=Ie.parent,X=X.slice(0,X.length-1),Ie.collapsed&&this._setCollapseState(X,{collapsed:!1,recursive:!1})})}refilter(){const X=this.root.renderNodeCount,Ie=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,X,Ie)}createTreeNode(X,Ie,et,wt,Vt,Tt){const vn={parent:Ie,element:X.element,children:[],depth:Ie.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:"boolean"==typeof X.collapsible?X.collapsible:void 0!==X.collapsed,collapsed:void 0===X.collapsed?this.collapseByDefault:X.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},wn=this._filterNode(vn,et);vn.visibility=wn,wt&&Vt.push(vn);const Ln=X.children||m.$.empty(),Rn=wt&&0!==wn&&!vn.collapsed,Gn=m.$.map(Ln,Sn=>this.createTreeNode(Sn,vn,wn,Rn,Vt,Tt));let ei=0,Xn=1;for(const Sn of Gn)vn.children.push(Sn),Xn+=Sn.renderNodeCount,Sn.visible&&(Sn.visibleChildIndex=ei++);return vn.collapsible=vn.collapsible||vn.children.length>0,vn.visibleChildrenCount=ei,vn.visible=2===wn?ei>0:1===wn,vn.visible?vn.collapsed||(vn.renderNodeCount=Xn):(vn.renderNodeCount=0,wt&&Vt.pop()),Tt&&Tt(vn),vn}updateNodeAfterCollapseChange(X){const Ie=X.renderNodeCount,et=[];return this._updateNodeAfterCollapseChange(X,et),this._updateAncestorsRenderNodeCount(X.parent,et.length-Ie),et}_updateNodeAfterCollapseChange(X,Ie){if(!1===X.visible)return 0;if(Ie.push(X),X.renderNodeCount=1,!X.collapsed)for(const et of X.children)X.renderNodeCount+=this._updateNodeAfterCollapseChange(et,Ie);return this._onDidChangeRenderNodeCount.fire(X),X.renderNodeCount}updateNodeAfterFilterChange(X){const Ie=X.renderNodeCount,et=[];return this._updateNodeAfterFilterChange(X,X.visible?1:0,et),this._updateAncestorsRenderNodeCount(X.parent,et.length-Ie),et}_updateNodeAfterFilterChange(X,Ie,et,wt=!0){let Vt;if(X!==this.root){if(Vt=this._filterNode(X,Ie),0===Vt)return X.visible=!1,X.renderNodeCount=0,!1;wt&&et.push(X)}const Tt=et.length;X.renderNodeCount=X===this.root?0:1;let vn=!1;if(X.collapsed&&0===Vt)X.visibleChildrenCount=0;else{let wn=0;for(const Ln of X.children)vn=this._updateNodeAfterFilterChange(Ln,Vt,et,wt&&!X.collapsed)||vn,Ln.visible&&(Ln.visibleChildIndex=wn++);X.visibleChildrenCount=wn}return X!==this.root&&(X.visible=2===Vt?vn:1===Vt),X.visible?X.collapsed||(X.renderNodeCount+=et.length-Tt):(X.renderNodeCount=0,wt&&et.pop()),this._onDidChangeRenderNodeCount.fire(X),X.visible}_updateAncestorsRenderNodeCount(X,Ie){if(0!==Ie)for(;X;)X.renderNodeCount+=Ie,this._onDidChangeRenderNodeCount.fire(X),X=X.parent}_filterNode(X,Ie){const et=this.filter?this.filter.filter(X.element,Ie):1;return"boolean"==typeof et?(X.filterData=void 0,et?1:0):Z(et)?(X.filterData=et.data,ie(et.visibility)):(X.filterData=void 0,ie(et))}hasTreeNode(X,Ie=this.root){if(!X||0===X.length)return!0;const[et,...wt]=X;return!(et<0||et>Ie.children.length)&&this.hasTreeNode(wt,Ie.children[et])}getTreeNode(X,Ie=this.root){if(!X||0===X.length)return Ie;const[et,...wt]=X;if(et<0||et>Ie.children.length)throw new Y(this.user,"Invalid tree location");return this.getTreeNode(wt,Ie.children[et])}getTreeNodeWithListIndex(X){if(0===X.length)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:Ie,listIndex:et,revealed:wt,visible:Vt}=this.getParentNodeWithListIndex(X),Tt=X[X.length-1];if(Tt<0||Tt>Ie.children.length)throw new Y(this.user,"Invalid tree location");const vn=Ie.children[Tt];return{node:vn,listIndex:et,revealed:wt,visible:Vt&&vn.visible}}getParentNodeWithListIndex(X,Ie=this.root,et=0,wt=!0,Vt=!0){const[Tt,...vn]=X;if(Tt<0||Tt>Ie.children.length)throw new Y(this.user,"Invalid tree location");for(let wn=0;wn<Tt;wn++)et+=Ie.children[wn].renderNodeCount;return wt=wt&&!Ie.collapsed,Vt=Vt&&Ie.visible,0===vn.length?{parentNode:Ie,listIndex:et,revealed:wt,visible:Vt}:this.getParentNodeWithListIndex(vn,Ie.children[Tt],et+1,wt,Vt)}getNode(X=[]){return this.getTreeNode(X)}getNodeLocation(X){const Ie=[];let et=X;for(;et.parent;)Ie.push(et.parent.children.indexOf(et)),et=et.parent;return Ie.reverse()}getParentNodeLocation(X){if(0!==X.length)return 1===X.length?[]:(0,O.JH)(X)[0]}}var ee=a(7922),K=a(9190),ne=a(1902),he=a(5252),ge=a(521);const re=(0,ge.CM)("tree-item-expanded",ge.lA.chevronDown),ye=(0,ge.CM)("tree-filter-on-type-on",ge.lA.listFilter),ke=(0,ge.CM)("tree-filter-on-type-off",ge.lA.listSelection),xe=(0,ge.CM)("tree-filter-clear",ge.lA.close),Pe=(0,ge.CM)("tree-item-loading",ge.lA.loading);class fe extends ce.kX{constructor(X){super(X.elements.map(Ie=>Ie.element)),this.data=X}}function Te(Wt){return Wt instanceof ce.kX?new fe(Wt):Wt}class Ce{constructor(X,Ie){this.modelProvider=X,this.dnd=Ie,this.autoExpandDisposable=j.JT.None}getDragURI(X){return this.dnd.getDragURI(X.element)}getDragLabel(X,Ie){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(X.map(et=>et.element),Ie)}onDragStart(X,Ie){this.dnd.onDragStart&&this.dnd.onDragStart(Te(X),Ie)}onDragOver(X,Ie,et,wt,Vt=!0){const Tt=this.dnd.onDragOver(Te(X),Ie&&Ie.element,et,wt),vn=this.autoExpandNode!==Ie;if(vn&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=Ie),void 0===Ie)return Tt;if(vn&&"boolean"!=typeof Tt&&Tt.autoExpand&&(this.autoExpandDisposable=(0,ee.Vg)(()=>{const ei=this.modelProvider(),Xn=ei.getNodeLocation(Ie);ei.isCollapsed(Xn)&&ei.setCollapsed(Xn,!1),this.autoExpandNode=void 0},500)),"boolean"==typeof Tt||!Tt.accept||void 0===Tt.bubble||Tt.feedback)return Vt?Tt:{accept:"boolean"==typeof Tt?Tt:Tt.accept,effect:"boolean"==typeof Tt?void 0:Tt.effect,feedback:[et]};if(1===Tt.bubble){const ei=this.modelProvider(),Xn=ei.getNodeLocation(Ie),Sn=ei.getParentNodeLocation(Xn),Qn=ei.getNode(Sn),di=Sn&&ei.getListIndex(Sn);return this.onDragOver(X,Qn,di,wt,!1)}const wn=this.modelProvider(),Ln=wn.getNodeLocation(Ie),Rn=wn.getListIndex(Ln),Gn=wn.getListRenderCount(Ln);return Object.assign(Object.assign({},Tt),{feedback:(0,O.w6)(Rn,Rn+Gn)})}drop(X,Ie,et,wt){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(Te(X),Ie&&Ie.element,et,wt)}onDragEnd(X){this.dnd.onDragEnd&&this.dnd.onDragEnd(X)}}class pe{constructor(X){this.delegate=X}getHeight(X){return this.delegate.getHeight(X.element)}getTemplateId(X){return this.delegate.getTemplateId(X.element)}hasDynamicHeight(X){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(X.element)}setDynamicHeight(X,Ie){this.delegate.setDynamicHeight&&this.delegate.setDynamicHeight(X.element,Ie)}}var Ve=(()=>{return(Wt=Ve||(Ve={})).None="none",Wt.OnHover="onHover",Wt.Always="always",Ve;var Wt})();class Ae{constructor(X,Ie=[]){this._elements=Ie,this.onDidChange=$.ju.forEach(X,et=>this._elements=et)}get elements(){return this._elements}}let Ee=(()=>{class Wt{constructor(Ie,et,wt,Vt,Tt={}){this.renderer=Ie,this.modelProvider=et,this.activeNodes=Vt,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=Wt.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.renderedIndentGuides=new he.r,this.activeIndentNodes=new Set,this.indentGuidesDisposable=j.JT.None,this.disposables=new j.SL,this.templateId=Ie.templateId,this.updateOptions(Tt),$.ju.map(wt,vn=>vn.node)(this.onDidChangeNodeTwistieState,this,this.disposables),Ie.onDidChangeTwistieState&&Ie.onDidChangeTwistieState(this.onDidChangeTwistieState,this,this.disposables)}updateOptions(Ie={}){if(void 0!==Ie.indent&&(this.indent=(0,ne.u)(Ie.indent,0,40)),void 0!==Ie.renderIndentGuides){const et=Ie.renderIndentGuides!==Ve.None;if(et!==this.shouldRenderIndentGuides&&(this.shouldRenderIndentGuides=et,this.indentGuidesDisposable.dispose(),et)){const wt=new j.SL;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,wt),this.indentGuidesDisposable=wt,this._onDidChangeActiveNodes(this.activeNodes.elements)}}void 0!==Ie.hideTwistiesOfChildlessElements&&(this.hideTwistiesOfChildlessElements=Ie.hideTwistiesOfChildlessElements)}renderTemplate(Ie){const et=(0,T.R3)(Ie,(0,T.$)(".monaco-tl-row")),wt=(0,T.R3)(et,(0,T.$)(".monaco-tl-indent")),Vt=(0,T.R3)(et,(0,T.$)(".monaco-tl-twistie")),Tt=(0,T.R3)(et,(0,T.$)(".monaco-tl-contents")),vn=this.renderer.renderTemplate(Tt);return{container:Ie,indent:wt,twistie:Vt,indentGuidesDisposable:j.JT.None,templateData:vn}}renderElement(Ie,et,wt,Vt){"number"==typeof Vt&&(this.renderedNodes.set(Ie,{templateData:wt,height:Vt}),this.renderedElements.set(Ie.element,Ie));const Tt=Wt.DefaultIndent+(Ie.depth-1)*this.indent;wt.twistie.style.paddingLeft=`${Tt}px`,wt.indent.style.width=Tt+this.indent-16+"px",this.renderTwistie(Ie,wt),"number"==typeof Vt&&this.renderIndentGuides(Ie,wt),this.renderer.renderElement(Ie,et,wt.templateData,Vt)}disposeElement(Ie,et,wt,Vt){wt.indentGuidesDisposable.dispose(),this.renderer.disposeElement&&this.renderer.disposeElement(Ie,et,wt.templateData,Vt),"number"==typeof Vt&&(this.renderedNodes.delete(Ie),this.renderedElements.delete(Ie.element))}disposeTemplate(Ie){this.renderer.disposeTemplate(Ie.templateData)}onDidChangeTwistieState(Ie){const et=this.renderedElements.get(Ie);!et||this.onDidChangeNodeTwistieState(et)}onDidChangeNodeTwistieState(Ie){const et=this.renderedNodes.get(Ie);!et||(this.renderTwistie(Ie,et.templateData),this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderIndentGuides(Ie,et.templateData))}renderTwistie(Ie,et){et.twistie.classList.remove(...re.classNamesArray);let wt=!1;this.renderer.renderTwistie&&(wt=this.renderer.renderTwistie(Ie.element,et.twistie)),Ie.collapsible&&(!this.hideTwistiesOfChildlessElements||Ie.visibleChildrenCount>0)?(wt||et.twistie.classList.add(...re.classNamesArray),et.twistie.classList.add("collapsible"),et.twistie.classList.toggle("collapsed",Ie.collapsed)):et.twistie.classList.remove("collapsible","collapsed"),Ie.collapsible?et.container.setAttribute("aria-expanded",String(!Ie.collapsed)):et.container.removeAttribute("aria-expanded")}renderIndentGuides(Ie,et){if((0,T.PO)(et.indent),et.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const wt=new j.SL,Vt=this.modelProvider();let Tt=Ie;for(;;){const vn=Vt.getNodeLocation(Tt),wn=Vt.getParentNodeLocation(vn);if(!wn)break;const Ln=Vt.getNode(wn),Rn=(0,T.$)(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(Ln)&&Rn.classList.add("active"),0===et.indent.childElementCount?et.indent.appendChild(Rn):et.indent.insertBefore(Rn,et.indent.firstElementChild),this.renderedIndentGuides.add(Ln,Rn),wt.add((0,j.OF)(()=>this.renderedIndentGuides.delete(Ln,Rn))),Tt=Ln}et.indentGuidesDisposable=wt}_onDidChangeActiveNodes(Ie){if(!this.shouldRenderIndentGuides)return;const et=new Set,wt=this.modelProvider();Ie.forEach(Vt=>{const Tt=wt.getNodeLocation(Vt);try{const vn=wt.getParentNodeLocation(Tt);Vt.collapsible&&Vt.children.length>0&&!Vt.collapsed?et.add(Vt):vn&&et.add(wt.getNode(vn))}catch(vn){}}),this.activeIndentNodes.forEach(Vt=>{et.has(Vt)||this.renderedIndentGuides.forEach(Vt,Tt=>Tt.classList.remove("active"))}),et.forEach(Vt=>{this.activeIndentNodes.has(Vt)||this.renderedIndentGuides.forEach(Vt,Tt=>Tt.classList.add("active"))}),this.activeIndentNodes=et}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),(0,j.B9)(this.disposables)}}return Wt.DefaultIndent=8,Wt})();class ze{constructor(X,Ie,et){this.tree=X,this.keyboardNavigationLabelProvider=Ie,this._filter=et,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new j.SL,X.onWillRefilter(this.reset,this,this.disposables)}get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}set pattern(X){this._pattern=X,this._lowercasePattern=X.toLowerCase()}filter(X,Ie){if(this._filter){const Vt=this._filter.filter(X,Ie);if(this.tree.options.simpleKeyboardNavigation)return Vt;let Tt;if(Tt="boolean"==typeof Vt?Vt?1:0:Z(Vt)?ie(Vt.visibility):Vt,0===Tt)return!1}if(this._totalCount++,this.tree.options.simpleKeyboardNavigation||!this._pattern)return this._matchCount++,{data:N.CL.Default,visibility:!0};const et=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(X),wt=Array.isArray(et)?et:[et];for(const Vt of wt){const Tt=Vt&&Vt.toString();if(void 0===Tt)return{data:N.CL.Default,visibility:!0};const vn=(0,N.EW)(this._pattern,this._lowercasePattern,0,Tt,Tt.toLowerCase(),0,!0);if(vn)return this._matchCount++,1===wt.length?{data:vn,visibility:!0}:{data:{label:Tt,score:vn},visibility:!0}}return this.tree.options.filterOnType?2:{data:N.CL.Default,visibility:!0}}reset(){this._totalCount=0,this._matchCount=0}dispose(){(0,j.B9)(this.disposables)}}class Be{constructor(X,Ie,et,wt,Vt){this.tree=X,this.view=et,this.filter=wt,this.keyboardNavigationDelegate=Vt,this._enabled=!1,this._pattern="",this._empty=!1,this._onDidChangeEmptyState=new $.Q5,this.positionClassName="ne",this.automaticKeyboardNavigation=!0,this.triggered=!1,this._onDidChangePattern=new $.Q5,this.enabledDisposables=new j.SL,this.disposables=new j.SL,this.domNode=(0,T.$)(`.monaco-list-type-filter.${this.positionClassName}`),this.domNode.draggable=!0,this.disposables.add((0,T.nm)(this.domNode,"dragstart",()=>this.onDragStart())),this.messageDomNode=(0,T.R3)(et.getHTMLElement(),(0,T.$)(".monaco-list-type-filter-message")),this.labelDomNode=(0,T.R3)(this.domNode,(0,T.$)("span.label"));const Tt=(0,T.R3)(this.domNode,(0,T.$)(".controls"));this._filterOnType=!!X.options.filterOnType,this.filterOnTypeDomNode=(0,T.R3)(Tt,(0,T.$)("input.filter")),this.filterOnTypeDomNode.type="checkbox",this.filterOnTypeDomNode.checked=this._filterOnType,this.filterOnTypeDomNode.tabIndex=-1,this.updateFilterOnTypeTitleAndIcon(),this.disposables.add((0,T.nm)(this.filterOnTypeDomNode,"input",()=>this.onDidChangeFilterOnType())),this.clearDomNode=(0,T.R3)(Tt,(0,T.$)("button.clear"+xe.cssSelector)),this.clearDomNode.tabIndex=-1,this.clearDomNode.title=(0,b.N)("clear","Clear"),this.keyboardNavigationEventFilter=X.options.keyboardNavigationEventFilter,Ie.onDidSplice(this.onDidSpliceModel,this,this.disposables),this.updateOptions(X.options)}get enabled(){return this._enabled}get pattern(){return this._pattern}get filterOnType(){return this._filterOnType}updateOptions(X){X.simpleKeyboardNavigation?this.disable():this.enable(),void 0!==X.filterOnType&&(this._filterOnType=!!X.filterOnType,this.filterOnTypeDomNode.checked=this._filterOnType,this.updateFilterOnTypeTitleAndIcon()),void 0!==X.automaticKeyboardNavigation&&(this.automaticKeyboardNavigation=X.automaticKeyboardNavigation),this.tree.refilter(),this.render(),this.automaticKeyboardNavigation||this.onEventOrInput("")}enable(){if(this._enabled)return;const X=this.enabledDisposables.add(new be.Y(this.view.getHTMLElement(),"keydown")),Ie=$.ju.chain(X.event).filter(wt=>!(0,k.cK)(wt.target)||wt.target===this.filterOnTypeDomNode).filter(wt=>"Dead"!==wt.key&&!/^Media/.test(wt.key)).map(wt=>new F.y(wt)).filter(this.keyboardNavigationEventFilter||(()=>!0)).filter(()=>this.automaticKeyboardNavigation||this.triggered).filter(wt=>this.keyboardNavigationDelegate.mightProducePrintableCharacter(wt)&&!(18===wt.keyCode||16===wt.keyCode||15===wt.keyCode||17===wt.keyCode)||(this.pattern.length>0||this.triggered)&&(9===wt.keyCode||1===wt.keyCode)&&!wt.altKey&&!wt.ctrlKey&&!wt.metaKey||1===wt.keyCode&&(K.dz?wt.altKey&&!wt.metaKey:wt.ctrlKey)&&!wt.shiftKey).forEach(wt=>{wt.stopPropagation(),wt.preventDefault()}).event,et=this.enabledDisposables.add(new be.Y(this.clearDomNode,"click"));$.ju.chain($.ju.any(Ie,et.event)).event(this.onEventOrInput,this,this.enabledDisposables),this.filter.pattern="",this.tree.refilter(),this.render(),this._enabled=!0,this.triggered=!1}disable(){!this._enabled||(this.domNode.remove(),this.enabledDisposables.clear(),this.tree.refilter(),this.render(),this._enabled=!1,this.triggered=!1)}onEventOrInput(X){"string"==typeof X?this.onInput(X):X instanceof MouseEvent||9===X.keyCode||1===X.keyCode&&(K.dz?X.altKey:X.ctrlKey)?this.onInput(""):this.onInput(1===X.keyCode?0===this.pattern.length?"":this.pattern.substr(0,this.pattern.length-1):this.pattern+X.browserEvent.key)}onInput(X){const Ie=this.view.getHTMLElement();X&&!this.domNode.parentElement?Ie.append(this.domNode):!X&&this.domNode.parentElement&&(this.domNode.remove(),this.tree.domFocus()),this._pattern=X,this._onDidChangePattern.fire(X),this.filter.pattern=X,this.tree.refilter(),X&&this.tree.focusNext(0,!0,void 0,wt=>!N.CL.isDefault(wt.filterData));const et=this.tree.getFocus();if(et.length>0){const wt=et[0];null===this.tree.getRelativeTop(wt)&&this.tree.reveal(wt,.5)}this.render(),X||(this.triggered=!1)}onDragStart(){const X=this.view.getHTMLElement(),{left:Ie}=(0,T.i)(X),et=X.clientWidth,wt=et/2,Vt=this.domNode.clientWidth,Tt=new j.SL;let vn=this.positionClassName;const wn=()=>{switch(vn){case"nw":this.domNode.style.top="4px",this.domNode.style.left="4px";break;case"ne":this.domNode.style.top="4px",this.domNode.style.left=et-Vt-6+"px"}},Rn=()=>{this.positionClassName=vn,this.domNode.className=`monaco-list-type-filter ${this.positionClassName}`,this.domNode.style.top="",this.domNode.style.left="",(0,j.B9)(Tt)};wn(),this.domNode.classList.remove(vn),this.domNode.classList.add("dragging"),Tt.add((0,j.OF)(()=>this.domNode.classList.remove("dragging"))),Tt.add((0,T.nm)(document,"dragover",Gn=>(Gn=>{Gn.preventDefault();const ei=Gn.clientX-Ie;Gn.dataTransfer&&(Gn.dataTransfer.dropEffect="none"),vn=ei<wt?"nw":"ne",wn()})(Gn))),Tt.add((0,T.nm)(this.domNode,"dragend",()=>Rn())),le.P$.CurrentDragAndDropData=new le.TN("vscode-ui"),Tt.add((0,j.OF)(()=>le.P$.CurrentDragAndDropData=void 0))}onDidSpliceModel(){!this._enabled||0===this.pattern.length||(this.tree.refilter(),this.render())}onDidChangeFilterOnType(){this.tree.updateOptions({filterOnType:this.filterOnTypeDomNode.checked}),this.tree.refilter(),this.tree.domFocus(),this.render(),this.updateFilterOnTypeTitleAndIcon()}updateFilterOnTypeTitleAndIcon(){this.filterOnType?(this.filterOnTypeDomNode.classList.remove(...ke.classNamesArray),this.filterOnTypeDomNode.classList.add(...ye.classNamesArray),this.filterOnTypeDomNode.title=(0,b.N)("disable filter on type","Disable Filter on Type")):(this.filterOnTypeDomNode.classList.remove(...ye.classNamesArray),this.filterOnTypeDomNode.classList.add(...ke.classNamesArray),this.filterOnTypeDomNode.title=(0,b.N)("enable filter on type","Enable Filter on Type"))}render(){const X=this.filter.totalCount>0&&0===this.filter.matchCount;this.pattern&&this.tree.options.filterOnType&&X?(this.messageDomNode.textContent=(0,b.N)("empty","No elements found"),this._empty=!0):(this.messageDomNode.innerText="",this._empty=!1),this.domNode.classList.toggle("no-matches",X),this.domNode.title=(0,b.N)("found","Matched {0} out of {1} elements",this.filter.matchCount,this.filter.totalCount),this.labelDomNode.textContent=this.pattern.length>16?"\u2026"+this.pattern.substr(this.pattern.length-16):this.pattern,this._onDidChangeEmptyState.fire(this._empty)}shouldAllowFocus(X){return!(this.enabled&&this.pattern&&!this.filterOnType&&!(this.filter.totalCount>0&&this.filter.matchCount<=1)&&N.CL.isDefault(X.filterData))}dispose(){this._enabled&&(this.domNode.remove(),this.enabledDisposables.dispose(),this._enabled=!1,this.triggered=!1),this._onDidChangePattern.dispose(),(0,j.B9)(this.disposables)}}function Ue(Wt){let X=G.Unknown;return(0,T.uU)(Wt.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?X=G.Twistie:(0,T.uU)(Wt.browserEvent.target,"monaco-tl-contents","monaco-tl-row")&&(X=G.Element),{browserEvent:Wt.browserEvent,element:Wt.element?Wt.element.element:null,target:X}}function ot(Wt,X){X(Wt),Wt.children.forEach(Ie=>ot(Ie,X))}class vt{constructor(X,Ie){this.getFirstViewElementWithTrait=X,this.identityProvider=Ie,this.nodes=[],this._onDidChange=new $.Q5,this.onDidChange=this._onDidChange.event}get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}set(X,Ie){var et;!(null===(et=Ie)||void 0===et?void 0:et.__forceEvent)&&(0,O.fS)(this.nodes,X)||this._set(X,!1,Ie)}_set(X,Ie,et){if(this.nodes=[...X],this.elements=void 0,this._nodeSet=void 0,!Ie){const wt=this;this._onDidChange.fire({get elements(){return wt.get()},browserEvent:et})}}get(){return this.elements||(this.elements=this.nodes.map(X=>X.element)),[...this.elements]}getNodes(){return this.nodes}has(X){return this.nodeSet.has(X)}onDidModelSplice({insertedNodes:X,deletedNodes:Ie}){if(!this.identityProvider){const wn=this.createNodeSet(),Ln=Rn=>wn.delete(Rn);return Ie.forEach(Rn=>ot(Rn,Ln)),void this.set([...wn.values()])}const et=new Set,wt=wn=>et.add(this.identityProvider.getId(wn.element).toString());Ie.forEach(wn=>ot(wn,wt));const Vt=new Map,Tt=wn=>Vt.set(this.identityProvider.getId(wn.element).toString(),wn);X.forEach(wn=>ot(wn,Tt));const vn=[];for(const wn of this.nodes){const Ln=this.identityProvider.getId(wn.element).toString();if(et.has(Ln)){const Gn=Vt.get(Ln);Gn&&vn.push(Gn)}else vn.push(wn)}if(this.nodes.length>0&&0===vn.length){const wn=this.getFirstViewElementWithTrait();wn&&vn.push(wn)}this._set(vn,!0)}createNodeSet(){const X=new Set;for(const Ie of this.nodes)X.add(Ie);return X}}class At extends k.sx{constructor(X,Ie){super(X),this.tree=Ie}onViewPointer(X){if((0,k.cK)(X.browserEvent.target)||(0,k.hD)(X.browserEvent.target))return;const Ie=X.element;if(!Ie)return super.onViewPointer(X);if(this.isSelectionRangeChangeEvent(X)||this.isSelectionSingleChangeEvent(X))return super.onViewPointer(X);const et=X.browserEvent.target,wt=et.classList.contains("monaco-tl-twistie")||et.classList.contains("monaco-icon-label")&&et.classList.contains("folder-icon")&&X.browserEvent.offsetX<16;let Vt=!1;if(Vt="function"==typeof this.tree.expandOnlyOnTwistieClick?this.tree.expandOnlyOnTwistieClick(Ie.element):!!this.tree.expandOnlyOnTwistieClick,Vt&&!wt&&2!==X.browserEvent.detail)return super.onViewPointer(X);if(!this.tree.expandOnDoubleClick&&2===X.browserEvent.detail)return super.onViewPointer(X);if(Ie.collapsible){const Tt=this.tree.model,vn=Tt.getNodeLocation(Ie),wn=X.browserEvent.altKey;if(this.tree.setFocus([vn]),Tt.setCollapsed(vn,void 0,wn),Vt&&wt)return}super.onViewPointer(X)}onDoubleClick(X){X.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.tree.expandOnDoubleClick||super.onDoubleClick(X)}}class ve extends k.aV{constructor(X,Ie,et,wt,Vt,Tt,vn,wn){super(X,Ie,et,wt,wn),this.focusTrait=Vt,this.selectionTrait=Tt,this.anchorTrait=vn}createMouseController(X){return new At(this,X.tree)}splice(X,Ie,et=[]){if(super.splice(X,Ie,et),0===et.length)return;const wt=[],Vt=[];let Tt;et.forEach((vn,wn)=>{this.focusTrait.has(vn)&&wt.push(X+wn),this.selectionTrait.has(vn)&&Vt.push(X+wn),this.anchorTrait.has(vn)&&(Tt=X+wn)}),wt.length>0&&super.setFocus((0,O.cU)([...super.getFocus(),...wt])),Vt.length>0&&super.setSelection((0,O.cU)([...super.getSelection(),...Vt])),"number"==typeof Tt&&super.setAnchor(Tt)}setFocus(X,Ie,et=!1){super.setFocus(X,Ie),et||this.focusTrait.set(X.map(wt=>this.element(wt)),Ie)}setSelection(X,Ie,et=!1){super.setSelection(X,Ie),et||this.selectionTrait.set(X.map(wt=>this.element(wt)),Ie)}setAnchor(X,Ie=!1){super.setAnchor(X),Ie||this.anchorTrait.set(void 0===X?[]:[this.element(X)])}}class ht{constructor(X,Ie,et,wt,Vt={}){this._options=Vt,this.eventBufferer=new $.E7,this.disposables=new j.SL,this._onWillRefilter=new $.Q5,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new $.Q5;const Tt=new pe(et),vn=new $.ZD,wn=new $.ZD,Ln=new Ae(wn.event);this.renderers=wt.map(ei=>new Ee(ei,()=>this.model,vn.event,Ln,Vt));for(let ei of this.renderers)this.disposables.add(ei);let Rn;Vt.keyboardNavigationLabelProvider&&(Rn=new ze(this,Vt.keyboardNavigationLabelProvider,Vt.filter),Vt=Object.assign(Object.assign({},Vt),{filter:Rn}),this.disposables.add(Rn)),this.focus=new vt(()=>this.view.getFocusedElements()[0],Vt.identityProvider),this.selection=new vt(()=>this.view.getSelectedElements()[0],Vt.identityProvider),this.anchor=new vt(()=>this.view.getAnchorElement(),Vt.identityProvider),this.view=new ve(X,Ie,Tt,this.renderers,this.focus,this.selection,this.anchor,Object.assign(Object.assign({},function(Wt,X){return X&&Object.assign(Object.assign({},X),{identityProvider:X.identityProvider&&{getId:Ie=>X.identityProvider.getId(Ie.element)},dnd:X.dnd&&new Ce(Wt,X.dnd),multipleSelectionController:X.multipleSelectionController&&{isSelectionSingleChangeEvent:Ie=>X.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},Ie),{element:Ie.element})),isSelectionRangeChangeEvent:Ie=>X.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},Ie),{element:Ie.element}))},accessibilityProvider:X.accessibilityProvider&&Object.assign(Object.assign({},X.accessibilityProvider),{getSetSize(Ie){const et=Wt(),wt=et.getNodeLocation(Ie),Vt=et.getParentNodeLocation(wt);return et.getNode(Vt).visibleChildrenCount},getPosInSet:Ie=>Ie.visibleChildIndex+1,isChecked:X.accessibilityProvider&&X.accessibilityProvider.isChecked?Ie=>X.accessibilityProvider.isChecked(Ie.element):void 0,getRole:X.accessibilityProvider&&X.accessibilityProvider.getRole?Ie=>X.accessibilityProvider.getRole(Ie.element):()=>"treeitem",getAriaLabel:Ie=>X.accessibilityProvider.getAriaLabel(Ie.element),getWidgetAriaLabel:()=>X.accessibilityProvider.getWidgetAriaLabel(),getWidgetRole:X.accessibilityProvider&&X.accessibilityProvider.getWidgetRole?()=>X.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:X.accessibilityProvider&&X.accessibilityProvider.getAriaLevel?Ie=>X.accessibilityProvider.getAriaLevel(Ie.element):Ie=>Ie.depth,getActiveDescendantId:X.accessibilityProvider.getActiveDescendantId&&(Ie=>X.accessibilityProvider.getActiveDescendantId(Ie.element))}),keyboardNavigationLabelProvider:X.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},X.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel:Ie=>X.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(Ie.element)}),enableKeyboardNavigation:X.simpleKeyboardNavigation})}(()=>this.model,Vt)),{tree:this})),this.model=this.createModel(X,this.view,Vt),vn.input=this.model.onDidChangeCollapseState;const Gn=$.ju.forEach(this.model.onDidSplice,ei=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(ei),this.selection.onDidModelSplice(ei)})});if(Gn(()=>null,null,this.disposables),wn.input=$.ju.chain($.ju.any(Gn,this.focus.onDidChange,this.selection.onDidChange)).debounce(()=>null,0).map(()=>{const ei=new Set;for(const Xn of this.focus.getNodes())ei.add(Xn);for(const Xn of this.selection.getNodes())ei.add(Xn);return[...ei.values()]}).event,!1!==Vt.keyboardSupport){const ei=$.ju.chain(this.view.onKeyDown).filter(Xn=>!(0,k.cK)(Xn.target)).map(Xn=>new F.y(Xn));ei.filter(Xn=>15===Xn.keyCode).on(this.onLeftArrow,this,this.disposables),ei.filter(Xn=>17===Xn.keyCode).on(this.onRightArrow,this,this.disposables),ei.filter(Xn=>10===Xn.keyCode).on(this.onSpace,this,this.disposables)}Vt.keyboardNavigationLabelProvider&&(this.typeFilterController=new Be(this,this.model,this.view,Rn,Vt.keyboardNavigationDelegate||k.WK),this.focusNavigationFilter=Xn=>this.typeFilterController.shouldAllowFocus(Xn),this.disposables.add(this.typeFilterController)),this.styleElement=(0,T.dS)(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===Ve.Always)}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return $.ju.map(this.view.onMouseDblClick,Ue)}get onPointer(){return $.ju.map(this.view.onPointer,Ue)}get onDidFocus(){return this.view.onDidFocus}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get expandOnDoubleClick(){return void 0===this._options.expandOnDoubleClick||this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return void 0===this._options.expandOnlyOnTwistieClick||this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}updateOptions(X={}){this._options=Object.assign(Object.assign({},this._options),X);for(const Ie of this.renderers)Ie.updateOptions(X);this.view.updateOptions(Object.assign(Object.assign({},this._options),{enableKeyboardNavigation:this._options.simpleKeyboardNavigation})),this.typeFilterController&&this.typeFilterController.updateOptions(this._options),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===Ve.Always)}get options(){return this._options}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(X){this.view.scrollTop=X}domFocus(){this.view.domFocus()}layout(X,Ie){this.view.layout(X,Ie)}style(X){const Ie=`.${this.view.domId}`,et=[];X.treeIndentGuidesStroke&&(et.push(`.monaco-list${Ie}:hover .monaco-tl-indent > .indent-guide, .monaco-list${Ie}.always .monaco-tl-indent > .indent-guide  { border-color: ${X.treeIndentGuidesStroke.transparent(.4)}; }`),et.push(`.monaco-list${Ie} .monaco-tl-indent > .indent-guide.active { border-color: ${X.treeIndentGuidesStroke}; }`)),this.styleElement.textContent=et.join("\n"),this.view.style(X)}collapse(X,Ie=!1){return this.model.setCollapsed(X,!0,Ie)}expand(X,Ie=!1){return this.model.setCollapsed(X,!1,Ie)}isCollapsible(X){return this.model.isCollapsible(X)}setCollapsible(X,Ie){return this.model.setCollapsible(X,Ie)}isCollapsed(X){return this.model.isCollapsed(X)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(X,Ie){const et=X.map(Vt=>this.model.getNode(Vt));this.selection.set(et,Ie);const wt=X.map(Vt=>this.model.getListIndex(Vt)).filter(Vt=>Vt>-1);this.view.setSelection(wt,Ie,!0)}getSelection(){return this.selection.get()}setFocus(X,Ie){const et=X.map(Vt=>this.model.getNode(Vt));this.focus.set(et,Ie);const wt=X.map(Vt=>this.model.getListIndex(Vt)).filter(Vt=>Vt>-1);this.view.setFocus(wt,Ie,!0)}focusNext(X=1,Ie=!1,et,wt=this.focusNavigationFilter){this.view.focusNext(X,Ie,et,wt)}getFocus(){return this.focus.get()}reveal(X,Ie){this.model.expandTo(X);const et=this.model.getListIndex(X);-1!==et&&this.view.reveal(et,Ie)}getRelativeTop(X){const Ie=this.model.getListIndex(X);return-1===Ie?null:this.view.getRelativeTop(Ie)}onLeftArrow(X){X.preventDefault(),X.stopPropagation();const Ie=this.view.getFocusedElements();if(0===Ie.length)return;const wt=this.model.getNodeLocation(Ie[0]);if(!this.model.setCollapsed(wt,!0)){const Tt=this.model.getParentNodeLocation(wt);if(!Tt)return;const vn=this.model.getListIndex(Tt);this.view.reveal(vn),this.view.setFocus([vn])}}onRightArrow(X){X.preventDefault(),X.stopPropagation();const Ie=this.view.getFocusedElements();if(0===Ie.length)return;const et=Ie[0],wt=this.model.getNodeLocation(et);if(!this.model.setCollapsed(wt,!1)){if(!et.children.some(wn=>wn.visible))return;const[Tt]=this.view.getFocus(),vn=Tt+1;this.view.reveal(vn),this.view.setFocus([vn])}}onSpace(X){X.preventDefault(),X.stopPropagation();const Ie=this.view.getFocusedElements();if(0===Ie.length)return;const wt=this.model.getNodeLocation(Ie[0]);this.model.setCollapsed(wt,void 0,X.browserEvent.altKey)}dispose(){(0,j.B9)(this.disposables),this.view.dispose()}}class Ge{constructor(X,Ie,et={}){this.user=X,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new oe(X,Ie,null,et),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,et.sorter&&(this.sorter={compare:(wt,Vt)=>et.sorter.compare(wt.element,Vt.element)}),this.identityProvider=et.identityProvider}setChildren(X,Ie=m.$.empty(),et={}){const wt=this.getElementLocation(X);this._setChildren(wt,this.preserveCollapseState(Ie),et)}_setChildren(X,Ie=m.$.empty(),et){const wt=new Set,Vt=new Set;this.model.splice([...X,0],Number.MAX_VALUE,Ie,Object.assign(Object.assign({},et),{onDidCreateNode:wn=>{var Ln;if(null===wn.element)return;const Rn=wn;if(wt.add(Rn.element),this.nodes.set(Rn.element,Rn),this.identityProvider){const Gn=this.identityProvider.getId(Rn.element).toString();Vt.add(Gn),this.nodesByIdentity.set(Gn,Rn)}null===(Ln=et.onDidCreateNode)||void 0===Ln||Ln.call(et,Rn)},onDidDeleteNode:wn=>{var Ln;if(null===wn.element)return;const Rn=wn;if(wt.has(Rn.element)||this.nodes.delete(Rn.element),this.identityProvider){const Gn=this.identityProvider.getId(Rn.element).toString();Vt.has(Gn)||this.nodesByIdentity.delete(Gn)}null===(Ln=et.onDidDeleteNode)||void 0===Ln||Ln.call(et,Rn)}}))}preserveCollapseState(X=m.$.empty()){return this.sorter&&(X=[...X].sort(this.sorter.compare.bind(this.sorter))),m.$.map(X,Ie=>{let et=this.nodes.get(Ie.element);if(!et&&this.identityProvider){const Tt=this.identityProvider.getId(Ie.element).toString();et=this.nodesByIdentity.get(Tt)}if(!et)return Object.assign(Object.assign({},Ie),{children:this.preserveCollapseState(Ie.children)});const wt="boolean"==typeof Ie.collapsible?Ie.collapsible:et.collapsible,Vt=void 0!==Ie.collapsed?Ie.collapsed:et.collapsed;return Object.assign(Object.assign({},Ie),{collapsible:wt,collapsed:Vt,children:this.preserveCollapseState(Ie.children)})})}rerender(X){const Ie=this.getElementLocation(X);this.model.rerender(Ie)}has(X){return this.nodes.has(X)}getListIndex(X){const Ie=this.getElementLocation(X);return this.model.getListIndex(Ie)}getListRenderCount(X){const Ie=this.getElementLocation(X);return this.model.getListRenderCount(Ie)}isCollapsible(X){const Ie=this.getElementLocation(X);return this.model.isCollapsible(Ie)}setCollapsible(X,Ie){const et=this.getElementLocation(X);return this.model.setCollapsible(et,Ie)}isCollapsed(X){const Ie=this.getElementLocation(X);return this.model.isCollapsed(Ie)}setCollapsed(X,Ie,et){const wt=this.getElementLocation(X);return this.model.setCollapsed(wt,Ie,et)}expandTo(X){const Ie=this.getElementLocation(X);this.model.expandTo(Ie)}refilter(){this.model.refilter()}getNode(X=null){if(null===X)return this.model.getNode(this.model.rootRef);const Ie=this.nodes.get(X);if(!Ie)throw new Y(this.user,`Tree element not found: ${X}`);return Ie}getNodeLocation(X){return X.element}getParentNodeLocation(X){if(null===X)throw new Y(this.user,"Invalid getParentNodeLocation call");const Ie=this.nodes.get(X);if(!Ie)throw new Y(this.user,`Tree element not found: ${X}`);const et=this.model.getNodeLocation(Ie),wt=this.model.getParentNodeLocation(et);return this.model.getNode(wt).element}getElementLocation(X){if(null===X)return[];const Ie=this.nodes.get(X);if(!Ie)throw new Y(this.user,`Tree element not found: ${X}`);return this.model.getNodeLocation(Ie)}}function De(Wt){return{element:{elements:[Wt.element],incompressible:Wt.incompressible||!1},children:m.$.map(m.$.from(Wt.children),De),collapsible:Wt.collapsible,collapsed:Wt.collapsed}}function Le(Wt){const X=[Wt.element],Ie=Wt.incompressible||!1;let et,wt;for(;[wt,et]=m.$.consume(m.$.from(Wt.children),2),1===wt.length&&!wt[0].incompressible;)X.push((Wt=wt[0]).element);return{element:{elements:X,incompressible:Ie},children:m.$.map(m.$.concat(wt,et),Le),collapsible:Wt.collapsible,collapsed:Wt.collapsed}}function dt(Wt,X=0){let Ie;return Ie=X<Wt.element.elements.length-1?[dt(Wt,X+1)]:m.$.map(m.$.from(Wt.children),et=>dt(et,0)),0===X&&Wt.element.incompressible?{element:Wt.element.elements[X],children:Ie,incompressible:!0,collapsible:Wt.collapsible,collapsed:Wt.collapsed}:{element:Wt.element.elements[X],children:Ie,collapsible:Wt.collapsible,collapsed:Wt.collapsed}}function _t(Wt){return dt(Wt,0)}function Nt(Wt,X,Ie){return Object.assign(Object.assign({},Wt),Wt.element===X?{children:Ie}:{children:m.$.map(m.$.from(Wt.children),et=>Nt(et,X,Ie))})}class pn{constructor(X,Ie,et={}){this.user=X,this.rootRef=null,this.nodes=new Map,this.model=new Ge(X,Ie,et),this.enabled=void 0===et.compressionEnabled||et.compressionEnabled,this.identityProvider=et.identityProvider}get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}setChildren(X,Ie=m.$.empty(),et){const wt=et.diffIdentityProvider&&(Wt=et.diffIdentityProvider,{getId:X=>X.elements.map(Ie=>Wt.getId(Ie).toString()).join("\0")});var Wt;if(null===X){const Xn=m.$.map(Ie,this.enabled?Le:De);return void this._setChildren(null,Xn,{diffIdentityProvider:wt,diffDepth:1/0})}const Vt=this.nodes.get(X);if(!Vt)throw new Error("Unknown compressed tree node");const Tt=this.model.getNode(Vt),vn=this.model.getParentNodeLocation(Vt),wn=this.model.getNode(vn),Rn=Nt(_t(Tt),X,Ie),Gn=(this.enabled?Le:De)(Rn),ei=wn.children.map(Xn=>Xn===Tt?Gn:Xn);this._setChildren(wn.element,ei,{diffIdentityProvider:wt,diffDepth:Tt.depth-wn.depth})}setCompressionEnabled(X){if(X===this.enabled)return;this.enabled=X;const et=this.model.getNode().children,wt=m.$.map(et,_t),Vt=m.$.map(wt,X?Le:De);this._setChildren(null,Vt,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}_setChildren(X,Ie,et){const wt=new Set;this.model.setChildren(X,Ie,Object.assign(Object.assign({},et),{onDidCreateNode:vn=>{for(const wn of vn.element.elements)wt.add(wn),this.nodes.set(wn,vn.element)},onDidDeleteNode:vn=>{for(const wn of vn.element.elements)wt.has(wn)||this.nodes.delete(wn)}}))}has(X){return this.nodes.has(X)}getListIndex(X){const Ie=this.getCompressedNode(X);return this.model.getListIndex(Ie)}getListRenderCount(X){const Ie=this.getCompressedNode(X);return this.model.getListRenderCount(Ie)}getNode(X){if(void 0===X)return this.model.getNode();const Ie=this.getCompressedNode(X);return this.model.getNode(Ie)}getNodeLocation(X){const Ie=this.model.getNodeLocation(X);return null===Ie?null:Ie.elements[Ie.elements.length-1]}getParentNodeLocation(X){const Ie=this.getCompressedNode(X),et=this.model.getParentNodeLocation(Ie);return null===et?null:et.elements[et.elements.length-1]}isCollapsible(X){const Ie=this.getCompressedNode(X);return this.model.isCollapsible(Ie)}setCollapsible(X,Ie){const et=this.getCompressedNode(X);return this.model.setCollapsible(et,Ie)}isCollapsed(X){const Ie=this.getCompressedNode(X);return this.model.isCollapsed(Ie)}setCollapsed(X,Ie,et){const wt=this.getCompressedNode(X);return this.model.setCollapsed(wt,Ie,et)}expandTo(X){const Ie=this.getCompressedNode(X);this.model.expandTo(Ie)}rerender(X){const Ie=this.getCompressedNode(X);this.model.rerender(Ie)}refilter(){this.model.refilter()}getCompressedNode(X){if(null===X)return null;const Ie=this.nodes.get(X);if(!Ie)throw new Y(this.user,`Tree element not found: ${X}`);return Ie}}const Qt=Wt=>Wt[Wt.length-1];class Ht{constructor(X,Ie){this.unwrapper=X,this.node=Ie}get element(){return null===this.node.element?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(X=>new Ht(this.unwrapper,X))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class bt{constructor(X,Ie,et={}){this.rootRef=null,this.elementMapper=et.elementMapper||Qt;const wt=Vt=>this.elementMapper(Vt.elements);this.nodeMapper=new de(Vt=>new Ht(wt,Vt)),this.model=new pn(X,function(Wt,X){return{splice(Ie,et,wt){X.splice(Ie,et,wt.map(Vt=>Wt.map(Vt)))},updateElementHeight(Ie,et){X.updateElementHeight(Ie,et)}}}(this.nodeMapper,Ie),function(Wt,X){return Object.assign(Object.assign({},X),{identityProvider:X.identityProvider&&{getId:Ie=>X.identityProvider.getId(Wt(Ie))},sorter:X.sorter&&{compare:(Ie,et)=>X.sorter.compare(Ie.elements[0],et.elements[0])},filter:X.filter&&{filter:(Ie,et)=>X.filter.filter(Wt(Ie),et)}})}(wt,et))}get onDidSplice(){return $.ju.map(this.model.onDidSplice,({insertedNodes:X,deletedNodes:Ie})=>({insertedNodes:X.map(et=>this.nodeMapper.map(et)),deletedNodes:Ie.map(et=>this.nodeMapper.map(et))}))}get onDidChangeCollapseState(){return $.ju.map(this.model.onDidChangeCollapseState,({node:X,deep:Ie})=>({node:this.nodeMapper.map(X),deep:Ie}))}get onDidChangeRenderNodeCount(){return $.ju.map(this.model.onDidChangeRenderNodeCount,X=>this.nodeMapper.map(X))}setChildren(X,Ie=m.$.empty(),et={}){this.model.setChildren(X,Ie,et)}setCompressionEnabled(X){this.model.setCompressionEnabled(X)}has(X){return this.model.has(X)}getListIndex(X){return this.model.getListIndex(X)}getListRenderCount(X){return this.model.getListRenderCount(X)}getNode(X){return this.nodeMapper.map(this.model.getNode(X))}getNodeLocation(X){return X.element}getParentNodeLocation(X){return this.model.getParentNodeLocation(X)}isCollapsible(X){return this.model.isCollapsible(X)}setCollapsible(X,Ie){return this.model.setCollapsible(X,Ie)}isCollapsed(X){return this.model.isCollapsed(X)}setCollapsed(X,Ie,et){return this.model.setCollapsed(X,Ie,et)}expandTo(X){return this.model.expandTo(X)}rerender(X){return this.model.rerender(X)}refilter(){return this.model.refilter()}getCompressedTreeNode(X=null){return this.model.getNode(X)}}var Rt=a(9749);class Xe extends ht{constructor(X,Ie,et,wt,Vt={}){super(X,Ie,et,wt,Vt)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}setChildren(X,Ie=m.$.empty(),et){this.model.setChildren(X,Ie,et)}rerender(X){void 0!==X?this.model.rerender(X):this.view.rerender()}hasElement(X){return this.model.has(X)}createModel(X,Ie,et){return new Ge(X,Ie,et)}}class ft{constructor(X,Ie){this._compressedTreeNodeProvider=X,this.renderer=Ie,this.templateId=Ie.templateId,Ie.onDidChangeTwistieState&&(this.onDidChangeTwistieState=Ie.onDidChangeTwistieState)}get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}renderTemplate(X){return{compressedTreeNode:void 0,data:this.renderer.renderTemplate(X)}}renderElement(X,Ie,et,wt){const Vt=this.compressedTreeNodeProvider.getCompressedTreeNode(X.element);1===Vt.element.elements.length?(et.compressedTreeNode=void 0,this.renderer.renderElement(X,Ie,et.data,wt)):(et.compressedTreeNode=Vt,this.renderer.renderCompressedElements(Vt,Ie,et.data,wt))}disposeElement(X,Ie,et,wt){et.compressedTreeNode?this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(et.compressedTreeNode,Ie,et.data,wt):this.renderer.disposeElement&&this.renderer.disposeElement(X,Ie,et.data,wt)}disposeTemplate(X){this.renderer.disposeTemplate(X.data)}renderTwistie(X,Ie){return!!this.renderer.renderTwistie&&this.renderer.renderTwistie(X,Ie)}}!function(Wt,X,Ie,et){var Tt,wt=arguments.length,Vt=wt<3?X:null===et?et=Object.getOwnPropertyDescriptor(X,Ie):et;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Vt=Reflect.decorate(Wt,X,Ie,et);else for(var vn=Wt.length-1;vn>=0;vn--)(Tt=Wt[vn])&&(Vt=(wt<3?Tt(Vt):wt>3?Tt(X,Ie,Vt):Tt(X,Ie))||Vt);wt>3&&Vt&&Object.defineProperty(X,Ie,Vt)}([Rt.H],ft.prototype,"compressedTreeNodeProvider",null);class We extends Xe{constructor(X,Ie,et,wt,Vt={}){const Tt=()=>this;super(X,Ie,et,wt.map(wn=>new ft(Tt,wn)),function(Wt,X){return X&&Object.assign(Object.assign({},X),{keyboardNavigationLabelProvider:X.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(Ie){let et;try{et=Wt().getCompressedTreeNode(Ie)}catch(wt){return X.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(Ie)}return 1===et.element.elements.length?X.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(Ie):X.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(et.element.elements)}}})}(Tt,Vt))}setChildren(X,Ie=m.$.empty(),et){this.model.setChildren(X,Ie,et)}createModel(X,Ie,et){return new bt(X,Ie,et)}updateOptions(X={}){super.updateOptions(X),void 0!==X.compressionEnabled&&this.model.setCompressionEnabled(X.compressionEnabled)}getCompressedTreeNode(X=null){return this.model.getCompressedTreeNode(X)}}var Ne=a(5160),J=function(Wt,X,Ie,et){return new(Ie||(Ie=Promise))(function(Vt,Tt){function vn(Rn){try{Ln(et.next(Rn))}catch(Gn){Tt(Gn)}}function wn(Rn){try{Ln(et.throw(Rn))}catch(Gn){Tt(Gn)}}function Ln(Rn){Rn.done?Vt(Rn.value):function(Vt){return Vt instanceof Ie?Vt:new Ie(function(Tt){Tt(Vt)})}(Rn.value).then(vn,wn)}Ln((et=et.apply(Wt,X||[])).next())})};function _e(Wt){return Object.assign(Object.assign({},Wt),{children:[],refreshPromise:void 0,stale:!0,slow:!1,collapsedByDefault:void 0})}function $e(Wt,X){return!!X.parent&&(X.parent===Wt||$e(Wt,X.parent))}class Et{constructor(X){this.node=X}get element(){return this.node.element.element}get children(){return this.node.children.map(X=>new Et(X))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class Lt{constructor(X,Ie,et){this.renderer=X,this.nodeMapper=Ie,this.onDidChangeTwistieState=et,this.renderedNodes=new Map,this.templateId=X.templateId}renderTemplate(X){return{templateData:this.renderer.renderTemplate(X)}}renderElement(X,Ie,et,wt){this.renderer.renderElement(this.nodeMapper.map(X),Ie,et.templateData,wt)}renderTwistie(X,Ie){return X.slow?(Ie.classList.add(...Pe.classNamesArray),!0):(Ie.classList.remove(...Pe.classNamesArray),!1)}disposeElement(X,Ie,et,wt){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(X),Ie,et.templateData,wt)}disposeTemplate(X){this.renderer.disposeTemplate(X.templateData)}dispose(){this.renderedNodes.clear()}}function Pt(Wt){return{browserEvent:Wt.browserEvent,elements:Wt.elements.map(X=>X.element)}}function on(Wt){return{browserEvent:Wt.browserEvent,element:Wt.element&&Wt.element.element,target:Wt.target}}class Kt extends ce.kX{constructor(X){super(X.elements.map(Ie=>Ie.element)),this.data=X}}function bn(Wt){return Wt instanceof ce.kX?new Kt(Wt):Wt}class yn{constructor(X){this.dnd=X}getDragURI(X){return this.dnd.getDragURI(X.element)}getDragLabel(X,Ie){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(X.map(et=>et.element),Ie)}onDragStart(X,Ie){this.dnd.onDragStart&&this.dnd.onDragStart(bn(X),Ie)}onDragOver(X,Ie,et,wt,Vt=!0){return this.dnd.onDragOver(bn(X),Ie&&Ie.element,et,wt)}drop(X,Ie,et,wt){this.dnd.drop(bn(X),Ie&&Ie.element,et,wt)}onDragEnd(X){this.dnd.onDragEnd&&this.dnd.onDragEnd(X)}}function jn(Wt){return Wt&&Object.assign(Object.assign({},Wt),{collapseByDefault:!0,identityProvider:Wt.identityProvider&&{getId:X=>Wt.identityProvider.getId(X.element)},dnd:Wt.dnd&&new yn(Wt.dnd),multipleSelectionController:Wt.multipleSelectionController&&{isSelectionSingleChangeEvent:X=>Wt.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},X),{element:X.element})),isSelectionRangeChangeEvent:X=>Wt.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},X),{element:X.element}))},accessibilityProvider:Wt.accessibilityProvider&&Object.assign(Object.assign({},Wt.accessibilityProvider),{getPosInSet:void 0,getSetSize:void 0,getRole:Wt.accessibilityProvider.getRole?X=>Wt.accessibilityProvider.getRole(X.element):()=>"treeitem",isChecked:Wt.accessibilityProvider.isChecked?X=>{var Ie;return!!(null===(Ie=Wt.accessibilityProvider)||void 0===Ie?void 0:Ie.isChecked(X.element))}:void 0,getAriaLabel:X=>Wt.accessibilityProvider.getAriaLabel(X.element),getWidgetAriaLabel:()=>Wt.accessibilityProvider.getWidgetAriaLabel(),getWidgetRole:Wt.accessibilityProvider.getWidgetRole?()=>Wt.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:Wt.accessibilityProvider.getAriaLevel&&(X=>Wt.accessibilityProvider.getAriaLevel(X.element)),getActiveDescendantId:Wt.accessibilityProvider.getActiveDescendantId&&(X=>Wt.accessibilityProvider.getActiveDescendantId(X.element))}),filter:Wt.filter&&{filter:(X,Ie)=>Wt.filter.filter(X.element,Ie)},keyboardNavigationLabelProvider:Wt.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},Wt.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel:X=>Wt.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(X.element)}),sorter:void 0,expandOnlyOnTwistieClick:void 0===Wt.expandOnlyOnTwistieClick?void 0:"function"!=typeof Wt.expandOnlyOnTwistieClick?Wt.expandOnlyOnTwistieClick:X=>Wt.expandOnlyOnTwistieClick(X.element),additionalScrollHeight:Wt.additionalScrollHeight})}function Un(Wt,X){X(Wt),Wt.children.forEach(Ie=>Un(Ie,X))}class zn{constructor(X,Ie,et,wt,Vt,Tt={}){this.user=X,this.dataSource=Vt,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new $.Q5,this._onDidChangeNodeSlowState=new $.Q5,this.nodeMapper=new de(vn=>new Et(vn)),this.disposables=new j.SL,this.identityProvider=Tt.identityProvider,this.autoExpandSingleChildren=void 0!==Tt.autoExpandSingleChildren&&Tt.autoExpandSingleChildren,this.sorter=Tt.sorter,this.collapseByDefault=Tt.collapseByDefault,this.tree=this.createTree(X,Ie,et,wt,Tt),this.root=_e({element:void 0,parent:null,hasChildren:!0}),this.identityProvider&&(this.root=Object.assign(Object.assign({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}get onDidChangeFocus(){return $.ju.map(this.tree.onDidChangeFocus,Pt)}get onDidChangeSelection(){return $.ju.map(this.tree.onDidChangeSelection,Pt)}get onMouseDblClick(){return $.ju.map(this.tree.onMouseDblClick,on)}get onPointer(){return $.ju.map(this.tree.onPointer,on)}get onDidFocus(){return this.tree.onDidFocus}get onDidDispose(){return this.tree.onDidDispose}createTree(X,Ie,et,wt,Vt){const Tt=new pe(et),vn=wt.map(Ln=>new Lt(Ln,this.nodeMapper,this._onDidChangeNodeSlowState.event)),wn=jn(Vt)||{};return new Xe(X,Ie,Tt,vn,wn)}updateOptions(X={}){this.tree.updateOptions(X)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(X){this.tree.scrollTop=X}domFocus(){this.tree.domFocus()}layout(X,Ie){this.tree.layout(X,Ie)}style(X){this.tree.style(X)}getInput(){return this.root.element}setInput(X,Ie){return J(this,void 0,void 0,function*(){this.refreshPromises.forEach(wt=>wt.cancel()),this.refreshPromises.clear(),this.root.element=X;const et=Ie&&{viewState:Ie,focus:[],selection:[]};yield this._updateChildren(X,!0,!1,et),et&&(this.tree.setFocus(et.focus),this.tree.setSelection(et.selection)),Ie&&"number"==typeof Ie.scrollTop&&(this.scrollTop=Ie.scrollTop)})}_updateChildren(X=this.root.element,Ie=!0,et=!1,wt,Vt){return J(this,void 0,void 0,function*(){if(void 0===this.root.element)throw new Y(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield $.ju.toPromise(this._onDidRender.event));const Tt=this.getDataNode(X);if(yield this.refreshAndRenderNode(Tt,Ie,wt,Vt),et)try{this.tree.rerender(Tt)}catch(vn){}})}rerender(X){if(void 0===X||X===this.root.element)return void this.tree.rerender();const Ie=this.getDataNode(X);this.tree.rerender(Ie)}collapse(X,Ie=!1){const et=this.getDataNode(X);return this.tree.collapse(et===this.root?null:et,Ie)}expand(X,Ie=!1){return J(this,void 0,void 0,function*(){if(void 0===this.root.element)throw new Y(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield $.ju.toPromise(this._onDidRender.event));const et=this.getDataNode(X);if(this.tree.hasElement(et)&&!this.tree.isCollapsible(et)||(et.refreshPromise&&(yield this.root.refreshPromise,yield $.ju.toPromise(this._onDidRender.event)),et!==this.root&&!et.refreshPromise&&!this.tree.isCollapsed(et)))return!1;const wt=this.tree.expand(et===this.root?null:et,Ie);return et.refreshPromise&&(yield this.root.refreshPromise,yield $.ju.toPromise(this._onDidRender.event)),wt})}setSelection(X,Ie){const et=X.map(wt=>this.getDataNode(wt));this.tree.setSelection(et,Ie)}getSelection(){return this.tree.getSelection().map(Ie=>Ie.element)}setFocus(X,Ie){const et=X.map(wt=>this.getDataNode(wt));this.tree.setFocus(et,Ie)}getFocus(){return this.tree.getFocus().map(Ie=>Ie.element)}reveal(X,Ie){this.tree.reveal(this.getDataNode(X),Ie)}getDataNode(X){const Ie=this.nodes.get(X===this.root.element?null:X);if(!Ie)throw new Y(this.user,`Data tree node not found: ${X}`);return Ie}refreshAndRenderNode(X,Ie,et,wt){return J(this,void 0,void 0,function*(){yield this.refreshNode(X,Ie,et),this.render(X,et,wt)})}refreshNode(X,Ie,et){return J(this,void 0,void 0,function*(){let wt;return this.subTreeRefreshPromises.forEach((Vt,Tt)=>{!wt&&function(Wt,X){return Wt===X||$e(Wt,X)||$e(X,Wt)}(Tt,X)&&(wt=Vt.then(()=>this.refreshNode(X,Ie,et)))}),wt||this.doRefreshSubTree(X,Ie,et)})}doRefreshSubTree(X,Ie,et){return J(this,void 0,void 0,function*(){let wt;X.refreshPromise=new Promise(Vt=>wt=Vt),this.subTreeRefreshPromises.set(X,X.refreshPromise),X.refreshPromise.finally(()=>{X.refreshPromise=void 0,this.subTreeRefreshPromises.delete(X)});try{const Vt=yield this.doRefreshNode(X,Ie,et);X.stale=!1,yield ee.jT.settled(Vt.map(Tt=>this.doRefreshSubTree(Tt,Ie,et)))}finally{wt()}})}doRefreshNode(X,Ie,et){return J(this,void 0,void 0,function*(){let wt;if(X.hasChildren=!!this.dataSource.hasChildren(X.element),X.hasChildren){const Vt=(0,ee.Vs)(800);Vt.then(()=>{X.slow=!0,this._onDidChangeNodeSlowState.fire(X)},Tt=>null),wt=this.doGetChildren(X).finally(()=>Vt.cancel())}else wt=Promise.resolve(m.$.empty());try{const Vt=yield wt;return this.setChildren(X,Vt,Ie,et)}catch(Vt){if(X!==this.root&&this.tree.hasElement(X)&&this.tree.collapse(X),(0,Ne.VV)(Vt))return[];throw Vt}finally{X.slow&&(X.slow=!1,this._onDidChangeNodeSlowState.fire(X))}})}doGetChildren(X){let Ie=this.refreshPromises.get(X);return Ie||(Ie=(0,ee.PG)(()=>J(this,void 0,void 0,function*(){const et=yield this.dataSource.getChildren(X.element);return this.processChildren(et)})),this.refreshPromises.set(X,Ie),Ie.finally(()=>{this.refreshPromises.delete(X)}))}_onDidChangeCollapseState({node:X,deep:Ie}){null!==X.element&&!X.collapsed&&X.element.stale&&(Ie?this.collapse(X.element.element):this.refreshAndRenderNode(X.element,!1).catch(Ne.dL))}setChildren(X,Ie,et,wt){const Vt=[...Ie];if(0===X.children.length&&0===Vt.length)return[];const Tt=new Map,vn=new Map;for(const Rn of X.children)if(Tt.set(Rn.element,Rn),this.identityProvider){const Gn=this.tree.isCollapsed(Rn);vn.set(Rn.id,{node:Rn,collapsed:Gn})}const wn=[],Ln=Vt.map(Rn=>{const Gn=!!this.dataSource.hasChildren(Rn);if(!this.identityProvider){const Qn=_e({element:Rn,parent:X,hasChildren:Gn});return Gn&&this.collapseByDefault&&!this.collapseByDefault(Rn)&&(Qn.collapsedByDefault=!1,wn.push(Qn)),Qn}const ei=this.identityProvider.getId(Rn).toString(),Xn=vn.get(ei);if(Xn){const Qn=Xn.node;return Tt.delete(Qn.element),this.nodes.delete(Qn.element),this.nodes.set(Rn,Qn),Qn.element=Rn,Qn.hasChildren=Gn,et?Xn.collapsed?(Qn.children.forEach(di=>Un(di,Hi=>this.nodes.delete(Hi.element))),Qn.children.splice(0,Qn.children.length),Qn.stale=!0):wn.push(Qn):Gn&&this.collapseByDefault&&!this.collapseByDefault(Rn)&&(Qn.collapsedByDefault=!1,wn.push(Qn)),Qn}const Sn=_e({element:Rn,parent:X,id:ei,hasChildren:Gn});return wt&&wt.viewState.focus&&wt.viewState.focus.indexOf(ei)>-1&&wt.focus.push(Sn),wt&&wt.viewState.selection&&wt.viewState.selection.indexOf(ei)>-1&&wt.selection.push(Sn),wt&&wt.viewState.expanded&&wt.viewState.expanded.indexOf(ei)>-1?wn.push(Sn):Gn&&this.collapseByDefault&&!this.collapseByDefault(Rn)&&(Sn.collapsedByDefault=!1,wn.push(Sn)),Sn});for(const Rn of Tt.values())Un(Rn,Gn=>this.nodes.delete(Gn.element));for(const Rn of Ln)this.nodes.set(Rn.element,Rn);return X.children.splice(0,X.children.length,...Ln),X!==this.root&&this.autoExpandSingleChildren&&1===Ln.length&&0===wn.length&&(Ln[0].collapsedByDefault=!1,wn.push(Ln[0])),wn}render(X,Ie,et){const wt=X.children.map(Tt=>this.asTreeElement(Tt,Ie)),Vt=et&&Object.assign(Object.assign({},et),{diffIdentityProvider:et.diffIdentityProvider&&{getId:Tt=>et.diffIdentityProvider.getId(Tt.element)}});this.tree.setChildren(X===this.root?null:X,wt,Vt),X!==this.root&&this.tree.setCollapsible(X,X.hasChildren),this._onDidRender.fire()}asTreeElement(X,Ie){if(X.stale)return{element:X,collapsible:X.hasChildren,collapsed:!0};let et;return et=!(Ie&&Ie.viewState.expanded&&X.id&&Ie.viewState.expanded.indexOf(X.id)>-1)&&X.collapsedByDefault,X.collapsedByDefault=void 0,{element:X,children:X.hasChildren?m.$.map(X.children,wt=>this.asTreeElement(wt,Ie)):[],collapsible:X.hasChildren,collapsed:et}}processChildren(X){return this.sorter&&(X=[...X].sort(this.sorter.compare.bind(this.sorter))),X}dispose(){this.disposables.dispose()}}class ci{constructor(X){this.node=X}get element(){return{elements:this.node.element.elements.map(X=>X.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(X=>new ci(X))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class vi{constructor(X,Ie,et,wt){this.renderer=X,this.nodeMapper=Ie,this.compressibleNodeMapperProvider=et,this.onDidChangeTwistieState=wt,this.renderedNodes=new Map,this.disposables=[],this.templateId=X.templateId}renderTemplate(X){return{templateData:this.renderer.renderTemplate(X)}}renderElement(X,Ie,et,wt){this.renderer.renderElement(this.nodeMapper.map(X),Ie,et.templateData,wt)}renderCompressedElements(X,Ie,et,wt){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(X),Ie,et.templateData,wt)}renderTwistie(X,Ie){return X.slow?(Ie.classList.add(...Pe.classNamesArray),!0):(Ie.classList.remove(...Pe.classNamesArray),!1)}disposeElement(X,Ie,et,wt){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(X),Ie,et.templateData,wt)}disposeCompressedElements(X,Ie,et,wt){this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(this.compressibleNodeMapperProvider().map(X),Ie,et.templateData,wt)}disposeTemplate(X){this.renderer.disposeTemplate(X.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=(0,j.B9)(this.disposables)}}class Fn extends zn{constructor(X,Ie,et,wt,Vt,Tt,vn={}){super(X,Ie,et,Vt,Tt,vn),this.compressionDelegate=wt,this.compressibleNodeMapper=new de(wn=>new ci(wn)),this.filter=vn.filter}createTree(X,Ie,et,wt,Vt){const Tt=new pe(et),vn=wt.map(Ln=>new vi(Ln,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),wn=function(Wt){const X=Wt&&jn(Wt);return X&&Object.assign(Object.assign({},X),{keyboardNavigationLabelProvider:X.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},X.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel:Ie=>Wt.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(Ie.map(et=>et.element))})})}(Vt)||{};return new We(X,Ie,Tt,vn,wn)}asTreeElement(X,Ie){return Object.assign({incompressible:this.compressionDelegate.isIncompressible(X.element)},super.asTreeElement(X,Ie))}updateOptions(X={}){this.tree.updateOptions(X)}render(X,Ie){if(!this.identityProvider)return super.render(X,Ie);const et=ei=>this.identityProvider.getId(ei).toString(),wt=ei=>{const Xn=new Set;for(const Sn of ei){const Qn=this.tree.getCompressedTreeNode(Sn===this.root?null:Sn);if(Qn.element)for(const di of Qn.element.elements)Xn.add(et(di.element))}return Xn},Vt=wt(this.tree.getSelection()),Tt=wt(this.tree.getFocus());super.render(X,Ie);const vn=this.getSelection();let wn=!1;const Ln=this.getFocus();let Rn=!1;const Gn=ei=>{const Xn=ei.element;if(Xn)for(let Sn=0;Sn<Xn.elements.length;Sn++){const Qn=et(Xn.elements[Sn].element),di=Xn.elements[Xn.elements.length-1].element;Vt.has(Qn)&&-1===vn.indexOf(di)&&(vn.push(di),wn=!0),Tt.has(Qn)&&-1===Ln.indexOf(di)&&(Ln.push(di),Rn=!0)}ei.children.forEach(Gn)};Gn(this.tree.getCompressedTreeNode(X===this.root?null:X)),wn&&this.setSelection(vn),Rn&&this.setFocus(Ln)}processChildren(X){return this.filter&&(X=m.$.filter(X,Ie=>{const wt="boolean"==typeof(Wt=this.filter.filter(Ie,1))?Wt?1:0:Z(Wt)?ie(Wt.visibility):ie(Wt);var Wt;if(2===wt)throw new Error("Recursive tree visibility not supported in async data compressed trees");return 1===wt})),super.processChildren(X)}}class Mt extends ht{constructor(X,Ie,et,wt,Vt,Tt={}){super(X,Ie,et,wt,Tt),this.user=X,this.dataSource=Vt,this.identityProvider=Tt.identityProvider}createModel(X,Ie,et){return new Ge(X,Ie,et)}}var kt=a(2668),sn=(a(5331),a(8346));let gn=(()=>{class Wt{constructor(Ie,et,wt){this.columns=Ie,this.getColumnSize=wt,this.templateId=Wt.TemplateId,this.renderedTemplates=new Set;const Vt=new Map(et.map(Tt=>[Tt.templateId,Tt]));this.renderers=[];for(const Tt of Ie){const vn=Vt.get(Tt.templateId);if(!vn)throw new Error(`Table cell renderer for template id ${Tt.templateId} not found.`);this.renderers.push(vn)}}renderTemplate(Ie){const et=(0,T.R3)(Ie,(0,T.$)(".monaco-table-tr")),wt=[],Vt=[];for(let vn=0;vn<this.columns.length;vn++){const wn=this.renderers[vn],Ln=(0,T.R3)(et,(0,T.$)(".monaco-table-td",{"data-col-index":vn}));Ln.style.width=`${this.getColumnSize(vn)}px`,wt.push(Ln),Vt.push(wn.renderTemplate(Ln))}const Tt={container:Ie,cellContainers:wt,cellTemplateData:Vt};return this.renderedTemplates.add(Tt),Tt}renderElement(Ie,et,wt,Vt){for(let Tt=0;Tt<this.columns.length;Tt++){const wn=this.columns[Tt].project(Ie);this.renderers[Tt].renderElement(wn,et,wt.cellTemplateData[Tt],Vt)}}disposeElement(Ie,et,wt,Vt){for(let Tt=0;Tt<this.columns.length;Tt++){const vn=this.renderers[Tt];if(vn.disposeElement){const Ln=this.columns[Tt].project(Ie);vn.disposeElement(Ln,et,wt.cellTemplateData[Tt],Vt)}}}disposeTemplate(Ie){for(let et=0;et<this.columns.length;et++)this.renderers[et].disposeTemplate(Ie.cellTemplateData[et]);(0,T.PO)(Ie.container),this.renderedTemplates.delete(Ie)}layoutColumn(Ie,et){for(const{cellContainers:wt}of this.renderedTemplates)wt[Ie].style.width=`${et}px`}}return Wt.TemplateId="row",Wt})();class Zn{constructor(X,Ie){this.column=X,this.index=Ie,this._onDidLayout=new $.Q5,this.onDidLayout=this._onDidLayout.event,this.element=(0,T.$)(".monaco-table-th",{"data-col-index":Ie,title:X.tooltip},X.label)}get minimumSize(){var X;return null!==(X=this.column.minimumWidth)&&void 0!==X?X:120}get maximumSize(){var X;return null!==(X=this.column.maximumWidth)&&void 0!==X?X:Number.POSITIVE_INFINITY}get onDidChange(){var X;return null!==(X=this.column.onDidChangeWidthConstraints)&&void 0!==X?X:$.ju.None}layout(X){this._onDidLayout.fire([this.index,X])}}let ai=(()=>{class Wt{constructor(Ie,et,wt,Vt,Tt,vn){this.virtualDelegate=wt,this.domId="table_id_"+ ++Wt.InstanceCount,this.cachedHeight=0,this.domNode=(0,T.R3)(et,(0,T.$)(`.monaco-table.${this.domId}`));const wn=Vt.map((Gn,ei)=>new Zn(Gn,ei)),Ln={size:wn.reduce((Gn,ei)=>Gn+ei.column.weight,0),views:wn.map(Gn=>({size:Gn.column.weight,view:Gn}))};this.splitview=new sn.z(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:Ln}),this.splitview.el.style.height=`${wt.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${wt.headerRowHeight}px`;const Rn=new gn(Vt,Tt,Gn=>this.splitview.getViewSize(Gn));this.list=new k.aV(Ie,this.domNode,function(Wt){return{getHeight:X=>Wt.getHeight(X),getTemplateId:()=>gn.TemplateId}}(wt),[Rn],vn),this.columnLayoutDisposable=$.ju.any(...wn.map(Gn=>Gn.onDidLayout))(([Gn,ei])=>Rn.layoutColumn(Gn,ei)),this.styleElement=(0,T.dS)(this.domNode),this.style({})}get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}updateOptions(Ie){this.list.updateOptions(Ie)}splice(Ie,et,wt=[]){this.list.splice(Ie,et,wt)}getHTMLElement(){return this.domNode}style(Ie){const et=[];et.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {\n\t\t\ttop: ${this.virtualDelegate.headerRowHeight+1}px;\n\t\t\theight: calc(100% - ${this.virtualDelegate.headerRowHeight}px);\n\t\t}`),this.styleElement.textContent=et.join("\n"),this.list.style(Ie)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.splitview.dispose(),this.list.dispose(),this.columnLayoutDisposable.dispose()}}return Wt.InstanceCount=0,Wt})();var Yn=function(Wt,X,Ie,et){var Tt,wt=arguments.length,Vt=wt<3?X:null===et?et=Object.getOwnPropertyDescriptor(X,Ie):et;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Vt=Reflect.decorate(Wt,X,Ie,et);else for(var vn=Wt.length-1;vn>=0;vn--)(Tt=Wt[vn])&&(Vt=(wt<3?Tt(Vt):wt>3?Tt(X,Ie,Vt):Tt(X,Ie))||Vt);return wt>3&&Vt&&Object.defineProperty(X,Ie,Vt),Vt},Mn=function(Wt,X){return function(Ie,et){X(Ie,et,Wt)}};const Nn=(0,E.yh)("listService");let Li=class{constructor(X){this._themeService=X,this.disposables=new j.SL,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}get lastFocusedList(){return this._lastFocusedWidget}register(X,Ie){if(!this._hasCreatedStyleController){this._hasCreatedStyleController=!0;const wt=new k.wD((0,T.dS)(),"");this.disposables.add((0,M.Jl)(wt,this._themeService))}if(this.lists.some(wt=>wt.widget===X))throw new Error("Cannot register the same widget multiple times");const et={widget:X,extraContextKeys:Ie};return this.lists.push(et),X.getHTMLElement()===document.activeElement&&(this._lastFocusedWidget=X),(0,j.F8)(X.onDidFocus(()=>this._lastFocusedWidget=X),(0,j.OF)(()=>this.lists.splice(this.lists.indexOf(et),1)),X.onDidDispose(()=>{this.lists=this.lists.filter(wt=>wt!==et),this._lastFocusedWidget===X&&(this._lastFocusedWidget=void 0)}))}dispose(){this.disposables.dispose()}};Li=Yn([Mn(0,_.XE)],Li);const si=new w.uy("listFocus",!0),Wi=new w.uy("listSupportsMultiselect",!0),rs=w.Ao.and(si,w.Ao.not(f.d)),vs=new w.uy("listHasSelectionOrFocus",!1),Ut=new w.uy("listDoubleSelection",!1),P=new w.uy("listMultiSelection",!1),q=new w.uy("listSelectionNavigation",!1),me=new w.uy("listSupportsKeyboardNavigation",!0),Ke="listAutomaticKeyboardNavigation",qe=new w.uy(Ke,!0);let st=!1;function jt(Wt,X){const Ie=Wt.createScoped(X.getHTMLElement());return si.bindTo(Ie),Ie}const Ft="workbench.list.multiSelectModifier",en="workbench.list.openMode",Yt="workbench.list.horizontalScrolling",tn="workbench.list.keyboardNavigation",un="workbench.list.automaticKeyboardNavigation",Cn="workbench.tree.indent",An="workbench.tree.renderIndentGuides",Bn="workbench.list.smoothScrolling",kn="workbench.tree.expandMode";function qn(Wt){return"alt"===Wt.getValue(Ft)}class fi extends j.JT{constructor(X){super(),this.configurationService=X,this.useAltAsMultipleSelectionModifier=qn(X),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(X=>{X.affectsConfiguration(Ft)&&(this.useAltAsMultipleSelectionModifier=qn(this.configurationService))}))}isSelectionSingleChangeEvent(X){return this.useAltAsMultipleSelectionModifier?X.browserEvent.altKey:(0,k.Zo)(X)}isSelectionRangeChangeEvent(X){return(0,k.wn)(X)}}function hn(Wt,X,Ie){const et=new j.SL,wt=Object.assign({},Wt);if(!Wt.multipleSelectionController){const Vt=new fi(X);wt.multipleSelectionController=Vt,et.add(Vt)}return wt.keyboardNavigationDelegate={mightProducePrintableCharacter:Vt=>Ie.mightProducePrintableCharacter(Vt)},wt.smoothScrolling=Boolean(X.getValue(Bn)),[wt,et]}let Ze=class extends k.aV{constructor(X,Ie,et,wt,Vt,Tt,vn,wn,Ln,Rn){const Gn=void 0!==Vt.horizontalScrolling?Vt.horizontalScrolling:Boolean(Ln.getValue(Yt)),[ei,Xn]=hn(Vt,Ln,Rn);super(X,Ie,et,wt,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,M.o)(wn.getColorTheme(),M.O2)),ei),{horizontalScrolling:Gn})),this.disposables.add(Xn),this.contextKeyService=jt(Tt,this),this.themeService=wn,this.listSupportsMultiSelect=Wi.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!!Vt.multipleSelectionSupport),q.bindTo(this.contextKeyService).set(Boolean(Vt.selectionNavigation)),this.listHasSelectionOrFocus=vs.bindTo(this.contextKeyService),this.listDoubleSelection=Ut.bindTo(this.contextKeyService),this.listMultiSelection=P.bindTo(this.contextKeyService),this.horizontalScrolling=Vt.horizontalScrolling,this._useAltAsMultipleSelectionModifier=qn(Ln),this.disposables.add(this.contextKeyService),this.disposables.add(vn.register(this)),Vt.overrideStyles&&this.updateStyles(Vt.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const Qn=this.getSelection(),di=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(Qn.length>0||di.length>0),this.listMultiSelection.set(Qn.length>1),this.listDoubleSelection.set(2===Qn.length)})})),this.disposables.add(this.onDidChangeFocus(()=>{const Qn=this.getSelection(),di=this.getFocus();this.listHasSelectionOrFocus.set(Qn.length>0||di.length>0)})),this.disposables.add(Ln.onDidChangeConfiguration(Qn=>{Qn.affectsConfiguration(Ft)&&(this._useAltAsMultipleSelectionModifier=qn(Ln));let di={};if(Qn.affectsConfiguration(Yt)&&void 0===this.horizontalScrolling){const Hi=Boolean(Ln.getValue(Yt));di=Object.assign(Object.assign({},di),{horizontalScrolling:Hi})}if(Qn.affectsConfiguration(Bn)){const Hi=Boolean(Ln.getValue(Bn));di=Object.assign(Object.assign({},di),{smoothScrolling:Hi})}Object.keys(di).length>0&&this.updateOptions(di)})),this.navigator=new Fe(this,Object.assign({configurationService:Ln},Vt)),this.disposables.add(this.navigator)}updateOptions(X){super.updateOptions(X),X.overrideStyles&&this.updateStyles(X.overrideStyles),void 0!==X.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!X.multipleSelectionSupport)}updateStyles(X){var Ie;null===(Ie=this._styler)||void 0===Ie||Ie.dispose(),this._styler=(0,M.Jl)(this,this.themeService,X)}dispose(){var X;null===(X=this._styler)||void 0===X||X.dispose(),super.dispose()}};Ze=Yn([Mn(5,w.i6),Mn(6,Nn),Mn(7,_.XE),Mn(8,I.Ui),Mn(9,S.d)],Ze);let rt=class extends class{constructor(X,Ie,et,wt,Vt={}){const Tt=()=>this.model,vn=wt.map(wn=>new R(wn,Tt));this.list=new k.aV(X,Ie,et,vn,function(Wt,X){return Object.assign(Object.assign({},X),{accessibilityProvider:X.accessibilityProvider&&new d(Wt,X.accessibilityProvider)})}(Tt,Vt))}updateOptions(X){this.list.updateOptions(X)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return $.ju.map(this.list.onMouseDblClick,({element:X,index:Ie,browserEvent:et})=>({element:void 0===X?void 0:this._model.get(X),index:Ie,browserEvent:et}))}get onPointer(){return $.ju.map(this.list.onPointer,({element:X,index:Ie,browserEvent:et})=>({element:void 0===X?void 0:this._model.get(X),index:Ie,browserEvent:et}))}get onDidChangeSelection(){return $.ju.map(this.list.onDidChangeSelection,({elements:X,indexes:Ie,browserEvent:et})=>({elements:X.map(wt=>this._model.get(wt)),indexes:Ie,browserEvent:et}))}get model(){return this._model}set model(X){this._model=X,this.list.splice(0,this.list.length,(0,O.w6)(X.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map(X=>this.model.get(X))}style(X){this.list.style(X)}dispose(){this.list.dispose()}}{constructor(X,Ie,et,wt,Vt,Tt,vn,wn,Ln,Rn){const Gn=void 0!==Vt.horizontalScrolling?Vt.horizontalScrolling:Boolean(Ln.getValue(Yt)),[ei,Xn]=hn(Vt,Ln,Rn);super(X,Ie,et,wt,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,M.o)(wn.getColorTheme(),M.O2)),ei),{horizontalScrolling:Gn})),this.disposables=new j.SL,this.disposables.add(Xn),this.contextKeyService=jt(Tt,this),this.themeService=wn,this.horizontalScrolling=Vt.horizontalScrolling,this.listSupportsMultiSelect=Wi.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!!Vt.multipleSelectionSupport),q.bindTo(this.contextKeyService).set(Boolean(Vt.selectionNavigation)),this._useAltAsMultipleSelectionModifier=qn(Ln),this.disposables.add(this.contextKeyService),this.disposables.add(vn.register(this)),Vt.overrideStyles&&this.updateStyles(Vt.overrideStyles),Vt.overrideStyles&&this.disposables.add((0,M.Jl)(this,wn,Vt.overrideStyles)),this.disposables.add(Ln.onDidChangeConfiguration(Qn=>{Qn.affectsConfiguration(Ft)&&(this._useAltAsMultipleSelectionModifier=qn(Ln));let di={};if(Qn.affectsConfiguration(Yt)&&void 0===this.horizontalScrolling){const Hi=Boolean(Ln.getValue(Yt));di=Object.assign(Object.assign({},di),{horizontalScrolling:Hi})}if(Qn.affectsConfiguration(Bn)){const Hi=Boolean(Ln.getValue(Bn));di=Object.assign(Object.assign({},di),{smoothScrolling:Hi})}Object.keys(di).length>0&&this.updateOptions(di)})),this.navigator=new Fe(this,Object.assign({configurationService:Ln},Vt)),this.disposables.add(this.navigator)}updateOptions(X){super.updateOptions(X),X.overrideStyles&&this.updateStyles(X.overrideStyles),void 0!==X.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!X.multipleSelectionSupport)}updateStyles(X){var Ie;null===(Ie=this._styler)||void 0===Ie||Ie.dispose(),this._styler=(0,M.Jl)(this,this.themeService,X)}dispose(){var X;null===(X=this._styler)||void 0===X||X.dispose(),this.disposables.dispose(),super.dispose()}};rt=Yn([Mn(5,w.i6),Mn(6,Nn),Mn(7,_.XE),Mn(8,I.Ui),Mn(9,S.d)],rt);let tt=class extends ai{constructor(X,Ie,et,wt,Vt,Tt,vn,wn,Ln,Rn,Gn){const ei=void 0!==Tt.horizontalScrolling?Tt.horizontalScrolling:Boolean(Rn.getValue(Yt)),[Xn,Sn]=hn(Tt,Rn,Gn);super(X,Ie,et,wt,Vt,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,M.o)(Ln.getColorTheme(),M.O2)),Xn),{horizontalScrolling:ei})),this.disposables=new j.SL,this.disposables.add(Sn),this.contextKeyService=jt(vn,this),this.themeService=Ln,this.listSupportsMultiSelect=Wi.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!!Tt.multipleSelectionSupport),q.bindTo(this.contextKeyService).set(Boolean(Tt.selectionNavigation)),this.listHasSelectionOrFocus=vs.bindTo(this.contextKeyService),this.listDoubleSelection=Ut.bindTo(this.contextKeyService),this.listMultiSelection=P.bindTo(this.contextKeyService),this.horizontalScrolling=Tt.horizontalScrolling,this._useAltAsMultipleSelectionModifier=qn(Rn),this.disposables.add(this.contextKeyService),this.disposables.add(wn.register(this)),Tt.overrideStyles&&this.updateStyles(Tt.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const di=this.getSelection(),Hi=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(di.length>0||Hi.length>0),this.listMultiSelection.set(di.length>1),this.listDoubleSelection.set(2===di.length)})})),this.disposables.add(this.onDidChangeFocus(()=>{const di=this.getSelection(),Hi=this.getFocus();this.listHasSelectionOrFocus.set(di.length>0||Hi.length>0)})),this.disposables.add(Rn.onDidChangeConfiguration(di=>{di.affectsConfiguration(Ft)&&(this._useAltAsMultipleSelectionModifier=qn(Rn));let Hi={};if(di.affectsConfiguration(Yt)&&void 0===this.horizontalScrolling){const js=Boolean(Rn.getValue(Yt));Hi=Object.assign(Object.assign({},Hi),{horizontalScrolling:js})}if(di.affectsConfiguration(Bn)){const js=Boolean(Rn.getValue(Bn));Hi=Object.assign(Object.assign({},Hi),{smoothScrolling:js})}Object.keys(Hi).length>0&&this.updateOptions(Hi)})),this.navigator=new Ye(this,Object.assign({configurationService:Rn},Tt)),this.disposables.add(this.navigator)}updateOptions(X){super.updateOptions(X),X.overrideStyles&&this.updateStyles(X.overrideStyles),void 0!==X.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!X.multipleSelectionSupport)}updateStyles(X){var Ie;null===(Ie=this._styler)||void 0===Ie||Ie.dispose(),this._styler=(0,M.Jl)(this,this.themeService,X)}dispose(){var X;null===(X=this._styler)||void 0===X||X.dispose(),this.disposables.dispose(),super.dispose()}};tt=Yn([Mn(6,w.i6),Mn(7,Nn),Mn(8,_.XE),Mn(9,I.Ui),Mn(10,S.d)],tt);class we extends j.JT{constructor(X,Ie){var et;super(),this.widget=X,this._onDidOpen=this._register(new $.Q5),this.onDidOpen=this._onDidOpen.event,this._register($.ju.filter(this.widget.onDidChangeSelection,wt=>wt.browserEvent instanceof KeyboardEvent)(wt=>this.onSelectionFromKeyboard(wt))),this._register(this.widget.onPointer(wt=>this.onPointer(wt.element,wt.browserEvent))),this._register(this.widget.onMouseDblClick(wt=>this.onMouseDblClick(wt.element,wt.browserEvent))),"boolean"!=typeof(null==Ie?void 0:Ie.openOnSingleClick)&&(null==Ie?void 0:Ie.configurationService)?(this.openOnSingleClick="doubleClick"!==(null==Ie?void 0:Ie.configurationService.getValue(en)),this._register(null==Ie?void 0:Ie.configurationService.onDidChangeConfiguration(()=>{this.openOnSingleClick="doubleClick"!==(null==Ie?void 0:Ie.configurationService.getValue(en))}))):this.openOnSingleClick=null===(et=null==Ie?void 0:Ie.openOnSingleClick)||void 0===et||et}onSelectionFromKeyboard(X){if(1!==X.elements.length)return;const Ie=X.browserEvent,et="boolean"!=typeof Ie.preserveFocus||Ie.preserveFocus,wt="boolean"==typeof Ie.pinned?Ie.pinned:!et;this._open(this.getSelectedElement(),et,wt,!1,X.browserEvent)}onPointer(X,Ie){this.openOnSingleClick&&2!==Ie.detail&&this._open(X,!0,1===Ie.button,Ie.ctrlKey||Ie.metaKey||Ie.altKey,Ie)}onMouseDblClick(X,Ie){if(!Ie)return;const et=Ie.target;et.classList.contains("monaco-tl-twistie")||et.classList.contains("monaco-icon-label")&&et.classList.contains("folder-icon")&&Ie.offsetX<16||this._open(X,!1,!0,Ie.ctrlKey||Ie.metaKey||Ie.altKey,Ie)}_open(X,Ie,et,wt,Vt){!X||this._onDidOpen.fire({editorOptions:{preserveFocus:Ie,pinned:et,revealIfVisible:!0},sideBySide:wt,element:X,browserEvent:Vt})}}class Fe extends we{constructor(X,Ie){super(X,Ie),this.widget=X}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class Ye extends we{constructor(X,Ie){super(X,Ie)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class mt extends we{constructor(X,Ie){super(X,Ie)}getSelectedElement(){var X;return null!==(X=this.widget.getSelection()[0])&&void 0!==X?X:void 0}}function $t(Wt,X){let Ie=!1;return et=>{if(Ie)return Ie=!1,!1;const wt=X.softDispatch(et,Wt);return wt&&wt.enterChord?(Ie=!0,!1):(Ie=!1,!0)}}let Zt=class extends Xe{constructor(X,Ie,et,wt,Vt,Tt,vn,wn,Ln,Rn,Gn){const{options:ei,getAutomaticKeyboardNavigation:Xn,disposable:Sn}=Kn(Ie,Vt,Tt,Ln,Rn,Gn);super(X,Ie,et,wt,ei),this.disposables.add(Sn),this.internals=new Wn(this,Vt,Xn,Vt.overrideStyles,Tt,vn,wn,Ln,Gn),this.disposables.add(this.internals)}updateOptions(X){super.updateOptions(X),this.internals.updateOptions(X)}};Zt=Yn([Mn(5,w.i6),Mn(6,Nn),Mn(7,_.XE),Mn(8,I.Ui),Mn(9,S.d),Mn(10,kt.F)],Zt);let fn=class extends We{constructor(X,Ie,et,wt,Vt,Tt,vn,wn,Ln,Rn,Gn){const{options:ei,getAutomaticKeyboardNavigation:Xn,disposable:Sn}=Kn(Ie,Vt,Tt,Ln,Rn,Gn);super(X,Ie,et,wt,ei),this.disposables.add(Sn),this.internals=new Wn(this,Vt,Xn,Vt.overrideStyles,Tt,vn,wn,Ln,Gn),this.disposables.add(this.internals)}updateOptions(X={}){super.updateOptions(X),X.overrideStyles&&this.internals.updateStyleOverrides(X.overrideStyles),this.internals.updateOptions(X)}};fn=Yn([Mn(5,w.i6),Mn(6,Nn),Mn(7,_.XE),Mn(8,I.Ui),Mn(9,S.d),Mn(10,kt.F)],fn);let In=class extends Mt{constructor(X,Ie,et,wt,Vt,Tt,vn,wn,Ln,Rn,Gn,ei){const{options:Xn,getAutomaticKeyboardNavigation:Sn,disposable:Qn}=Kn(Ie,Tt,vn,Rn,Gn,ei);super(X,Ie,et,wt,Vt,Xn),this.disposables.add(Qn),this.internals=new Wn(this,Tt,Sn,Tt.overrideStyles,vn,wn,Ln,Rn,ei),this.disposables.add(this.internals)}updateOptions(X={}){super.updateOptions(X),X.overrideStyles&&this.internals.updateStyleOverrides(X.overrideStyles),this.internals.updateOptions(X)}};In=Yn([Mn(6,w.i6),Mn(7,Nn),Mn(8,_.XE),Mn(9,I.Ui),Mn(10,S.d),Mn(11,kt.F)],In);let _n=class extends zn{constructor(X,Ie,et,wt,Vt,Tt,vn,wn,Ln,Rn,Gn,ei){const{options:Xn,getAutomaticKeyboardNavigation:Sn,disposable:Qn}=Kn(Ie,Tt,vn,Rn,Gn,ei);super(X,Ie,et,wt,Vt,Xn),this.disposables.add(Qn),this.internals=new Wn(this,Tt,Sn,Tt.overrideStyles,vn,wn,Ln,Rn,ei),this.disposables.add(this.internals)}get onDidOpen(){return this.internals.onDidOpen}updateOptions(X={}){super.updateOptions(X),X.overrideStyles&&this.internals.updateStyleOverrides(X.overrideStyles),this.internals.updateOptions(X)}};_n=Yn([Mn(6,w.i6),Mn(7,Nn),Mn(8,_.XE),Mn(9,I.Ui),Mn(10,S.d),Mn(11,kt.F)],_n);let On=class extends Fn{constructor(X,Ie,et,wt,Vt,Tt,vn,wn,Ln,Rn,Gn,ei,Xn){const{options:Sn,getAutomaticKeyboardNavigation:Qn,disposable:di}=Kn(Ie,vn,wn,Gn,ei,Xn);super(X,Ie,et,wt,Vt,Tt,Sn),this.disposables.add(di),this.internals=new Wn(this,vn,Qn,vn.overrideStyles,wn,Ln,Rn,Gn,Xn),this.disposables.add(this.internals)}updateOptions(X){super.updateOptions(X),this.internals.updateOptions(X)}};function Kn(Wt,X,Ie,et,wt,Vt){var Tt;me.bindTo(Ie),st||(qe.bindTo(Ie),st=!0);const vn=()=>{let Sn=Boolean(Ie.getContextKeyValue(Ke));return Sn&&(Sn=Boolean(et.getValue(un))),Sn},wn=Vt.isScreenReaderOptimized(),Ln=X.simpleKeyboardNavigation||wn?"simple":et.getValue(tn),Rn=void 0!==X.horizontalScrolling?X.horizontalScrolling:Boolean(et.getValue(Yt)),[Gn,ei]=hn(X,et,wt),Xn=X.additionalScrollHeight;return{getAutomaticKeyboardNavigation:vn,disposable:ei,options:Object.assign(Object.assign({keyboardSupport:!1},Gn),{indent:et.getValue(Cn),renderIndentGuides:et.getValue(An),smoothScrolling:Boolean(et.getValue(Bn)),automaticKeyboardNavigation:vn(),simpleKeyboardNavigation:"simple"===Ln,filterOnType:"filter"===Ln,horizontalScrolling:Rn,keyboardNavigationEventFilter:$t(Wt,wt),additionalScrollHeight:Xn,hideTwistiesOfChildlessElements:X.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:null!==(Tt=X.expandOnlyOnTwistieClick)&&void 0!==Tt?Tt:"doubleClick"===et.getValue(kn)})}}On=Yn([Mn(7,w.i6),Mn(8,Nn),Mn(9,_.XE),Mn(10,I.Ui),Mn(11,S.d),Mn(12,kt.F)],On);let Wn=class{constructor(X,Ie,et,wt,Vt,Tt,vn,wn,Ln){this.tree=X,this.themeService=vn,this.disposables=[],this.contextKeyService=jt(Vt,X),this.listSupportsMultiSelect=Wi.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!!Ie.multipleSelectionSupport),q.bindTo(this.contextKeyService).set(Boolean(Ie.selectionNavigation)),this.hasSelectionOrFocus=vs.bindTo(this.contextKeyService),this.hasDoubleSelection=Ut.bindTo(this.contextKeyService),this.hasMultiSelection=P.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=qn(wn);const Gn=new Set;Gn.add(Ke);const ei=()=>{const Sn=Ln.isScreenReaderOptimized()?"simple":wn.getValue(tn);X.updateOptions({simpleKeyboardNavigation:"simple"===Sn,filterOnType:"filter"===Sn})};this.updateStyleOverrides(wt),this.disposables.push(this.contextKeyService,Tt.register(X),X.onDidChangeSelection(()=>{const Xn=X.getSelection(),Sn=X.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(Xn.length>0||Sn.length>0),this.hasMultiSelection.set(Xn.length>1),this.hasDoubleSelection.set(2===Xn.length)})}),X.onDidChangeFocus(()=>{const Xn=X.getSelection(),Sn=X.getFocus();this.hasSelectionOrFocus.set(Xn.length>0||Sn.length>0)}),wn.onDidChangeConfiguration(Xn=>{let Sn={};if(Xn.affectsConfiguration(Ft)&&(this._useAltAsMultipleSelectionModifier=qn(wn)),Xn.affectsConfiguration(Cn)){const Qn=wn.getValue(Cn);Sn=Object.assign(Object.assign({},Sn),{indent:Qn})}if(Xn.affectsConfiguration(An)){const Qn=wn.getValue(An);Sn=Object.assign(Object.assign({},Sn),{renderIndentGuides:Qn})}if(Xn.affectsConfiguration(Bn)){const Qn=Boolean(wn.getValue(Bn));Sn=Object.assign(Object.assign({},Sn),{smoothScrolling:Qn})}if(Xn.affectsConfiguration(tn)&&ei(),Xn.affectsConfiguration(un)&&(Sn=Object.assign(Object.assign({},Sn),{automaticKeyboardNavigation:et()})),Xn.affectsConfiguration(Yt)&&void 0===Ie.horizontalScrolling){const Qn=Boolean(wn.getValue(Yt));Sn=Object.assign(Object.assign({},Sn),{horizontalScrolling:Qn})}Xn.affectsConfiguration(kn)&&void 0===Ie.expandOnlyOnTwistieClick&&(Sn=Object.assign(Object.assign({},Sn),{expandOnlyOnTwistieClick:"doubleClick"===wn.getValue(kn)})),Object.keys(Sn).length>0&&X.updateOptions(Sn)}),this.contextKeyService.onDidChangeContext(Xn=>{Xn.affectsSome(Gn)&&X.updateOptions({automaticKeyboardNavigation:et()})}),Ln.onDidChangeScreenReaderOptimized(()=>ei())),this.navigator=new mt(X,Object.assign({configurationService:wn},Ie)),this.disposables.push(this.navigator)}get onDidOpen(){return this.navigator.onDidOpen}updateOptions(X){void 0!==X.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!X.multipleSelectionSupport)}updateStyleOverrides(X){(0,j.B9)(this.styler),this.styler=X?(0,M.Jl)(this.tree,this.themeService,X):j.JT.None}dispose(){this.disposables=(0,j.B9)(this.disposables),(0,j.B9)(this.styler),this.styler=void 0}};Wn=Yn([Mn(4,w.i6),Mn(5,Nn),Mn(6,_.XE),Mn(7,I.Ui),Mn(8,kt.F)],Wn),v.B.as(p.IP.Configuration).registerConfiguration({id:"workbench",order:7,title:(0,b.N)("workbenchConfigurationTitle","Workbench"),type:"object",properties:{[Ft]:{type:"string",enum:["ctrlCmd","alt"],enumDescriptions:[(0,b.N)("multiSelectModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),(0,b.N)("multiSelectModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"ctrlCmd",description:(0,b.N)({key:"multiSelectModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.")},[en]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,b.N)({key:"openModeModifier",comment:["`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized."]},"Controls how to open items in trees and lists using the mouse (if supported). Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[Yt]:{type:"boolean",default:!1,description:(0,b.N)("horizontalScrolling setting","Controls whether lists and trees support horizontal scrolling in the workbench. Warning: turning on this setting has a performance implication.")},[Cn]:{type:"number",default:8,minimum:0,maximum:40,description:(0,b.N)("tree indent setting","Controls tree indentation in pixels.")},[An]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:(0,b.N)("render tree indent guides","Controls whether the tree should render indent guides.")},[Bn]:{type:"boolean",default:!1,description:(0,b.N)("list smoothScrolling setting","Controls whether lists and trees have smooth scrolling.")},[tn]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[(0,b.N)("keyboardNavigationSettingKey.simple","Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes."),(0,b.N)("keyboardNavigationSettingKey.highlight","Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements."),(0,b.N)("keyboardNavigationSettingKey.filter","Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.")],default:"highlight",description:(0,b.N)("keyboardNavigationSettingKey","Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter.")},[un]:{type:"boolean",default:!0,markdownDescription:(0,b.N)("automatic keyboard navigation setting","Controls whether keyboard navigation in lists and trees is automatically triggered simply by typing. If set to `false`, keyboard navigation is only triggered when executing the `list.toggleKeyboardNavigation` command, for which you can assign a keyboard shortcut.")},[kn]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,b.N)("expand mode","Controls how tree folders are expanded when clicking the folder names. Note that some trees and lists might choose to ignore this setting if it is not applicable.")}}})},8998:(Ct,Qe,a)=>{"use strict";a.d(Qe,{VZ:()=>O,in:()=>k,kw:()=>R,$V:()=>d});var T=a(4562),U=a(1719),j=a(6723);const O=(0,T.yh)("logService");var k=(()=>{return(C=k||(k={}))[C.Trace=0]="Trace",C[C.Debug=1]="Debug",C[C.Info=2]="Info",C[C.Warning=3]="Warning",C[C.Error=4]="Error",C[C.Critical=5]="Critical",C[C.Off=6]="Off",k;var C})();const $=k.Info;class B extends U.JT{constructor(){super(...arguments),this.level=$,this._onDidChangeLogLevel=this._register(new j.Q5)}setLevel(g){this.level!==g&&(this.level=g,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}}class R extends B{constructor(g=$){super(),this.setLevel(g)}trace(g,...b){this.getLevel()<=k.Trace&&console.log("%cTRACE","color: #888",g,...b)}debug(g,...b){this.getLevel()<=k.Debug&&console.log("%cDEBUG","background: #eee; color: #888",g,...b)}info(g,...b){this.getLevel()<=k.Info&&console.log("%c INFO","color: #33f",g,...b)}error(g,...b){this.getLevel()<=k.Error&&console.log("%c  ERR","color: #f33",g,...b)}dispose(){}}class d extends U.JT{constructor(g){super(),this.logger=g,this._register(g)}getLevel(){return this.logger.getLevel()}trace(g,...b){this.logger.trace(g,...b)}debug(g,...b){this.logger.debug(g,...b)}info(g,...b){this.logger.info(g,...b)}error(g,...b){this.logger.error(g,...b)}}},1641:(Ct,Qe,a)=>{"use strict";a.d(Qe,{ZL:()=>O,H0:()=>k,lT:()=>$});var k,T=a(4562),U=a(1606),j=a(1022),O=(()=>{return(B=O||(O={}))[B.Hint=1]="Hint",B[B.Info=2]="Info",B[B.Warning=4]="Warning",B[B.Error=8]="Error",O;var B})();!function(B){B.compare=function(I,p){return p-I};const d=Object.create(null);d[B.Error]=(0,U.N)("sev.error","Error"),d[B.Warning]=(0,U.N)("sev.warning","Warning"),d[B.Info]=(0,U.N)("sev.info","Info"),B.toString=function(I){return d[I]||""},B.fromSeverity=function(I){switch(I){case j.Z.Error:return B.Error;case j.Z.Warning:return B.Warning;case j.Z.Info:return B.Info;case j.Z.Ignore:return B.Hint}},B.toSeverity=function(I){switch(I){case B.Error:return j.Z.Error;case B.Warning:return j.Z.Warning;case B.Info:return j.Z.Info;case B.Hint:return j.Z.Ignore}}}(O||(O={})),function(B){const R="";function C(g,b){let I=[R];return I.push(g.source?g.source.replace("\xa6","\\\xa6"):R),I.push(g.code?"string"==typeof g.code?g.code.replace("\xa6","\\\xa6"):g.code.value.replace("\xa6","\\\xa6"):R),I.push(null!=g.severity?O.toString(g.severity):R),I.push(g.message&&b?g.message.replace("\xa6","\\\xa6"):R),I.push(null!=g.startLineNumber?g.startLineNumber.toString():R),I.push(null!=g.startColumn?g.startColumn.toString():R),I.push(null!=g.endLineNumber?g.endLineNumber.toString():R),I.push(null!=g.endColumn?g.endColumn.toString():R),I.push(R),I.join("\xa6")}B.makeKey=function(g){return C(g,!0)},B.makeKeyOptionalMessage=C}(k||(k={}));const $=(0,T.yh)("markerService")},1004:(Ct,Qe,a)=>{"use strict";a.d(Qe,{lT:()=>O,EO:()=>k}),a(1022);const O=(0,a(4562).yh)("notificationService");class k{}},1227:(Ct,Qe,a)=>{"use strict";a.d(Qe,{v4:()=>$,SW:()=>B,xn:()=>R});var T=a(1719),U=a(579),j=a(6746),O=a(4562),k=function(d,C,g,b){return new(g||(g=Promise))(function(p,w){function E(M){try{v(b.next(M))}catch(_){w(_)}}function S(M){try{v(b.throw(M))}catch(_){w(_)}}function v(M){M.done?p(M.value):function(p){return p instanceof g?p:new g(function(w){w(p)})}(M.value).then(E,S)}v((b=b.apply(d,C||[])).next())})};const $=(0,O.yh)("openerService"),B=Object.freeze({_serviceBrand:void 0,registerOpener:()=>T.JT.None,registerValidator:()=>T.JT.None,registerExternalUriResolver:()=>T.JT.None,setDefaultExternalOpener(){},registerExternalOpener:()=>T.JT.None,open(){return k(this,void 0,void 0,function*(){return!1})},resolveExternalUri(d){return k(this,void 0,void 0,function*(){return{resolved:d,dispose(){}}})}});function R(d,C){return j.o.isUri(d)?(0,U.qq)(d.scheme,C):(0,U.ok)(d,C+":")}},723:(Ct,Qe,a)=>{"use strict";a.d(Qe,{E:()=>U,e:()=>j});var T=a(4562);class U{constructor(k){this.callback=k}report(k){this._value=k,this.callback(this._value)}}U.None=Object.freeze({report(){}});const j=(0,T.yh)("editorProgressService")},4961:(Ct,Qe,a)=>{"use strict";a.d(Qe,{Ry:()=>O,IP:()=>k});var T=a(1161),U=a(2291),j=a(1719),O=(()=>{return(B=O||(O={}))[B.PRESERVE=0]="PRESERVE",B[B.LAST=1]="LAST",O;var B})();const k={Quickaccess:"workbench.contributions.quickaccess"};T.B.add(k.Quickaccess,new class{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(R){return 0===R.prefix.length?this.defaultProvider=R:this.providers.push(R),this.providers.sort((d,C)=>C.prefix.length-d.prefix.length),(0,j.OF)(()=>{this.providers.splice(this.providers.indexOf(R),1),this.defaultProvider===R&&(this.defaultProvider=void 0)})}getQuickAccessProviders(){return(0,U.kX)([this.defaultProvider,...this.providers])}getQuickAccessProvider(R){return R&&this.providers.find(C=>R.startsWith(C.prefix))||this.defaultProvider}})},3130:(Ct,Qe,a)=>{"use strict";a.d(Qe,{jG:()=>U.jG,eJ:()=>j});var T=a(4562),U=a(6104);const j=(0,T.yh)("quickInputService")},1161:(Ct,Qe,a)=>{"use strict";a.d(Qe,{B:()=>O});var T=a(1882),U=a(7582);const O=new class{constructor(){this.data=new Map}add($,B){U.ok(T.HD($)),U.ok(T.Kn(B)),U.ok(!this.data.has($),"There is already an extension with this id"),this.data.set($,B)}as($){return this.data.get($)||null}}},7129:(Ct,Qe,a)=>{"use strict";a.d(Qe,{Uy:()=>g,vm:()=>p,fk:()=>b});var T=a(4562),U=a(6723),j=a(1719),O=a(1882),k=a(7922),$=function(w,E,S,v){return new(S||(S=Promise))(function(_,f){function m(G){try{F(v.next(G))}catch(Y){f(Y)}}function L(G){try{F(v.throw(G))}catch(Y){f(Y)}}function F(G){G.done?_(G.value):function(_){return _ instanceof S?_:new S(function(f){f(_)})}(G.value).then(m,L)}F((v=v.apply(w,E||[])).next())})},B=(()=>{return(w=B||(B={}))[w.None=0]="None",w[w.Initialized=1]="Initialized",w[w.Closed=2]="Closed",B;var w})();let R=(()=>{class w extends j.JT{constructor(S,v=Object.create(null)){super(),this.database=S,this.options=v,this._onDidChangeStorage=this._register(new U.Q5),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=B.None,this.cache=new Map,this.flushDelayer=new k.rH(w.DEFAULT_FLUSH_DELAY),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal(S=>this.onDidChangeItemsExternal(S)))}onDidChangeItemsExternal(S){var v,M;null===(v=S.changed)||void 0===v||v.forEach((_,f)=>this.accept(f,_)),null===(M=S.deleted)||void 0===M||M.forEach(_=>this.accept(_,void 0))}accept(S,v){if(this.state===B.Closed)return;let M=!1;(0,O.Jp)(v)?M=this.cache.delete(S):this.cache.get(S)!==v&&(this.cache.set(S,v),M=!0),M&&this._onDidChangeStorage.fire(S)}get(S,v){const M=this.cache.get(S);return(0,O.Jp)(M)?v:M}getBoolean(S,v){const M=this.get(S);return(0,O.Jp)(M)?v:"true"===M}getNumber(S,v){const M=this.get(S);return(0,O.Jp)(M)?v:parseInt(M,10)}set(S,v){return $(this,void 0,void 0,function*(){if(this.state===B.Closed)return;if((0,O.Jp)(v))return this.delete(S);const M=String(v);return this.cache.get(S)!==M?(this.cache.set(S,M),this.pendingInserts.set(S,M),this.pendingDeletes.delete(S),this._onDidChangeStorage.fire(S),this.flushDelayer.trigger(()=>this.flushPending())):void 0})}delete(S){return $(this,void 0,void 0,function*(){if(this.state!==B.Closed&&this.cache.delete(S))return this.pendingDeletes.has(S)||this.pendingDeletes.add(S),this.pendingInserts.delete(S),this._onDidChangeStorage.fire(S),this.flushDelayer.trigger(()=>this.flushPending())})}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}flushPending(){return $(this,void 0,void 0,function*(){if(!this.hasPending)return;const S={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(S).finally(()=>{var v;if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)null===(v=this.whenFlushedCallbacks.pop())||void 0===v||v()})})}dispose(){this.flushDelayer.dispose(),super.dispose()}}return w.DEFAULT_FLUSH_DELAY=100,w})();class d{constructor(){this.onDidChangeItemsExternal=U.ju.None,this.items=new Map}updateItems(E){return $(this,void 0,void 0,function*(){E.insert&&E.insert.forEach((S,v)=>this.items.set(v,S)),E.delete&&E.delete.forEach(S=>this.items.delete(S))})}}const C="__$__targetStorageMarker",g=(0,T.yh)("storageService");var b=(()=>{return(w=b||(b={}))[w.NONE=0]="NONE",w[w.SHUTDOWN=1]="SHUTDOWN",b;var w})();let I=(()=>{class w extends j.JT{constructor(S={flushInterval:w.DEFAULT_FLUSH_INTERVAL}){super(),this.options=S,this._onDidChangeValue=this._register(new U.K3),this._onDidChangeTarget=this._register(new U.K3),this._onWillSaveState=this._register(new U.Q5),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._globalKeyTargets=void 0}emitDidChangeValue(S,v){v===C?(0===S?this._globalKeyTargets=void 0:1===S&&(this._workspaceKeyTargets=void 0),this._onDidChangeTarget.fire({scope:S})):this._onDidChangeValue.fire({scope:S,key:v,target:this.getKeyTargets(S)[v]})}get(S,v,M){var _;return null===(_=this.getStorage(v))||void 0===_?void 0:_.get(S,M)}getBoolean(S,v,M){var _;return null===(_=this.getStorage(v))||void 0===_?void 0:_.getBoolean(S,M)}getNumber(S,v,M){var _;return null===(_=this.getStorage(v))||void 0===_?void 0:_.getNumber(S,M)}store(S,v,M,_){(0,O.Jp)(v)?this.remove(S,M):this.withPausedEmitters(()=>{var f;this.updateKeyTarget(S,M,_),null===(f=this.getStorage(M))||void 0===f||f.set(S,v)})}remove(S,v){this.withPausedEmitters(()=>{var M;this.updateKeyTarget(S,v,void 0),null===(M=this.getStorage(v))||void 0===M||M.delete(S)})}withPausedEmitters(S){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{S()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(S,v,M){var _,f;const m=this.getKeyTargets(v);"number"==typeof M?m[S]!==M&&(m[S]=M,null===(_=this.getStorage(v))||void 0===_||_.set(C,JSON.stringify(m))):"number"==typeof m[S]&&(delete m[S],null===(f=this.getStorage(v))||void 0===f||f.set(C,JSON.stringify(m)))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get globalKeyTargets(){return this._globalKeyTargets||(this._globalKeyTargets=this.loadKeyTargets(0)),this._globalKeyTargets}getKeyTargets(S){return 0===S?this.globalKeyTargets:this.workspaceKeyTargets}loadKeyTargets(S){const v=this.get(C,S);if(v)try{return JSON.parse(v)}catch(M){}return Object.create(null)}}return w.DEFAULT_FLUSH_INTERVAL=6e4,w})();class p extends I{constructor(){super(),this.globalStorage=this._register(new R(new d)),this.workspaceStorage=this._register(new R(new d)),this._register(this.workspaceStorage.onDidChangeStorage(E=>this.emitDidChangeValue(1,E))),this._register(this.globalStorage.onDidChangeStorage(E=>this.emitDidChangeValue(0,E)))}getStorage(E){return 0===E?this.globalStorage:this.workspaceStorage}}},5460:(Ct,Qe,a)=>{"use strict";a.d(Qe,{b:()=>U});const U=(0,a(4562).yh)("telemetryService")},7251:(Ct,Qe,a)=>{"use strict";a.d(Qe,{IP:()=>R,P6:()=>g,dR:()=>b,Id:()=>I,XZ:()=>p,R8:()=>w,lR:()=>E,xL:()=>S,ur:()=>v,sg:()=>M,Sw:()=>_,rh:()=>f,sE:()=>m,zJ:()=>L,dt:()=>F,PR:()=>G,XE:()=>Y,Pv:()=>de,_l:()=>le,YI:()=>ce,EP:()=>be,RV:()=>N,SU:()=>V,C3:()=>Z,p:()=>ie,_t:()=>ue,OZ:()=>oe,j5:()=>ne,b7:()=>he,GO:()=>ge,g8:()=>re,qe:()=>ye,_w:()=>ke,et:()=>xe,AB:()=>Pe,yn:()=>fe,zR:()=>Te,A2:()=>Ce,lX:()=>Je,b6:()=>pe,gp:()=>Ve,uo:()=>Ae,pW:()=>Ee,fe:()=>ze,c6:()=>Be,T8:()=>Ue,Du:()=>ot,fE:()=>vt,cv:()=>At,NO:()=>ve,D0:()=>ht,Hf:()=>Ge,D1:()=>De,Ng:()=>Le,zK:()=>dt,tZ:()=>_t,lo:()=>Nt,kJ:()=>zt,op:()=>pn,oQ:()=>Qt,lW:()=>Ht,AW:()=>qt,K1:()=>nt,hE:()=>bt,yb:()=>Rt,ES:()=>Dt,Rz:()=>Xe,g_:()=>ft,ny:()=>Oe,MU:()=>We,jU:()=>Ne,pn:()=>J,Ei:()=>_e,gk:()=>$e,pt:()=>at,yJ:()=>Et,Sb:()=>Lt,CN:()=>Pt,Lo:()=>on,_Y:()=>Kt,VV:()=>bn,Pp:()=>yn,Fu:()=>jn,sK:()=>Un,Cz:()=>zn,ke:()=>ci,yp:()=>vi,P4:()=>Ii,XL:()=>Fn,mH:()=>ut,LL:()=>Mt,L_:()=>kt,_b:()=>nn,_2:()=>sn,Oo:()=>gn,dC:()=>En,M6:()=>Zn,Tn:()=>ai,rg:()=>Yn,yt:()=>Mn,kv:()=>Nn,s$:()=>Li,F3:()=>si,mV:()=>Wi,$d:()=>rs,AS:()=>vs,Gw:()=>Ut,PX:()=>P,vG:()=>q,oS:()=>me,S:()=>Ke,Un:()=>qe,ux:()=>st,NP:()=>Ft,cb:()=>en,Vq:()=>Yt,Cd:()=>tn,DE:()=>un,Hz:()=>Cn,jb:()=>An,$D:()=>Bn,E3:()=>kn,ZG:()=>qn,u2:()=>fi,Pk:()=>hn,I1:()=>Ze,U6:()=>rt,Fm:()=>tt,SP:()=>we,KT:()=>Fe,ov:()=>Ye,Gj:()=>mt,Iv:()=>$t,kV:()=>Zt,CA:()=>fn,Xy:()=>In,br:()=>_n,Jp:()=>On,BO:()=>Kn,OL:()=>Wn,Zn:()=>Ie,kw:()=>et,Sn:()=>Vt});var T=a(1161),U=a(3727),j=a(6723),O=a(1606),k=a(5821),$=a(7922),B=a(1882);const R={ColorContribution:"base.contributions.colors"},C=new class{constructor(){this._onDidChangeSchema=new j.Q5,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(Rn,Gn,ei,Xn=!1,Sn){this.colorsById[Rn]={id:Rn,description:ei,defaults:Gn,needsTransparency:Xn,deprecationMessage:Sn};let di={type:"string",description:ei,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return Sn&&(di.deprecationMessage=Sn),this.colorSchema.properties[Rn]=di,this.colorReferenceSchema.enum.push(Rn),this.colorReferenceSchema.enumDescriptions.push(ei),this._onDidChangeSchema.fire(),Rn}resolveDefaultColor(Rn,Gn){const ei=this.colorsById[Rn];if(ei&&ei.defaults)return Vt(ei.defaults[Gn.type],Gn)}getColorSchema(){return this.colorSchema}toString(){return Object.keys(this.colorsById).sort((Gn,ei)=>{let Xn=-1===Gn.indexOf(".")?0:1,Sn=-1===ei.indexOf(".")?0:1;return Xn!==Sn?Xn-Sn:Gn.localeCompare(ei)}).map(Gn=>`- \`${Gn}\`: ${this.colorsById[Gn].description}`).join("\n")}};function g(Ln,Rn,Gn,ei,Xn){return C.registerColor(Ln,Rn,Gn,ei,Xn)}T.B.add(R.ColorContribution,C);const b=g("foreground",{dark:"#CCCCCC",light:"#616161",hc:"#FFFFFF"},O.N("foreground","Overall foreground color. This color is only used if not overridden by a component.")),I=g("errorForeground",{dark:"#F48771",light:"#A1260D",hc:"#F48771"},O.N("errorForeground","Overall foreground color for error messages. This color is only used if not overridden by a component.")),p=g("icon.foreground",{dark:"#C5C5C5",light:"#424242",hc:"#FFFFFF"},O.N("iconForeground","The default color for icons in the workbench.")),w=g("focusBorder",{dark:"#007FD4",light:"#0090F1",hc:"#F38518"},O.N("focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component.")),E=g("contrastBorder",{light:null,dark:null,hc:"#6FC3DF"},O.N("contrastBorder","An extra border around elements to separate them from others for greater contrast.")),S=g("contrastActiveBorder",{light:null,dark:null,hc:w},O.N("activeContrastBorder","An extra border around active elements to separate them from others for greater contrast.")),v=g("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hc:"#3794FF"},O.N("textLinkForeground","Foreground color for links in text.")),M=g("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hc:"#3794FF"},O.N("textLinkActiveForeground","Foreground color for links in text when clicked on and on mouse hover.")),_=g("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hc:U.Il.black},O.N("textCodeBlockBackground","Background color for code blocks in text.")),f=g("widget.shadow",{dark:Ie(U.Il.black,.36),light:Ie(U.Il.black,.16),hc:null},O.N("widgetShadow","Shadow color of widgets such as find/replace inside the editor.")),m=g("input.background",{dark:"#3C3C3C",light:U.Il.white,hc:U.Il.black},O.N("inputBoxBackground","Input box background.")),L=g("input.foreground",{dark:b,light:b,hc:b},O.N("inputBoxForeground","Input box foreground.")),F=g("input.border",{dark:null,light:null,hc:E},O.N("inputBoxBorder","Input box border.")),G=g("inputOption.activeBorder",{dark:"#007ACC00",light:"#007ACC00",hc:E},O.N("inputBoxActiveOptionBorder","Border color of activated options in input fields.")),Y=g("inputOption.activeBackground",{dark:Ie(w,.4),light:Ie(w,.2),hc:U.Il.transparent},O.N("inputOption.activeBackground","Background color of activated options in input fields.")),de=g("inputOption.activeForeground",{dark:U.Il.white,light:U.Il.black,hc:null},O.N("inputOption.activeForeground","Foreground color of activated options in input fields.")),le=g("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hc:U.Il.black},O.N("inputValidationInfoBackground","Input validation background color for information severity.")),ce=g("inputValidation.infoForeground",{dark:null,light:null,hc:null},O.N("inputValidationInfoForeground","Input validation foreground color for information severity.")),be=g("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hc:E},O.N("inputValidationInfoBorder","Input validation border color for information severity.")),N=g("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hc:U.Il.black},O.N("inputValidationWarningBackground","Input validation background color for warning severity.")),V=g("inputValidation.warningForeground",{dark:null,light:null,hc:null},O.N("inputValidationWarningForeground","Input validation foreground color for warning severity.")),Z=g("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hc:E},O.N("inputValidationWarningBorder","Input validation border color for warning severity.")),ie=g("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hc:U.Il.black},O.N("inputValidationErrorBackground","Input validation background color for error severity.")),ue=g("inputValidation.errorForeground",{dark:null,light:null,hc:null},O.N("inputValidationErrorForeground","Input validation foreground color for error severity.")),oe=g("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hc:E},O.N("inputValidationErrorBorder","Input validation border color for error severity.")),ee=g("dropdown.background",{dark:"#3C3C3C",light:U.Il.white,hc:U.Il.black},O.N("dropdownBackground","Dropdown background.")),K=g("dropdown.foreground",{dark:"#F0F0F0",light:null,hc:U.Il.white},O.N("dropdownForeground","Dropdown foreground.")),ne=g("button.foreground",{dark:U.Il.white,light:U.Il.white,hc:U.Il.white},O.N("buttonForeground","Button foreground color.")),he=g("button.background",{dark:"#0E639C",light:"#007ACC",hc:null},O.N("buttonBackground","Button background color.")),ge=g("button.hoverBackground",{dark:X(he,.2),light:Wt(he,.2),hc:null},O.N("buttonHoverBackground","Button background color when hovering.")),re=g("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hc:U.Il.black},O.N("badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count.")),ye=g("badge.foreground",{dark:U.Il.white,light:"#333",hc:U.Il.white},O.N("badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count.")),ke=g("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hc:null},O.N("scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled.")),xe=g("scrollbarSlider.background",{dark:U.Il.fromHex("#797979").transparent(.4),light:U.Il.fromHex("#646464").transparent(.4),hc:Ie(E,.6)},O.N("scrollbarSliderBackground","Scrollbar slider background color.")),Pe=g("scrollbarSlider.hoverBackground",{dark:U.Il.fromHex("#646464").transparent(.7),light:U.Il.fromHex("#646464").transparent(.7),hc:Ie(E,.8)},O.N("scrollbarSliderHoverBackground","Scrollbar slider background color when hovering.")),fe=g("scrollbarSlider.activeBackground",{dark:U.Il.fromHex("#BFBFBF").transparent(.4),light:U.Il.fromHex("#000000").transparent(.6),hc:E},O.N("scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on.")),Te=g("progressBar.background",{dark:U.Il.fromHex("#0E70C0"),light:U.Il.fromHex("#0E70C0"),hc:E},O.N("progressBarBackground","Background color of the progress bar that can show for long running operations.")),Ce=g("editorError.background",{dark:null,light:null,hc:null},O.N("editorError.background","Background color of error text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),Je=g("editorError.foreground",{dark:"#F48771",light:"#E51400",hc:null},O.N("editorError.foreground","Foreground color of error squigglies in the editor.")),pe=g("editorError.border",{dark:null,light:null,hc:U.Il.fromHex("#E47777").transparent(.8)},O.N("errorBorder","Border color of error boxes in the editor.")),Ve=g("editorWarning.background",{dark:null,light:null,hc:null},O.N("editorWarning.background","Background color of warning text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),Ae=g("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hc:null},O.N("editorWarning.foreground","Foreground color of warning squigglies in the editor.")),Ee=g("editorWarning.border",{dark:null,light:null,hc:U.Il.fromHex("#FFCC00").transparent(.8)},O.N("warningBorder","Border color of warning boxes in the editor.")),ze=g("editorInfo.background",{dark:null,light:null,hc:null},O.N("editorInfo.background","Background color of info text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),Be=g("editorInfo.foreground",{dark:"#75BEFF",light:"#75BEFF",hc:null},O.N("editorInfo.foreground","Foreground color of info squigglies in the editor.")),Ue=g("editorInfo.border",{dark:null,light:null,hc:U.Il.fromHex("#75BEFF").transparent(.8)},O.N("infoBorder","Border color of info boxes in the editor.")),ot=g("editorHint.foreground",{dark:U.Il.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hc:null},O.N("editorHint.foreground","Foreground color of hint squigglies in the editor.")),vt=g("editorHint.border",{dark:null,light:null,hc:U.Il.fromHex("#eeeeee").transparent(.8)},O.N("hintBorder","Border color of hint boxes in the editor.")),At=g("editor.background",{light:"#fffffe",dark:"#1E1E1E",hc:U.Il.black},O.N("editorBackground","Editor background color.")),ve=g("editor.foreground",{light:"#333333",dark:"#BBBBBB",hc:U.Il.white},O.N("editorForeground","Editor default foreground color.")),ht=g("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hc:"#0C141F"},O.N("editorWidgetBackground","Background color of editor widgets, such as find/replace.")),Ge=g("editorWidget.foreground",{dark:b,light:b,hc:b},O.N("editorWidgetForeground","Foreground color of editor widgets, such as find/replace.")),De=g("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hc:E},O.N("editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget.")),Le=g("editorWidget.resizeBorder",{light:null,dark:null,hc:null},O.N("editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget.")),dt=g("quickInput.background",{dark:ht,light:ht,hc:ht},O.N("pickerBackground","Quick picker background color. The quick picker widget is the container for pickers like the command palette.")),_t=g("quickInput.foreground",{dark:Ge,light:Ge,hc:Ge},O.N("pickerForeground","Quick picker foreground color. The quick picker widget is the container for pickers like the command palette.")),Nt=g("quickInputTitle.background",{dark:new U.Il(new U.VS(255,255,255,.105)),light:new U.Il(new U.VS(0,0,0,.06)),hc:"#000000"},O.N("pickerTitleBackground","Quick picker title background color. The quick picker widget is the container for pickers like the command palette.")),zt=g("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hc:U.Il.white},O.N("pickerGroupForeground","Quick picker color for grouping labels.")),pn=g("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hc:U.Il.white},O.N("pickerGroupBorder","Quick picker color for grouping borders.")),Qt=g("keybindingLabel.background",{dark:new U.Il(new U.VS(128,128,128,.17)),light:new U.Il(new U.VS(221,221,221,.4)),hc:U.Il.transparent},O.N("keybindingLabelBackground","Keybinding label background color. The keybinding label is used to represent a keyboard shortcut.")),Ht=g("keybindingLabel.foreground",{dark:U.Il.fromHex("#CCCCCC"),light:U.Il.fromHex("#555555"),hc:U.Il.white},O.N("keybindingLabelForeground","Keybinding label foreground color. The keybinding label is used to represent a keyboard shortcut.")),qt=g("keybindingLabel.border",{dark:new U.Il(new U.VS(51,51,51,.6)),light:new U.Il(new U.VS(204,204,204,.4)),hc:new U.Il(new U.VS(111,195,223))},O.N("keybindingLabelBorder","Keybinding label border color. The keybinding label is used to represent a keyboard shortcut.")),nt=g("keybindingLabel.bottomBorder",{dark:new U.Il(new U.VS(68,68,68,.6)),light:new U.Il(new U.VS(187,187,187,.4)),hc:new U.Il(new U.VS(111,195,223))},O.N("keybindingLabelBottomBorder","Keybinding label border bottom color. The keybinding label is used to represent a keyboard shortcut.")),bt=g("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hc:"#f3f518"},O.N("editorSelectionBackground","Color of the editor selection.")),Rt=g("editor.selectionForeground",{light:null,dark:null,hc:"#000000"},O.N("editorSelectionForeground","Color of the selected text for high contrast.")),Dt=g("editor.inactiveSelectionBackground",{light:Ie(bt,.5),dark:Ie(bt,.5),hc:Ie(bt,.5)},O.N("editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),Xe=g("editor.selectionHighlightBackground",{light:wt(bt,At,.3,.6),dark:wt(bt,At,.3,.6),hc:null},O.N("editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0),ft=g("editor.selectionHighlightBorder",{light:null,dark:null,hc:S},O.N("editorSelectionHighlightBorder","Border color for regions with the same content as the selection.")),Oe=g("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hc:null},O.N("editorFindMatch","Color of the current search match.")),We=g("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hc:null},O.N("findMatchHighlight","Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0),Ne=g("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hc:null},O.N("findRangeHighlight","Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),J=g("editor.findMatchBorder",{light:null,dark:null,hc:S},O.N("editorFindMatchBorder","Border color of the current search match.")),_e=g("editor.findMatchHighlightBorder",{light:null,dark:null,hc:S},O.N("findMatchHighlightBorder","Border color of the other search matches.")),$e=g("editor.findRangeHighlightBorder",{dark:null,light:null,hc:Ie(S,.4)},O.N("findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),at=g("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hc:"#ADD6FF26"},O.N("hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0),Et=g("editorHoverWidget.background",{light:ht,dark:ht,hc:ht},O.N("hoverBackground","Background color of the editor hover.")),Lt=g("editorHoverWidget.foreground",{light:Ge,dark:Ge,hc:Ge},O.N("hoverForeground","Foreground color of the editor hover.")),Pt=g("editorHoverWidget.border",{light:De,dark:De,hc:De},O.N("hoverBorder","Border color of the editor hover.")),on=g("editorHoverWidget.statusBarBackground",{dark:X(Et,.2),light:Wt(Et,.05),hc:ht},O.N("statusBarBackground","Background color of the editor hover status bar.")),Kt=g("editorLink.activeForeground",{dark:"#4E94CE",light:U.Il.blue,hc:U.Il.cyan},O.N("activeLinkForeground","Color of active links.")),bn=g("editorInlayHint.foreground",{dark:ht,light:Ge,hc:ht},O.N("editorInlayHintForeground","Foreground color of inline hints")),yn=g("editorInlayHint.background",{dark:Ge,light:ht,hc:Ge},O.N("editorInlayHintBackground","Background color of inline hints")),jn=g("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hc:"#FFCC00"},O.N("editorLightBulbForeground","The color used for the lightbulb actions icon.")),Un=g("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},O.N("editorLightBulbAutoFixForeground","The color used for the lightbulb auto fix actions icon.")),zn=new U.Il(new U.VS(155,185,85,.2)),ci=new U.Il(new U.VS(255,0,0,.2)),vi=g("diffEditor.insertedTextBackground",{dark:zn,light:zn,hc:null},O.N("diffEditorInserted","Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),Ii=g("diffEditor.removedTextBackground",{dark:ci,light:ci,hc:null},O.N("diffEditorRemoved","Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),Fn=g("diffEditor.insertedTextBorder",{dark:null,light:null,hc:"#33ff2eff"},O.N("diffEditorInsertedOutline","Outline color for the text that got inserted.")),ut=g("diffEditor.removedTextBorder",{dark:null,light:null,hc:"#FF008F"},O.N("diffEditorRemovedOutline","Outline color for text that got removed.")),Mt=g("diffEditor.border",{dark:null,light:null,hc:E},O.N("diffEditorBorder","Border color between the two text editors.")),kt=g("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hc:null},O.N("diffDiagonalFill","Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views.")),nn=g("list.focusBackground",{dark:null,light:null,hc:null},O.N("listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),sn=g("list.focusForeground",{dark:null,light:null,hc:null},O.N("listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),gn=g("list.focusOutline",{dark:w,light:w,hc:S},O.N("listFocusOutline","List/Tree outline color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),En=g("list.activeSelectionBackground",{dark:"#094771",light:"#0060C0",hc:null},O.N("listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Zn=g("list.activeSelectionForeground",{dark:U.Il.white,light:U.Il.white,hc:null},O.N("listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),ai=g("list.activeSelectionIconForeground",{dark:null,light:null,hc:null},O.N("listActiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Yn=g("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hc:null},O.N("listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Mn=g("list.inactiveSelectionForeground",{dark:null,light:null,hc:null},O.N("listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Nn=g("list.inactiveSelectionIconForeground",{dark:null,light:null,hc:null},O.N("listInactiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Li=g("list.inactiveFocusBackground",{dark:null,light:null,hc:null},O.N("listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),si=g("list.inactiveFocusOutline",{dark:null,light:null,hc:null},O.N("listInactiveFocusOutline","List/Tree outline color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Wi=g("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hc:null},O.N("listHoverBackground","List/Tree background when hovering over items using the mouse.")),rs=g("list.hoverForeground",{dark:null,light:null,hc:null},O.N("listHoverForeground","List/Tree foreground when hovering over items using the mouse.")),vs=g("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hc:null},O.N("listDropBackground","List/Tree drag and drop background when moving items around using the mouse.")),Ut=g("list.highlightForeground",{dark:"#18A3FF",light:"#0066BF",hc:w},O.N("highlight","List/Tree foreground color of the match highlights when searching inside the list/tree.")),P=g("list.focusHighlightForeground",{dark:Ut,light:Ut,hc:Ut},O.N("listFocusHighlightForeground","List/Tree foreground color of the match highlights on actively focused items when searching inside the list/tree.")),q=g("listFilterWidget.background",{light:"#efc1ad",dark:"#653723",hc:U.Il.black},O.N("listFilterWidgetBackground","Background color of the type filter widget in lists and trees.")),me=g("listFilterWidget.outline",{dark:U.Il.transparent,light:U.Il.transparent,hc:"#f38518"},O.N("listFilterWidgetOutline","Outline color of the type filter widget in lists and trees.")),Ke=g("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hc:E},O.N("listFilterWidgetNoMatchesOutline","Outline color of the type filter widget in lists and trees, when there are no matches.")),qe=g("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hc:"#a9a9a9"},O.N("treeIndentGuidesStroke","Tree stroke color for the indentation guides.")),st=g("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hc:null},O.N("treeIndentGuidesStroke","Tree stroke color for the indentation guides.")),jt=g("quickInput.list.focusBackground",{dark:null,light:null,hc:null},"",void 0,O.N("quickInput.list.focusBackground deprecation","Please use quickInputList.focusBackground instead")),Ft=g("quickInputList.focusForeground",{dark:Zn,light:Zn,hc:Zn},O.N("quickInput.listFocusForeground","Quick picker foreground color for the focused item.")),en=g("quickInputList.focusIconForeground",{dark:ai,light:ai,hc:ai},O.N("quickInput.listFocusIconForeground","Quick picker icon foreground color for the focused item.")),Yt=g("quickInputList.focusBackground",{dark:et(jt,En,"#062F4A"),light:et(jt,En,"#D6EBFF"),hc:null},O.N("quickInput.listFocusBackground","Quick picker background color for the focused item.")),tn=g("menu.border",{dark:null,light:null,hc:E},O.N("menuBorder","Border color of menus.")),un=g("menu.foreground",{dark:K,light:b,hc:K},O.N("menuForeground","Foreground color of menu items.")),Cn=g("menu.background",{dark:ee,light:ee,hc:ee},O.N("menuBackground","Background color of menu items.")),An=g("menu.selectionForeground",{dark:Zn,light:Zn,hc:Zn},O.N("menuSelectionForeground","Foreground color of the selected menu item in menus.")),Bn=g("menu.selectionBackground",{dark:En,light:En,hc:En},O.N("menuSelectionBackground","Background color of the selected menu item in menus.")),kn=g("menu.selectionBorder",{dark:null,light:null,hc:S},O.N("menuSelectionBorder","Border color of the selected menu item in menus.")),qn=g("menu.separatorBackground",{dark:"#BBBBBB",light:"#888888",hc:E},O.N("menuSeparatorBackground","Color of a separator menu item in menus.")),fi=g("editor.snippetTabstopHighlightBackground",{dark:new U.Il(new U.VS(124,124,124,.3)),light:new U.Il(new U.VS(10,50,100,.2)),hc:new U.Il(new U.VS(124,124,124,.3))},O.N("snippetTabstopHighlightBackground","Highlight background color of a snippet tabstop.")),hn=g("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hc:null},O.N("snippetTabstopHighlightBorder","Highlight border color of a snippet tabstop.")),Ze=g("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hc:null},O.N("snippetFinalTabstopHighlightBackground","Highlight background color of the final tabstop of a snippet.")),rt=g("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new U.Il(new U.VS(10,50,100,.5)),hc:"#525252"},O.N("snippetFinalTabstopHighlightBorder","Highlight border color of the final tabstop of a snippet.")),tt=g("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hc:"#AB5A00"},O.N("overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0),we=g("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},O.N("overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0),Fe=g("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hc:"#AB5A00"},O.N("minimapFindMatchHighlight","Minimap marker color for find matches."),!0),Ye=g("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hc:"#ffffff"},O.N("minimapSelectionHighlight","Minimap marker color for the editor selection."),!0),mt=g("minimap.errorHighlight",{dark:new U.Il(new U.VS(255,18,18,.7)),light:new U.Il(new U.VS(255,18,18,.7)),hc:new U.Il(new U.VS(255,50,50,1))},O.N("minimapError","Minimap marker color for errors.")),$t=g("minimap.warningHighlight",{dark:Ae,light:Ae,hc:Ee},O.N("overviewRuleWarning","Minimap marker color for warnings.")),Zt=g("minimap.background",{dark:null,light:null,hc:null},O.N("minimapBackground","Minimap background color.")),fn=g("minimapSlider.background",{light:Ie(xe,.5),dark:Ie(xe,.5),hc:Ie(xe,.5)},O.N("minimapSliderBackground","Minimap slider background color.")),In=g("minimapSlider.hoverBackground",{light:Ie(Pe,.5),dark:Ie(Pe,.5),hc:Ie(Pe,.5)},O.N("minimapSliderHoverBackground","Minimap slider background color when hovering.")),_n=g("minimapSlider.activeBackground",{light:Ie(fe,.5),dark:Ie(fe,.5),hc:Ie(fe,.5)},O.N("minimapSliderActiveBackground","Minimap slider background color when clicked on.")),On=g("problemsErrorIcon.foreground",{dark:Je,light:Je,hc:Je},O.N("problemsErrorIconForeground","The color used for the problems error icon.")),Kn=g("problemsWarningIcon.foreground",{dark:Ae,light:Ae,hc:Ae},O.N("problemsWarningIconForeground","The color used for the problems warning icon.")),Wn=g("problemsInfoIcon.foreground",{dark:Be,light:Be,hc:Be},O.N("problemsInfoIconForeground","The color used for the problems info icon."));function Wt(Ln,Rn){return{op:0,value:Ln,factor:Rn}}function X(Ln,Rn){return{op:1,value:Ln,factor:Rn}}function Ie(Ln,Rn){return{op:2,value:Ln,factor:Rn}}function et(...Ln){return{op:3,values:Ln}}function wt(Ln,Rn,Gn,ei){return{op:4,value:Ln,background:Rn,factor:Gn,transparency:ei}}function Vt(Ln,Rn){if(null!==Ln){if("string"==typeof Ln)return"#"===Ln[0]?U.Il.fromHex(Ln):Rn.getColor(Ln);if(Ln instanceof U.Il)return Ln;if("object"==typeof Ln)return function(Ln,Rn){var Gn,ei,Xn;switch(Ln.op){case 0:return null===(Gn=Vt(Ln.value,Rn))||void 0===Gn?void 0:Gn.darken(Ln.factor);case 1:return null===(ei=Vt(Ln.value,Rn))||void 0===ei?void 0:ei.lighten(Ln.factor);case 2:return null===(Xn=Vt(Ln.value,Rn))||void 0===Xn?void 0:Xn.transparent(Ln.factor);case 3:for(const di of Ln.values){const Hi=Vt(di,Rn);if(Hi)return Hi}return;case 4:const Sn=Vt(Ln.value,Rn);if(!Sn)return;const Qn=Vt(Ln.background,Rn);return Qn?Sn.isDarkerThan(Qn)?U.Il.getLighterColor(Sn,Qn,Ln.factor).transparent(Ln.transparency):U.Il.getDarkerColor(Sn,Qn,Ln.factor).transparent(Ln.transparency):Sn.transparent(Ln.factor*Ln.transparency);default:throw(0,B.vE)(Ln)}}(Ln,Rn)}}const Tt="vscode://schemas/workbench-colors";let vn=T.B.as(k.I.JSONContribution);vn.registerSchema(Tt,C.getColorSchema());const wn=new $.pY(()=>vn.notifySchemaChanged(Tt),200);C.onDidChangeSchema(()=>{wn.isScheduled()||wn.schedule()})},6571:(Ct,Qe,a)=>{"use strict";a.d(Qe,{q5:()=>g,Ks:()=>b,s_:()=>S});var T=a(1161),U=a(6803),j=a(6723),O=a(1606),k=a(5821),$=a(7922),B=a(521);const C=new class{constructor(){this._onDidChange=new j.Q5,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:(0,O.N)("iconDefintion.fontId","The id of the font to use. If not set, the font that is defined first is used.")},fontCharacter:{type:"string",description:(0,O.N)("iconDefintion.fontCharacter","The font character associated with the icon definition.")}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${B.dT.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(M,_,f,m){const L=this.iconsById[M];if(L){if(f&&!L.description){L.description=f,this.iconSchema.properties[M].markdownDescription=`${f} $(${M})`;const Y=this.iconReferenceSchema.enum.indexOf(M);-1!==Y&&(this.iconReferenceSchema.enumDescriptions[Y]=f),this._onDidChange.fire()}return L}this.iconsById[M]={id:M,description:f,defaults:_,deprecationMessage:m};let G={$ref:"#/definitions/icons"};return m&&(G.deprecationMessage=m),f&&(G.markdownDescription=`${f}: $(${M})`),this.iconSchema.properties[M]=G,this.iconReferenceSchema.enum.push(M),this.iconReferenceSchema.enumDescriptions.push(f||""),this._onDidChange.fire(),{id:M}}getIcons(){return Object.keys(this.iconsById).map(M=>this.iconsById[M])}getIcon(M){return this.iconsById[M]}getIconSchema(){return this.iconSchema}getIconFont(M){return this.iconFontsById[M]}toString(){const M=(L,F)=>L.id.localeCompare(F.id),_=L=>{for(;U.kS.isThemeIcon(L.defaults);)L=this.iconsById[L.defaults.id];return`codicon codicon-${L?L.id:""}`};let f=[];f.push("| preview     | identifier                        | default codicon ID                | description"),f.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const m=Object.keys(this.iconsById).map(L=>this.iconsById[L]);for(const L of m.filter(F=>!!F.description).sort(M))f.push(`|<i class="${_(L)}"></i>|${L.id}|${U.kS.isThemeIcon(L.defaults)?L.defaults.id:L.id}|${L.description||""}|`);f.push("| preview     | identifier                        "),f.push("| ----------- | --------------------------------- |");for(const L of m.filter(F=>!U.kS.isThemeIcon(F.defaults)).sort(M))f.push(`|<i class="${_(L)}"></i>|${L.id}|`);return f.join("\n")}};function g(v,M,_,f){return C.registerIcon(v,M,_,f)}function b(){return C}T.B.add("base.contributions.icons",C),function(){for(const v of B.fK.all)C.registerIcon(v.id,v.definition,v.description);B.fK.onDidRegister(v=>C.registerIcon(v.id,v.definition,v.description))}();const p="vscode://schemas/icons";let w=T.B.as(k.I.JSONContribution);w.registerSchema(p,C.getIconSchema());const E=new $.pY(()=>w.notifySchemaChanged(p),200);C.onDidChange(()=>{E.isScheduled()||E.schedule()});const S=g("widget-close",B.lA.close,(0,O.N)("widgetClose","Icon for the close action in widgets."))},1710:(Ct,Qe,a)=>{"use strict";a.d(Qe,{o:()=>U,WZ:()=>O,Jl:()=>k,O2:()=>$,tj:()=>R});var T=a(7251);function U(d,C){const g=Object.create(null);for(let b in C){const I=C[b];I&&(g[b]=(0,T.Sn)(I,d))}return g}function j(d,C,g){function b(){const I=U(d.getColorTheme(),C);"function"==typeof g?g(I):g.style(I)}return b(),d.onDidColorThemeChange(b)}function O(d,C,g){return j(C,{badgeBackground:(null==g?void 0:g.badgeBackground)||T.g8,badgeForeground:(null==g?void 0:g.badgeForeground)||T.qe,badgeBorder:T.lR},d)}function k(d,C,g){return j(C,Object.assign(Object.assign({},$),g||{}),d)}const $={listFocusBackground:T._b,listFocusForeground:T._2,listFocusOutline:T.Oo,listActiveSelectionBackground:T.dC,listActiveSelectionForeground:T.M6,listActiveSelectionIconForeground:T.Tn,listFocusAndSelectionBackground:T.dC,listFocusAndSelectionForeground:T.M6,listInactiveSelectionBackground:T.rg,listInactiveSelectionIconForeground:T.kv,listInactiveSelectionForeground:T.yt,listInactiveFocusBackground:T.s$,listInactiveFocusOutline:T.F3,listHoverBackground:T.mV,listHoverForeground:T.$d,listDropBackground:T.AS,listSelectionOutline:T.xL,listHoverOutline:T.xL,listFilterWidgetBackground:T.vG,listFilterWidgetOutline:T.oS,listFilterWidgetNoMatchesOutline:T.S,listMatchesShadow:T.rh,treeIndentGuidesStroke:T.Un,tableColumnsBorder:T.ux},B={shadowColor:T.rh,borderColor:T.Cd,foregroundColor:T.DE,backgroundColor:T.Hz,selectionForegroundColor:T.jb,selectionBackgroundColor:T.$D,selectionBorderColor:T.E3,separatorColor:T.ZG};function R(d,C,g){return j(C,Object.assign(Object.assign({},B),g),d)}},786:(Ct,Qe,a)=>{"use strict";a.d(Qe,{e:()=>T});var T=(()=>{return(U=T||(T={})).DARK="dark",U.LIGHT="light",U.HIGH_CONTRAST="hc",T;var U})()},6803:(Ct,Qe,a)=>{"use strict";a.d(Qe,{XE:()=>B,EN:()=>d,kS:()=>C,m6:()=>g,IP:()=>b,Ic:()=>w,bB:()=>E});var T=a(4562),U=a(1719),j=a(1161),O=a(6723),k=a(786),$=a(521);const B=(0,T.yh)("themeService");var R,C;function d(S){return{id:S}}function g(S){switch(S){case k.e.DARK:return"vs-dark";case k.e.HIGH_CONTRAST:return"hc-black";default:return"vs"}}(R||(R={})).isThemeColor=function(M){return M&&"object"==typeof M&&"string"==typeof M.id},function(S){S.isThemeIcon=function(F){return F&&"object"==typeof F&&"string"==typeof F.id&&(void 0===F.color||R.isThemeColor(F.color))};const M=new RegExp(`^\\$\\((${$.dT.iconNameExpression}(?:${$.dT.iconModifierExpression})?)\\)$`);S.fromString=function(F){const G=M.exec(F);if(!G)return;let[,Y]=G;return{id:Y}},S.modify=function(F,G){let Y=F.id;const de=Y.lastIndexOf("~");return-1!==de&&(Y=Y.substring(0,de)),G&&(Y=`${Y}~${G}`),{id:Y}},S.isEqual=function(F,G){var Y,de;return F.id===G.id&&(null===(Y=F.color)||void 0===Y?void 0:Y.id)===(null===(de=G.color)||void 0===de?void 0:de.id)},S.asThemeIcon=function(F){return{id:F.id}},S.asClassNameArray=$.dT.asClassNameArray,S.asClassName=$.dT.asClassName,S.asCSSSelector=$.dT.asCSSSelector}(C||(C={}));const b={ThemingContribution:"base.contributions.theming"};let p=new class{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new O.Q5}onColorThemeChange(v){return this.themingParticipants.push(v),this.onThemingParticipantAddedEmitter.fire(v),(0,U.OF)(()=>{const M=this.themingParticipants.indexOf(v);this.themingParticipants.splice(M,1)})}getThemingParticipants(){return this.themingParticipants}};function w(S){return p.onColorThemeChange(S)}j.B.add(b.ThemingContribution,p);class E extends U.JT{constructor(v){super(),this.themeService=v,this.theme=v.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(M=>this.onThemeChange(M)))}onThemeChange(v){this.theme=v,this.updateStyles()}updateStyles(){}}},6995:(Ct,Qe,a)=>{"use strict";a.d(Qe,{tJ:()=>U,YO:()=>j,Xt:()=>O,gJ:()=>k});const U=(0,a(4562).yh)("undoRedoService");class j{constructor(B,R){this.resource=B,this.elements=R}}class O{constructor(){this.id=O._ID++,this.order=1}nextOrder(){return 0===this.id?0:this.order++}}O._ID=0,O.None=new O;class k{constructor(){this.id=k._ID++,this.order=1}nextOrder(){return 0===this.id?0:this.order++}}k._ID=0,k.None=new k},7554:(Ct,Qe,a)=>{"use strict";a.d(Qe,{ec:()=>j,md:()=>k});var T=a(4562);a(299);const j=(0,T.yh)("contextService");class k{constructor(B,R){this.raw=R,this.uri=B.uri,this.index=B.index,this.name=B.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}},5371:(Ct,Qe,a)=>{"use strict";function T(n){return"function"==typeof n}let U=!1;const j={Promise:void 0,set useDeprecatedSynchronousErrorHandling(n){if(n){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else U&&console.log("RxJS: Back to a better error behavior. Thank you. <3");U=n},get useDeprecatedSynchronousErrorHandling(){return U}};function O(n){setTimeout(()=>{throw n},0)}const k={closed:!0,next(n){},error(n){if(j.useDeprecatedSynchronousErrorHandling)throw n;O(n)},complete(){}},$=Array.isArray||(n=>n&&"number"==typeof n.length);function B(n){return null!==n&&"object"==typeof n}const d=(()=>{function n(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((e,i)=>`${i+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return n.prototype=Object.create(Error.prototype),n})();class C{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:e,_ctorUnsubscribe:i,_unsubscribe:s,_subscriptions:o}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,e instanceof C)e.remove(this);else if(null!==e)for(let u=0;u<e.length;++u)e[u].remove(this);if(T(s)){i&&(this._unsubscribe=void 0);try{s.call(this)}catch(u){t=u instanceof d?g(u.errors):[u]}}if($(o)){let u=-1,x=o.length;for(;++u<x;){const H=o[u];if(B(H))try{H.unsubscribe()}catch(se){t=t||[],se instanceof d?t=t.concat(g(se.errors)):t.push(se)}}}if(t)throw new d(t)}add(t){let e=t;if(!t)return C.EMPTY;switch(typeof t){case"function":e=new C(t);case"object":if(e===this||e.closed||"function"!=typeof e.unsubscribe)return e;if(this.closed)return e.unsubscribe(),e;if(!(e instanceof C)){const o=e;e=new C,e._subscriptions=[o]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:i}=e;if(null===i)e._parentOrParents=this;else if(i instanceof C){if(i===this)return e;e._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return e;i.push(this)}const s=this._subscriptions;return null===s?this._subscriptions=[e]:s.push(e),e}remove(t){const e=this._subscriptions;if(e){const i=e.indexOf(t);-1!==i&&e.splice(i,1)}}}var n;function g(n){return n.reduce((t,e)=>t.concat(e instanceof d?e.errors:e),[])}C.EMPTY=((n=new C).closed=!0,n);const b="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class p extends C{constructor(t,e,i){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=k;break;case 1:if(!t){this.destination=k;break}if("object"==typeof t){t instanceof p?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new w(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new w(this,t,e,i)}}[b](){return this}static create(t,e,i){const s=new p(t,e,i);return s.syncErrorThrowable=!1,s}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class w extends p{constructor(t,e,i,s){super(),this._parentSubscriber=t;let o,u=this;T(e)?o=e:e&&(o=e.next,i=e.error,s=e.complete,e!==k&&(u=Object.create(e),T(u.unsubscribe)&&this.add(u.unsubscribe.bind(u)),u.unsubscribe=this.unsubscribe.bind(this))),this._context=u,this._next=o,this._error=i,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;j.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:i}=j;if(this._error)i&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)i?(e.syncErrorValue=t,e.syncErrorThrown=!0):O(t),this.unsubscribe();else{if(this.unsubscribe(),i)throw t;O(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);j.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(i){if(this.unsubscribe(),j.useDeprecatedSynchronousErrorHandling)throw i;O(i)}}__tryOrSetError(t,e,i){if(!j.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,i)}catch(s){return j.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=s,t.syncErrorThrown=!0,!0):(O(s),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const v="function"==typeof Symbol&&Symbol.observable||"@@observable";function M(n){return n}let m=(()=>{class n{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,s){const{operator:o}=this,u=function(n,t,e){if(n){if(n instanceof p)return n;if(n[b])return n[b]()}return n||t||e?new p(n,t,e):new p(k)}(e,i,s);if(u.add(o?o.call(u,this.source):this.source||j.useDeprecatedSynchronousErrorHandling&&!u.syncErrorThrowable?this._subscribe(u):this._trySubscribe(u)),j.useDeprecatedSynchronousErrorHandling&&u.syncErrorThrowable&&(u.syncErrorThrowable=!1,u.syncErrorThrown))throw u.syncErrorValue;return u}_trySubscribe(e){try{return this._subscribe(e)}catch(i){j.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=i),function(n){for(;n;){const{closed:t,destination:e,isStopped:i}=n;if(t||i)return!1;n=e&&e instanceof p?e:null}return!0}(e)?e.error(i):console.warn(i)}}forEach(e,i){return new(i=L(i))((s,o)=>{let u;u=this.subscribe(x=>{try{e(x)}catch(H){o(H),u&&u.unsubscribe()}},o,s)})}_subscribe(e){const{source:i}=this;return i&&i.subscribe(e)}[v](){return this}pipe(...e){return 0===e.length?this:function(n){return 0===n.length?M:1===n.length?n[0]:function(e){return n.reduce((i,s)=>s(i),e)}}(e)(this)}toPromise(e){return new(e=L(e))((i,s)=>{let o;this.subscribe(u=>o=u,u=>s(u),()=>i(o))})}}return n.create=t=>new n(t),n})();function L(n){if(n||(n=j.Promise||Promise),!n)throw new Error("no Promise impl found");return n}const G=(()=>{function n(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return n.prototype=Object.create(Error.prototype),n})();class Y extends C{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const i=e.indexOf(this.subscriber);-1!==i&&e.splice(i,1)}}class de extends p{constructor(t){super(t),this.destination=t}}let le=(()=>{class n extends m{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[b](){return new de(this)}lift(e){const i=new ce(this,this);return i.operator=e,i}next(e){if(this.closed)throw new G;if(!this.isStopped){const{observers:i}=this,s=i.length,o=i.slice();for(let u=0;u<s;u++)o[u].next(e)}}error(e){if(this.closed)throw new G;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:i}=this,s=i.length,o=i.slice();for(let u=0;u<s;u++)o[u].error(e);this.observers.length=0}complete(){if(this.closed)throw new G;this.isStopped=!0;const{observers:e}=this,i=e.length,s=e.slice();for(let o=0;o<i;o++)s[o].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new G;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new G;return this.hasError?(e.error(this.thrownError),C.EMPTY):this.isStopped?(e.complete(),C.EMPTY):(this.observers.push(e),new Y(this,e))}asObservable(){const e=new m;return e.source=this,e}}return n.create=(t,e)=>new ce(t,e),n})();class ce extends le{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):C.EMPTY}}function be(n){return n&&"function"==typeof n.schedule}function N(n,t){return function(i){if("function"!=typeof n)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return i.lift(new V(n,t))}}class V{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new Z(t,this.project,this.thisArg))}}class Z extends p{constructor(t,e,i){super(t),this.project=e,this.count=0,this.thisArg=i||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}const ie=n=>t=>{for(let e=0,i=n.length;e<i&&!t.closed;e++)t.next(n[e]);t.complete()},ee="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",ge=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function re(n){return!!n&&"function"!=typeof n.subscribe&&"function"==typeof n.then}const ye=n=>{if(n&&"function"==typeof n[v])return(n=>t=>{const e=n[v]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)})(n);if(ge(n))return ie(n);if(re(n))return(n=>t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,O),t))(n);if(n&&"function"==typeof n[ee])return(n=>t=>{const e=n[ee]();for(;;){let i;try{i=e.next()}catch(s){return t.error(s),t}if(i.done){t.complete();break}if(t.next(i.value),t.closed)break}return"function"==typeof e.return&&t.add(()=>{e.return&&e.return()}),t})(n);{const e=`You provided ${B(n)?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(e)}};function Pe(n,t){return new m(e=>{const i=new C;let s=0;return i.add(t.schedule(function(){s!==n.length?(e.next(n[s++]),e.closed||i.add(this.schedule())):e.complete()})),i})}function pe(n,t){return t?function(n,t){if(null!=n){if(function(n){return n&&"function"==typeof n[v]}(n))return function(n,t){return new m(e=>{const i=new C;return i.add(t.schedule(()=>{const s=n[v]();i.add(s.subscribe({next(o){i.add(t.schedule(()=>e.next(o)))},error(o){i.add(t.schedule(()=>e.error(o)))},complete(){i.add(t.schedule(()=>e.complete()))}}))})),i})}(n,t);if(re(n))return function(n,t){return new m(e=>{const i=new C;return i.add(t.schedule(()=>n.then(s=>{i.add(t.schedule(()=>{e.next(s),i.add(t.schedule(()=>e.complete()))}))},s=>{i.add(t.schedule(()=>e.error(s)))}))),i})}(n,t);if(ge(n))return Pe(n,t);if(function(n){return n&&"function"==typeof n[ee]}(n)||"string"==typeof n)return function(n,t){if(!n)throw new Error("Iterable cannot be null");return new m(e=>{const i=new C;let s;return i.add(()=>{s&&"function"==typeof s.return&&s.return()}),i.add(t.schedule(()=>{s=n[ee](),i.add(t.schedule(function(){if(e.closed)return;let o,u;try{const x=s.next();o=x.value,u=x.done}catch(x){return void e.error(x)}u?e.complete():(e.next(o),this.schedule())}))})),i})}(n,t)}throw new TypeError((null!==n&&typeof n||n)+" is not observable")}(n,t):n instanceof m?n:new m(ye(n))}class Ve extends p{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class Ee extends p{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function Be(n,t){if(t.closed)return;if(n instanceof m)return n.subscribe(t);let e;try{e=ye(n)(t)}catch(i){t.error(i)}return e}function Ue(n,t,e=Number.POSITIVE_INFINITY){return"function"==typeof t?i=>i.pipe(Ue((s,o)=>pe(n(s,o)).pipe(N((u,x)=>t(s,u,o,x))),e)):("number"==typeof t&&(e=t),i=>i.lift(new ot(n,e)))}class ot{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new vt(t,this.project,this.concurrent))}}class vt extends Ee{constructor(t,e,i=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const i=this.index++;try{e=this.project(t,i)}catch(s){return void this.destination.error(s)}this.active++,this._innerSub(e)}_innerSub(t){const e=new Ve(this),i=this.destination;i.add(e);const s=Be(t,e);s!==e&&i.add(s)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function ve(n=Number.POSITIVE_INFINITY){return Ue(M,n)}function ht(n,t){return t?Pe(n,t):new m(ie(n))}function Ge(...n){let t=Number.POSITIVE_INFINITY,e=null,i=n[n.length-1];return be(i)?(e=n.pop(),n.length>1&&"number"==typeof n[n.length-1]&&(t=n.pop())):"number"==typeof i&&(t=n.pop()),null===e&&1===n.length&&n[0]instanceof m?n[0]:ve(t)(ht(n,e))}function De(){return function(t){return t.lift(new Le(t))}}class Le{constructor(t){this.connectable=t}call(t,e){const{connectable:i}=this;i._refCount++;const s=new dt(t,i),o=e.subscribe(s);return s.closed||(s.connection=i.connect()),o}}class dt extends p{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:i}=this,s=t._connection;this.connection=null,s&&(!i||s===i)&&s.unsubscribe()}}class _t extends m{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new C,t.add(this.source.subscribe(new zt(this.getSubject(),this))),t.closed&&(this._connection=null,t=C.EMPTY)),t}refCount(){return De()(this)}}const Nt=(()=>{const n=_t.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:n._subscribe},_isComplete:{value:n._isComplete,writable:!0},getSubject:{value:n.getSubject},connect:{value:n.connect},refCount:{value:n.refCount}}})();class zt extends de{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function nt(){return new le}function bt(){return n=>De()(function(n,t){return function(i){let s;s="function"==typeof n?n:function(){return n};const o=Object.create(i,Nt);return o.source=i,o.subjectFactory=s,o}}(nt)(n))}function Rt(n){for(let t in n)if(n[t]===Rt)return t;throw Error("Could not find renamed property on target object.")}function Dt(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function Xe(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Xe).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function ft(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const Oe=Rt({__forward_ref__:Rt});function We(n){return n.__forward_ref__=We,n.toString=function(){return Xe(this())},n}function Ne(n){return J(n)?n():n}function J(n){return"function"==typeof n&&n.hasOwnProperty(Oe)&&n.__forward_ref__===We}class $e extends Error{constructor(t,e){super(function(n,t){return`${n?`NG0${n}: `:""}${t}`}(t,e)),this.code=t}}function Lt(n){return"string"==typeof n?n:null==n?"":String(n)}function Pt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Lt(n)}function yn(n,t){const e=t?` in ${t}`:"";throw new $e("201",`No provider for ${Pt(n)} found${e}`)}function En(n,t){null==n&&function(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,n,null,"!=")}function Nn(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function si(n){return{providers:n.providers||[],imports:n.imports||[]}}function Wi(n){return rs(n,q)||rs(n,Ke)}function rs(n,t){return n.hasOwnProperty(t)?n[t]:null}function P(n){return n&&(n.hasOwnProperty(me)||n.hasOwnProperty(qe))?n[me]:null}const q=Rt({\u0275prov:Rt}),me=Rt({\u0275inj:Rt}),Ke=Rt({ngInjectableDef:Rt}),qe=Rt({ngInjectorDef:Rt});var st=(()=>((st=st||{})[st.Default=0]="Default",st[st.Host=1]="Host",st[st.Self=2]="Self",st[st.SkipSelf=4]="SkipSelf",st[st.Optional=8]="Optional",st))();let jt;function en(n){const t=jt;return jt=n,t}function Yt(n,t,e){const i=Wi(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&st.Optional?null:void 0!==t?t:void yn(Xe(n),"Injector")}function un(n){return{toString:n}.toString()}var Cn=(()=>((Cn=Cn||{})[Cn.OnPush=0]="OnPush",Cn[Cn.Default=1]="Default",Cn))(),kn=(()=>((kn=kn||{})[kn.Emulated=0]="Emulated",kn[kn.None=2]="None",kn[kn.ShadowDom=3]="ShadowDom",kn))();const qn="undefined"!=typeof globalThis&&globalThis,fi="undefined"!=typeof window&&window,hn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ze="undefined"!=typeof global&&global,rt=qn||Ze||fi||hn,Fe={},Ye=[],mt=Rt({\u0275cmp:Rt}),$t=Rt({\u0275dir:Rt}),Zt=Rt({\u0275pipe:Rt}),fn=Rt({\u0275mod:Rt}),In=Rt({\u0275loc:Rt}),_n=Rt({\u0275fac:Rt}),On=Rt({__NG_ELEMENT_ID__:Rt});let Kn=0;function Wn(n){return un(()=>{const e={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Cn.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||Ye,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||kn.Emulated,id:"c",styles:n.styles||Ye,_:null,setInput:null,schemas:n.schemas||null,tView:null},s=n.directives,o=n.features,u=n.pipes;return i.id+=Kn++,i.inputs=Vt(n.inputs,e),i.outputs=Vt(n.outputs),o&&o.forEach(x=>x(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map(Wt):null,i.pipeDefs=u?()=>("function"==typeof u?u():u).map(X):null,i})}function Wt(n){return wn(n)||function(n){return n[$t]||null}(n)}function X(n){return function(n){return n[Zt]||null}(n)}const Ie={};function et(n){return un(()=>{const t={type:n.type,bootstrap:n.bootstrap||Ye,declarations:n.declarations||Ye,imports:n.imports||Ye,exports:n.exports||Ye,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(Ie[n.id]=n.type),t})}function Vt(n,t){if(null==n)return Fe;const e={};for(const i in n)if(n.hasOwnProperty(i)){let s=n[i],o=s;Array.isArray(s)&&(o=s[1],s=s[0]),e[s]=i,t&&(t[s]=o)}return e}const Tt=Wn;function wn(n){return n[mt]||null}function Gn(n,t){const e=n[fn]||null;if(!e&&!0===t)throw new Error(`Type ${Xe(n)} does not have '\u0275mod' property.`);return e}function Sr(n){return Array.isArray(n)&&"object"==typeof n[1]}function Ro(n){return Array.isArray(n)&&!0===n[1]}function $o(n){return 0!=(8&n.flags)}function Wa(n){return 2==(2&n.flags)}function ha(n){return 1==(1&n.flags)}function Go(n){return null!==n.template}function fa(n){return 0!=(512&n[2])}function Ar(n,t){return n.hasOwnProperty(_n)?n[_n]:null}class Ha{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function Qi(){return Ws}function Ws(n){return n.type.prototype.ngOnChanges&&(n.setInput=oo),lr}function lr(){const n=_o(this),t=null==n?void 0:n.current;if(t){const e=n.previous;if(e===Fe)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function oo(n,t,e,i){const s=_o(n)||function(n,t){return n[Rr]=t}(n,{previous:Fe,current:null}),o=s.current||(s.current={}),u=s.previous,x=this.declaredInputs[e],H=u[x];o[x]=new Ha(H&&H.currentValue,t,u===Fe),n[i]=t}Qi.ngInherit=!0;const Rr="__ngSimpleChanges__";function _o(n){return n[Rr]||null}let Xc;function Ps(n){return!!n.listen}const wl={createRenderer:(n,t)=>void 0!==Xc?Xc:"undefined"!=typeof document?document:void 0};function Qs(n){for(;Array.isArray(n);)n=n[0];return n}function Or(n,t){return Qs(t[n])}function Oo(n,t){return Qs(t[n.index])}function Ua(n,t){return n.data[t]}function Eo(n,t){const e=t[n];return Sr(e)?e:e[0]}function ja(n){return 4==(4&n[2])}function Sl(n){return 128==(128&n[2])}function Pr(n,t){return null==t?null:n[t]}function ed(n){n[18]=0}function rc(n,t){n[5]+=t;let e=n,i=n[3];for(;null!==i&&(1===t&&1===e[5]||-1===t&&0===e[5]);)i[5]+=t,e=i,i=i[3]}const Oi={lFrame:va(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function lu(){return Oi.bindingsEnabled}function ti(){return Oi.lFrame.lView}function ps(){return Oi.lFrame.tView}function _a(n){return Oi.lFrame.contextLView=n,n[8]}function eo(){let n=ac();for(;null!==n&&64===n.type;)n=n.parent;return n}function ac(){return Oi.lFrame.currentTNode}function Yo(n,t){const e=Oi.lFrame;e.currentTNode=n,e.isParent=t}function id(){return Oi.lFrame.isParent}function sd(){Oi.lFrame.isParent=!1}function Ka(){return Oi.isInCheckNoChangesMode}function Vo(n){Oi.isInCheckNoChangesMode=n}function $a(){return Oi.lFrame.bindingIndex++}function cr(n){const t=Oi.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function kr(n,t){const e=Oi.lFrame;e.bindingIndex=e.bindingRootIndex=n,Qr(t)}function Qr(n){Oi.lFrame.currentDirectiveIndex=n}function Fr(n){const t=Oi.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}function cu(){return Oi.lFrame.currentQueryIndex}function hc(n){Oi.lFrame.currentQueryIndex=n}function Ga(n){const t=n[1];return 2===t.type?t.declTNode:1===t.type?n[6]:null}function Dl(n,t,e){if(e&st.SkipSelf){let s=t,o=n;for(;!(s=s.parent,null!==s||e&st.Host||(s=Ga(o),null===s||(o=o[15],10&s.type))););if(null===s)return!1;t=s,n=o}const i=Oi.lFrame=du();return i.currentTNode=t,i.lView=n,!0}function Ya(n){const t=du(),e=n[1];Oi.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function du(){const n=Oi.lFrame,t=null===n?null:n.child;return null===t?va(n):t}function va(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function uu(){const n=Oi.lFrame;return Oi.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const hu=uu;function Er(){const n=uu();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Do(){return Oi.lFrame.selectedIndex}function yt(n){Oi.lFrame.selectedIndex=n}function r(){const n=Oi.lFrame;return Ua(n.tView,n.selectedIndex)}function je(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const o=n.data[e].type.prototype,{ngAfterContentInit:u,ngAfterContentChecked:x,ngAfterViewInit:H,ngAfterViewChecked:se,ngOnDestroy:Re}=o;u&&(n.contentHooks||(n.contentHooks=[])).push(-e,u),x&&((n.contentHooks||(n.contentHooks=[])).push(e,x),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(e,x)),H&&(n.viewHooks||(n.viewHooks=[])).push(-e,H),se&&((n.viewHooks||(n.viewHooks=[])).push(e,se),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(e,se)),null!=Re&&(n.destroyHooks||(n.destroyHooks=[])).push(e,Re)}}function lt(n,t,e){Xt(n,t,3,e)}function gt(n,t,e,i){(3&n[2])===e&&Xt(n,t,e,i)}function St(n,t){let e=n[2];(3&e)===t&&(e&=2047,e+=1,n[2]=e)}function Xt(n,t,e,i){const o=null!=i?i:-1,u=t.length-1;let x=0;for(let H=void 0!==i?65535&n[18]:0;H<u;H++)if("number"==typeof t[H+1]){if(x=t[H],null!=i&&x>=i)break}else t[H]<0&&(n[18]+=65536),(x<o||-1==o)&&(Gt(n,e,t,H),n[18]=(4294901760&n[18])+H+2),H++}function Gt(n,t,e,i){const s=e[i]<0,o=e[i+1],x=n[s?-e[i]:e[i]];if(s){if(n[2]>>11<n[18]>>16&&(3&n[2])===t){n[2]+=2048;try{o.call(x)}finally{}}}else try{o.call(x)}finally{}}class dn{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function _i(n,t,e){const i=Ps(n);let s=0;for(;s<e.length;){const o=e[s];if("number"==typeof o){if(0!==o)break;s++;const u=e[s++],x=e[s++],H=e[s++];i?n.setAttribute(t,x,H,u):t.setAttributeNS(u,x,H)}else{const u=o,x=e[++s];Ai(u)?i&&n.setProperty(t,u,x):i?n.setAttribute(t,u,x):t.setAttribute(u,x),s++}}return s}function xi(n){return 3===n||4===n||6===n}function Ai(n){return 64===n.charCodeAt(0)}function wi(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const s=t[i];"number"==typeof s?e=s:0===e||Is(n,e,s,null,-1===e||2===e?t[++i]:null)}}return n}function Is(n,t,e,i,s){let o=0,u=n.length;if(-1===t)u=-1;else for(;o<n.length;){const x=n[o++];if("number"==typeof x){if(x===t){u=-1;break}if(x>t){u=o-1;break}}}for(;o<n.length;){const x=n[o];if("number"==typeof x)break;if(x===e){if(null===i)return void(null!==s&&(n[o+1]=s));if(i===n[o+1])return void(n[o+2]=s)}o++,null!==i&&o++,null!==s&&o++}-1!==u&&(n.splice(u,0,t),o=u+1),n.splice(o++,0,e),null!==i&&n.splice(o++,0,i),null!==s&&n.splice(o++,0,s)}function Ts(n){return-1!==n}function Hs(n){return 32767&n}function Zs(n,t){let e=function(n){return n>>16}(n),i=t;for(;e>0;)i=i[15],e--;return i}let Xs=!0;function Zo(n){const t=Xs;return Xs=n,t}let Uh=0;function ba(n,t){const e=fc(n,t);if(-1!==e)return e;const i=t[1];i.firstCreatePass&&(n.injectorIndex=t.length,rd(i.data,n),rd(t,null),rd(i.blueprint,null));const s=fu(n,t),o=n.injectorIndex;if(Ts(s)){const u=Hs(s),x=Zs(s,t),H=x[1].data;for(let se=0;se<8;se++)t[o+se]=x[u+se]|H[u+se]}return t[o+8]=s,o}function rd(n,t){n.push(0,0,0,0,0,0,0,0,t)}function fc(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function fu(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,s=t;for(;null!==s;){const o=s[1],u=o.type;if(i=2===u?o.declTNode:1===u?s[6]:null,null===i)return-1;if(e++,s=s[15],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return-1}function gu(n,t,e){!function(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(On)&&(i=e[On]),null==i&&(i=e[On]=Uh++);const s=255&i;t.data[n+(s>>5)]|=1<<s}(n,t,e)}function zh(n,t,e){if(e&st.Optional)return n;yn(t,"NodeInjector")}function rm(n,t,e,i){if(e&st.Optional&&void 0===i&&(i=null),0==(e&(st.Self|st.Host))){const s=n[9],o=en(void 0);try{return s?s.get(t,i,e&st.Optional):Yt(t,i,e&st.Optional)}finally{en(o)}}return zh(i,t,e)}function am(n,t,e,i=st.Default,s){if(null!==n){const o=function(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(On)?n[On]:void 0;return"number"==typeof t?t>=0?255&t:Kh:t}(e);if("function"==typeof o){if(!Dl(t,n,i))return i&st.Host?zh(s,e,i):rm(t,e,i,s);try{const u=o(i);if(null!=u||i&st.Optional)return u;yn(e)}finally{hu()}}else if("number"==typeof o){let u=null,x=fc(n,t),H=-1,se=i&st.Host?t[16][6]:null;for((-1===x||i&st.SkipSelf)&&(H=-1===x?fu(n,t):t[x+8],-1!==H&&mu(i,!1)?(u=t[1],x=Hs(H),t=Zs(H,t)):x=-1);-1!==x;){const Re=t[1];if(cm(o,x,Re.data)){const it=lm(x,t,e,u,i,se);if(it!==Ll)return it}H=t[x+8],-1!==H&&mu(i,t[1].data[x+8]===se)&&cm(o,x,t)?(u=Re,x=Hs(H),t=Zs(H,t)):x=-1}}}return rm(t,e,i,s)}const Ll={};function Kh(){return new Wo(eo(),ti())}function lm(n,t,e,i,s,o){const u=t[1],x=u.data[n+8],Re=ad(x,u,e,null==i?Wa(x)&&Xs:i!=u&&0!=(3&x.type),s&st.Host&&o===x);return null!==Re?Za(t,u,Re,x):Ll}function ad(n,t,e,i,s){const o=n.providerIndexes,u=t.data,x=1048575&o,H=n.directiveStart,Re=o>>20,pt=s?x+Re:n.directiveEnd;for(let xt=i?x:x+Re;xt<pt;xt++){const Bt=u[xt];if(xt<H&&e===Bt||xt>=H&&Bt.type===e)return xt}if(s){const xt=u[H];if(xt&&Go(xt)&&xt.type===e)return H}return null}function Za(n,t,e,i){let s=n[e];const o=t.data;if(function(n){return n instanceof dn}(s)){const u=s;u.resolving&&function(n,t){throw new $e("200",`Circular dependency in DI detected for ${n}`)}(Pt(o[e]));const x=Zo(u.canSeeViewProviders);u.resolving=!0;const H=u.injectImpl?en(u.injectImpl):null;Dl(n,i,st.Default);try{s=n[e]=u.factory(void 0,o,n,i),t.firstCreatePass&&e>=i.directiveStart&&function(n,t,e){const{ngOnChanges:i,ngOnInit:s,ngDoCheck:o}=t.type.prototype;if(i){const u=Ws(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(n,u),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,u)}s&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-n,s),o&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n,o),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,o))}(e,o[e],t)}finally{null!==H&&en(H),Zo(x),u.resolving=!1,hu()}}return s}function cm(n,t,e){return!!(e[t+(n>>5)]&1<<n)}function mu(n,t){return!(n&st.Self||n&st.Host&&t)}class Wo{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return am(this._tNode,this._lView,t,void 0,e)}}function to(n){return un(()=>{const t=n.prototype.constructor,e=t[_n]||$h(t),i=Object.prototype;let s=Object.getPrototypeOf(n.prototype).constructor;for(;s&&s!==i;){const o=s[_n]||$h(s);if(o&&o!==e)return o;s=Object.getPrototypeOf(s)}return o=>new o})}function $h(n){return J(n)?()=>{const t=$h(Ne(n));return t&&t()}:Ar(n)}function Lo(n){return function(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const i=e.length;let s=0;for(;s<i;){const o=e[s];if(xi(o))break;if(0===o)s+=2;else if("number"==typeof o)for(s++;s<i&&"string"==typeof e[s];)s++;else{if(o===t)return e[s+1];s+=2}}}return null}(eo(),n)}const Ml="__parameters__";function Nl(n,t,e){return un(()=>{const i=function(n){return function(...e){if(n){const i=n(...e);for(const s in i)this[s]=i[s]}}}(t);function s(...o){if(this instanceof s)return i.apply(this,o),this;const u=new s(...o);return x.annotation=u,x;function x(H,se,Re){const it=H.hasOwnProperty(Ml)?H[Ml]:Object.defineProperty(H,Ml,{value:[]})[Ml];for(;it.length<=Re;)it.push(null);return(it[Re]=it[Re]||[]).push(u),H}}return e&&(s.prototype=Object.create(e.prototype)),s.prototype.ngMetadataName=n,s.annotationCls=s,s})}class mi{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=Nn({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const hv=new mi("AnalyzeForEntryComponents"),Tl=Function;function dr(n,t){void 0===t&&(t=n);for(let e=0;e<n.length;e++){let i=n[e];Array.isArray(i)?(t===n&&(t=n.slice(0,e)),dr(i,t)):t!==n&&t.push(i)}return t}function ur(n,t){n.forEach(e=>Array.isArray(e)?ur(e,t):t(e))}function Al(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function mc(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function Xa(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}function hr(n,t,e){let i=Rl(n,t);return i>=0?n[1|i]=e:(i=~i,function(n,t,e,i){let s=n.length;if(s==t)n.push(e,i);else if(1===s)n.push(i,n[0]),n[0]=e;else{for(s--,n.push(n[s-1],n[s]);s>t;)n[s]=n[s-2],s--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function ef(n,t){const e=Rl(n,t);if(e>=0)return n[1|e]}function Rl(n,t){return function(n,t,e){let i=0,s=n.length>>e;for(;s!==i;){const o=i+(s-i>>1),u=n[o<<e];if(t===u)return o<<e;u>t?s=o:i=o+1}return~(s<<e)}(n,t,1)}const _c={},of="__NG_DI_FLAG__",Ls="ngTempTokenPath",_v=/\n/gm,af="__source",lf=Rt({provide:String,useValue:Rt});let vc;function ud(n){const t=vc;return vc=n,t}function fm(n,t=st.Default){if(void 0===vc)throw new Error("inject() must be called from an injection context");return null===vc?Yt(n,void 0,t):vc.get(n,t&st.Optional?null:void 0,t)}function mn(n,t=st.Default){return(jt||fm)(Ne(n),t)}const bu=mn;function Ol(n){const t=[];for(let e=0;e<n.length;e++){const i=Ne(n[e]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");let s,o=st.Default;for(let u=0;u<i.length;u++){const x=i[u],H=Jw(x);"number"==typeof H?-1===H?s=x.token:o|=H:s=x}t.push(mn(s,o))}else t.push(mn(i))}return t}function hd(n,t){return n[of]=t,n.prototype[of]=t,n}function Jw(n){return n[of]}function cf(n,t,e,i){const s=n[Ls];throw t[af]&&s.unshift(t[af]),n.message=function(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let s=Xe(t);if(Array.isArray(t))s=t.map(Xe).join(" -> ");else if("object"==typeof t){let o=[];for(let u in t)if(t.hasOwnProperty(u)){let x=t[u];o.push(u+":"+("string"==typeof x?JSON.stringify(x):Xe(x)))}s=`{${o.join(", ")}}`}return`${e}${i?"("+i+")":""}[${s}]: ${n.replace(_v,"\n  ")}`}("\n"+n.message,s,e,i),n.ngTokenPath=s,n[Ls]=null,n}const Pl=hd(Nl("Inject",n=>({token:n})),-1),vo=hd(Nl("Optional"),8),Ja=hd(Nl("SkipSelf"),4);let wc;function Ji(n){var t;return(null===(t=function(){if(void 0===wc&&(wc=null,rt.trustedTypes))try{wc=rt.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return wc}())||void 0===t?void 0:t.createHTML(n))||n}class Bl{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Sv extends Bl{getTypeName(){return"HTML"}}class Ev extends Bl{getTypeName(){return"Style"}}class Dv extends Bl{getTypeName(){return"Script"}}class Lv extends Bl{getTypeName(){return"URL"}}class xv extends Bl{getTypeName(){return"ResourceURL"}}function gr(n){return n instanceof Bl?n.changingThisBreaksApplicationSecurity:n}function Xr(n,t){const e=vm(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see https://g.co/ng/security#xss)`)}return e===t}function vm(n){return n instanceof Bl&&n.getTypeName()||null}class Rv{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Ji(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Ov{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const i=this.inertDocument.createElement("body");e.appendChild(i)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Ji(t),e;const i=this.inertDocument.createElement("body");return i.innerHTML=Ji(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(i),i}stripCustomNsAttrs(t){const e=t.attributes;for(let s=e.length-1;0<s;s--){const u=e.item(s).name;("xmlns:ns1"===u||0===u.indexOf("ns1:"))&&t.removeAttribute(u)}let i=t.firstChild;for(;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}const kv=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Fv=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function qa(n){return(n=String(n)).match(kv)||n.match(Fv)?n:"unsafe:"+n}function Cf(n){return(n=String(n)).split(",").map(t=>qa(t.trim())).join(", ")}function Jr(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function Sc(...n){const t={};for(const e of n)for(const i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}const Eu=Jr("area,br,col,hr,img,wbr"),bm=Jr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ym=Jr("rp,rt"),bf=Sc(Eu,Sc(bm,Jr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Sc(ym,Jr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Sc(ym,bm)),yf=Jr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),wf=Jr("srcset"),Sm=Sc(yf,wf,Jr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Jr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),gd=Jr("script,style,template");class Bv{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,i=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let s=this.checkClobberedElement(e,e.nextSibling);if(s){e=s;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!bf.hasOwnProperty(e))return this.sanitizedSomething=!0,!gd.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=t.attributes;for(let s=0;s<i.length;s++){const o=i.item(s),u=o.name,x=u.toLowerCase();if(!Sm.hasOwnProperty(x)){this.sanitizedSomething=!0;continue}let H=o.value;yf[x]&&(H=qa(H)),wf[x]&&(H=Cf(H)),this.buf.push(" ",u,'="',Dm(H),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();bf.hasOwnProperty(e)&&!Eu.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(Dm(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const Em=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Vv=/([^\#-~ |!])/g;function Dm(n){return n.replace(/&/g,"&amp;").replace(Em,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Vv,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Du;function Lm(n,t){let e=null;try{Du=Du||function(n){const t=new Ov(n);return function(){try{return!!(new window.DOMParser).parseFromString(Ji(""),"text/html")}catch(n){return!1}}()?new Rv(t):t}(n);let i=t?String(t):"";e=Du.getInertBodyElement(i);let s=5,o=i;do{if(0===s)throw new Error("Failed to sanitize html because the input is unstable");s--,i=o,o=e.innerHTML,e=Du.getInertBodyElement(i)}while(i!==o);return Ji((new Bv).sanitizeChildren(Sf(e)||e))}finally{if(e){const i=Sf(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function Sf(n){return"content"in n&&function(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var xs=(()=>((xs=xs||{})[xs.NONE=0]="NONE",xs[xs.HTML=1]="HTML",xs[xs.STYLE=2]="STYLE",xs[xs.SCRIPT=3]="SCRIPT",xs[xs.URL=4]="URL",xs[xs.RESOURCE_URL=5]="RESOURCE_URL",xs))();function Ef(n){const t=function(){const n=ti();return n&&n[12]}();return t?t.sanitize(xs.URL,n)||"":Xr(n,"URL")?gr(n):qa(Lt(n))}const Im="__ngContext__";function Po(n,t){n[Im]=t}function Lf(n){const t=function(n){return n[Im]||null}(n);return t?Array.isArray(t)?t:t.lView:null}function xu(n){return n.ngOriginalError}function tC(n,...t){n.error(...t)}class Br{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),i=this._findContext(t),s=function(n){return n&&n.ngErrorLogger||tC}(t);s(this._console,"ERROR",t),e&&s(this._console,"ORIGINAL ERROR",e),i&&s(this._console,"ERROR CONTEXT",i)}_findContext(t){return t?function(n){return n.ngDebugContext}(t)||this._findContext(xu(t)):null}_findOriginalError(t){let e=t&&xu(t);for(;e&&xu(e);)e=xu(e);return e||null}}const xn=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(rt))();function ts(n){return n instanceof Function?n():n}var no=(()=>((no=no||{})[no.Important=1]="Important",no[no.DashCase=2]="DashCase",no))();function mr(n,t){return undefined(n,t)}function Zi(n){const t=n[3];return Ro(t)?t[3]:t}function el(n){return fS(n[13])}function nC(n){return fS(n[4])}function fS(n){for(;null!==n&&!Ro(n);)n=n[4];return n}function Mu(n,t,e,i,s){if(null!=i){let o,u=!1;Ro(i)?o=i:Sr(i)&&(u=!0,i=i[0]);const x=Qs(i);0===n&&null!==e?null==s?CS(t,e,x):vd(t,e,x,s||null,!0):1===n&&null!==e?vd(t,e,x,s||null,!0):2===n?function(n,t,e){const i=Am(n,t);i&&function(n,t,e,i){Ps(n)?n.removeChild(t,e,i):t.removeChild(e)}(n,i,t,e)}(t,x,u):3===n&&t.destroyNode(x),null!=o&&function(n,t,e,i,s){const o=e[7];o!==Qs(e)&&Mu(t,n,i,o,s);for(let x=10;x<e.length;x++){const H=e[x];Mf(H[1],H,n,t,i,o)}}(t,n,o,e,s)}}function sC(n,t,e){return Ps(n)?n.createElement(t,e):null===e?n.createElement(t):n.createElementNS(e,t)}function mS(n,t){const e=n[9],i=e.indexOf(t),s=t[3];1024&t[2]&&(t[2]&=-1025,rc(s,-1)),e.splice(i,1)}function oC(n,t){if(n.length<=10)return;const e=10+t,i=n[e];if(i){const s=i[17];null!==s&&s!==n&&mS(s,i),t>0&&(n[e-1][4]=i[4]);const o=mc(n,10+t);!function(n,t){Mf(n,t,t[11],2,null,null),t[0]=null,t[6]=null}(i[1],i);const u=o[19];null!==u&&u.detachView(o[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function pS(n,t){if(!(256&t[2])){const e=t[11];Ps(e)&&e.destroyNode&&Mf(n,t,e,3,null,null),function(n){let t=n[13];if(!t)return rC(n[1],n);for(;t;){let e=null;if(Sr(t))e=t[13];else{const i=t[10];i&&(e=i)}if(!e){for(;t&&!t[4]&&t!==n;)Sr(t)&&rC(t[1],t),t=t[3];null===t&&(t=n),Sr(t)&&rC(t[1],t),e=t&&t[4]}t=e}}(t)}}function rC(n,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const s=t[e[i]];if(!(s instanceof dn)){const o=e[i+1];if(Array.isArray(o))for(let u=0;u<o.length;u+=2){const x=s[o[u]],H=o[u+1];try{H.call(x)}finally{}}else try{o.call(s)}finally{}}}}(n,t),function(n,t){const e=n.cleanup,i=t[7];let s=-1;if(null!==e)for(let o=0;o<e.length-1;o+=2)if("string"==typeof e[o]){const u=e[o+1],x="function"==typeof u?u(t):Qs(t[u]),H=i[s=e[o+2]],se=e[o+3];"boolean"==typeof se?x.removeEventListener(e[o],H,se):se>=0?i[s=se]():i[s=-se].unsubscribe(),o+=2}else{const u=i[s=e[o+1]];e[o].call(u)}if(null!==i){for(let o=s+1;o<i.length;o++)i[o]();t[7]=null}}(n,t),1===t[1].type&&Ps(t[11])&&t[11].destroy();const e=t[17];if(null!==e&&Ro(t[3])){e!==t[3]&&mS(e,t);const i=t[19];null!==i&&i.detachView(n)}}}function _S(n,t,e){return function(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[0];if(2&i.flags){const s=n.data[i.directiveStart].encapsulation;if(s===kn.None||s===kn.Emulated)return null}return Oo(i,e)}(n,t.parent,e)}function vd(n,t,e,i,s){Ps(n)?n.insertBefore(t,e,i,s):t.insertBefore(e,i,s)}function CS(n,t,e){Ps(n)?n.appendChild(t,e):t.appendChild(e)}function bS(n,t,e,i,s){null!==i?vd(n,t,e,i,s):CS(n,t,e)}function Am(n,t){return Ps(n)?n.parentNode(t):t.parentNode}function yS(n,t,e){return SS(n,t,e)}let SS=function(n,t,e){return 40&n.type?Oo(n,e):null};function Rm(n,t,e,i){const s=_S(n,i,t),o=t[11],x=yS(i.parent||t[6],i,t);if(null!=s)if(Array.isArray(e))for(let H=0;H<e.length;H++)bS(o,s,e[H],x,!1);else bS(o,s,e,x,!1)}function Om(n,t){if(null!==t){const e=t.type;if(3&e)return Oo(t,n);if(4&e)return lC(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return Om(n,i);{const s=n[t.index];return Ro(s)?lC(-1,s):Qs(s)}}if(32&e)return mr(t,n)()||Qs(n[t.index]);{const i=DS(n,t);return null!==i?Array.isArray(i)?i[0]:Om(Zi(n[16]),i):Om(n,t.next)}}return null}function DS(n,t){return null!==t?n[16][6].projection[t.projection]:null}function lC(n,t){const e=10+n+1;if(e<t.length){const i=t[e],s=i[1].firstChild;if(null!==s)return Om(i,s)}return t[7]}function cC(n,t,e,i,s,o,u){for(;null!=e;){const x=i[e.index],H=e.type;if(u&&0===t&&(x&&Po(Qs(x),i),e.flags|=4),64!=(64&e.flags))if(8&H)cC(n,t,e.child,i,s,o,!1),Mu(t,n,s,x,o);else if(32&H){const se=mr(e,i);let Re;for(;Re=se();)Mu(t,n,s,Re,o);Mu(t,n,s,x,o)}else 16&H?xS(n,t,i,e,s,o):Mu(t,n,s,x,o);e=u?e.projectionNext:e.next}}function Mf(n,t,e,i,s,o){cC(e,i,n.firstChild,t,s,o,!1)}function xS(n,t,e,i,s,o){const u=e[16],H=u[6].projection[i.projection];if(Array.isArray(H))for(let se=0;se<H.length;se++)Mu(t,n,s,H[se],o);else cC(n,t,H,u[3],s,o,!0)}function MS(n,t,e){Ps(n)?n.setAttribute(t,"style",e):t.style.cssText=e}function dC(n,t,e){Ps(n)?""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e):t.className=e}function IS(n,t,e){let i=n.length;for(;;){const s=n.indexOf(t,e);if(-1===s)return s;if(0===s||n.charCodeAt(s-1)<=32){const o=t.length;if(s+o===i||n.charCodeAt(s+o)<=32)return s}e=s+1}}const NS="ng-template";function cO(n,t,e){let i=0;for(;i<n.length;){let s=n[i++];if(e&&"class"===s){if(s=n[i],-1!==IS(s.toLowerCase(),t,0))return!0}else if(1===s){for(;i<n.length&&"string"==typeof(s=n[i++]);)if(s.toLowerCase()===t)return!0;return!1}}return!1}function TS(n){return 4===n.type&&n.value!==NS}function dO(n,t,e){return t===(4!==n.type||e?n.value:NS)}function uO(n,t,e){let i=4;const s=n.attrs||[],o=function(n){for(let t=0;t<n.length;t++)if(xi(n[t]))return t;return n.length}(s);let u=!1;for(let x=0;x<t.length;x++){const H=t[x];if("number"!=typeof H){if(!u)if(4&i){if(i=2|1&i,""!==H&&!dO(n,H,e)||""===H&&1===t.length){if(Sa(i))return!1;u=!0}}else{const se=8&i?H:t[++x];if(8&i&&null!==n.attrs){if(!cO(n.attrs,se,e)){if(Sa(i))return!1;u=!0}continue}const it=hO(8&i?"class":H,s,TS(n),e);if(-1===it){if(Sa(i))return!1;u=!0;continue}if(""!==se){let pt;pt=it>o?"":s[it+1].toLowerCase();const xt=8&i?pt:null;if(xt&&-1!==IS(xt,se,0)||2&i&&se!==pt){if(Sa(i))return!1;u=!0}}}}else{if(!u&&!Sa(i)&&!Sa(H))return!1;if(u&&Sa(H))continue;u=!1,i=H|1&i}}return Sa(i)||u}function Sa(n){return 0==(1&n)}function hO(n,t,e,i){if(null===t)return-1;let s=0;if(i||!e){let o=!1;for(;s<t.length;){const u=t[s];if(u===n)return s;if(3===u||6===u)o=!0;else{if(1===u||2===u){let x=t[++s];for(;"string"==typeof x;)x=t[++s];continue}if(4===u)break;if(0===u){s+=4;continue}}s+=o?1:2}return-1}return function(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function AS(n,t,e=!1){for(let i=0;i<t.length;i++)if(uO(n,t[i],e))return!0;return!1}function pO(n,t){e:for(let e=0;e<t.length;e++){const i=t[e];if(n.length===i.length){for(let s=0;s<n.length;s++)if(n[s]!==i[s])continue e;return!0}}return!1}function RS(n,t){return n?":not("+t.trim()+")":t}function _O(n){let t=n[0],e=1,i=2,s="",o=!1;for(;e<n.length;){let u=n[e];if("string"==typeof u)if(2&i){const x=n[++e];s+="["+u+(x.length>0?'="'+x+'"':"")+"]"}else 8&i?s+="."+u:4&i&&(s+=" "+u);else""!==s&&!Sa(u)&&(t+=RS(o,s),s=""),i=u,o=o||!Sa(i);e++}return""!==s&&(t+=RS(o,s)),t}const ns={};function Di(n){OS(ps(),ti(),Do()+n,Ka())}function OS(n,t,e,i){if(!i)if(3==(3&t[2])){const o=n.preOrderCheckHooks;null!==o&&lt(t,o,e)}else{const o=n.preOrderHooks;null!==o&&gt(t,o,0,e)}yt(e)}function Pm(n,t){return n<<17|t<<2}function Ea(n){return n>>17&32767}function uC(n){return 2|n}function Vl(n){return(131068&n)>>2}function hC(n,t){return-131069&n|t<<2}function fC(n){return 1|n}function zS(n,t){const e=n.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const s=e[i],o=e[i+1];if(-1!==o){const u=n.data[o];hc(s),u.contentQueries(2,t[o],o)}}}function If(n,t,e,i,s,o,u,x,H,se){const Re=t.blueprint.slice();return Re[0]=s,Re[2]=140|i,ed(Re),Re[3]=Re[15]=n,Re[8]=e,Re[10]=u||n&&n[10],Re[11]=x||n&&n[11],Re[12]=H||n&&n[12]||null,Re[9]=se||n&&n[9]||null,Re[6]=o,Re[16]=2==t.type?n[16]:Re,Re}function Iu(n,t,e,i,s){let o=n.data[t];if(null===o)o=function(n,t,e,i,s){const o=ac(),u=id(),H=n.data[t]=function(n,t,e,i,s,o){return{type:e,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:s,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,u?o:o&&o.parent,e,t,i,s);return null===n.firstChild&&(n.firstChild=H),null!==o&&(u?null==o.child&&null!==H.parent&&(o.child=H):null===o.next&&(o.next=H)),H}(n,t,e,i,s),Oi.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=e,o.value=i,o.attrs=s;const u=function(){const n=Oi.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();o.injectorIndex=null===u?-1:u.injectorIndex}return Yo(o,!0),o}function Nu(n,t,e,i){if(0===e)return-1;const s=t.length;for(let o=0;o<e;o++)t.push(i),n.blueprint.push(i),n.data.push(null);return s}function Nf(n,t,e){Ya(t);try{const i=n.viewQuery;null!==i&&IC(1,i,e);const s=n.template;null!==s&&KS(n,t,s,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&zS(n,t),n.staticViewQueries&&IC(2,n.viewQuery,e);const o=n.components;null!==o&&function(n,t){for(let e=0;e<t.length;e++)ZO(n,t[e])}(t,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[2]&=-5,Er()}}function Tu(n,t,e,i){const s=t[2];if(256==(256&s))return;Ya(t);const o=Ka();try{ed(t),function(n){Oi.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&KS(n,t,e,2,i);const u=3==(3&s);if(!o)if(u){const se=n.preOrderCheckHooks;null!==se&&lt(t,se,null)}else{const se=n.preOrderHooks;null!==se&&gt(t,se,0,null),St(t,0)}if(function(n){for(let t=el(n);null!==t;t=nC(t)){if(!t[2])continue;const e=t[9];for(let i=0;i<e.length;i++){const s=e[i],o=s[3];0==(1024&s[2])&&rc(o,1),s[2]|=1024}}}(t),function(n){for(let t=el(n);null!==t;t=nC(t))for(let e=10;e<t.length;e++){const i=t[e],s=i[1];Sl(i)&&Tu(s,i,s.template,i[8])}}(t),null!==n.contentQueries&&zS(n,t),!o)if(u){const se=n.contentCheckHooks;null!==se&&lt(t,se)}else{const se=n.contentHooks;null!==se&&gt(t,se,1),St(t,1)}!function(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let i=0;i<e.length;i++){const s=e[i];if(s<0)yt(~s);else{const o=s,u=e[++i],x=e[++i];kr(u,o),x(2,t[o])}}}finally{yt(-1)}}(n,t);const x=n.components;null!==x&&function(n,t){for(let e=0;e<t.length;e++)QO(n,t[e])}(t,x);const H=n.viewQuery;if(null!==H&&IC(2,H,i),!o)if(u){const se=n.viewCheckHooks;null!==se&&lt(t,se)}else{const se=n.viewHooks;null!==se&&gt(t,se,2),St(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),o||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,rc(t[3],-1))}finally{Er()}}function NO(n,t,e,i){const s=t[10],o=!Ka(),u=ja(t);try{o&&!u&&s.begin&&s.begin(),u&&Nf(n,t,i),Tu(n,t,e,i)}finally{o&&!u&&s.end&&s.end()}}function KS(n,t,e,i,s){const o=Do(),u=2&i;try{yt(-1),u&&t.length>20&&OS(n,t,20,Ka()),e(i,s)}finally{yt(o)}}function $S(n,t,e){if($o(t)){const s=t.directiveEnd;for(let o=t.directiveStart;o<s;o++){const u=n.data[o];u.contentQueries&&u.contentQueries(1,e[o],o)}}}function yC(n,t,e){!lu()||(function(n,t,e,i){const s=e.directiveStart,o=e.directiveEnd;n.firstCreatePass||ba(e,t),Po(i,t);const u=e.initialInputs;for(let x=s;x<o;x++){const H=n.data[x],se=Go(H);se&&zO(t,e,H);const Re=Za(t,n,x,e);Po(Re,t),null!==u&&KO(0,x-s,Re,H,0,u),se&&(Eo(e.index,t)[8]=Re)}}(n,t,e,Oo(e,t)),128==(128&e.flags)&&function(n,t,e){const i=e.directiveStart,s=e.directiveEnd,u=e.index,x=Oi.lFrame.currentDirectiveIndex;try{yt(u);for(let H=i;H<s;H++){const se=n.data[H],Re=t[H];Qr(H),(null!==se.hostBindings||0!==se.hostVars||null!==se.hostAttrs)&&e1(se,Re)}}finally{yt(-1),Qr(x)}}(n,t,e))}function wC(n,t,e=Oo){const i=t.localNames;if(null!==i){let s=t.index+1;for(let o=0;o<i.length;o+=2){const u=i[o+1],x=-1===u?e(t,n):n[u];n[s++]=x}}}function GS(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=Bm(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):t}function Bm(n,t,e,i,s,o,u,x,H,se){const Re=20+i,it=Re+s,pt=function(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:ns);return e}(Re,it),xt="function"==typeof se?se():se;return pt[1]={type:n,blueprint:pt,template:e,queries:null,viewQuery:x,declTNode:t,data:pt.slice().fill(null,Re),bindingStartIndex:Re,expandoStartIndex:it,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof u?u():u,firstChild:null,schemas:H,consts:xt,incompleteFirstPass:!1}}function ZS(n,t,e,i){const s=r1(t);null===e?s.push(i):(s.push(e),n.firstCreatePass&&a1(n).push(i,s.length-1))}function XS(n,t,e){for(let i in n)if(n.hasOwnProperty(i)){const s=n[i];(e=null===e?{}:e).hasOwnProperty(i)?e[i].push(t,s):e[i]=[t,s]}return e}function Vr(n,t,e,i,s,o,u,x){const H=Oo(t,e);let Re,se=t.inputs;!x&&null!=se&&(Re=se[i])?(d1(n,e,Re,i,s),Wa(t)&&function(n,t){const e=Eo(t,n);16&e[2]||(e[2]|=64)}(e,t.index)):3&t.type&&(i=function(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),s=null!=u?u(s,t.value||"",i):s,Ps(o)?o.setProperty(H,i,s):Ai(i)||(H.setProperty?H.setProperty(i,s):H[i]=s))}function SC(n,t,e,i){let s=!1;if(lu()){const o=function(n,t,e){const i=n.directiveRegistry;let s=null;if(i)for(let o=0;o<i.length;o++){const u=i[o];AS(e,u.selectors,!1)&&(s||(s=[]),gu(ba(e,t),n,u.type),Go(u)?(t1(n,e),s.unshift(u)):s.push(u))}return s}(n,t,e),u=null===i?null:{"":-1};if(null!==o){s=!0,n1(e,n.data.length,o.length);for(let Re=0;Re<o.length;Re++){const it=o[Re];it.providersResolver&&it.providersResolver(it)}let x=!1,H=!1,se=Nu(n,t,o.length,null);for(let Re=0;Re<o.length;Re++){const it=o[Re];e.mergedAttrs=wi(e.mergedAttrs,it.hostAttrs),i1(n,e,t,se,it),jO(se,it,u),null!==it.contentQueries&&(e.flags|=8),(null!==it.hostBindings||null!==it.hostAttrs||0!==it.hostVars)&&(e.flags|=128);const pt=it.type.prototype;!x&&(pt.ngOnChanges||pt.ngOnInit||pt.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e.index),x=!0),!H&&(pt.ngOnChanges||pt.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e.index),H=!0),se++}!function(n,t){const i=t.directiveEnd,s=n.data,o=t.attrs,u=[];let x=null,H=null;for(let se=t.directiveStart;se<i;se++){const Re=s[se],it=Re.inputs,pt=null===o||TS(t)?null:$O(it,o);u.push(pt),x=XS(it,se,x),H=XS(Re.outputs,se,H)}null!==x&&(x.hasOwnProperty("class")&&(t.flags|=16),x.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=u,t.inputs=x,t.outputs=H}(n,e)}u&&function(n,t,e){if(t){const i=n.localNames=[];for(let s=0;s<t.length;s+=2){const o=e[t[s+1]];if(null==o)throw new $e("301",`Export of name '${t[s+1]}' not found!`);i.push(t[s],o)}}}(e,i,u)}return e.mergedAttrs=wi(e.mergedAttrs,e.attrs),s}function qS(n,t,e,i,s,o){const u=o.hostBindings;if(u){let x=n.hostBindingOpCodes;null===x&&(x=n.hostBindingOpCodes=[]);const H=~t.index;(function(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(x)!=H&&x.push(H),x.push(i,s,u)}}function e1(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function t1(n,t){t.flags|=2,(n.components||(n.components=[])).push(t.index)}function jO(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;Go(t)&&(e[""]=n)}}function n1(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function i1(n,t,e,i,s){n.data[i]=s;const o=s.factory||(s.factory=Ar(s.type)),u=new dn(o,Go(s),null);n.blueprint[i]=u,e[i]=u,qS(n,t,0,i,Nu(n,e,s.hostVars,ns),s)}function zO(n,t,e){const i=Oo(t,n),s=GS(e),o=n[10],u=Vm(n,If(n,s,null,e.onPush?64:16,i,t,o,o.createRenderer(i,e),null,null));n[t.index]=u}function tl(n,t,e,i,s,o){const u=Oo(n,t);!function(n,t,e,i,s,o,u){if(null==o)Ps(n)?n.removeAttribute(t,s,e):t.removeAttribute(s);else{const x=null==u?Lt(o):u(o,i||"",s);Ps(n)?n.setAttribute(t,s,x,e):e?t.setAttributeNS(e,s,x):t.setAttribute(s,x)}}(t[11],u,o,n.value,e,i,s)}function KO(n,t,e,i,s,o){const u=o[t];if(null!==u){const x=i.setInput;for(let H=0;H<u.length;){const se=u[H++],Re=u[H++],it=u[H++];null!==x?i.setInput(e,it,se,Re):e[Re]=it}}}function $O(n,t){let e=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;n.hasOwnProperty(s)&&(null===e&&(e=[]),e.push(s,n[s],t[i+1])),i+=2}else i+=2;else i+=4}return e}function s1(n,t,e,i){return new Array(n,!0,!1,t,null,0,i,e,null,null)}function QO(n,t){const e=Eo(t,n);if(Sl(e)){const i=e[1];80&e[2]?Tu(i,e,i.template,e[8]):e[5]>0&&DC(e)}}function DC(n){for(let i=el(n);null!==i;i=nC(i))for(let s=10;s<i.length;s++){const o=i[s];if(1024&o[2]){const u=o[1];Tu(u,o,u.template,o[8])}else o[5]>0&&DC(o)}const e=n[1].components;if(null!==e)for(let i=0;i<e.length;i++){const s=Eo(e[i],n);Sl(s)&&s[5]>0&&DC(s)}}function ZO(n,t){const e=Eo(t,n),i=e[1];(function(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])})(i,e),Nf(i,e,e[8])}function Vm(n,t){return n[13]?n[14][4]=t:n[13]=t,n[14]=t,t}function LC(n){for(;n;){n[2]|=64;const t=Zi(n);if(fa(n)&&!t)return n;n=t}return null}function MC(n,t,e){const i=t[10];i.begin&&i.begin();try{Tu(n,t,n.template,e)}catch(s){throw c1(t,s),s}finally{i.end&&i.end()}}function o1(n){!function(n){for(let t=0;t<n.components.length;t++){const e=n.components[t],i=Lf(e),s=i[1];NO(s,i,s.template,e)}}(n[8])}function IC(n,t,e){hc(0),t(n,e)}const tP=(()=>Promise.resolve(null))();function r1(n){return n[7]||(n[7]=[])}function a1(n){return n.cleanup||(n.cleanup=[])}function l1(n,t,e){return(null===n||Go(n))&&(e=function(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(e[t.index])),e[11]}function c1(n,t){const e=n[9],i=e?e.get(Br,null):null;i&&i.handleError(t)}function d1(n,t,e,i,s){for(let o=0;o<e.length;){const u=e[o++],x=e[o++],H=t[u],se=n.data[u];null!==se.setInput?se.setInput(H,s,i,x):H[x]=s}}function Hl(n,t,e){const i=Or(t,n);!function(n,t,e){Ps(n)?n.setValue(t,e):t.textContent=e}(n[11],i,e)}function Wm(n,t,e){let i=e?n.styles:null,s=e?n.classes:null,o=0;if(null!==t)for(let u=0;u<t.length;u++){const x=t[u];"number"==typeof x?o=x:1==o?s=ft(s,x):2==o&&(i=ft(i,x+": "+t[++u]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=s:n.classesWithoutHost=s}const Au=new mi("INJECTOR",-1);class u1{get(t,e=_c){if(e===_c){const i=new Error(`NullInjectorError: No provider for ${Xe(t)}!`);throw i.name="NullInjectorError",i}return e}}const Tf=new mi("Set Injector scope."),Af={},sP={};let NC;function h1(){return void 0===NC&&(NC=new u1),NC}function f1(n,t=null,e=null,i){return new rP(n,e,t||h1(),i)}class rP{constructor(t,e,i,s=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const o=[];e&&ur(e,x=>this.processProvider(x,t,e)),ur([t],x=>this.processInjectorType(x,[],o)),this.records.set(Au,Ru(void 0,this));const u=this.records.get(Tf);this.scope=null!=u?u.value:null,this.source=s||("object"==typeof t?null:Xe(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=_c,i=st.Default){this.assertNotDestroyed();const s=ud(this),o=en(void 0);try{if(!(i&st.SkipSelf)){let x=this.records.get(t);if(void 0===x){const H=function(n){return"function"==typeof n||"object"==typeof n&&n instanceof mi}(t)&&Wi(t);x=H&&this.injectableDefInScope(H)?Ru(TC(t),Af):null,this.records.set(t,x)}if(null!=x)return this.hydrate(t,x)}return(i&st.Self?h1():this.parent).get(t,e=i&st.Optional&&e===_c?null:e)}catch(u){if("NullInjectorError"===u.name){if((u[Ls]=u[Ls]||[]).unshift(Xe(t)),s)throw u;return cf(u,t,"R3InjectorError",this.source)}throw u}finally{en(o),ud(s)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((i,s)=>t.push(Xe(s))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,i){if(!(t=Ne(t)))return!1;let s=P(t);const o=null==s&&t.ngModule||void 0,u=void 0===o?t:o,x=-1!==i.indexOf(u);if(void 0!==o&&(s=P(o)),null==s)return!1;if(null!=s.imports&&!x){let Re;i.push(u);try{ur(s.imports,it=>{this.processInjectorType(it,e,i)&&(void 0===Re&&(Re=[]),Re.push(it))})}finally{}if(void 0!==Re)for(let it=0;it<Re.length;it++){const{ngModule:pt,providers:xt}=Re[it];ur(xt,Bt=>this.processProvider(Bt,pt,xt||Ye))}}this.injectorDefTypes.add(u);const H=Ar(u)||(()=>new u);this.records.set(u,Ru(H,Af));const se=s.providers;if(null!=se&&!x){const Re=t;ur(se,it=>this.processProvider(it,Re,se))}return void 0!==o&&void 0!==t.providers}processProvider(t,e,i){let s=Ou(t=Ne(t))?t:Ne(t&&t.provide);const o=function(n,t,e){return m1(n)?Ru(void 0,n.useValue):Ru(g1(n),Af)}(t);if(Ou(t)||!0!==t.multi)this.records.get(s);else{let u=this.records.get(s);u||(u=Ru(void 0,Af,!0),u.factory=()=>Ol(u.multi),this.records.set(s,u)),s=t,u.multi.push(t)}this.records.set(s,o)}hydrate(t,e){return e.value===Af&&(e.value=sP,e.value=e.factory()),"object"==typeof e.value&&e.value&&function(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=Ne(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function TC(n){const t=Wi(n),e=null!==t?t.factory:Ar(n);if(null!==e)return e;if(n instanceof mi)throw new Error(`Token ${Xe(n)} is missing a \u0275prov definition.`);if(n instanceof Function)return function(n){const t=n.length;if(t>0){const i=Xa(t,"?");throw new Error(`Can't resolve all parameters for ${Xe(n)}: (${i.join(", ")}).`)}const e=function(n){const t=n&&(n[q]||n[Ke]);if(t){const e=function(n){if(n.hasOwnProperty("name"))return n.name;const t=(""+n).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),t}return null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new Error("unreachable")}function g1(n,t,e){let i;if(Ou(n)){const s=Ne(n);return Ar(s)||TC(s)}if(m1(n))i=()=>Ne(n.useValue);else if(function(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...Ol(n.deps||[]));else if(function(n){return!(!n||!n.useExisting)}(n))i=()=>mn(Ne(n.useExisting));else{const s=Ne(n&&(n.useClass||n.provide));if(!function(n){return!!n.deps}(n))return Ar(s)||TC(s);i=()=>new s(...Ol(n.deps))}return i}function Ru(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function m1(n){return null!==n&&"object"==typeof n&&lf in n}function Ou(n){return"function"==typeof n}const p1=function(n,t,e){return function(n,t=null,e=null,i){const s=f1(n,t,e,i);return s._resolveInjectorDefTypes(),s}({name:e},t,n,e)};class hs{static create(t,e){return Array.isArray(t)?p1(t,e,""):p1(t.providers,t.parent,t.name||"")}}function xP(n,t){je(Lf(n)[1],eo())}function Pi(n){let t=function(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let s;if(Go(n))s=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");s=t.\u0275dir}if(s){if(e){i.push(s);const u=n;u.inputs=FC(n.inputs),u.declaredInputs=FC(n.declaredInputs),u.outputs=FC(n.outputs);const x=s.hostBindings;x&&TP(n,x);const H=s.viewQuery,se=s.contentQueries;if(H&&IP(n,H),se&&NP(n,se),Dt(n.inputs,s.inputs),Dt(n.declaredInputs,s.declaredInputs),Dt(n.outputs,s.outputs),Go(s)&&s.data.animation){const Re=n.data;Re.animation=(Re.animation||[]).concat(s.data.animation)}}const o=s.features;if(o)for(let u=0;u<o.length;u++){const x=o[u];x&&x.ngInherit&&x(n),x===Pi&&(e=!1)}}t=Object.getPrototypeOf(t)}!function(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const s=n[i];s.hostVars=t+=s.hostVars,s.hostAttrs=wi(s.hostAttrs,e=wi(e,s.hostAttrs))}}(i)}function FC(n){return n===Fe?{}:n===Ye?[]:n}function IP(n,t){const e=n.viewQuery;n.viewQuery=e?(i,s)=>{t(i,s),e(i,s)}:t}function NP(n,t){const e=n.contentQueries;n.contentQueries=e?(i,s,o)=>{t(i,s,o),e(i,s,o)}:t}function TP(n,t){const e=n.hostBindings;n.hostBindings=e?(i,s)=>{t(i,s),e(i,s)}:t}hs.THROW_IF_NOT_FOUND=_c,hs.NULL=new u1,hs.\u0275prov=Nn({token:hs,providedIn:"any",factory:()=>mn(Au)}),hs.__NG_ELEMENT_ID__=-1;let Hm=null;function Pu(){if(!Hm){const n=rt.Symbol;if(n&&n.iterator)Hm=n.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const i=t[e];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(Hm=i)}}}return Hm}function Of(n){return!!BC(n)&&(Array.isArray(n)||!(n instanceof Map)&&Pu()in n)}function BC(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Jo(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function ws(n,t,e,i){const s=ti();return Jo(s,$a(),t)&&(ps(),tl(r(),s,n,t,e,i)),ws}function Fu(n,t,e,i){return Jo(n,$a(),e)?t+Lt(e)+i:ns}function Vs(n,t,e,i,s,o,u,x){const H=ti(),se=ps(),Re=n+20,it=se.firstCreatePass?function(n,t,e,i,s,o,u,x,H){const se=t.consts,Re=Iu(t,n,4,u||null,Pr(se,x));SC(t,e,Re,Pr(se,H)),je(t,Re);const it=Re.tViews=Bm(2,Re,i,s,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,se);return null!==t.queries&&(t.queries.template(t,Re),it.queries=t.queries.embeddedTView(Re)),Re}(Re,se,H,t,e,i,s,o,u):se.data[Re];Yo(it,!1);const pt=H[11].createComment("");Rm(se,H,pt,it),Po(pt,H),Vm(H,H[Re]=s1(pt,H,pt,it)),ha(it)&&yC(se,H,it),null!=u&&wC(H,it,x)}function Ku(n){return function(n,t){return n[t]}(Oi.lFrame.contextLView,20+n)}function Jt(n,t=st.Default){const e=ti();return null===e?mn(n,t):am(eo(),e,Ne(n),t)}function Mi(n,t,e){const i=ti();return Jo(i,$a(),t)&&Vr(ps(),r(),i,n,t,i[11],e,!1),Mi}function jC(n,t,e,i,s){const u=s?"class":"style";d1(n,e,t.inputs[u],u,i)}function ni(n,t,e,i){const s=ti(),o=ps(),u=20+n,x=s[11],H=s[u]=sC(x,t,Oi.lFrame.currentNamespace),se=o.firstCreatePass?function(n,t,e,i,s,o,u){const x=t.consts,se=Iu(t,n,2,s,Pr(x,o));return SC(t,e,se,Pr(x,u)),null!==se.attrs&&Wm(se,se.attrs,!1),null!==se.mergedAttrs&&Wm(se,se.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,se),se}(u,o,s,0,t,e,i):o.data[u];Yo(se,!0);const Re=se.mergedAttrs;null!==Re&&_i(x,H,Re);const it=se.classes;null!==it&&dC(x,H,it);const pt=se.styles;null!==pt&&MS(x,H,pt),64!=(64&se.flags)&&Rm(o,s,H,se),0===Oi.lFrame.elementDepthCount&&Po(H,s),Oi.lFrame.elementDepthCount++,ha(se)&&(yC(o,s,se),$S(o,se,s)),null!==i&&wC(s,se)}function ii(){let n=eo();id()?sd():(n=n.parent,Yo(n,!1));const t=n;Oi.lFrame.elementDepthCount--;const e=ps();e.firstCreatePass&&(je(e,n),$o(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function(n){return 0!=(16&n.flags)}(t)&&jC(e,t,ti(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(n){return 0!=(32&n.flags)}(t)&&jC(e,t,ti(),t.stylesWithoutHost,!1)}function Es(n,t,e,i){ni(n,t,e,i),ii()}function zm(n,t,e){const i=ti(),s=ps(),o=n+20,u=s.firstCreatePass?function(n,t,e,i,s){const o=t.consts,u=Pr(o,i),x=Iu(t,n,8,"ng-container",u);return null!==u&&Wm(x,u,!0),SC(t,e,x,Pr(o,s)),null!==t.queries&&t.queries.elementStart(t,x),x}(o,s,i,t,e):s.data[o];Yo(u,!0);const x=i[o]=i[11].createComment("");Rm(s,i,x,u),Po(x,i),ha(u)&&(yC(s,i,u),$S(s,u,i)),null!=e&&wC(i,u)}function Km(){let n=eo();const t=ps();id()?sd():(n=n.parent,Yo(n,!1)),t.firstCreatePass&&(je(t,n),$o(n)&&t.queries.elementEnd(n))}function kf(){return ti()}function Ff(n){return!!n&&"function"==typeof n.then}const $m=function(n){return!!n&&"function"==typeof n.subscribe};function ds(n,t,e,i){const s=ti(),o=ps(),u=eo();return tE(o,s,s[11],u,n,t,!!e,i),ds}function zC(n,t){const e=eo(),i=ti(),s=ps();return tE(s,i,l1(Fr(s.data),e,i),e,n,t,!1),zC}function tE(n,t,e,i,s,o,u,x){const H=ha(i),Re=n.firstCreatePass&&a1(n),it=t[8],pt=r1(t);let xt=!0;if(3&i.type||x){const rn=Oo(i,t),Pn=x?x(rn):rn,Dn=pt.length,ri=x?pi=>x(Qs(pi[i.index])):i.index;if(Ps(e)){let pi=null;if(!x&&H&&(pi=function(n,t,e,i){const s=n.cleanup;if(null!=s)for(let o=0;o<s.length-1;o+=2){const u=s[o];if(u===e&&s[o+1]===i){const x=t[7],H=s[o+2];return x.length>H?x[H]:null}"string"==typeof u&&(o+=2)}return null}(n,t,s,i.index)),null!==pi)(pi.__ngLastListenerFn__||pi).__ngNextListenerFn__=o,pi.__ngLastListenerFn__=o,xt=!1;else{o=KC(i,t,it,o,!1);const Xi=e.listen(Pn,s,o);pt.push(o,Xi),Re&&Re.push(s,ri,Dn,Dn+1)}}else o=KC(i,t,it,o,!0),Pn.addEventListener(s,o,u),pt.push(o),Re&&Re.push(s,ri,Dn,u)}else o=KC(i,t,it,o,!1);const Bt=i.outputs;let cn;if(xt&&null!==Bt&&(cn=Bt[s])){const rn=cn.length;if(rn)for(let Pn=0;Pn<rn;Pn+=2){const Bs=t[cn[Pn]][cn[Pn+1]].subscribe(o),Us=pt.length;pt.push(o,Bs),Re&&Re.push(s,i.index,Us,-(Us+1))}}}function nE(n,t,e,i){try{return!1!==e(i)}catch(s){return c1(n,s),!1}}function KC(n,t,e,i,s){return function o(u){if(u===Function)return i;const x=2&n.flags?Eo(n.index,t):t;0==(32&t[2])&&LC(x);let H=nE(t,0,i,u),se=o.__ngNextListenerFn__;for(;se;)H=nE(t,0,se,u)&&H,se=se.__ngNextListenerFn__;return s&&!1===H&&(u.preventDefault(),u.returnValue=!1),H}}function Co(n=1){return function(n){return(Oi.lFrame.contextLView=function(n,t){for(;n>0;)t=t[15],n--;return t}(n,Oi.lFrame.contextLView))[8]}(n)}function hk(n,t){let e=null;const i=function(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(n);for(let s=0;s<t.length;s++){const o=t[s];if("*"!==o){if(null===i?AS(n,o,!0):pO(i,o))return s}else e=s}return e}function qs(n){const t=ti()[16][6];if(!t.projection){const i=t.projection=Xa(n?n.length:1,null),s=i.slice();let o=t.child;for(;null!==o;){const u=n?hk(o,n):0;null!==u&&(s[u]?s[u].projectionNext=o:i[u]=o,s[u]=o),o=o.next}}}function Gi(n,t=0,e){const i=ti(),s=ps(),o=Iu(s,20+n,16,null,e||null);null===o.projection&&(o.projection=t),sd(),64!=(64&o.flags)&&function(n,t,e){xS(t[11],0,t,e,_S(n,e,t),yS(e.parent||t[6],e,t))}(s,i,o)}function hE(n,t,e,i,s){const o=n[e+1],u=null===t;let x=i?Ea(o):Vl(o),H=!1;for(;0!==x&&(!1===H||u);){const Re=n[x+1];mk(n[x],t)&&(H=!0,n[x+1]=i?fC(Re):uC(Re)),x=i?Ea(Re):Vl(Re)}H&&(n[e+1]=i?uC(o):fC(o))}function mk(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&Rl(n,t)>=0}const Io={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function fE(n){return n.substring(Io.key,Io.keyEnd)}function gE(n,t){const e=Io.textEnd;return e===t?-1:(t=Io.keyEnd=function(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}(n,Io.key=t,e),Gu(n,t,e))}function Gu(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function Bf(n,t,e){return xa(n,t,e,!1),Bf}function As(n,t){return xa(n,t,null,!0),As}function sl(n,t){for(let e=function(n){return function(n){Io.key=0,Io.keyEnd=0,Io.value=0,Io.valueEnd=0,Io.textEnd=n.length}(n),gE(n,Gu(n,0,Io.textEnd))}(t);e>=0;e=gE(t,e))hr(n,fE(t),!0)}function xa(n,t,e,i){const s=ti(),o=ps(),u=cr(2);o.firstUpdatePass&&bE(o,n,u,i),t!==ns&&Jo(s,u,t)&&wE(o,o.data[Do()],s,s[11],n,s[u+1]=function(n,t){return null==n||("string"==typeof t?n+=t:"object"==typeof n&&(n=Xe(gr(n)))),n}(t,e),i,u)}function CE(n,t){return t>=n.expandoStartIndex}function bE(n,t,e,i){const s=n.data;if(null===s[e+1]){const o=s[Do()],u=CE(n,e);EE(o,i)&&null===t&&!u&&(t=!1),t=function(n,t,e,i){const s=Fr(n);let o=i?t.residualClasses:t.residualStyles;if(null===s)0===(i?t.classBindings:t.styleBindings)&&(e=Vf(e=GC(null,n,t,e,i),t.attrs,i),o=null);else{const u=t.directiveStylingLast;if(-1===u||n[u]!==s)if(e=GC(s,n,t,e,i),null===o){let H=function(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==Vl(i))return n[Ea(i)]}(n,t,i);void 0!==H&&Array.isArray(H)&&(H=GC(null,n,t,H[1],i),H=Vf(H,t.attrs,i),function(n,t,e,i){n[Ea(e?t.classBindings:t.styleBindings)]=i}(n,t,i,H))}else o=function(n,t,e){let i;const s=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<s;o++)i=Vf(i,n[o].hostAttrs,e);return Vf(i,t.attrs,e)}(n,t,i)}return void 0!==o&&(i?t.residualClasses=o:t.residualStyles=o),e}(s,o,t,i),function(n,t,e,i,s,o){let u=o?t.classBindings:t.styleBindings,x=Ea(u),H=Vl(u);n[i]=e;let Re,se=!1;if(Array.isArray(e)){const it=e;Re=it[1],(null===Re||Rl(it,Re)>0)&&(se=!0)}else Re=e;if(s)if(0!==H){const pt=Ea(n[x+1]);n[i+1]=Pm(pt,x),0!==pt&&(n[pt+1]=hC(n[pt+1],i)),n[x+1]=function(n,t){return 131071&n|t<<17}(n[x+1],i)}else n[i+1]=Pm(x,0),0!==x&&(n[x+1]=hC(n[x+1],i)),x=i;else n[i+1]=Pm(H,0),0===x?x=i:n[H+1]=hC(n[H+1],i),H=i;se&&(n[i+1]=uC(n[i+1])),hE(n,Re,i,!0),hE(n,Re,i,!1),function(n,t,e,i,s){const o=s?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof t&&Rl(o,t)>=0&&(e[i+1]=fC(e[i+1]))}(t,Re,n,i,o),u=Pm(x,H),o?t.classBindings=u:t.styleBindings=u}(s,o,t,e,u,i)}}function GC(n,t,e,i,s){let o=null;const u=e.directiveEnd;let x=e.directiveStylingLast;for(-1===x?x=e.directiveStart:x++;x<u&&(o=t[x],i=Vf(i,o.hostAttrs,s),o!==n);)x++;return null!==n&&(e.directiveStylingLast=x),i}function Vf(n,t,e){const i=e?1:2;let s=-1;if(null!==t)for(let o=0;o<t.length;o++){const u=t[o];"number"==typeof u?s=u:s===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),hr(n,u,!!e||t[++o]))}return void 0===n?null:n}function wE(n,t,e,i,s,o,u,x){if(!(3&t.type))return;const H=n.data,se=H[x+1];Gm(function(n){return 1==(1&n)}(se)?SE(H,t,e,s,Vl(se),u):void 0)||(Gm(o)||function(n){return 2==(2&n)}(se)&&(o=SE(H,null,e,s,x,u)),function(n,t,e,i,s){const o=Ps(n);if(t)s?o?n.addClass(e,i):e.classList.add(i):o?n.removeClass(e,i):e.classList.remove(i);else{let u=-1===i.indexOf("-")?void 0:no.DashCase;if(null==s)o?n.removeStyle(e,i,u):e.style.removeProperty(i);else{const x="string"==typeof s&&s.endsWith("!important");x&&(s=s.slice(0,-10),u|=no.Important),o?n.setStyle(e,i,s,u):e.style.setProperty(i,s,x?"important":"")}}}(i,u,Or(Do(),e),s,o))}function SE(n,t,e,i,s,o){const u=null===t;let x;for(;s>0;){const H=n[s],se=Array.isArray(H),Re=se?H[1]:H,it=null===Re;let pt=e[s+1];pt===ns&&(pt=it?Ye:void 0);let xt=it?ef(pt,i):Re===i?pt:void 0;if(se&&!Gm(xt)&&(xt=ef(H,i)),Gm(xt)&&(x=xt,u))return x;const Bt=n[s+1];s=u?Ea(Bt):Vl(Bt)}if(null!==t){let H=o?t.residualClasses:t.residualStyles;null!=H&&(x=ef(H,i))}return x}function Gm(n){return void 0!==n}function EE(n,t){return 0!=(n.flags&(t?16:32))}function gs(n,t=""){const e=ti(),i=ps(),s=n+20,o=i.firstCreatePass?Iu(i,s,1,t,null):i.data[s],u=e[s]=function(n,t){return Ps(n)?n.createText(t):n.createTextNode(t)}(e[11],t);Rm(i,e,u,o),Yo(o,!1)}function ol(n){return bd("",n,""),ol}function bd(n,t,e){const i=ti(),s=Fu(i,n,t,e);return s!==ns&&Hl(i,Do(),s),bd}function RE(n,t,e){!function(n,t,e,i){const s=ps(),o=cr(2);s.firstUpdatePass&&bE(s,null,o,i);const u=ti();if(e!==ns&&Jo(u,o,e)){const x=s.data[Do()];if(EE(x,i)&&!CE(s,o)){let H=i?x.classesWithoutHost:x.stylesWithoutHost;null!==H&&(e=ft(H,e||"")),jC(s,x,u,e,i)}else!function(n,t,e,i,s,o,u,x){s===ns&&(s=Ye);let H=0,se=0,Re=0<s.length?s[0]:null,it=0<o.length?o[0]:null;for(;null!==Re||null!==it;){const pt=H<s.length?s[H+1]:void 0,xt=se<o.length?o[se+1]:void 0;let cn,Bt=null;Re===it?(H+=2,se+=2,pt!==xt&&(Bt=it,cn=xt)):null===it||null!==Re&&Re<it?(H+=2,Bt=Re):(se+=2,Bt=it,cn=xt),null!==Bt&&wE(n,t,e,i,Bt,cn,u,x),Re=H<s.length?s[H]:null,it=se<o.length?o[se]:null}}(s,x,u,u[11],u[o+1],u[o+1]=function(n,t,e){if(null==e||""===e)return Ye;const i=[],s=gr(e);if(Array.isArray(s))for(let o=0;o<s.length;o++)n(i,s[o],!0);else if("object"==typeof s)for(const o in s)s.hasOwnProperty(o)&&n(i,o,s[o]);else"string"==typeof s&&t(i,s);return i}(n,t,e),i,o)}}(hr,sl,Fu(ti(),n,t,e),!0)}function Lc(n,t,e){const i=ti();return Jo(i,$a(),t)&&Vr(ps(),r(),i,n,t,i[11],e,!0),Lc}function YC(n,t,e){const i=ti();if(Jo(i,$a(),t)){const o=ps(),u=r();Vr(o,u,i,n,t,l1(Fr(o.data),u,i),e,!0)}return YC}const yd=void 0;var Qk=["en",[["a","p"],["AM","PM"],yd],[["AM","PM"],yd,yd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],yd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],yd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",yd,"{1} 'at' {0}",yd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(n){const t=Math.floor(Math.abs(n)),e=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===e?1:5}];let Yu={};function zE(n){return n in Yu||(Yu[n]=rt.ng&&rt.ng.common&&rt.ng.common.locales&&rt.ng.common.locales[n]),Yu[n]}var bi=(()=>((bi=bi||{})[bi.LocaleId=0]="LocaleId",bi[bi.DayPeriodsFormat=1]="DayPeriodsFormat",bi[bi.DayPeriodsStandalone=2]="DayPeriodsStandalone",bi[bi.DaysFormat=3]="DaysFormat",bi[bi.DaysStandalone=4]="DaysStandalone",bi[bi.MonthsFormat=5]="MonthsFormat",bi[bi.MonthsStandalone=6]="MonthsStandalone",bi[bi.Eras=7]="Eras",bi[bi.FirstDayOfWeek=8]="FirstDayOfWeek",bi[bi.WeekendRange=9]="WeekendRange",bi[bi.DateFormat=10]="DateFormat",bi[bi.TimeFormat=11]="TimeFormat",bi[bi.DateTimeFormat=12]="DateTimeFormat",bi[bi.NumberSymbols=13]="NumberSymbols",bi[bi.NumberFormats=14]="NumberFormats",bi[bi.CurrencyCode=15]="CurrencyCode",bi[bi.CurrencySymbol=16]="CurrencySymbol",bi[bi.CurrencyName=17]="CurrencyName",bi[bi.Currencies=18]="Currencies",bi[bi.Directionality=19]="Directionality",bi[bi.PluralCase=20]="PluralCase",bi[bi.ExtraData=21]="ExtraData",bi))();const Ym="en-US";let KE=Ym;function QC(n){En(n,"Expected localeId to be defined"),"string"==typeof n&&(KE=n.toLowerCase().replace(/_/g,"-"))}function JC(n,t,e,i,s){if(n=Ne(n),Array.isArray(n))for(let o=0;o<n.length;o++)JC(n[o],t,e,i,s);else{const o=ps(),u=ti();let x=Ou(n)?n:Ne(n.provide),H=g1(n);const se=eo(),Re=1048575&se.providerIndexes,it=se.directiveStart,pt=se.providerIndexes>>20;if(Ou(n)||!n.multi){const xt=new dn(H,s,Jt),Bt=eb(x,t,s?Re:Re+pt,it);-1===Bt?(gu(ba(se,u),o,x),qC(o,n,t.length),t.push(x),se.directiveStart++,se.directiveEnd++,s&&(se.providerIndexes+=1048576),e.push(xt),u.push(xt)):(e[Bt]=xt,u[Bt]=xt)}else{const xt=eb(x,t,Re+pt,it),Bt=eb(x,t,Re,Re+pt),cn=xt>=0&&e[xt],rn=Bt>=0&&e[Bt];if(s&&!rn||!s&&!cn){gu(ba(se,u),o,x);const Pn=function(n,t,e,i,s){const o=new dn(n,e,Jt);return o.multi=[],o.index=t,o.componentProviders=0,mD(o,s,i&&!e),o}(s?G2:$2,e.length,s,i,H);!s&&rn&&(e[Bt].providerFactory=Pn),qC(o,n,t.length,0),t.push(x),se.directiveStart++,se.directiveEnd++,s&&(se.providerIndexes+=1048576),e.push(Pn),u.push(Pn)}else qC(o,n,xt>-1?xt:Bt,mD(e[s?Bt:xt],H,!s&&i));!s&&i&&rn&&e[Bt].componentProviders++}}}function qC(n,t,e,i){const s=Ou(t);if(s||function(n){return!!n.useClass}(t)){const u=(t.useClass||t).prototype.ngOnDestroy;if(u){const x=n.destroyHooks||(n.destroyHooks=[]);if(!s&&t.multi){const H=x.indexOf(e);-1===H?x.push(e,[i,u]):x[H+1].push(i,u)}else x.push(e,u)}}}function mD(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function eb(n,t,e,i){for(let s=e;s<i;s++)if(t[s]===n)return s;return-1}function $2(n,t,e,i){return tb(this.multi,[])}function G2(n,t,e,i){const s=this.multi;let o;if(this.providerFactory){const u=this.providerFactory.componentProviders,x=Za(e,e[1],this.providerFactory.index,i);o=x.slice(0,u),tb(s,o);for(let H=u;H<x.length;H++)o.push(x[H])}else o=[],tb(s,o);return o}function tb(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function Ki(n,t=[]){return e=>{e.providersResolver=(i,s)=>function(n,t,e){const i=ps();if(i.firstCreatePass){const s=Go(n);JC(e,i.data,i.blueprint,s,!0),JC(t,i.data,i.blueprint,s,!1)}}(i,s?s(n):n,t)}}class pD{}const vD="ngComponent";class Z2{resolveComponentFactory(t){throw function(n){const t=Error(`No component factory found for ${Xe(n)}. Did you add it to @NgModule.entryComponents?`);return t[vD]=n,t}(t)}}class rl{}function qm(...n){}function Zu(n,t){return new ki(Oo(n,t))}rl.NULL=new Z2;const q2=function(){return Zu(eo(),ti())};let ki=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=q2,n})();function CD(n){return n instanceof ki?n.nativeElement:n}class wd{}let jl=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>tF(),n})();const tF=function(){const n=ti(),e=Eo(eo().index,n);return function(n){return n[11]}(Sr(e)?e:n)};let ib=(()=>{class n{}return n.\u0275prov=Nn({token:n,providedIn:"root",factory:()=>null}),n})();class xc{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const bD=new xc("12.2.0");class yD{constructor(){}supports(t){return Of(t)}create(t){return new oF(t)}}const sF=(n,t)=>t;class oF{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||sF}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,s=0,o=null;for(;e||i;){const u=!i||e&&e.currentIndex<SD(i,s,o)?e:i,x=SD(u,s,o),H=u.currentIndex;if(u===i)s--,i=i._nextRemoved;else if(e=e._next,null==u.previousIndex)s++;else{o||(o=[]);const se=x-s,Re=H-s;if(se!=Re){for(let pt=0;pt<se;pt++){const xt=pt<o.length?o[pt]:o[pt]=0,Bt=xt+pt;Re<=Bt&&Bt<se&&(o[pt]=xt+1)}o[u.previousIndex]=Re-se}}x!==H&&t(u,x,H)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Of(t))throw new Error(`Error trying to diff '${Xe(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let s,o,u,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let x=0;x<this.length;x++)o=t[x],u=this._trackByFn(x,o),null!==e&&Object.is(e.trackById,u)?(i&&(e=this._verifyReinsertion(e,o,u,x)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,u,x),i=!0),e=e._next}else s=0,function(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[Pu()]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,x=>{u=this._trackByFn(s,x),null!==e&&Object.is(e.trackById,u)?(i&&(e=this._verifyReinsertion(e,x,u,s)),Object.is(e.item,x)||this._addIdentityChange(e,x)):(e=this._mismatch(e,x,u,s),i=!0),e=e._next,s++}),this.length=s;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,s){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,s)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,s))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,s)):t=this._addAfter(new rF(e,i),o,s),t}_verifyReinsertion(t,e,i,s){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?t=this._reinsertAfter(o,t._prev,s):t.currentIndex!=s&&(t.currentIndex=s,this._addToMoves(t,s)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const s=t._prevRemoved,o=t._nextRemoved;return null===s?this._removalsHead=o:s._nextRemoved=o,null===o?this._removalsTail=s:o._prevRemoved=s,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const s=null===e?this._itHead:e._next;return t._next=s,t._prev=e,null===s?this._itTail=t:s._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new wD),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new wD),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class rF{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class aF{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class wD{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new aF,this.map.set(e,i)),i.add(t)}get(t,e){const s=this.map.get(t);return s?s.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function SD(n,t,e){const i=n.previousIndex;if(null===i)return i;let s=0;return e&&i<e.length&&(s=e[i]),i+t+s}class ED{constructor(){}supports(t){return t instanceof Map||BC(t)}create(){return new lF}}class lF{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||BC(t)))throw new Error(`Error trying to diff '${Xe(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,s)=>{if(e&&e.key===s)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const o=this._getOrCreateRecordForKey(s,i);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const s=this._records.get(t);this._maybeAddToChanges(s,e);const o=s._prev,u=s._next;return o&&(o._next=u),u&&(u._prev=o),s._next=null,s._prev=null,s}const i=new cF(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class cF{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function DD(){return new Xu([new yD])}let Xu=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(null!=i){const s=i.factories.slice();e=e.concat(s)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||DD()),deps:[[n,new Ja,new vo]]}}find(e){const i=this.factories.find(s=>s.supports(e));if(null!=i)return i;throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(n){return n.name||typeof n}(e)}'`)}}return n.\u0275prov=Nn({token:n,providedIn:"root",factory:DD}),n})();function LD(){return new Ju([new ED])}let Ju=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(i){const s=i.factories.slice();e=e.concat(s)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||LD()),deps:[[n,new Ja,new vo]]}}find(e){const i=this.factories.find(s=>s.supports(e));if(i)return i;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return n.\u0275prov=Nn({token:n,providedIn:"root",factory:LD}),n})();function ep(n,t,e,i,s=!1){for(;null!==e;){const o=t[e.index];if(null!==o&&i.push(Qs(o)),Ro(o))for(let x=10;x<o.length;x++){const H=o[x],se=H[1].firstChild;null!==se&&ep(H[1],H,se,i)}const u=e.type;if(8&u)ep(n,t,e.child,i);else if(32&u){const x=mr(e,t);let H;for(;H=x();)i.push(H)}else if(16&u){const x=DS(t,e);if(Array.isArray(x))i.push(...x);else{const H=Zi(t[16]);ep(H[1],H,x,i,!0)}}e=s?e.projectionNext:e.next}return i}class zf{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return ep(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Ro(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(oC(t,i),mc(e,i))}this._attachedToViewContainer=!1}pS(this._lView[1],this._lView)}onDestroy(t){ZS(this._lView[1],this._lView,null,t)}markForCheck(){LC(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){MC(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(n,t,e){Vo(!0);try{MC(n,t,e)}finally{Vo(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function(n,t){Mf(n,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class uF extends zf{constructor(t){super(t),this._view=t}detectChanges(){o1(this._view)}checkNoChanges(){!function(n){Vo(!0);try{o1(n)}finally{Vo(!1)}}(this._view)}get context(){return null}}const fF=function(n){return function(n,t,e){if(Wa(n)&&!e){const i=Eo(n.index,t);return new zf(i,i)}return 47&n.type?new zf(t[16],t):null}(eo(),ti(),16==(16&n))};let qo=(()=>{class n{}return n.__NG_ELEMENT_ID__=fF,n})();const pF=[new ED],vF=new Xu([new yD]),CF=new Ju(pF),yF=function(){return tp(eo(),ti())};let xr=(()=>{class n{}return n.__NG_ELEMENT_ID__=yF,n})();const wF=xr,SF=class extends wF{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}createEmbeddedView(t){const e=this._declarationTContainer.tViews,i=If(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);i[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(i[19]=o.createEmbeddedView(e)),Nf(e,i,t),new zf(i)}};function tp(n,t){return 4&n.type?new SF(t,n,Zu(n,t)):null}class al{}class xD{}const LF=function(){return ND(eo(),ti())};let er=(()=>{class n{}return n.__NG_ELEMENT_ID__=LF,n})();const MF=er,MD=class extends MF{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return Zu(this._hostTNode,this._hostLView)}get injector(){return new Wo(this._hostTNode,this._hostLView)}get parentInjector(){const t=fu(this._hostTNode,this._hostLView);if(Ts(t)){const e=Zs(t,this._hostLView),i=Hs(t);return new Wo(e[1].data[i+8],e)}return new Wo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=ID(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,i){const s=t.createEmbeddedView(e||{});return this.insert(s,i),s}createComponent(t,e,i,s,o){const u=i||this.parentInjector;if(!o&&null==t.ngModule&&u){const H=u.get(al,null);H&&(o=H)}const x=t.create(u,s,void 0,o);return this.insert(x.hostView,e),x}insert(t,e){const i=t._lView,s=i[1];if(function(n){return Ro(n[3])}(i)){const Re=this.indexOf(t);if(-1!==Re)this.detach(Re);else{const it=i[3],pt=new MD(it,it[6],it[3]);pt.detach(pt.indexOf(t))}}const o=this._adjustIndex(e),u=this._lContainer;!function(n,t,e,i){const s=10+i,o=e.length;i>0&&(e[s-1][4]=t),i<o-10?(t[4]=e[s],Al(e,10+i,t)):(e.push(t),t[4]=null),t[3]=e;const u=t[17];null!==u&&e!==u&&function(n,t){const e=n[9];t[16]!==t[3][3][16]&&(n[2]=!0),null===e?n[9]=[t]:e.push(t)}(u,t);const x=t[19];null!==x&&x.insertView(n),t[2]|=128}(s,i,u,o);const x=lC(o,u),H=i[11],se=Am(H,u[7]);return null!==se&&function(n,t,e,i,s,o){i[0]=s,i[6]=t,Mf(n,i,e,1,s,o)}(s,u[6],H,i,se,x),t.attachToViewContainerRef(),Al(sb(u),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=ID(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=oC(this._lContainer,e);i&&(mc(sb(this._lContainer),e),pS(i[1],i))}detach(t){const e=this._adjustIndex(t,-1),i=oC(this._lContainer,e);return i&&null!=mc(sb(this._lContainer),e)?new zf(i):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function ID(n){return n[8]}function sb(n){return n[8]||(n[8]=[])}function ND(n,t){let e;const i=t[n.index];if(Ro(i))e=i;else{let s;if(8&n.type)s=Qs(i);else{const o=t[11];s=o.createComment("");const u=Oo(n,t);vd(o,Am(o,u),s,function(n,t){return Ps(n)?n.nextSibling(t):t.nextSibling}(o,u),!1)}t[n.index]=e=s1(i,t,s,n),Vm(t,e)}return new MD(e,n,t)}const nh={};class ZD extends rl{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=wn(t);return new JD(e,this.ngModule)}}function XD(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}const E4=new mi("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>xn});class JD extends pD{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function(n){return n.map(_O).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return XD(this.componentDef.inputs)}get outputs(){return XD(this.componentDef.outputs)}create(t,e,i,s){const o=(s=s||this.ngModule)?function(n,t){return{get:(e,i,s)=>{const o=n.get(e,nh,s);return o!==nh||i===nh?o:t.get(e,i,s)}}}(t,s.injector):t,u=o.get(wd,wl),x=o.get(ib,null),H=u.createRenderer(null,this.componentDef),se=this.componentDef.selectors[0][0]||"div",Re=i?function(n,t,e){if(Ps(n))return n.selectRootElement(t,e===kn.ShadowDom);let i="string"==typeof t?n.querySelector(t):t;return i.textContent="",i}(H,i,this.componentDef.encapsulation):sC(u.createRenderer(null,this.componentDef),se,function(n){const t=n.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(se)),it=this.componentDef.onPush?576:528,pt=function(n,t){return{components:[],scheduler:n||xn,clean:tP,playerHandler:t||null,flags:0}}(),xt=Bm(0,null,null,1,0,null,null,null,null,null),Bt=If(null,xt,pt,it,null,null,u,H,x,o);let cn,rn;Ya(Bt);try{const Pn=function(n,t,e,i,s,o){const u=e[1];e[20]=n;const H=Iu(u,20,2,"#host",null),se=H.mergedAttrs=t.hostAttrs;null!==se&&(Wm(H,se,!0),null!==n&&(_i(s,n,se),null!==H.classes&&dC(s,n,H.classes),null!==H.styles&&MS(s,n,H.styles)));const Re=i.createRenderer(n,t),it=If(e,GS(t),null,t.onPush?64:16,e[20],H,i,Re,o||null,null);return u.firstCreatePass&&(gu(ba(H,e),u,t.type),t1(u,H),n1(H,e.length,1)),Vm(e,it),e[20]=it}(Re,this.componentDef,Bt,u,H);if(Re)if(i)_i(H,Re,["ng-version",bD.full]);else{const{attrs:Dn,classes:ri}=function(n){const t=[],e=[];let i=1,s=2;for(;i<n.length;){let o=n[i];if("string"==typeof o)2===s?""!==o&&t.push(o,n[++i]):8===s&&e.push(o);else{if(!Sa(s))break;s=o}i++}return{attrs:t,classes:e}}(this.componentDef.selectors[0]);Dn&&_i(H,Re,Dn),ri&&ri.length>0&&dC(H,Re,ri.join(" "))}if(rn=Ua(xt,20),void 0!==e){const Dn=rn.projection=[];for(let ri=0;ri<this.ngContentSelectors.length;ri++){const pi=e[ri];Dn.push(null!=pi?Array.from(pi):null)}}cn=function(n,t,e,i,s){const o=e[1],u=function(n,t,e){const i=eo();n.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),i1(n,i,t,Nu(n,t,1,null),e));const s=Za(t,n,i.directiveStart,i);Po(s,t);const o=Oo(i,t);return o&&Po(o,t),s}(o,e,t);if(i.components.push(u),n[8]=u,s&&s.forEach(H=>H(u,t)),t.contentQueries){const H=eo();t.contentQueries(1,u,H.directiveStart)}const x=eo();return!o.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(yt(x.index),qS(e[1],x,0,x.directiveStart,x.directiveEnd,t),e1(t,u)),u}(Pn,this.componentDef,Bt,pt,[xP]),Nf(xt,Bt,null)}finally{Er()}return new x4(this.componentType,cn,Zu(rn,Bt),Bt,rn)}}class x4 extends class{}{constructor(t,e,i,s,o){super(),this.location=i,this._rootLView=s,this._tNode=o,this.instance=e,this.hostView=this.changeDetectorRef=new uF(s),this.componentType=t}get injector(){return new Wo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const ih=new Map;class N4 extends al{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new ZD(this);const i=Gn(t),s=function(n){return n[In]||null}(t);s&&QC(s),this._bootstrapComponents=ts(i.bootstrap),this._r3Injector=f1(t,e,[{provide:al,useValue:this},{provide:rl,useValue:this.componentFactoryResolver}],Xe(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=hs.THROW_IF_NOT_FOUND,i=st.Default){return t===hs||t===al||t===Au?this:this._r3Injector.get(t,e,i)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class _b extends xD{constructor(t){super(),this.moduleType=t,null!==Gn(t)&&function(n){const t=new Set;!function e(i){const s=Gn(i,!0),o=s.id;null!==o&&(function(n,t,e){if(t&&t!==e)throw new Error(`Duplicate module registered for ${n} - ${Xe(t)} vs ${Xe(t.name)}`)}(o,ih.get(o),i),ih.set(o,i));const u=ts(s.imports);for(const x of u)t.has(x)||(t.add(x),e(x))}(n)}(t)}create(t){return new N4(this.moduleType,t)}}function tL(n,t,e,i){return function(n,t,e,i,s,o){const u=t+e;return Jo(n,u,s)?function(n,t,e){return n[t]=e}(n,u+1,o?i.call(o,s):i(s)):function(n,t){const e=n[t];return e===ns?void 0:e}(n,u+1)}(ti(),function(){const n=Oi.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}(),n,t,e,i)}function vb(n){return t=>{setTimeout(n,void 0,t)}}const Yi=class extends le{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){var s,o,u;let x=t,H=e||(()=>null),se=i;if(t&&"object"==typeof t){const it=t;x=null===(s=it.next)||void 0===s?void 0:s.bind(it),H=null===(o=it.error)||void 0===o?void 0:o.bind(it),se=null===(u=it.complete)||void 0===u?void 0:u.bind(it)}this.__isAsync&&(H=vb(H),x&&(x=vb(x)),se&&(se=vb(se)));const Re=super.subscribe({next:x,error:H,complete:se});return t instanceof C&&t.add(Re),Re}};function Y4(){return this._results[Pu()]()}class Dd{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Pu(),i=Dd.prototype;i[e]||(i[e]=Y4)}get changes(){return this._changes||(this._changes=new Yi)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const s=dr(t);(this._changesDetected=!function(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let s=n[i],o=t[i];if(e&&(s=e(s),o=e(o)),o!==s)return!1}return!0}(i._results,s,e))&&(i._results=s,i.length=s.length,i.last=s[this.length-1],i.first=s[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Cb{constructor(t){this.queryList=t,this.matches=null}clone(){return new Cb(this.queryList)}setDirty(){this.queryList.setDirty()}}class bb{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,s=[];for(let o=0;o<i;o++){const u=e.getByIndex(o);s.push(this.queries[u.indexInDeclarationView].clone())}return new bb(s)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==uL(t,e).matches&&this.queries[e].setDirty()}}class aL{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class yb{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const s=null!==e?e.length:0,o=this.getByIndex(i).embeddedTView(t,s);o&&(o.indexInDeclarationView=i,null!==e?e.push(o):e=[o])}return null!==e?new yb(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class wb{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new wb(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let s=0;s<i.length;s++){const o=i[s];this.matchTNodeWithReadOption(t,e,X4(e,o)),this.matchTNodeWithReadOption(t,e,ad(e,t,o,!1,!1))}else i===xr?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,ad(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const s=this.metadata.read;if(null!==s)if(s===ki||s===er||s===xr&&4&e.type)this.addMatch(e.index,-2);else{const o=ad(e,t,s,!1,!1);null!==o&&this.addMatch(e.index,o)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function X4(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function q4(n,t,e,i){return-1===e?function(n,t){return 11&n.type?Zu(n,t):4&n.type?tp(n,t):null}(t,n):-2===e?function(n,t,e){return e===ki?Zu(t,n):e===xr?tp(t,n):e===er?ND(t,n):void 0}(n,t,i):Za(n,n[1],e,t)}function lL(n,t,e,i){const s=t[19].queries[i];if(null===s.matches){const o=n.data,u=e.matches,x=[];for(let H=0;H<u.length;H+=2){const se=u[H];x.push(se<0?null:q4(t,o[se],u[H+1],e.metadata.read))}s.matches=x}return s.matches}function Sb(n,t,e,i){const s=n.queries.getByIndex(e),o=s.matches;if(null!==o){const u=lL(n,t,s,e);for(let x=0;x<o.length;x+=2){const H=o[x];if(H>0)i.push(u[x/2]);else{const se=o[x+1],Re=t[-H];for(let it=10;it<Re.length;it++){const pt=Re[it];pt[17]===pt[3]&&Sb(pt[1],pt,se,i)}if(null!==Re[9]){const it=Re[9];for(let pt=0;pt<it.length;pt++){const xt=it[pt];Sb(xt[1],xt,se,i)}}}}}return i}function ls(n){const t=ti(),e=ps(),i=cu();hc(i+1);const s=uL(e,i);if(n.dirty&&ja(t)===(2==(2&s.metadata.flags))){if(null===s.matches)n.reset([]);else{const o=s.crossesNgTemplate?Sb(e,t,i,[]):lL(e,t,s,i);n.reset(o,CD),n.notifyOnChanges()}return!0}return!1}function ir(n,t,e){const i=ps();i.firstCreatePass&&(dL(i,new aL(n,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),cL(i,ti(),t)}function zs(n,t,e,i){const s=ps();if(s.firstCreatePass){const o=eo();dL(s,new aL(t,e,i),o.index),function(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(s,n),2==(2&e)&&(s.staticContentQueries=!0)}cL(s,ti(),e)}function cs(){return function(n,t){return n[19].queries[t].queryList}(ti(),cu())}function cL(n,t,e){const i=new Dd(4==(4&e));ZS(n,t,i,i.destroy),null===t[19]&&(t[19]=new bb),t[19].queries.push(new Cb(i))}function dL(n,t,e){null===n.queries&&(n.queries=new yb),n.queries.track(new wb(t,e))}function uL(n,t){return n.queries.getByIndex(t)}const ng=new mi("Application Initializer");let oh=(()=>{class n{constructor(e){this.appInits=e,this.resolve=qm,this.reject=qm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,s)=>{this.resolve=i,this.reject=s})}runInitializers(){if(this.initialized)return;const e=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let s=0;s<this.appInits.length;s++){const o=this.appInits[s]();if(Ff(o))e.push(o);else if($m(o)){const u=new Promise((x,H)=>{o.subscribe({complete:x,error:H})});e.push(u)}}Promise.all(e).then(()=>{i()}).catch(s=>{this.reject(s)}),0===e.length&&i(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)(mn(ng,8))},n.\u0275prov=Nn({token:n,factory:n.\u0275fac}),n})();const ig=new mi("AppId"),NB={provide:ig,useFactory:function(){return`${Ib()}${Ib()}${Ib()}`},deps:[]};function Ib(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const IL=new mi("Platform Initializer"),rh=new mi("Platform ID"),NL=new mi("appBootstrapListener");let lp=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Nn({token:n,factory:n.\u0275fac}),n})();const zl=new mi("LocaleId"),TL=new mi("DefaultCurrencyCode");class AB{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Nb=function(n){return new _b(n)},RB=Nb,OB=function(n){return Promise.resolve(Nb(n))},AL=function(n){const t=Nb(n),i=ts(Gn(n).declarations).reduce((s,o)=>{const u=wn(o);return u&&s.push(new JD(u)),s},[]);return new AB(t,i)},PB=AL,kB=function(n){return Promise.resolve(AL(n))};let Ld=(()=>{class n{constructor(){this.compileModuleSync=RB,this.compileModuleAsync=OB,this.compileModuleAndAllComponentsSync=PB,this.compileModuleAndAllComponentsAsync=kB}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Nn({token:n,factory:n.\u0275fac}),n})();const VB=(()=>Promise.resolve(0))();function Tb(n){"undefined"==typeof Zone?VB.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Vi{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Yi(!1),this.onMicrotaskEmpty=new Yi(!1),this.onStable=new Yi(!1),this.onError=new Yi(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&e,s.shouldCoalesceRunChangeDetection=i,s.lastRequestAnimationFrameId=-1,s.nativeRequestAnimationFrame=function(){let n=rt.requestAnimationFrame,t=rt.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&t){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(n){const t=()=>{!function(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(rt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Rb(n),n.isCheckStableRunning=!0,Ab(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Rb(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,s,o,u,x)=>{try{return RL(n),e.invokeTask(s,o,u,x)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&t(),OL(n)}},onInvoke:(e,i,s,o,u,x,H)=>{try{return RL(n),e.invoke(s,o,u,x,H)}finally{n.shouldCoalesceRunChangeDetection&&t(),OL(n)}},onHasTask:(e,i,s,o)=>{e.hasTask(s,o),i===s&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,Rb(n),Ab(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,i,s,o)=>(e.handleError(s,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(s)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Vi.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Vi.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,s){const o=this._inner,u=o.scheduleEventTask("NgZoneEvent: "+s,t,HB,qm,qm);try{return o.runTask(u,e,i)}finally{o.cancelTask(u)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const HB={};function Ab(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Rb(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function RL(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function OL(n){n._nesting--,Ab(n)}class zB{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Yi,this.onMicrotaskEmpty=new Yi,this.onStable=new Yi,this.onError=new Yi}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,s){return t.apply(e,i)}}let Ob=(()=>{class n{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Vi.assertNotInAngularZone(),Tb(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Tb(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,s){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(u=>u.timeoutId!==o),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:s})}whenStable(e,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,i,s){return[]}}return n.\u0275fac=function(e){return new(e||n)(mn(Vi))},n.\u0275prov=Nn({token:n,factory:n.\u0275fac}),n})(),PL=(()=>{class n{constructor(){this._applications=new Map,Pb.addToWindow(this)}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return Pb.findTestabilityInTree(this,e,i)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Nn({token:n,factory:n.\u0275fac}),n})();class KB{addToWindow(t){}findTestabilityInTree(t,e,i){return null}}let Pb=new KB,kL=!0,FL=!1;function kb(){return FL=!0,kL}let Ta;const BL=new mi("AllowMultipleToken");class Fb{constructor(t,e){this.name=t,this.token=e}}function VL(n,t,e=[]){const i=`Platform: ${t}`,s=new mi(i);return(o=[])=>{let u=WL();if(!u||u.injector.get(BL,!1))if(n)n(e.concat(o).concat({provide:s,useValue:!0}));else{const x=e.concat(o).concat({provide:s,useValue:!0},{provide:Tf,useValue:"platform"});!function(n){if(Ta&&!Ta.destroyed&&!Ta.injector.get(BL,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Ta=n.get(HL);const t=n.get(IL,null);t&&t.forEach(e=>e())}(hs.create({providers:x,name:i}))}return function(n){const t=WL();if(!t)throw new Error("No platform exists!");if(!t.injector.get(n,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(s)}}function WL(){return Ta&&!Ta.destroyed?Ta:null}let HL=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const x=function(n,t){let e;return e="noop"===n?new zB:("zone.js"===n?void 0:n)||new Vi({enableLongStackTrace:kb(),shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),e}(i?i.ngZone:void 0,{ngZoneEventCoalescing:i&&i.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:i&&i.ngZoneRunCoalescing||!1}),H=[{provide:Vi,useValue:x}];return x.run(()=>{const se=hs.create({providers:H,parent:this.injector,name:e.moduleType.name}),Re=e.create(se),it=Re.injector.get(Br,null);if(!it)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return x.runOutsideAngular(()=>{const pt=x.onError.subscribe({next:xt=>{it.handleError(xt)}});Re.onDestroy(()=>{Bb(this._modules,Re),pt.unsubscribe()})}),function(n,t,e){try{const i=e();return Ff(i)?i.catch(s=>{throw t.runOutsideAngular(()=>n.handleError(s)),s}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(it,x,()=>{const pt=Re.injector.get(oh);return pt.runInitializers(),pt.donePromise.then(()=>(QC(Re.injector.get(zl,Ym)||Ym),this._moduleDoBootstrap(Re),Re))})})}bootstrapModule(e,i=[]){const s=UL({},i);return function(n,t,e){const i=new _b(e);return Promise.resolve(i)}(0,0,e).then(o=>this.bootstrapModuleFactory(o,s))}_moduleDoBootstrap(e){const i=e.injector.get(xd);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(s=>i.bootstrap(s));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${Xe(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(e){return new(e||n)(mn(hs))},n.\u0275prov=Nn({token:n,factory:n.\u0275fac}),n})();function UL(n,t){return Array.isArray(t)?t.reduce(UL,n):Object.assign(Object.assign({},n),t)}let xd=(()=>{class n{constructor(e,i,s,o,u){this._zone=e,this._injector=i,this._exceptionHandler=s,this._componentFactoryResolver=o,this._initStatus=u,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const x=new m(se=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{se.next(this._stable),se.complete()})}),H=new m(se=>{let Re;this._zone.runOutsideAngular(()=>{Re=this._zone.onStable.subscribe(()=>{Vi.assertNotInAngularZone(),Tb(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,se.next(!0))})})});const it=this._zone.onUnstable.subscribe(()=>{Vi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{se.next(!1)}))});return()=>{Re.unsubscribe(),it.unsubscribe()}});this.isStable=Ge(x,H.pipe(bt()))}bootstrap(e,i){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let s;s=e instanceof pD?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(s.componentType);const o=function(n){return n.isBoundToModule}(s)?void 0:this._injector.get(al),x=s.create(hs.NULL,[],i||s.selector,o),H=x.location.nativeElement,se=x.injector.get(Ob,null),Re=se&&x.injector.get(PL);return se&&Re&&Re.registerApplication(H,se),x.onDestroy(()=>{this.detachView(x.hostView),Bb(this.components,x),Re&&Re.unregisterApplication(H)}),this._loadComponent(x),x}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;Bb(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(NL,[]).concat(this._bootstrapListeners).forEach(s=>s(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(e){return new(e||n)(mn(Vi),mn(hs),mn(Br),mn(rl),mn(oh))},n.\u0275prov=Nn({token:n,factory:n.\u0275fac}),n})();function Bb(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}class dp{}class r5{}const a5={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let l5=(()=>{class n{constructor(e,i){this._compiler=e,this._config=i||a5}load(e){return this.loadAndCompile(e)}loadAndCompile(e){let[i,s]=e.split("#");return void 0===s&&(s="default"),a(8255)(i).then(o=>o[s]).then(o=>$L(o,i,s)).then(o=>this._compiler.compileModuleAsync(o))}loadFactory(e){let[i,s]=e.split("#"),o="NgFactory";return void 0===s&&(s="default",o=""),a(8255)(this._config.factoryPathPrefix+i+this._config.factoryPathSuffix).then(u=>u[s+o]).then(u=>$L(u,i,s))}}return n.\u0275fac=function(e){return new(e||n)(mn(Ld),mn(r5,8))},n.\u0275prov=Nn({token:n,factory:n.\u0275fac}),n})();function $L(n,t,e){if(!n)throw new Error(`Cannot find '${e}' in '${t}'`);return n}const v5=VL(null,"core",[{provide:rh,useValue:"unknown"},{provide:HL,deps:[hs]},{provide:PL,deps:[]},{provide:lp,deps:[]}]),S5=[{provide:xd,useClass:xd,deps:[Vi,hs,Br,rl,oh]},{provide:E4,deps:[Vi],useFactory:function(n){let t=[];return n.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:oh,useClass:oh,deps:[[new vo,ng]]},{provide:Ld,useClass:Ld,deps:[]},NB,{provide:Xu,useFactory:function(){return vF},deps:[]},{provide:Ju,useFactory:function(){return CF},deps:[]},{provide:zl,useFactory:function(n){return QC(n=n||"undefined"!=typeof $localize&&$localize.locale||Ym),n},deps:[[new Pl(zl),new vo,new Ja]]},{provide:TL,useValue:"USD"}];let D5=(()=>{class n{constructor(e){}}return n.\u0275fac=function(e){return new(e||n)(mn(xd))},n.\u0275mod=et({type:n}),n.\u0275inj=si({providers:S5}),n})(),bp=null;function ll(){return bp}const Ti=new mi("DocumentToken");let Nd=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Nn({factory:E3,token:n,providedIn:"platform"}),n})();function E3(){return mn(px)}const D3=new mi("Location Initialized");let px=(()=>{class n extends Nd{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ll().getBaseHref(this._doc)}onPopState(e){const i=ll().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=ll().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,s){_x()?this._history.pushState(e,i,s):this.location.hash=s}replaceState(e,i,s){_x()?this._history.replaceState(e,i,s):this.location.hash=s}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(mn(Ti))},n.\u0275prov=Nn({factory:L3,token:n,providedIn:"platform"}),n})();function _x(){return!!window.history.pushState}function L3(){return new px(mn(Ti))}function qb(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function vx(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function $l(n){return n&&"?"!==n[0]?"?"+n:n}let ch=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Nn({factory:x3,token:n,providedIn:"root"}),n})();function x3(n){const t=mn(Ti).location;return new Cx(mn(Nd),t&&t.origin||"")}const e0=new mi("appBaseHref");let Cx=(()=>{class n extends ch{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return qb(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+$l(this._platformLocation.search),s=this._platformLocation.hash;return s&&e?`${i}${s}`:i}pushState(e,i,s,o){const u=this.prepareExternalUrl(s+$l(o));this._platformLocation.pushState(e,i,u)}replaceState(e,i,s,o){const u=this.prepareExternalUrl(s+$l(o));this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,s;null===(s=(i=this._platformLocation).historyGo)||void 0===s||s.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(mn(Nd),mn(e0,8))},n.\u0275prov=Nn({token:n,factory:n.\u0275fac}),n})(),M3=(()=>{class n extends ch{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=qb(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,s,o){let u=this.prepareExternalUrl(s+$l(o));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(e,i,u)}replaceState(e,i,s,o){let u=this.prepareExternalUrl(s+$l(o));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,s;null===(s=(i=this._platformLocation).historyGo)||void 0===s||s.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(mn(Nd),mn(e0,8))},n.\u0275prov=Nn({token:n,factory:n.\u0275fac}),n})(),dh=(()=>{class n{constructor(e,i){this._subject=new Yi,this._urlChangeListeners=[],this._platformStrategy=e;const s=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=vx(bx(s)),this._platformStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+$l(i))}normalize(e){return n.stripTrailingSlash(function(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,bx(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",s=null){this._platformStrategy.pushState(s,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+$l(i)),s)}replaceState(e,i="",s=null){this._platformStrategy.replaceState(s,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+$l(i)),s)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,s;null===(s=(i=this._platformStrategy).historyGo)||void 0===s||s.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(s=>s(e,i))}subscribe(e,i,s){return this._subject.subscribe({next:e,error:i,complete:s})}}return n.\u0275fac=function(e){return new(e||n)(mn(ch),mn(Nd))},n.normalizeQueryParams=$l,n.joinWithSlash=qb,n.stripTrailingSlash=vx,n.\u0275prov=Nn({factory:I3,token:n,providedIn:"root"}),n})();function I3(){return new dh(mn(ch),mn(Nd))}function bx(n){return n.replace(/\/index.html$/,"")}var bo=(()=>((bo=bo||{})[bo.Zero=0]="Zero",bo[bo.One=1]="One",bo[bo.Two=2]="Two",bo[bo.Few=3]="Few",bo[bo.Many=4]="Many",bo[bo.Other=5]="Other",bo))();const F3=function(n){return function(n){const t=function(n){return n.toLowerCase().replace(/_/g,"-")}(n);let e=zE(t);if(e)return e;const i=t.split("-")[0];if(e=zE(i),e)return e;if("en"===i)return Qk;throw new Error(`Missing locale data for the locale "${n}".`)}(n)[bi.PluralCase]};class Np{}let hV=(()=>{class n extends Np{constructor(e){super(),this.locale=e}getPluralCategory(e,i){switch(F3(i||this.locale)(e)){case bo.Zero:return"zero";case bo.One:return"one";case bo.Two:return"two";case bo.Few:return"few";case bo.Many:return"many";default:return"other"}}}return n.\u0275fac=function(e){return new(e||n)(mn(zl))},n.\u0275prov=Nn({token:n,factory:n.\u0275fac}),n})();function Ix(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[s,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(s.trim()===t)return decodeURIComponent(o)}return null}let Nx=(()=>{class n{constructor(e,i,s,o){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=s,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(Of(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Xe(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}}return n.\u0275fac=function(e){return new(e||n)(Jt(Xu),Jt(Ju),Jt(ki),Jt(jl))},n.\u0275dir=Tt({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class gV{constructor(t,e,i,s){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let d0=(()=>{class n{constructor(e,i,s){this._viewContainer=e,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(i){throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(n){return n.name||typeof n}(e)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=[];e.forEachOperation((s,o,u)=>{if(null==s.previousIndex){const x=this._viewContainer.createEmbeddedView(this._template,new gV(null,this._ngForOf,-1,-1),null===u?void 0:u),H=new Tx(s,x);i.push(H)}else if(null==u)this._viewContainer.remove(null===o?void 0:o);else if(null!==o){const x=this._viewContainer.get(o);this._viewContainer.move(x,u);const H=new Tx(s,x);i.push(H)}});for(let s=0;s<i.length;s++)this._perViewChange(i[s].view,i[s].record);for(let s=0,o=this._viewContainer.length;s<o;s++){const u=this._viewContainer.get(s);u.context.index=s,u.context.count=o,u.context.ngForOf=this._ngForOf}e.forEachIdentityChange(s=>{this._viewContainer.get(s.currentIndex).context.$implicit=s.item})}_perViewChange(e,i){e.context.$implicit=i.item}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(Jt(er),Jt(xr),Jt(Xu))},n.\u0275dir=Tt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class Tx{constructor(t,e){this.record=t,this.view=e}}let Td=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new pV,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Ax("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Ax("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(Jt(er),Jt(xr))},n.\u0275dir=Tt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class pV{constructor(){this.$implicit=null,this.ngIf=null}}function Ax(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Xe(t)}'.`)}class u0{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let dg=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Tt({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),h0=(()=>{class n{constructor(e,i,s){this.ngSwitch=s,s._addCase(),this._view=new u0(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(Jt(er),Jt(xr),Jt(dg,9))},n.\u0275dir=Tt({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),Rx=(()=>{class n{constructor(e,i,s){s._addDefault(new u0(e,i))}}return n.\u0275fac=function(e){return new(e||n)(Jt(er),Jt(xr),Jt(dg,9))},n.\u0275dir=Tt({type:n,selectors:[["","ngSwitchDefault",""]]}),n})(),uh=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=et({type:n}),n.\u0275inj=si({providers:[{provide:Np,useClass:hV}]}),n})();const kx="browser";let Fx=(()=>{class n{}return n.\u0275prov=Nn({token:n,providedIn:"root",factory:()=>new zV(mn(Ti),window)}),n})();class zV{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let s=i.currentNode;for(;s;){const o=s.shadowRoot;if(o){const u=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(u)return u}s=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,s=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],s-o[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Bx(this.window.history)||Bx(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function Bx(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Vx{}class m0 extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function(n){bp||(bp=n)}(new m0)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(ug=ug||document.querySelector("base"),ug?ug.getAttribute("href"):null);return null==e?null:function(n){Tp=Tp||document.createElement("a"),Tp.setAttribute("href",n);const t=Tp.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){ug=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Ix(document.cookie,t)}}let Tp,ug=null;const Wx=new mi("TRANSITION_ID"),ZV=[{provide:ng,useFactory:function(n,t,e){return()=>{e.get(oh).donePromise.then(()=>{const i=ll();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter(o=>o.getAttribute("ng-transition")===n).forEach(o=>i.remove(o))})}},deps:[Wx,Ti,hs],multi:!0}];class p0{static init(){!function(n){Pb=n}(new p0)}addToWindow(t){rt.getAngularTestability=(i,s=!0)=>{const o=t.findTestabilityInTree(i,s);if(null==o)throw new Error("Could not find testability for element.");return o},rt.getAllAngularTestabilities=()=>t.getAllTestabilities(),rt.getAllAngularRootElements=()=>t.getAllRootElements(),rt.frameworkStabilizers||(rt.frameworkStabilizers=[]),rt.frameworkStabilizers.push(i=>{const s=rt.getAllAngularTestabilities();let o=s.length,u=!1;const x=function(H){u=u||H,o--,0==o&&i(u)};s.forEach(function(H){H.whenStable(x)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const s=t.getTestability(e);return null!=s?s:i?ll().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let XV=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Nn({token:n,factory:n.\u0275fac}),n})();const hg=new mi("EventManagerPlugins");let Rp=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(s=>s.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,s){return this._findPluginFor(i).addEventListener(e,i,s)}addGlobalEventListener(e,i,s){return this._findPluginFor(i).addGlobalEventListener(e,i,s)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const s=this._plugins;for(let o=0;o<s.length;o++){const u=s[o];if(u.supports(e))return this._eventNameToPlugin.set(e,u),u}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(mn(hg),mn(Vi))},n.\u0275prov=Nn({token:n,factory:n.\u0275fac}),n})();class _0{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const s=ll().getGlobalEventTarget(this._doc,t);if(!s)throw new Error(`Unsupported event target ${s} for event ${e}`);return this.addEventListener(s,e,i)}}let Ux=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(s=>{this._stylesSet.has(s)||(this._stylesSet.add(s),i.add(s))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Nn({token:n,factory:n.\u0275fac}),n})(),fg=(()=>{class n extends Ux{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,s){e.forEach(o=>{const u=this._doc.createElement("style");u.textContent=o,s.push(i.appendChild(u))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(jx),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,s)=>{this._addStylesToHost(e,s,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(jx))}}return n.\u0275fac=function(e){return new(e||n)(mn(Ti))},n.\u0275prov=Nn({token:n,factory:n.\u0275fac}),n})();function jx(n){ll().remove(n)}const v0={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},C0=/%COMP%/g;function Op(n,t,e){for(let i=0;i<t.length;i++){let s=t[i];Array.isArray(s)?Op(n,s,e):(s=s.replace(C0,n),e.push(s))}return e}function $x(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Pp=(()=>{class n{constructor(e,i,s){this.eventManager=e,this.sharedStylesHost=i,this.appId=s,this.rendererByCompId=new Map,this.defaultRenderer=new b0(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case kn.Emulated:{let s=this.rendererByCompId.get(i.id);return s||(s=new hW(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,s)),s.applyToHost(e),s}case 1:case kn.ShadowDom:return new fW(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const s=Op(i.id,i.styles,[]);this.sharedStylesHost.addStyles(s),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(mn(Rp),mn(fg),mn(ig))},n.\u0275prov=Nn({token:n,factory:n.\u0275fac}),n})();class b0{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(v0[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,s){if(s){e=s+":"+e;const o=v0[s];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const s=v0[i];s?t.removeAttributeNS(s,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,s){s&(no.DashCase|no.Important)?t.style.setProperty(e,i,s&no.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&no.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,$x(i)):this.eventManager.addEventListener(t,e,$x(i))}}class hW extends b0{constructor(t,e,i,s){super(t),this.component=i;const o=Op(s+"-"+i.id,i.styles,[]);e.addStyles(o),this.contentAttr=function(n){return"_ngcontent-%COMP%".replace(C0,n)}(s+"-"+i.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(C0,n)}(s+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class fW extends b0{constructor(t,e,i,s){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=Op(s.id,s.styles,[]);for(let u=0;u<o.length;u++){const x=document.createElement("style");x.textContent=o[u],this.shadowRoot.appendChild(x)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let gW=(()=>{class n extends _0{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,s){return e.addEventListener(i,s,!1),()=>this.removeEventListener(e,i,s)}removeEventListener(e,i,s){return e.removeEventListener(i,s)}}return n.\u0275fac=function(e){return new(e||n)(mn(Ti))},n.\u0275prov=Nn({token:n,factory:n.\u0275fac}),n})();const Qx=["alt","control","meta","shift"],yW={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Zx={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},wW={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let SW=(()=>{class n extends _0{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,s){const o=n.parseEventName(i),u=n.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ll().onAndCancel(e,o.domEventName,u))}static parseEventName(e){const i=e.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const o=n._normalizeKey(i.pop());let u="";if(Qx.forEach(H=>{const se=i.indexOf(H);se>-1&&(i.splice(se,1),u+=H+".")}),u+=o,0!=i.length||0===o.length)return null;const x={};return x.domEventName=s,x.fullKey=u,x}static getEventFullKey(e){let i="",s=function(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&Zx.hasOwnProperty(t)&&(t=Zx[t]))}return yW[t]||t}(e);return s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),Qx.forEach(o=>{o!=s&&wW[o](e)&&(i+=o+".")}),i+=s,i}static eventCallback(e,i,s){return o=>{n.getEventFullKey(o)===e&&s.runGuarded(()=>i(o))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return n.\u0275fac=function(e){return new(e||n)(mn(Ti))},n.\u0275prov=Nn({token:n,factory:n.\u0275fac}),n})(),hh=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Nn({factory:function(){return mn(w0)},token:n,providedIn:"root"}),n})(),w0=(()=>{class n extends hh{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case xs.NONE:return i;case xs.HTML:return Xr(i,"HTML")?gr(i):Lm(this._doc,String(i)).toString();case xs.STYLE:return Xr(i,"Style")?gr(i):i;case xs.SCRIPT:if(Xr(i,"Script"))return gr(i);throw new Error("unsafe value used in a script context");case xs.URL:return vm(i),Xr(i,"URL")?gr(i):qa(String(i));case xs.RESOURCE_URL:if(Xr(i,"ResourceURL"))return gr(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return function(n){return new Sv(n)}(e)}bypassSecurityTrustStyle(e){return function(n){return new Ev(n)}(e)}bypassSecurityTrustScript(e){return function(n){return new Dv(n)}(e)}bypassSecurityTrustUrl(e){return function(n){return new Lv(n)}(e)}bypassSecurityTrustResourceUrl(e){return function(n){return new xv(n)}(e)}}return n.\u0275fac=function(e){return new(e||n)(mn(Ti))},n.\u0275prov=Nn({factory:function(){return function(n){return new w0(n.get(Ti))}(mn(Au))},token:n,providedIn:"root"}),n})();const TW=VL(v5,"browser",[{provide:rh,useValue:kx},{provide:IL,useValue:function(){m0.makeCurrent(),p0.init()},multi:!0},{provide:Ti,useFactory:function(){return function(n){Xc=n}(document),document},deps:[]}]),AW=[[],{provide:Tf,useValue:"root"},{provide:Br,useFactory:function(){return new Br},deps:[]},{provide:hg,useClass:gW,multi:!0,deps:[Ti,Vi,rh]},{provide:hg,useClass:SW,multi:!0,deps:[Ti]},[],{provide:Pp,useClass:Pp,deps:[Rp,fg,ig]},{provide:wd,useExisting:Pp},{provide:Ux,useExisting:fg},{provide:fg,useClass:fg,deps:[Ti]},{provide:Ob,useClass:Ob,deps:[Vi]},{provide:Rp,useClass:Rp,deps:[hg,Vi]},{provide:Vx,useClass:XV,deps:[]},[]];let S0=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:ig,useValue:e.appId},{provide:Wx,useExisting:ig},ZV]}}}return n.\u0275fac=function(e){return new(e||n)(mn(n,12))},n.\u0275mod=et({type:n}),n.\u0275inj=si({providers:AW,imports:[uh,D5]}),n})();function Fi(...n){let t=n[n.length-1];return be(t)?(n.pop(),Pe(n,t)):ht(n)}"undefined"!=typeof window&&window;class sa extends le{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new G;return this._value}next(t){super.next(this._value=t)}}class WW extends p{notifyNext(t,e,i,s,o){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class HW extends p{constructor(t,e,i){super(),this.parent=t,this.outerValue=e,this.outerIndex=i,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function UW(n,t,e,i,s=new HW(n,e,i)){if(!s.closed)return t instanceof m?t.subscribe(s):ye(t)(s)}const Jx={};class zW{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new KW(t,this.resultSelector))}}class KW extends WW{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Jx),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let i=0;i<e;i++)this.add(UW(this,t[i],void 0,i))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,i){const s=this.values,u=this.toRespond?s[i]===Jx?--this.toRespond:this.toRespond:0;s[i]=e,0===u&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}const kp=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();function D0(...n){return ve(1)(Fi(...n))}const Tc=new m(n=>n.complete());function Fp(n){return n?function(n){return new m(t=>n.schedule(()=>t.complete()))}(n):Tc}function Bp(n){return new m(t=>{let e;try{e=n()}catch(s){return void t.error(s)}return(e?pe(e):Fp()).subscribe(t)})}function ka(n,t){return"function"==typeof t?e=>e.pipe(ka((i,s)=>pe(n(i,s)).pipe(N((o,u)=>t(i,o,s,u))))):e=>e.lift(new YW(n))}class YW{constructor(t){this.project=t}call(t,e){return e.subscribe(new QW(t,this.project))}}class QW extends Ee{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const i=this.index++;try{e=this.project(t,i)}catch(s){return void this.destination.error(s)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const i=new Ve(this),s=this.destination;s.add(i),this.innerSubscription=Be(t,i),this.innerSubscription!==i&&s.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;(!t||t.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const qx=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function Ir(n){return t=>0===n?Fp():t.lift(new ZW(n))}class ZW{constructor(t){if(this.total=t,this.total<0)throw new qx}call(t,e){return e.subscribe(new XW(t,this.total))}}class XW extends p{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,i=++this.count;i<=e&&(this.destination.next(t),i===e&&(this.destination.complete(),this.unsubscribe()))}}function Wr(...n){const t=n[n.length-1];return be(t)?(n.pop(),e=>D0(n,e,t)):e=>D0(n,e)}function eM(n,t){let e=!1;return arguments.length>=2&&(e=!0),function(s){return s.lift(new JW(n,t,e))}}class JW{constructor(t,e,i=!1){this.accumulator=t,this.seed=e,this.hasSeed=i}call(t,e){return e.subscribe(new qW(t,this.accumulator,this.seed,this.hasSeed))}}class qW extends p{constructor(t,e,i,s){super(t),this.accumulator=e,this._seed=i,this.hasSeed=s,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let i;try{i=this.accumulator(this.seed,t,e)}catch(s){this.destination.error(s)}this.seed=i,this.destination.next(i)}}function To(n,t){return function(i){return i.lift(new e6(n,t))}}class e6{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new t6(t,this.predicate,this.thisArg))}}class t6 extends p{constructor(t,e,i){super(t),this.predicate=e,this.thisArg=i,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(i){return void this.destination.error(i)}e&&this.destination.next(t)}}function Ac(n){return function(e){const i=new n6(n),s=e.lift(i);return i.caught=s}}class n6{constructor(t){this.selector=t}call(t,e){return e.subscribe(new i6(t,this.selector,this.caught))}}class i6 extends Ee{constructor(t,e,i){super(t),this.selector=e,this.caught=i}error(t){if(!this.isStopped){let e;try{e=this.selector(t,this.caught)}catch(o){return void super.error(o)}this._unsubscribeAndRecycle();const i=new Ve(this);this.add(i);const s=Be(e,i);s!==i&&this.add(s)}}}function fh(n,t){return Ue(n,t,1)}function L0(n){return function(e){return 0===n?Fp():e.lift(new s6(n))}}class s6{constructor(t){if(this.total=t,this.total<0)throw new qx}call(t,e){return e.subscribe(new o6(t,this.total))}}class o6 extends p{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,i=this.total,s=this.count++;e.length<i?e.push(t):e[s%i]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const i=this.count>=this.total?this.total:this.count,s=this.ring;for(let o=0;o<i;o++){const u=e++%i;t.next(s[u])}}t.complete()}}function tM(n=l6){return t=>t.lift(new r6(n))}class r6{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new a6(t,this.errorFactory))}}class a6 extends p{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function l6(){return new kp}function nM(n=null){return t=>t.lift(new c6(n))}class c6{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new d6(t,this.defaultValue))}}class d6 extends p{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function gh(n,t){const e=arguments.length>=2;return i=>i.pipe(n?To((s,o)=>n(s,o,i)):M,Ir(1),e?nM(t):tM(()=>new kp))}function Rc(){}function Uo(n,t,e){return function(s){return s.lift(new h6(n,t,e))}}class h6{constructor(t,e,i){this.nextOrObserver=t,this.error=e,this.complete=i}call(t,e){return e.subscribe(new f6(t,this.nextOrObserver,this.error,this.complete))}}class f6 extends p{constructor(t,e,i,s){super(t),this._tapNext=Rc,this._tapError=Rc,this._tapComplete=Rc,this._tapError=i||Rc,this._tapComplete=s||Rc,T(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||Rc,this._tapError=e.error||Rc,this._tapComplete=e.complete||Rc)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}function iM(n){return t=>t.lift(new g6(n))}class g6{constructor(t){this.callback=t}call(t,e){return e.subscribe(new m6(t,this.callback))}}class m6 extends p{constructor(t,e){super(t),this.add(new C(e))}}class Yl{constructor(t,e){this.id=t,this.url=e}}class x0 extends Yl{constructor(t,e,i="imperative",s=null){super(t,e),this.navigationTrigger=i,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class gg extends Yl{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class sM extends Yl{constructor(t,e,i){super(t,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class p6 extends Yl{constructor(t,e,i){super(t,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class _6 extends Yl{constructor(t,e,i,s){super(t,e),this.urlAfterRedirects=i,this.state=s}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class v6 extends Yl{constructor(t,e,i,s){super(t,e),this.urlAfterRedirects=i,this.state=s}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class C6 extends Yl{constructor(t,e,i,s,o){super(t,e),this.urlAfterRedirects=i,this.state=s,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class b6 extends Yl{constructor(t,e,i,s){super(t,e),this.urlAfterRedirects=i,this.state=s}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class y6 extends Yl{constructor(t,e,i,s){super(t,e),this.urlAfterRedirects=i,this.state=s}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oM{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class rM{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class w6{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class S6{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class E6{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class D6{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class aM{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const _s="primary";class L6{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function mh(n){return new L6(n)}const lM="ngNavigationCancelingError";function M0(n){const t=Error("NavigationCancelingError: "+n);return t[lM]=!0,t}function M6(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const s={};for(let o=0;o<i.length;o++){const u=i[o],x=n[o];if(u.startsWith(":"))s[u.substring(1)]=x;else if(u!==x.path)return null}return{consumed:n.slice(0,i.length),posParams:s}}function cl(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let s;for(let o=0;o<e.length;o++)if(s=e[o],!cM(n[s],t[s]))return!1;return!0}function cM(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((s,o)=>i[o]===s)}return n===t}function dM(n){return Array.prototype.concat.apply([],n)}function uM(n){return n.length>0?n[n.length-1]:null}function jo(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function dl(n){return $m(n)?n:Ff(n)?pe(Promise.resolve(n)):Fi(n)}const T6={exact:function gM(n,t,e){if(!Rd(n.segments,t.segments)||!Vp(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!gM(n.children[i],t.children[i],e))return!1;return!0},subset:mM},hM={exact:function(n,t){return cl(n,t)},subset:function(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>cM(n[e],t[e]))},ignored:()=>!0};function fM(n,t,e){return T6[e.paths](n.root,t.root,e.matrixParams)&&hM[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function mM(n,t,e){return pM(n,t,t.segments,e)}function pM(n,t,e,i){if(n.segments.length>e.length){const s=n.segments.slice(0,e.length);return!(!Rd(s,e)||t.hasChildren()||!Vp(s,e,i))}if(n.segments.length===e.length){if(!Rd(n.segments,e)||!Vp(n.segments,e,i))return!1;for(const s in t.children)if(!n.children[s]||!mM(n.children[s],t.children[s],i))return!1;return!0}{const s=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(Rd(n.segments,s)&&Vp(n.segments,s,i)&&n.children[_s])&&pM(n.children[_s],t,o,i)}}function Vp(n,t,e){return t.every((i,s)=>hM[e](n[s].parameters,i.parameters))}class Ad{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=mh(this.queryParams)),this._queryParamMap}toString(){return k6.serialize(this)}}class Ss{constructor(t,e){this.segments=t,this.children=e,this.parent=null,jo(e,(i,s)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Wp(this)}}class mg{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=mh(this.parameters)),this._parameterMap}toString(){return bM(this)}}function Rd(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}class I0{}class _M{parse(t){const e=new K6(t);return new Ad(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${`/${pg(t.root,!0)}`}${function(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(s=>`${Hp(e)}=${Hp(s)}`).join("&"):`${Hp(e)}=${Hp(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${function(n){return encodeURI(n)}(t.fragment)}`:""}`}}const k6=new _M;function Wp(n){return n.segments.map(t=>bM(t)).join("/")}function pg(n,t){if(!n.hasChildren())return Wp(n);if(t){const e=n.children[_s]?pg(n.children[_s],!1):"",i=[];return jo(n.children,(s,o)=>{o!==_s&&i.push(`${o}:${pg(s,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function(n,t){let e=[];return jo(n.children,(i,s)=>{s===_s&&(e=e.concat(t(i,s)))}),jo(n.children,(i,s)=>{s!==_s&&(e=e.concat(t(i,s)))}),e}(n,(i,s)=>s===_s?[pg(n.children[_s],!1)]:[`${s}:${pg(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[_s]?`${Wp(n)}/${e[0]}`:`${Wp(n)}/(${e.join("//")})`}}function vM(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Hp(n){return vM(n).replace(/%3B/gi,";")}function N0(n){return vM(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Up(n){return decodeURIComponent(n)}function CM(n){return Up(n.replace(/\+/g,"%20"))}function bM(n){return`${N0(n.path)}${function(n){return Object.keys(n).map(t=>`;${N0(t)}=${N0(n[t])}`).join("")}(n.parameters)}`}const W6=/^[^\/()?;=#]+/;function jp(n){const t=n.match(W6);return t?t[0]:""}const H6=/^[^=?&#]+/,j6=/^[^?&#]+/;class K6{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ss([],{}):new Ss([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[_s]=new Ss(t,e)),i}parseSegment(){const t=jp(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new mg(Up(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=jp(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const s=jp(this.remaining);s&&(i=s,this.capture(i))}t[Up(e)]=Up(i)}parseQueryParam(t){const e=function(n){const t=n.match(H6);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const u=function(n){const t=n.match(j6);return t?t[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const s=CM(e),o=CM(i);if(t.hasOwnProperty(s)){let u=t[s];Array.isArray(u)||(u=[u],t[s]=u),u.push(o)}else t[s]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=jp(this.remaining),s=this.remaining[i.length];if("/"!==s&&")"!==s&&";"!==s)throw new Error(`Cannot parse url '${this.url}'`);let o;i.indexOf(":")>-1?(o=i.substr(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=_s);const u=this.parseChildren();e[o]=1===Object.keys(u).length?u[_s]:new Ss([],u),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class yM{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=T0(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=T0(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=A0(t,this._root);return e.length<2?[]:e[e.length-2].children.map(s=>s.value).filter(s=>s!==t)}pathFromRoot(t){return A0(t,this._root).map(e=>e.value)}}function T0(n,t){if(n===t.value)return t;for(const e of t.children){const i=T0(n,e);if(i)return i}return null}function A0(n,t){if(n===t.value)return[t];for(const e of t.children){const i=A0(n,e);if(i.length)return i.unshift(t),i}return[]}class Ql{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function _g(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class wM extends yM{constructor(t,e){super(t),this.snapshot=e,R0(this,t)}toString(){return this.snapshot.toString()}}function SM(n,t){const e=function(n,t){const u=new zp([],{},{},"",{},_s,t,null,n.root,-1,{});return new DM("",new Ql(u,[]))}(n,t),i=new sa([new mg("",{})]),s=new sa({}),o=new sa({}),u=new sa({}),x=new sa(""),H=new ph(i,s,u,x,o,_s,t,e.root);return H.snapshot=e.root,new wM(new Ql(H,[]),e)}class ph{constructor(t,e,i,s,o,u,x,H){this.url=t,this.params=e,this.queryParams=i,this.fragment=s,this.data=o,this.outlet=u,this.component=x,this._futureSnapshot=H}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(N(t=>mh(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(N(t=>mh(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function EM(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const s=e[i],o=e[i-1];if(s.routeConfig&&""===s.routeConfig.path)i--;else{if(o.component)break;i--}}return function(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(i))}class zp{constructor(t,e,i,s,o,u,x,H,se,Re,it){this.url=t,this.params=e,this.queryParams=i,this.fragment=s,this.data=o,this.outlet=u,this.component=x,this.routeConfig=H,this._urlSegment=se,this._lastPathIndex=Re,this._resolve=it}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=mh(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=mh(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class DM extends yM{constructor(t,e){super(e),this.url=t,R0(this,e)}toString(){return LM(this._root)}}function R0(n,t){t.value._routerState=n,t.children.forEach(e=>R0(n,e))}function LM(n){const t=n.children.length>0?` { ${n.children.map(LM).join(", ")} } `:"";return`${n.value}${t}`}function O0(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,cl(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),cl(t.params,e.params)||n.params.next(e.params),function(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!cl(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),cl(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function P0(n,t){return cl(n.params,t.params)&&function(n,t){return Rd(n,t)&&n.every((e,i)=>cl(e.parameters,t[i].parameters))}(n.url,t.url)&&!(!n.parent!=!t.parent)&&(!n.parent||P0(n.parent,t.parent))}function Kp(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const s=function(n,t,e){return t.children.map(i=>{for(const s of e.children)if(n.shouldReuseRoute(i.value,s.value.snapshot))return Kp(n,i,s);return Kp(n,i)})}(n,t,e);return new Ql(i,s)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const u=o.route;return xM(t,u),u}}const i=function(n){return new ph(new sa(n.url),new sa(n.params),new sa(n.queryParams),new sa(n.fragment),new sa(n.data),n.outlet,n.component,n)}(t.value),s=t.children.map(o=>Kp(n,o));return new Ql(i,s)}}function xM(n,t){if(n.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(n.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=n.value;for(let e=0;e<n.children.length;++e)xM(n.children[e],t.children[e])}function $p(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function vg(n){return"object"==typeof n&&null!=n&&n.outlets}function k0(n,t,e,i,s){let o={};return i&&jo(i,(u,x)=>{o[x]=Array.isArray(u)?u.map(H=>`${H}`):`${u}`}),new Ad(e.root===n?t:MM(e.root,n,t),o,s)}function MM(n,t,e){const i={};return jo(n.children,(s,o)=>{i[o]=s===t?e:MM(s,t,e)}),new Ss(n.segments,i)}class IM{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&$p(i[0]))throw new Error("Root segment cannot have matrix parameters");const s=i.find(vg);if(s&&s!==uM(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class F0{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function NM(n,t,e){if(n||(n=new Ss([],{})),0===n.segments.length&&n.hasChildren())return Gp(n,t,e);const i=function(n,t,e){let i=0,s=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;s<n.segments.length;){if(i>=e.length)return o;const u=n.segments[s],x=e[i];if(vg(x))break;const H=`${x}`,se=i<e.length-1?e[i+1]:null;if(s>0&&void 0===H)break;if(H&&se&&"object"==typeof se&&void 0===se.outlets){if(!AM(H,se,u))return o;i+=2}else{if(!AM(H,{},u))return o;i++}s++}return{match:!0,pathIndex:s,commandIndex:i}}(n,t,e),s=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new Ss(n.segments.slice(0,i.pathIndex),{});return o.children[_s]=new Ss(n.segments.slice(i.pathIndex),n.children),Gp(o,0,s)}return i.match&&0===s.length?new Ss(n.segments,{}):i.match&&!n.hasChildren()?B0(n,t,e):i.match?Gp(n,0,s):B0(n,t,e)}function Gp(n,t,e){if(0===e.length)return new Ss(n.segments,{});{const i=function(n){return vg(n[0])?n[0].outlets:{[_s]:n}}(e),s={};return jo(i,(o,u)=>{"string"==typeof o&&(o=[o]),null!==o&&(s[u]=NM(n.children[u],t,o))}),jo(n.children,(o,u)=>{void 0===i[u]&&(s[u]=o)}),new Ss(n.segments,s)}}function B0(n,t,e){const i=n.segments.slice(0,t);let s=0;for(;s<e.length;){const o=e[s];if(vg(o)){const H=i8(o.outlets);return new Ss(i,H)}if(0===s&&$p(e[0])){i.push(new mg(n.segments[t].path,TM(e[0]))),s++;continue}const u=vg(o)?o.outlets[_s]:`${o}`,x=s<e.length-1?e[s+1]:null;u&&x&&$p(x)?(i.push(new mg(u,TM(x))),s+=2):(i.push(new mg(u,{})),s++)}return new Ss(i,{})}function i8(n){const t={};return jo(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=B0(new Ss([],{}),0,e))}),t}function TM(n){const t={};return jo(n,(e,i)=>t[i]=`${e}`),t}function AM(n,t,e){return n==e.path&&cl(t,e.parameters)}class o8{constructor(t,e,i,s){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=s}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),O0(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const s=_g(e);t.children.forEach(o=>{const u=o.value.outlet;this.deactivateRoutes(o,s[u],i),delete s[u]}),jo(s,(o,u)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const s=t.value,o=e?e.value:null;if(s===o)if(s.component){const u=i.getContext(s.outlet);u&&this.deactivateChildRoutes(t,e,u.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet);if(i&&i.outlet){const s=i.outlet.detach(),o=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:o})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),s=i&&t.value.component?i.children:e,o=_g(t);for(const u of Object.keys(o))this.deactivateRouteAndItsChildren(o[u],s);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const s=_g(e);t.children.forEach(o=>{this.activateRoutes(o,s[o.value.outlet],i),this.forwardEvent(new D6(o.value.snapshot))}),t.children.length&&this.forwardEvent(new S6(t.value.snapshot))}activateRoutes(t,e,i){const s=t.value,o=e?e.value:null;if(O0(s),s===o)if(s.component){const u=i.getOrCreateContext(s.outlet);this.activateChildRoutes(t,e,u.children)}else this.activateChildRoutes(t,e,i);else if(s.component){const u=i.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const x=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),u.children.onOutletReAttached(x.contexts),u.attachRef=x.componentRef,u.route=x.route.value,u.outlet&&u.outlet.attach(x.componentRef,x.route.value),RM(x.route)}else{const x=function(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(s.snapshot),H=x?x.module.componentFactoryResolver:null;u.attachRef=null,u.route=s,u.resolver=H,u.outlet&&u.outlet.activateWith(s,H),this.activateChildRoutes(t,null,u.children)}}else this.activateChildRoutes(t,null,i)}}function RM(n){O0(n.value),n.children.forEach(RM)}class V0{constructor(t,e){this.routes=t,this.module=e}}function Oc(n){return"function"==typeof n}function Od(n){return n instanceof Ad}const Cg=Symbol("INITIAL_VALUE");function bg(){return ka(n=>function(...n){let t,e;return be(n[n.length-1])&&(e=n.pop()),"function"==typeof n[n.length-1]&&(t=n.pop()),1===n.length&&$(n[0])&&(n=n[0]),ht(n,e).lift(new zW(t))}(n.map(t=>t.pipe(Ir(1),Wr(Cg)))).pipe(eM((t,e)=>{let i=!1;return e.reduce((s,o,u)=>s!==Cg?s:(o===Cg&&(i=!0),i||!1!==o&&u!==e.length-1&&!Od(o)?s:o),t)},Cg),To(t=>t!==Cg),N(t=>Od(t)?t:!0===t),Ir(1)))}let OM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Wn({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&Es(0,"router-outlet")},directives:function(){return[K0]},encapsulation:2}),n})();function PM(n,t=""){for(let e=0;e<n.length;e++){const i=n[e];h8(i,f8(t,i))}}function h8(n,t){n.children&&PM(n.children,t)}function f8(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function W0(n){const t=n.children&&n.children.map(W0),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==_s&&(e.component=OM),e}function oa(n){return n.outlet||_s}function kM(n,t){const e=n.filter(i=>oa(i)===t);return e.push(...n.filter(i=>oa(i)!==t)),e}const FM={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Yp(n,t,e){var i;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},FM):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const o=(t.matcher||M6)(e,n,t);if(!o)return Object.assign({},FM);const u={};jo(o.posParams,(H,se)=>{u[se]=H.path});const x=o.consumed.length>0?Object.assign(Object.assign({},u),o.consumed[o.consumed.length-1].parameters):u;return{matched:!0,consumedSegments:o.consumed,lastChild:o.consumed.length,parameters:x,positionalParamSegments:null!==(i=o.posParams)&&void 0!==i?i:{}}}function Qp(n,t,e,i,s="corrected"){if(e.length>0&&function(n,t,e){return e.some(i=>Zp(n,t,i)&&oa(i)!==_s)}(n,e,i)){const u=new Ss(t,function(n,t,e,i){const s={};s[_s]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const o of e)if(""===o.path&&oa(o)!==_s){const u=new Ss([],{});u._sourceSegment=n,u._segmentIndexShift=t.length,s[oa(o)]=u}return s}(n,t,i,new Ss(e,n.children)));return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:[]}}if(0===e.length&&function(n,t,e){return e.some(i=>Zp(n,t,i))}(n,e,i)){const u=new Ss(n.segments,function(n,t,e,i,s,o){const u={};for(const x of i)if(Zp(n,e,x)&&!s[oa(x)]){const H=new Ss([],{});H._sourceSegment=n,H._segmentIndexShift="legacy"===o?n.segments.length:t.length,u[oa(x)]=H}return Object.assign(Object.assign({},s),u)}(n,t,e,i,n.children,s));return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:e}}const o=new Ss(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}function Zp(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function BM(n,t,e,i){return!!(oa(n)===i||i!==_s&&Zp(t,e,n))&&("**"===n.path||Yp(t,n,e).matched)}function VM(n,t,e){return 0===t.length&&!n.children[e]}class yg{constructor(t){this.segmentGroup=t||null}}class WM{constructor(t){this.urlTree=t}}function Xp(n){return new m(t=>t.error(new yg(n)))}function HM(n){return new m(t=>t.error(new WM(n)))}function v8(n){return new m(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class y8{constructor(t,e,i,s,o){this.configLoader=e,this.urlSerializer=i,this.urlTree=s,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(al)}apply(){const t=Qp(this.urlTree.root,[],[],this.config).segmentGroup,e=new Ss(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,_s).pipe(N(o=>this.createUrlTree(H0(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ac(o=>{if(o instanceof WM)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof yg?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,_s).pipe(N(s=>this.createUrlTree(H0(s),t.queryParams,t.fragment))).pipe(Ac(s=>{throw s instanceof yg?this.noMatchError(s):s}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,i){const s=t.segments.length>0?new Ss([],{[_s]:t}):t;return new Ad(s,e,i)}expandSegmentGroup(t,e,i,s){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe(N(o=>new Ss([],o))):this.expandSegment(t,i,e,i.segments,s,!0)}expandChildren(t,e,i){const s=[];for(const o of Object.keys(i.children))"primary"===o?s.unshift(o):s.push(o);return pe(s).pipe(fh(o=>{const u=i.children[o],x=kM(e,o);return this.expandSegmentGroup(t,x,u,o).pipe(N(H=>({segment:H,outlet:o})))}),eM((o,u)=>(o[u.outlet]=u.segment,o),{}),function(n,t){const e=arguments.length>=2;return i=>i.pipe(n?To((s,o)=>n(s,o,i)):M,L0(1),e?nM(t):tM(()=>new kp))}())}expandSegment(t,e,i,s,o,u){return pe(i).pipe(fh(x=>this.expandSegmentAgainstRoute(t,e,i,x,s,o,u).pipe(Ac(se=>{if(se instanceof yg)return Fi(null);throw se}))),gh(x=>!!x),Ac((x,H)=>{if(x instanceof kp||"EmptyError"===x.name){if(VM(e,s,o))return Fi(new Ss([],{}));throw new yg(e)}throw x}))}expandSegmentAgainstRoute(t,e,i,s,o,u,x){return BM(s,e,o,u)?void 0===s.redirectTo?this.matchSegmentAgainstRoute(t,e,s,o,u):x&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,s,o,u):Xp(e):Xp(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,s,o,u){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,s,u):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,s,o,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,s){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?HM(o):this.lineralizeSegments(i,o).pipe(Ue(u=>{const x=new Ss(u,{});return this.expandSegment(t,x,e,u,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,s,o,u){const{matched:x,consumedSegments:H,lastChild:se,positionalParamSegments:Re}=Yp(e,s,o);if(!x)return Xp(e);const it=this.applyRedirectCommands(H,s.redirectTo,Re);return s.redirectTo.startsWith("/")?HM(it):this.lineralizeSegments(s,it).pipe(Ue(pt=>this.expandSegment(t,e,i,pt.concat(o.slice(se)),u,!1)))}matchSegmentAgainstRoute(t,e,i,s,o){if("**"===i.path)return i.loadChildren?(i._loadedConfig?Fi(i._loadedConfig):this.configLoader.load(t.injector,i)).pipe(N(pt=>(i._loadedConfig=pt,new Ss(s,{})))):Fi(new Ss(s,{}));const{matched:u,consumedSegments:x,lastChild:H}=Yp(e,i,s);if(!u)return Xp(e);const se=s.slice(H);return this.getChildConfig(t,i,s).pipe(Ue(it=>{const pt=it.module,xt=it.routes,{segmentGroup:Bt,slicedSegments:cn}=Qp(e,x,se,xt),rn=new Ss(Bt.segments,Bt.children);if(0===cn.length&&rn.hasChildren())return this.expandChildren(pt,xt,rn).pipe(N(pi=>new Ss(x,pi)));if(0===xt.length&&0===cn.length)return Fi(new Ss(x,{}));const Pn=oa(i)===o;return this.expandSegment(pt,rn,xt,cn,Pn?_s:o,!0).pipe(N(ri=>new Ss(x.concat(ri.segments),ri.children)))}))}getChildConfig(t,e,i){return e.children?Fi(new V0(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Fi(e._loadedConfig):this.runCanLoadGuards(t.injector,e,i).pipe(Ue(s=>s?this.configLoader.load(t.injector,e).pipe(N(o=>(e._loadedConfig=o,o))):function(n){return new m(t=>t.error(M0(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`)))}(e))):Fi(new V0([],t))}runCanLoadGuards(t,e,i){const s=e.canLoad;return s&&0!==s.length?Fi(s.map(u=>{const x=t.get(u);let H;if(function(n){return n&&Oc(n.canLoad)}(x))H=x.canLoad(e,i);else{if(!Oc(x))throw new Error("Invalid CanLoad guard");H=x(e,i)}return dl(H)})).pipe(bg(),Uo(u=>{if(!Od(u))return;const x=M0(`Redirecting to "${this.urlSerializer.serialize(u)}"`);throw x.url=u,x}),N(u=>!0===u)):Fi(!0)}lineralizeSegments(t,e){let i=[],s=e.root;for(;;){if(i=i.concat(s.segments),0===s.numberOfChildren)return Fi(i);if(s.numberOfChildren>1||!s.children[_s])return v8(t.redirectTo);s=s.children[_s]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreatreUrlTree(t,e,i,s){const o=this.createSegmentGroup(t,e.root,i,s);return new Ad(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return jo(t,(s,o)=>{if("string"==typeof s&&s.startsWith(":")){const x=s.substring(1);i[o]=e[x]}else i[o]=s}),i}createSegmentGroup(t,e,i,s){const o=this.createSegments(t,e.segments,i,s);let u={};return jo(e.children,(x,H)=>{u[H]=this.createSegmentGroup(t,x,i,s)}),new Ss(o,u)}createSegments(t,e,i,s){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,s):this.findOrReturn(o,i))}findPosParam(t,e,i){const s=i[e.path.substring(1)];if(!s)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return s}findOrReturn(t,e){let i=0;for(const s of e){if(s.path===t.path)return e.splice(i),s;i++}return t}}function H0(n){const t={};for(const i of Object.keys(n.children)){const o=H0(n.children[i]);(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function(n){if(1===n.numberOfChildren&&n.children[_s]){const t=n.children[_s];return new Ss(n.segments.concat(t.segments),t.children)}return n}(new Ss(n.segments,t))}class UM{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Jp{constructor(t,e){this.component=t,this.route=e}}function E8(n,t,e){const i=n._root;return wg(i,t?t._root:null,e,[i.value])}function qp(n,t,e){const i=function(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:e).get(n)}function wg(n,t,e,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=_g(t);return n.children.forEach(u=>{(function(n,t,e,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,u=t?t.value:null,x=e?e.getContext(n.value.outlet):null;if(u&&o.routeConfig===u.routeConfig){const H=function(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Rd(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Rd(n.url,t.url)||!cl(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!P0(n,t)||!cl(n.queryParams,t.queryParams);case"paramsChange":default:return!P0(n,t)}}(u,o,o.routeConfig.runGuardsAndResolvers);H?s.canActivateChecks.push(new UM(i)):(o.data=u.data,o._resolvedData=u._resolvedData),wg(n,t,o.component?x?x.children:null:e,i,s),H&&x&&x.outlet&&x.outlet.isActivated&&s.canDeactivateChecks.push(new Jp(x.outlet.component,u))}else u&&Sg(t,x,s),s.canActivateChecks.push(new UM(i)),wg(n,null,o.component?x?x.children:null:e,i,s)})(u,o[u.value.outlet],e,i.concat([u.value]),s),delete o[u.value.outlet]}),jo(o,(u,x)=>Sg(u,e.getContext(x),s)),s}function Sg(n,t,e){const i=_g(n),s=n.value;jo(i,(o,u)=>{Sg(o,s.component?t?t.children.getContext(u):null:t,e)}),e.canDeactivateChecks.push(new Jp(s.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,s))}class F8{}function jM(n){return new m(t=>t.error(n))}class V8{constructor(t,e,i,s,o,u){this.rootComponentType=t,this.config=e,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=u}recognize(){const t=Qp(this.urlTree.root,[],[],this.config.filter(u=>void 0===u.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,_s);if(null===e)return null;const i=new zp([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},_s,this.rootComponentType,null,this.urlTree.root,-1,{}),s=new Ql(i,e),o=new DM(this.url,s);return this.inheritParamsAndData(o._root),o}inheritParamsAndData(t){const e=t.value,i=EM(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(s=>this.inheritParamsAndData(s))}processSegmentGroup(t,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,i)}processChildren(t,e){const i=[];for(const o of Object.keys(e.children)){const u=e.children[o],x=kM(t,o),H=this.processSegmentGroup(x,u,o);if(null===H)return null;i.push(...H)}const s=zM(i);return function(n){n.sort((t,e)=>t.value.outlet===_s?-1:e.value.outlet===_s?1:t.value.outlet.localeCompare(e.value.outlet))}(s),s}processSegment(t,e,i,s){for(const o of t){const u=this.processSegmentAgainstRoute(o,e,i,s);if(null!==u)return u}return VM(e,i,s)?[]:null}processSegmentAgainstRoute(t,e,i,s){if(t.redirectTo||!BM(t,e,i,s))return null;let o,u=[],x=[];if("**"===t.path){const xt=i.length>0?uM(i).parameters:{};o=new zp(i,xt,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,GM(t),oa(t),t.component,t,KM(e),$M(e)+i.length,YM(t))}else{const xt=Yp(e,t,i);if(!xt.matched)return null;u=xt.consumedSegments,x=i.slice(xt.lastChild),o=new zp(u,xt.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,GM(t),oa(t),t.component,t,KM(e),$M(e)+u.length,YM(t))}const H=function(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(t),{segmentGroup:se,slicedSegments:Re}=Qp(e,u,x,H.filter(xt=>void 0===xt.redirectTo),this.relativeLinkResolution);if(0===Re.length&&se.hasChildren()){const xt=this.processChildren(H,se);return null===xt?null:[new Ql(o,xt)]}if(0===H.length&&0===Re.length)return[new Ql(o,[])];const it=oa(t)===s,pt=this.processSegment(H,se,Re,it?_s:s);return null===pt?null:[new Ql(o,pt)]}}function U8(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function zM(n){const t=[],e=new Set;for(const i of n){if(!U8(i)){t.push(i);continue}const s=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==s?(s.children.push(...i.children),e.add(s)):t.push(i)}for(const i of e){const s=zM(i.children);t.push(new Ql(i.value,s))}return t.filter(i=>!e.has(i))}function KM(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function $M(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function GM(n){return n.data||{}}function YM(n){return n.resolve||{}}function U0(n){return ka(t=>{const e=n(t);return e?pe(e).pipe(N(()=>t)):Fi(t)})}class Z8 extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const j0=new mi("ROUTES");class QM{constructor(t,e,i,s){this.loader=t,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=s}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const s=this.loadModuleFactory(e.loadChildren).pipe(N(o=>{this.onLoadEndListener&&this.onLoadEndListener(e);const u=o.create(t);return new V0(dM(u.injector.get(j0,void 0,st.Self|st.Optional)).map(W0),u)}),Ac(o=>{throw e._loader$=void 0,o}));return e._loader$=new _t(s,()=>new le).pipe(De()),e._loader$}loadModuleFactory(t){return"string"==typeof t?pe(this.loader.load(t)):dl(t()).pipe(Ue(e=>e instanceof xD?Fi(e):pe(this.compiler.compileModuleAsync(e))))}}class X8{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new _h,this.attachRef=null}}class _h{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new X8,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class q8{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function e7(n){throw n}function t7(n,t,e){return t.parse("/")}function ZM(n,t){return Fi(null)}const n7={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},i7={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Nr=(()=>{class n{constructor(e,i,s,o,u,x,H,se){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=s,this.location=o,this.config=se,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new le,this.errorHandler=e7,this.malformedUriErrorHandler=t7,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:ZM,afterPreactivation:ZM},this.urlHandlingStrategy=new q8,this.routeReuseStrategy=new Z8,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=u.get(al),this.console=u.get(lp);const pt=u.get(Vi);this.isNgZoneEnabled=pt instanceof Vi&&Vi.isInAngularZone(),this.resetConfig(se),this.currentUrlTree=new Ad(new Ss([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new QM(x,H,xt=>this.triggerEvent(new oM(xt)),xt=>this.triggerEvent(new rM(xt))),this.routerState=SM(this.currentUrlTree,this.rootComponentType),this.transitions=new sa({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(To(s=>0!==s.id),N(s=>Object.assign(Object.assign({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),ka(s=>{let o=!1,u=!1;return Fi(s).pipe(Uo(x=>{this.currentNavigation={id:x.id,initialUrl:x.currentRawUrl,extractedUrl:x.extractedUrl,trigger:x.source,extras:x.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),ka(x=>{const H=!this.navigated||x.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||H)&&this.urlHandlingStrategy.shouldProcessUrl(x.rawUrl))return Fi(x).pipe(ka(Re=>{const it=this.transitions.getValue();return i.next(new x0(Re.id,this.serializeUrl(Re.extractedUrl),Re.source,Re.restoredState)),it!==this.transitions.getValue()?Tc:Promise.resolve(Re)}),function(n,t,e,i){return ka(s=>function(n,t,e,i,s){return new y8(n,t,e,i,s).apply()}(n,t,e,s.extractedUrl,i).pipe(N(o=>Object.assign(Object.assign({},s),{urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Uo(Re=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Re.urlAfterRedirects})}),function(n,t,e,i,s){return Ue(o=>function(n,t,e,i,s="emptyOnly",o="legacy"){try{const u=new V8(n,t,e,i,s,o).recognize();return null===u?jM(new F8):Fi(u)}catch(u){return jM(u)}}(n,t,o.urlAfterRedirects,e(o.urlAfterRedirects),i,s).pipe(N(u=>Object.assign(Object.assign({},o),{targetSnapshot:u}))))}(this.rootComponentType,this.config,Re=>this.serializeUrl(Re),this.paramsInheritanceStrategy,this.relativeLinkResolution),Uo(Re=>{"eager"===this.urlUpdateStrategy&&(Re.extras.skipLocationChange||this.setBrowserUrl(Re.urlAfterRedirects,Re),this.browserUrlTree=Re.urlAfterRedirects);const it=new _6(Re.id,this.serializeUrl(Re.extractedUrl),this.serializeUrl(Re.urlAfterRedirects),Re.targetSnapshot);i.next(it)}));if(H&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:it,extractedUrl:pt,source:xt,restoredState:Bt,extras:cn}=x,rn=new x0(it,this.serializeUrl(pt),xt,Bt);i.next(rn);const Pn=SM(pt,this.rootComponentType).snapshot;return Fi(Object.assign(Object.assign({},x),{targetSnapshot:Pn,urlAfterRedirects:pt,extras:Object.assign(Object.assign({},cn),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=x.rawUrl,this.browserUrlTree=x.urlAfterRedirects,x.resolve(null),Tc}),U0(x=>{const{targetSnapshot:H,id:se,extractedUrl:Re,rawUrl:it,extras:{skipLocationChange:pt,replaceUrl:xt}}=x;return this.hooks.beforePreactivation(H,{navigationId:se,appliedUrlTree:Re,rawUrlTree:it,skipLocationChange:!!pt,replaceUrl:!!xt})}),Uo(x=>{const H=new v6(x.id,this.serializeUrl(x.extractedUrl),this.serializeUrl(x.urlAfterRedirects),x.targetSnapshot);this.triggerEvent(H)}),N(x=>Object.assign(Object.assign({},x),{guards:E8(x.targetSnapshot,x.currentSnapshot,this.rootContexts)})),function(n,t){return Ue(e=>{const{targetSnapshot:i,currentSnapshot:s,guards:{canActivateChecks:o,canDeactivateChecks:u}}=e;return 0===u.length&&0===o.length?Fi(Object.assign(Object.assign({},e),{guardsResult:!0})):function(n,t,e,i){return pe(n).pipe(Ue(s=>function(n,t,e,i,s){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?Fi(o.map(x=>{const H=qp(x,t,s);let se;if(function(n){return n&&Oc(n.canDeactivate)}(H))se=dl(H.canDeactivate(n,t,e,i));else{if(!Oc(H))throw new Error("Invalid CanDeactivate guard");se=dl(H(n,t,e,i))}return se.pipe(gh())})).pipe(bg()):Fi(!0)}(s.component,s.route,e,t,i)),gh(s=>!0!==s,!0))}(u,i,s,n).pipe(Ue(x=>x&&function(n){return"boolean"==typeof n}(x)?function(n,t,e,i){return pe(t).pipe(fh(s=>D0(function(n,t){return null!==n&&t&&t(new w6(n)),Fi(!0)}(s.route.parent,i),function(n,t){return null!==n&&t&&t(new E6(n)),Fi(!0)}(s.route,i),function(n,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(u=>function(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(u)).filter(u=>null!==u).map(u=>Bp(()=>Fi(u.guards.map(H=>{const se=qp(H,u.node,e);let Re;if(function(n){return n&&Oc(n.canActivateChild)}(se))Re=dl(se.canActivateChild(i,n));else{if(!Oc(se))throw new Error("Invalid CanActivateChild guard");Re=dl(se(i,n))}return Re.pipe(gh())})).pipe(bg())));return Fi(o).pipe(bg())}(n,s.path,e),function(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;return i&&0!==i.length?Fi(i.map(o=>Bp(()=>{const u=qp(o,t,e);let x;if(function(n){return n&&Oc(n.canActivate)}(u))x=dl(u.canActivate(t,n));else{if(!Oc(u))throw new Error("Invalid CanActivate guard");x=dl(u(t,n))}return x.pipe(gh())}))).pipe(bg()):Fi(!0)}(n,s.route,e))),gh(s=>!0!==s,!0))}(i,o,n,t):Fi(x)),N(x=>Object.assign(Object.assign({},e),{guardsResult:x})))})}(this.ngModule.injector,x=>this.triggerEvent(x)),Uo(x=>{if(Od(x.guardsResult)){const se=M0(`Redirecting to "${this.serializeUrl(x.guardsResult)}"`);throw se.url=x.guardsResult,se}const H=new C6(x.id,this.serializeUrl(x.extractedUrl),this.serializeUrl(x.urlAfterRedirects),x.targetSnapshot,!!x.guardsResult);this.triggerEvent(H)}),To(x=>!!x.guardsResult||(this.restoreHistory(x),this.cancelNavigationTransition(x,""),!1)),U0(x=>{if(x.guards.canActivateChecks.length)return Fi(x).pipe(Uo(H=>{const se=new b6(H.id,this.serializeUrl(H.extractedUrl),this.serializeUrl(H.urlAfterRedirects),H.targetSnapshot);this.triggerEvent(se)}),ka(H=>{let se=!1;return Fi(H).pipe(function(n,t){return Ue(e=>{const{targetSnapshot:i,guards:{canActivateChecks:s}}=e;if(!s.length)return Fi(e);let o=0;return pe(s).pipe(fh(u=>function(n,t,e,i){return function(n,t,e,i){const s=Object.keys(n);if(0===s.length)return Fi({});const o={};return pe(s).pipe(Ue(u=>function(n,t,e,i){const s=qp(n,t,i);return dl(s.resolve?s.resolve(t,e):s(t,e))}(n[u],t,e,i).pipe(Uo(x=>{o[u]=x}))),L0(1),Ue(()=>Object.keys(o).length===s.length?Fi(o):Tc))}(n._resolve,n,t,i).pipe(N(o=>(n._resolvedData=o,n.data=Object.assign(Object.assign({},n.data),EM(n,e).resolve),null)))}(u.route,i,n,t)),Uo(()=>o++),L0(1),Ue(u=>o===s.length?Fi(e):Tc))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Uo({next:()=>se=!0,complete:()=>{se||(this.restoreHistory(H),this.cancelNavigationTransition(H,"At least one route resolver didn't emit any value."))}}))}),Uo(H=>{const se=new y6(H.id,this.serializeUrl(H.extractedUrl),this.serializeUrl(H.urlAfterRedirects),H.targetSnapshot);this.triggerEvent(se)}))}),U0(x=>{const{targetSnapshot:H,id:se,extractedUrl:Re,rawUrl:it,extras:{skipLocationChange:pt,replaceUrl:xt}}=x;return this.hooks.afterPreactivation(H,{navigationId:se,appliedUrlTree:Re,rawUrlTree:it,skipLocationChange:!!pt,replaceUrl:!!xt})}),N(x=>{const H=function(n,t,e){const i=Kp(n,t._root,e?e._root:void 0);return new wM(i,t)}(this.routeReuseStrategy,x.targetSnapshot,x.currentRouterState);return Object.assign(Object.assign({},x),{targetRouterState:H})}),Uo(x=>{this.currentUrlTree=x.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,x.rawUrl),this.routerState=x.targetRouterState,"deferred"===this.urlUpdateStrategy&&(x.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,x),this.browserUrlTree=x.urlAfterRedirects)}),((n,t,e)=>N(i=>(new o8(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,x=>this.triggerEvent(x)),Uo({next(){o=!0},complete(){o=!0}}),iM(()=>{if(!o&&!u){const x=`Navigation ID ${s.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(s),this.cancelNavigationTransition(s,x)):this.cancelNavigationTransition(s,x)}this.currentNavigation=null}),Ac(x=>{if(u=!0,function(n){return n&&n[lM]}(x)){const H=Od(x.url);H||(this.navigated=!0,this.restoreHistory(s,!0));const se=new sM(s.id,this.serializeUrl(s.extractedUrl),x.message);i.next(se),H?setTimeout(()=>{const Re=this.urlHandlingStrategy.merge(x.url,this.rawUrlTree);this.scheduleNavigation(Re,"imperative",null,{skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:s.resolve,reject:s.reject,promise:s.promise})},0):s.resolve(!1)}else{this.restoreHistory(s,!0);const H=new p6(s.id,this.serializeUrl(s.extractedUrl),x);i.next(H);try{s.resolve(this.errorHandler(x))}catch(se){s.reject(se)}}return Tc}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,i)&&setTimeout(()=>{const{source:s,state:o,urlTree:u}=i,x={replaceUrl:!0};if(o){const H=Object.assign({},o);delete H.navigationId,delete H.\u0275routerPageId,0!==Object.keys(H).length&&(x.state=H)}this.scheduleNavigation(u,s,o,x)},0),this.lastLocationChangeInfo=i}))}extractLocationChangeInfoFromEvent(e){var i;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(i=e.state)||void 0===i?void 0:i.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,i){if(!e)return!0;const s=i.urlTree.toString()===e.urlTree.toString();return i.transitionId!==e.transitionId||!s||!("hashchange"===i.source&&"popstate"===e.source||"popstate"===i.source&&"hashchange"===e.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){PM(e),this.config=e.map(W0),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:s,queryParams:o,fragment:u,queryParamsHandling:x,preserveFragment:H}=i,se=s||this.routerState.root,Re=H?this.currentUrlTree.fragment:u;let it=null;switch(x){case"merge":it=Object.assign(Object.assign({},this.currentUrlTree.queryParams),o);break;case"preserve":it=this.currentUrlTree.queryParams;break;default:it=o||null}return null!==it&&(it=this.removeEmptyProps(it)),function(n,t,e,i,s){if(0===e.length)return k0(t.root,t.root,t,i,s);const o=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new IM(!0,0,n);let t=0,e=!1;const i=n.reduce((s,o,u)=>{if("object"==typeof o&&null!=o){if(o.outlets){const x={};return jo(o.outlets,(H,se)=>{x[se]="string"==typeof H?H.split("/"):H}),[...s,{outlets:x}]}if(o.segmentPath)return[...s,o.segmentPath]}return"string"!=typeof o?[...s,o]:0===u?(o.split("/").forEach((x,H)=>{0==H&&"."===x||(0==H&&""===x?e=!0:".."===x?t++:""!=x&&s.push(x))}),s):[...s,o]},[]);return new IM(e,t,i)}(e);if(o.toRoot())return k0(t.root,new Ss([],{}),t,i,s);const u=function(n,t,e){if(n.isAbsolute)return new F0(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const o=e.snapshot._urlSegment;return new F0(o,o===t.root,0)}const i=$p(n.commands[0])?0:1;return function(n,t,e){let i=n,s=t,o=e;for(;o>s;){if(o-=s,i=i.parent,!i)throw new Error("Invalid number of '../'");s=i.segments.length}return new F0(i,!1,s-o)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(o,t,n),x=u.processChildren?Gp(u.segmentGroup,u.index,o.commands):NM(u.segmentGroup,u.index,o.commands);return k0(u.segmentGroup,x,t,i,s)}(se,this.currentUrlTree,e,it,null!=Re?Re:null)}navigateByUrl(e,i={skipLocationChange:!1}){const s=Od(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(s){i=this.malformedUriErrorHandler(s,this.urlSerializer,e)}return i}isActive(e,i){let s;if(s=!0===i?Object.assign({},n7):!1===i?Object.assign({},i7):i,Od(e))return fM(this.currentUrlTree,e,s);const o=this.parseUrl(e);return fM(this.currentUrlTree,o,s)}removeEmptyProps(e){return Object.keys(e).reduce((i,s)=>{const o=e[s];return null!=o&&(i[s]=o),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new gg(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(e,i,s,o,u){var x,H;if(this.disposed)return Promise.resolve(!1);const se=this.getTransition(),Re="imperative"!==i&&"imperative"===(null==se?void 0:se.source),xt=(this.lastSuccessfulId===se.id||this.currentNavigation?se.rawUrl:se.urlAfterRedirects).toString()===e.toString();if(Re&&xt)return Promise.resolve(!0);let Bt,cn,rn;u?(Bt=u.resolve,cn=u.reject,rn=u.promise):rn=new Promise((ri,pi)=>{Bt=ri,cn=pi});const Pn=++this.navigationId;let Dn;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(s=this.location.getState()),Dn=s&&s.\u0275routerPageId?s.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?null!==(x=this.browserPageId)&&void 0!==x?x:0:(null!==(H=this.browserPageId)&&void 0!==H?H:0)+1):Dn=0,this.setTransition({id:Pn,targetPageId:Dn,source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:o,resolve:Bt,reject:cn,promise:rn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),rn.catch(ri=>Promise.reject(ri))}setBrowserUrl(e,i){const s=this.urlSerializer.serialize(e),o=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl?this.location.replaceState(s,"",o):this.location.go(s,"",o)}restoreHistory(e,i=!1){var s,o;if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)||0===u?this.currentUrlTree===(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)&&0===u&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(u)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const s=new sM(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(s),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){return new(e||n)(mn(Tl),mn(I0),mn(_h),mn(dh),mn(hs),mn(dp),mn(Ld),mn(void 0))},n.\u0275prov=Nn({token:n,factory:n.\u0275fac}),n})(),e_=(()=>{class n{constructor(e,i,s,o,u){this.router=e,this.route=i,this.commands=[],this.onChanges=new le,null==s&&o.setAttribute(u.nativeElement,"tabindex","0")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}onClick(){const e={skipLocationChange:vh(this.skipLocationChange),replaceUrl:vh(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:vh(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(Jt(Nr),Jt(ph),Lo("tabindex"),Jt(jl),Jt(ki))},n.\u0275dir=Tt({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,i){1&e&&ds("click",function(){return i.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[Qi]}),n})(),z0=(()=>{class n{constructor(e,i,s){this.router=e,this.route=i,this.locationStrategy=s,this.commands=[],this.onChanges=new le,this.subscription=e.events.subscribe(o=>{o instanceof gg&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,i,s,o,u){if(0!==e||i||s||o||u||"string"==typeof this.target&&"_self"!=this.target)return!0;const x={skipLocationChange:vh(this.skipLocationChange),replaceUrl:vh(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,x),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:vh(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(Jt(Nr),Jt(ph),Jt(ch))},n.\u0275dir=Tt({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,i){1&e&&ds("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&e&&(Lc("href",i.href,Ef),ws("target",i.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[Qi]}),n})();function vh(n){return""===n||!!n}let XM=(()=>{class n{constructor(e,i,s,o,u,x){this.router=e,this.element=i,this.renderer=s,this.cdr=o,this.link=u,this.linkWithHref=x,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=e.events.subscribe(H=>{H instanceof gg&&this.update()})}ngAfterContentInit(){Fi(this.links.changes,this.linksWithHrefs.changes,Fi(null)).pipe(ve()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var e;null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe();const i=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(s=>!!s).map(s=>s.onChanges);this.linkInputChangesSubscription=pe(i).pipe(ve()).subscribe(s=>{this.isActive!==this.isLinkActive(this.router)(s)&&this.update()})}set routerLinkActive(e){const i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(s=>!!s)}ngOnChanges(e){this.update()}ngOnDestroy(){var e;this.routerEventsSubscription.unsubscribe(),null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}))})}isLinkActive(e){const i="paths"in this.routerLinkActiveOptions?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>e.isActive(s.urlTree,i)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return n.\u0275fac=function(e){return new(e||n)(Jt(Nr),Jt(ki),Jt(jl),Jt(qo),Jt(e_,8),Jt(z0,8))},n.\u0275dir=Tt({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(e,i,s){if(1&e&&(zs(s,e_,5),zs(s,z0,5)),2&e){let o;ls(o=cs())&&(i.links=o),ls(o=cs())&&(i.linksWithHrefs=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[Qi]}),n})(),K0=(()=>{class n{constructor(e,i,s,o,u){this.parentContexts=e,this.location=i,this.resolver=s,this.changeDetector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new Yi,this.deactivateEvents=new Yi,this.name=o||_s,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const u=(i=i||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),x=this.parentContexts.getOrCreateContext(this.name).children,H=new o7(e,x,this.location.injector);this.activated=this.location.createComponent(u,this.location.length,H),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(Jt(_h),Jt(er),Jt(rl),Lo("name"),Jt(qo))},n.\u0275dir=Tt({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class o7{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===ph?this.route:t===_h?this.childContexts:this.parent.get(t,e)}}class JM{}class qM{preload(t,e){return Fi(null)}}let eI=(()=>{class n{constructor(e,i,s,o,u){this.router=e,this.injector=o,this.preloadingStrategy=u,this.loader=new QM(i,s,se=>e.triggerEvent(new oM(se)),se=>e.triggerEvent(new rM(se)))}setUpPreloading(){this.subscription=this.router.events.pipe(To(e=>e instanceof gg),fh(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(al);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const s=[];for(const o of i)if(o.loadChildren&&!o.canLoad&&o._loadedConfig){const u=o._loadedConfig;s.push(this.processRoutes(u.module,u.routes))}else o.loadChildren&&!o.canLoad?s.push(this.preloadConfig(e,o)):o.children&&s.push(this.processRoutes(e,o.children));return pe(s).pipe(ve(),N(o=>{}))}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?Fi(i._loadedConfig):this.loader.load(e.injector,i)).pipe(Ue(o=>(i._loadedConfig=o,this.processRoutes(o.module,o.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(mn(Nr),mn(dp),mn(Ld),mn(hs),mn(JM))},n.\u0275prov=Nn({token:n,factory:n.\u0275fac}),n})(),$0=(()=>{class n{constructor(e,i,s={}){this.router=e,this.viewportScroller=i,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof x0?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof gg&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof aM&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new aM(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(mn(Nr),mn(Fx),mn(void 0))},n.\u0275prov=Nn({token:n,factory:n.\u0275fac}),n})();const Pd=new mi("ROUTER_CONFIGURATION"),tI=new mi("ROUTER_FORROOT_GUARD"),a7=[dh,{provide:I0,useClass:_M},{provide:Nr,useFactory:function(n,t,e,i,s,o,u,x={},H,se){const Re=new Nr(null,n,t,e,i,s,o,dM(u));return H&&(Re.urlHandlingStrategy=H),se&&(Re.routeReuseStrategy=se),function(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy)}(x,Re),x.enableTracing&&Re.events.subscribe(it=>{var pt,xt;null===(pt=console.group)||void 0===pt||pt.call(console,`Router Event: ${it.constructor.name}`),console.log(it.toString()),console.log(it),null===(xt=console.groupEnd)||void 0===xt||xt.call(console)}),Re},deps:[I0,_h,dh,hs,dp,Ld,j0,Pd,[class{},new vo],[class{},new vo]]},_h,{provide:ph,useFactory:function(n){return n.routerState.root},deps:[Nr]},{provide:dp,useClass:l5},eI,qM,class{preload(t,e){return e().pipe(Ac(()=>Fi(null)))}},{provide:Pd,useValue:{enableTracing:!1}}];function l7(){return new Fb("Router",Nr)}let nI=(()=>{class n{constructor(e,i){}static forRoot(e,i){return{ngModule:n,providers:[a7,iI(e),{provide:tI,useFactory:u7,deps:[[Nr,new vo,new Ja]]},{provide:Pd,useValue:i||{}},{provide:ch,useFactory:d7,deps:[Nd,[new Pl(e0),new vo],Pd]},{provide:$0,useFactory:c7,deps:[Nr,Fx,Pd]},{provide:JM,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:qM},{provide:Fb,multi:!0,useFactory:l7},[G0,{provide:ng,multi:!0,useFactory:m7,deps:[G0]},{provide:sI,useFactory:p7,deps:[G0]},{provide:NL,multi:!0,useExisting:sI}]]}}static forChild(e){return{ngModule:n,providers:[iI(e)]}}}return n.\u0275fac=function(e){return new(e||n)(mn(tI,8),mn(Nr,8))},n.\u0275mod=et({type:n}),n.\u0275inj=si({}),n})();function c7(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new $0(n,t,e)}function d7(n,t,e={}){return e.useHash?new M3(n,t):new Cx(n,t)}function u7(n){return"guarded"}function iI(n){return[{provide:hv,multi:!0,useValue:n},{provide:j0,multi:!0,useValue:n}]}let G0=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new le}appInitializer(){return this.injector.get(D3,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const s=new Promise(x=>i=x),o=this.injector.get(Nr),u=this.injector.get(Pd);return"disabled"===u.initialNavigation?(o.setUpLocationChangeListener(),i(!0)):"enabled"===u.initialNavigation||"enabledBlocking"===u.initialNavigation?(o.hooks.afterPreactivation=()=>this.initNavigation?Fi(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),o.initialNavigation()):i(!0),s})}bootstrapListener(e){const i=this.injector.get(Pd),s=this.injector.get(eI),o=this.injector.get($0),u=this.injector.get(Nr),x=this.injector.get(xd);e===x.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&u.initialNavigation(),s.setUpPreloading(),o.init(),u.resetRootComponentType(x.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(mn(hs))},n.\u0275prov=Nn({token:n,factory:n.\u0275fac}),n})();function m7(n){return n.appInitializer.bind(n)}function p7(n){return n.bootstrapListener.bind(n)}const sI=new mi("Router Initializer");class v7 extends C{constructor(t,e){super()}schedule(t,e=0){return this}}class t_ extends v7{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(s,this.id,e),this}requestAsyncId(t,e,i=0){return setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!==i&&this.delay===i&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let s,i=!1;try{this.work(t)}catch(o){i=!0,s=!!o&&o||new Error(o)}if(i)return this.unsubscribe(),s}_unsubscribe(){const t=this.id,e=this.scheduler,i=e.actions,s=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==s&&i.splice(s,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}let oI=(()=>{class n{constructor(e,i=n.now){this.SchedulerAction=e,this.now=i}schedule(e,i=0,s){return new this.SchedulerAction(this,e).schedule(s,i)}}return n.now=()=>Date.now(),n})();class Fa extends oI{constructor(t,e=oI.now){super(t,()=>Fa.delegate&&Fa.delegate!==this?Fa.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,i){return Fa.delegate&&Fa.delegate!==this?Fa.delegate.schedule(t,e,i):super.schedule(t,e,i)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let i;this.active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const Y0=new Fa(t_);function Q0(n,t=Y0){return e=>e.lift(new C7(n,t))}class C7{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new b7(t,this.dueTime,this.scheduler))}}class b7 extends p{constructor(t,e,i){super(t),this.dueTime=e,this.scheduler=i,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(y7,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function y7(n){n.debouncedNext()}function Ds(n){return null!=n&&"false"!=`${n}`}function ra(n,t=0){return function(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function rI(n){return Array.isArray(n)?n:[n]}function wo(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Zl(n){return n instanceof ki?n.nativeElement:n}function Eg(n,t,e,i){return T(e)&&(i=e,e=void 0),i?Eg(n,t,e).pipe(N(s=>$(s)?i(...s):i(s))):new m(s=>{aI(n,t,function(u){s.next(arguments.length>1?Array.prototype.slice.call(arguments):u)},s,e)})}function aI(n,t,e,i,s){let o;if(function(n){return n&&"function"==typeof n.addEventListener&&"function"==typeof n.removeEventListener}(n)){const u=n;n.addEventListener(t,e,s),o=()=>u.removeEventListener(t,e,s)}else if(function(n){return n&&"function"==typeof n.on&&"function"==typeof n.off}(n)){const u=n;n.on(t,e),o=()=>u.off(t,e)}else if(function(n){return n&&"function"==typeof n.addListener&&"function"==typeof n.removeListener}(n)){const u=n;n.addListener(t,e),o=()=>u.removeListener(t,e)}else{if(!n||!n.length)throw new TypeError("Invalid event target");for(let u=0,x=n.length;u<x;u++)aI(n[u],t,e,i,s)}i.add(o)}new class extends Fa{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let i,s=-1,o=e.length;t=t||e.shift();do{if(i=t.execute(t.state,t.delay))break}while(++s<o&&(t=e.shift()));if(this.active=!1,i){for(;++s<o&&(t=e.shift());)t.unsubscribe();throw i}}}(class extends t_{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}});let I7=1;const N7=Promise.resolve(),n_={};function lI(n){return n in n_&&(delete n_[n],!0)}const cI={setImmediate(n){const t=I7++;return n_[t]=!0,N7.then(()=>lI(t)&&n()),t},clearImmediate(n){lI(n)}};new class extends Fa{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let i,s=-1,o=e.length;t=t||e.shift();do{if(i=t.execute(t.state,t.delay))break}while(++s<o&&(t=e.shift()));if(this.active=!1,i){for(;++s<o&&(t=e.shift());)t.unsubscribe();throw i}}}(class extends t_{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t.scheduled||(t.scheduled=cI.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(cI.clearImmediate(e),t.scheduled=void 0)}});function i_(n,t){return e=>e.lift(new O7(n,t))}class O7{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new P7(t,this.compare,this.keySelector))}}class P7 extends p{constructor(t,e,i){super(t),this.keySelector=i,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:s}=this;e=s?s(t):t}catch(s){return this.destination.error(s)}let i=!1;if(this.hasKey)try{const{compare:s}=this;i=s(this.key,e)}catch(s){return this.destination.error(s)}else this.hasKey=!0;i||(this.key=e,this.destination.next(t))}}class F7{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new B7(t,this.durationSelector))}}class B7 extends Ee{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let e;try{const{durationSelector:s}=this;e=s(t)}catch(s){return this.destination.error(s)}const i=Be(e,new Ve(this));!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:t,hasValue:e,throttled:i}=this;i&&(this.remove(i),this.throttled=void 0,i.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function uI(n){return!$(n)&&n-parseFloat(n)+1>=0}function W7(n){const{index:t,period:e,subscriber:i}=n;if(i.next(t),!i.closed){if(-1===e)return i.complete();n.index=t+1,this.schedule(n,e)}}function s_(n,t=Y0){return function(n){return function(e){return e.lift(new F7(n))}}(()=>function(n=0,t,e){let i=-1;return uI(t)?i=Number(t)<1?1:Number(t):be(t)&&(e=t),be(e)||(e=Y0),new m(s=>{const o=uI(n)?n:+n-e.now();return e.schedule(W7,o,{index:0,period:i,subscriber:s})})}(n,t))}function co(n){return t=>t.lift(new H7(n))}class H7{constructor(t){this.notifier=t}call(t,e){const i=new U7(t),s=Be(this.notifier,new Ve(i));return s&&!i.seenValue?(i.add(s),e.subscribe(i)):i}}class U7 extends Ee{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function hI(n,t){return new m(t?e=>t.schedule(Q7,0,{error:n,subscriber:e}):e=>e.error(n))}function Q7({error:n,subscriber:t}){t.error(n)}new class extends Fa{}(class extends t_{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,i=0){return null!==i&&i>0||null===i&&this.delay>0?super.requestAsyncId(t,e,i):t.flush(this)}});class aa{constructor(t,e,i){this.kind=t,this.value=e,this.error=i,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,i){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return i&&i()}}accept(t,e,i){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,i)}toObservable(){switch(this.kind){case"N":return Fi(this.value);case"E":return hI(this.error);case"C":return Fp()}throw new Error("unexpected notification kind value")}static createNext(t){return void 0!==t?new aa("N",t):aa.undefinedValueNotification}static createError(t){return new aa("E",void 0,t)}static createComplete(){return aa.completeNotification}}let Z0;aa.completeNotification=new aa("C"),aa.undefinedValueNotification=new aa("N",void 0);try{Z0="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){Z0=!1}let Ch,Gs=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function(n){return n===kx}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Z0)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(mn(rh))},n.\u0275prov=Nn({factory:function(){return new n(mn(rh))},token:n,providedIn:"root"}),n})(),Dg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=et({type:n}),n.\u0275inj=si({}),n})();const fI=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function gI(){if(Ch)return Ch;if("object"!=typeof document||!document)return Ch=new Set(fI),Ch;let n=document.createElement("input");return Ch=new Set(fI.filter(t=>(n.setAttribute("type",t),n.type===t))),Ch}let Lg,kd,X0;function r_(n){return function(){if(null==Lg&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Lg=!0}))}finally{Lg=Lg||!1}return Lg}()?n:!!n.capture}function mI(){if(null==kd){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return kd=!1,kd;if("scrollBehavior"in document.documentElement.style)kd=!0;else{const n=Element.prototype.scrollTo;kd=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return kd}function l_(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function bh(n){return n.composedPath?n.composedPath()[0]:n.target}const pI=new mi("cdk-dir-doc",{providedIn:"root",factory:function(){return bu(Ti)}});let ul=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new Yi,e){const s=e.documentElement?e.documentElement.dir:null,o=(e.body?e.body.dir:null)||s;this.value="ltr"===o||"rtl"===o?o:"ltr"}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(mn(pI,8))},n.\u0275prov=Nn({factory:function(){return new n(mn(pI,8))},token:n,providedIn:"root"}),n})(),Mg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=et({type:n}),n.\u0275inj=si({}),n})();class J0{constructor(t=!1,e,i=!0){this._multiple=t,this._emitChanges=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new le,e&&e.length&&(t?e.forEach(s=>this._markSelected(s)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(e=>this._markSelected(e)),this._emitChangeEvent()}deselect(...t){this._verifyValueAssignment(t),t.forEach(e=>this._unmarkSelected(e)),this._emitChangeEvent()}toggle(t){this.isSelected(t)?this.deselect(t):this.select(t)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(t){return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}}let _I=(()=>{class n{constructor(){this._listeners=[]}notify(e,i){for(let s of this._listeners)s(e,i)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(i=>e!==i)}}ngOnDestroy(){this._listeners=[]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Nn({factory:function(){return new n},token:n,providedIn:"root"}),n})(),c_=(()=>{class n{constructor(e,i,s){this._ngZone=e,this._platform=i,this._scrolled=new le,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=s}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new m(i=>{this._globalSubscription||this._addGlobalListener();const s=e>0?this._scrolled.pipe(s_(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{s.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Fi()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const s=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(To(o=>!o||s.indexOf(o)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((s,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let s=Zl(i),o=e.getElementRef().nativeElement;do{if(s==o)return!0}while(s=s.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Eg(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(mn(Vi),mn(Gs),mn(Ti,8))},n.\u0275prov=Nn({factory:function(){return new n(mn(Vi),mn(Gs),mn(Ti,8))},token:n,providedIn:"root"}),n})(),yh=(()=>{class n{constructor(e,i,s){this._platform=e,this._change=new le,this._changeListener=o=>{this._change.next(o)},this._document=s,i.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:s}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+s,right:e.left+i,height:s,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),s=e.documentElement,o=s.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||i.scrollY||s.scrollTop||0,left:-o.left||e.body.scrollLeft||i.scrollX||s.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(s_(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(mn(Gs),mn(Vi),mn(Ti,8))},n.\u0275prov=Nn({factory:function(){return new n(mn(Gs),mn(Vi),mn(Ti,8))},token:n,providedIn:"root"}),n})(),q0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=et({type:n}),n.\u0275inj=si({}),n})(),wI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=et({type:n}),n.\u0275inj=si({imports:[[Mg,Dg,q0],Mg,q0]}),n})();class ey{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class ty extends ey{constructor(t,e,i,s){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=s}}class Ig extends ey{constructor(t,e,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class CH extends ey{constructor(t){super(),this.element=t instanceof ki?t.nativeElement:t}}class ny{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof ty?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof Ig?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof CH?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class bH extends ny{constructor(t,e,i,s,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=s,this.attachDomPortal=u=>{const x=u.element,H=this._document.createComment("dom-portal");x.parentNode.insertBefore(H,x),this.outletElement.appendChild(x),this._attachedPortal=u,super.setDisposeFn(()=>{H.parentNode&&H.parentNode.replaceChild(x,H)})},this._document=o}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let s;return t.viewContainerRef?(s=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>s.destroy())):(s=i.create(t.injector||this._defaultInjector),this._appRef.attachView(s.hostView),this.setDisposeFn(()=>{this._appRef.detachView(s.hostView),s.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(s)),this._attachedPortal=t,s}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context);return i.rootNodes.forEach(s=>this.outletElement.appendChild(s)),i.detectChanges(),this.setDisposeFn(()=>{let s=e.indexOf(i);-1!==s&&e.remove(s)}),this._attachedPortal=t,i}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let Ng=(()=>{class n extends ny{constructor(e,i,s){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new Yi,this.attachDomPortal=o=>{const u=o.element,x=this._document.createComment("dom-portal");o.setAttachedHost(this),u.parentNode.insertBefore(x,u),this._getRootNode().appendChild(u),this._attachedPortal=o,super.setDisposeFn(()=>{x.parentNode&&x.parentNode.replaceChild(u,x)})},this._document=s}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),u=i.createComponent(o,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(u.hostView.rootNodes[0]),super.setDisposeFn(()=>u.destroy()),this._attachedPortal=e,this._attachedRef=u,this.attached.emit(u),u}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(Jt(rl),Jt(er),Jt(Ti))},n.\u0275dir=Tt({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Pi]}),n})(),iy=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=et({type:n}),n.\u0275inj=si({}),n})();class wH{constructor(t,e){this.predicate=t,this.inclusive=e}call(t,e){return e.subscribe(new SH(t,this.predicate,this.inclusive))}}class SH extends p{constructor(t,e,i){super(t),this.predicate=e,this.inclusive=i,this.index=0}_next(t){const e=this.destination;let i;try{i=this.predicate(t,this.index++)}catch(s){return void e.error(s)}this.nextOrComplete(t,i)}nextOrComplete(t,e){const i=this.destination;Boolean(e)?i.next(t):(this.inclusive&&i.next(t),i.complete())}}function Xl(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}const xI=mI();class PH{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=wo(-this._previousScrollPosition.left),t.style.top=wo(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,s=this._document.body.style,o=i.scrollBehavior||"",u=s.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),xI&&(i.scrollBehavior=s.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),xI&&(i.scrollBehavior=o,s.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class kH{constructor(t,e,i,s){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=s,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class MI{enable(){}disable(){}attach(){}}function oy(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function II(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class FH{constructor(t,e,i,s){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=s,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:s}=this._viewportRuler.getViewportSize();oy(e,[{width:i,height:s,bottom:s,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let BH=(()=>{class n{constructor(e,i,s,o){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=s,this.noop=()=>new MI,this.close=u=>new kH(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new PH(this._viewportRuler,this._document),this.reposition=u=>new FH(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=o}}return n.\u0275fac=function(e){return new(e||n)(mn(c_),mn(yh),mn(Vi),mn(Ti))},n.\u0275prov=Nn({factory:function(){return new n(mn(c_),mn(yh),mn(Vi),mn(Ti))},token:n,providedIn:"root"}),n})();class ry{constructor(t){if(this.scrollStrategy=new MI,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class VH{constructor(t,e,i,s,o){this.offsetX=i,this.offsetY=s,this.panelClass=o,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class WH{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let NI=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(mn(Ti))},n.\u0275prov=Nn({factory:function(){return new n(mn(Ti))},token:n,providedIn:"root"}),n})(),HH=(()=>{class n extends NI{constructor(e){super(e),this._keydownListener=i=>{const s=this._attachedOverlays;for(let o=s.length-1;o>-1;o--)if(s[o]._keydownEvents.observers.length>0){s[o]._keydownEvents.next(i);break}}}add(e){super.add(e),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(mn(Ti))},n.\u0275prov=Nn({factory:function(){return new n(mn(Ti))},token:n,providedIn:"root"}),n})(),UH=(()=>{class n extends NI{constructor(e,i){super(e),this._platform=i,this._cursorStyleIsSet=!1,this._clickListener=s=>{const o=bh(s),u=this._attachedOverlays.slice();for(let x=u.length-1;x>-1;x--){const H=u[x];if(!(H._outsidePointerEvents.observers.length<1)&&H.hasAttached()){if(H.overlayElement.contains(o))break;H._outsidePointerEvents.next(s)}}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;i.addEventListener("click",this._clickListener,!0),i.addEventListener("auxclick",this._clickListener,!0),i.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return n.\u0275fac=function(e){return new(e||n)(mn(Ti),mn(Gs))},n.\u0275prov=Nn({factory:function(){return new n(mn(Ti),mn(Gs))},token:n,providedIn:"root"}),n})();const Pc="undefined"!=typeof window?window:{},TI=void 0!==Pc.__karma__&&!!Pc.__karma__||void 0!==Pc.jasmine&&!!Pc.jasmine||void 0!==Pc.jest&&!!Pc.jest||void 0!==Pc.Mocha&&!!Pc.Mocha;let Rg=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){const e=this._containerElement;e&&e.parentNode&&e.parentNode.removeChild(e)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||TI){const s=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<s.length;o++)s[o].parentNode.removeChild(s[o])}const i=this._document.createElement("div");i.classList.add(e),TI?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(mn(Ti),mn(Gs))},n.\u0275prov=Nn({factory:function(){return new n(mn(Ti),mn(Gs))},token:n,providedIn:"root"}),n})();class jH{constructor(t,e,i,s,o,u,x,H,se){this._portalOutlet=t,this._host=e,this._pane=i,this._config=s,this._ngZone=o,this._keyboardDispatcher=u,this._document=x,this._location=H,this._outsideClickDispatcher=se,this._backdropElement=null,this._backdropClick=new le,this._attachments=new le,this._detachments=new le,this._locationChanges=C.EMPTY,this._backdropClickHandler=Re=>this._backdropClick.next(Re),this._keydownEvents=new le,this._outsidePointerEvents=new le,s.scrollStrategy&&(this._scrollStrategy=s.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=s.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Ir(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=wo(this._config.width),t.height=wo(this._config.height),t.minWidth=wo(this._config.minWidth),t.minHeight=wo(this._config.minHeight),t.maxWidth=wo(this._config.maxWidth),t.maxHeight=wo(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t=this._backdropElement;if(!t)return;let e,i=()=>{t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",i),t.parentNode&&t.parentNode.removeChild(t)),this._backdropElement==t&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(t,this._config.backdropClass,!1),clearTimeout(e)};t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",i)}),t.style.pointerEvents="none",e=this._ngZone.runOutsideAngular(()=>setTimeout(i,500))}_toggleClasses(t,e,i){const s=t.classList;rI(e).forEach(o=>{o&&(i?s.add(o):s.remove(o))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(co(Ge(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}const AI="cdk-overlay-connected-position-bounding-box",zH=/([A-Za-z%]+)$/;class RI{constructor(t,e,i,s,o){this._viewportRuler=e,this._document=i,this._platform=s,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new le,this._resizeSubscription=C.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(AI),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,s=[];let o;for(let u of this._preferredPositions){let x=this._getOriginPoint(t,u),H=this._getOverlayPoint(x,e,u),se=this._getOverlayFit(H,e,i,u);if(se.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(u,x);this._canFitWithFlexibleDimensions(se,H,i)?s.push({position:u,origin:x,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(x,u)}):(!o||o.overlayFit.visibleArea<se.visibleArea)&&(o={overlayFit:se,overlayPoint:H,originPoint:x,position:u,overlayRect:e})}if(s.length){let u=null,x=-1;for(const H of s){const se=H.boundingBoxRect.width*H.boundingBoxRect.height*(H.position.weight||1);se>x&&(x=se,u=H)}return this._isPushed=!1,void this._applyPosition(u.position,u.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Fd(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(AI),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let i,s;if("center"==e.originX)i=t.left+t.width/2;else{const o=this._isRtl()?t.right:t.left,u=this._isRtl()?t.left:t.right;i="start"==e.originX?o:u}return s="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:i,y:s}}_getOverlayPoint(t,e,i){let s,o;return s="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+s,y:t.y+o}}_getOverlayFit(t,e,i,s){const o=PI(e);let{x:u,y:x}=t,H=this._getOffset(s,"x"),se=this._getOffset(s,"y");H&&(u+=H),se&&(x+=se);let pt=0-x,xt=x+o.height-i.height,Bt=this._subtractOverflows(o.width,0-u,u+o.width-i.width),cn=this._subtractOverflows(o.height,pt,xt),rn=Bt*cn;return{visibleArea:rn,isCompletelyWithinViewport:o.width*o.height===rn,fitsInViewportVertically:cn===o.height,fitsInViewportHorizontally:Bt==o.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const s=i.bottom-e.y,o=i.right-e.x,u=OI(this._overlayRef.getConfig().minHeight),x=OI(this._overlayRef.getConfig().minWidth),se=t.fitsInViewportHorizontally||null!=x&&x<=o;return(t.fitsInViewportVertically||null!=u&&u<=s)&&se}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const s=PI(e),o=this._viewportRect,u=Math.max(t.x+s.width-o.width,0),x=Math.max(t.y+s.height-o.height,0),H=Math.max(o.top-i.top-t.y,0),se=Math.max(o.left-i.left-t.x,0);let Re=0,it=0;return Re=s.width<=o.width?se||-u:t.x<this._viewportMargin?o.left-i.left-t.x:0,it=s.height<=o.height?H||-x:t.y<this._viewportMargin?o.top-i.top-t.y:0,this._previousPushAmount={x:Re,y:it},{x:t.x+Re,y:t.y+it}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),s=new WH(t,i);this._positionChanges.next(s)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,s=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${i} ${s}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,s=this._isRtl();let o,u,x,Re,it,pt;if("top"===e.overlayY)u=t.y,o=i.height-u+this._viewportMargin;else if("bottom"===e.overlayY)x=i.height-t.y+2*this._viewportMargin,o=i.height-x+this._viewportMargin;else{const xt=Math.min(i.bottom-t.y+i.top,t.y),Bt=this._lastBoundingBoxSize.height;o=2*xt,u=t.y-xt,o>Bt&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.y-Bt/2)}if("end"===e.overlayX&&!s||"start"===e.overlayX&&s)pt=i.width-t.x+this._viewportMargin,Re=t.x-this._viewportMargin;else if("start"===e.overlayX&&!s||"end"===e.overlayX&&s)it=t.x,Re=i.right-t.x;else{const xt=Math.min(i.right-t.x+i.left,t.x),Bt=this._lastBoundingBoxSize.width;Re=2*xt,it=t.x-xt,Re>Bt&&!this._isInitialRender&&!this._growAfterOpen&&(it=t.x-Bt/2)}return{top:u,left:it,bottom:x,right:pt,width:Re,height:o}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const s={};if(this._hasExactPosition())s.top=s.left="0",s.bottom=s.right=s.maxHeight=s.maxWidth="",s.width=s.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;s.height=wo(i.height),s.top=wo(i.top),s.bottom=wo(i.bottom),s.width=wo(i.width),s.left=wo(i.left),s.right=wo(i.right),s.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",s.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(s.maxHeight=wo(o)),u&&(s.maxWidth=wo(u))}this._lastBoundingBoxSize=i,Fd(this._boundingBox.style,s)}_resetBoundingBoxStyles(){Fd(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Fd(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},s=this._hasExactPosition(),o=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(s){const Re=this._viewportRuler.getViewportScrollPosition();Fd(i,this._getExactOverlayY(e,t,Re)),Fd(i,this._getExactOverlayX(e,t,Re))}else i.position="static";let x="",H=this._getOffset(e,"x"),se=this._getOffset(e,"y");H&&(x+=`translateX(${H}px) `),se&&(x+=`translateY(${se}px)`),i.transform=x.trim(),u.maxHeight&&(s?i.maxHeight=wo(u.maxHeight):o&&(i.maxHeight="")),u.maxWidth&&(s?i.maxWidth=wo(u.maxWidth):o&&(i.maxWidth="")),Fd(this._pane.style,i)}_getExactOverlayY(t,e,i){let s={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i));let u=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return o.y-=u,"bottom"===t.overlayY?s.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":s.top=wo(o.y),s}_getExactOverlayX(t,e,i){let u,s={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),u=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===u?s.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":s.left=wo(o.x),s}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(s=>s.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:II(t,i),isOriginOutsideView:oy(t,i),isOverlayClipped:II(e,i),isOverlayOutsideView:oy(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,s)=>i-Math.max(s,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&rI(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof ki)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function Fd(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function OI(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(zH);return e&&"px"!==e?null:parseFloat(t)}return n||null}function PI(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}class KH{constructor(t,e,i,s,o,u,x){this._preferredPositions=[],this._positionStrategy=new RI(i,s,o,u,x).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,i,s){const o=new VH(t,e,i,s);return this._preferredPositions.push(o),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}const kI="cdk-global-overlay-wrapper";class $H{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(kI),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:s,height:o,maxWidth:u,maxHeight:x}=i,H=!("100%"!==s&&"100vw"!==s||u&&"100%"!==u&&"100vw"!==u),se=!("100%"!==o&&"100vh"!==o||x&&"100%"!==x&&"100vh"!==x);t.position=this._cssPosition,t.marginLeft=H?"0":this._leftOffset,t.marginTop=se?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,H?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=se?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(kI),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let GH=(()=>{class n{constructor(e,i,s,o){this._viewportRuler=e,this._document=i,this._platform=s,this._overlayContainer=o}global(){return new $H}connectedTo(e,i,s){return new KH(i,s,e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(e){return new RI(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(mn(yh),mn(Ti),mn(Gs),mn(Rg))},n.\u0275prov=Nn({factory:function(){return new n(mn(yh),mn(Ti),mn(Gs),mn(Rg))},token:n,providedIn:"root"}),n})(),YH=0,Bd=(()=>{class n{constructor(e,i,s,o,u,x,H,se,Re,it,pt){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=s,this._positionBuilder=o,this._keyboardDispatcher=u,this._injector=x,this._ngZone=H,this._document=se,this._directionality=Re,this._location=it,this._outsideClickDispatcher=pt}create(e){const i=this._createHostElement(),s=this._createPaneElement(i),o=this._createPortalOutlet(s),u=new ry(e);return u.direction=u.direction||this._directionality.value,new jH(o,i,s,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+YH++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(xd)),new bH(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(mn(BH),mn(Rg),mn(rl),mn(GH),mn(HH),mn(hs),mn(Vi),mn(Ti),mn(ul),mn(dh),mn(UH))},n.\u0275prov=Nn({token:n,factory:n.\u0275fac}),n})();const QH=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],FI=new mi("cdk-connected-overlay-scroll-strategy");let ZH=(()=>{class n{constructor(e){this.elementRef=e}}return n.\u0275fac=function(e){return new(e||n)(Jt(ki))},n.\u0275dir=Tt({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),n})(),BI=(()=>{class n{constructor(e,i,s,o,u){this._overlay=e,this._dir=u,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=C.EMPTY,this._attachSubscription=C.EMPTY,this._detachSubscription=C.EMPTY,this._positionSubscription=C.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new Yi,this.positionChange=new Yi,this.attach=new Yi,this.detach=new Yi,this.overlayKeydown=new Yi,this.overlayOutsideClick=new Yi,this._templatePortal=new Ig(i,s),this._scrollStrategyFactory=o,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=Ds(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=Ds(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=Ds(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=Ds(e)}get push(){return this._push}set push(e){this._push=Ds(e)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=QH);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!Xl(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new ry({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){const i=this.positions.map(s=>({originX:s.originX,originY:s.originY,overlayX:s.overlayX,overlayY:s.overlayY,offsetX:s.offsetX||this.offsetX,offsetY:s.offsetY||this.offsetY,panelClass:s.panelClass||void 0}));return e.setOrigin(this.origin.elementRef).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this.origin.elementRef);return this._updatePositionStrategy(e),e}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function(n,t=!1){return e=>e.lift(new wH(n,t))}(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(Jt(Bd),Jt(xr),Jt(er),Jt(FI),Jt(ul,8))},n.\u0275dir=Tt({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"],positions:["cdkConnectedOverlayPositions","positions"],origin:["cdkConnectedOverlayOrigin","origin"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[Qi]}),n})();const JH={provide:FI,deps:[Bd],useFactory:function(n){return()=>n.scrollStrategies.reposition()}};let VI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=et({type:n}),n.\u0275inj=si({providers:[Bd,JH],imports:[[Mg,iy,wI],wI]}),n})();class e9{constructor(t){this.total=t}call(t,e){return e.subscribe(new t9(t,this.total))}}class t9 extends p{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}let ay=(()=>{class n{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Nn({factory:function(){return new n},token:n,providedIn:"root"}),n})(),WI=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=Zl(e);return new m(s=>{const u=this._observeElement(i).subscribe(s);return()=>{u.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new le,s=this._mutationObserverFactory.create(o=>i.next(o));s&&s.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:s,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:s}=this._observedElements.get(e);i&&i.disconnect(),s.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(mn(ay))},n.\u0275prov=Nn({factory:function(){return new n(mn(ay))},token:n,providedIn:"root"}),n})(),HI=(()=>{class n{constructor(e,i,s){this._contentObserver=e,this._elementRef=i,this._ngZone=s,this.event=new Yi,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=Ds(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=ra(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(Q0(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){var e;null===(e=this._currentSubscription)||void 0===e||e.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(Jt(WI),Jt(ki),Jt(Vi))},n.\u0275dir=Tt({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),ly=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=et({type:n}),n.\u0275inj=si({providers:[ay]}),n})();class zI{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new le,this._typeaheadSubscription=C.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new le,this.change=new le,t instanceof Dd&&t.changes.subscribe(e=>{if(this._activeItem){const s=e.toArray().indexOf(this._activeItem);s>-1&&s!==this._activeItemIndex&&(this._activeItemIndex=s)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Uo(e=>this._pressedLetters.push(e)),Q0(t),To(()=>this._pressedLetters.length>0),N(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let s=1;s<i.length+1;s++){const o=(this._activeItemIndex+s)%i.length,u=i[o];if(!this._skipPredicateFn(u)&&0===u.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,s=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!t[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&s){this.setNextItemActive();break}return;case 38:if(this._vertical&&s){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&s){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&s){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&s){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&s){this.setLastItemActive();break}return;default:return void((s||Xl(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t),s=e[i];this._activeItem=null==s?null:s,this._activeItemIndex=i}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const s=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[s]))return void this.setActiveItem(s)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof Dd?this._items.toArray():this._items}}class s9 extends zI{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class KI extends zI{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let $I=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function(n){try{return n.frameElement}catch(t){return null}}(function(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===YI(i)||!this.isVisible(i)))return!1;let s=e.nodeName.toLowerCase(),o=YI(e);return e.hasAttribute("contenteditable")?-1!==o:!("iframe"===s||"object"===s||this._platform.WEBKIT&&this._platform.IOS&&!function(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===s?!!e.hasAttribute("controls")&&-1!==o:"video"===s?-1!==o&&(null!==o||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function(n){return!function(n){return function(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function(n){return function(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||GI(n))}(e)&&!this.isDisabled(e)&&((null==i?void 0:i.ignoreVisibility)||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(mn(Gs))},n.\u0275prov=Nn({factory:function(){return new n(mn(Gs))},token:n,providedIn:"root"}),n})();function GI(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return"-32768"!=t&&!(!t||isNaN(parseInt(t,10)))}function YI(n){if(!GI(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class m9{constructor(t,e,i,s,o=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=s,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);for(let i=0;i<e.length;i++)e[i].hasAttribute(`cdk-focus-${t}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[i]):e[i].hasAttribute(`cdk-focus-region-${t}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[i]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(e.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",e),!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return null==i||i.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let i=0;i<e.length;i++){let s=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(s)return s}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let i=e.length-1;i>=0;i--){let s=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(s)return s}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(Ir(1)).subscribe(t)}}let QI=(()=>{class n{constructor(e,i,s){this._checker=e,this._ngZone=i,this._document=s}create(e,i=!1){return new m9(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(mn($I),mn(Vi),mn(Ti))},n.\u0275prov=Nn({factory:function(){return new n(mn($I),mn(Vi),mn(Ti))},token:n,providedIn:"root"}),n})();function ZI(n){return 0===n.offsetX&&0===n.offsetY}function XI(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}"undefined"!=typeof Element&&Element;const JI=new mi("cdk-input-modality-detector-options"),b9={ignoreKeys:[18,17,224,91,16]},wh=r_({passive:!0,capture:!0});let eN=(()=>{class n{constructor(e,i,s,o){this._platform=e,this._mostRecentTarget=null,this._modality=new sa(null),this._lastTouchMs=0,this._onKeydown=u=>{var x,H;(null===(H=null===(x=this._options)||void 0===x?void 0:x.ignoreKeys)||void 0===H?void 0:H.some(se=>se===u.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=bh(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(ZI(u)?"keyboard":"mouse"),this._mostRecentTarget=bh(u))},this._onTouchstart=u=>{XI(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=bh(u))},this._options=Object.assign(Object.assign({},b9),o),this.modalityDetected=this._modality.pipe(t=>t.lift(new e9(1))),this.modalityChanged=this.modalityDetected.pipe(i_()),e.isBrowser&&i.runOutsideAngular(()=>{s.addEventListener("keydown",this._onKeydown,wh),s.addEventListener("mousedown",this._onMousedown,wh),s.addEventListener("touchstart",this._onTouchstart,wh)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){!this._platform.isBrowser||(document.removeEventListener("keydown",this._onKeydown,wh),document.removeEventListener("mousedown",this._onMousedown,wh),document.removeEventListener("touchstart",this._onTouchstart,wh))}}return n.\u0275fac=function(e){return new(e||n)(mn(Gs),mn(Vi),mn(Ti),mn(JI,8))},n.\u0275prov=Nn({factory:function(){return new n(mn(Gs),mn(Vi),mn(Ti),mn(JI,8))},token:n,providedIn:"root"}),n})();const tN=new mi("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),nN=new mi("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let iN=(()=>{class n{constructor(e,i,s,o){this._ngZone=i,this._defaultOptions=o,this._document=s,this._liveElement=e||this._createLiveElement()}announce(e,...i){const s=this._defaultOptions;let o,u;return 1===i.length&&"number"==typeof i[0]?u=i[0]:[o,u]=i,this.clear(),clearTimeout(this._previousTimeout),o||(o=s&&s.politeness?s.politeness:"polite"),null==u&&s&&(u=s.duration),this._liveElement.setAttribute("aria-live",o),this._ngZone.runOutsideAngular(()=>new Promise(x=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,x(),"number"==typeof u&&(this._previousTimeout=setTimeout(()=>this.clear(),u))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),s=this._document.createElement("div");for(let o=0;o<i.length;o++)i[o].parentNode.removeChild(i[o]);return s.classList.add(e),s.classList.add("cdk-visually-hidden"),s.setAttribute("aria-atomic","true"),s.setAttribute("aria-live","polite"),this._document.body.appendChild(s),s}}return n.\u0275fac=function(e){return new(e||n)(mn(tN,8),mn(Vi),mn(Ti),mn(nN,8))},n.\u0275prov=Nn({factory:function(){return new n(mn(tN,8),mn(Vi),mn(Ti),mn(nN,8))},token:n,providedIn:"root"}),n})();const sN=new mi("cdk-focus-monitor-default-options"),h_=r_({passive:!0,capture:!0});let Vd=(()=>{class n{constructor(e,i,s,o,u){this._ngZone=e,this._platform=i,this._inputModalityDetector=s,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new le,this._rootNodeFocusAndBlurListener=x=>{const H=bh(x),se="focus"===x.type?this._onFocus:this._onBlur;for(let Re=H;Re;Re=Re.parentElement)se.call(this,x,Re)},this._document=o,this._detectionMode=(null==u?void 0:u.detectionMode)||0}monitor(e,i=!1){const s=Zl(e);if(!this._platform.isBrowser||1!==s.nodeType)return Fi(null);const o=function(n){if(function(){if(null==X0){const n="undefined"!=typeof document?document.head:null;X0=!(!n||!n.createShadowRoot&&!n.attachShadow)}return X0}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(s)||this._getDocument(),u=this._elementInfo.get(s);if(u)return i&&(u.checkChildren=!0),u.subject;const x={checkChildren:i,subject:new le,rootNode:o};return this._elementInfo.set(s,x),this._registerGlobalListeners(x),x.subject}stopMonitoring(e){const i=Zl(e),s=this._elementInfo.get(i);s&&(s.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(s))}focusVia(e,i,s){const o=Zl(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([x,H])=>this._originChanged(x,i,H)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(s))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(e,i,s){s?e.classList.add(i):e.classList.remove(i)}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,i){this._toggleClass(e,"cdk-focused",!!i),this._toggleClass(e,"cdk-touch-focused","touch"===i),this._toggleClass(e,"cdk-keyboard-focused","keyboard"===i),this._toggleClass(e,"cdk-mouse-focused","mouse"===i),this._toggleClass(e,"cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const s=this._elementInfo.get(i),o=bh(e);!s||!s.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),s)}_onBlur(e,i){const s=this._elementInfo.get(i);!s||s.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(s.subject,null))}_emitOrigin(e,i){this._ngZone.run(()=>e.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,s=this._rootNodeFocusListenerCount.get(i)||0;s||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,h_),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,h_)}),this._rootNodeFocusListenerCount.set(i,s+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(co(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const s=this._rootNodeFocusListenerCount.get(i);s>1?this._rootNodeFocusListenerCount.set(i,s-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,h_),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,h_),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,s){this._setClasses(e,i),this._emitOrigin(s.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((s,o)=>{(o===e||s.checkChildren&&o.contains(e))&&i.push([o,s])}),i}}return n.\u0275fac=function(e){return new(e||n)(mn(Vi),mn(Gs),mn(eN),mn(Ti,8),mn(sN,8))},n.\u0275prov=Nn({factory:function(){return new n(mn(Vi),mn(Gs),mn(eN),mn(Ti,8),mn(sN,8))},token:n,providedIn:"root"}),n})();const oN="cdk-high-contrast-black-on-white",rN="cdk-high-contrast-white-on-black",cy="cdk-high-contrast-active";let aN=(()=>{class n{constructor(e,i){this._platform=e,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,s=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(s&&s.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(e),o){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(cy),e.remove(oN),e.remove(rN),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(e.add(cy),e.add(oN)):2===i&&(e.add(cy),e.add(rN))}}}return n.\u0275fac=function(e){return new(e||n)(mn(Gs),mn(Ti))},n.\u0275prov=Nn({factory:function(){return new n(mn(Gs),mn(Ti))},token:n,providedIn:"root"}),n})();const lN=new xc("12.2.0");class cN{}const Jl="*";function Sh(n,t){return{type:7,name:n,definitions:t,options:{}}}function Wd(n,t=null){return{type:4,styles:t,timings:n}}function dN(n,t=null){return{type:2,steps:n,options:t}}function sr(n){return{type:6,styles:n,offset:null}}function hl(n,t,e){return{type:0,name:n,styles:t,options:e}}function kc(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function S9(n=null){return{type:9,options:n}}function E9(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function uN(n){Promise.resolve(null).then(n)}class Eh{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){uN(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class hN{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,s=0;const o=this.players.length;0==o?uN(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++e==o&&this._onFinish()}),u.onDestroy(()=>{++i==o&&this._onDestroy()}),u.onStart(()=>{++s==o&&this._onStart()})}),this.totalTime=this.players.reduce((u,x)=>Math.max(u,x.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const s=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(s)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function fN(){return"undefined"!=typeof window&&void 0!==window.document}function uy(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Fc(n){switch(n.length){case 0:return new Eh;case 1:return n[0];default:return new hN(n)}}function gN(n,t,e,i,s={},o={}){const u=[],x=[];let H=-1,se=null;if(i.forEach(Re=>{const it=Re.offset,pt=it==H,xt=pt&&se||{};Object.keys(Re).forEach(Bt=>{let cn=Bt,rn=Re[Bt];if("offset"!==Bt)switch(cn=t.normalizePropertyName(cn,u),rn){case"!":rn=s[Bt];break;case Jl:rn=o[Bt];break;default:rn=t.normalizeStyleValue(Bt,cn,rn,u)}xt[cn]=rn}),pt||x.push(xt),se=xt,H=it}),u.length){const Re="\n - ";throw new Error(`Unable to animate due to the following errors:${Re}${u.join(Re)}`)}return x}function hy(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&fy(e,"start",n)));break;case"done":n.onDone(()=>i(e&&fy(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&fy(e,"destroy",n)))}}function fy(n,t,e){const i=e.totalTime,o=gy(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==i?n.totalTime:i,!!e.disabled),u=n._data;return null!=u&&(o._data=u),o}function gy(n,t,e,i,s="",o=0,u){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:s,totalTime:o,disabled:!!u}}function Hr(n,t,e){let i;return n instanceof Map?(i=n.get(t),i||n.set(t,i=e)):(i=n[t],i||(i=n[t]=e)),i}function mN(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let my=(n,t)=>!1,py=(n,t)=>!1,pN=(n,t,e)=>[];const _N=uy();(_N||"undefined"!=typeof Element)&&(my=fN()?(n,t)=>{for(;t&&t!==document.documentElement;){if(t===n)return!0;t=t.parentNode||t.host}return!1}:(n,t)=>n.contains(t),py=(()=>{if(_N||Element.prototype.matches)return(n,t)=>n.matches(t);{const n=Element.prototype,t=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;return t?(e,i)=>t.apply(e,[i]):py}})(),pN=(n,t,e)=>{let i=[];if(e){const s=n.querySelectorAll(t);for(let o=0;o<s.length;o++)i.push(s[o])}else{const s=n.querySelector(t);s&&i.push(s)}return i});let Hd=null,vN=!1;function _y(n){Hd||(Hd=("undefined"!=typeof document?document.body:null)||{},vN=!!Hd.style&&"WebkitAppearance"in Hd.style);let t=!0;return Hd.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Hd.style,!t&&vN&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Hd.style)),t}const vy=py,Cy=my,by=pN;function CN(n){const t={};return Object.keys(n).forEach(e=>{const i=e.replace(/([a-z])([A-Z])/g,"$1-$2");t[i]=n[e]}),t}let bN=(()=>{class n{validateStyleProperty(e){return _y(e)}matchesElement(e,i){return vy(e,i)}containsElement(e,i){return Cy(e,i)}query(e,i,s){return by(e,i,s)}computeStyle(e,i,s){return s||""}animate(e,i,s,o,u,x=[],H){return new Eh(s,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Nn({token:n,factory:n.\u0275fac}),n})();class f_{}f_.NOOP=new bN;const yy="ng-enter",g_="ng-leave",m_="ng-trigger",p_=".ng-trigger",wN="ng-animating",wy=".ng-animating";function Ud(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Sy(parseFloat(t[1]),t[2])}function Sy(n,t){switch(t){case"s":return 1e3*n;default:return n}}function __(n,t,e){return n.hasOwnProperty("duration")?n:function(n,t,e){let s,o=0,u="";if("string"==typeof n){const x=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===x)return t.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};s=Sy(parseFloat(x[1]),x[2]);const H=x[3];null!=H&&(o=Sy(parseFloat(H),x[4]));const se=x[5];se&&(u=se)}else s=n;if(!e){let x=!1,H=t.length;s<0&&(t.push("Duration values below 0 are not allowed for this animation step."),x=!0),o<0&&(t.push("Delay values below 0 are not allowed for this animation step."),x=!0),x&&t.splice(H,0,`The provided timing value "${n}" is invalid.`)}return{duration:s,delay:o,easing:u}}(n,t,e)}function Dh(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function Bc(n,t,e={}){if(t)for(let i in n)e[i]=n[i];else Dh(n,e);return e}function EN(n,t,e){return e?t+":"+e+";":""}function DN(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=EN(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=EN(0,A9(e),n.style[e]));n.setAttribute("style",t)}function fl(n,t,e){n.style&&(Object.keys(t).forEach(i=>{const s=Dy(i);e&&!e.hasOwnProperty(i)&&(e[i]=n.style[s]),n.style[s]=t[i]}),uy()&&DN(n))}function jd(n,t){n.style&&(Object.keys(t).forEach(e=>{const i=Dy(e);n.style[i]=""}),uy()&&DN(n))}function Og(n){return Array.isArray(n)?1==n.length?n[0]:dN(n):n}const Ey=new RegExp("{{\\s*(.+?)\\s*}}","g");function LN(n){let t=[];if("string"==typeof n){let e;for(;e=Ey.exec(n);)t.push(e[1]);Ey.lastIndex=0}return t}function v_(n,t,e){const i=n.toString(),s=i.replace(Ey,(o,u)=>{let x=t[u];return t.hasOwnProperty(u)||(e.push(`Please provide a value for the animation param ${u}`),x=""),x.toString()});return s==i?n:s}function C_(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const T9=/-+([a-z0-9])/g;function Dy(n){return n.replace(T9,(...t)=>t[1].toUpperCase())}function A9(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function xN(n,t){return 0===n||0===t}function MN(n,t,e){const i=Object.keys(e);if(i.length&&t.length){let o=t[0],u=[];if(i.forEach(x=>{o.hasOwnProperty(x)||u.push(x),o[x]=e[x]}),u.length)for(var s=1;s<t.length;s++){let x=t[s];u.forEach(function(H){x[H]=Ly(n,H)})}}return t}function Ur(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function Ly(n,t){return window.getComputedStyle(n)[t]}function R9(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function(n,t,e){if(":"==n[0]){const H=function(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,e);if("function"==typeof H)return void t.push(H);n=H}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(`The provided transition expression "${n}" is not supported`),t;const s=i[1],o=i[2],u=i[3];t.push(IN(s,u));"<"==o[0]&&!("*"==s&&"*"==u)&&t.push(IN(u,s))}(i,e,t)):e.push(n),e}const y_=new Set(["true","1"]),w_=new Set(["false","0"]);function IN(n,t){const e=y_.has(n)||w_.has(n),i=y_.has(t)||w_.has(t);return(s,o)=>{let u="*"==n||n==s,x="*"==t||t==o;return!u&&e&&"boolean"==typeof s&&(u=s?y_.has(n):w_.has(n)),!x&&i&&"boolean"==typeof o&&(x=o?y_.has(t):w_.has(t)),u&&x}}const k9=new RegExp("s*:selfs*,?","g");function xy(n,t,e){return new F9(n).build(t,e)}class F9{constructor(t){this._driver=t}build(t,e){const i=new W9(e);return this._resetContextStyleTimingState(i),Ur(this,Og(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,s=e.depCount=0;const o=[],u=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(x=>{if(this._resetContextStyleTimingState(e),0==x.type){const H=x,se=H.name;se.toString().split(/\s*,\s*/).forEach(Re=>{H.name=Re,o.push(this.visitState(H,e))}),H.name=se}else if(1==x.type){const H=this.visitTransition(x,e);i+=H.queryCount,s+=H.depCount,u.push(H)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:o,transitions:u,queryCount:i,depCount:s,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),s=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,u=s||{};if(i.styles.forEach(x=>{if(S_(x)){const H=x;Object.keys(H).forEach(se=>{LN(H[se]).forEach(Re=>{u.hasOwnProperty(Re)||o.add(Re)})})}}),o.size){const x=C_(o.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${x.join(", ")}`)}}return{type:0,name:t.name,style:i,options:s?{params:s}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Ur(this,Og(t.animation),e);return{type:1,matchers:R9(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:zd(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Ur(this,i,e)),options:zd(t.options)}}visitGroup(t,e){const i=e.currentTime;let s=0;const o=t.steps.map(u=>{e.currentTime=i;const x=Ur(this,u,e);return s=Math.max(s,e.currentTime),x});return e.currentTime=s,{type:3,steps:o,options:zd(t.options)}}visitAnimate(t,e){const i=function(n,t){let e=null;if(n.hasOwnProperty("duration"))e=n;else if("number"==typeof n)return My(__(n,t).duration,0,"");const i=n;if(i.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=My(0,0,"");return o.dynamic=!0,o.strValue=i,o}return e=e||__(i,t),My(e.duration,e.delay,e.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let s,o=t.styles?t.styles:sr({});if(5==o.type)s=this.visitKeyframes(o,e);else{let u=t.styles,x=!1;if(!u){x=!0;const se={};i.easing&&(se.easing=i.easing),u=sr(se)}e.currentTime+=i.duration+i.delay;const H=this.visitStyle(u,e);H.isEmptyStep=x,s=H}return e.currentAnimateTimings=null,{type:4,timings:i,style:s,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(u=>{"string"==typeof u?u==Jl?i.push(u):e.errors.push(`The provided style string value ${u} is not allowed.`):i.push(u)}):i.push(t.styles);let s=!1,o=null;return i.forEach(u=>{if(S_(u)){const x=u,H=x.easing;if(H&&(o=H,delete x.easing),!s)for(let se in x)if(x[se].toString().indexOf("{{")>=0){s=!0;break}}}),{type:6,styles:i,easing:o,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let s=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(u=>{"string"!=typeof u&&Object.keys(u).forEach(x=>{if(!this._driver.validateStyleProperty(x))return void e.errors.push(`The provided animation property "${x}" is not a supported CSS property for animations`);const H=e.collectedStyles[e.currentQuerySelector],se=H[x];let Re=!0;se&&(o!=s&&o>=se.startTime&&s<=se.endTime&&(e.errors.push(`The CSS property "${x}" that exists between the times of "${se.startTime}ms" and "${se.endTime}ms" is also being animated in a parallel animation between the times of "${o}ms" and "${s}ms"`),Re=!1),o=se.startTime),Re&&(H[x]={startTime:o,endTime:s}),e.options&&function(n,t,e){const i=t.params||{},s=LN(n);s.length&&s.forEach(o=>{i.hasOwnProperty(o)||e.push(`Unable to resolve the local animation param ${o} in the given list of values`)})}(u[x],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),i;let o=0;const u=[];let x=!1,H=!1,se=0;const Re=t.steps.map(Pn=>{const Dn=this._makeStyleAst(Pn,e);let ri=null!=Dn.offset?Dn.offset:function(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(S_(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(S_(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(Dn.styles),pi=0;return null!=ri&&(o++,pi=Dn.offset=ri),H=H||pi<0||pi>1,x=x||pi<se,se=pi,u.push(pi),Dn});H&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),x&&e.errors.push("Please ensure that all keyframe offsets are in order");const it=t.steps.length;let pt=0;o>0&&o<it?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==o&&(pt=1/(it-1));const xt=it-1,Bt=e.currentTime,cn=e.currentAnimateTimings,rn=cn.duration;return Re.forEach((Pn,Dn)=>{const ri=pt>0?Dn==xt?1:pt*Dn:u[Dn],pi=ri*rn;e.currentTime=Bt+cn.delay+pi,cn.duration=pi,this._validateStyleAst(Pn,e),Pn.offset=ri,i.styles.push(Pn)}),i}visitReference(t,e){return{type:8,animation:Ur(this,Og(t.animation),e),options:zd(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:zd(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:zd(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,s=t.options||{};e.queryCount++,e.currentQuery=t;const[o,u]=function(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(k9,"")),[n=n.replace(/@\*/g,p_).replace(/@\w+/g,e=>p_+"-"+e.substr(1)).replace(/:animating/g,wy),t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,Hr(e.collectedStyles,e.currentQuerySelector,{});const x=Ur(this,Og(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:o,limit:s.limit||0,optional:!!s.optional,includeSelf:u,animation:x,originalSelector:t.selector,options:zd(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:__(t.timings,e.errors,!0);return{type:12,animation:Ur(this,Og(t.animation),e),timings:i,options:null}}}class W9{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function S_(n){return!Array.isArray(n)&&"object"==typeof n}function zd(n){return n?(n=Dh(n)).params&&(n.params=function(n){return n?Dh(n):null}(n.params)):n={},n}function My(n,t,e){return{duration:n,delay:t,easing:e}}function Iy(n,t,e,i,s,o,u=null,x=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:s,delay:o,totalTime:s+o,easing:u,subTimeline:x}}class E_{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const K9=new RegExp(":enter","g"),G9=new RegExp(":leave","g");function Ny(n,t,e,i,s,o={},u={},x,H,se=[]){return(new Y9).buildKeyframes(n,t,e,i,s,o,u,x,H,se)}class Y9{buildKeyframes(t,e,i,s,o,u,x,H,se,Re=[]){se=se||new E_;const it=new Ty(t,e,se,s,o,Re,[]);it.options=H,it.currentTimeline.setStyles([u],null,it.errors,H),Ur(this,i,it);const pt=it.timelines.filter(xt=>xt.containsAnimation());if(pt.length&&Object.keys(x).length){const xt=pt[pt.length-1];xt.allowOnlyTimelineStyles()||xt.setStyles([x],null,it.errors,H)}return pt.length?pt.map(xt=>xt.buildKeyframes()):[Iy(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.consume(e.element);if(i){const s=e.createSubContext(t.options),o=e.currentTimeline.currentTime,u=this._visitSubInstructions(i,s,s.options);o!=u&&e.transformIntoNewTimeline(u)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const u=null!=i.duration?Ud(i.duration):null,x=null!=i.delay?Ud(i.delay):null;return 0!==u&&t.forEach(H=>{const se=e.appendInstructionToTimeline(H,u,x);o=Math.max(o,se.duration+se.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),Ur(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let s=e;const o=t.options;if(o&&(o.params||o.delay)&&(s=e.createSubContext(o),s.transformIntoNewTimeline(),null!=o.delay)){6==s.previousNode.type&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=D_);const u=Ud(o.delay);s.delayNextStep(u)}t.steps.length&&(t.steps.forEach(u=>Ur(this,u,s)),s.currentTimeline.applyStylesToKeyframe(),s.subContextCount>i&&s.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let s=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?Ud(t.options.delay):0;t.steps.forEach(u=>{const x=e.createSubContext(t.options);o&&x.delayNextStep(o),Ur(this,u,x),s=Math.max(s,x.currentTimeline.currentTime),i.push(x.currentTimeline)}),i.forEach(u=>e.currentTimeline.mergeTimelineCollectedStyles(u)),e.transformIntoNewTimeline(s),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return __(e.params?v_(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),s=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),s.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),s.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,s=e.currentAnimateTimings;!s&&i.getCurrentStyleProperties().length&&i.forwardFrame();const o=s&&s.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,s=e.currentTimeline.duration,o=i.duration,x=e.createSubContext().currentTimeline;x.easing=i.easing,t.styles.forEach(H=>{x.forwardTime((H.offset||0)*o),x.setStyles(H.styles,H.easing,e.errors,e.options),x.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(x),e.transformIntoNewTimeline(s+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,s=t.options||{},o=s.delay?Ud(s.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=D_);let u=i;const x=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!s.optional,e.errors);e.currentQueryTotal=x.length;let H=null;x.forEach((se,Re)=>{e.currentQueryIndex=Re;const it=e.createSubContext(t.options,se);o&&it.delayNextStep(o),se===e.element&&(H=it.currentTimeline),Ur(this,t.animation,it),it.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,it.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(u),H&&(e.currentTimeline.mergeTimelineCollectedStyles(H),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,s=e.currentTimeline,o=t.timings,u=Math.abs(o.duration),x=u*(e.currentQueryTotal-1);let H=u*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":H=x-H;break;case"full":H=i.currentStaggerTime}const Re=e.currentTimeline;H&&Re.delayNextStep(H);const it=Re.currentTime;Ur(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=s.currentTime-it+(s.startTime-i.currentTimeline.startTime)}}const D_={};class Ty{constructor(t,e,i,s,o,u,x,H){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=s,this._leaveClassName=o,this.errors=u,this.timelines=x,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=D_,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=H||new L_(this._driver,e,0),x.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let s=this.options;null!=i.duration&&(s.duration=Ud(i.duration)),null!=i.delay&&(s.delay=Ud(i.delay));const o=i.params;if(o){let u=s.params;u||(u=this.options.params={}),Object.keys(o).forEach(x=>{(!e||!u.hasOwnProperty(x))&&(u[x]=v_(o[x],u,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(s=>{i[s]=e[s]})}}return t}createSubContext(t=null,e,i){const s=e||this.element,o=new Ty(this._driver,s,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(s,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=D_,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const s={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},o=new Q9(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,s,t.stretchStartingKeyframe);return this.timelines.push(o),s}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,s,o,u){let x=[];if(s&&x.push(this.element),t.length>0){t=(t=t.replace(K9,"."+this._enterClassName)).replace(G9,"."+this._leaveClassName);let se=this._driver.query(this.element,t,1!=i);0!==i&&(se=i<0?se.slice(se.length+i,se.length):se.slice(0,i)),x.push(...se)}return!o&&0==x.length&&u.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),x}}class L_{constructor(t,e,i,s){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=s,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new L_(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||Jl,this._currentKeyframe[e]=Jl}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,s){e&&(this._previousKeyframe.easing=e);const o=s&&s.params||{},u=function(n,t){const e={};let i;return n.forEach(s=>{"*"===s?(i=i||Object.keys(t),i.forEach(o=>{e[o]=Jl})):Bc(s,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(u).forEach(x=>{const H=v_(u[x],o,i);this._pendingStyles[x]=H,this._localTimelineStyles.hasOwnProperty(x)||(this._backFill[x]=this._globalTimelineStyles.hasOwnProperty(x)?this._globalTimelineStyles[x]:Jl),this._updateStyle(x,H)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],s=t._styleSummary[e];(!i||s.time>i.time)&&this._updateStyle(e,s.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let s=[];this._keyframes.forEach((x,H)=>{const se=Bc(x,!0);Object.keys(se).forEach(Re=>{const it=se[Re];"!"==it?t.add(Re):it==Jl&&e.add(Re)}),i||(se.offset=H/this.duration),s.push(se)});const o=t.size?C_(t.values()):[],u=e.size?C_(e.values()):[];if(i){const x=s[0],H=Dh(x);x.offset=0,H.offset=1,s=[x,H]}return Iy(this.element,s,o,u,this.duration,this.startTime,this.easing,!1)}}class Q9 extends L_{constructor(t,e,i,s,o,u,x=!1){super(t,e,u.delay),this.keyframes=i,this.preStyleProps=s,this.postStyleProps=o,this._stretchStartingKeyframe=x,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:s}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],u=i+e,x=e/u,H=Bc(t[0],!1);H.offset=0,o.push(H);const se=Bc(t[0],!1);se.offset=AN(x),o.push(se);const Re=t.length-1;for(let it=1;it<=Re;it++){let pt=Bc(t[it],!1);pt.offset=AN((e+pt.offset*i)/u),o.push(pt)}i=u,e=0,s="",t=o}return Iy(this.element,t,this.preStyleProps,this.postStyleProps,i,e,s,!0)}}function AN(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class Ay{}class X9 extends Ay{normalizePropertyName(t,e){return Dy(t)}normalizeStyleValue(t,e,i,s){let o="";const u=i.toString().trim();if(J9[e]&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const x=i.match(/^[+-]?[\d\.]+([a-z]*)$/);x&&0==x[1].length&&s.push(`Please provide a CSS unit value for ${t}:${i}`)}return u+o}}const J9=(()=>function(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function RN(n,t,e,i,s,o,u,x,H,se,Re,it,pt){return{type:0,element:n,triggerName:t,isRemovalTransition:s,fromState:e,fromStyles:o,toState:i,toStyles:u,timelines:x,queriedElements:H,preStyleProps:se,postStyleProps:Re,totalTime:it,errors:pt}}const Ry={};class ON{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,s){return function(n,t,e,i,s){return n.some(o=>o(t,e,i,s))}(this.ast.matchers,t,e,i,s)}buildStyles(t,e,i){const s=this._stateStyles["*"],o=this._stateStyles[t],u=s?s.buildStyles(e,i):{};return o?o.buildStyles(e,i):u}build(t,e,i,s,o,u,x,H,se,Re){const it=[],pt=this.ast.options&&this.ast.options.params||Ry,Bt=this.buildStyles(i,x&&x.params||Ry,it),cn=H&&H.params||Ry,rn=this.buildStyles(s,cn,it),Pn=new Set,Dn=new Map,ri=new Map,pi="void"===s,Xi={params:Object.assign(Object.assign({},pt),cn)},Bs=Re?[]:Ny(t,e,this.ast.animation,o,u,Bt,rn,Xi,se,it);let Us=0;if(Bs.forEach(or=>{Us=Math.max(or.duration+or.delay,Us)}),it.length)return RN(e,this._triggerName,i,s,pi,Bt,rn,[],[],Dn,ri,Us,it);Bs.forEach(or=>{const rr=or.element,ec=Hr(Dn,rr,{});or.preStyleProps.forEach(Va=>ec[Va]=!0);const tc=Hr(ri,rr,{});or.postStyleProps.forEach(Va=>tc[Va]=!0),rr!==e&&Pn.add(rr)});const yr=C_(Pn.values());return RN(e,this._triggerName,i,s,pi,Bt,rn,Bs,yr,Dn,ri,Us)}}class tU{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},s=Dh(this.defaultParams);return Object.keys(t).forEach(o=>{const u=t[o];null!=u&&(s[o]=u)}),this.styles.styles.forEach(o=>{if("string"!=typeof o){const u=o;Object.keys(u).forEach(x=>{let H=u[x];H.length>1&&(H=v_(H,s,e));const se=this.normalizer.normalizePropertyName(x,e);H=this.normalizer.normalizeStyleValue(x,se,H,e),i[se]=H})}}),i}}class iU{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(s=>{this.states[s.name]=new tU(s.style,s.options&&s.options.params||{},i)}),PN(this.states,"true","1"),PN(this.states,"false","0"),e.transitions.forEach(s=>{this.transitionFactories.push(new ON(t,s,this.states))}),this.fallbackTransition=function(n,t,e){return new ON(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,x)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,s){return this.transitionFactories.find(u=>u.match(t,e,i,s))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function PN(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const oU=new E_;class rU{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],s=xy(this._driver,e,i);if(i.length)throw new Error(`Unable to build the animation due to the following errors: ${i.join("\n")}`);this._animations[t]=s}_buildPlayer(t,e,i){const s=t.element,o=gN(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(s,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const s=[],o=this._animations[t];let u;const x=new Map;if(o?(u=Ny(this._driver,e,o,yy,g_,{},{},i,oU,s),u.forEach(Re=>{const it=Hr(x,Re.element,{});Re.postStyleProps.forEach(pt=>it[pt]=null)})):(s.push("The requested animation doesn't exist or has already been destroyed"),u=[]),s.length)throw new Error(`Unable to create the animation due to the following errors: ${s.join("\n")}`);x.forEach((Re,it)=>{Object.keys(Re).forEach(pt=>{Re[pt]=this._driver.computeStyle(it,pt,Jl)})});const se=Fc(u.map(Re=>{const it=x.get(Re.element);return this._buildPlayer(Re,{},it)}));return this._playersById[t]=se,se.onDestroy(()=>this.destroy(t)),this.players.push(se),se}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,i,s){const o=gy(e,"","","");return hy(this._getPlayer(t),i,o,s),()=>{}}command(t,e,i,s){if("register"==i)return void this.register(t,s[0]);if("create"==i)return void this.create(t,e,s[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(s[0]));break;case"destroy":this.destroy(t)}}}const kN="ng-animate-queued",FN="ng-animate-disabled",BN=".ng-animate-disabled",dU=[],VN={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},uU={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},la="__ng_removed";class Oy{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function(n){return null!=n?n:null}(i?t.value:t),i){const o=Dh(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(s=>{null==i[s]&&(i[s]=e[s])})}}}const Pg="void",Py=new Oy(Pg);class hU{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,ca(e,this._hostClassName)}listen(t,e,i,s){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${i}" because the animation trigger "${e}" doesn't exist!`);if(null==i||0==i.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if(!function(n){return"start"==n||"done"==n}(i))throw new Error(`The provided animation trigger event "${i}" for the animation trigger "${e}" is not supported!`);const o=Hr(this._elementListeners,t,[]),u={name:e,phase:i,callback:s};o.push(u);const x=Hr(this._engine.statesByElement,t,{});return x.hasOwnProperty(e)||(ca(t,m_),ca(t,m_+"-"+e),x[e]=Py),()=>{this._engine.afterFlush(()=>{const H=o.indexOf(u);H>=0&&o.splice(H,1),this._triggers[e]||delete x[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,i,s=!0){const o=this._getTrigger(e),u=new ky(this.id,e,t);let x=this._engine.statesByElement.get(t);x||(ca(t,m_),ca(t,m_+"-"+e),this._engine.statesByElement.set(t,x={}));let H=x[e];const se=new Oy(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&H&&se.absorbOptions(H.options),x[e]=se,H||(H=Py),se.value!==Pg&&H.value===se.value){if(!function(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let s=0;s<e.length;s++){const o=e[s];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(H.params,se.params)){const cn=[],rn=o.matchStyles(H.value,H.params,cn),Pn=o.matchStyles(se.value,se.params,cn);cn.length?this._engine.reportError(cn):this._engine.afterFlush(()=>{jd(t,rn),fl(t,Pn)})}return}const pt=Hr(this._engine.playersByElement,t,[]);pt.forEach(cn=>{cn.namespaceId==this.id&&cn.triggerName==e&&cn.queued&&cn.destroy()});let xt=o.matchTransition(H.value,se.value,t,se.params),Bt=!1;if(!xt){if(!s)return;xt=o.fallbackTransition,Bt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:xt,fromState:H,toState:se,player:u,isFallbackTransition:Bt}),Bt||(ca(t,kN),u.onStart(()=>{Lh(t,kN)})),u.onDone(()=>{let cn=this.players.indexOf(u);cn>=0&&this.players.splice(cn,1);const rn=this._engine.playersByElement.get(t);if(rn){let Pn=rn.indexOf(u);Pn>=0&&rn.splice(Pn,1)}}),this.players.push(u),pt.push(u),u}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(s=>s.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,p_,!0);i.forEach(s=>{if(s[la])return;const o=this._engine.fetchNamespacesByElement(s);o.size?o.forEach(u=>u.triggerLeaveAnimation(s,e,!1,!0)):this.clearElementCache(s)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(s=>this.clearElementCache(s)))}triggerLeaveAnimation(t,e,i,s){const o=this._engine.statesByElement.get(t);if(o){const u=[];if(Object.keys(o).forEach(x=>{if(this._triggers[x]){const H=this.trigger(t,x,Pg,s);H&&u.push(H)}}),u.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),i&&Fc(u).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const s=new Set;e.forEach(o=>{const u=o.name;if(s.has(u))return;s.add(u);const H=this._triggers[u].fallbackTransition,se=i[u]||Py,Re=new Oy(Pg),it=new ky(this.id,u,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:u,transition:H,fromState:se,toState:Re,player:it,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let s=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)s=!0;else{let u=t;for(;u=u.parentNode;)if(i.statesByElement.get(u)){s=!0;break}}}if(this.prepareLeaveAnimationListeners(t),s)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[la];(!o||o===VN)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){ca(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const s=i.player;if(s.destroyed)return;const o=i.element,u=this._elementListeners.get(o);u&&u.forEach(x=>{if(x.name==i.triggerName){const H=gy(o,i.triggerName,i.fromState.value,i.toState.value);H._data=t,hy(i.player,x.phase,H,x.callback)}}),s.markedForDestroy?this._engine.afterFlush(()=>{s.destroy()}):e.push(i)}),this._queue=[],e.sort((i,s)=>{const o=i.transition.ast.depCount,u=s.transition.ast.depCount;return 0==o||0==u?o-u:this._engine.driver.containsElement(i.element,s.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class fU{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,o)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new hU(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList.length-1;if(i>=0){let s=!1;for(let o=i;o>=0;o--)if(this.driver.containsElement(this._namespaceList[o].hostElement,e)){this._namespaceList.splice(o+1,0,t),s=!0;break}s||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let s=this._namespaceLookup[t];s&&s.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const s=this._namespaceList.indexOf(i);s>=0&&this._namespaceList.splice(s,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const s=Object.keys(i);for(let o=0;o<s.length;o++){const u=i[s[o]].namespaceId;if(u){const x=this._fetchNamespace(u);x&&e.add(x)}}}return e}trigger(t,e,i,s){if(x_(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,s),!0}return!1}insertNode(t,e,i,s){if(!x_(e))return;const o=e[la];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const u=this.collectedLeaveElements.indexOf(e);u>=0&&this.collectedLeaveElements.splice(u,1)}if(t){const u=this._fetchNamespace(t);u&&u.insertNode(e,i)}s&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),ca(t,FN)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Lh(t,FN))}removeNode(t,e,i,s){if(x_(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,s):this.markElementAsRemoved(t,e,!1,s),i){const u=this.namespacesByHostElement.get(e);u&&u.id!==t&&u.removeNode(e,s)}}else this._onRemovalComplete(e,s)}markElementAsRemoved(t,e,i,s){this.collectedLeaveElements.push(e),e[la]={namespaceId:t,setForRemoval:s,hasAnimation:i,removedBeforeQueried:!1}}listen(t,e,i,s,o){return x_(e)?this._fetchNamespace(t).listen(e,i,s,o):()=>{}}_buildInstruction(t,e,i,s,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,s,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,p_,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,wy,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Fc(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[la];if(e&&e.setForRemoval){if(t[la]=VN,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,BN)&&this.markElementAsDisabled(t,!1),this.driver.query(t,BN,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,s)=>this._balanceNamespaceList(i,s)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)ca(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let s=0;s<i.length;s++)i[s]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Fc(e).onDone(()=>{i.forEach(s=>s())}):i.forEach(s=>s())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const i=new E_,s=[],o=new Map,u=[],x=new Map,H=new Map,se=new Map,Re=new Set;this.disabledNodes.forEach(Ei=>{Re.add(Ei);const Bi=this.driver.query(Ei,".ng-animate-queued",!0);for(let ss=0;ss<Bi.length;ss++)Re.add(Bi[ss])});const it=this.bodyNode,pt=Array.from(this.statesByElement.keys()),xt=UN(pt,this.collectedEnterElements),Bt=new Map;let cn=0;xt.forEach((Ei,Bi)=>{const ss=yy+cn++;Bt.set(Bi,ss),Ei.forEach(Ns=>ca(Ns,ss))});const rn=[],Pn=new Set,Dn=new Set;for(let Ei=0;Ei<this.collectedLeaveElements.length;Ei++){const Bi=this.collectedLeaveElements[Ei],ss=Bi[la];ss&&ss.setForRemoval&&(rn.push(Bi),Pn.add(Bi),ss.hasAnimation?this.driver.query(Bi,".ng-star-inserted",!0).forEach(Ns=>Pn.add(Ns)):Dn.add(Bi))}const ri=new Map,pi=UN(pt,Array.from(Pn));pi.forEach((Ei,Bi)=>{const ss=g_+cn++;ri.set(Bi,ss),Ei.forEach(Ns=>ca(Ns,ss))}),t.push(()=>{xt.forEach((Ei,Bi)=>{const ss=Bt.get(Bi);Ei.forEach(Ns=>Lh(Ns,ss))}),pi.forEach((Ei,Bi)=>{const ss=ri.get(Bi);Ei.forEach(Ns=>Lh(Ns,ss))}),rn.forEach(Ei=>{this.processLeaveNode(Ei)})});const Xi=[],Bs=[];for(let Ei=this._namespaceList.length-1;Ei>=0;Ei--)this._namespaceList[Ei].drainQueuedTransitions(e).forEach(ss=>{const Ns=ss.player,Bo=ss.element;if(Xi.push(Ns),this.collectedEnterElements.length){const pl=Bo[la];if(pl&&pl.setForMove)return void Ns.destroy()}const ml=!it||!this.driver.containsElement(it,Bo),jr=ri.get(Bo),jc=Bt.get(Bo),uo=this._buildInstruction(ss,i,jc,jr,ml);if(uo.errors&&uo.errors.length)Bs.push(uo);else{if(ml)return Ns.onStart(()=>jd(Bo,uo.fromStyles)),Ns.onDestroy(()=>fl(Bo,uo.toStyles)),void s.push(Ns);if(ss.isFallbackTransition)return Ns.onStart(()=>jd(Bo,uo.fromStyles)),Ns.onDestroy(()=>fl(Bo,uo.toStyles)),void s.push(Ns);uo.timelines.forEach(pl=>pl.stretchStartingKeyframe=!0),i.append(Bo,uo.timelines),u.push({instruction:uo,player:Ns,element:Bo}),uo.queriedElements.forEach(pl=>Hr(x,pl,[]).push(Ns)),uo.preStyleProps.forEach((pl,Yg)=>{const tv=Object.keys(pl);if(tv.length){let Xd=H.get(Yg);Xd||H.set(Yg,Xd=new Set),tv.forEach(Tw=>Xd.add(Tw))}}),uo.postStyleProps.forEach((pl,Yg)=>{const tv=Object.keys(pl);let Xd=se.get(Yg);Xd||se.set(Yg,Xd=new Set),tv.forEach(Tw=>Xd.add(Tw))})}});if(Bs.length){const Ei=[];Bs.forEach(Bi=>{Ei.push(`@${Bi.triggerName} has failed due to:\n`),Bi.errors.forEach(ss=>Ei.push(`- ${ss}\n`))}),Xi.forEach(Bi=>Bi.destroy()),this.reportError(Ei)}const Us=new Map,yr=new Map;u.forEach(Ei=>{const Bi=Ei.element;i.has(Bi)&&(yr.set(Bi,Bi),this._beforeAnimationBuild(Ei.player.namespaceId,Ei.instruction,Us))}),s.forEach(Ei=>{const Bi=Ei.element;this._getPreviousPlayers(Bi,!1,Ei.namespaceId,Ei.triggerName,null).forEach(Ns=>{Hr(Us,Bi,[]).push(Ns),Ns.destroy()})});const or=rn.filter(Ei=>zN(Ei,H,se)),rr=new Map;HN(rr,this.driver,Dn,se,Jl).forEach(Ei=>{zN(Ei,H,se)&&or.push(Ei)});const tc=new Map;xt.forEach((Ei,Bi)=>{HN(tc,this.driver,new Set(Ei),H,"!")}),or.forEach(Ei=>{const Bi=rr.get(Ei),ss=tc.get(Ei);rr.set(Ei,Object.assign(Object.assign({},Bi),ss))});const Va=[],Ah=[],Rh={};u.forEach(Ei=>{const{element:Bi,player:ss,instruction:Ns}=Ei;if(i.has(Bi)){if(Re.has(Bi))return ss.onDestroy(()=>fl(Bi,Ns.toStyles)),ss.disabled=!0,ss.overrideTotalTime(Ns.totalTime),void s.push(ss);let Bo=Rh;if(yr.size>1){let jr=Bi;const jc=[];for(;jr=jr.parentNode;){const uo=yr.get(jr);if(uo){Bo=uo;break}jc.push(jr)}jc.forEach(uo=>yr.set(uo,Bo))}const ml=this._buildAnimation(ss.namespaceId,Ns,Us,o,tc,rr);if(ss.setRealPlayer(ml),Bo===Rh)Va.push(ss);else{const jr=this.playersByElement.get(Bo);jr&&jr.length&&(ss.parentPlayer=Fc(jr)),s.push(ss)}}else jd(Bi,Ns.fromStyles),ss.onDestroy(()=>fl(Bi,Ns.toStyles)),Ah.push(ss),Re.has(Bi)&&s.push(ss)}),Ah.forEach(Ei=>{const Bi=o.get(Ei.element);if(Bi&&Bi.length){const ss=Fc(Bi);Ei.setRealPlayer(ss)}}),s.forEach(Ei=>{Ei.parentPlayer?Ei.syncPlayerEvents(Ei.parentPlayer):Ei.destroy()});for(let Ei=0;Ei<rn.length;Ei++){const Bi=rn[Ei],ss=Bi[la];if(Lh(Bi,g_),ss&&ss.hasAnimation)continue;let Ns=[];if(x.size){let ml=x.get(Bi);ml&&ml.length&&Ns.push(...ml);let jr=this.driver.query(Bi,wy,!0);for(let jc=0;jc<jr.length;jc++){let uo=x.get(jr[jc]);uo&&uo.length&&Ns.push(...uo)}}const Bo=Ns.filter(ml=>!ml.destroyed);Bo.length?_U(this,Bi,Bo):this.processLeaveNode(Bi)}return rn.length=0,Va.forEach(Ei=>{this.players.push(Ei),Ei.onDone(()=>{Ei.destroy();const Bi=this.players.indexOf(Ei);this.players.splice(Bi,1)}),Ei.play()}),Va}elementContainsData(t,e){let i=!1;const s=e[la];return s&&s.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,s,o){let u=[];if(e){const x=this.playersByQueriedElement.get(t);x&&(u=x)}else{const x=this.playersByElement.get(t);if(x){const H=!o||o==Pg;x.forEach(se=>{se.queued||!H&&se.triggerName!=s||u.push(se)})}}return(i||s)&&(u=u.filter(x=>!(i&&i!=x.namespaceId||s&&s!=x.triggerName))),u}_beforeAnimationBuild(t,e,i){const o=e.element,u=e.isRemovalTransition?void 0:t,x=e.isRemovalTransition?void 0:e.triggerName;for(const H of e.timelines){const se=H.element,Re=se!==o,it=Hr(i,se,[]);this._getPreviousPlayers(se,Re,u,x,e.toState).forEach(xt=>{const Bt=xt.getRealPlayer();Bt.beforeDestroy&&Bt.beforeDestroy(),xt.destroy(),it.push(xt)})}jd(o,e.fromStyles)}_buildAnimation(t,e,i,s,o,u){const x=e.triggerName,H=e.element,se=[],Re=new Set,it=new Set,pt=e.timelines.map(Bt=>{const cn=Bt.element;Re.add(cn);const rn=cn[la];if(rn&&rn.removedBeforeQueried)return new Eh(Bt.duration,Bt.delay);const Pn=cn!==H,Dn=function(n){const t=[];return jN(n,t),t}((i.get(cn)||dU).map(Us=>Us.getRealPlayer())).filter(Us=>!!Us.element&&Us.element===cn),ri=o.get(cn),pi=u.get(cn),Xi=gN(0,this._normalizer,0,Bt.keyframes,ri,pi),Bs=this._buildPlayer(Bt,Xi,Dn);if(Bt.subTimeline&&s&&it.add(cn),Pn){const Us=new ky(t,x,cn);Us.setRealPlayer(Bs),se.push(Us)}return Bs});se.forEach(Bt=>{Hr(this.playersByQueriedElement,Bt.element,[]).push(Bt),Bt.onDone(()=>function(n,t,e){let i;if(n instanceof Map){if(i=n.get(t),i){if(i.length){const s=i.indexOf(e);i.splice(s,1)}0==i.length&&n.delete(t)}}else if(i=n[t],i){if(i.length){const s=i.indexOf(e);i.splice(s,1)}0==i.length&&delete n[t]}return i}(this.playersByQueriedElement,Bt.element,Bt))}),Re.forEach(Bt=>ca(Bt,wN));const xt=Fc(pt);return xt.onDestroy(()=>{Re.forEach(Bt=>Lh(Bt,wN)),fl(H,e.toStyles)}),it.forEach(Bt=>{Hr(s,Bt,[]).push(xt)}),xt}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new Eh(t.duration,t.delay)}}class ky{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new Eh,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>hy(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Hr(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function x_(n){return n&&1===n.nodeType}function WN(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function HN(n,t,e,i,s){const o=[];e.forEach(H=>o.push(WN(H)));const u=[];i.forEach((H,se)=>{const Re={};H.forEach(it=>{const pt=Re[it]=t.computeStyle(se,it,s);(!pt||0==pt.length)&&(se[la]=uU,u.push(se))}),n.set(se,Re)});let x=0;return e.forEach(H=>WN(H,o[x++])),u}function UN(n,t){const e=new Map;if(n.forEach(x=>e.set(x,[])),0==t.length)return e;const s=new Set(t),o=new Map;function u(x){if(!x)return 1;let H=o.get(x);if(H)return H;const se=x.parentNode;return H=e.has(se)?se:s.has(se)?1:u(se),o.set(x,H),H}return t.forEach(x=>{const H=u(x);1!==H&&e.get(H).push(x)}),e}const M_="$$classes";function ca(n,t){if(n.classList)n.classList.add(t);else{let e=n[M_];e||(e=n[M_]={}),e[t]=!0}}function Lh(n,t){if(n.classList)n.classList.remove(t);else{let e=n[M_];e&&delete e[t]}}function _U(n,t,e){Fc(e).onDone(()=>n.processLeaveNode(t))}function jN(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof hN?jN(i.players,t):t.push(i)}}function zN(n,t,e){const i=e.get(n);if(!i)return!1;let s=t.get(n);return s?i.forEach(o=>s.add(o)):t.set(n,i),e.delete(n),!0}class I_{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(s,o)=>{},this._transitionEngine=new fU(t,e,i),this._timelineEngine=new rU(t,e,i),this._transitionEngine.onRemovalComplete=(s,o)=>this.onRemovalComplete(s,o)}registerTrigger(t,e,i,s,o){const u=t+"-"+s;let x=this._triggerCache[u];if(!x){const H=[],se=xy(this._driver,o,H);if(H.length)throw new Error(`The animation trigger "${s}" has failed to build due to the following errors:\n - ${H.join("\n - ")}`);x=function(n,t,e){return new iU(n,t,e)}(s,se,this._normalizer),this._triggerCache[u]=x}this._transitionEngine.registerTrigger(e,s,x)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,s){this._transitionEngine.insertNode(t,e,i,s)}onRemove(t,e,i,s){this._transitionEngine.removeNode(t,e,s||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,s){if("@"==i.charAt(0)){const[o,u]=mN(i);this._timelineEngine.command(o,e,u,s)}else this._transitionEngine.trigger(t,e,i,s)}listen(t,e,i,s,o){if("@"==i.charAt(0)){const[u,x]=mN(i);return this._timelineEngine.listen(u,e,x,o)}return this._transitionEngine.listen(t,e,i,s,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function KN(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=Fy(t[0]),t.length>1&&(i=Fy(t[t.length-1]))):t&&(e=Fy(t)),e||i?new xh(n,e,i):null}class xh{constructor(t,e,i){this._element=t,this._startStyles=e,this._endStyles=i,this._state=0;let s=xh.initialStylesByElement.get(t);s||xh.initialStylesByElement.set(t,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&fl(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(fl(this._element,this._initialStyles),this._endStyles&&(fl(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(xh.initialStylesByElement.delete(this._element),this._startStyles&&(jd(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(jd(this._element,this._endStyles),this._endStyles=null),fl(this._element,this._initialStyles),this._state=3)}}function Fy(n){let t=null;const e=Object.keys(n);for(let i=0;i<e.length;i++){const s=e[i];bU(s)&&(t=t||{},t[s]=n[s])}return t}function bU(n){return"display"===n||"position"===n}xh.initialStylesByElement=new WeakMap;const $N="animation",GN="animationend";class SU{constructor(t,e,i,s,o,u,x){this._element=t,this._name=e,this._duration=i,this._delay=s,this._easing=o,this._fillMode=u,this._onDoneFn=x,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=H=>this._handleCallback(H)}apply(){(function(n,t){const e=Vy(n,"").trim();let i=0;e.length&&(function(n,t){let e=0;for(let i=0;i<n.length;i++)","===n.charAt(i)&&e++;return e}(e)+1,t=`${e}, ${t}`),N_(n,"",t)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),ZN(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){YN(this._element,this._name,"paused")}resume(){YN(this._element,this._name,"running")}setPosition(t){const e=QN(this._element,this._name);this._position=t*this._duration,N_(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),i=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&i>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),ZN(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,t){const i=Vy(n,"").split(","),s=By(i,t);s>=0&&(i.splice(s,1),N_(n,"",i.join(",")))}(this._element,this._name))}}function YN(n,t,e){N_(n,"PlayState",e,QN(n,t))}function QN(n,t){const e=Vy(n,"");return e.indexOf(",")>0?By(e.split(","),t):By([e],t)}function By(n,t){for(let e=0;e<n.length;e++)if(n[e].indexOf(t)>=0)return e;return-1}function ZN(n,t,e){e?n.removeEventListener(GN,t):n.addEventListener(GN,t)}function N_(n,t,e,i){const s=$N+t;if(null!=i){const o=n.style[s];if(o.length){const u=o.split(",");u[i]=e,e=u.join(",")}}n.style[s]=e}function Vy(n,t){return n.style[$N+t]||""}class XN{constructor(t,e,i,s,o,u,x,H){this.element=t,this.keyframes=e,this.animationName=i,this._duration=s,this._delay=o,this._finalStyles=x,this._specialStyles=H,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=u||"linear",this.totalTime=s+o,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new SU(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(i=>{"offset"!=i&&(t[i]=e?this._finalStyles[i]:Ly(this.element,i))})}this.currentSnapshot=t}}class IU extends Eh{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=CN(e)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class qN{constructor(){this._count=0}validateStyleProperty(t){return _y(t)}matchesElement(t,e){return vy(t,e)}containsElement(t,e){return Cy(t,e)}query(t,e,i){return by(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,i){i=i.map(x=>CN(x));let s=`@keyframes ${e} {\n`,o="";i.forEach(x=>{o=" ";const H=parseFloat(x.offset);s+=`${o}${100*H}% {\n`,o+=" ",Object.keys(x).forEach(se=>{const Re=x[se];switch(se){case"offset":return;case"easing":return void(Re&&(s+=`${o}animation-timing-function: ${Re};\n`));default:return void(s+=`${o}${se}: ${Re};\n`)}}),s+=`${o}}\n`}),s+="}\n";const u=document.createElement("style");return u.textContent=s,u}animate(t,e,i,s,o,u=[],x){const H=u.filter(rn=>rn instanceof XN),se={};xN(i,s)&&H.forEach(rn=>{let Pn=rn.currentSnapshot;Object.keys(Pn).forEach(Dn=>se[Dn]=Pn[Dn])});const Re=function(n){let t={};return n&&(Array.isArray(n)?n:[n]).forEach(i=>{Object.keys(i).forEach(s=>{"offset"==s||"easing"==s||(t[s]=i[s])})}),t}(e=MN(t,e,se));if(0==i)return new IU(t,Re);const it="gen_css_kf_"+this._count++,pt=this.buildKeyframeElement(t,it,e);(function(n){var t;const e=null===(t=n.getRootNode)||void 0===t?void 0:t.call(n);return"undefined"!=typeof ShadowRoot&&e instanceof ShadowRoot?e:document.head})(t).appendChild(pt);const Bt=KN(t,e),cn=new XN(t,e,it,i,s,o,Re,Bt);return cn.onDestroy(()=>function(n){n.parentNode.removeChild(n)}(pt)),cn}}class tT{constructor(t,e,i,s){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=s,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:Ly(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class OU{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(nT().toString()),this._cssKeyframesDriver=new qN}validateStyleProperty(t){return _y(t)}matchesElement(t,e){return vy(t,e)}containsElement(t,e){return Cy(t,e)}query(t,e,i){return by(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,i,s,o,u=[],x){if(!x&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,i,s,o,u);const Re={duration:i,delay:s,fill:0==s?"both":"forwards"};o&&(Re.easing=o);const it={},pt=u.filter(Bt=>Bt instanceof tT);xN(i,s)&&pt.forEach(Bt=>{let cn=Bt.currentSnapshot;Object.keys(cn).forEach(rn=>it[rn]=cn[rn])});const xt=KN(t,e=MN(t,e=e.map(Bt=>Bc(Bt,!1)),it));return new tT(t,e,Re,xt)}}function nT(){return fN()&&Element.prototype.animate||{}}let kU=(()=>{class n extends cN{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:kn.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const s=Array.isArray(e)?dN(e):e;return iT(this._renderer,null,i,"register",[s]),new FU(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(mn(wd),mn(Ti))},n.\u0275prov=Nn({token:n,factory:n.\u0275fac}),n})();class FU extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new BU(this._id,t,e||{},this._renderer)}}class BU{constructor(t,e,i,s){this.id=t,this.element=e,this._renderer=s,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return iT(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function iT(n,t,e,i,s){return n.setProperty(t,`@@${e}:${i}`,s)}const sT="@.disabled";let VU=(()=>{class n{constructor(e,i,s){this.delegate=e,this.engine=i,this._zone=s,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,u)=>{u&&u.parentNode(o)&&u.removeChild(o.parentNode,o)}}createRenderer(e,i){const o=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let Re=this._rendererCache.get(o);return Re||(Re=new oT("",o,this.engine),this._rendererCache.set(o,Re)),Re}const u=i.id,x=i.id+"-"+this._currentId;this._currentId++,this.engine.register(x,e);const H=Re=>{Array.isArray(Re)?Re.forEach(H):this.engine.registerTrigger(u,x,e,Re.name,Re)};return i.data.animation.forEach(H),new WU(this,x,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,s){e>=0&&e<this._microtaskId?this._zone.run(()=>i(s)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[u,x]=o;u(x)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,s]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(mn(wd),mn(I_),mn(Vi))},n.\u0275prov=Nn({token:n,factory:n.\u0275fac}),n})();class oT{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?s=>e.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,s=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,s)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,s){this.delegate.setAttribute(t,e,i,s)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,s){this.delegate.setStyle(t,e,i,s)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==sT?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class WU extends oT{constructor(t,e,i,s){super(e,i,s),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==sT?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const s=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.substr(1),u="";return"@"!=o.charAt(0)&&([o,u]=function(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(o)),this.engine.listen(this.namespaceId,s,o,u,x=>{this.factory.scheduleListenerCallback(x._data||-1,i,x)})}return this.delegate.listen(t,e,i)}}let jU=(()=>{class n extends I_{constructor(e,i,s){super(e.body,i,s)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(mn(Ti),mn(f_),mn(Ay))},n.\u0275prov=Nn({token:n,factory:n.\u0275fac}),n})();const Ba=new mi("AnimationModuleType"),rT=[{provide:cN,useClass:kU},{provide:Ay,useFactory:function(){return new X9}},{provide:I_,useClass:jU},{provide:wd,useFactory:function(n,t,e){return new VU(n,t,e)},deps:[Pp,I_,Vi]}],aT=[{provide:f_,useFactory:function(){return"function"==typeof nT()?new OU:new qN}},{provide:Ba,useValue:"BrowserAnimations"},...rT],lT=[{provide:f_,useClass:bN},{provide:Ba,useValue:"NoopAnimations"},...rT];let GU=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?lT:aT}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=et({type:n}),n.\u0275inj=si({providers:aT,imports:[S0]}),n})();function ZU(n,t){if(1&n&&Es(0,"mat-pseudo-checkbox",4),2&n){const e=Co();Mi("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}function XU(n,t){if(1&n&&(ni(0,"span",5),gs(1),ii()),2&n){const e=Co();Di(1),bd("(",e.group.label,")")}}const JU=["*"],cT=new xc("12.2.0"),ej=new mi("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let $d,Fs=(()=>{class n{constructor(e,i,s){this._hasDoneGlobalChecks=!1,this._document=s,e._applyBodyHighContrastModeCssClasses(),this._sanityChecks=i,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const e=this._document.defaultView||window;return"object"==typeof e&&e?e:null}_checksAreEnabled(){return kb()&&!this._isTestEnv()}_isTestEnv(){const e=this._getWindow();return e&&(e.__karma__||e.jasmine)}_checkDoctypeIsDefined(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype)&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme||!this._document.body||"function"!=typeof getComputedStyle)return;const i=this._document.createElement("div");i.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(i);const s=getComputedStyle(i);s&&"none"!==s.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(i)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&cT.full!==lN.full&&console.warn("The Angular Material version ("+cT.full+") does not match the Angular CDK version ("+lN.full+").\nPlease ensure the versions of these two packages exactly match.")}}return n.\u0275fac=function(e){return new(e||n)(mn(aN),mn(ej,8),mn(Ti))},n.\u0275mod=et({type:n}),n.\u0275inj=si({imports:[[Mg],Mg]}),n})();function kg(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Ds(t)}}}function Fg(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function Kd(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Ds(t)}}}function Wy(n,t=0){return class extends n{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?ra(e):this.defaultTabIndex}}}function dT(n){return class extends n{constructor(...t){super(...t),this.stateChanges=new le,this.errorState=!1}updateErrorState(){const t=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==t&&(this.errorState=o,this.stateChanges.next())}}}try{$d="undefined"!=typeof Intl}catch(n){$d=!1}let Hy=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Nn({factory:function(){return new n},token:n,providedIn:"root"}),n})(),R_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=et({type:n}),n.\u0275inj=si({imports:[[Fs],Fs]}),n})();class hj{constructor(t,e,i){this._renderer=t,this.element=e,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const hT={enterDuration:225,exitDuration:150},zy=r_({passive:!0}),fT=["mousedown","touchstart"],gT=["mouseup","mouseleave","touchend","touchcancel"];class gj{constructor(t,e,i,s){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,s.isBrowser&&(this._containerElement=Zl(i))}fadeInRipple(t,e,i={}){const s=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=Object.assign(Object.assign({},hT),i.animation);i.centered&&(t=s.left+s.width/2,e=s.top+s.height/2);const u=i.radius||function(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),s=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+s*s)}(t,e,s),x=t-s.left,H=e-s.top,se=o.enterDuration,Re=document.createElement("div");Re.classList.add("mat-ripple-element"),Re.style.left=x-u+"px",Re.style.top=H-u+"px",Re.style.height=2*u+"px",Re.style.width=2*u+"px",null!=i.color&&(Re.style.backgroundColor=i.color),Re.style.transitionDuration=`${se}ms`,this._containerElement.appendChild(Re),function(n){window.getComputedStyle(n).getPropertyValue("opacity")}(Re),Re.style.transform="scale(1)";const it=new hj(this,Re,i);return it.state=0,this._activeRipples.add(it),i.persistent||(this._mostRecentTransientRipple=it),this._runTimeoutOutsideZone(()=>{const pt=it===this._mostRecentTransientRipple;it.state=1,!i.persistent&&(!pt||!this._isPointerDown)&&it.fadeOut()},se),it}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const i=t.element,s=Object.assign(Object.assign({},hT),t.config.animation);i.style.transitionDuration=`${s.exitDuration}ms`,i.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,i.parentNode.removeChild(i)},s.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Zl(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(fT))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(gT),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=ZI(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!XI(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,zy)})})}_removeTriggerEvents(){this._triggerElement&&(fT.forEach(t=>{this._triggerElement.removeEventListener(t,this,zy)}),this._pointerUpEventsRegistered&&gT.forEach(t=>{this._triggerElement.removeEventListener(t,this,zy)}))}}const _j=new mi("mat-ripple-global-options");let Gd=(()=>{class n{constructor(e,i,s,o,u){this._elementRef=e,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new gj(this,i,e,s)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,s){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,Object.assign(Object.assign({},this.rippleConfig),s)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return n.\u0275fac=function(e){return new(e||n)(Jt(ki),Jt(Vi),Jt(Gs),Jt(_j,8),Jt(Ba,8))},n.\u0275dir=Tt({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&As("mat-ripple-unbounded",i.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),n})(),O_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=et({type:n}),n.\u0275inj=si({imports:[[Fs,Dg],Fs]}),n})(),mT=(()=>{class n{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1}}return n.\u0275fac=function(e){return new(e||n)(Jt(Ba,8))},n.\u0275cmp=Wn({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(e,i){2&e&&As("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(e,i){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),n})(),Ky=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=et({type:n}),n.\u0275inj=si({imports:[[Fs]]}),n})();const $y=new mi("MAT_OPTION_PARENT_COMPONENT"),vj=kg(class{});let Cj=0,pT=(()=>{class n extends vj{constructor(e){var i;super(),this._labelId="mat-optgroup-label-"+Cj++,this._inert=null!==(i=null==e?void 0:e.inertGroups)&&void 0!==i&&i}}return n.\u0275fac=function(e){return new(e||n)(Jt($y,8))},n.\u0275dir=Tt({type:n,inputs:{label:"label"},features:[Pi]}),n})();const Gy=new mi("MatOptgroup");let bj=0;class yj{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let wj=(()=>{class n{constructor(e,i,s,o){this._element=e,this._changeDetectorRef=i,this._parent=s,this.group=o,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+bj++,this.onSelectionChange=new Yi,this._stateChanges=new le}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=Ds(e)}get disableRipple(){return this._parent&&this._parent.disableRipple}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,i){const s=this._getHostElement();"function"==typeof s.focus&&s.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!Xl(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue=e,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new yj(this,e))}}return n.\u0275fac=function(e){return new(e||n)(Jt(ki),Jt(qo),Jt(void 0),Jt(pT))},n.\u0275dir=Tt({type:n,inputs:{id:"id",disabled:"disabled",value:"value"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),_T=(()=>{class n extends wj{constructor(e,i,s,o){super(e,i,s,o)}}return n.\u0275fac=function(e){return new(e||n)(Jt(ki),Jt(qo),Jt($y,8),Jt(Gy,8))},n.\u0275cmp=Wn({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(e,i){1&e&&ds("click",function(){return i._selectViaInteraction()})("keydown",function(o){return i._handleKeydown(o)}),2&e&&(Lc("id",i.id),ws("tabindex",i._getTabIndex())("aria-selected",i._getAriaSelected())("aria-disabled",i.disabled.toString()),As("mat-selected",i.selected)("mat-option-multiple",i.multiple)("mat-active",i.active)("mat-option-disabled",i.disabled))},exportAs:["matOption"],features:[Pi],ngContentSelectors:JU,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(e,i){1&e&&(qs(),Vs(0,ZU,1,2,"mat-pseudo-checkbox",0),ni(1,"span",1),Gi(2),ii(),Vs(3,XU,2,1,"span",2),Es(4,"div",3)),2&e&&(Mi("ngIf",i.multiple),Di(3),Mi("ngIf",i.group&&i.group._inert),Di(1),Mi("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},directives:[Td,Gd,mT],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),n})();function vT(n,t,e){if(e.length){let i=t.toArray(),s=e.toArray(),o=0;for(let u=0;u<n+1;u++)i[u].group&&i[u].group===s[o]&&o++;return o}return 0}let Yy=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=et({type:n}),n.\u0275inj=si({imports:[[O_,uh,Fs,Ky]]}),n})();function Ej(n,t){}class Qy{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const Dj={dialogContainer:Sh("dialogContainer",[hl("void, exit",sr({opacity:0,transform:"scale(0.7)"})),hl("enter",sr({transform:"none"})),kc("* => enter",Wd("150ms cubic-bezier(0, 0, 0.2, 1)",sr({transform:"none",opacity:1}))),kc("* => void, * => exit",Wd("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",sr({opacity:0})))])};let Lj=(()=>{class n extends ny{constructor(e,i,s,o,u,x){super(),this._elementRef=e,this._focusTrapFactory=i,this._changeDetectorRef=s,this._config=u,this._focusMonitor=x,this._animationStateChanged=new Yi,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=H=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(H)),this._ariaLabelledBy=u.ariaLabelledBy||null,this._document=o}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const i=l_(),s=this._elementRef.nativeElement;(!i||i===this._document.body||i===s||s.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=l_())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=l_();return e===i||e.contains(i)}}return n.\u0275fac=function(e){return new(e||n)(Jt(ki),Jt(QI),Jt(qo),Jt(Ti,8),Jt(Qy),Jt(Vd))},n.\u0275dir=Tt({type:n,viewQuery:function(e,i){if(1&e&&ir(Ng,7),2&e){let s;ls(s=cs())&&(i._portalOutlet=s.first)}},features:[Pi]}),n})(),xj=(()=>{class n extends Lj{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:i}){"enter"===e?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:i})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:i}))}_onAnimationStart({toState:e,totalTime:i}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=to(n)))(i||n)}}(),n.\u0275cmp=Wn({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,i){1&e&&zC("@dialogContainer.start",function(o){return i._onAnimationStart(o)})("@dialogContainer.done",function(o){return i._onAnimationDone(o)}),2&e&&(Lc("id",i._id),ws("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),YC("@dialogContainer",i._state))},features:[Pi],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&Vs(0,Ej,0,0,"ng-template",0)},directives:[Ng],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[Dj.dialogContainer]}}),n})(),Mj=0;class P_{constructor(t,e,i="mat-dialog-"+Mj++){this._overlayRef=t,this._containerInstance=e,this.id=i,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new le,this._afterClosed=new le,this._beforeClosed=new le,this._state=0,e._id=i,e._animationStateChanged.pipe(To(s=>"opened"===s.state),Ir(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(To(s=>"closed"===s.state),Ir(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(To(s=>27===s.keyCode&&!this.disableClose&&!Xl(s))).subscribe(s=>{s.preventDefault(),Zy(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():Zy(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(To(e=>"closing"===e.state),Ir(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._overlayRef.updateSize({width:t,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function Zy(n,t,e){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=t),n.close(e)}const CT=new mi("MatDialogData"),Ij=new mi("mat-dialog-default-options"),bT=new mi("mat-dialog-scroll-strategy"),Tj={provide:bT,deps:[Bd],useFactory:function(n){return()=>n.scrollStrategies.block()}};let Aj=(()=>{class n{constructor(e,i,s,o,u,x,H,se,Re){this._overlay=e,this._injector=i,this._defaultOptions=s,this._parentDialog=o,this._overlayContainer=u,this._dialogRefConstructor=H,this._dialogContainerType=se,this._dialogDataToken=Re,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new le,this._afterOpenedAtThisLevel=new le,this._ariaHiddenElements=new Map,this.afterAllClosed=Bp(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Wr(void 0))),this._scrollStrategy=x}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,i){(i=function(n,t){return Object.assign(Object.assign({},t),n)}(i,this._defaultOptions||new Qy)).id&&this.getDialogById(i.id);const s=this._createOverlay(i),o=this._attachDialogContainer(s,i),u=this._attachDialogContent(e,o,s,i);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(u),u.afterClosed().subscribe(()=>this._removeOpenDialog(u)),this.afterOpened.next(u),o._initializeWithAttachedContent(),u}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const i=this._getOverlayConfig(e);return this._overlay.create(i)}_getOverlayConfig(e){const i=new ry({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachDialogContainer(e,i){const o=hs.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:Qy,useValue:i}]}),u=new ty(this._dialogContainerType,i.viewContainerRef,o,i.componentFactoryResolver);return e.attach(u).instance}_attachDialogContent(e,i,s,o){const u=new this._dialogRefConstructor(s,i,o.id);if(e instanceof xr)i.attachTemplatePortal(new Ig(e,null,{$implicit:o.data,dialogRef:u}));else{const x=this._createInjector(o,u,i),H=i.attachComponentPortal(new ty(e,o.viewContainerRef,x));u.componentInstance=H.instance}return u.updateSize(o.width,o.height).updatePosition(o.position),u}_createInjector(e,i,s){const o=e&&e.viewContainerRef&&e.viewContainerRef.injector,u=[{provide:this._dialogContainerType,useValue:s},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:i}];return e.direction&&(!o||!o.get(ul,null,st.Optional))&&u.push({provide:ul,useValue:{value:e.direction,change:Fi()}}),hs.create({parent:o||this._injector,providers:u})}_removeOpenDialog(e){const i=this.openDialogs.indexOf(e);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,o)=>{s?o.setAttribute("aria-hidden",s):o.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let s=i.length-1;s>-1;s--){let o=i[s];o!==e&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){return new(e||n)(Jt(Bd),Jt(hs),Jt(void 0),Jt(void 0),Jt(Rg),Jt(void 0),Jt(Tl),Jt(Tl),Jt(mi))},n.\u0275dir=Tt({type:n}),n})(),k_=(()=>{class n extends Aj{constructor(e,i,s,o,u,x,H){super(e,i,o,x,H,u,P_,xj,CT)}}return n.\u0275fac=function(e){return new(e||n)(mn(Bd),mn(hs),mn(dh,8),mn(Ij,8),mn(bT),mn(n,12),mn(Rg))},n.\u0275prov=Nn({token:n,factory:n.\u0275fac}),n})(),Pj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=et({type:n}),n.\u0275inj=si({providers:[k_,Tj],imports:[[VI,iy,Fs],Fs]}),n})();const kj=["underline"],Fj=["connectionContainer"],Bj=["inputContainer"],Vj=["label"];function Wj(n,t){1&n&&(zm(0),ni(1,"div",14),Es(2,"div",15),Es(3,"div",16),Es(4,"div",17),ii(),ni(5,"div",18),Es(6,"div",15),Es(7,"div",16),Es(8,"div",17),ii(),Km())}function Hj(n,t){1&n&&(ni(0,"div",19),Gi(1,1),ii())}function Uj(n,t){if(1&n&&(zm(0),Gi(1,2),ni(2,"span"),gs(3),ii(),Km()),2&n){const e=Co(2);Di(3),ol(e._control.placeholder)}}function jj(n,t){1&n&&Gi(0,3,["*ngSwitchCase","true"])}function zj(n,t){1&n&&(ni(0,"span",23),gs(1," *"),ii())}function Kj(n,t){if(1&n){const e=kf();ni(0,"label",20,21),ds("cdkObserveContent",function(){return _a(e),Co().updateOutlineGap()}),Vs(2,Uj,4,1,"ng-container",12),Vs(3,jj,1,0,"ng-content",12),Vs(4,zj,2,0,"span",22),ii()}if(2&n){const e=Co();As("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),Mi("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),ws("for",e._control.id)("aria-owns",e._control.id),Di(2),Mi("ngSwitchCase",!1),Di(1),Mi("ngSwitchCase",!0),Di(1),Mi("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function $j(n,t){1&n&&(ni(0,"div",24),Gi(1,4),ii())}function Gj(n,t){if(1&n&&(ni(0,"div",25,26),Es(2,"span",27),ii()),2&n){const e=Co();Di(2),As("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function Yj(n,t){1&n&&(ni(0,"div"),Gi(1,5),ii()),2&n&&Mi("@transitionMessages",Co()._subscriptAnimationState)}function Qj(n,t){if(1&n&&(ni(0,"div",31),gs(1),ii()),2&n){const e=Co(2);Mi("id",e._hintLabelId),Di(1),ol(e.hintLabel)}}function Zj(n,t){if(1&n&&(ni(0,"div",28),Vs(1,Qj,2,2,"div",29),Gi(2,6),Es(3,"div",30),Gi(4,7),ii()),2&n){const e=Co();Mi("@transitionMessages",e._subscriptAnimationState),Di(1),Mi("ngIf",e.hintLabel)}}const Xj=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Jj=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],wT=new mi("MatError"),ez={transitionMessages:Sh("transitionMessages",[hl("enter",sr({opacity:1,transform:"translateY(0%)"})),kc("void => enter",[sr({opacity:0,transform:"translateY(-5px)"}),Wd("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let F_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Tt({type:n}),n})();const ST=new mi("MatHint");let B_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Tt({type:n,selectors:[["mat-label"]]}),n})(),nz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Tt({type:n,selectors:[["mat-placeholder"]]}),n})();const ET=new mi("MatPrefix"),DT=new mi("MatSuffix");let LT=0;const sz=Fg(class{constructor(n){this._elementRef=n}},"primary"),oz=new mi("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Xy=new mi("MatFormField");let MT=(()=>{class n extends sz{constructor(e,i,s,o,u,x,H,se){super(e),this._changeDetectorRef=i,this._dir=o,this._defaults=u,this._platform=x,this._ngZone=H,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new le,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+LT++,this._labelId="mat-form-field-label-"+LT++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==se,this.appearance=u&&u.appearance?u.appearance:"legacy",this._hideRequiredMarker=!(!u||null==u.hideRequiredMarker)&&u.hideRequiredMarker}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&i!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Ds(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(Wr(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(co(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(co(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),Ge(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Wr(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Wr(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(co(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Eg(this._label.nativeElement,"transitionend").pipe(Ir(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,s=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),s&&e.push(s.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null;if(!("outline"===this.appearance&&e&&e.children.length&&e.textContent.trim()&&this._platform.isBrowser))return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let i=0,s=0;const o=this._connectionContainerRef.nativeElement,u=o.querySelectorAll(".mat-form-field-outline-start"),x=o.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const H=o.getBoundingClientRect();if(0===H.width&&0===H.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const se=this._getStartEnd(H),Re=e.children,it=this._getStartEnd(Re[0].getBoundingClientRect());let pt=0;for(let xt=0;xt<Re.length;xt++)pt+=Re[xt].offsetWidth;i=Math.abs(it-se)-5,s=pt>0?.75*pt+10:0}for(let H=0;H<u.length;H++)u[H].style.width=`${i}px`;for(let H=0;H<x.length;H++)x[H].style.width=`${s}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(Jt(ki),Jt(qo),Jt(ki),Jt(ul,8),Jt(oz,8),Jt(Gs),Jt(Vi),Jt(Ba,8))},n.\u0275cmp=Wn({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,s){if(1&e&&(zs(s,F_,5),zs(s,F_,7),zs(s,B_,5),zs(s,B_,7),zs(s,nz,5),zs(s,wT,5),zs(s,ST,5),zs(s,ET,5),zs(s,DT,5)),2&e){let o;ls(o=cs())&&(i._controlNonStatic=o.first),ls(o=cs())&&(i._controlStatic=o.first),ls(o=cs())&&(i._labelChildNonStatic=o.first),ls(o=cs())&&(i._labelChildStatic=o.first),ls(o=cs())&&(i._placeholderChild=o.first),ls(o=cs())&&(i._errorChildren=o),ls(o=cs())&&(i._hintChildren=o),ls(o=cs())&&(i._prefixChildren=o),ls(o=cs())&&(i._suffixChildren=o)}},viewQuery:function(e,i){if(1&e&&(ir(kj,5),ir(Fj,7),ir(Bj,5),ir(Vj,5)),2&e){let s;ls(s=cs())&&(i.underlineRef=s.first),ls(s=cs())&&(i._connectionContainerRef=s.first),ls(s=cs())&&(i._inputContainerRef=s.first),ls(s=cs())&&(i._label=s.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,i){2&e&&As("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[Ki([{provide:Xy,useExisting:n}]),Pi],ngContentSelectors:Jj,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,i){1&e&&(qs(Xj),ni(0,"div",0),ni(1,"div",1,2),ds("click",function(o){return i._control.onContainerClick&&i._control.onContainerClick(o)}),Vs(3,Wj,9,0,"ng-container",3),Vs(4,Hj,2,0,"div",4),ni(5,"div",5,6),Gi(7),ni(8,"span",7),Vs(9,Kj,5,16,"label",8),ii(),ii(),Vs(10,$j,2,0,"div",9),ii(),Vs(11,Gj,3,4,"div",10),ni(12,"div",11),Vs(13,Yj,2,1,"div",12),Vs(14,Zj,5,2,"div",13),ii(),ii()),2&e&&(Di(3),Mi("ngIf","outline"==i.appearance),Di(1),Mi("ngIf",i._prefixChildren.length),Di(5),Mi("ngIf",i._hasFloatingLabel()),Di(1),Mi("ngIf",i._suffixChildren.length),Di(1),Mi("ngIf","outline"!=i.appearance),Di(1),Mi("ngSwitch",i._getDisplayedMessages()),Di(1),Mi("ngSwitchCase","error"),Di(1),Mi("ngSwitchCase","hint"))},directives:[Td,dg,h0,HI],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[ez.transitionMessages]},changeDetection:0}),n})(),V_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=et({type:n}),n.\u0275inj=si({imports:[[uh,Fs,ly],Fs]}),n})();const IT=r_({passive:!0});let NT=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Tc;const i=Zl(e),s=this._monitoredElements.get(i);if(s)return s.subject;const o=new le,u="cdk-text-field-autofilled",x=H=>{"cdk-text-field-autofill-start"!==H.animationName||i.classList.contains(u)?"cdk-text-field-autofill-end"===H.animationName&&i.classList.contains(u)&&(i.classList.remove(u),this._ngZone.run(()=>o.next({target:H.target,isAutofilled:!1}))):(i.classList.add(u),this._ngZone.run(()=>o.next({target:H.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",x,IT),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:o,unlisten:()=>{i.removeEventListener("animationstart",x,IT)}}),o}stopMonitoring(e){const i=Zl(e),s=this._monitoredElements.get(i);s&&(s.unlisten(),s.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(mn(Gs),mn(Vi))},n.\u0275prov=Nn({factory:function(){return new n(mn(Gs),mn(Vi))},token:n,providedIn:"root"}),n})(),TT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=et({type:n}),n.\u0275inj=si({imports:[[Dg]]}),n})();function AT(...n){if(1===n.length){const t=n[0];if($(t))return W_(t,null);if(B(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return W_(e.map(i=>t[i]),e)}}if("function"==typeof n[n.length-1]){const t=n.pop();return W_(n=1===n.length&&$(n[0])?n[0]:n,null).pipe(N(e=>t(...e)))}return W_(n,null)}function W_(n,t){return new m(e=>{const i=n.length;if(0===i)return void e.complete();const s=new Array(i);let o=0,u=0;for(let x=0;x<i;x++){const H=pe(n[x]);let se=!1;e.add(H.subscribe({next:Re=>{se||(se=!0,u++),s[x]=Re},error:Re=>e.error(Re),complete:()=>{o++,(o===i||!se)&&(u===i&&e.next(t?t.reduce((Re,it,pt)=>(Re[it]=s[pt],Re),{}):s),e.complete())}}))}})}let RT=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(Jt(jl),Jt(ki))},n.\u0275dir=Tt({type:n}),n})(),Yd=(()=>{class n extends RT{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=to(n)))(i||n)}}(),n.\u0275dir=Tt({type:n,features:[Pi]}),n})();const da=new mi("NgValueAccessor"),lz={provide:da,useExisting:We(()=>H_),multi:!0},dz=new mi("CompositionEventMode");let H_=(()=>{class n extends RT{constructor(e,i,s){super(e,i),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=ll()?ll().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(Jt(jl),Jt(ki),Jt(dz,8))},n.\u0275dir=Tt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&ds("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[Ki([lz]),Pi]}),n})();const zo=new mi("NgValidators"),Wc=new mi("NgAsyncValidators");function zT(n){return null!=n}function KT(n){const t=Ff(n)?pe(n):n;return $m(t),t}function $T(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function GT(n,t){return t.map(e=>e(n))}function YT(n){return n.map(t=>function(n){return!n.validate}(t)?t:e=>t.validate(e))}function Jy(n){return null!=n?function(n){if(!n)return null;const t=n.filter(zT);return 0==t.length?null:function(e){return $T(GT(e,t))}}(YT(n)):null}function qy(n){return null!=n?function(n){if(!n)return null;const t=n.filter(zT);return 0==t.length?null:function(e){return AT(GT(e,t).map(KT)).pipe(N($T))}}(YT(n)):null}function XT(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function JT(n){return n._rawValidators}function qT(n){return n._rawAsyncValidators}function ew(n){return n?Array.isArray(n)?n:[n]:[]}function U_(n,t){return Array.isArray(n)?n.includes(t):n===t}function eA(n,t){const e=ew(t);return ew(n).forEach(s=>{U_(e,s)||e.push(s)}),e}function tA(n,t){return ew(t).filter(e=>!U_(n,e))}let nA=(()=>{class n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Jy(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=qy(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,i){return!!this.control&&this.control.hasError(e,i)}getError(e,i){return this.control?this.control.getError(e,i):null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Tt({type:n}),n})(),br=(()=>{class n extends nA{get formDirective(){return null}get path(){return null}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=to(n)))(i||n)}}(),n.\u0275dir=Tt({type:n,features:[Pi]}),n})();class gl extends nA{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let sA=(()=>{class n extends class{constructor(t){this._cd=t}is(t){var e,i,s;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(s=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===s?void 0:s[t])}}{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(Jt(gl,2))},n.\u0275dir=Tt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&As("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[Pi]}),n})();function Vg(n,t){tw(n,t),t.valueAccessor.writeValue(n.value),function(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&oA(n,t)})}(n,t),function(n,t){const e=(i,s)=>{t.valueAccessor.writeValue(i),s&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&oA(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function z_(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),$_(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function K_(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function tw(n,t){const e=JT(n);null!==t.validator?n.setValidators(XT(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=qT(n);null!==t.asyncValidator?n.setAsyncValidators(XT(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const s=()=>n.updateValueAndValidity();K_(t._rawValidators,s),K_(t._rawAsyncValidators,s)}function $_(n,t){let e=!1;if(null!==n){if(null!==t.validator){const s=JT(n);if(Array.isArray(s)&&s.length>0){const o=s.filter(u=>u!==t.validator);o.length!==s.length&&(e=!0,n.setValidators(o))}}if(null!==t.asyncValidator){const s=qT(n);if(Array.isArray(s)&&s.length>0){const o=s.filter(u=>u!==t.asyncValidator);o.length!==s.length&&(e=!0,n.setAsyncValidators(o))}}}const i=()=>{};return K_(t._rawValidators,i),K_(t._rawAsyncValidators,i),e}function oA(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function rA(n,t){tw(n,t)}function aA(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function G_(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const Wg="VALID",Y_="INVALID",Mh="PENDING",Hg="DISABLED";function sw(n){return(rw(n)?n.validators:n)||null}function lA(n){return Array.isArray(n)?Jy(n):n||null}function ow(n,t){return(rw(t)?t.asyncValidators:n)||null}function cA(n){return Array.isArray(n)?qy(n):n||null}function rw(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class aw{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=lA(this._rawValidators),this._composedAsyncValidatorFn=cA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Wg}get invalid(){return this.status===Y_}get pending(){return this.status==Mh}get disabled(){return this.status===Hg}get enabled(){return this.status!==Hg}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=lA(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=cA(t)}addValidators(t){this.setValidators(eA(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(eA(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(tA(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(tA(t,this._rawAsyncValidators))}hasValidator(t){return U_(this._rawValidators,t)}hasAsyncValidator(t){return U_(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Mh,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Hg,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Wg,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Wg||this.status===Mh)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Hg:Wg}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Mh,this._hasOwnPendingAsyncValidator=!0;const e=KT(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length))return null;let i=n;return t.forEach(s=>{i=i instanceof lw?i.controls.hasOwnProperty(s)?i.controls[s]:null:i instanceof Sz&&i.at(s)||null}),i}(this,t)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Yi,this.statusChanges=new Yi}_calculateStatus(){return this._allControlsDisabled()?Hg:this.errors?Y_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Mh)?Mh:this._anyControlsHaveStatus(Y_)?Y_:Wg}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){rw(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Q_ extends aw{constructor(t=null,e,i){super(sw(e),ow(i,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){G_(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){G_(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class lw extends aw{constructor(t,e,i){super(sw(e),ow(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(i=>{this._throwIfControlMissing(i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,s)=>{i.reset(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e instanceof Q_?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&t(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,i)=>((e.enabled||this.disabled)&&(t[i]=e.value),t))}_reduceChildren(t,e){let i=t;return this._forEachChild((s,o)=>{i=e(i,s,o)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,i)=>{if(void 0===t[i])throw new Error(`Must supply a value for form control with name: '${i}'.`)})}}class Sz extends aw{constructor(t,e,i){super(sw(e),ow(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((i,s)=>{this._throwIfControlMissing(s),this.at(s).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,s)=>{this.at(s)&&this.at(s).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,s)=>{i.reset(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Q_?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,i)=>{if(void 0===t[i])throw new Error(`Must supply a value for form control at index: ${i}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Ez={provide:br,useExisting:We(()=>jg)},Ug=(()=>Promise.resolve(null))();let jg=(()=>{class n extends br{constructor(e,i){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new Yi,this.form=new lw({},Jy(e),qy(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Ug.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),Vg(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Ug.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),G_(this._directives,e)})}addFormGroup(e){Ug.then(()=>{const i=this._findContainer(e.path),s=new lw({});rA(s,e),i.registerControl(e.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Ug.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){Ug.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,aA(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(Jt(zo,10),Jt(Wc,10))},n.\u0275dir=Tt({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&ds("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ki([Ez]),Pi]}),n})();const Lz={provide:gl,useExisting:We(()=>cw)},hA=(()=>Promise.resolve(null))();let cw=(()=>{class n extends gl{constructor(e,i,s,o){super(),this.control=new Q_,this._registered=!1,this.update=new Yi,this._parent=e,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=function(n,t){if(!t)return null;let e,i,s;return Array.isArray(t),t.forEach(o=>{o.constructor===H_?e=o:function(n){return Object.getPrototypeOf(n.constructor)===Yd}(o)?i=o:s=o}),s||i||e||null}(0,o)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),function(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(n,t){return[...t.path,n]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Vg(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){hA.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const i=e.isDisabled.currentValue,s=""===i||i&&"false"!==i;hA.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(e){return new(e||n)(Jt(br,9),Jt(zo,10),Jt(Wc,10),Jt(da,10))},n.\u0275dir=Tt({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ki([Lz]),Pi,Qi]}),n})();const Mz={provide:da,useExisting:We(()=>dw),multi:!0};let dw=(()=>{class n extends Yd{writeValue(e){this.setProperty("value",null==e?"":e)}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=to(n)))(i||n)}}(),n.\u0275dir=Tt({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,i){1&e&&ds("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},features:[Ki([Mz]),Pi]}),n})(),fA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=et({type:n}),n.\u0275inj=si({}),n})();const Rz={provide:br,useExisting:We(()=>zg)};let zg=(()=>{class n extends br{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Yi,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&($_(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return Vg(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){z_(e.control||null,e,!1),G_(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,aA(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,s=this.form.get(e.path);i!==s&&(z_(i||null,e),s instanceof Q_&&(Vg(s,e),e.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);rA(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function(n,t){return $_(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){tw(this.form,this),this._oldForm&&$_(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(Jt(zo,10),Jt(Wc,10))},n.\u0275dir=Tt({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&ds("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ki([Rz]),Pi,Qi]}),n})(),IA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=et({type:n}),n.\u0275inj=si({imports:[[fA]]}),n})(),Xz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=et({type:n}),n.\u0275inj=si({imports:[IA]}),n})();const Jz=new mi("MAT_INPUT_VALUE_ACCESSOR"),qz=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let eK=0;const tK=dT(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i}});let NA=(()=>{class n extends tK{constructor(e,i,s,o,u,x,H,se,Re,it){super(x,o,u,s),this._elementRef=e,this._platform=i,this._autofillMonitor=se,this._formField=it,this._uid="mat-input-"+eK++,this.focused=!1,this.stateChanges=new le,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(Bt=>gI().has(Bt));const pt=this._elementRef.nativeElement,xt=pt.nodeName.toLowerCase();this._inputValueAccessor=H||pt,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&Re.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",Bt=>{const cn=Bt.target;!cn.value&&0===cn.selectionStart&&0===cn.selectionEnd&&(cn.setSelectionRange(1,1),cn.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===xt,this._isTextarea="textarea"===xt,this._isInFormField=!!it,this._isNativeSelect&&(this.controlType=pt.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=Ds(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required}set required(e){this._required=Ds(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&gI().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Ds(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var e,i;const s=(null===(i=null===(e=this._formField)||void 0===e?void 0:e._hideControlPlaceholder)||void 0===i?void 0:i.call(e))?null:this.placeholder;if(s!==this._previousPlaceholder){const o=this._elementRef.nativeElement;this._previousPlaceholder=s,s?o.setAttribute("placeholder",s):o.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){qz.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}}return n.\u0275fac=function(e){return new(e||n)(Jt(ki),Jt(Gs),Jt(gl,10),Jt(jg,8),Jt(zg,8),Jt(Hy),Jt(Jz,10),Jt(NT),Jt(Vi),Jt(Xy,8))},n.\u0275dir=Tt({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:9,hostBindings:function(e,i){1&e&&ds("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(Lc("disabled",i.disabled)("required",i.required),ws("id",i.id)("data-placeholder",i.placeholder)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),As("mat-input-server",i._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[Ki([{provide:F_,useExisting:n}]),Pi,Qi]}),n})(),nK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=et({type:n}),n.\u0275inj=si({providers:[Hy],imports:[[TT,V_,Fs],TT,V_]}),n})();const iK=["thumbContainer"],sK=["toggleBar"],oK=["input"],rK=function(n){return{enterDuration:n}},aK=["*"],lK=new mi("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1})});let cK=0;const dK={provide:da,useExisting:We(()=>vw),multi:!0};class uK{constructor(t,e){this.source=t,this.checked=e}}const hK=Wy(Fg(Kd(kg(class{constructor(n){this._elementRef=n}}))));let vw=(()=>{class n extends hK{constructor(e,i,s,o,u,x){super(e),this._focusMonitor=i,this._changeDetectorRef=s,this.defaults=u,this._onChange=H=>{},this._onTouched=()=>{},this._uniqueId="mat-slide-toggle-"+ ++cK,this._required=!1,this._checked=!1,this.name=null,this.id=this._uniqueId,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.change=new Yi,this.toggleChange=new Yi,this.tabIndex=parseInt(o)||0,this.color=this.defaultColor=u.color||"accent",this._noopAnimations="NoopAnimations"===x}get required(){return this._required}set required(e){this._required=Ds(e)}get checked(){return this._checked}set checked(e){this._checked=Ds(e),this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{"keyboard"===e||"program"===e?this._inputElement.nativeElement.focus():e||Promise.resolve().then(()=>this._onTouched())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}_onChangeEvent(e){e.stopPropagation(),this.toggleChange.emit(),this.defaults.disableToggleValue?this._inputElement.nativeElement.checked=this.checked:(this.checked=this._inputElement.nativeElement.checked,this._emitChangeEvent())}_onInputClick(e){e.stopPropagation()}writeValue(e){this.checked=!!e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck()}focus(e,i){i?this._focusMonitor.focusVia(this._inputElement,i,e):this._inputElement.nativeElement.focus(e)}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(new uK(this,this.checked))}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}}return n.\u0275fac=function(e){return new(e||n)(Jt(ki),Jt(Vd),Jt(qo),Lo("tabindex"),Jt(lK),Jt(Ba,8))},n.\u0275cmp=Wn({type:n,selectors:[["mat-slide-toggle"]],viewQuery:function(e,i){if(1&e&&(ir(iK,5),ir(sK,5),ir(oK,5)),2&e){let s;ls(s=cs())&&(i._thumbEl=s.first),ls(s=cs())&&(i._thumbBarEl=s.first),ls(s=cs())&&(i._inputElement=s.first)}},hostAttrs:[1,"mat-slide-toggle"],hostVars:12,hostBindings:function(e,i){2&e&&(Lc("id",i.id),ws("tabindex",i.disabled?null:-1)("aria-label",null)("aria-labelledby",null),As("mat-checked",i.checked)("mat-disabled",i.disabled)("mat-slide-toggle-label-before","before"==i.labelPosition)("_mat-animation-noopable",i._noopAnimations))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],required:"required",checked:"checked",ariaDescribedby:["aria-describedby","ariaDescribedby"]},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],features:[Ki([dK]),Pi],ngContentSelectors:aK,decls:16,vars:20,consts:[[1,"mat-slide-toggle-label"],["label",""],[1,"mat-slide-toggle-bar"],["toggleBar",""],["type","checkbox","role","switch",1,"mat-slide-toggle-input","cdk-visually-hidden",3,"id","required","tabIndex","checked","disabled","change","click"],["input",""],[1,"mat-slide-toggle-thumb-container"],["thumbContainer",""],[1,"mat-slide-toggle-thumb"],["mat-ripple","",1,"mat-slide-toggle-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-slide-toggle-persistent-ripple"],[1,"mat-slide-toggle-content",3,"cdkObserveContent"],["labelContent",""],[2,"display","none"]],template:function(e,i){if(1&e&&(qs(),ni(0,"label",0,1),ni(2,"div",2,3),ni(4,"input",4,5),ds("change",function(o){return i._onChangeEvent(o)})("click",function(o){return i._onInputClick(o)}),ii(),ni(6,"div",6,7),Es(8,"div",8),ni(9,"div",9),Es(10,"div",10),ii(),ii(),ii(),ni(11,"span",11,12),ds("cdkObserveContent",function(){return i._onLabelTextChange()}),ni(13,"span",13),gs(14,"\xa0"),ii(),Gi(15),ii(),ii()),2&e){const s=Ku(1),o=Ku(12);ws("for",i.inputId),Di(2),As("mat-slide-toggle-bar-no-side-margin",!o.textContent||!o.textContent.trim()),Di(2),Mi("id",i.inputId)("required",i.required)("tabIndex",i.tabIndex)("checked",i.checked)("disabled",i.disabled),ws("name",i.name)("aria-checked",i.checked.toString())("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledby)("aria-describedby",i.ariaDescribedby),Di(5),Mi("matRippleTrigger",s)("matRippleDisabled",i.disableRipple||i.disabled)("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",tL(18,rK,i._noopAnimations?0:150))}},directives:[Gd,HI],styles:[".mat-slide-toggle{display:inline-block;height:24px;max-width:100%;line-height:24px;white-space:nowrap;outline:none;-webkit-tap-highlight-color:transparent}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(16px, 0, 0)}[dir=rtl] .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(-16px, 0, 0)}.mat-slide-toggle.mat-disabled{opacity:.38}.mat-slide-toggle.mat-disabled .mat-slide-toggle-label,.mat-slide-toggle.mat-disabled .mat-slide-toggle-thumb-container{cursor:default}.mat-slide-toggle-label{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex:1;flex-direction:row;align-items:center;height:inherit;cursor:pointer}.mat-slide-toggle-content{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-slide-toggle-label-before .mat-slide-toggle-label{order:1}.mat-slide-toggle-label-before .mat-slide-toggle-bar{order:2}[dir=rtl] .mat-slide-toggle-label-before .mat-slide-toggle-bar,.mat-slide-toggle-bar{margin-right:8px;margin-left:0}[dir=rtl] .mat-slide-toggle-bar,.mat-slide-toggle-label-before .mat-slide-toggle-bar{margin-left:8px;margin-right:0}.mat-slide-toggle-bar-no-side-margin{margin-left:0;margin-right:0}.mat-slide-toggle-thumb-container{position:absolute;z-index:1;width:20px;height:20px;top:-3px;left:0;transform:translate3d(0, 0, 0);transition:all 80ms linear;transition-property:transform}._mat-animation-noopable .mat-slide-toggle-thumb-container{transition:none}[dir=rtl] .mat-slide-toggle-thumb-container{left:auto;right:0}.mat-slide-toggle-thumb{height:20px;width:20px;border-radius:50%}.mat-slide-toggle-bar{position:relative;width:36px;height:14px;flex-shrink:0;border-radius:8px}.mat-slide-toggle-input{bottom:0;left:10px}[dir=rtl] .mat-slide-toggle-input{left:auto;right:10px}.mat-slide-toggle-bar,.mat-slide-toggle-thumb{transition:all 80ms linear;transition-property:background-color;transition-delay:50ms}._mat-animation-noopable .mat-slide-toggle-bar,._mat-animation-noopable .mat-slide-toggle-thumb{transition:none}.mat-slide-toggle .mat-slide-toggle-ripple{position:absolute;top:calc(50% - 20px);left:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-slide-toggle .mat-slide-toggle-ripple .mat-ripple-element:not(.mat-slide-toggle-persistent-ripple){opacity:.12}.mat-slide-toggle-persistent-ripple{width:100%;height:100%;transform:none}.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:.04}.mat-slide-toggle:not(.mat-disabled).cdk-keyboard-focused .mat-slide-toggle-persistent-ripple{opacity:.12}.mat-slide-toggle-persistent-ripple,.mat-slide-toggle.mat-disabled .mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:0}@media(hover: none){.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{display:none}}.cdk-high-contrast-active .mat-slide-toggle-thumb,.cdk-high-contrast-active .mat-slide-toggle-bar{border:1px solid}.cdk-high-contrast-active .mat-slide-toggle.cdk-keyboard-focused .mat-slide-toggle-bar{outline:2px dotted;outline-offset:5px}\n"],encapsulation:2,changeDetection:0}),n})(),TA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=et({type:n}),n.\u0275inj=si({}),n})(),mK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=et({type:n}),n.\u0275inj=si({imports:[[TA,O_,Fs,ly],TA,Fs]}),n})();const AA=["mat-button",""],RA=["*"],_K=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],vK=Fg(kg(Kd(class{constructor(n){this._elementRef=n}})));let Z_=(()=>{class n extends vK{constructor(e,i,s){super(e),this._focusMonitor=i,this._animationMode=s,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const o of _K)this._hasHostAttributes(o)&&this._getHostElement().classList.add(o);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(Jt(ki),Jt(Vd),Jt(Ba,8))},n.\u0275cmp=Wn({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&ir(Gd,5),2&e){let s;ls(s=cs())&&(i.ripple=s.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(ws("disabled",i.disabled||null),As("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Pi],attrs:AA,ngContentSelectors:RA,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(qs(),ni(0,"span",0),Gi(1),ii(),Es(2,"span",1),Es(3,"span",2)),2&e&&(Di(2),As("mat-button-ripple-round",i.isRoundButton||i.isIconButton),Mi("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},directives:[Gd],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),CK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=et({type:n}),n.\u0275inj=si({imports:[[O_,Fs],Fs]}),n})();class PA{}class kA{}class ql{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const s=e.slice(0,i),o=s.toLowerCase(),u=e.slice(i+1).trim();this.maybeSetNormalizedName(s,o),this.headers.has(o)?this.headers.get(o).push(u):this.headers.set(o,[u])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const s=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(s,i),this.maybeSetNormalizedName(e,s))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof ql?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new ql;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof ql?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const s=("a"===t.op?this.headers.get(e):void 0)||[];s.push(...i),this.headers.set(e,s);break;case"d":const o=t.value;if(o){let u=this.headers.get(e);if(!u)return;u=u.filter(x=>-1===o.indexOf(x)),0===u.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,u)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class bK{encodeKey(t){return FA(t)}encodeValue(t){return FA(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function FA(n){return encodeURIComponent(n).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}function BA(n){return`${n}`}class Uc{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new bK,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(s=>{const o=s.indexOf("="),[u,x]=-1==o?[t.decodeKey(s),""]:[t.decodeKey(s.slice(0,o)),t.decodeValue(s.slice(o+1))],H=e.get(u)||[];H.push(x),e.set(u,H)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const s=t[i];Array.isArray(s)?s.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:s,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Uc({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(BA(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const s=i.indexOf(BA(t.value));-1!==s&&i.splice(s,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class wK{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}keys(){return this.map.keys()}}function VA(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function WA(n){return"undefined"!=typeof Blob&&n instanceof Blob}function HA(n){return"undefined"!=typeof FormData&&n instanceof FormData}class Kg{constructor(t,e,i,s){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||s?(this.body=void 0!==i?i:null,o=s):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new ql),this.context||(this.context=new wK),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=e;else{const x=e.indexOf("?");this.urlWithParams=e+(-1===x?"?":x<e.length-1?"&":"")+u}}else this.params=new Uc,this.urlWithParams=e}serializeBody(){return null===this.body?null:VA(this.body)||WA(this.body)||HA(this.body)||function(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Uc?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||HA(this.body)?null:WA(this.body)?this.body.type||null:VA(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Uc?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const i=t.method||this.method,s=t.url||this.url,o=t.responseType||this.responseType,u=void 0!==t.body?t.body:this.body,x=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,H=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let se=t.headers||this.headers,Re=t.params||this.params;const it=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(se=Object.keys(t.setHeaders).reduce((pt,xt)=>pt.set(xt,t.setHeaders[xt]),se)),t.setParams&&(Re=Object.keys(t.setParams).reduce((pt,xt)=>pt.set(xt,t.setParams[xt]),Re)),new Kg(i,s,u,{params:Re,headers:se,context:it,reportProgress:H,responseType:o,withCredentials:x})}}var So=(()=>((So=So||{})[So.Sent=0]="Sent",So[So.UploadProgress=1]="UploadProgress",So[So.ResponseHeader=2]="ResponseHeader",So[So.DownloadProgress=3]="DownloadProgress",So[So.Response=4]="Response",So[So.User=5]="User",So))();class Cw{constructor(t,e=200,i="OK"){this.headers=t.headers||new ql,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class bw extends Cw{constructor(t={}){super(t),this.type=So.ResponseHeader}clone(t={}){return new bw({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class X_ extends Cw{constructor(t={}){super(t),this.type=So.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new X_({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class UA extends Cw{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function yw(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let $g=(()=>{class n{constructor(e){this.handler=e}request(e,i,s={}){let o;if(e instanceof Kg)o=e;else{let H,se;H=s.headers instanceof ql?s.headers:new ql(s.headers),s.params&&(se=s.params instanceof Uc?s.params:new Uc({fromObject:s.params})),o=new Kg(e,i,void 0!==s.body?s.body:null,{headers:H,context:s.context,params:se,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const u=Fi(o).pipe(fh(H=>this.handler.handle(H)));if(e instanceof Kg||"events"===s.observe)return u;const x=u.pipe(To(H=>H instanceof X_));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return x.pipe(N(H=>{if(null!==H.body&&!(H.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return H.body}));case"blob":return x.pipe(N(H=>{if(null!==H.body&&!(H.body instanceof Blob))throw new Error("Response is not a Blob.");return H.body}));case"text":return x.pipe(N(H=>{if(null!==H.body&&"string"!=typeof H.body)throw new Error("Response is not a string.");return H.body}));case"json":default:return x.pipe(N(H=>H.body))}case"response":return x;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Uc).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,s={}){return this.request("PATCH",e,yw(s,i))}post(e,i,s={}){return this.request("POST",e,yw(s,i))}put(e,i,s={}){return this.request("PUT",e,yw(s,i))}}return n.\u0275fac=function(e){return new(e||n)(mn(PA))},n.\u0275prov=Nn({token:n,factory:n.\u0275fac}),n})();class jA{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const zA=new mi("HTTP_INTERCEPTORS");let DK=(()=>{class n{intercept(e,i){return i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Nn({token:n,factory:n.\u0275fac}),n})();const LK=/^\)\]\}',?\n/;let KA=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new m(i=>{const s=this.xhrFactory.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((xt,Bt)=>s.setRequestHeader(xt,Bt.join(","))),e.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const xt=e.detectContentTypeHeader();null!==xt&&s.setRequestHeader("Content-Type",xt)}if(e.responseType){const xt=e.responseType.toLowerCase();s.responseType="json"!==xt?xt:"text"}const o=e.serializeBody();let u=null;const x=()=>{if(null!==u)return u;const xt=1223===s.status?204:s.status,Bt=s.statusText||"OK",cn=new ql(s.getAllResponseHeaders()),rn=function(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(s)||e.url;return u=new bw({headers:cn,status:xt,statusText:Bt,url:rn}),u},H=()=>{let{headers:xt,status:Bt,statusText:cn,url:rn}=x(),Pn=null;204!==Bt&&(Pn=void 0===s.response?s.responseText:s.response),0===Bt&&(Bt=Pn?200:0);let Dn=Bt>=200&&Bt<300;if("json"===e.responseType&&"string"==typeof Pn){const ri=Pn;Pn=Pn.replace(LK,"");try{Pn=""!==Pn?JSON.parse(Pn):null}catch(pi){Pn=ri,Dn&&(Dn=!1,Pn={error:pi,text:Pn})}}Dn?(i.next(new X_({body:Pn,headers:xt,status:Bt,statusText:cn,url:rn||void 0})),i.complete()):i.error(new UA({error:Pn,headers:xt,status:Bt,statusText:cn,url:rn||void 0}))},se=xt=>{const{url:Bt}=x(),cn=new UA({error:xt,status:s.status||0,statusText:s.statusText||"Unknown Error",url:Bt||void 0});i.error(cn)};let Re=!1;const it=xt=>{Re||(i.next(x()),Re=!0);let Bt={type:So.DownloadProgress,loaded:xt.loaded};xt.lengthComputable&&(Bt.total=xt.total),"text"===e.responseType&&!!s.responseText&&(Bt.partialText=s.responseText),i.next(Bt)},pt=xt=>{let Bt={type:So.UploadProgress,loaded:xt.loaded};xt.lengthComputable&&(Bt.total=xt.total),i.next(Bt)};return s.addEventListener("load",H),s.addEventListener("error",se),s.addEventListener("timeout",se),s.addEventListener("abort",se),e.reportProgress&&(s.addEventListener("progress",it),null!==o&&s.upload&&s.upload.addEventListener("progress",pt)),s.send(o),i.next({type:So.Sent}),()=>{s.removeEventListener("error",se),s.removeEventListener("abort",se),s.removeEventListener("load",H),s.removeEventListener("timeout",se),e.reportProgress&&(s.removeEventListener("progress",it),null!==o&&s.upload&&s.upload.removeEventListener("progress",pt)),s.readyState!==s.DONE&&s.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(mn(Vx))},n.\u0275prov=Nn({token:n,factory:n.\u0275fac}),n})();const ww=new mi("XSRF_COOKIE_NAME"),Sw=new mi("XSRF_HEADER_NAME");class $A{}let MK=(()=>{class n{constructor(e,i,s){this.doc=e,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ix(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(mn(Ti),mn(rh),mn(ww))},n.\u0275prov=Nn({token:n,factory:n.\u0275fac}),n})(),Ew=(()=>{class n{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const s=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||s.startsWith("http://")||s.startsWith("https://"))return i.handle(e);const o=this.tokenService.getToken();return null!==o&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,o)})),i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(mn($A),mn(Sw))},n.\u0275prov=Nn({token:n,factory:n.\u0275fac}),n})(),IK=(()=>{class n{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(zA,[]);this.chain=i.reduceRight((s,o)=>new jA(s,o),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(mn(kA),mn(hs))},n.\u0275prov=Nn({token:n,factory:n.\u0275fac}),n})(),NK=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:Ew,useClass:DK}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:ww,useValue:e.cookieName}:[],e.headerName?{provide:Sw,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=et({type:n}),n.\u0275inj=si({providers:[Ew,{provide:zA,useExisting:Ew,multi:!0},{provide:$A,useClass:MK},{provide:ww,useValue:"XSRF-TOKEN"},{provide:Sw,useValue:"X-XSRF-TOKEN"}]}),n})(),TK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=et({type:n}),n.\u0275inj=si({providers:[$g,{provide:PA,useClass:IK},KA,{provide:kA,useExisting:KA}],imports:[[NK.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();const AK=["*"];function GA(n){return Error(`Unable to find icon with the name "${n}"`)}function YA(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function QA(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Qd{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let J_=(()=>{class n{constructor(e,i,s,o){this._httpClient=e,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=s}addSvgIcon(e,i,s){return this.addSvgIconInNamespace("",e,i,s)}addSvgIconLiteral(e,i,s){return this.addSvgIconLiteralInNamespace("",e,i,s)}addSvgIconInNamespace(e,i,s,o){return this._addSvgIconConfig(e,i,new Qd(s,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,s,o){const u=this._sanitizer.sanitize(xs.HTML,s);if(!u)throw QA(s);return this._addSvgIconConfig(e,i,new Qd("",u,o))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,s){return this._addSvgIconSetConfig(e,new Qd(i,null,s))}addSvgIconSetLiteralInNamespace(e,i,s){const o=this._sanitizer.sanitize(xs.HTML,i);if(!o)throw QA(i);return this._addSvgIconSetConfig(e,new Qd("",o,s))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(xs.RESOURCE_URL,e);if(!i)throw YA(e);const s=this._cachedIconsByUrl.get(i);return s?Fi(q_(s)):this._loadSvgIconFromConfig(new Qd(e,null)).pipe(Uo(o=>this._cachedIconsByUrl.set(i,o)),N(o=>q_(o)))}getNamedSvgIcon(e,i=""){const s=ZA(i,e);let o=this._svgIconConfigs.get(s);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,e),o)return this._svgIconConfigs.set(s,o),this._getSvgFromConfig(o);const u=this._iconSetConfigs.get(i);return u?this._getSvgFromIconSetConfigs(e,u):hI(GA(s))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?Fi(q_(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(N(i=>q_(i)))}_getSvgFromIconSetConfigs(e,i){const s=this._extractIconWithNameFromAnySet(e,i);return s?Fi(s):AT(i.filter(u=>!u.svgText).map(u=>this._loadSvgIconSetFromConfig(u).pipe(Ac(x=>{const se=`Loading icon set URL: ${this._sanitizer.sanitize(xs.RESOURCE_URL,u.url)} failed: ${x.message}`;return this._errorHandler.handleError(new Error(se)),Fi(null)})))).pipe(N(()=>{const u=this._extractIconWithNameFromAnySet(e,i);if(!u)throw GA(e);return u}))}_extractIconWithNameFromAnySet(e,i){for(let s=i.length-1;s>=0;s--){const o=i[s];if(o.svgText&&o.svgText.indexOf(e)>-1){const u=this._svgElementFromConfig(o),x=this._extractSvgIconFromSet(u,e,o.options);if(x)return x}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(Uo(i=>e.svgText=i),N(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?Fi(null):this._fetchIcon(e).pipe(Uo(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,s){const o=e.querySelector(`[id="${i}"]`);if(!o)return null;const u=o.cloneNode(!0);if(u.removeAttribute("id"),"svg"===u.nodeName.toLowerCase())return this._setSvgAttributes(u,s);if("symbol"===u.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(u),s);const x=this._svgElementFromString("<svg></svg>");return x.appendChild(u),this._setSvgAttributes(x,s)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const s=i.querySelector("svg");if(!s)throw Error("<svg> tag not found");return s}_toSvgElement(e){const i=this._svgElementFromString("<svg></svg>"),s=e.attributes;for(let o=0;o<s.length;o++){const{name:u,value:x}=s[o];"id"!==u&&i.setAttribute(u,x)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){var i;const{url:s,options:o}=e,u=null!==(i=null==o?void 0:o.withCredentials)&&void 0!==i&&i;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==s)throw Error(`Cannot fetch icon from URL "${s}".`);const x=this._sanitizer.sanitize(xs.RESOURCE_URL,s);if(!x)throw YA(s);const H=this._inProgressUrlFetches.get(x);if(H)return H;const se=this._httpClient.get(x,{responseType:"text",withCredentials:u}).pipe(iM(()=>this._inProgressUrlFetches.delete(x)),bt());return this._inProgressUrlFetches.set(x,se),se}_addSvgIconConfig(e,i,s){return this._svgIconConfigs.set(ZA(e,i),s),this}_addSvgIconSetConfig(e,i){const s=this._iconSetConfigs.get(e);return s?s.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let s=0;s<this._resolvers.length;s++){const o=this._resolvers[s](i,e);if(o)return PK(o)?new Qd(o.url,null,o.options):new Qd(o,null)}}}return n.\u0275fac=function(e){return new(e||n)(mn($g,8),mn(hh),mn(Ti,8),mn(Br))},n.\u0275prov=Nn({factory:function(){return new n(mn($g,8),mn(hh),mn(Ti,8),mn(Br))},token:n,providedIn:"root"}),n})();function q_(n){return n.cloneNode(!0)}function ZA(n,t){return n+":"+t}function PK(n){return!(!n.url||!n.options)}const kK=Fg(class{constructor(n){this._elementRef=n}}),FK=new mi("mat-icon-location",{providedIn:"root",factory:function(){const n=bu(Ti),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),XA=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],WK=XA.map(n=>`[${n}]`).join(", "),HK=/^url\(['"]?#(.*?)['"]?\)$/;let JA=(()=>{class n extends kK{constructor(e,i,s,o,u){super(e),this._iconRegistry=i,this._location=o,this._errorHandler=u,this._inline=!1,this._currentIconFetch=C.EMPTY,s||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=Ds(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=e.querySelectorAll("style");for(let o=0;o<i.length;o++)i[o].textContent+=" ";const s=this._location.getPathname();this._previousPath=s,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(s),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const s=e.childNodes[i];(1!==s.nodeType||"svg"===s.nodeName.toLowerCase())&&e.removeChild(s)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();i!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),i&&e.classList.add(i),this._previousFontSetClass=i),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((s,o)=>{s.forEach(u=>{o.setAttribute(u.name,`url('${e}#${u.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(WK),s=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)XA.forEach(u=>{const x=i[o],H=x.getAttribute(u),se=H?H.match(HK):null;if(se){let Re=s.get(x);Re||(Re=[],s.set(x,Re)),Re.push({name:u,value:se[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,s]=this._splitIconName(e);i&&(this._svgNamespace=i),s&&(this._svgName=s),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(s,i).pipe(Ir(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${s}! ${o.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(Jt(ki),Jt(J_),Lo("aria-hidden"),Jt(FK),Jt(Br))},n.\u0275cmp=Wn({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,i){2&e&&(ws("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),As("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[Pi],ngContentSelectors:AK,decls:1,vars:0,template:function(e,i){1&e&&(qs(),Gi(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),UK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=et({type:n}),n.\u0275inj=si({imports:[[Fs],Fs]}),n})(),jK=(()=>{class n{constructor(e,i){this.dialogRef=e,this.data=i,this.gzip=!1,this.count=i.count}download(){this.dialogRef.close()}}return n.\u0275fac=function(e){return new(e||n)(Jt(P_),Jt(CT))},n.\u0275cmp=Wn({type:n,selectors:[["ng-component"]],decls:16,vars:6,consts:[["ngNoForm","","method","POST","action","/api/provider/download"],["type","hidden","name","definition",3,"value"],["type","hidden","name","gzip",3,"value"],["type","hidden","name","output.pretty",3,"value"],["type","hidden","name","output.template",3,"value"],["appearance","fill"],["matInput","","name","count","type","number",3,"ngModel","ngModelChange"],[3,"checked","change"],[2,"margin","10px 0"],["type","submit","mat-flat-button","","color","primary",2,"width","100%",3,"click"]],template:function(e,i){1&e&&(ni(0,"form",0),Es(1,"input",1),Es(2,"input",2),Es(3,"input",3),Es(4,"input",4),ni(5,"mat-form-field",5),ni(6,"mat-label"),gs(7,"Number of objects"),ii(),ni(8,"input",6),ds("ngModelChange",function(o){return i.count=o}),ii(),ii(),ni(9,"mat-slide-toggle",7),ds("change",function(o){return i.gzip=o.checked}),gs(10," Gzip output "),ii(),ni(11,"div",8),ni(12,"button",9),ds("click",function(){return i.download()}),ni(13,"mat-icon"),gs(14,"download"),ii(),gs(15,"Download "),ii(),ii(),ii()),2&e&&(Di(1),Mi("value",i.data.definition),Di(1),Mi("value",i.gzip),Di(1),Mi("value",i.data.pretty),Di(1),Mi("value",i.data.template),Di(4),Mi("ngModel",i.count),Di(1),Mi("checked",i.gzip))},directives:[MT,B_,NA,dw,H_,sA,cw,vw,Z_,JA],encapsulation:2}),n})();class qA{constructor(t,e,i){this.args=[],this.name=t,this.description=e,this.args=i}}class Dw{constructor(t,e,i,s=!1,o=null){this.name=t,this.description=e,this.type=i,this.optional=s}}var Ih=(()=>(function(n){n.STRING="string",n.INTEGER="integer",n.DOUBLE="double",n.STRING_ARRAY="string_array"}(Ih||(Ih={})),Ih))();let eR=(()=>{class n{constructor(e){this.http=e,this.base_api="/api"}generateFromTemplate(e,i,s){const o=new URLSearchParams;return o.set("output.format",s.format),o.set("output.pretty",s.pretty),o.set("output.template",s.template),o.set("count",i.toString()),o.set("definition",e),this.http.post(this.base_api+"/provider/live",o,{responseType:"text",headers:{"Content-Type":"application/x-www-form-urlencoded"}})}getAvailableGenerator(){return new m(e=>{e.next([new qA("IntAutoIncrement","Incr\xe9mente la valeur pour chaque objet",[new Dw("min","Valeur de d\xe9part",Ih.INTEGER,!0),new Dw("step","Quantit\xe9 \xe0 incr\xe9menter",Ih.INTEGER,!0),new Dw("max","Valeur maximum",Ih.INTEGER,!0)]),new qA("RandomUUID","G\xe9n\xe8re un UUID (java.util.UUID)",[])])})}}return n.\u0275fac=function(e){return new(e||n)(mn($g))},n.\u0275prov=Nn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const zK=["trigger"],KK=["panel"];function $K(n,t){if(1&n&&(ni(0,"span",8),gs(1),ii()),2&n){const e=Co();Di(1),ol(e.placeholder)}}function GK(n,t){if(1&n&&(ni(0,"span",12),gs(1),ii()),2&n){const e=Co(2);Di(1),ol(e.triggerValue)}}function YK(n,t){1&n&&Gi(0,0,["*ngSwitchCase","true"])}function QK(n,t){1&n&&(ni(0,"span",9),Vs(1,GK,2,1,"span",10),Vs(2,YK,1,0,"ng-content",11),ii()),2&n&&(Mi("ngSwitch",!!Co().customTrigger),Di(2),Mi("ngSwitchCase",!0))}function ZK(n,t){if(1&n){const e=kf();ni(0,"div",13),ni(1,"div",14,15),ds("@transformPanel.done",function(s){return _a(e),Co()._panelDoneAnimatingStream.next(s.toState)})("keydown",function(s){return _a(e),Co()._handleKeydown(s)}),Gi(3,1),ii(),ii()}if(2&n){const e=Co();Mi("@transformPanelWrap",void 0),Di(1),RE("mat-select-panel ",e._getPanelTheme(),""),Bf("transform-origin",e._transformOrigin)("font-size",e._triggerFontSize,"px"),Mi("ngClass",e.panelClass)("@transformPanel",e.multiple?"showing-multiple":"showing"),ws("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const XK=[[["mat-select-trigger"]],"*"],JK=["mat-select-trigger","*"],tR={transformPanelWrap:Sh("transformPanelWrap",[kc("* => void",E9("@transformPanel",[S9()],{optional:!0}))]),transformPanel:Sh("transformPanel",[hl("void",sr({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),hl("showing",sr({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),hl("showing-multiple",sr({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),kc("void => *",Wd("120ms cubic-bezier(0, 0, 0.2, 1)")),kc("* => void",Wd("100ms 25ms linear",sr({opacity:0})))])};let nR=0;const sR=new mi("mat-select-scroll-strategy"),n$=new mi("MAT_SELECT_CONFIG"),i$={provide:sR,deps:[Bd],useFactory:function(n){return()=>n.scrollStrategies.reposition()}};class s${constructor(t,e){this.source=t,this.value=e}}const o$=Kd(Wy(kg(dT(class{constructor(n,t,e,i,s){this._elementRef=n,this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=i,this.ngControl=s}})))),oR=new mi("MatSelectTrigger");let r$=(()=>{class n extends o${constructor(e,i,s,o,u,x,H,se,Re,it,pt,xt,Bt,cn){var rn,Pn,Dn;super(u,o,H,se,it),this._viewportRuler=e,this._changeDetectorRef=i,this._ngZone=s,this._dir=x,this._parentFormField=Re,this._liveAnnouncer=Bt,this._defaultOptions=cn,this._panelOpen=!1,this._compareWith=(ri,pi)=>ri===pi,this._uid="mat-select-"+nR++,this._triggerAriaLabelledBy=null,this._destroy=new le,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+nR++,this._panelDoneAnimatingStream=new le,this._overlayPanelClass=(null===(rn=this._defaultOptions)||void 0===rn?void 0:rn.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._required=!1,this._multiple=!1,this._disableOptionCentering=null!==(Dn=null===(Pn=this._defaultOptions)||void 0===Pn?void 0:Pn.disableOptionCentering)&&void 0!==Dn&&Dn,this.ariaLabel="",this.optionSelectionChanges=Bp(()=>{const ri=this.options;return ri?ri.changes.pipe(Wr(ri),ka(()=>Ge(...ri.map(pi=>pi.onSelectionChange)))):this._ngZone.onStable.pipe(Ir(1),ka(()=>this.optionSelectionChanges))}),this.openedChange=new Yi,this._openedStream=this.openedChange.pipe(To(ri=>ri),N(()=>{})),this._closedStream=this.openedChange.pipe(To(ri=>!ri),N(()=>{})),this.selectionChange=new Yi,this.valueChange=new Yi,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==cn?void 0:cn.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=cn.typeaheadDebounceInterval),this._scrollStrategyFactory=xt,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(pt)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required}set required(e){this._required=Ds(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=Ds(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=Ds(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=ra(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new J0(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(i_(),co(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(co(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(Wr(null),co(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby();if(e!==this._triggerAriaLabelledBy){const i=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?i.setAttribute("aria-labelledby",e):i.removeAttribute("aria-labelledby")}this.ngControl&&this.updateErrorState()}ngOnChanges(e){e.disabled&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this.value=e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const i=e.keyCode,s=40===i||38===i||37===i||39===i,o=13===i||32===i,u=this._keyManager;if(!u.isTyping()&&o&&!Xl(e)||(this.multiple||e.altKey)&&s)e.preventDefault(),this.open();else if(!this.multiple){const x=this.selected;u.onKeydown(e);const H=this.selected;H&&x!==H&&this._liveAnnouncer.announce(H.viewValue,1e4)}}_handleOpenKeydown(e){const i=this._keyManager,s=e.keyCode,o=40===s||38===s,u=i.isTyping();if(o&&e.altKey)e.preventDefault(),this.close();else if(u||13!==s&&32!==s||!i.activeItem||Xl(e))if(!u&&this._multiple&&65===s&&e.ctrlKey){e.preventDefault();const x=this.options.some(H=>!H.disabled&&!H.selected);this.options.forEach(H=>{H.disabled||(x?H.select():H.deselect())})}else{const x=i.activeItemIndex;i.onKeydown(e),this._multiple&&o&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==x&&i.activeItem._selectViaInteraction()}else e.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(Ir(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this._selectionModel.selected.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectValue(i)),this._sortValues();else{const i=this._selectValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(e){const i=this.options.find(s=>{if(this._selectionModel.isSelected(s))return!1;try{return null!=s.value&&this._compareWith(s.value,e)}catch(o){return!1}});return i&&this._selectionModel.select(i),i}_initKeyManager(){this._keyManager=new s9(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(co(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(co(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=Ge(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(co(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),Ge(...this.options.map(i=>i._stateChanges)).pipe(co(e)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(e,i){const s=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(s!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),s!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((i,s)=>this.sortComparator?this.sortComparator(i,s,e):e.indexOf(i)-e.indexOf(s)),this.stateChanges.next()}}_propagateChanges(e){let i=null;i=this.multiple?this.selected.map(s=>s.value):this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var e;return!this._panelOpen&&!this.disabled&&(null===(e=this.options)||void 0===e?void 0:e.length)>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){var e;if(this.ariaLabel)return null;const i=null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId();return this.ariaLabelledby?(i?i+" ":"")+this.ariaLabelledby:i}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var e;if(this.ariaLabel)return null;const i=null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId();let s=(i?i+" ":"")+this._valueId;return this.ariaLabelledby&&(s+=" "+this.ariaLabelledby),s}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){this._ariaDescribedby=e.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(e){return new(e||n)(Jt(yh),Jt(qo),Jt(Vi),Jt(Hy),Jt(ki),Jt(ul,8),Jt(jg,8),Jt(zg,8),Jt(Xy,8),Jt(gl,10),Lo("tabindex"),Jt(sR),Jt(iN),Jt(n$,8))},n.\u0275dir=Tt({type:n,viewQuery:function(e,i){if(1&e&&(ir(zK,5),ir(KK,5),ir(BI,5)),2&e){let s;ls(s=cs())&&(i.trigger=s.first),ls(s=cs())&&(i.panel=s.first),ls(s=cs())&&(i._overlayDir=s.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],id:"id",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",typeaheadDebounceInterval:"typeaheadDebounceInterval",panelClass:"panelClass",ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",sortComparator:"sortComparator"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[Pi,Qi]}),n})(),a$=(()=>{class n extends r${constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(e,i,s){const o=this._getItemHeight();return Math.min(Math.max(0,o*e-i+o/2),s)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(co(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(Ir(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(e){const i=vT(e,this.options,this.optionGroups),s=this._getItemHeight();this.panel.nativeElement.scrollTop=0===e&&1===i?0:function(n,t,e,i){return n<e?n:n+t>e+256?Math.max(0,n-256+t):e}((e+i)*s,s,this.panel.nativeElement.scrollTop)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(e){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(e)}_getChangeEvent(e){return new s$(this,e)}_calculateOverlayOffsetX(){const e=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),i=this._viewportRuler.getViewportSize(),s=this._isRtl(),o=this.multiple?56:32;let u;if(this.multiple)u=40;else if(this.disableOptionCentering)u=16;else{let se=this._selectionModel.selected[0]||this.options.first;u=se&&se.group?32:16}s||(u*=-1);const x=0-(e.left+u-(s?o:0)),H=e.right+u-i.width+(s?0:o);x>0?u+=x+8:H>0&&(u-=H+8),this._overlayDir.offsetX=Math.round(u),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(e,i,s){const o=this._getItemHeight(),u=(o-this._triggerRect.height)/2,x=Math.floor(256/o);let H;return this.disableOptionCentering?0:(H=0===this._scrollTop?e*o:this._scrollTop===s?(e-(this._getItemCount()-x))*o+(o-(this._getItemCount()*o-256)%o):i-o/2,Math.round(-1*H-u))}_checkOverlayWithinViewport(e){const i=this._getItemHeight(),s=this._viewportRuler.getViewportSize(),o=this._triggerRect.top-8,u=s.height-this._triggerRect.bottom-8,x=Math.abs(this._offsetY),se=Math.min(this._getItemCount()*i,256)-x-this._triggerRect.height;se>u?this._adjustPanelUp(se,u):x>o?this._adjustPanelDown(x,o,e):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(e,i){const s=Math.round(e-i);this._scrollTop-=s,this._offsetY-=s,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(e,i,s){const o=Math.round(e-i);if(this._scrollTop+=o,this._offsetY+=o,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=s)return this._scrollTop=s,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const e=this._getItemHeight(),i=this._getItemCount(),s=Math.min(i*e,256),u=i*e-s;let x;x=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),x+=vT(x,this.options,this.optionGroups);const H=s/2;this._scrollTop=this._calculateOverlayScroll(x,H,u),this._offsetY=this._calculateOverlayOffsetY(x,H,u),this._checkOverlayWithinViewport(u)}_getOriginBasedOnOption(){const e=this._getItemHeight(),i=(e-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-i+e/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=to(n)))(i||n)}}(),n.\u0275cmp=Wn({type:n,selectors:[["mat-select"]],contentQueries:function(e,i,s){if(1&e&&(zs(s,oR,5),zs(s,_T,5),zs(s,Gy,5)),2&e){let o;ls(o=cs())&&(i.customTrigger=o.first),ls(o=cs())&&(i.options=o),ls(o=cs())&&(i.optionGroups=o)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(e,i){1&e&&ds("keydown",function(o){return i._handleKeydown(o)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&e&&(ws("id",i.id)("tabindex",i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-describedby",i._ariaDescribedby||null)("aria-activedescendant",i._getAriaActiveDescendant()),As("mat-select-disabled",i.disabled)("mat-select-invalid",i.errorState)("mat-select-required",i.required)("mat-select-empty",i.empty)("mat-select-multiple",i.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[Ki([{provide:F_,useExisting:n},{provide:$y,useExisting:n}]),Pi],ngContentSelectors:JK,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,i){if(1&e&&(qs(XK),ni(0,"div",0,1),ds("click",function(){return i.toggle()}),ni(3,"div",2),Vs(4,$K,2,1,"span",3),Vs(5,QK,3,2,"span",4),ii(),ni(6,"div",5),Es(7,"div",6),ii(),ii(),Vs(8,ZK,4,14,"ng-template",7),ds("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&e){const s=Ku(1);ws("aria-owns",i.panelOpen?i.id+"-panel":null),Di(3),Mi("ngSwitch",i.empty),ws("id",i._valueId),Di(1),Mi("ngSwitchCase",!0),Di(1),Mi("ngSwitchCase",!1),Di(3),Mi("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",s)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayMinWidth",null==i._triggerRect?null:i._triggerRect.width)("cdkConnectedOverlayOffsetY",i._offsetY)}},directives:[ZH,dg,h0,BI,Rx,Nx],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;opacity:0}\n'],encapsulation:2,data:{animation:[tR.transformPanelWrap,tR.transformPanel]},changeDetection:0}),n})(),l$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=et({type:n}),n.\u0275inj=si({providers:[i$],imports:[[uh,VI,Yy,Fs],q0,V_,Yy,Fs]}),n})();var Th=a(3694);let c$=(()=>{class n{constructor(e){this._ngZone=e,this.onChange=new Yi,this.editorOptions={theme:"vs-light",language:"yaml",fontSize:13,formatOnPaste:!0,formatOnType:!0,automaticLayout:!0,scrollBeyondLastLine:!1,tabSize:2}}ngAfterViewInit(){this.initMonaco()}ngOnDestroy(){this.editor.dispose()}initMonaco(){const e=document.getElementById("definition-editor");this.editor=Th.editor.create(e,this.editorOptions),this.editor.setValue(this.initialValue||""),this.editor.getModel().onDidChangeContent(i=>{this.updateCode(this.editor.getValue())}),this.updateCode(this.editor.getValue())}updateCode(e){this._ngZone.run(()=>{this.onChange.emit(e)})}}return n.\u0275fac=function(e){return new(e||n)(Jt(Vi))},n.\u0275cmp=Wn({type:n,selectors:[["app-definition-editor"]],inputs:{initialValue:"initialValue"},outputs:{onChange:"onChange"},decls:2,vars:0,consts:[[1,"monaco-editor-container"],["id","definition-editor",1,"monaco-editor"]],template:function(e,i){1&e&&(ni(0,"div",0),Es(1,"div",1),ii())},styles:[".monaco-editor-container[_ngcontent-%COMP%]{height:500px;width:100%}.monaco-editor[_ngcontent-%COMP%]{height:100%;width:100%}"]}),n})(),d$=(()=>{class n{constructor(e){this._ngZone=e,this.editorOptions={theme:"vs-light",fontSize:13,formatOnPaste:!0,formatOnType:!0,automaticLayout:!0,readOnly:!0,scrollBeyondLastLine:!1,tabSize:2}}ngAfterViewInit(){this.initMonaco()}ngOnChanges(e){this.editor&&(this.editor.setValue(this.data.content||""),Th.editor.setModelLanguage(this.editor.getModel(),this.data.format))}ngOnDestroy(){this.editor.dispose()}initMonaco(){const e=document.getElementById("viewer-editor");this.editor=Th.editor.create(e,this.editorOptions)}}return n.\u0275fac=function(e){return new(e||n)(Jt(Vi))},n.\u0275cmp=Wn({type:n,selectors:[["app-data-preview"]],inputs:{data:"data"},features:[Qi],decls:2,vars:0,consts:[[1,"monaco-editor-container"],["id","viewer-editor",1,"monaco-editor"]],template:function(e,i){1&e&&(ni(0,"div",0),Es(1,"div",1),ii())},styles:[".monaco-editor-container[_ngcontent-%COMP%]{height:500px;width:100%}.monaco-editor[_ngcontent-%COMP%]{width:100%;height:100%}"]}),n})(),u$=0;const Lw=new mi("CdkAccordion");let h$=(()=>{class n{constructor(){this._stateChanges=new le,this._openCloseAllActions=new le,this.id="cdk-accordion-"+u$++,this._multi=!1}get multi(){return this._multi}set multi(e){this._multi=Ds(e)}openAll(){this._multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(e){this._stateChanges.next(e)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Tt({type:n,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[Ki([{provide:Lw,useExisting:n}]),Qi]}),n})(),f$=0,m$=(()=>{class n{constructor(e,i,s){this.accordion=e,this._changeDetectorRef=i,this._expansionDispatcher=s,this._openCloseAllSubscription=C.EMPTY,this.closed=new Yi,this.opened=new Yi,this.destroyed=new Yi,this.expandedChange=new Yi,this.id="cdk-accordion-child-"+f$++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=s.listen((o,u)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===u&&this.id!==o&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}get expanded(){return this._expanded}set expanded(e){e=Ds(e),this._expanded!==e&&(this._expanded=e,this.expandedChange.emit(e),e?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){this._disabled=Ds(e)}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(e=>{this.disabled||(this.expanded=e)})}}return n.\u0275fac=function(e){return new(e||n)(Jt(Lw,12),Jt(qo),Jt(_I))},n.\u0275dir=Tt({type:n,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[Ki([{provide:Lw,useValue:void 0}])]}),n})(),p$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=et({type:n}),n.\u0275inj=si({}),n})();const _$=["body"];function v$(n,t){}const C$=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],b$=["mat-expansion-panel-header","*","mat-action-row"];function y$(n,t){1&n&&Es(0,"span",2),2&n&&Mi("@indicatorRotate",Co()._getExpandedState())}const w$=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],S$=["mat-panel-title","mat-panel-description","*"],xw=new mi("MAT_ACCORDION"),rR="225ms cubic-bezier(0.4,0.0,0.2,1)",aR={indicatorRotate:Sh("indicatorRotate",[hl("collapsed, void",sr({transform:"rotate(0deg)"})),hl("expanded",sr({transform:"rotate(180deg)"})),kc("expanded <=> collapsed, void => collapsed",Wd(rR))]),bodyExpansion:Sh("bodyExpansion",[hl("collapsed, void",sr({height:"0px",visibility:"hidden"})),hl("expanded",sr({height:"*",visibility:"visible"})),kc("expanded <=> collapsed, void => collapsed",Wd(rR))])};let E$=(()=>{class n{constructor(e){this._template=e}}return n.\u0275fac=function(e){return new(e||n)(Jt(xr))},n.\u0275dir=Tt({type:n,selectors:[["ng-template","matExpansionPanelContent",""]]}),n})(),D$=0;const lR=new mi("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let cR=(()=>{class n extends m${constructor(e,i,s,o,u,x,H){super(e,i,s),this._viewContainerRef=o,this._animationMode=x,this._hideToggle=!1,this.afterExpand=new Yi,this.afterCollapse=new Yi,this._inputChanges=new le,this._headerId="mat-expansion-panel-header-"+D$++,this._bodyAnimationDone=new le,this.accordion=e,this._document=u,this._bodyAnimationDone.pipe(i_((se,Re)=>se.fromState===Re.fromState&&se.toState===Re.toState)).subscribe(se=>{"void"!==se.fromState&&("expanded"===se.toState?this.afterExpand.emit():"collapsed"===se.toState&&this.afterCollapse.emit())}),H&&(this.hideToggle=H.hideToggle)}get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(e){this._hideToggle=Ds(e)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(e){this._togglePosition=e}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this.opened.pipe(Wr(null),To(()=>this.expanded&&!this._portal),Ir(1)).subscribe(()=>{this._portal=new Ig(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(e){this._inputChanges.next(e)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const e=this._document.activeElement,i=this._body.nativeElement;return e===i||i.contains(e)}return!1}}return n.\u0275fac=function(e){return new(e||n)(Jt(xw,12),Jt(qo),Jt(_I),Jt(er),Jt(Ti),Jt(Ba,8),Jt(lR,8))},n.\u0275cmp=Wn({type:n,selectors:[["mat-expansion-panel"]],contentQueries:function(e,i,s){if(1&e&&zs(s,E$,5),2&e){let o;ls(o=cs())&&(i._lazyContent=o.first)}},viewQuery:function(e,i){if(1&e&&ir(_$,5),2&e){let s;ls(s=cs())&&(i._body=s.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(e,i){2&e&&As("mat-expanded",i.expanded)("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-expansion-panel-spacing",i._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[Ki([{provide:xw,useValue:void 0}]),Pi,Qi],ngContentSelectors:b$,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(e,i){1&e&&(qs(C$),Gi(0),ni(1,"div",0,1),ds("@bodyExpansion.done",function(o){return i._bodyAnimationDone.next(o)}),ni(3,"div",2),Gi(4,1),Vs(5,v$,0,0,"ng-template",3),ii(),Gi(6,2),ii()),2&e&&(Di(1),Mi("@bodyExpansion",i._getExpandedState())("id",i.id),ws("aria-labelledby",i._headerId),Di(4),Mi("cdkPortalOutlet",i._portal))},directives:[Ng],styles:[".mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row button.mat-button-base,.mat-action-row button.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row button.mat-button-base,[dir=rtl] .mat-action-row button.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[aR.bodyExpansion]},changeDetection:0}),n})();class x${}const M$=Wy(x$);let dR=(()=>{class n extends M${constructor(e,i,s,o,u,x,H){super(),this.panel=e,this._element=i,this._focusMonitor=s,this._changeDetectorRef=o,this._animationMode=x,this._parentChangeSubscription=C.EMPTY;const se=e.accordion?e.accordion._stateChanges.pipe(To(Re=>!(!Re.hideToggle&&!Re.togglePosition))):Tc;this.tabIndex=parseInt(H||"")||0,this._parentChangeSubscription=Ge(e.opened,e.closed,se,e._inputChanges.pipe(To(Re=>!!(Re.hideToggle||Re.disabled||Re.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),e.closed.pipe(To(()=>e._containsFocus())).subscribe(()=>s.focusVia(i,"program")),u&&(this.expandedHeight=u.expandedHeight,this.collapsedHeight=u.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const e=this._isExpanded();return e&&this.expandedHeight?this.expandedHeight:!e&&this.collapsedHeight?this.collapsedHeight:null}_keydown(e){switch(e.keyCode){case 32:case 13:Xl(e)||(e.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(e))}}focus(e,i){e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(e=>{e&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return n.\u0275fac=function(e){return new(e||n)(Jt(cR,1),Jt(ki),Jt(Vd),Jt(qo),Jt(lR,8),Jt(Ba,8),Lo("tabindex"))},n.\u0275cmp=Wn({type:n,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(e,i){1&e&&ds("click",function(){return i._toggle()})("keydown",function(o){return i._keydown(o)}),2&e&&(ws("id",i.panel._headerId)("tabindex",i.tabIndex)("aria-controls",i._getPanelId())("aria-expanded",i._isExpanded())("aria-disabled",i.panel.disabled),Bf("height",i._getHeaderHeight()),As("mat-expanded",i._isExpanded())("mat-expansion-toggle-indicator-after","after"===i._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===i._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===i._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[Pi],ngContentSelectors:S$,decls:5,vars:1,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(e,i){1&e&&(qs(w$),ni(0,"span",0),Gi(1),Gi(2,1),Gi(3,2),ii(),Vs(4,y$,1,1,"span",1)),2&e&&(Di(4),Mi("ngIf",i._showToggle()))},directives:[Td],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;margin-right:16px}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}.cdk-high-contrast-active .mat-expansion-panel .mat-expansion-panel-header.cdk-keyboard-focused:not([aria-disabled=true])::before,.cdk-high-contrast-active .mat-expansion-panel .mat-expansion-panel-header.cdk-program-focused:not([aria-disabled=true])::before,.cdk-high-contrast-active .mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:hover:not([aria-disabled=true])::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;border:3px solid;border-radius:4px;content:""}\n'],encapsulation:2,data:{animation:[aR.indicatorRotate]},changeDetection:0}),n})(),I$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Tt({type:n,selectors:[["mat-panel-description"]],hostAttrs:[1,"mat-expansion-panel-header-description"]}),n})(),N$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Tt({type:n,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),n})(),T$=(()=>{class n extends h${constructor(){super(...arguments),this._ownHeaders=new Dd,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(e){this._hideToggle=Ds(e)}ngAfterContentInit(){this._headers.changes.pipe(Wr(this._headers)).subscribe(e=>{this._ownHeaders.reset(e.filter(i=>i.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new KI(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(e){this._keyManager.onKeydown(e)}_handleHeaderFocus(e){this._keyManager.updateActiveItem(e)}ngOnDestroy(){super.ngOnDestroy(),this._ownHeaders.destroy()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=to(n)))(i||n)}}(),n.\u0275dir=Tt({type:n,selectors:[["mat-accordion"]],contentQueries:function(e,i,s){if(1&e&&zs(s,dR,5),2&e){let o;ls(o=cs())&&(i._headers=o)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(e,i){2&e&&As("mat-accordion-multi",i.multi)},inputs:{multi:"multi",displayMode:"displayMode",togglePosition:"togglePosition",hideToggle:"hideToggle"},exportAs:["matAccordion"],features:[Ki([{provide:xw,useExisting:n}]),Pi]}),n})(),A$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=et({type:n}),n.\u0275inj=si({imports:[[uh,Fs,p$,iy]]}),n})();function R$(n,t){1&n&&(ni(0,"div",5),ni(1,"span",6),gs(2,"Pas d'arguments"),ii(),ii())}function O$(n,t){1&n&&(ni(0,"span",12),gs(1,"(optionnelle)"),ii())}function P$(n,t){if(1&n&&(ni(0,"div",5),ni(1,"div",7),ni(2,"span",8),gs(3),ii(),gs(4,": "),ni(5,"span",9),gs(6),ii(),ni(7,"span",10),gs(8),ii(),Vs(9,O$,2,0,"span",11),ii(),ii()),2&n){const e=t.$implicit;Di(3),ol(e.name),Di(3),ol(e.type),Di(2),ol(e.description),Di(1),Mi("ngIf",e.optional)}}function k$(n,t){if(1&n&&(ni(0,"div",1),ni(1,"mat-expansion-panel",2),ni(2,"mat-expansion-panel-header"),ni(3,"mat-panel-title"),gs(4),ii(),ni(5,"mat-panel-description"),gs(6),ii(),ii(),Vs(7,R$,3,0,"div",3),Vs(8,P$,10,4,"div",4),ii(),ii()),2&n){const e=t.$implicit;Di(4),bd(" ",e.name," "),Di(2),bd(" ",e.description," "),Di(1),Mi("ngIf",!(null!=e.args&&e.args.length)),Di(1),Mi("ngForOf",e.args)}}let F$=(()=>{class n{constructor(e){this.api=e}ngOnInit(){this.api.getAvailableGenerator().subscribe(e=>this.generators=e)}}return n.\u0275fac=function(e){return new(e||n)(Jt(eR))},n.\u0275cmp=Wn({type:n,selectors:[["app-generator-doc"]],decls:2,vars:1,consts:[["class","generator",4,"ngFor","ngForOf"],[1,"generator"],["hideToggle",""],["class","args",4,"ngIf"],["class","args",4,"ngFor","ngForOf"],[1,"args"],[1,"arg-no-args"],[1,"arg"],[1,"arg-name"],[1,"arg-type"],[1,"arg-description"],["class","arg-optional",4,"ngIf"],[1,"arg-optional"]],template:function(e,i){1&e&&(ni(0,"mat-accordion"),Vs(1,k$,9,4,"div",0),ii()),2&e&&(Di(1),Mi("ngForOf",i.generators))},directives:[T$,d0,cR,dR,N$,I$,Td],styles:[".args[_ngcontent-%COMP%]{margin:5px 0}.args[_ngcontent-%COMP%]   .arg-name[_ngcontent-%COMP%]{font-weight:bold}.args[_ngcontent-%COMP%]   .arg-description[_ngcontent-%COMP%]{padding-left:10px}.args[_ngcontent-%COMP%]   .arg-type[_ngcontent-%COMP%]{font-style:italic;padding-left:10px}.args[_ngcontent-%COMP%]   .arg-optional[_ngcontent-%COMP%]{font-style:italic;padding-left:10px}.args[_ngcontent-%COMP%]   .arg-no-args[_ngcontent-%COMP%]{font-style:italic}"]}),n})();const B$={defaultToken:"",ignoreCase:!0,tokenPostfix:".vm",brackets:[{token:"delimiter.bracket",open:"{",close:"}"},{token:"delimiter.parenthesis",open:"(",close:")"},{token:"delimiter.square",open:"[",close:"]"}],keywords:["in"],symbols:/[=><!~?&|+\-*\/\^;\.,]+/,tokenizer:{root:[{include:"@whitespace"},[/[a-zA-Z]\w*/,{cases:{"@keywords":"keyword","@default":"identifier"}}],{include:"@strings"},{include:"@variables"},{include:"@numbers"},{include:"@directive"}],directive:[[/#set/,"keyword"],[/#foreach/,"keyword"],[/#if/,"keyword"],[/#elseif/,"keyword"],[/#else/,"keyword"],[/#end/,"keyword"]],whitespace:[[/\s+/,"white"],[/##.*/,"comment"],[/#\*/,"comment","@blockComment"]],blockComment:[[/[^*#]+/,"comment"],[/\*#/,"comment","@popall"]],numbers:[[/\d*\.\d+([eE][\-+]?\d+)?/,"number.float"],[/0[xX][0-9a-fA-F_]*[0-9a-fA-F]/,"number.hex"],[/\d+/,"number"]],strings:[[/"/,"string","@endString"]],endString:[[/"/,"string","@popall"],[/./,"string"]],variables:[[/\$[\w+\.-]+/,"variable"],[/\$\{/,"variable","@curlyBraceVariable"]],curlyBraceVariable:[[/[\w+\.-]+/,"variable"],[/[}]/,"variable","@pop"]]}};let V$=(()=>{class n{constructor(e){this._ngZone=e,this.onChange=new Yi,this.editorOptions={theme:"vs-light",language:"velocity",fontSize:13,formatOnPaste:!0,formatOnType:!0,automaticLayout:!0,scrollBeyondLastLine:!1,tabSize:2}}ngOnDestroy(){this.editor.dispose()}ngAfterViewInit(){Th.languages.register({id:"velocity"}),Th.languages.setMonarchTokensProvider("velocity",B$),this.initMonaco()}initMonaco(){const e=document.getElementById("template-editor");this.editor=Th.editor.create(e,this.editorOptions),this.editor.setValue(this.initialValue||""),this.editor.getModel().onDidChangeContent(()=>{this.updateCode(this.editor.getValue())}),this.updateCode(this.editor.getValue())}updateCode(e){this._ngZone.run(()=>{this.onChange.emit(e)})}}return n.\u0275fac=function(e){return new(e||n)(Jt(Vi))},n.\u0275cmp=Wn({type:n,selectors:[["app-template-editor"]],inputs:{initialValue:"initialValue"},outputs:{onChange:"onChange"},decls:2,vars:0,consts:[[1,"monaco-editor-container"],["id","template-editor",1,"monaco-editor"]],template:function(e,i){1&e&&(ni(0,"div",0),Es(1,"div",1),ii())},styles:[".monaco-editor-container[_ngcontent-%COMP%]{height:500px;width:100%}.monaco-editor[_ngcontent-%COMP%]{height:100%;width:100%}"]}),n})();function W$(n,t){if(1&n&&(ni(0,"mat-option",14),gs(1),ii()),2&n){const e=t.$implicit;Mi("value",e),Di(1),ol(e)}}function H$(n,t){if(1&n){const e=kf();ni(0,"div",7),ni(1,"h2"),gs(2,"Template"),ii(),ni(3,"app-template-editor",9),ds("onChange",function(s){return _a(e),Co().updateTemplate(s)}),ii(),ii()}if(2&n){const e=Co();Di(3),Mi("initialValue",e.defaults.initial_template)}}const U$=[{path:"",redirectTo:"/generate",pathMatch:"full"},{path:"generate",component:(()=>{class n{constructor(e,i){this.api=e,this.dialog=i,this.generateSubject=new le,this.auto_generate=!0,this.defaults={count:5,format:"json",pretty:!0,auto_generate_debounce_ms:200,available_formats:["json","yaml","xml","sql","csv","template"],initial_definition:["template:","id: IntAutoIncrement()",'firstname: Sample("Name.firstName")','lastname: Sample("Name.lastName")',"age: RandomInt(1, 99)"].join("\n  "),initial_template:["##","## Documentation of velocity template here : https://velocity.apache.org/engine/devel/user-guide.html","##",'#set ($title = "Random people list")',"","$title","===================","#foreach($data in $list)","id=$data.id","name=$data.firstname $data.lastname","age=$data.age","#if($data.age >= 18)","major=yes","#else","major=no","#end","---------","#end"].join("\n")},this.output_count=this.defaults.count,this.output_format=this.defaults.format,this.output_pretty=this.defaults.pretty,this.output_template=this.defaults.initial_template}ngOnInit(){this.generateSubject.pipe(Q0(this.defaults.auto_generate_debounce_ms),N(()=>this.generate())).subscribe()}generateDebounce(){this.generateSubject.next()}generate(){return this.api.generateFromTemplate(this.definition,this.output_count,{format:this.output_format,pretty:this.output_pretty,template:this.output_template}).subscribe(e=>this.updateGenerated(e),e=>this.updateGenerated(e.error))}updateGenerated(e){this.generated={content:e,format:this.output_format}}updateDefinition(e){this.definition=e,this.auto_generate&&this.generateDebounce()}updateCount(e){this.output_count=parseInt(e),this.auto_generate&&this.generate()}updateFormat(e){this.output_format=e,this.auto_generate&&this.generate()}changeAutoGenerate(e){this.auto_generate=e,e&&this.generate()}download(){this.dialog.open(jK,{width:"250px",data:{format:this.output_format,definition:this.definition,count:this.output_count,pretty:this.output_pretty,template:this.output_template}})}updateTemplate(e){this.output_template=e,this.generateDebounce()}changeOutputPretty(e){this.output_pretty=e,this.generate()}isTemplateFormat(){return"template"==this.output_template}}return n.\u0275fac=function(e){return new(e||n)(Jt(eR),Jt(k_))},n.\u0275cmp=Wn({type:n,selectors:[["app-generate-page"]],decls:43,vars:8,consts:[["appearance","fill"],["matInput","","type","number",3,"value","change"],["count",""],[3,"value","selectionChange"],["format",""],[3,"value",4,"ngFor","ngForOf"],[3,"checked","change"],[1,"editor-container"],[1,"half-pane"],[3,"initialValue","onChange"],["mat-button","",3,"click"],[3,"data"],[1,"spacer",2,"clear","both"],["class","editor-container",4,"ngIf"],[3,"value"]],template:function(e,i){if(1&e){const s=kf();ni(0,"h2"),gs(1,"Output configuration"),ii(),ni(2,"mat-form-field",0),ni(3,"mat-label"),ni(4,"mat-icon"),gs(5,"library_books"),ii(),gs(6," Number of objects "),ii(),ni(7,"input",1,2),ds("change",function(){_a(s);const u=Ku(8);return i.updateCount(u.value)}),ii(),ii(),ni(9,"mat-form-field",0),ni(10,"mat-label"),ni(11,"mat-icon"),gs(12,"code"),ii(),gs(13," Output format "),ii(),ni(14,"mat-select",3,4),ds("selectionChange",function(){_a(s);const u=Ku(15);return i.updateFormat(u.value)}),Vs(16,W$,2,2,"mat-option",5),ii(),ii(),ni(17,"mat-slide-toggle",6),ds("change",function(u){return i.changeOutputPretty(u.checked)}),gs(18," Pretty format\n"),ii(),ni(19,"div",7),ni(20,"div",8),ni(21,"h2"),gs(22,"Definition"),ii(),ni(23,"app-definition-editor",9),ds("onChange",function(u){return i.updateDefinition(u)}),ii(),ii(),ni(24,"div",8),ni(25,"h2"),gs(26,"Results"),ii(),ni(27,"mat-slide-toggle",6),ds("change",function(u){return i.changeAutoGenerate(u.checked)}),gs(28," Auto generate "),ii(),ni(29,"button",10),ds("click",function(){return i.generate()}),ni(30,"mat-icon"),gs(31,"cached"),ii(),gs(32," Generate "),ii(),ni(33,"button",10),ds("click",function(){return i.download()}),ni(34,"mat-icon"),gs(35,"download"),ii(),gs(36," Download... "),ii(),Es(37,"app-data-preview",11),ii(),Es(38,"div",12),ii(),Vs(39,H$,4,1,"div",13),ni(40,"h2"),gs(41,"Documentation"),ii(),Es(42,"app-generator-doc")}2&e&&(Di(7),Mi("value",i.defaults.count),Di(7),Mi("value",i.defaults.format),Di(2),Mi("ngForOf",i.defaults.available_formats),Di(1),Mi("checked",i.defaults.pretty),Di(6),Mi("initialValue",i.defaults.initial_definition),Di(4),Mi("checked",i.auto_generate),Di(10),Mi("data",i.generated),Di(2),Mi("ngIf","template"==i.output_format))},directives:[MT,B_,JA,NA,a$,d0,vw,c$,Z_,d$,Td,F$,_T,V$],styles:[".half-pane[_ngcontent-%COMP%]{display:inline-block;width:50%}.half-pane[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{display:inline-block;margin-right:20px}app-definition-editor[_ngcontent-%COMP%]{display:inline-block;border:solid 1px #ccc;width:calc(100% - 2px)}app-data-preview[_ngcontent-%COMP%]{display:inline-block;border:solid 1px #ccc;border-left:none;width:calc(100% - 1px)}app-template-editor[_ngcontent-%COMP%]{display:inline-block;width:calc(100% - 2px);border:solid 1px #ccc}@media (max-width: 900px){.half-pane[_ngcontent-%COMP%]{width:100%}}"]}),n})()}];let j$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=et({type:n}),n.\u0275inj=si({imports:[[nI.forRoot(U$)],nI]}),n})();const z$=["*",[["mat-toolbar-row"]]],K$=["*","mat-toolbar-row"],$$=Fg(class{constructor(n){this._elementRef=n}});let G$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Tt({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),Y$=(()=>{class n extends $${constructor(e,i,s){super(e),this._platform=i,this._document=s}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(Jt(ki),Jt(Gs),Jt(Ti))},n.\u0275cmp=Wn({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,i,s){if(1&e&&zs(s,G$,5),2&e){let o;ls(o=cs())&&(i._toolbarRows=o)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,i){2&e&&As("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[Pi],ngContentSelectors:K$,decls:2,vars:0,template:function(e,i){1&e&&(qs(z$),Gi(0),Gi(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),n})(),Q$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=et({type:n}),n.\u0275inj=si({imports:[[Fs],Fs]}),n})(),Z$=(()=>{class n{constructor(){this.title="data-generator-ui"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Wn({type:n,selectors:[["app-root"]],decls:7,vars:0,consts:[["color","primary"],["mat-button","","routerLink","/","routerLinkActive","active"],["mat-button","","routerLink","/generate","routerLinkActive","active"],[1,"main-container"]],template:function(e,i){1&e&&(ni(0,"mat-toolbar",0),ni(1,"button",1),gs(2,"Data Generator"),ii(),ni(3,"button",2),gs(4,"Generate"),ii(),ii(),ni(5,"div",3),Es(6,"router-outlet"),ii())},directives:[Y$,Z_,e_,XM,K0],styles:[".main-container[_ngcontent-%COMP%]{padding:20px}"]}),n})(),iG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=et({type:n}),n.\u0275inj=si({imports:[[Fs],Fs]}),n})(),gG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=et({type:n}),n.\u0275inj=si({imports:[[R_,Fs],R_,Fs]}),n})(),mG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=et({type:n}),n.\u0275inj=si({imports:[[Fs],Fs]}),n})(),MG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=et({type:n}),n.\u0275inj=si({imports:[[R_,O_,Fs,Ky,uh],R_,Fs,Ky,mG]}),n})(),IG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=et({type:n,bootstrap:[Z$]}),n.\u0275inj=si({providers:[],imports:[[S0,j$,GU,TK,Xz,Q$,CK,iG,V_,nK,gG,MG,A$,l$,Yy,UK,Pj,mK]]}),n})();(function(){if(FL)throw new Error("Cannot enable prod mode after platform setup.");kL=!1})(),TW().bootstrapModule(IG).catch(n=>console.error(n))},2450:(Ct,Qe,a)=>{"use strict";a.d(Qe,{Emitter:()=>Jv,MarkerSeverity:()=>uS,MarkerTag:()=>Tm,Range:()=>xf,Uri:()=>xu,editor:()=>tC,languages:()=>Br});var T=a(4103),U=a(9357),j=a(6723),O=a(4807),k=a(6746),$=a(2109),B=a(8487),R=a(9730),d=a(5529),C=(()=>{return(A=C||(C={}))[A.Unknown=0]="Unknown",A[A.Disabled=1]="Disabled",A[A.Enabled=2]="Enabled",C;var A})(),g=(()=>{return(A=g||(g={}))[A.KeepWhitespace=1]="KeepWhitespace",A[A.InsertAsSnippet=4]="InsertAsSnippet",g;var A})(),b=(()=>{return(A=b||(b={}))[A.Method=0]="Method",A[A.Function=1]="Function",A[A.Constructor=2]="Constructor",A[A.Field=3]="Field",A[A.Variable=4]="Variable",A[A.Class=5]="Class",A[A.Struct=6]="Struct",A[A.Interface=7]="Interface",A[A.Module=8]="Module",A[A.Property=9]="Property",A[A.Event=10]="Event",A[A.Operator=11]="Operator",A[A.Unit=12]="Unit",A[A.Value=13]="Value",A[A.Constant=14]="Constant",A[A.Enum=15]="Enum",A[A.EnumMember=16]="EnumMember",A[A.Keyword=17]="Keyword",A[A.Text=18]="Text",A[A.Color=19]="Color",A[A.File=20]="File",A[A.Reference=21]="Reference",A[A.Customcolor=22]="Customcolor",A[A.Folder=23]="Folder",A[A.TypeParameter=24]="TypeParameter",A[A.User=25]="User",A[A.Issue=26]="Issue",A[A.Snippet=27]="Snippet",b;var A})(),I=(()=>{return(A=I||(I={}))[A.Deprecated=1]="Deprecated",I;var A})(),p=(()=>{return(A=p||(p={}))[A.Invoke=0]="Invoke",A[A.TriggerCharacter=1]="TriggerCharacter",A[A.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions",p;var A})(),w=(()=>{return(A=w||(w={}))[A.EXACT=0]="EXACT",A[A.ABOVE=1]="ABOVE",A[A.BELOW=2]="BELOW",w;var A})(),E=(()=>{return(A=E||(E={}))[A.NotSet=0]="NotSet",A[A.ContentFlush=1]="ContentFlush",A[A.RecoverFromMarkers=2]="RecoverFromMarkers",A[A.Explicit=3]="Explicit",A[A.Paste=4]="Paste",A[A.Undo=5]="Undo",A[A.Redo=6]="Redo",E;var A})(),S=(()=>{return(A=S||(S={}))[A.LF=1]="LF",A[A.CRLF=2]="CRLF",S;var A})(),v=(()=>{return(A=v||(v={}))[A.Text=0]="Text",A[A.Read=1]="Read",A[A.Write=2]="Write",v;var A})(),M=(()=>{return(A=M||(M={}))[A.None=0]="None",A[A.Keep=1]="Keep",A[A.Brackets=2]="Brackets",A[A.Advanced=3]="Advanced",A[A.Full=4]="Full",M;var A})(),_=(()=>{return(A=_||(_={}))[A.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",A[A.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",A[A.accessibilitySupport=2]="accessibilitySupport",A[A.accessibilityPageSize=3]="accessibilityPageSize",A[A.ariaLabel=4]="ariaLabel",A[A.autoClosingBrackets=5]="autoClosingBrackets",A[A.autoClosingDelete=6]="autoClosingDelete",A[A.autoClosingOvertype=7]="autoClosingOvertype",A[A.autoClosingQuotes=8]="autoClosingQuotes",A[A.autoIndent=9]="autoIndent",A[A.automaticLayout=10]="automaticLayout",A[A.autoSurround=11]="autoSurround",A[A.codeLens=12]="codeLens",A[A.codeLensFontFamily=13]="codeLensFontFamily",A[A.codeLensFontSize=14]="codeLensFontSize",A[A.colorDecorators=15]="colorDecorators",A[A.columnSelection=16]="columnSelection",A[A.comments=17]="comments",A[A.contextmenu=18]="contextmenu",A[A.copyWithSyntaxHighlighting=19]="copyWithSyntaxHighlighting",A[A.cursorBlinking=20]="cursorBlinking",A[A.cursorSmoothCaretAnimation=21]="cursorSmoothCaretAnimation",A[A.cursorStyle=22]="cursorStyle",A[A.cursorSurroundingLines=23]="cursorSurroundingLines",A[A.cursorSurroundingLinesStyle=24]="cursorSurroundingLinesStyle",A[A.cursorWidth=25]="cursorWidth",A[A.disableLayerHinting=26]="disableLayerHinting",A[A.disableMonospaceOptimizations=27]="disableMonospaceOptimizations",A[A.domReadOnly=28]="domReadOnly",A[A.dragAndDrop=29]="dragAndDrop",A[A.emptySelectionClipboard=30]="emptySelectionClipboard",A[A.extraEditorClassName=31]="extraEditorClassName",A[A.fastScrollSensitivity=32]="fastScrollSensitivity",A[A.find=33]="find",A[A.fixedOverflowWidgets=34]="fixedOverflowWidgets",A[A.folding=35]="folding",A[A.foldingStrategy=36]="foldingStrategy",A[A.foldingHighlight=37]="foldingHighlight",A[A.unfoldOnClickAfterEndOfLine=38]="unfoldOnClickAfterEndOfLine",A[A.fontFamily=39]="fontFamily",A[A.fontInfo=40]="fontInfo",A[A.fontLigatures=41]="fontLigatures",A[A.fontSize=42]="fontSize",A[A.fontWeight=43]="fontWeight",A[A.formatOnPaste=44]="formatOnPaste",A[A.formatOnType=45]="formatOnType",A[A.glyphMargin=46]="glyphMargin",A[A.gotoLocation=47]="gotoLocation",A[A.hideCursorInOverviewRuler=48]="hideCursorInOverviewRuler",A[A.highlightActiveIndentGuide=49]="highlightActiveIndentGuide",A[A.hover=50]="hover",A[A.inDiffEditor=51]="inDiffEditor",A[A.inlineSuggest=52]="inlineSuggest",A[A.letterSpacing=53]="letterSpacing",A[A.lightbulb=54]="lightbulb",A[A.lineDecorationsWidth=55]="lineDecorationsWidth",A[A.lineHeight=56]="lineHeight",A[A.lineNumbers=57]="lineNumbers",A[A.lineNumbersMinChars=58]="lineNumbersMinChars",A[A.linkedEditing=59]="linkedEditing",A[A.links=60]="links",A[A.matchBrackets=61]="matchBrackets",A[A.minimap=62]="minimap",A[A.mouseStyle=63]="mouseStyle",A[A.mouseWheelScrollSensitivity=64]="mouseWheelScrollSensitivity",A[A.mouseWheelZoom=65]="mouseWheelZoom",A[A.multiCursorMergeOverlapping=66]="multiCursorMergeOverlapping",A[A.multiCursorModifier=67]="multiCursorModifier",A[A.multiCursorPaste=68]="multiCursorPaste",A[A.occurrencesHighlight=69]="occurrencesHighlight",A[A.overviewRulerBorder=70]="overviewRulerBorder",A[A.overviewRulerLanes=71]="overviewRulerLanes",A[A.padding=72]="padding",A[A.parameterHints=73]="parameterHints",A[A.peekWidgetDefaultFocus=74]="peekWidgetDefaultFocus",A[A.definitionLinkOpensInPeek=75]="definitionLinkOpensInPeek",A[A.quickSuggestions=76]="quickSuggestions",A[A.quickSuggestionsDelay=77]="quickSuggestionsDelay",A[A.readOnly=78]="readOnly",A[A.renameOnType=79]="renameOnType",A[A.renderControlCharacters=80]="renderControlCharacters",A[A.renderIndentGuides=81]="renderIndentGuides",A[A.renderFinalNewline=82]="renderFinalNewline",A[A.renderLineHighlight=83]="renderLineHighlight",A[A.renderLineHighlightOnlyWhenFocus=84]="renderLineHighlightOnlyWhenFocus",A[A.renderValidationDecorations=85]="renderValidationDecorations",A[A.renderWhitespace=86]="renderWhitespace",A[A.revealHorizontalRightPadding=87]="revealHorizontalRightPadding",A[A.roundedSelection=88]="roundedSelection",A[A.rulers=89]="rulers",A[A.scrollbar=90]="scrollbar",A[A.scrollBeyondLastColumn=91]="scrollBeyondLastColumn",A[A.scrollBeyondLastLine=92]="scrollBeyondLastLine",A[A.scrollPredominantAxis=93]="scrollPredominantAxis",A[A.selectionClipboard=94]="selectionClipboard",A[A.selectionHighlight=95]="selectionHighlight",A[A.selectOnLineNumbers=96]="selectOnLineNumbers",A[A.showFoldingControls=97]="showFoldingControls",A[A.showUnused=98]="showUnused",A[A.snippetSuggestions=99]="snippetSuggestions",A[A.smartSelect=100]="smartSelect",A[A.smoothScrolling=101]="smoothScrolling",A[A.stickyTabStops=102]="stickyTabStops",A[A.stopRenderingLineAfter=103]="stopRenderingLineAfter",A[A.suggest=104]="suggest",A[A.suggestFontSize=105]="suggestFontSize",A[A.suggestLineHeight=106]="suggestLineHeight",A[A.suggestOnTriggerCharacters=107]="suggestOnTriggerCharacters",A[A.suggestSelection=108]="suggestSelection",A[A.tabCompletion=109]="tabCompletion",A[A.tabIndex=110]="tabIndex",A[A.unusualLineTerminators=111]="unusualLineTerminators",A[A.useShadowDOM=112]="useShadowDOM",A[A.useTabStops=113]="useTabStops",A[A.wordSeparators=114]="wordSeparators",A[A.wordWrap=115]="wordWrap",A[A.wordWrapBreakAfterCharacters=116]="wordWrapBreakAfterCharacters",A[A.wordWrapBreakBeforeCharacters=117]="wordWrapBreakBeforeCharacters",A[A.wordWrapColumn=118]="wordWrapColumn",A[A.wordWrapOverride1=119]="wordWrapOverride1",A[A.wordWrapOverride2=120]="wordWrapOverride2",A[A.wrappingIndent=121]="wrappingIndent",A[A.wrappingStrategy=122]="wrappingStrategy",A[A.showDeprecated=123]="showDeprecated",A[A.inlayHints=124]="inlayHints",A[A.editorClassName=125]="editorClassName",A[A.pixelRatio=126]="pixelRatio",A[A.tabFocusMode=127]="tabFocusMode",A[A.layoutInfo=128]="layoutInfo",A[A.wrappingInfo=129]="wrappingInfo",_;var A})(),f=(()=>{return(A=f||(f={}))[A.TextDefined=0]="TextDefined",A[A.LF=1]="LF",A[A.CRLF=2]="CRLF",f;var A})(),m=(()=>{return(A=m||(m={}))[A.LF=0]="LF",A[A.CRLF=1]="CRLF",m;var A})(),L=(()=>{return(A=L||(L={}))[A.None=0]="None",A[A.Indent=1]="Indent",A[A.IndentOutdent=2]="IndentOutdent",A[A.Outdent=3]="Outdent",L;var A})(),F=(()=>{return(A=F||(F={}))[A.Other=0]="Other",A[A.Type=1]="Type",A[A.Parameter=2]="Parameter",F;var A})(),G=(()=>{return(A=G||(G={}))[A.Automatic=0]="Automatic",A[A.Explicit=1]="Explicit",G;var A})(),Y=(()=>{return(A=Y||(Y={}))[A.DependsOnKbLayout=-1]="DependsOnKbLayout",A[A.Unknown=0]="Unknown",A[A.Backspace=1]="Backspace",A[A.Tab=2]="Tab",A[A.Enter=3]="Enter",A[A.Shift=4]="Shift",A[A.Ctrl=5]="Ctrl",A[A.Alt=6]="Alt",A[A.PauseBreak=7]="PauseBreak",A[A.CapsLock=8]="CapsLock",A[A.Escape=9]="Escape",A[A.Space=10]="Space",A[A.PageUp=11]="PageUp",A[A.PageDown=12]="PageDown",A[A.End=13]="End",A[A.Home=14]="Home",A[A.LeftArrow=15]="LeftArrow",A[A.UpArrow=16]="UpArrow",A[A.RightArrow=17]="RightArrow",A[A.DownArrow=18]="DownArrow",A[A.Insert=19]="Insert",A[A.Delete=20]="Delete",A[A.KEY_0=21]="KEY_0",A[A.KEY_1=22]="KEY_1",A[A.KEY_2=23]="KEY_2",A[A.KEY_3=24]="KEY_3",A[A.KEY_4=25]="KEY_4",A[A.KEY_5=26]="KEY_5",A[A.KEY_6=27]="KEY_6",A[A.KEY_7=28]="KEY_7",A[A.KEY_8=29]="KEY_8",A[A.KEY_9=30]="KEY_9",A[A.KEY_A=31]="KEY_A",A[A.KEY_B=32]="KEY_B",A[A.KEY_C=33]="KEY_C",A[A.KEY_D=34]="KEY_D",A[A.KEY_E=35]="KEY_E",A[A.KEY_F=36]="KEY_F",A[A.KEY_G=37]="KEY_G",A[A.KEY_H=38]="KEY_H",A[A.KEY_I=39]="KEY_I",A[A.KEY_J=40]="KEY_J",A[A.KEY_K=41]="KEY_K",A[A.KEY_L=42]="KEY_L",A[A.KEY_M=43]="KEY_M",A[A.KEY_N=44]="KEY_N",A[A.KEY_O=45]="KEY_O",A[A.KEY_P=46]="KEY_P",A[A.KEY_Q=47]="KEY_Q",A[A.KEY_R=48]="KEY_R",A[A.KEY_S=49]="KEY_S",A[A.KEY_T=50]="KEY_T",A[A.KEY_U=51]="KEY_U",A[A.KEY_V=52]="KEY_V",A[A.KEY_W=53]="KEY_W",A[A.KEY_X=54]="KEY_X",A[A.KEY_Y=55]="KEY_Y",A[A.KEY_Z=56]="KEY_Z",A[A.Meta=57]="Meta",A[A.ContextMenu=58]="ContextMenu",A[A.F1=59]="F1",A[A.F2=60]="F2",A[A.F3=61]="F3",A[A.F4=62]="F4",A[A.F5=63]="F5",A[A.F6=64]="F6",A[A.F7=65]="F7",A[A.F8=66]="F8",A[A.F9=67]="F9",A[A.F10=68]="F10",A[A.F11=69]="F11",A[A.F12=70]="F12",A[A.F13=71]="F13",A[A.F14=72]="F14",A[A.F15=73]="F15",A[A.F16=74]="F16",A[A.F17=75]="F17",A[A.F18=76]="F18",A[A.F19=77]="F19",A[A.NumLock=78]="NumLock",A[A.ScrollLock=79]="ScrollLock",A[A.US_SEMICOLON=80]="US_SEMICOLON",A[A.US_EQUAL=81]="US_EQUAL",A[A.US_COMMA=82]="US_COMMA",A[A.US_MINUS=83]="US_MINUS",A[A.US_DOT=84]="US_DOT",A[A.US_SLASH=85]="US_SLASH",A[A.US_BACKTICK=86]="US_BACKTICK",A[A.US_OPEN_SQUARE_BRACKET=87]="US_OPEN_SQUARE_BRACKET",A[A.US_BACKSLASH=88]="US_BACKSLASH",A[A.US_CLOSE_SQUARE_BRACKET=89]="US_CLOSE_SQUARE_BRACKET",A[A.US_QUOTE=90]="US_QUOTE",A[A.OEM_8=91]="OEM_8",A[A.OEM_102=92]="OEM_102",A[A.NUMPAD_0=93]="NUMPAD_0",A[A.NUMPAD_1=94]="NUMPAD_1",A[A.NUMPAD_2=95]="NUMPAD_2",A[A.NUMPAD_3=96]="NUMPAD_3",A[A.NUMPAD_4=97]="NUMPAD_4",A[A.NUMPAD_5=98]="NUMPAD_5",A[A.NUMPAD_6=99]="NUMPAD_6",A[A.NUMPAD_7=100]="NUMPAD_7",A[A.NUMPAD_8=101]="NUMPAD_8",A[A.NUMPAD_9=102]="NUMPAD_9",A[A.NUMPAD_MULTIPLY=103]="NUMPAD_MULTIPLY",A[A.NUMPAD_ADD=104]="NUMPAD_ADD",A[A.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",A[A.NUMPAD_SUBTRACT=106]="NUMPAD_SUBTRACT",A[A.NUMPAD_DECIMAL=107]="NUMPAD_DECIMAL",A[A.NUMPAD_DIVIDE=108]="NUMPAD_DIVIDE",A[A.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",A[A.ABNT_C1=110]="ABNT_C1",A[A.ABNT_C2=111]="ABNT_C2",A[A.MAX_VALUE=112]="MAX_VALUE",Y;var A})(),de=(()=>{return(A=de||(de={}))[A.Hint=1]="Hint",A[A.Info=2]="Info",A[A.Warning=4]="Warning",A[A.Error=8]="Error",de;var A})(),le=(()=>{return(A=le||(le={}))[A.Unnecessary=1]="Unnecessary",A[A.Deprecated=2]="Deprecated",le;var A})(),ce=(()=>{return(A=ce||(ce={}))[A.Inline=1]="Inline",A[A.Gutter=2]="Gutter",ce;var A})(),be=(()=>{return(A=be||(be={}))[A.UNKNOWN=0]="UNKNOWN",A[A.TEXTAREA=1]="TEXTAREA",A[A.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",A[A.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",A[A.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",A[A.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",A[A.CONTENT_TEXT=6]="CONTENT_TEXT",A[A.CONTENT_EMPTY=7]="CONTENT_EMPTY",A[A.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",A[A.CONTENT_WIDGET=9]="CONTENT_WIDGET",A[A.OVERVIEW_RULER=10]="OVERVIEW_RULER",A[A.SCROLLBAR=11]="SCROLLBAR",A[A.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",A[A.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR",be;var A})(),N=(()=>{return(A=N||(N={}))[A.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",A[A.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",A[A.TOP_CENTER=2]="TOP_CENTER",N;var A})(),V=(()=>{return(A=V||(V={}))[A.Left=1]="Left",A[A.Center=2]="Center",A[A.Right=4]="Right",A[A.Full=7]="Full",V;var A})(),Z=(()=>{return(A=Z||(Z={}))[A.Off=0]="Off",A[A.On=1]="On",A[A.Relative=2]="Relative",A[A.Interval=3]="Interval",A[A.Custom=4]="Custom",Z;var A})(),ie=(()=>{return(A=ie||(ie={}))[A.None=0]="None",A[A.Text=1]="Text",A[A.Blocks=2]="Blocks",ie;var A})(),ue=(()=>{return(A=ue||(ue={}))[A.Smooth=0]="Smooth",A[A.Immediate=1]="Immediate",ue;var A})(),oe=(()=>{return(A=oe||(oe={}))[A.Auto=1]="Auto",A[A.Hidden=2]="Hidden",A[A.Visible=3]="Visible",oe;var A})(),ee=(()=>{return(A=ee||(ee={}))[A.LTR=0]="LTR",A[A.RTL=1]="RTL",ee;var A})(),K=(()=>{return(A=K||(K={}))[A.Invoke=1]="Invoke",A[A.TriggerCharacter=2]="TriggerCharacter",A[A.ContentChange=3]="ContentChange",K;var A})(),ne=(()=>{return(A=ne||(ne={}))[A.File=0]="File",A[A.Module=1]="Module",A[A.Namespace=2]="Namespace",A[A.Package=3]="Package",A[A.Class=4]="Class",A[A.Method=5]="Method",A[A.Property=6]="Property",A[A.Field=7]="Field",A[A.Constructor=8]="Constructor",A[A.Enum=9]="Enum",A[A.Interface=10]="Interface",A[A.Function=11]="Function",A[A.Variable=12]="Variable",A[A.Constant=13]="Constant",A[A.String=14]="String",A[A.Number=15]="Number",A[A.Boolean=16]="Boolean",A[A.Array=17]="Array",A[A.Object=18]="Object",A[A.Key=19]="Key",A[A.Null=20]="Null",A[A.EnumMember=21]="EnumMember",A[A.Struct=22]="Struct",A[A.Event=23]="Event",A[A.Operator=24]="Operator",A[A.TypeParameter=25]="TypeParameter",ne;var A})(),he=(()=>{return(A=he||(he={}))[A.Deprecated=1]="Deprecated",he;var A})(),ge=(()=>{return(A=ge||(ge={}))[A.Hidden=0]="Hidden",A[A.Blink=1]="Blink",A[A.Smooth=2]="Smooth",A[A.Phase=3]="Phase",A[A.Expand=4]="Expand",A[A.Solid=5]="Solid",ge;var A})(),re=(()=>{return(A=re||(re={}))[A.Line=1]="Line",A[A.Block=2]="Block",A[A.Underline=3]="Underline",A[A.LineThin=4]="LineThin",A[A.BlockOutline=5]="BlockOutline",A[A.UnderlineThin=6]="UnderlineThin",re;var A})(),ye=(()=>{return(A=ye||(ye={}))[A.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",A[A.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",A[A.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",A[A.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter",ye;var A})(),ke=(()=>{return(A=ke||(ke={}))[A.None=0]="None",A[A.Same=1]="Same",A[A.Indent=2]="Indent",A[A.DeepIndent=3]="DeepIndent",ke;var A})();let xe=(()=>{class A{static chord(h,D){return(0,O.gx)(h,D)}}return A.CtrlCmd=2048,A.Shift=1024,A.Alt=512,A.WinCtrl=256,A})();function Pe(){return{editor:void 0,languages:void 0,CancellationTokenSource:U.A,Emitter:j.Q5,KeyCode:Y,KeyMod:xe,Position:$.L,Range:B.e,Selection:R.Y,SelectionDirection:ee,MarkerSeverity:de,MarkerTag:le,Uri:k.o,Token:d.WU}}a(1682);var Te=a(3779),Ce=a(1165),Je=a(4857),pe=a(299),Ve=a(3967),Ae=a(6857),Ee=a(8401),ze=a(8896),Be=(()=>{return(A=Be||(Be={}))[A.API=0]="API",A[A.USER=1]="USER",Be;var A})(),Ue=a(1227),ot=function(A,l,h,D){var Se,Q=arguments.length,te=Q<3?l:null===D?D=Object.getOwnPropertyDescriptor(l,h):D;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)te=Reflect.decorate(A,l,h,D);else for(var He=A.length-1;He>=0;He--)(Se=A[He])&&(te=(Q<3?Se(te):Q>3?Se(l,h,te):Se(l,h))||te);return Q>3&&te&&Object.defineProperty(l,h,te),te},vt=function(A,l){return function(h,D){l(h,D,A)}},At=function(A,l,h,D){return new(h||(h=Promise))(function(te,Se){function He(Ot){try{It(D.next(Ot))}catch(ln){Se(ln)}}function ct(Ot){try{It(D.throw(Ot))}catch(ln){Se(ln)}}function It(Ot){Ot.done?te(Ot.value):function(te){return te instanceof h?te:new h(function(Se){Se(te)})}(Ot.value).then(He,ct)}It((D=D.apply(A,l||[])).next())})};let ve=class{constructor(l){this._commandService=l}open(l,h){return At(this,void 0,void 0,function*(){if(!(0,Ue.xn)(l,Ae.lg.command))return!1;if(!(null==h?void 0:h.allowCommands))return!0;"string"==typeof l&&(l=k.o.parse(l));let D=[];try{D=(0,Ve.Q)(decodeURIComponent(l.query))}catch(Q){try{D=(0,Ve.Q)(l.query)}catch(te){}}return Array.isArray(D)||(D=[D]),yield this._commandService.executeCommand(l.path,...D),!0})}};ve=ot([vt(0,ze.H)],ve);let ht=class{constructor(l){this._editorService=l}open(l,h){return At(this,void 0,void 0,function*(){let D;"string"==typeof l&&(l=k.o.parse(l));const Q=/^L?(\d+)(?:,(\d+))?/.exec(l.fragment);return Q&&(D={startLineNumber:parseInt(Q[1]),startColumn:Q[2]?parseInt(Q[2]):1},l=l.with({fragment:""})),l.scheme===Ae.lg.file&&(l=(0,Ee.AH)(l)),yield this._editorService.openCodeEditor({resource:l,options:Object.assign({selection:D,context:(null==h?void 0:h.fromUserGesture)?Be.USER:Be.API},null==h?void 0:h.editorOptions)},this._editorService.getFocusedCodeEditor(),null==h?void 0:h.openToSide),!0})}};ht=ot([vt(0,Te.$)],ht);let Ge=class{constructor(l,h){this._openers=new Je.S,this._validators=new Je.S,this._resolvers=new Je.S,this._resolvedUriTargets=new pe.Y9(D=>D.with({path:null,fragment:null,query:null}).toString()),this._externalOpeners=new Je.S,this._defaultExternalOpener={openExternal:D=>At(this,void 0,void 0,function*(){return(0,Ue.xn)(D,Ae.lg.http)||(0,Ue.xn)(D,Ae.lg.https)?Ce.V3(D):window.location.href=D,!0})},this._openers.push({open:(D,Q)=>At(this,void 0,void 0,function*(){return!!((null==Q?void 0:Q.openExternal)||(0,Ue.xn)(D,Ae.lg.mailto)||(0,Ue.xn)(D,Ae.lg.http)||(0,Ue.xn)(D,Ae.lg.https))&&(yield this._doOpenExternal(D,Q),!0)})}),this._openers.push(new ve(h)),this._openers.push(new ht(l))}registerOpener(l){return{dispose:this._openers.unshift(l)}}registerValidator(l){return{dispose:this._validators.push(l)}}registerExternalUriResolver(l){return{dispose:this._resolvers.push(l)}}setDefaultExternalOpener(l){this._defaultExternalOpener=l}registerExternalOpener(l){return{dispose:this._externalOpeners.push(l)}}open(l,h){var D;return At(this,void 0,void 0,function*(){const Q="string"==typeof l?k.o.parse(l):l,te=null!==(D=this._resolvedUriTargets.get(Q))&&void 0!==D?D:l;for(const Se of this._validators)if(!(yield Se.shouldOpen(te)))return!1;for(const Se of this._openers)if(yield Se.open(l,h))return!0;return!1})}resolveExternalUri(l,h){return At(this,void 0,void 0,function*(){for(const D of this._resolvers)try{const Q=yield D.resolveExternalUri(l,h);if(Q)return this._resolvedUriTargets.has(Q.resolved)||this._resolvedUriTargets.set(Q.resolved,l),Q}catch(Q){}throw new Error("Could not resolve external URI: "+l.toString())})}_doOpenExternal(l,h){return At(this,void 0,void 0,function*(){const D="string"==typeof l?k.o.parse(l):l;let Q,te;try{Q=(yield this.resolveExternalUri(D,h)).resolved}catch(Se){Q=D}if(te="string"==typeof l&&D.toString()===Q.toString()?l:encodeURI(Q.toString(!0)),null==h?void 0:h.allowContributedOpeners){const Se="string"==typeof(null==h?void 0:h.allowContributedOpeners)?null==h?void 0:h.allowContributedOpeners:void 0;for(const He of this._externalOpeners)if(yield He.openExternal(te,{sourceUri:D,preferredOpenerId:Se},U.T.None))return!0}return this._defaultExternalOpener.openExternal(te,{sourceUri:D},U.T.None)})}dispose(){this._validators.clear()}};Ge=ot([vt(0,Te.$),vt(1,ze.H)],Ge);var De=a(3099),Le=a(5111),dt=a(3594),_t=a(2902),Nt=a(6412),zt=a(8995),pn=a(4725),Qt=a(8923),Ht=a(4128),qt=a(7922),nt=a(1719),bt=a(5160),Rt=a(9190),Dt=a(1882);let ft=!1;function Oe(A){!Rt.$L||(ft||(ft=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(A.message))}class We{constructor(l){this._workerId=-1,this._handler=l,this._lastSentReq=0,this._pendingReplies=Object.create(null)}setWorkerId(l){this._workerId=l}sendMessage(l,h){let D=String(++this._lastSentReq);return new Promise((Q,te)=>{this._pendingReplies[D]={resolve:Q,reject:te},this._send({vsWorker:this._workerId,req:D,method:l,args:h})})}handleMessage(l){!l||!l.vsWorker||-1!==this._workerId&&l.vsWorker!==this._workerId||this._handleMessage(l)}_handleMessage(l){if(l.seq){let te=l;if(!this._pendingReplies[te.seq])return void console.warn("Got reply to unknown seq");let Se=this._pendingReplies[te.seq];if(delete this._pendingReplies[te.seq],te.err){let He=te.err;return te.err.$isError&&(He=new Error,He.name=te.err.name,He.message=te.err.message,He.stack=te.err.stack),void Se.reject(He)}return void Se.resolve(te.res)}let D=l.req;this._handler.handleMessage(l.method,l.args).then(te=>{this._send({vsWorker:this._workerId,seq:D,res:te,err:void 0})},te=>{te.detail instanceof Error&&(te.detail=(0,bt.ri)(te.detail)),this._send({vsWorker:this._workerId,seq:D,res:void 0,err:(0,bt.ri)(te)})})}_send(l){let h=[];if(l.req){const D=l;for(let Q=0;Q<D.args.length;Q++)D.args[Q]instanceof ArrayBuffer&&h.push(D.args[Q])}else{const D=l;D.res instanceof ArrayBuffer&&h.push(D.res)}this._handler.sendMessage(l,h)}}class Ne extends nt.JT{constructor(l,h,D){super();let Q=null;this._worker=this._register(l.create("vs/base/common/worker/simpleWorker",ct=>{this._protocol.handleMessage(ct)},ct=>{Q&&Q(ct)})),this._protocol=new We({sendMessage:(ct,It)=>{this._worker.postMessage(ct,It)},handleMessage:(ct,It)=>{if("function"!=typeof D[ct])return Promise.reject(new Error("Missing method "+ct+" on main thread host."));try{return Promise.resolve(D[ct].apply(D,It))}catch(Ot){return Promise.reject(Ot)}}}),this._protocol.setWorkerId(this._worker.getId());let te=null;void 0!==self.require&&"function"==typeof self.require.getConfig?te=self.require.getConfig():void 0!==self.requirejs&&(te=self.requirejs.s.contexts._.config);const Se=Dt.$E(D);this._onModuleLoaded=this._protocol.sendMessage("$initialize",[this._worker.getId(),JSON.parse(JSON.stringify(te)),h,Se]);const He=(ct,It)=>this._request(ct,It);this._lazyProxy=new Promise((ct,It)=>{Q=It,this._onModuleLoaded.then(Ot=>{ct(Dt.IU(Ot,He))},Ot=>{It(Ot),this._onError("Worker failed to load "+h,Ot)})})}getProxyObject(){return this._lazyProxy}_request(l,h){return new Promise((D,Q)=>{this._onModuleLoaded.then(()=>{this._protocol.sendMessage(l,h).then(D,Q)},Q)})}_onError(l,h){console.error(l),console.info(h)}}var $e;const at=null===($e=window.trustedTypes)||void 0===$e?void 0:$e.createPolicy("defaultWorkerFactory",{createScriptURL:A=>A});class Pt{constructor(l,h,D,Q,te){this.id=h;const Se=function(A,l){if(Rt.li.MonacoEnvironment){if("function"==typeof Rt.li.MonacoEnvironment.getWorker)return Rt.li.MonacoEnvironment.getWorker(A,l);if("function"==typeof Rt.li.MonacoEnvironment.getWorkerUrl){const h=Rt.li.MonacoEnvironment.getWorkerUrl(A,l);return new Worker(at?at.createScriptURL(h):h,{name:l})}}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}("workerMain.js",D);this.worker="function"==typeof Se.then?Se:Promise.resolve(Se),this.postMessage(l,[]),this.worker.then(He=>{He.onmessage=function(ct){Q(ct.data)},He.onmessageerror=te,"function"==typeof He.addEventListener&&He.addEventListener("error",te)})}getId(){return this.id}postMessage(l,h){this.worker&&this.worker.then(D=>D.postMessage(l,h))}dispose(){this.worker&&this.worker.then(l=>l.terminate()),this.worker=null}}let on=(()=>{class A{constructor(h){this._label=h,this._webWorkerFailedBeforeError=!1}create(h,D,Q){let te=++A.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new Pt(h,te,this._label||"anonymous"+te,D,Se=>{Oe(Se),this._webWorkerFailedBeforeError=Se,Q(Se)})}}return A.LAST_WORKER_ID=0,A})();var Kt=a(2587),bn=a(2398),yn=a(579);function Un(A,l,h,D){return new bn.Hs(A,l,h).ComputeDiff(D)}class zn{constructor(l){const h=[],D=[];for(let Q=0,te=l.length;Q<te;Q++)h[Q]=Mt(l[Q],1),D[Q]=kt(l[Q],1);this.lines=l,this._startColumns=h,this._endColumns=D}getElements(){const l=[];for(let h=0,D=this.lines.length;h<D;h++)l[h]=this.lines[h].substring(this._startColumns[h]-1,this._endColumns[h]-1);return l}getStrictElement(l){return this.lines[l]}getStartLineNumber(l){return l+1}getEndLineNumber(l){return l+1}createCharSequence(l,h,D){const Q=[],te=[],Se=[];let He=0;for(let ct=h;ct<=D;ct++){const It=this.lines[ct],ln=l?this._endColumns[ct]:It.length+1;for(let xn=l?this._startColumns[ct]:1;xn<ln;xn++)Q[He]=It.charCodeAt(xn-1),te[He]=ct+1,Se[He]=xn,He++}return new ci(Q,te,Se)}}class ci{constructor(l,h,D){this._charCodes=l,this._lineNumbers=h,this._columns=D}getElements(){return this._charCodes}getStartLineNumber(l){return this._lineNumbers[l]}getStartColumn(l){return this._columns[l]}getEndLineNumber(l){return this._lineNumbers[l]}getEndColumn(l){return this._columns[l]+1}}class vi{constructor(l,h,D,Q,te,Se,He,ct){this.originalStartLineNumber=l,this.originalStartColumn=h,this.originalEndLineNumber=D,this.originalEndColumn=Q,this.modifiedStartLineNumber=te,this.modifiedStartColumn=Se,this.modifiedEndLineNumber=He,this.modifiedEndColumn=ct}static createFromDiffChange(l,h,D){let Q,te,Se,He,ct,It,Ot,ln;return 0===l.originalLength?(Q=0,te=0,Se=0,He=0):(Q=h.getStartLineNumber(l.originalStart),te=h.getStartColumn(l.originalStart),Se=h.getEndLineNumber(l.originalStart+l.originalLength-1),He=h.getEndColumn(l.originalStart+l.originalLength-1)),0===l.modifiedLength?(ct=0,It=0,Ot=0,ln=0):(ct=D.getStartLineNumber(l.modifiedStart),It=D.getStartColumn(l.modifiedStart),Ot=D.getEndLineNumber(l.modifiedStart+l.modifiedLength-1),ln=D.getEndColumn(l.modifiedStart+l.modifiedLength-1)),new vi(Q,te,Se,He,ct,It,Ot,ln)}}class Fn{constructor(l,h,D,Q,te){this.originalStartLineNumber=l,this.originalEndLineNumber=h,this.modifiedStartLineNumber=D,this.modifiedEndLineNumber=Q,this.charChanges=te}static createFromDiffResult(l,h,D,Q,te,Se,He){let ct,It,Ot,ln,xn;if(0===h.originalLength?(ct=D.getStartLineNumber(h.originalStart)-1,It=0):(ct=D.getStartLineNumber(h.originalStart),It=D.getEndLineNumber(h.originalStart+h.originalLength-1)),0===h.modifiedLength?(Ot=Q.getStartLineNumber(h.modifiedStart)-1,ln=0):(Ot=Q.getStartLineNumber(h.modifiedStart),ln=Q.getEndLineNumber(h.modifiedStart+h.modifiedLength-1)),Se&&h.originalLength>0&&h.originalLength<20&&h.modifiedLength>0&&h.modifiedLength<20&&te()){const gi=D.createCharSequence(l,h.originalStart,h.originalStart+h.originalLength-1),Si=Q.createCharSequence(l,h.modifiedStart,h.modifiedStart+h.modifiedLength-1);let Ni=Un(gi,Si,te,!0).changes;He&&(Ni=function(A){if(A.length<=1)return A;const l=[A[0]];let h=l[0];for(let D=1,Q=A.length;D<Q;D++){const te=A[D];Math.min(te.originalStart-(h.originalStart+h.originalLength),te.modifiedStart-(h.modifiedStart+h.modifiedLength))<3?(h.originalLength=te.originalStart+te.originalLength-h.originalStart,h.modifiedLength=te.modifiedStart+te.modifiedLength-h.modifiedStart):(l.push(te),h=te)}return l}(Ni)),xn=[];for(let Ri=0,ts=Ni.length;Ri<ts;Ri++)xn.push(vi.createFromDiffChange(Ni[Ri],gi,Si))}return new Fn(ct,It,Ot,ln,xn)}}class ut{constructor(l,h,D){this.shouldComputeCharChanges=D.shouldComputeCharChanges,this.shouldPostProcessCharChanges=D.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=D.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=D.shouldMakePrettyDiff,this.originalLines=l,this.modifiedLines=h,this.original=new zn(l),this.modified=new zn(h),this.continueLineDiff=nn(D.maxComputationTime),this.continueCharDiff=nn(0===D.maxComputationTime?0:Math.min(D.maxComputationTime,5e3))}computeDiff(){if(1===this.original.lines.length&&0===this.original.lines[0].length)return 1===this.modified.lines.length&&0===this.modified.lines[0].length?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};if(1===this.modified.lines.length&&0===this.modified.lines[0].length)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};const l=Un(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),h=l.changes,D=l.quitEarly;if(this.shouldIgnoreTrimWhitespace){const He=[];for(let ct=0,It=h.length;ct<It;ct++)He.push(Fn.createFromDiffResult(this.shouldIgnoreTrimWhitespace,h[ct],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:D,changes:He}}const Q=[];let te=0,Se=0;for(let He=-1,ct=h.length;He<ct;He++){const It=He+1<ct?h[He+1]:null,Ot=It?It.originalStart:this.originalLines.length,ln=It?It.modifiedStart:this.modifiedLines.length;for(;te<Ot&&Se<ln;){const xn=this.originalLines[te],gi=this.modifiedLines[Se];if(xn!==gi){{let Si=Mt(xn,1),Ni=Mt(gi,1);for(;Si>1&&Ni>1&&xn.charCodeAt(Si-2)===gi.charCodeAt(Ni-2);)Si--,Ni--;(Si>1||Ni>1)&&this._pushTrimWhitespaceCharChange(Q,te+1,1,Si,Se+1,1,Ni)}{let Si=kt(xn,1),Ni=kt(gi,1);const Ri=xn.length+1,ts=gi.length+1;for(;Si<Ri&&Ni<ts&&xn.charCodeAt(Si-1)===xn.charCodeAt(Ni-1);)Si++,Ni++;(Si<Ri||Ni<ts)&&this._pushTrimWhitespaceCharChange(Q,te+1,Si,Ri,Se+1,Ni,ts)}}te++,Se++}It&&(Q.push(Fn.createFromDiffResult(this.shouldIgnoreTrimWhitespace,It,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),te+=It.originalLength,Se+=It.modifiedLength)}return{quitEarly:D,changes:Q}}_pushTrimWhitespaceCharChange(l,h,D,Q,te,Se,He){if(this._mergeTrimWhitespaceCharChange(l,h,D,Q,te,Se,He))return;let ct;this.shouldComputeCharChanges&&(ct=[new vi(h,D,h,Q,te,Se,te,He)]),l.push(new Fn(h,h,te,te,ct))}_mergeTrimWhitespaceCharChange(l,h,D,Q,te,Se,He){const ct=l.length;if(0===ct)return!1;const It=l[ct-1];return 0!==It.originalEndLineNumber&&0!==It.modifiedEndLineNumber&&It.originalEndLineNumber+1===h&&It.modifiedEndLineNumber+1===te&&(It.originalEndLineNumber=h,It.modifiedEndLineNumber=te,this.shouldComputeCharChanges&&It.charChanges&&It.charChanges.push(new vi(h,D,h,Q,te,Se,te,He)),!0)}}function Mt(A,l){const h=yn.LC(A);return-1===h?l:h+1}function kt(A,l){const h=yn.ow(A);return-1===h?l:h+2}function nn(A){if(0===A)return()=>!0;const l=Date.now();return()=>Date.now()-l<A}var sn=a(3468),En=a(6983),Zn=a(5610);class ai{constructor(l,h,D){const Q=new Uint8Array(l*h);for(let te=0,Se=l*h;te<Se;te++)Q[te]=D;this._data=Q,this.rows=l,this.cols=h}get(l,h){return this._data[l*this.cols+h]}set(l,h,D){this._data[l*this.cols+h]=D}}class Yn{constructor(l){let h=0,D=0;for(let te=0,Se=l.length;te<Se;te++){let[He,ct,It]=l[te];ct>h&&(h=ct),He>D&&(D=He),It>D&&(D=It)}h++,D++;let Q=new ai(D,h,0);for(let te=0,Se=l.length;te<Se;te++){let[He,ct,It]=l[te];Q.set(He,ct,It)}this._states=Q,this._maxCharCode=h}nextState(l,h){return h<0||h>=this._maxCharCode?0:this._states.get(l,h)}}let Mn=null,Li=null;class Wi{static _createLink(l,h,D,Q,te){let Se=te-1;do{const He=h.charCodeAt(Se);if(2!==l.get(He))break;Se--}while(Se>Q);if(Q>0){const He=h.charCodeAt(Q-1),ct=h.charCodeAt(Se);(40===He&&41===ct||91===He&&93===ct||123===He&&125===ct)&&Se--}return{range:{startLineNumber:D,startColumn:Q+1,endLineNumber:D,endColumn:Se+2},url:h.substring(Q,Se+1)}}static computeLinks(l,h=function(){return null===Mn&&(Mn=new Yn([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),Mn}()){const D=function(){if(null===Li){Li=new Zn.N(0);const A=" \t<>'\"\u3001\u3002\uff61\uff64\uff0c\uff0e\uff1a\uff1b\u2018\u3008\u300c\u300e\u3014\uff08\uff3b\uff5b\uff62\uff63\uff5d\uff3d\uff09\u3015\u300f\u300d\u3009\u2019\uff40\uff5e\u2026";for(let h=0;h<A.length;h++)Li.set(A.charCodeAt(h),1);const l=".,;";for(let h=0;h<l.length;h++)Li.set(l.charCodeAt(h),2)}return Li}();let Q=[];for(let te=1,Se=l.getLineCount();te<=Se;te++){const He=l.getLineContent(te),ct=He.length;let It=0,Ot=0,ln=0,xn=1,gi=!1,Si=!1,Ni=!1,Ri=!1;for(;It<ct;){let ts=!1;const as=He.charCodeAt(It);if(13===xn){let ji;switch(as){case 40:gi=!0,ji=0;break;case 41:ji=gi?0:1;break;case 91:Ni=!0,Si=!0,ji=0;break;case 93:Ni=!1,ji=Si?0:1;break;case 123:Ri=!0,ji=0;break;case 125:ji=Ri?0:1;break;case 39:ji=34===ln||96===ln?0:1;break;case 34:ji=39===ln||96===ln?0:1;break;case 96:ji=39===ln||34===ln?0:1;break;case 42:ji=42===ln?1:0;break;case 124:ji=124===ln?1:0;break;case 32:ji=Ni?0:1;break;default:ji=D.get(as)}1===ji&&(Q.push(Wi._createLink(D,He,te,Ot,It)),ts=!0)}else if(12===xn){let ji;91===as?(Si=!0,ji=0):ji=D.get(as),1===ji?ts=!0:xn=13}else xn=h.nextState(xn,as),0===xn&&(ts=!0);ts&&(xn=1,gi=!1,Si=!1,Ri=!1,Ot=It+1,ln=as),It++}13===xn&&Q.push(Wi._createLink(D,He,te,Ot,ct))}return Q}}class vs{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(l,h,D,Q,te){if(l&&h){let Se=this.doNavigateValueSet(h,te);if(Se)return{range:l,value:Se}}if(D&&Q){let Se=this.doNavigateValueSet(Q,te);if(Se)return{range:D,value:Se}}return null}doNavigateValueSet(l,h){let D=this.numberReplace(l,h);return null!==D?D:this.textReplace(l,h)}numberReplace(l,h){let D=Math.pow(10,l.length-(l.lastIndexOf(".")+1)),Q=Number(l),te=parseFloat(l);return isNaN(Q)||isNaN(te)||Q!==te?null:0!==Q||h?(Q=Math.floor(Q*D),Q+=h?D:-D,String(Q/D)):null}textReplace(l,h){return this.valueSetsReplace(this._defaultValueSet,l,h)}valueSetsReplace(l,h,D){let Q=null;for(let te=0,Se=l.length;null===Q&&te<Se;te++)Q=this.valueSetReplace(l[te],h,D);return Q}valueSetReplace(l,h,D){let Q=l.indexOf(h);return Q>=0?(Q+=D?1:-1,Q<0?Q=l.length-1:Q%=l.length,l[Q]):null}}vs.INSTANCE=new vs;var Ut=a(2329),P=function(A,l,h,D){return new(h||(h=Promise))(function(te,Se){function He(Ot){try{It(D.next(Ot))}catch(ln){Se(ln)}}function ct(Ot){try{It(D.throw(Ot))}catch(ln){Se(ln)}}function It(Ot){Ot.done?te(Ot.value):function(te){return te instanceof h?te:new h(function(Se){Se(te)})}(Ot.value).then(He,ct)}It((D=D.apply(A,l||[])).next())})};class q extends class{constructor(l,h,D,Q){this._uri=l,this._lines=h,this._eol=D,this._versionId=Q,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return null===this._cachedTextValue&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(l){l.eol&&l.eol!==this._eol&&(this._eol=l.eol,this._lineStarts=null);const h=l.changes;for(const D of h)this._acceptDeleteRange(D.range),this._acceptInsertText(new $.L(D.range.startLineNumber,D.range.startColumn),D.text);this._versionId=l.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const l=this._eol.length,h=this._lines.length,D=new Uint32Array(h);for(let Q=0;Q<h;Q++)D[Q]=this._lines[Q].length+l;this._lineStarts=new sn.o(D)}}_setLineText(l,h){this._lines[l]=h,this._lineStarts&&this._lineStarts.changeValue(l,this._lines[l].length+this._eol.length)}_acceptDeleteRange(l){if(l.startLineNumber!==l.endLineNumber)this._setLineText(l.startLineNumber-1,this._lines[l.startLineNumber-1].substring(0,l.startColumn-1)+this._lines[l.endLineNumber-1].substring(l.endColumn-1)),this._lines.splice(l.startLineNumber,l.endLineNumber-l.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(l.startLineNumber,l.endLineNumber-l.startLineNumber);else{if(l.startColumn===l.endColumn)return;this._setLineText(l.startLineNumber-1,this._lines[l.startLineNumber-1].substring(0,l.startColumn-1)+this._lines[l.startLineNumber-1].substring(l.endColumn-1))}}_acceptInsertText(l,h){if(0===h.length)return;let D=(0,yn.uq)(h);if(1===D.length)return void this._setLineText(l.lineNumber-1,this._lines[l.lineNumber-1].substring(0,l.column-1)+D[0]+this._lines[l.lineNumber-1].substring(l.column-1));D[D.length-1]+=this._lines[l.lineNumber-1].substring(l.column-1),this._setLineText(l.lineNumber-1,this._lines[l.lineNumber-1].substring(0,l.column-1)+D[0]);let Q=new Uint32Array(D.length-1);for(let te=1;te<D.length;te++)this._lines.splice(l.lineNumber+te-1,0,D[te]),Q[te-1]=D[te].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(l.lineNumber,Q)}}{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(l){return this._lines[l-1]}getWordAtPosition(l,h){let D=(0,En.t2)(l.column,(0,En.eq)(h),this._lines[l.lineNumber-1],0);return D?new B.e(l.lineNumber,D.startColumn,l.lineNumber,D.endColumn):null}words(l){const h=this._lines,D=this._wordenize.bind(this);let Q=0,te="",Se=0,He=[];return{*[Symbol.iterator](){for(;;)if(Se<He.length){const ct=te.substring(He[Se].start,He[Se].end);Se+=1,yield ct}else{if(!(Q<h.length))break;te=h[Q],He=D(te,l),Se=0,Q+=1}}}}getLineWords(l,h){let D=this._lines[l-1],Q=this._wordenize(D,h),te=[];for(const Se of Q)te.push({word:D.substring(Se.start,Se.end),startColumn:Se.start+1,endColumn:Se.end+1});return te}_wordenize(l,h){const D=[];let Q;for(h.lastIndex=0;(Q=h.exec(l))&&0!==Q[0].length;)D.push({start:Q.index,end:Q.index+Q[0].length});return D}getValueInRange(l){if((l=this._validateRange(l)).startLineNumber===l.endLineNumber)return this._lines[l.startLineNumber-1].substring(l.startColumn-1,l.endColumn-1);let h=this._eol,D=l.startLineNumber-1,Q=l.endLineNumber-1,te=[];te.push(this._lines[D].substring(l.startColumn-1));for(let Se=D+1;Se<Q;Se++)te.push(this._lines[Se]);return te.push(this._lines[Q].substring(0,l.endColumn-1)),te.join(h)}offsetAt(l){return l=this._validatePosition(l),this._ensureLineStarts(),this._lineStarts.getPrefixSum(l.lineNumber-2)+(l.column-1)}positionAt(l){l=Math.floor(l),l=Math.max(0,l),this._ensureLineStarts();let h=this._lineStarts.getIndexOf(l);return{lineNumber:1+h.index,column:1+Math.min(h.remainder,this._lines[h.index].length)}}_validateRange(l){const h=this._validatePosition({lineNumber:l.startLineNumber,column:l.startColumn}),D=this._validatePosition({lineNumber:l.endLineNumber,column:l.endColumn});return h.lineNumber!==l.startLineNumber||h.column!==l.startColumn||D.lineNumber!==l.endLineNumber||D.column!==l.endColumn?{startLineNumber:h.lineNumber,startColumn:h.column,endLineNumber:D.lineNumber,endColumn:D.column}:l}_validatePosition(l){if(!$.L.isIPosition(l))throw new Error("bad position");let{lineNumber:h,column:D}=l,Q=!1;if(h<1)h=1,D=1,Q=!0;else if(h>this._lines.length)h=this._lines.length,D=this._lines[h-1].length+1,Q=!0;else{let te=this._lines[h-1].length+1;D<1?(D=1,Q=!0):D>te&&(D=te,Q=!0)}return Q?{lineNumber:h,column:D}:l}}let me=(()=>{class A{constructor(h,D){this._host=h,this._models=Object.create(null),this._foreignModuleFactory=D,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(h){return this._models[h]}_getModels(){let h=[];return Object.keys(this._models).forEach(D=>h.push(this._models[D])),h}acceptNewModel(h){this._models[h.url]=new q(k.o.parse(h.url),h.lines,h.EOL,h.versionId)}acceptModelChanged(h,D){this._models[h]&&this._models[h].onEvents(D)}acceptRemovedModel(h){!this._models[h]||delete this._models[h]}computeDiff(h,D,Q,te){return P(this,void 0,void 0,function*(){const Se=this._getModel(h),He=this._getModel(D);if(!Se||!He)return null;const ct=Se.getLinesContent(),It=He.getLinesContent(),ln=new ut(ct,It,{shouldComputeCharChanges:!0,shouldPostProcessCharChanges:!0,shouldIgnoreTrimWhitespace:Q,shouldMakePrettyDiff:!0,maxComputationTime:te}).computeDiff(),xn=!(ln.changes.length>0)&&this._modelsAreIdentical(Se,He);return{quitEarly:ln.quitEarly,identical:xn,changes:ln.changes}})}_modelsAreIdentical(h,D){const Q=h.getLineCount();if(Q!==D.getLineCount())return!1;for(let Se=1;Se<=Q;Se++)if(h.getLineContent(Se)!==D.getLineContent(Se))return!1;return!0}computeMoreMinimalEdits(h,D){return P(this,void 0,void 0,function*(){const Q=this._getModel(h);if(!Q)return D;const te=[];let Se;D=D.slice(0).sort((He,ct)=>He.range&&ct.range?B.e.compareRangesUsingStarts(He.range,ct.range):(He.range?0:1)-(ct.range?0:1));for(let{range:He,text:ct,eol:It}of D){if("number"==typeof It&&(Se=It),B.e.isEmpty(He)&&!ct)continue;const Ot=Q.getValueInRange(He);if(ct=ct.replace(/\r\n|\n|\r/g,Q.eol),Ot===ct)continue;if(Math.max(ct.length,Ot.length)>A._diffLimit){te.push({range:He,text:ct});continue}const ln=(0,bn.a$)(Ot,ct,!1),xn=Q.offsetAt(B.e.lift(He).getStartPosition());for(const gi of ln){const Si=Q.positionAt(xn+gi.originalStart),Ni=Q.positionAt(xn+gi.originalStart+gi.originalLength),Ri={text:ct.substr(gi.modifiedStart,gi.modifiedLength),range:{startLineNumber:Si.lineNumber,startColumn:Si.column,endLineNumber:Ni.lineNumber,endColumn:Ni.column}};Q.getValueInRange(Ri.range)!==Ri.text&&te.push(Ri)}}return"number"==typeof Se&&te.push({eol:Se,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),te})}computeLinks(h){return P(this,void 0,void 0,function*(){let D=this._getModel(h);return D?function(A){return A&&"function"==typeof A.getLineCount&&"function"==typeof A.getLineContent?Wi.computeLinks(A):[]}(D):null})}textualSuggest(h,D,Q,te){return P(this,void 0,void 0,function*(){const Se=new Ut.G(!0),He=new RegExp(Q,te),ct=new Set;e:for(let It of h){const Ot=this._getModel(It);if(Ot)for(let ln of Ot.words(He))if(ln!==D&&isNaN(Number(ln))&&(ct.add(ln),ct.size>A._suggestionsLimit))break e}return{words:Array.from(ct),duration:Se.elapsed()}})}computeWordRanges(h,D,Q,te){return P(this,void 0,void 0,function*(){let Se=this._getModel(h);if(!Se)return Object.create(null);const He=new RegExp(Q,te),ct=Object.create(null);for(let It=D.startLineNumber;It<D.endLineNumber;It++){let Ot=Se.getLineWords(It,He);for(const ln of Ot){if(!isNaN(Number(ln.word)))continue;let xn=ct[ln.word];xn||(xn=[],ct[ln.word]=xn),xn.push({startLineNumber:It,startColumn:ln.startColumn,endLineNumber:It,endColumn:ln.endColumn})}}return ct})}navigateValueSet(h,D,Q,te,Se){return P(this,void 0,void 0,function*(){let He=this._getModel(h);if(!He)return null;let ct=new RegExp(te,Se);D.startColumn===D.endColumn&&(D={startLineNumber:D.startLineNumber,startColumn:D.startColumn,endLineNumber:D.endLineNumber,endColumn:D.endColumn+1});let It=He.getValueInRange(D),Ot=He.getWordAtPosition({lineNumber:D.startLineNumber,column:D.startColumn},ct);if(!Ot)return null;let ln=He.getValueInRange(Ot);return vs.INSTANCE.navigateValueSet(D,It,Ot,ln,Q)})}loadForeignModule(h,D,Q){let He={host:Dt.IU(Q,(ct,It)=>this._host.fhr(ct,It)),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(He,D),Promise.resolve(Dt.$E(this._foreignModule))):Promise.reject(new Error("Unexpected usage"))}fmr(h,D){if(!this._foreignModule||"function"!=typeof this._foreignModule[h])return Promise.reject(new Error("Missing requestHandler or method: "+h));try{return Promise.resolve(this._foreignModule[h].apply(this._foreignModule,D))}catch(Q){return Promise.reject(Q)}}}return A._diffLimit=1e5,A._suggestionsLimit=1e4,A})();"function"==typeof importScripts&&(Rt.li.monaco=Pe());var qe=a(1954),st=a(2122),jt=a(2291),Ft=a(8998),Yt=function(A,l){return function(h,D){l(h,D,A)}},tn=function(A,l,h,D){return new(h||(h=Promise))(function(te,Se){function He(Ot){try{It(D.next(Ot))}catch(ln){Se(ln)}}function ct(Ot){try{It(D.throw(Ot))}catch(ln){Se(ln)}}function It(Ot){Ot.done?te(Ot.value):function(te){return te instanceof h?te:new h(function(Se){Se(te)})}(Ot.value).then(He,ct)}It((D=D.apply(A,l||[])).next())})};function An(A,l){let h=A.getModel(l);return!(!h||h.isTooLargeForSyncing())}let Bn=class extends nt.JT{constructor(l,h,D){super(),this._modelService=l,this._workerManager=this._register(new qn(this._modelService)),this._logService=D,this._register(Nt.pM.register("*",{provideLinks:(Q,te)=>An(this._modelService,Q.uri)?this._workerManager.withWorker().then(Se=>Se.computeLinks(Q.uri)).then(Se=>Se&&{links:Se}):Promise.resolve({links:[]})})),this._register(Nt.KZ.register("*",new kn(this._workerManager,h,this._modelService)))}dispose(){super.dispose()}canComputeDiff(l,h){return An(this._modelService,l)&&An(this._modelService,h)}computeDiff(l,h,D,Q){return this._workerManager.withWorker().then(te=>te.computeDiff(l,h,D,Q))}computeMoreMinimalEdits(l,h){if((0,jt.Of)(h)){if(!An(this._modelService,l))return Promise.resolve(h);const D=Ut.G.create(!0),Q=this._workerManager.withWorker().then(te=>te.computeMoreMinimalEdits(l,h));return Q.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",l.toString(!0),D.elapsed())),Promise.race([Q,(0,qt.Vs)(1e3).then(()=>h)])}return Promise.resolve(void 0)}canNavigateValueSet(l){return An(this._modelService,l)}navigateValueSet(l,h,D){return this._workerManager.withWorker().then(Q=>Q.navigateValueSet(l,h,D))}canComputeWordRanges(l){return An(this._modelService,l)}computeWordRanges(l,h){return this._workerManager.withWorker().then(D=>D.computeWordRanges(l,h))}};Bn=function(A,l,h,D){var Se,Q=arguments.length,te=Q<3?l:null===D?D=Object.getOwnPropertyDescriptor(l,h):D;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)te=Reflect.decorate(A,l,h,D);else for(var He=A.length-1;He>=0;He--)(Se=A[He])&&(te=(Q<3?Se(te):Q>3?Se(l,h,te):Se(l,h))||te);return Q>3&&te&&Object.defineProperty(l,h,te),te}([Yt(0,qe.q),Yt(1,st.V),Yt(2,Ft.VZ)],Bn);class kn{constructor(l,h,D){this._debugDisplayName="wordbasedCompletions",this._workerManager=l,this._configurationService=h,this._modelService=D}provideCompletionItems(l,h){return tn(this,void 0,void 0,function*(){const D=this._configurationService.getValue(l.uri,h,"editor");if(!D.wordBasedSuggestions)return;const Q=[];if("currentDocument"===D.wordBasedSuggestionsMode)An(this._modelService,l.uri)&&Q.push(l.uri);else for(const ln of this._modelService.getModels())!An(this._modelService,ln.uri)||(ln===l?Q.unshift(ln.uri):("allDocuments"===D.wordBasedSuggestionsMode||ln.getLanguageIdentifier().id===l.getLanguageIdentifier().id)&&Q.push(ln.uri));if(0===Q.length)return;const te=Kt.zu.getWordDefinition(l.getLanguageIdentifier().id),Se=l.getWordAtPosition(h),He=Se?new B.e(h.lineNumber,Se.startColumn,h.lineNumber,Se.endColumn):B.e.fromPositions(h),ct=He.setEndPosition(h.lineNumber,h.column),Ot=yield(yield this._workerManager.withWorker()).textualSuggest(Q,null==Se?void 0:Se.word,te);return Ot?{duration:Ot.duration,suggestions:Ot.words.map(ln=>({kind:18,label:ln,insertText:ln,range:{insert:ct,replace:He}}))}:void 0})}}class qn extends nt.JT{constructor(l){super(),this._modelService=l,this._editorWorkerClient=null,this._lastWorkerUsedTime=(new Date).getTime(),this._register(new qt.zh).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(15e4)),this._register(this._modelService.onModelRemoved(D=>this._checkStopEmptyWorker()))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){this._editorWorkerClient&&0===this._modelService.getModels().length&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){this._editorWorkerClient&&(new Date).getTime()-this._lastWorkerUsedTime>3e5&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=(new Date).getTime(),this._editorWorkerClient||(this._editorWorkerClient=new rt(this._modelService,!1,"editorWorkerService")),Promise.resolve(this._editorWorkerClient)}}class fi extends nt.JT{constructor(l,h,D){if(super(),this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=l,this._modelService=h,!D){let Q=new qt.zh;Q.cancelAndSet(()=>this._checkStopModelSync(),Math.round(3e4)),this._register(Q)}}dispose(){for(let l in this._syncedModels)(0,nt.B9)(this._syncedModels[l]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(l){for(const h of l){let D=h.toString();this._syncedModels[D]||this._beginModelSync(h),this._syncedModels[D]&&(this._syncedModelsLastUsedTime[D]=(new Date).getTime())}}_checkStopModelSync(){let l=(new Date).getTime(),h=[];for(let D in this._syncedModelsLastUsedTime)l-this._syncedModelsLastUsedTime[D]>6e4&&h.push(D);for(const D of h)this._stopModelSync(D)}_beginModelSync(l){let h=this._modelService.getModel(l);if(!h||h.isTooLargeForSyncing())return;let D=l.toString();this._proxy.acceptNewModel({url:h.uri.toString(),lines:h.getLinesContent(),EOL:h.getEOL(),versionId:h.getVersionId()});const Q=new nt.SL;Q.add(h.onDidChangeContent(te=>{this._proxy.acceptModelChanged(D.toString(),te)})),Q.add(h.onWillDispose(()=>{this._stopModelSync(D)})),Q.add((0,nt.OF)(()=>{this._proxy.acceptRemovedModel(D)})),this._syncedModels[D]=Q}_stopModelSync(l){let h=this._syncedModels[l];delete this._syncedModels[l],delete this._syncedModelsLastUsedTime[l],(0,nt.B9)(h)}}class hn{constructor(l){this._instance=l,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class Ze{constructor(l){this._workerClient=l}fhr(l,h){return this._workerClient.fhr(l,h)}}class rt extends nt.JT{constructor(l,h,D){super(),this._disposed=!1,this._modelService=l,this._keepIdleModels=h,this._workerFactory=new on(D),this._worker=null,this._modelManager=null}fhr(l,h){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new Ne(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new Ze(this)))}catch(l){Oe(l),this._worker=new hn(new me(new Ze(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,l=>(Oe(l),this._worker=new hn(new me(new Ze(this),null)),this._getOrCreateWorker().getProxyObject()))}_getOrCreateModelManager(l){return this._modelManager||(this._modelManager=this._register(new fi(l,this._modelService,this._keepIdleModels))),this._modelManager}_withSyncedResources(l){return this._disposed?Promise.reject((0,bt.F0)()):this._getProxy().then(h=>(this._getOrCreateModelManager(h).ensureSyncedResources(l),h))}computeDiff(l,h,D,Q){return this._withSyncedResources([l,h]).then(te=>te.computeDiff(l.toString(),h.toString(),D,Q))}computeMoreMinimalEdits(l,h){return this._withSyncedResources([l]).then(D=>D.computeMoreMinimalEdits(l.toString(),h))}computeLinks(l){return this._withSyncedResources([l]).then(h=>h.computeLinks(l.toString()))}textualSuggest(l,h,D){return tn(this,void 0,void 0,function*(){const Q=yield this._withSyncedResources(l),te=D.source,Se=(0,yn.mr)(D);return Q.textualSuggest(l.map(He=>He.toString()),h,te,Se)})}computeWordRanges(l,h){return this._withSyncedResources([l]).then(D=>{let Q=this._modelService.getModel(l);if(!Q)return Promise.resolve(null);let te=Kt.zu.getWordDefinition(Q.getLanguageIdentifier().id),Se=te.source,He=(0,yn.mr)(te);return D.computeWordRanges(l.toString(),h,Se,He)})}navigateValueSet(l,h,D){return this._withSyncedResources([l]).then(Q=>{let te=this._modelService.getModel(l);if(!te)return null;let Se=Kt.zu.getWordDefinition(te.getLanguageIdentifier().id),He=Se.source,ct=(0,yn.mr)(Se);return Q.navigateValueSet(l.toString(),h,D,He,ct)})}dispose(){super.dispose(),this._disposed=!0}}class we extends rt{constructor(l,h){super(l,h.keepIdleModels||!1,h.label),this._foreignModuleId=h.moduleId,this._foreignModuleCreateData=h.createData||null,this._foreignModuleHost=h.host||null,this._foreignProxy=null}fhr(l,h){if(!this._foreignModuleHost||"function"!=typeof this._foreignModuleHost[l])return Promise.reject(new Error("Missing method "+l+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[l].apply(this._foreignModuleHost,h))}catch(D){return Promise.reject(D)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then(l=>{const h=this._foreignModuleHost?Dt.$E(this._foreignModuleHost):[];return l.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,h).then(D=>{this._foreignModuleCreateData=null;const Q=(He,ct)=>l.fmr(He,ct),te=(He,ct)=>function(){const It=Array.prototype.slice.call(arguments,0);return ct(He,It)};let Se={};for(const He of D)Se[He]=te(He,Q);return Se})})),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(l){return this._withSyncedResources(l).then(h=>this.getProxy())}}var Sn,Fe=a(1959),Ye=a(712),mt=a(5670);function Zt(A){return!function(A){return Array.isArray(A)}(A)}function fn(A){return"string"==typeof A}function In(A){return!fn(A)}function _n(A){return!A}function On(A,l){return A.ignoreCase&&l?l.toLowerCase():l}function Kn(A){return A.replace(/[&<>'"_]/g,"-")}function Wn(A,l){console.log(`${A.languageId}: ${l}`)}function oi(A,l){return new Error(`${A.languageId}: ${l}`)}function Wt(A,l,h,D,Q){let Se=null;return l.replace(/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g,function(He,ct,It,Ot,ln,xn,gi,Si,Ni){return _n(It)?_n(Ot)?!_n(ln)&&ln<D.length?On(A,D[ln]):!_n(gi)&&A&&"string"==typeof A[gi]?A[gi]:(null===Se&&(Se=Q.split("."),Se.unshift(Q)),!_n(xn)&&xn<Se.length?On(A,Se[xn]):""):On(A,h):"$"})}function X(A,l){let h=l;for(;h&&h.length>0;){const D=A.tokenizer[h];if(D)return D;const Q=h.lastIndexOf(".");h=Q<0?null:h.substr(0,Q)}return null}class wt{constructor(l){this._maxCacheDepth=l,this._entries=Object.create(null)}static create(l,h){return this._INSTANCE.create(l,h)}create(l,h){if(null!==l&&l.depth>=this._maxCacheDepth)return new Vt(l,h);let D=Vt.getStackElementId(l);D.length>0&&(D+="|"),D+=h;let Q=this._entries[D];return Q||(Q=new Vt(l,h),this._entries[D]=Q,Q)}}wt._INSTANCE=new wt(5);class Vt{constructor(l,h){this.parent=l,this.state=h,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(l){let h="";for(;null!==l;)h.length>0&&(h+="|"),h+=l.state,l=l.parent;return h}static _equals(l,h){for(;null!==l&&null!==h;){if(l===h)return!0;if(l.state!==h.state)return!1;l=l.parent,h=h.parent}return null===l&&null===h}equals(l){return Vt._equals(this,l)}push(l){return wt.create(this,l)}pop(){return this.parent}popall(){let l=this;for(;l.parent;)l=l.parent;return l}switchTo(l){return wt.create(this.parent,l)}}class Tt{constructor(l,h){this.modeId=l,this.state=h}equals(l){return this.modeId===l.modeId&&this.state.equals(l.state)}clone(){return this.state.clone()===this.state?this:new Tt(this.modeId,this.state)}}class vn{constructor(l){this._maxCacheDepth=l,this._entries=Object.create(null)}static create(l,h){return this._INSTANCE.create(l,h)}create(l,h){if(null!==h)return new wn(l,h);if(null!==l&&l.depth>=this._maxCacheDepth)return new wn(l,h);let D=Vt.getStackElementId(l),Q=this._entries[D];return Q||(Q=new wn(l,null),this._entries[D]=Q,Q)}}vn._INSTANCE=new vn(5);class wn{constructor(l,h){this.stack=l,this.embeddedModeData=h}clone(){return(this.embeddedModeData?this.embeddedModeData.clone():null)===this.embeddedModeData?this:vn.create(this.stack,this.embeddedModeData)}equals(l){return!!(l instanceof wn&&this.stack.equals(l.stack))&&(null===this.embeddedModeData&&null===l.embeddedModeData||null!==this.embeddedModeData&&null!==l.embeddedModeData&&this.embeddedModeData.equals(l.embeddedModeData))}}class Ln{constructor(){this._tokens=[],this._language=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterMode(l,h){this._language=h}emit(l,h){this._lastTokenType===h&&this._lastTokenLanguage===this._language||(this._lastTokenType=h,this._lastTokenLanguage=this._language,this._tokens.push(new d.WU(l,h,this._language)))}nestedModeTokenize(l,h,D,Q){const te=D.modeId,Se=D.state,He=Nt.RW.get(te);if(!He)return this.enterMode(Q,te),this.emit(Q,""),Se;let ct=He.tokenize(l,h,Se,Q);return this._tokens=this._tokens.concat(ct.tokens),this._lastTokenType=null,this._lastTokenLanguage=null,this._language=null,ct.endState}finalize(l){return new d.hG(this._tokens,l)}}class Rn{constructor(l,h){this._modeService=l,this._theme=h,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterMode(l,h){this._currentLanguageId=this._modeService.getLanguageIdentifier(h).id}emit(l,h){let D=this._theme.match(this._currentLanguageId,h);this._lastTokenMetadata!==D&&(this._lastTokenMetadata=D,this._tokens.push(l),this._tokens.push(D))}static _merge(l,h,D){let Q=null!==l?l.length:0,te=h.length,Se=null!==D?D.length:0;if(0===Q&&0===te&&0===Se)return new Uint32Array(0);if(0===Q&&0===te)return D;if(0===te&&0===Se)return l;let He=new Uint32Array(Q+te+Se);null!==l&&He.set(l);for(let ct=0;ct<te;ct++)He[Q+ct]=h[ct];return null!==D&&He.set(D,Q+te),He}nestedModeTokenize(l,h,D,Q){const te=D.modeId,Se=D.state,He=Nt.RW.get(te);if(!He)return this.enterMode(Q,te),this.emit(Q,""),Se;let ct=He.tokenize2(l,h,Se,Q);return this._prependTokens=Rn._merge(this._prependTokens,this._tokens,ct.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,ct.endState}finalize(l){return new d.Hi(Rn._merge(this._prependTokens,this._tokens,null),l)}}class Gn{constructor(l,h,D,Q){this._modeService=l,this._standaloneThemeService=h,this._modeId=D,this._lexer=Q,this._embeddedModes=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let te=!1;this._tokenizationRegistryListener=Nt.RW.onDidChange(Se=>{if(te)return;let He=!1;for(let ct=0,It=Se.changedLanguages.length;ct<It;ct++)if(this._embeddedModes[Se.changedLanguages[ct]]){He=!0;break}He&&(te=!0,Nt.RW.fire([this._modeId]),te=!1)})}dispose(){this._tokenizationRegistryListener.dispose()}getLoadStatus(){let l=[];for(let h in this._embeddedModes){const D=Nt.RW.get(h);if(D){if(D instanceof Gn){const te=D.getLoadStatus();!1===te.loaded&&l.push(te.promise)}continue}const Q=Nt.RW.getPromise(h);Q&&l.push(Q)}return 0===l.length?{loaded:!0}:{loaded:!1,promise:Promise.all(l).then(h=>{})}}getInitialState(){let l=wt.create(null,this._lexer.start);return vn.create(l,null)}tokenize(l,h,D,Q){let te=new Ln,Se=this._tokenize(l,h,D,Q,te);return te.finalize(Se)}tokenize2(l,h,D,Q){let te=new Rn(this._modeService,this._standaloneThemeService.getColorTheme().tokenTheme),Se=this._tokenize(l,h,D,Q,te);return te.finalize(Se)}_tokenize(l,h,D,Q,te){return D.embeddedModeData?this._nestedTokenize(l,h,D,Q,te):this._myTokenize(l,h,D,Q,te)}_findLeavingNestedModeOffset(l,h){let D=this._lexer.tokenizer[h.stack.state];if(!D&&(D=X(this._lexer,h.stack.state),!D))throw oi(this._lexer,"tokenizer state is not defined: "+h.stack.state);let Q=-1,te=!1;for(const Se of D){if(!In(Se.action)||"@pop"!==Se.action.nextEmbedded)continue;te=!0;let He=Se.regex,ct=Se.regex.source;if("^(?:"===ct.substr(0,4)&&")"===ct.substr(ct.length-1,1)){let Ot=(He.ignoreCase?"i":"")+(He.unicode?"u":"");He=new RegExp(ct.substr(4,ct.length-5),Ot)}let It=l.search(He);-1===It||0!==It&&Se.matchOnlyAtLineStart||(-1===Q||It<Q)&&(Q=It)}if(!te)throw oi(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+h.stack.state);return Q}_nestedTokenize(l,h,D,Q,te){let Se=this._findLeavingNestedModeOffset(l,D);if(-1===Se){let It=te.nestedModeTokenize(l,h,D.embeddedModeData,Q);return vn.create(D.stack,new Tt(D.embeddedModeData.modeId,It))}let He=l.substring(0,Se);He.length>0&&te.nestedModeTokenize(He,!1,D.embeddedModeData,Q);let ct=l.substring(Se);return this._myTokenize(ct,h,D,Q+Se,te)}_safeRuleName(l){return l?l.name:"(unknown)"}_myTokenize(l,h,D,Q,te){te.enterMode(Q,this._modeId);const Se=l.length,He=h&&this._lexer.includeLF?l+"\n":l,ct=He.length;let It=D.embeddedModeData,Ot=D.stack,ln=0,xn=null,gi=!0;for(;gi||ln<ct;){const Si=ln,Ni=Ot.depth,Ri=xn?xn.groups.length:0,ts=Ot.state;let as=null,ji=null,qi=null,Lr=null,no=null;if(xn){as=xn.matches;const bs=xn.groups.shift();ji=bs.matched,qi=bs.action,Lr=xn.rule,0===xn.groups.length&&(xn=null)}else{if(!gi&&ln>=ct)break;gi=!1;let bs=this._lexer.tokenizer[ts];if(!bs&&(bs=X(this._lexer,ts),!bs))throw oi(this._lexer,"tokenizer state is not defined: "+ts);let Js=He.substr(ln);for(const Zi of bs)if((0===ln||!Zi.matchOnlyAtLineStart)&&(as=Js.match(Zi.regex),as)){ji=as[0],qi=Zi.action;break}}if(as||(as=[""],ji=""),qi||(ln<ct&&(as=[He.charAt(ln)],ji=as[0]),qi=this._lexer.defaultToken),null===ji)break;for(ln+=ji.length;Zt(qi)&&In(qi)&&qi.test;)qi=qi.test(ji,as,ts,ln===ct);let ao=null;if("string"==typeof qi||Array.isArray(qi))ao=qi;else if(qi.group)ao=qi.group;else if(null!=qi.token){if(ao=qi.tokenSubst?Wt(this._lexer,qi.token,ji,as,ts):qi.token,qi.nextEmbedded)if("@pop"===qi.nextEmbedded){if(!It)throw oi(this._lexer,"cannot pop embedded mode if not inside one");It=null}else{if(It)throw oi(this._lexer,"cannot enter embedded mode from within an embedded mode");no=Wt(this._lexer,qi.nextEmbedded,ji,as,ts)}if(qi.goBack&&(ln=Math.max(0,ln-qi.goBack)),qi.switchTo&&"string"==typeof qi.switchTo){let bs=Wt(this._lexer,qi.switchTo,ji,as,ts);if("@"===bs[0]&&(bs=bs.substr(1)),!X(this._lexer,bs))throw oi(this._lexer,"trying to switch to a state '"+bs+"' that is undefined in rule: "+this._safeRuleName(Lr));Ot=Ot.switchTo(bs)}else{if(qi.transform&&"function"==typeof qi.transform)throw oi(this._lexer,"action.transform not supported");if(qi.next)if("@push"===qi.next){if(Ot.depth>=this._lexer.maxStack)throw oi(this._lexer,"maximum tokenizer stack size reached: ["+Ot.state+","+Ot.parent.state+",...]");Ot=Ot.push(ts)}else if("@pop"===qi.next){if(Ot.depth<=1)throw oi(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(Lr));Ot=Ot.pop()}else if("@popall"===qi.next)Ot=Ot.popall();else{let bs=Wt(this._lexer,qi.next,ji,as,ts);if("@"===bs[0]&&(bs=bs.substr(1)),!X(this._lexer,bs))throw oi(this._lexer,"trying to set a next state '"+bs+"' that is undefined in rule: "+this._safeRuleName(Lr));Ot=Ot.push(bs)}}qi.log&&"string"==typeof qi.log&&Wn(this._lexer,this._lexer.languageId+": "+Wt(this._lexer,qi.log,ji,as,ts))}if(null===ao)throw oi(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(Lr));const mr=bs=>{let Js=this._modeService.getModeIdForLanguageName(bs);Js&&(bs=Js);const Zi=this._getNestedEmbeddedModeData(bs);if(ln<ct){const pr=l.substr(ln);return this._nestedTokenize(pr,h,vn.create(Ot,Zi),Q+ln,te)}return vn.create(Ot,Zi)};if(Array.isArray(ao)){if(xn&&xn.groups.length>0)throw oi(this._lexer,"groups cannot be nested: "+this._safeRuleName(Lr));if(as.length!==ao.length+1)throw oi(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(Lr));let bs=0;for(let Js=1;Js<as.length;Js++)bs+=as[Js].length;if(bs!==ji.length)throw oi(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(Lr));xn={rule:Lr,matches:as,groups:[]};for(let Js=0;Js<ao.length;Js++)xn.groups[Js]={action:ao[Js],matched:as[Js+1]};ln-=ji.length}else{{if("@rematch"===ao&&(ln-=ji.length,ji="",as=null,ao="",null!==no))return mr(no);if(0===ji.length){if(0===ct||Ni!==Ot.depth||ts!==Ot.state||(xn?xn.groups.length:0)!==Ri)continue;throw oi(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(Lr))}let bs=null;if(fn(ao)&&0===ao.indexOf("@brackets")){let Js=ao.substr("@brackets".length),Zi=ei(this._lexer,ji);if(!Zi)throw oi(this._lexer,"@brackets token returned but no bracket defined as: "+ji);bs=Kn(Zi.token+Js)}else bs=Kn(""===ao?"":ao+this._lexer.tokenPostfix);Si<Se&&te.emit(Si+Q,bs)}if(null!==no)return mr(no)}}return vn.create(Ot,It)}_getNestedEmbeddedModeData(l){let h=this._locateMode(l);if(h){let D=Nt.RW.get(h);if(D)return new Tt(h,D.getInitialState())}return new Tt(h||zt.TG,zt.nO)}_locateMode(l){if(!l||!this._modeService.isRegisteredMode(l))return null;if(l===this._modeId)return l;let h=this._modeService.getModeId(l);return h&&(this._modeService.triggerMode(h),this._embeddedModes[h]=!0),h}}function ei(A,l){if(!l)return null;l=On(A,l);let h=A.brackets;for(const D of h){if(D.open===l)return{token:D.token,bracketType:1};if(D.close===l)return{token:D.token,bracketType:-1}}return null}const Qn=null===(Sn=window.trustedTypes)||void 0===Sn?void 0:Sn.createPolicy("standaloneColorizer",{createHTML:A=>A});class di{static colorizeElement(l,h,D,Q){let te=(Q=Q||{}).theme||"vs",Se=Q.mimeType||D.getAttribute("lang")||D.getAttribute("data-lang");if(!Se)return console.error("Mode not detected"),Promise.resolve();l.setTheme(te);let He=D.firstChild?D.firstChild.nodeValue:"";return D.className+=" "+te,this.colorize(h,He||"",Se,Q).then(It=>{var Ot;const ln=null!==(Ot=null==Qn?void 0:Qn.createHTML(It))&&void 0!==Ot?Ot:It;D.innerHTML=ln},It=>console.error(It))}static colorize(l,h,D,Q){let te=4;Q&&"number"==typeof Q.tabSize&&(te=Q.tabSize),yn.uS(h)&&(h=h.substr(1));let Se=yn.uq(h),He=l.getModeId(D);if(!He)return Promise.resolve(js(Se,te));l.triggerMode(He);const ct=Nt.RW.get(He);if(ct)return Hi(Se,te,ct);const It=Nt.RW.getPromise(He);return new Promise(It?(Ot,ln)=>{It.then(xn=>{Hi(Se,te,xn).then(Ot,ln)},ln)}:(Ot,ln)=>{let xn=null,gi=null;const Si=()=>{xn&&(xn.dispose(),xn=null),gi&&(gi.dispose(),gi=null);const Ni=Nt.RW.get(He);Ni?Hi(Se,te,Ni).then(Ot,ln):Ot(js(Se,te))};gi=new qt._F,gi.cancelAndSet(Si,500),xn=Nt.RW.onDidChange(Ni=>{Ni.changedLanguages.indexOf(He)>=0&&Si()})})}static colorizeLine(l,h,D,Q,te=4){const Se=mt.wA.isBasicASCII(l,h),He=mt.wA.containsRTL(l,Se,D);return(0,Ye.tF)(new Ye.IJ(!1,!0,l,!1,Se,He,0,Q,[],te,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(l,h,D=4){let Q=l.getLineContent(h);l.forceTokenization(h);let Se=l.getLineTokens(h).inflate();return this.colorizeLine(Q,l.mightContainNonBasicASCII(),l.mightContainRTL(),Se,D)}}function Hi(A,l,h){return new Promise((D,Q)=>{const te=()=>{const Se=function(A,l,h){let D=[],Q=h.getInitialState();for(let te=0,Se=A.length;te<Se;te++){let He=A[te],ct=h.tokenize2(He,!0,Q,0);Fe.A.convertToEndOffset(ct.tokens,He.length);let It=new Fe.A(ct.tokens,He);const Ot=mt.wA.isBasicASCII(He,!0),ln=mt.wA.containsRTL(He,Ot,!0);let xn=(0,Ye.tF)(new Ye.IJ(!1,!0,He,!1,Ot,ln,0,It.inflate(),[],l,0,0,0,0,-1,"none",!1,!1,null));D=D.concat(xn.html),D.push("<br/>"),Q=ct.endState}return D.join("")}(A,l,h);if(h instanceof Gn){const He=h.getLoadStatus();if(!1===He.loaded)return void He.promise.then(te,Q)}D(Se)};te()})}function js(A,l){let h=[];const Q=new Uint32Array(2);Q[0]=0,Q[1]=16793600;for(let te=0,Se=A.length;te<Se;te++){let He=A[te];Q[0]=He.length;const ct=new Fe.A(Q,He),It=mt.wA.isBasicASCII(He,!0),Ot=mt.wA.containsRTL(He,It,!0);let ln=(0,Ye.tF)(new Ye.IJ(!1,!0,He,!1,It,Ot,0,ct,[],l,0,0,0,0,-1,"none",!1,!1,null));h=h.concat(ln.html),h.push("<br/>")}return h.join("")}var Ks=a(9740),os=a(1022),Ms=a(6957),fo=a(2168),zi=a(2547),zc=a(7900),Ys=a(9040),Ko=a(3788),zr=a(1631);class Os{constructor(l={},h=[],D=[]){this._contents=l,this._keys=h,this._overrides=D,this.isFrozen=!1}get contents(){return this.checkAndFreeze(this._contents)}get overrides(){return this.checkAndFreeze(this._overrides)}get keys(){return this.checkAndFreeze(this._keys)}isEmpty(){return 0===this._keys.length&&0===Object.keys(this._contents).length&&0===this._overrides.length}getValue(l){return l?(0,Ys.Mt)(this.contents,l):this.contents}override(l){const h=this.getContentsForOverrideIdentifer(l);if(!h||"object"!=typeof h||!Object.keys(h).length)return this;let D={};for(const Q of jt.EB([...Object.keys(this.contents),...Object.keys(h)])){let te=this.contents[Q],Se=h[Q];Se&&("object"==typeof te&&"object"==typeof Se?(te=Ko.I8(te),this.mergeContents(te,Se)):te=Se),D[Q]=te}return new Os(D,this.keys,this.overrides)}merge(...l){const h=Ko.I8(this.contents),D=Ko.I8(this.overrides),Q=[...this.keys];for(const te of l){this.mergeContents(h,te.contents);for(const Se of te.overrides){const[He]=D.filter(ct=>jt.fS(ct.identifiers,Se.identifiers));He?this.mergeContents(He.contents,Se.contents):D.push(Ko.I8(Se))}for(const Se of te.keys)-1===Q.indexOf(Se)&&Q.push(Se)}return new Os(h,Q,D)}freeze(){return this.isFrozen=!0,this}mergeContents(l,h){for(const D of Object.keys(h))D in l&&Dt.Kn(l[D])&&Dt.Kn(h[D])?this.mergeContents(l[D],h[D]):l[D]=Ko.I8(h[D])}checkAndFreeze(l){return this.isFrozen&&!Object.isFrozen(l)?Ko._A(l):l}getContentsForOverrideIdentifer(l){for(const h of this.overrides)if(-1!==h.identifiers.indexOf(l))return h.contents;return null}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}setValue(l,h){this.addKey(l),(0,Ys.KV)(this.contents,l,h,D=>{throw new Error(D)})}removeValue(l){this.removeKey(l)&&(0,Ys.xL)(this.contents,l)}addKey(l){let h=this.keys.length;for(let D=0;D<h;D++)0===l.indexOf(this.keys[D])&&(h=D);this.keys.splice(h,1,l)}removeKey(l){let h=this.keys.indexOf(l);return-1!==h&&(this.keys.splice(h,1),!0)}}class _l extends Os{constructor(){const l=(0,Ys.O4)(),h=(0,Ys.MR)(),D=[];for(const Q of Object.keys(l))zr.G1.test(Q)&&D.push({identifiers:[(0,zr.Uh)(Q).trim()],keys:Object.keys(l[Q]),contents:(0,Ys.Od)(l[Q],te=>console.error(`Conflict in default settings file: ${te}`))});super(l,h,D)}}class Tr{constructor(l,h,D=new Os,Q=new Os,te=new pe.Y9,Se=new Os,He=new pe.Y9,ct=!0){this._defaultConfiguration=l,this._localUserConfiguration=h,this._remoteUserConfiguration=D,this._workspaceConfiguration=Q,this._folderConfigurations=te,this._memoryConfiguration=Se,this._memoryConfigurationByResource=He,this._freeze=ct,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new pe.Y9,this._userConfiguration=null}getValue(l,h,D){return this.getConsolidateConfigurationModel(h,D).getValue(l)}updateValue(l,h,D={}){let Q;D.resource?(Q=this._memoryConfigurationByResource.get(D.resource),Q||(Q=new Os,this._memoryConfigurationByResource.set(D.resource,Q))):Q=this._memoryConfiguration,void 0===h?Q.removeValue(l):Q.setValue(l,h),D.resource||(this._workspaceConsolidatedConfiguration=null)}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration),this._freeze&&this._userConfiguration.freeze()),this._userConfiguration}getConsolidateConfigurationModel(l,h){let D=this.getConsolidatedConfigurationModelForResource(l,h);return l.overrideIdentifier?D.override(l.overrideIdentifier):D}getConsolidatedConfigurationModelForResource({resource:l},h){let D=this.getWorkspaceConsolidatedConfiguration();if(h&&l){const Q=h.getFolder(l);Q&&(D=this.getFolderConsolidatedConfiguration(Q.uri)||D);const te=this._memoryConfigurationByResource.get(l);te&&(D=D.merge(te))}return D}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration),this._freeze&&(this._workspaceConfiguration=this._workspaceConfiguration.freeze())),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(l){let h=this._foldersConsolidatedConfigurations.get(l);if(!h){const D=this.getWorkspaceConsolidatedConfiguration(),Q=this._folderConfigurations.get(l);Q?(h=D.merge(Q),this._freeze&&(h=h.freeze()),this._foldersConsolidatedConfigurations.set(l,h)):h=D}return h}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((l,h)=>{const{contents:D,overrides:Q,keys:te}=this._folderConfigurations.get(h);return l.push([h,{contents:D,overrides:Q,keys:te}]),l},[])}}static parse(l){const h=this.parseConfigurationModel(l.defaults),D=this.parseConfigurationModel(l.user),Q=this.parseConfigurationModel(l.workspace),te=l.folders.reduce((Se,He)=>(Se.set(k.o.revive(He[0]),this.parseConfigurationModel(He[1])),Se),new pe.Y9);return new Tr(h,D,new Os,Q,te,new Os,new pe.Y9,!1)}static parseConfigurationModel(l){return new Os(l.contents,l.keys,l.overrides).freeze()}}class ar{constructor(l,h,D,Q){this.change=l,this.previous=h,this.currentConfiguraiton=D,this.currentWorkspace=Q,this._previousConfiguration=void 0;const te=new Set;l.keys.forEach(He=>te.add(He)),l.overrides.forEach(([,He])=>He.forEach(ct=>te.add(ct))),this.affectedKeys=[...te.values()];const Se=new Os;this.affectedKeys.forEach(He=>Se.setValue(He,{})),this.affectedKeysTree=Se.contents}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=Tr.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(l,h){var D;if(this.doesAffectedKeysTreeContains(this.affectedKeysTree,l)){if(h){const Q=this.previousConfiguration?this.previousConfiguration.getValue(l,h,null===(D=this.previous)||void 0===D?void 0:D.workspace):void 0,te=this.currentConfiguraiton.getValue(l,h,this.currentWorkspace);return!Ko.fS(Q,te)}return!0}return!1}doesAffectedKeysTreeContains(l,h){let Q,D=(0,Ys.Od)({[h]:!0},()=>{});for(;"object"==typeof D&&(Q=Object.keys(D)[0]);){if(!(l=l[Q]))return!1;D=D[Q]}return!0}}var yi=a(1606);const Jg=/^(cursor|delete)/;class Jd extends nt.JT{constructor(l,h,D,Q,te){super(),this._contextKeyService=l,this._commandService=h,this._telemetryService=D,this._notificationService=Q,this._logService=te,this._onDidUpdateKeybindings=this._register(new j.Q5),this._currentChord=null,this._currentChordChecker=new qt.zh,this._currentChordStatusMessage=null,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new qt._F,this._logging=!1}get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:j.ju.None}dispose(){super.dispose()}_log(l){this._logging&&this._logService.info(`[KeybindingService]: ${l}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(l,h){const D=this._getResolver().lookupPrimaryKeybinding(l,h||this._contextKeyService);if(D)return D.resolvedKeybinding}dispatchEvent(l,h){return this._dispatch(l,h)}softDispatch(l,h){const D=this.resolveKeyboardEvent(l);if(D.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),null;const[Q]=D.getDispatchParts();if(null===Q)return null;const te=this._contextKeyService.getContext(h),Se=this._currentChord?this._currentChord.keypress:null;return this._getResolver().resolve(te,Se,Q)}_enterChordMode(l,h){this._currentChord={keypress:l,label:h},this._currentChordStatusMessage=this._notificationService.status(yi.N("first.chord","({0}) was pressed. Waiting for second key of chord...",h));const D=Date.now();this._currentChordChecker.cancelAndSet(()=>{this._documentHasFocus()?Date.now()-D>5e3&&this._leaveChordMode():this._leaveChordMode()},500)}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChord=null}_dispatch(l,h){return this._doDispatch(this.resolveKeyboardEvent(l),h,!1)}_singleModifierDispatch(l,h){const D=this.resolveKeyboardEvent(l),[Q]=D.getSingleModifierDispatchParts();return null!==Q&&null===this._currentSingleModifier?(this._log(`+ Storing single modifier for possible chord ${Q}.`),this._currentSingleModifier=Q,this._currentSingleModifierClearTimeout.cancelAndSet(()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null},300),!1):null!==Q&&Q===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${Q} ${Q}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(D,h,!0)):(this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1)}_doDispatch(l,h,D=!1){let Q=!1;if(l.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),!1;let te=null,Se=null;if(D){const[Ot]=l.getSingleModifierDispatchParts();te=Ot,Se=Ot}else[te]=l.getDispatchParts(),Se=this._currentChord?this._currentChord.keypress:null;if(null===te)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),Q;const He=this._contextKeyService.getContext(h),ct=l.getLabel(),It=this._getResolver().resolve(He,Se,te);return this._logService.trace("KeybindingService#dispatch",ct,null==It?void 0:It.commandId),It&&It.enterChord?(Q=!0,this._enterChordMode(te,ct),Q):(this._currentChord&&(!It||!It.commandId)&&(this._notificationService.status(yi.N("missing.chord","The key combination ({0}, {1}) is not a command.",this._currentChord.label,ct),{hideAfter:1e4}),Q=!0),this._leaveChordMode(),It&&It.commandId&&(It.bubble||(Q=!0),void 0===It.commandArgs?this._commandService.executeCommand(It.commandId).then(void 0,Ot=>this._notificationService.warn(Ot)):this._commandService.executeCommand(It.commandId,It.commandArgs).then(void 0,Ot=>this._notificationService.warn(Ot)),Jg.test(It.commandId)||this._telemetryService.publicLog2("workbenchActionExecuted",{id:It.commandId,from:"keybinding"})),Q)}mightProducePrintableCharacter(l){return!l.ctrlKey&&!l.metaKey&&(l.keyCode>=31&&l.keyCode<=56||l.keyCode>=21&&l.keyCode<=30)}}class wr{constructor(l,h,D){this._log=D,this._defaultKeybindings=l,this._defaultBoundCommands=new Map;for(let Q=0,te=l.length;Q<te;Q++){const Se=l[Q].command;Se&&this._defaultBoundCommands.set(Se,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=wr.combine(l,h);for(let Q=0,te=this._keybindings.length;Q<te;Q++){let Se=this._keybindings[Q];0!==Se.keypressParts.length&&(Se.when&&0===Se.when.type||this._addKeyPress(Se.keypressParts[0],Se))}}static _isTargetedForRemoval(l,h,D,Q,te){return!(l.command!==Q||h&&l.keypressParts[0]!==h||D&&l.keypressParts[1]!==D||te&&(!l.when||!te.equals(l.when)))}static combine(l,h){l=l.slice(0);let D=[];for(const Q of h){if(!Q.command||0===Q.command.length||"-"!==Q.command.charAt(0)){D.push(Q);continue}const te=Q.command.substr(1),Se=Q.keypressParts[0],He=Q.keypressParts[1],ct=Q.when;for(let It=l.length-1;It>=0;It--)this._isTargetedForRemoval(l[It],Se,He,te,ct)&&l.splice(It,1)}return l.concat(D)}_addKeyPress(l,h){const D=this._map.get(l);if(void 0===D)return this._map.set(l,[h]),void this._addToLookupMap(h);for(let Q=D.length-1;Q>=0;Q--){let te=D[Q];if(te.command===h.command)continue;const He=h.keypressParts.length>1;te.keypressParts.length>1&&He&&te.keypressParts[1]!==h.keypressParts[1]||wr.whenIsEntirelyIncluded(te.when,h.when)&&this._removeFromLookupMap(te)}D.push(h),this._addToLookupMap(h)}_addToLookupMap(l){if(!l.command)return;let h=this._lookupMap.get(l.command);void 0===h?(h=[l],this._lookupMap.set(l.command,h)):h.push(l)}_removeFromLookupMap(l){if(!l.command)return;let h=this._lookupMap.get(l.command);if(void 0!==h)for(let D=0,Q=h.length;D<Q;D++)if(h[D]===l)return void h.splice(D,1)}static whenIsEntirelyIncluded(l,h){return!h||1===h.type||!(!l||1===l.type)&&this._implies(l,h)}static _implies(l,h){const Q=Se=>9===Se.type?Se.expr:[Se];let te=Q(l.negate()).concat(Q(h));for(let Se=0;Se<te.length;Se++){const ct=te[Se].negate();for(let It=Se+1;It<te.length;It++)if(ct.equals(te[It]))return!0}return!1}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(l,h){const D=this._lookupMap.get(l);if(void 0===D||0===D.length)return null;if(1===D.length)return D[0];for(let Q=D.length-1;Q>=0;Q--){const te=D[Q];if(h.contextMatchesRules(te.when))return te}return D[D.length-1]}resolve(l,h,D){this._log(`| Resolving ${D}${h?` chorded from ${h}`:""}`);let Q=null;if(null!==h){const Se=this._map.get(h);if(void 0===Se)return this._log("\\ No keybinding entries."),null;Q=[];for(let He=0,ct=Se.length;He<ct;He++){let It=Se[He];It.keypressParts[1]===D&&Q.push(It)}}else{const Se=this._map.get(D);if(void 0===Se)return this._log("\\ No keybinding entries."),null;Q=Se}let te=this._findCommand(l,Q);return te?null===h&&te.keypressParts.length>1&&null!==te.keypressParts[1]?(this._log(`\\ From ${Q.length} keybinding entries, matched chord, when: ${nc(te.when)}, source: ${Kr(te)}.`),{enterChord:!0,leaveChord:!1,commandId:null,commandArgs:null,bubble:!1}):(this._log(`\\ From ${Q.length} keybinding entries, matched ${te.command}, when: ${nc(te.when)}, source: ${Kr(te)}.`),{enterChord:!1,leaveChord:te.keypressParts.length>1,commandId:te.command,commandArgs:te.commandArgs,bubble:te.bubble}):(this._log(`\\ From ${Q.length} keybinding entries, no when clauses matched the context.`),null)}_findCommand(l,h){for(let D=h.length-1;D>=0;D--){let Q=h[D];if(wr.contextMatchesRules(l,Q.when))return Q}return null}static contextMatchesRules(l,h){return!h||h.evaluate(l)}}function nc(A){return A?`${A.serialize()}`:"no when condition"}function Kr(A){return A.extensionId?A.isBuiltinExtension?`built-in extension ${A.extensionId}`:`user extension ${A.extensionId}`:A.isDefault?"built-in":"user"}var ic=a(2331);class $r{constructor(l,h,D,Q,te,Se,He){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=l,this.keypressParts=l?go(l.getDispatchParts()):[],l&&0===this.keypressParts.length&&(this.keypressParts=go(l.getSingleModifierDispatchParts())),this.bubble=!!h&&94===h.charCodeAt(0),this.command=this.bubble?h.substr(1):h,this.commandArgs=D,this.when=Q,this.isDefault=te,this.extensionId=Se,this.isBuiltinExtension=He}}function go(A){let l=[];for(let h=0,D=A.length;h<D;h++){const Q=A[h];if(!Q)return l;l.push(Q)}return l}var Kc=a(7962);class Sr extends O.f1{constructor(l,h){if(super(),0===h.length)throw(0,bt.b1)("parts");this._os=l,this._parts=h}getLabel(){return Kc.xo.toLabel(this._os,this._parts,l=>this._getLabel(l))}getAriaLabel(){return Kc.X4.toLabel(this._os,this._parts,l=>this._getAriaLabel(l))}isChord(){return this._parts.length>1}getParts(){return this._parts.map(l=>this._getPart(l))}_getPart(l){return new O.BQ(l.ctrlKey,l.shiftKey,l.altKey,l.metaKey,this._getLabel(l),this._getAriaLabel(l))}getDispatchParts(){return this._parts.map(l=>this._getDispatchPart(l))}getSingleModifierDispatchParts(){return this._parts.map(l=>this._getSingleModifierDispatchPart(l))}}class Ro extends Sr{constructor(l,h){super(h,l.parts)}_keyCodeToUILabel(l){if(2===this._os)switch(l){case 15:return"\u2190";case 16:return"\u2191";case 17:return"\u2192";case 18:return"\u2193"}return O.kL.toString(l)}_getLabel(l){return l.isDuplicateModifierCase()?"":this._keyCodeToUILabel(l.keyCode)}_getAriaLabel(l){return l.isDuplicateModifierCase()?"":O.kL.toString(l.keyCode)}_getDispatchPart(l){return Ro.getDispatchStr(l)}static getDispatchStr(l){if(l.isModifierKey())return null;let h="";return l.ctrlKey&&(h+="ctrl+"),l.shiftKey&&(h+="shift+"),l.altKey&&(h+="alt+"),l.metaKey&&(h+="meta+"),h+=O.kL.toString(l.keyCode),h}_getSingleModifierDispatchPart(l){return 5!==l.keyCode||l.shiftKey||l.altKey||l.metaKey?4!==l.keyCode||l.ctrlKey||l.altKey||l.metaKey?6!==l.keyCode||l.ctrlKey||l.shiftKey||l.metaKey?57!==l.keyCode||l.ctrlKey||l.shiftKey||l.altKey?null:"meta":"alt":"shift":"ctrl"}}var $o=a(1004),Wa=a(7554),ha=a(4598),Go=function(A,l,h,D){var Se,Q=arguments.length,te=Q<3?l:null===D?D=Object.getOwnPropertyDescriptor(l,h):D;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)te=Reflect.decorate(A,l,h,D);else for(var He=A.length-1;He>=0;He--)(Se=A[He])&&(te=(Q<3?Se(te):Q>3?Se(l,h,te):Se(l,h))||te);return Q>3&&te&&Object.defineProperty(l,h,te),te},fa=function(A,l){return function(h,D){l(h,D,A)}},Ph=function(A,l,h,D){return new(h||(h=Promise))(function(te,Se){function He(Ot){try{It(D.next(Ot))}catch(ln){Se(ln)}}function ct(Ot){try{It(D.throw(Ot))}catch(ln){Se(ln)}}function It(Ot){Ot.done?te(Ot.value):function(te){return te instanceof h?te:new h(function(Se){Se(te)})}(Ot.value).then(He,ct)}It((D=D.apply(A,l||[])).next())})};class kh{constructor(l){this.disposed=!1,this.model=l,this._onWillDispose=new j.Q5}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}let qd=class{constructor(l){this.modelService=l}setEditor(l){this.editor=l}createModelReference(l){let h=null;return this.editor&&(h=function(A,l,h){return(0,Ms.CL)(A)?l(A):h(A)}(this.editor,D=>this.findModel(D,l),D=>this.findModel(D.getOriginalEditor(),l)||this.findModel(D.getModifiedEditor(),l))),h?Promise.resolve(new nt.Jz(new kh(h))):Promise.reject(new Error("Model not found"))}findModel(l,h){let D=this.modelService.getModel(h);return D&&D.uri.toString()!==h.toString()?null:D}};qd=Go([fa(0,qe.q)],qd);let vl=(()=>{class A{show(){return A.NULL_PROGRESS_RUNNER}showWhile(h,D){return Ph(this,void 0,void 0,function*(){yield h})}}return A.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}},A})();class $c{confirm(l){return this.doConfirm(l).then(h=>({confirmed:h,checkboxChecked:!1}))}doConfirm(l){let h=l.message;return l.detail&&(h=h+"\n\n"+l.detail),Promise.resolve(window.confirm(h))}show(l,h,D,Q){return Promise.resolve({choice:0})}}class Gc{info(l){return this.notify({severity:os.Z.Info,message:l})}warn(l){return this.notify({severity:os.Z.Warning,message:l})}error(l){return this.notify({severity:os.Z.Error,message:l})}notify(l){switch(l.severity){case os.Z.Error:console.error(l.message);break;case os.Z.Warning:console.warn(l.message);break;default:console.log(l.message)}return Gc.NO_OP}status(l,h){return nt.JT.None}}Gc.NO_OP=new $o.EO;class qg{constructor(l){this._onWillExecuteCommand=new j.Q5,this._onDidExecuteCommand=new j.Q5,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=l}executeCommand(l,...h){const D=ze.P.getCommand(l);if(!D)return Promise.reject(new Error(`command '${l}' not found`));try{this._onWillExecuteCommand.fire({commandId:l,args:h});const Q=this._instantiationService.invokeFunction.apply(this._instantiationService,[D.handler,...h]);return this._onDidExecuteCommand.fire({commandId:l,args:h}),Promise.resolve(Q)}catch(Q){return Promise.reject(Q)}}}class sc extends Jd{constructor(l,h,D,Q,te,Se){super(l,h,D,Q,te),this._cachedResolver=null,this._dynamicKeybindings=[],this._register(Ce.nm(Se,Ce.tw.KEY_DOWN,He=>{const ct=new Ks.y(He);this._dispatch(ct,ct.target)&&(ct.preventDefault(),ct.stopPropagation())})),this._register(Ce.nm(window,Ce.tw.KEY_UP,He=>{const ct=new Ks.y(He);this._singleModifierDispatch(ct,ct.target)&&ct.preventDefault()}))}addDynamicKeybinding(l,h,D,Q){const te=(0,O.gm)(h,Rt.OS),Se=new nt.SL;return te&&(this._dynamicKeybindings.push({keybinding:te,command:l,when:Q,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}),Se.add((0,nt.OF)(()=>{for(let He=0;He<this._dynamicKeybindings.length;He++)if(this._dynamicKeybindings[He].command===l)return this._dynamicKeybindings.splice(He,1),void this.updateResolver({source:1})}))),Se.add(ze.P.registerCommand(l,D)),this.updateResolver({source:1}),Se}updateResolver(l){this._cachedResolver=null,this._onDidUpdateKeybindings.fire(l)}_getResolver(){if(!this._cachedResolver){const l=this._toNormalizedKeybindingItems(ic.W.getDefaultKeybindings(),!0),h=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new wr(l,h,D=>this._log(D))}return this._cachedResolver}_documentHasFocus(){return document.hasFocus()}_toNormalizedKeybindingItems(l,h){let D=[],Q=0;for(const te of l){const Se=te.when||void 0,He=te.keybinding;if(He){const ct=this.resolveKeybinding(He);for(const It of ct)D[Q++]=new $r(It,te.command,te.commandArgs,Se,h,null,!1)}else D[Q++]=new $r(void 0,te.command,te.commandArgs,Se,h,null,!1)}return D}resolveKeybinding(l){return[new Ro(l,Rt.OS)]}resolveKeyboardEvent(l){let h=new O.QC(l.ctrlKey,l.shiftKey,l.altKey,l.metaKey,l.keyCode).toChord();return new Ro(h,Rt.OS)}}function eu(A){return A&&"object"==typeof A&&(!A.overrideIdentifier||"string"==typeof A.overrideIdentifier)&&(!A.resource||A.resource instanceof k.o)}class Yc{constructor(){this._onDidChangeConfiguration=new j.Q5,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._configuration=new Tr(new _l,new Os)}getValue(l,h){const D="string"==typeof l?l:void 0,Q=eu(l)?l:eu(h)?h:{};return this._configuration.getValue(D,Q,void 0)}updateValues(l){const h={data:this._configuration.toData()};let D=[];for(const Q of l){const[te,Se]=Q;this.getValue(te)!==Se&&(this._configuration.updateValue(te,Se),D.push(te))}if(D.length>0){const Q=new ar({keys:D,overrides:[]},h,this._configuration);Q.source=7,Q.sourceConfig=null,this._onDidChangeConfiguration.fire(Q)}return Promise.resolve()}}class tu{constructor(l){this.configurationService=l,this._onDidChangeConfiguration=new j.Q5,this.configurationService.onDidChangeConfiguration(h=>{this._onDidChangeConfiguration.fire({affectedKeys:h.affectedKeys,affectsConfiguration:(D,Q)=>h.affectsConfiguration(Q)})})}getValue(l,h,D){const te=$.L.isIPosition(h)&&h?"string"==typeof D?D:void 0:"string"==typeof h?h:void 0;return void 0===te?this.configurationService.getValue():this.configurationService.getValue(te)}}let Cl=class{constructor(l){this.configurationService=l}getEOL(l,h){const D=this.configurationService.getValue("files.eol",{overrideIdentifier:h,resource:l});return D&&"auto"!==D?D:Rt.IJ||Rt.dz?"\n":"\r\n"}};Cl=Go([fa(0,Ys.Ui)],Cl);class em{publicLog(l,h){return Promise.resolve(void 0)}publicLog2(l,h){return this.publicLog(l,h)}}let tm=(()=>{class A{constructor(){const h=k.o.from({scheme:A.SCHEME,authority:"model",path:"/"});this.workspace={id:"4064f6ec-cb38-4ad0-af64-ee6467e63c82",folders:[new Wa.md({uri:h,name:"",index:0})]}}getWorkspace(){return this.workspace}}return A.SCHEME="inmemory",A})();function Qc(A,l,h){if(!(l&&A instanceof Yc))return;let D=[];Object.keys(l).forEach(Q=>{(0,zi.ei)(Q)&&D.push([`editor.${Q}`,l[Q]]),h&&(0,zi.Pe)(Q)&&D.push([`diffEditor.${Q}`,l[Q]])}),D.length>0&&A.updateValues(D)}class nm{constructor(l){this._modelService=l}hasPreviewHandler(){return!1}apply(l,h){return Ph(this,void 0,void 0,function*(){const D=new Map;for(let Se of l){if(!(Se instanceof fo.Gl))throw new Error("bad edit - only text edits are supported");const He=this._modelService.getModel(Se.resource);if(!He)throw new Error("bad edit - model not found");if("number"==typeof Se.versionId&&He.getVersionId()!==Se.versionId)throw new Error("bad state - model changed in the meantime");let ct=D.get(He);ct||(ct=[],D.set(He,ct)),ct.push(zc.h.replaceMove(B.e.lift(Se.textEdit.range),Se.textEdit.text))}let Q=0,te=0;for(const[Se,He]of D)Se.pushStackElement(),Se.pushEditOperations([],He,()=>[]),Se.pushStackElement(),te+=1,Q+=He.length;return{ariaSummary:yn.WU(ha.UL.bulkEditServiceSummary,Q,te)}})}}class nu{getUriLabel(l,h){return"file"===l.scheme?l.fsPath:l.path}}class Zc{constructor(l,h){this._codeEditorService=l,this._container=h,this.onDidLayout=j.ju.None}get dimension(){return this._dimension||(this._dimension=Ce.D6(window.document.body)),this._dimension}get container(){return this._container}focus(){var l;null===(l=this._codeEditorService.getFocusedCodeEditor())||void 0===l||l.focus()}}var im=a(7579),iu=a(3741),su=a(5212),Ar=a(6302),Ha=a(675),Qi=a(2836),Ws=a(2844),lr=a(652),oo=a(4562),Rr=a(3012),_o=a(6803),ga=a(2668),bl=a(2957),ms=a(723);class mo extends nt.JT{constructor(){super(),this._onCodeEditorAdd=this._register(new j.Q5),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new j.Q5),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onDiffEditorAdd=this._register(new j.Q5),this._onDiffEditorRemove=this._register(new j.Q5),this._onDecorationTypeRegistered=this._register(new j.Q5),this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null)}addCodeEditor(l){this._codeEditors[l.getId()]=l,this._onCodeEditorAdd.fire(l)}removeCodeEditor(l){delete this._codeEditors[l.getId()]&&this._onCodeEditorRemove.fire(l)}listCodeEditors(){return Object.keys(this._codeEditors).map(l=>this._codeEditors[l])}addDiffEditor(l){this._diffEditors[l.getId()]=l,this._onDiffEditorAdd.fire(l)}removeDiffEditor(l){delete this._diffEditors[l.getId()]&&this._onDiffEditorRemove.fire(l)}listDiffEditors(){return Object.keys(this._diffEditors).map(l=>this._diffEditors[l])}getFocusedCodeEditor(){let l=null;const h=this.listCodeEditors();for(const D of h){if(D.hasTextFocus())return D;D.hasWidgetFocus()&&(l=D)}return l}setModelProperty(l,h,D){const Q=l.toString();let te;this._modelProperties.has(Q)?te=this._modelProperties.get(Q):(te=new Map,this._modelProperties.set(Q,te)),te.set(h,D)}getModelProperty(l,h){const D=l.toString();if(this._modelProperties.has(D))return this._modelProperties.get(D).get(h)}}class Xc{constructor(l,h,D){this._parent=l,this._editorId=h,this._styleSheet=D,this._refCount=0}ref(){this._refCount++}unref(){var l;this._refCount--,0===this._refCount&&(null===(l=this._styleSheet.parentNode)||void 0===l||l.removeChild(this._styleSheet),this._parent._removeEditorStyleSheets(this._editorId))}insertRule(l,h){this._styleSheet.sheet.insertRule(l,h)}removeRulesContainingSelector(l){Ce.uN(l,this._styleSheet)}}class Bh{constructor(l){this._styleSheet=l}ref(){}unref(){}insertRule(l,h){this._styleSheet.sheet.insertRule(l,h)}removeRulesContainingSelector(l){Ce.uN(l,this._styleSheet)}}let yl=class extends mo{constructor(l,h){super(),this._decorationOptionProviders=new Map,this._editorStyleSheets=new Map,this._globalStyleSheet=l||null,this._themeService=h}_getOrCreateGlobalStyleSheet(){return this._globalStyleSheet||(this._globalStyleSheet=new Bh(Ce.dS())),this._globalStyleSheet}_getOrCreateStyleSheet(l){if(!l)return this._getOrCreateGlobalStyleSheet();const h=l.getContainerDomNode();if(!Ce.OO(h))return this._getOrCreateGlobalStyleSheet();const D=l.getId();if(!this._editorStyleSheets.has(D)){const Q=new Xc(this,D,Ce.dS(h));this._editorStyleSheets.set(D,Q)}return this._editorStyleSheets.get(D)}_removeEditorStyleSheets(l){this._editorStyleSheets.delete(l)}registerDecorationType(l,h,D,Q,te){let Se=this._decorationOptionProviders.get(h);if(!Se){const He=this._getOrCreateStyleSheet(te),ct={styleSheet:He,key:h,parentTypeKey:Q,options:D||Object.create(null)};Se=Q?new sm(this._themeService,He,ct):new Ps(l,this._themeService,He,ct),this._decorationOptionProviders.set(h,Se),this._onDecorationTypeRegistered.fire(h)}Se.refCount++}removeDecorationType(l){const h=this._decorationOptionProviders.get(l);h&&(h.refCount--,h.refCount<=0&&(this._decorationOptionProviders.delete(l),h.dispose(),this.listCodeEditors().forEach(D=>D.removeDecorations(l))))}resolveDecorationOptions(l,h){const D=this._decorationOptionProviders.get(l);if(!D)throw new Error("Unknown decoration type key: "+l);return D.getOptions(this,h)}};var l;yl=function(A,l,h,D){var Se,Q=arguments.length,te=Q<3?l:null===D?D=Object.getOwnPropertyDescriptor(l,h):D;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)te=Reflect.decorate(A,l,h,D);else for(var He=A.length-1;He>=0;He--)(Se=A[He])&&(te=(Q<3?Se(te):Q>3?Se(l,h,te):Se(l,h))||te);return Q>3&&te&&Object.defineProperty(l,h,te),te}([(1,l=_o.XE,function(h,D){l(h,D,1)})],yl);class sm{constructor(l,h,D){this._styleSheet=h,this._styleSheet.ref(),this._parentTypeKey=D.parentTypeKey,this.refCount=0,this._beforeContentRules=new wl(3,D,l),this._afterContentRules=new wl(4,D,l)}getOptions(l,h){const D=l.resolveDecorationOptions(this._parentTypeKey,!0);return this._beforeContentRules&&(D.beforeContentClassName=this._beforeContentRules.className),this._afterContentRules&&(D.afterContentClassName=this._afterContentRules.className),D}dispose(){this._beforeContentRules&&(this._beforeContentRules.dispose(),this._beforeContentRules=null),this._afterContentRules&&(this._afterContentRules.dispose(),this._afterContentRules=null),this._styleSheet.unref()}}class Ps{constructor(l,h,D,Q){this._disposables=new nt.SL,this.description=l,this._styleSheet=D,this._styleSheet.ref(),this.refCount=0;const te=ln=>{const xn=new wl(ln,Q,h);if(this._disposables.add(xn),xn.hasContent)return xn.className};this.className=te(0);const He=(ln=>{const xn=new wl(1,Q,h);return this._disposables.add(xn),xn.hasContent?{className:xn.className,hasLetterSpacing:xn.hasLetterSpacing}:null})();He&&(this.inlineClassName=He.className,this.inlineClassNameAffectsLetterSpacing=He.hasLetterSpacing),this.beforeContentClassName=te(3),this.afterContentClassName=te(4),this.glyphMarginClassName=te(2);const ct=Q.options;this.isWholeLine=Boolean(ct.isWholeLine),this.stickiness=ct.rangeBehavior;const It=ct.light&&ct.light.overviewRulerColor||ct.overviewRulerColor,Ot=ct.dark&&ct.dark.overviewRulerColor||ct.overviewRulerColor;(void 0!==It||void 0!==Ot)&&(this.overviewRuler={color:It||Ot,darkColor:Ot||It,position:ct.overviewRulerLane||_t.sh.Center})}getOptions(l,h){return h?{description:this.description,inlineClassName:this.inlineClassName,beforeContentClassName:this.beforeContentClassName,afterContentClassName:this.afterContentClassName,className:this.className,glyphMarginClassName:this.glyphMarginClassName,isWholeLine:this.isWholeLine,overviewRuler:this.overviewRuler,stickiness:this.stickiness}:this}dispose(){this._disposables.dispose(),this._styleSheet.unref()}}const oc={color:"color:{0} !important;",opacity:"opacity:{0};",backgroundColor:"background-color:{0};",outline:"outline:{0};",outlineColor:"outline-color:{0};",outlineStyle:"outline-style:{0};",outlineWidth:"outline-width:{0};",border:"border:{0};",borderColor:"border-color:{0};",borderRadius:"border-radius:{0};",borderSpacing:"border-spacing:{0};",borderStyle:"border-style:{0};",borderWidth:"border-width:{0};",fontStyle:"font-style:{0};",fontWeight:"font-weight:{0};",fontSize:"font-size:{0};",fontFamily:"font-family:{0};",textDecoration:"text-decoration:{0};",cursor:"cursor:{0};",letterSpacing:"letter-spacing:{0};",gutterIconPath:"background:{0} center center no-repeat;",gutterIconSize:"background-size:{0};",contentText:"content:'{0}';",contentIconPath:"content:{0};",margin:"margin:{0};",padding:"padding:{0};",width:"width:{0};",height:"height:{0};"};class wl{constructor(l,h,D){this._theme=D.getColorTheme(),this._ruleType=l,this._providerArgs=h,this._usesThemeColors=!1,this._hasContent=!1,this._hasLetterSpacing=!1;let Q=Jc.getClassName(this._providerArgs.key,l);this._providerArgs.parentTypeKey&&(Q=Q+" "+Jc.getClassName(this._providerArgs.parentTypeKey,l)),this._className=Q,this._unThemedSelector=Jc.getSelector(this._providerArgs.key,this._providerArgs.parentTypeKey,l),this._buildCSS(),this._themeListener=this._usesThemeColors?D.onDidColorThemeChange(te=>{this._theme=D.getColorTheme(),this._removeCSS(),this._buildCSS()}):null}dispose(){this._hasContent&&(this._removeCSS(),this._hasContent=!1),this._themeListener&&(this._themeListener.dispose(),this._themeListener=null)}get hasContent(){return this._hasContent}get hasLetterSpacing(){return this._hasLetterSpacing}get className(){return this._className}_buildCSS(){const l=this._providerArgs.options;let h,D,Q;switch(this._ruleType){case 0:h=this.getCSSTextForModelDecorationClassName(l),D=this.getCSSTextForModelDecorationClassName(l.light),Q=this.getCSSTextForModelDecorationClassName(l.dark);break;case 1:h=this.getCSSTextForModelDecorationInlineClassName(l),D=this.getCSSTextForModelDecorationInlineClassName(l.light),Q=this.getCSSTextForModelDecorationInlineClassName(l.dark);break;case 2:h=this.getCSSTextForModelDecorationGlyphMarginClassName(l),D=this.getCSSTextForModelDecorationGlyphMarginClassName(l.light),Q=this.getCSSTextForModelDecorationGlyphMarginClassName(l.dark);break;case 3:h=this.getCSSTextForModelDecorationContentClassName(l.before),D=this.getCSSTextForModelDecorationContentClassName(l.light&&l.light.before),Q=this.getCSSTextForModelDecorationContentClassName(l.dark&&l.dark.before);break;case 4:h=this.getCSSTextForModelDecorationContentClassName(l.after),D=this.getCSSTextForModelDecorationContentClassName(l.light&&l.light.after),Q=this.getCSSTextForModelDecorationContentClassName(l.dark&&l.dark.after);break;default:throw new Error("Unknown rule type: "+this._ruleType)}const te=this._providerArgs.styleSheet;let Se=!1;h.length>0&&(te.insertRule(`${this._unThemedSelector} {${h}}`,0),Se=!0),D.length>0&&(te.insertRule(`.vs${this._unThemedSelector} {${D}}`,0),Se=!0),Q.length>0&&(te.insertRule(`.vs-dark${this._unThemedSelector}, .hc-black${this._unThemedSelector} {${Q}}`,0),Se=!0),this._hasContent=Se}_removeCSS(){this._providerArgs.styleSheet.removeRulesContainingSelector(this._unThemedSelector)}getCSSTextForModelDecorationClassName(l){if(!l)return"";const h=[];return this.collectCSSText(l,["backgroundColor"],h),this.collectCSSText(l,["outline","outlineColor","outlineStyle","outlineWidth"],h),this.collectBorderSettingsCSSText(l,h),h.join("")}getCSSTextForModelDecorationInlineClassName(l){if(!l)return"";const h=[];return this.collectCSSText(l,["fontStyle","fontWeight","textDecoration","cursor","color","opacity","letterSpacing"],h),l.letterSpacing&&(this._hasLetterSpacing=!0),h.join("")}getCSSTextForModelDecorationContentClassName(l){if(!l)return"";const h=[];if(void 0!==l){if(this.collectBorderSettingsCSSText(l,h),void 0!==l.contentIconPath&&h.push(yn.WU(oc.contentIconPath,Ce.wY(k.o.revive(l.contentIconPath)))),"string"==typeof l.contentText){const Q=l.contentText.match(/^.*$/m)[0].replace(/['\\]/g,"\\$&");h.push(yn.WU(oc.contentText,Q))}this.collectCSSText(l,["fontStyle","fontWeight","fontSize","fontFamily","textDecoration","color","opacity","backgroundColor","margin","padding"],h),this.collectCSSText(l,["width","height"],h)&&h.push("display:inline-block;")}return h.join("")}getCSSTextForModelDecorationGlyphMarginClassName(l){if(!l)return"";const h=[];return void 0!==l.gutterIconPath&&(h.push(yn.WU(oc.gutterIconPath,Ce.wY(k.o.revive(l.gutterIconPath)))),void 0!==l.gutterIconSize&&h.push(yn.WU(oc.gutterIconSize,l.gutterIconSize))),h.join("")}collectBorderSettingsCSSText(l,h){return!!this.collectCSSText(l,["border","borderColor","borderRadius","borderSpacing","borderStyle","borderWidth"],h)&&(h.push(yn.WU("box-sizing: border-box;")),!0)}collectCSSText(l,h,D){const Q=D.length;for(let te of h){const Se=this.resolveValue(l[te]);"string"==typeof Se&&D.push(yn.WU(oc[te],Se))}return D.length!==Q}resolveValue(l){if((0,dt.I)(l)){this._usesThemeColors=!0;const h=this._theme.getColor(l.id);return h?h.toString():"transparent"}return l}}class Jc{static getClassName(l,h){return"ced-"+l+"-"+h}static getSelector(l,h,D){let Q=".monaco-editor ."+this.getClassName(l,D);return h&&(Q=Q+"."+this.getClassName(h,D)),3===D?Q+="::before":4===D&&(Q+="::after"),Q}}var au=function(A,l){return function(h,D){l(h,D,A)}};let qc=class extends yl{constructor(l,h,D){super(l,D),this.onCodeEditorAdd(()=>this._checkContextKey()),this.onCodeEditorRemove(()=>this._checkContextKey()),this._editorIsOpen=h.createKey("editorIsOpen",!1),this._activeCodeEditor=null}_checkContextKey(){let l=!1;for(const h of this.listCodeEditors())if(!h.isSimpleWidget){l=!0;break}this._editorIsOpen.set(l)}setActiveCodeEditor(l){this._activeCodeEditor=l}getActiveCodeEditor(){return this._activeCodeEditor}openCodeEditor(l,h,D){return Promise.resolve(h?this.doOpenEditor(h,l):null)}doOpenEditor(l,h){if(!this.findModel(l,h.resource)){if(h.resource){const te=h.resource.scheme;if(te===Ae.lg.http||te===Ae.lg.https)return(0,Ce.V3)(h.resource.toString()),l}return null}const Q=h.options?h.options.selection:null;if(Q)if("number"==typeof Q.endLineNumber&&"number"==typeof Q.endColumn)l.setSelection(Q),l.revealRangeInCenter(Q,1);else{const te={lineNumber:Q.startLineNumber,column:Q.startColumn};l.setPosition(te),l.revealPositionInCenter(te,1)}return l}findModel(l,h){const D=l.getModel();return D&&D.uri.toString()!==h.toString()?null:D}};qc=function(A,l,h,D){var Se,Q=arguments.length,te=Q<3?l:null===D?D=Object.getOwnPropertyDescriptor(l,h):D;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)te=Reflect.decorate(A,l,h,D);else for(var He=A.length-1;He>=0;He--)(Se=A[He])&&(te=(Q<3?Se(te):Q>3?Se(l,h,te):Se(l,h))||te);return Q>3&&te&&Object.defineProperty(l,h,te),te}([au(1,Ws.i6),au(2,_o.XE)],qc);var Or=a(2035),Oo=function(A,l,h,D){var Se,Q=arguments.length,te=Q<3?l:null===D?D=Object.getOwnPropertyDescriptor(l,h):D;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)te=Reflect.decorate(A,l,h,D);else for(var He=A.length-1;He>=0;He--)(Se=A[He])&&(te=(Q<3?Se(te):Q>3?Se(l,h,te):Se(l,h))||te);return Q>3&&te&&Object.defineProperty(l,h,te),te},fs=function(A,l){return function(h,D){l(h,D,A)}};let Ua=0,ma=!1,ja=class extends iu.Gm{constructor(l,h,D,Q,te,Se,He,ct,It,Ot){const ln=Object.assign({},h);ln.ariaLabel=ln.ariaLabel||ha.B8.editorViewAccessibleLabel,ln.ariaLabel=ln.ariaLabel+";"+ha.B8.accessibilityHelpMessage,super(l,ln,{},D,Q,te,Se,ct,It,Ot),this._standaloneKeybindingService=He instanceof sc?He:null,ma||(ma=!0,im.wW(document.body))}addCommand(l,h,D){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;let Q="DYNAMIC_"+ ++Ua,te=Ws.Ao.deserialize(D);return this._standaloneKeybindingService.addDynamicKeybinding(Q,l,h,te),Q}createContextKey(l,h){return this._contextKeyService.createKey(l,h)}addAction(l){if("string"!=typeof l.id||"string"!=typeof l.label||"function"!=typeof l.run)throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),nt.JT.None;const h=l.id,D=l.label,Q=Ws.Ao.and(Ws.Ao.equals("editorId",this.getId()),Ws.Ao.deserialize(l.precondition)),te=l.keybindings,Se=Ws.Ao.and(Q,Ws.Ao.deserialize(l.keybindingContext)),He=l.contextMenuGroupId||null,ct=l.contextMenuOrder||0,It=(gi,...Si)=>Promise.resolve(l.run(this,...Si)),Ot=new nt.SL,ln=this.getId()+":"+h;if(Ot.add(ze.P.registerCommand(ln,It)),He&&Ot.add(Qi.BH.appendMenuItem(Qi.eH.EditorContext,{command:{id:ln,title:D},when:Q,group:He,order:ct})),Array.isArray(te))for(const gi of te)Ot.add(this._standaloneKeybindingService.addDynamicKeybinding(ln,gi,It,Se));let xn=new Ar.p(ln,D,D,Q,It,this._contextKeyService);return this._actions[h]=xn,Ot.add((0,nt.OF)(()=>{delete this._actions[h]})),Ot}_triggerCommand(l,h){if(this._codeEditorService instanceof qc)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(l,h)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(l,h)}};ja=Oo([fs(2,oo.TG),fs(3,Te.$),fs(4,ze.H),fs(5,Ws.i6),fs(6,Rr.d),fs(7,_o.XE),fs(8,$o.lT),fs(9,ga.F)],ja);let Sl=class extends ja{constructor(l,h,D,Q,te,Se,He,ct,It,Ot,ln,xn,gi,Si,Ni){const Ri=Object.assign({},h);Qc(xn,Ri,!1);const ts=Ot.registerEditorContainer(l);"string"==typeof Ri.theme&&Ot.setTheme(Ri.theme),void 0!==Ri.autoDetectHighContrast&&Ot.setAutoDetectHighContrast(Boolean(Ri.autoDetectHighContrast));let ji,as=Ri.model;delete Ri.model,super(l,Ri,Q,te,Se,He,ct,Ot,ln,gi),this._contextViewService=It,this._configurationService=xn,this._standaloneThemeService=Ot,this._register(D),this._register(ts),void 0===as?(ji=Pr(Si,Ni,Ri.value||"",Ri.language||Or.vW.text,void 0),this._ownsModel=!0):(ji=as,this._ownsModel=!1),this._attachModel(ji),ji&&this._onDidChangeModel.fire({oldModelUrl:null,newModelUrl:ji.uri})}dispose(){super.dispose()}updateOptions(l){Qc(this._configurationService,l,!1),"string"==typeof l.theme&&this._standaloneThemeService.setTheme(l.theme),void 0!==l.autoDetectHighContrast&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(l.autoDetectHighContrast)),super.updateOptions(l)}_attachModel(l){super._attachModel(l),this._modelData&&this._contextViewService.setContainer(this._modelData.view.domNode.domNode)}_postDetachModelCleanup(l){super._postDetachModelCleanup(l),l&&this._ownsModel&&(l.dispose(),this._ownsModel=!1)}};Sl=Oo([fs(3,oo.TG),fs(4,Te.$),fs(5,ze.H),fs(6,Ws.i6),fs(7,Rr.d),fs(8,lr.u),fs(9,Ha.Z),fs(10,$o.lT),fs(11,Ys.Ui),fs(12,ga.F),fs(13,qe.q),fs(14,Qt.h)],Sl);let El=class extends su.p{constructor(l,h,D,Q,te,Se,He,ct,It,Ot,ln,xn,gi,Si,Ni){const Ri=Object.assign({},h);Qc(xn,Ri,!0);const ts=Ot.registerEditorContainer(l);"string"==typeof Ri.theme&&Ot.setTheme(Ri.theme),void 0!==Ri.autoDetectHighContrast&&Ot.setAutoDetectHighContrast(Boolean(Ri.autoDetectHighContrast)),super(l,Ri,{},Ni,ct,te,Q,It,Ot,ln,gi,Si),this._contextViewService=He,this._configurationService=xn,this._standaloneThemeService=Ot,this._register(D),this._register(ts),this._contextViewService.setContainer(this._containerDomElement)}dispose(){super.dispose()}updateOptions(l){Qc(this._configurationService,l,!0),"string"==typeof l.theme&&this._standaloneThemeService.setTheme(l.theme),void 0!==l.autoDetectHighContrast&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(l.autoDetectHighContrast)),super.updateOptions(l)}_createInnerEditor(l,h,D){return l.createInstance(ja,h,D)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(l,h,D){return this.getModifiedEditor().addCommand(l,h,D)}createContextKey(l,h){return this.getModifiedEditor().createContextKey(l,h)}addAction(l){return this.getModifiedEditor().addAction(l)}};function Pr(A,l,h,D,Q){if(h=h||"",!D){const te=h.indexOf("\n");let Se=h;return-1!==te&&(Se=h.substring(0,te)),ed(A,h,l.createByFilepathOrFirstLine(Q||null,Se),Q)}return ed(A,h,l.create(D),Q)}function ed(A,l,h,D){return A.createModel(l,h,D)}El=Oo([fs(3,oo.TG),fs(4,Ws.i6),fs(5,Rr.d),fs(6,lr.u),fs(7,pn.p),fs(8,Te.$),fs(9,Ha.Z),fs(10,$o.lT),fs(11,Ys.Ui),fs(12,lr.i),fs(13,ms.e),fs(14,bl.p)],El);class rc{constructor(l){this._languageIdentifier=l}getId(){return this._languageIdentifier.language}}var Oi=a(6367),td=a(1161);const pa=Object.prototype.hasOwnProperty;class Vh extends nt.JT{constructor(l=!0,h=!1){super(),this._onDidChange=this._register(new j.Q5),this.onDidChange=this._onDidChange.event,this._warnOnOverwrite=h,this._nextLanguageId2=1,this._languageIdToLanguage=[],this._languageToLanguageId=Object.create(null),this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},l&&(this._initializeFromRegistry(),this._register(Oi.dQ.onDidChangeLanguages(D=>this._initializeFromRegistry())))}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={};const l=Oi.dQ.getLanguages();this._registerLanguages(l)}_registerLanguages(l){for(const h of l)this._registerLanguage(h);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(h=>{let D=this._languages[h];D.name&&(this._nameMap[D.name]=D.identifier),D.aliases.forEach(Q=>{this._lowercaseNameMap[Q.toLowerCase()]=D.identifier}),D.mimetypes.forEach(Q=>{this._mimeTypesMap[Q]=D.identifier})}),td.B.as(zr.IP.Configuration).registerOverrideIdentifiers(Oi.dQ.getLanguages().map(h=>h.id)),this._onDidChange.fire()}_getLanguageId(l){if(this._languageToLanguageId[l])return this._languageToLanguageId[l];const h=this._nextLanguageId2++;return this._languageIdToLanguage[h]=l,this._languageToLanguageId[l]=h,h}_registerLanguage(l){const h=l.id;let D;if(pa.call(this._languages,h))D=this._languages[h];else{const Q=this._getLanguageId(h);D={identifier:new Nt.rl(h,Q),name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[]},this._languages[h]=D}this._mergeLanguage(D,l)}_mergeLanguage(l,h){const D=h.id;let Q=null;if(Array.isArray(h.mimetypes)&&h.mimetypes.length>0&&(l.mimetypes.push(...h.mimetypes),Q=h.mimetypes[0]),Q||(Q=`text/x-${D}`,l.mimetypes.push(Q)),Array.isArray(h.extensions)){l.extensions=h.configuration?h.extensions.concat(l.extensions):l.extensions.concat(h.extensions);for(let He of h.extensions)Or.sA({id:D,mime:Q,extension:He},this._warnOnOverwrite)}if(Array.isArray(h.filenames))for(let He of h.filenames)Or.sA({id:D,mime:Q,filename:He},this._warnOnOverwrite),l.filenames.push(He);if(Array.isArray(h.filenamePatterns))for(let He of h.filenamePatterns)Or.sA({id:D,mime:Q,filepattern:He},this._warnOnOverwrite);if("string"==typeof h.firstLine&&h.firstLine.length>0){let He=h.firstLine;"^"!==He.charAt(0)&&(He="^"+He);try{let ct=new RegExp(He);yn.IO(ct)||Or.sA({id:D,mime:Q,firstline:ct},this._warnOnOverwrite)}catch(ct){(0,bt.dL)(ct)}}l.aliases.push(D);let te=null;if(void 0!==h.aliases&&Array.isArray(h.aliases)&&(te=0===h.aliases.length?[null]:h.aliases),null!==te)for(const He of te)!He||0===He.length||l.aliases.push(He);let Se=null!==te&&te.length>0;if(!Se||null!==te[0]){let He=(Se?te[0]:null)||D;(Se||!l.name)&&(l.name=He)}h.configuration&&l.configurationFiles.push(h.configuration)}isRegisteredMode(l){return!!pa.call(this._mimeTypesMap,l)||pa.call(this._languages,l)}getModeIdForLanguageNameLowercase(l){return pa.call(this._lowercaseNameMap,l)?this._lowercaseNameMap[l].language:null}extractModeIds(l){return l?l.split(",").map(h=>h.trim()).map(h=>pa.call(this._mimeTypesMap,h)?this._mimeTypesMap[h].language:h).filter(h=>pa.call(this._languages,h)):[]}getLanguageIdentifier(l){if(l===zt.TG||0===l)return zt.pA;let h;if("string"==typeof l)h=l;else if(h=this._languageIdToLanguage[l],!h)return null;return pa.call(this._languages,h)?this._languages[h].identifier:null}getModeIdsFromFilepathOrFirstLine(l,h){if(!l&&!h)return[];let D=Or.G8(l,h);return this.extractModeIds(D.join(","))}}class nd{constructor(l,h){let D;this._selector=h,this.languageIdentifier=this._selector(),this._onDidChange=new j.Q5({onFirstListenerAdd:()=>{D=l(()=>this._evaluate())},onLastListenerRemove:()=>{D.dispose()}}),this.onDidChange=this._onDidChange.event}_evaluate(){let l=this._selector();l.id!==this.languageIdentifier.id&&(this.languageIdentifier=l,this._onDidChange.fire(this.languageIdentifier))}}class lu extends nt.JT{constructor(l=!1){super(),this._onDidCreateMode=this._register(new j.Q5),this.onDidCreateMode=this._onDidCreateMode.event,this._onLanguagesMaybeChanged=this._register(new j.Q5({leakWarningThreshold:200})),this.onLanguagesMaybeChanged=this._onLanguagesMaybeChanged.event,this._instantiatedModes={},this._registry=this._register(new Vh(!0,l)),this._register(this._registry.onDidChange(()=>this._onLanguagesMaybeChanged.fire()))}isRegisteredMode(l){return this._registry.isRegisteredMode(l)}getModeIdForLanguageName(l){return this._registry.getModeIdForLanguageNameLowercase(l)}getModeIdByFilepathOrFirstLine(l,h){const D=this._registry.getModeIdsFromFilepathOrFirstLine(l,h);return(0,jt.Xh)(D,null)}getModeId(l){const h=this._registry.extractModeIds(l);return(0,jt.Xh)(h,null)}getLanguageIdentifier(l){return this._registry.getLanguageIdentifier(l)}create(l){return new nd(this.onLanguagesMaybeChanged,()=>{const h=this.getModeId(l);return this._createModeAndGetLanguageIdentifier(h)})}createByFilepathOrFirstLine(l,h){return new nd(this.onLanguagesMaybeChanged,()=>{const D=this.getModeIdByFilepathOrFirstLine(l,h);return this._createModeAndGetLanguageIdentifier(D)})}_createModeAndGetLanguageIdentifier(l){const h=this.getLanguageIdentifier(l||"plaintext")||zt.pA;return this._getOrCreateMode(h.language),h}triggerMode(l){const h=this.getModeId(l);this._getOrCreateMode(h||"plaintext")}_getOrCreateMode(l){if(!this._instantiatedModes.hasOwnProperty(l)){let h=this.getLanguageIdentifier(l)||zt.pA;this._instantiatedModes[l]=new rc(h),this._onDidCreateMode.fire(this._instantiatedModes[l])}return this._instantiatedModes[l]}}var Wh=a(4219),Gr=a(3727);class ti{constructor(l,h,D,Q,te){this._parsedThemeRuleBrand=void 0,this.token=l,this.index=h,this.fontStyle=D,this.foreground=Q,this.background=te}}const eo=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class ac{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(l){if(null===l)return 0;const h=l.match(eo);if(!h)throw new Error("Illegal value for token color: "+l);l=h[1].toUpperCase();let D=this._color2id.get(l);return D||(D=++this._lastColorId,this._color2id.set(l,D),this._id2color[D]=Gr.Il.fromHex("#"+l),D)}getColorMap(){return this._id2color.slice(0)}}class Yr{constructor(l,h){this._colorMap=l,this._root=h,this._cache=new Map}static createFromRawTokenTheme(l,h){return this.createFromParsedTokenTheme(function(A){if(!A||!Array.isArray(A))return[];let l=[],h=0;for(let D=0,Q=A.length;D<Q;D++){let te=A[D],Se=-1;if("string"==typeof te.fontStyle){Se=0;let It=te.fontStyle.split(" ");for(let Ot=0,ln=It.length;Ot<ln;Ot++)switch(It[Ot]){case"italic":Se|=1;break;case"bold":Se|=2;break;case"underline":Se|=4}}let He=null;"string"==typeof te.foreground&&(He=te.foreground);let ct=null;"string"==typeof te.background&&(ct=te.background),l[h++]=new ti(te.token||"",D,Se,He,ct)}return l}(l),h)}static createFromParsedTokenTheme(l,h){return function(A,l){A.sort((Ot,ln)=>{let xn=function(A,l){return A<l?-1:A>l?1:0}(Ot.token,ln.token);return 0!==xn?xn:Ot.index-ln.index});let h=0,D="000000",Q="ffffff";for(;A.length>=1&&""===A[0].token;){let Ot=A.shift();-1!==Ot.fontStyle&&(h=Ot.fontStyle),null!==Ot.foreground&&(D=Ot.foreground),null!==Ot.background&&(Q=Ot.background)}let te=new ac;for(let Ot of l)te.getId(Ot);let Se=te.getId(D),He=te.getId(Q),ct=new za(h,Se,He),It=new lc(ct);for(let Ot=0,ln=A.length;Ot<ln;Ot++){let xn=A[Ot];It.insert(xn.token,xn.fontStyle,te.getId(xn.foreground),te.getId(xn.background))}return new Yr(te,It)}(l,h)}getColorMap(){return this._colorMap.getColorMap()}_match(l){return this._root.match(l)}match(l,h){let D=this._cache.get(h);if(void 0===D){let Q=this._match(h),te=function(A){let l=A.match(Yo);if(!l)return 0;switch(l[1]){case"comment":return 1;case"string":return 2;case"regex":case"regexp":return 4}throw new Error("Unexpected match for standard token type!")}(h);D=(Q.metadata|te<<8)>>>0,this._cache.set(h,D)}return(D|l<<0)>>>0}}const Yo=/\b(comment|string|regex|regexp)\b/;class za{constructor(l,h,D){this._themeTrieElementRuleBrand=void 0,this._fontStyle=l,this._foreground=h,this._background=D,this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0}clone(){return new za(this._fontStyle,this._foreground,this._background)}acceptOverwrite(l,h,D){-1!==l&&(this._fontStyle=l),0!==h&&(this._foreground=h),0!==D&&(this._background=D),this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0}}class lc{constructor(l){this._themeTrieElementBrand=void 0,this._mainRule=l,this._children=new Map}match(l){if(""===l)return this._mainRule;let D,Q,h=l.indexOf(".");-1===h?(D=l,Q=""):(D=l.substring(0,h),Q=l.substring(h+1));let te=this._children.get(D);return void 0!==te?te.match(Q):this._mainRule}insert(l,h,D,Q){if(""===l)return void this._mainRule.acceptOverwrite(h,D,Q);let Se,He,te=l.indexOf(".");-1===te?(Se=l,He=""):(Se=l.substring(0,te),He=l.substring(te+1));let ct=this._children.get(Se);void 0===ct&&(ct=new lc(this._mainRule.clone()),this._children.set(Se,ct)),ct.insert(He,h,D,Q)}}var Vo=a(3258),Ci=a(7251);const Qo={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[Ci.cv]:"#FFFFFE",[Ci.NO]:"#000000",[Ci.ES]:"#E5EBF1",[Vo.tR]:"#D3D3D3",[Vo.Ym]:"#939393",[Ci.Rz]:"#ADD6FF4D",[Ci.PX]:"#9DDDFF"}},cc={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[Ci.cv]:"#1E1E1E",[Ci.NO]:"#D4D4D4",[Ci.ES]:"#3A3D41",[Vo.tR]:"#404040",[Vo.Ym]:"#707070",[Ci.Rz]:"#ADD6FF26"}},$a={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[Ci.cv]:"#000000",[Ci.NO]:"#FFFFFF",[Vo.tR]:"#FFFFFF",[Vo.Ym]:"#FFFFFF"}};var cr=a(786),Hh=a(6571);const kr="vs",uc="vs-dark",Qr="hc-black",Fr=td.B.as(Ci.IP.ColorContribution),cu=td.B.as(_o.IP.ThemingContribution);class hc{constructor(l,h){this.semanticHighlighting=!1,this.themeData=h;let D=h.base;l.length>0?(this.id=Ga(l)?l:D+" "+l,this.themeName=l):(this.id=D,this.themeName=D),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const l=new Map;for(let h in this.themeData.colors)l.set(h,Gr.Il.fromHex(this.themeData.colors[h]));if(this.themeData.inherit){let h=Dl(this.themeData.base);for(let D in h.colors)l.has(D)||l.set(D,Gr.Il.fromHex(h.colors[D]))}this.colors=l}return this.colors}getColor(l,h){return this.getColors().get(l)||(!1!==h?this.getDefault(l):void 0)}getDefault(l){let h=this.defaultColors[l];return h||(h=Fr.resolveDefaultColor(l,this),this.defaultColors[l]=h,h)}defines(l){return Object.prototype.hasOwnProperty.call(this.getColors(),l)}get type(){switch(this.base){case kr:return cr.e.LIGHT;case Qr:return cr.e.HIGH_CONTRAST;default:return cr.e.DARK}}get tokenTheme(){if(!this._tokenTheme){let l=[],h=[];if(this.themeData.inherit){let D=Dl(this.themeData.base);l=D.rules,D.encodedTokensColors&&(h=D.encodedTokensColors)}l=l.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(h=this.themeData.encodedTokensColors),this._tokenTheme=Yr.createFromRawTokenTheme(l,h)}return this._tokenTheme}getTokenStyleMetadata(l,h,D){const te=this.tokenTheme._match([l].concat(h).join(".")).metadata,Se=Nt.NX.getForeground(te),He=Nt.NX.getFontStyle(te);return{foreground:Se,italic:Boolean(1&He),bold:Boolean(2&He),underline:Boolean(4&He)}}}function Ga(A){return A===kr||A===uc||A===Qr}function Dl(A){switch(A){case kr:return Qo;case uc:return cc;case Qr:return $a}}function Ya(A){let l=Dl(A);return new hc(A,l)}class du extends nt.JT{constructor(){super(),this._onColorThemeChange=this._register(new j.Q5),this.onDidColorThemeChange=this._onColorThemeChange.event,this._environment=Object.create(null),this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set(kr,Ya(kr)),this._knownThemes.set(uc,Ya(uc)),this._knownThemes.set(Qr,Ya(Qr));const l=function(){const A=new j.Q5,l=(0,Hh.Ks)();return l.onDidChange(()=>A.fire()),{onDidChange:A.event,getCSS(){const h={},D=te=>{let Se=te.defaults;for(;_o.kS.isThemeIcon(Se);){const ct=l.getIcon(Se.id);if(!ct)return;Se=ct.defaults}const He=Se.fontId;if(He){const ct=l.getIconFont(He);if(ct)return h[He]=ct,`.codicon-${te.id}:before { content: '${Se.fontCharacter}'; font-family: ${(0,Ce._h)(He)}; }`}return`.codicon-${te.id}:before { content: '${Se.fontCharacter}'; }`},Q=[];for(let te of l.getIcons()){const Se=D(te);Se&&Q.push(Se)}for(let te in h){const He=h[te].definition.src.map(ct=>`${(0,Ce.wY)(ct.location)} format('${ct.format}')`).join(", ");Q.push(`@font-face { src: ${He}; font-family: ${(0,Ce._h)(te)}; }`)}return Q.join("\n")}}}();this._codiconCSS=l.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}\n${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(kr),l.onDidChange(()=>{this._codiconCSS=l.getCSS(),this._updateCSS()}),Ce.uB("(forced-colors: active)",()=>{this._updateActualTheme()})}registerEditorContainer(l){return Ce.OO(l)?this._registerShadowDomContainer(l):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=Ce.dS(),this._globalStyleElement.className="monaco-colors",this._globalStyleElement.textContent=this._allCSS,this._styleElements.push(this._globalStyleElement)),nt.JT.None}_registerShadowDomContainer(l){const h=Ce.dS(l);return h.className="monaco-colors",h.textContent=this._allCSS,this._styleElements.push(h),{dispose:()=>{for(let D=0;D<this._styleElements.length;D++)if(this._styleElements[D]===h)return void this._styleElements.splice(D,1)}}}defineTheme(l,h){if(!/^[a-z0-9\-]+$/i.test(l))throw new Error("Illegal theme name!");if(!Ga(h.base)&&!Ga(l))throw new Error("Illegal theme base!");this._knownThemes.set(l,new hc(l,h)),Ga(l)&&this._knownThemes.forEach(D=>{D.base===l&&D.notifyBaseUpdated()}),this._theme.themeName===l&&this.setTheme(l)}getColorTheme(){return this._theme}setColorMapOverride(l){this._colorMapOverride=l,this._updateThemeOrColorMap()}setTheme(l){let h;h=this._knownThemes.has(l)?this._knownThemes.get(l):this._knownThemes.get(kr),this._desiredTheme=h,this._updateActualTheme()}_updateActualTheme(){const l=this._autoDetectHighContrast&&window.matchMedia("(forced-colors: active)").matches?this._knownThemes.get(Qr):this._desiredTheme;this._theme!==l&&(this._theme=l,this._updateThemeOrColorMap())}setAutoDetectHighContrast(l){this._autoDetectHighContrast=l,this._updateActualTheme()}_updateThemeOrColorMap(){let l=[],h={},D={addRule:te=>{h[te]||(l.push(te),h[te]=!0)}};cu.getThemingParticipants().forEach(te=>te(this._theme,D,this._environment));const Q=this._colorMapOverride||this._theme.tokenTheme.getColorMap();D.addRule(function(A){let l=[];for(let h=1,D=A.length;h<D;h++)l[h]=`.mtk${h} { color: ${A[h]}; }`;return l.push(".mtki { font-style: italic; }"),l.push(".mtkb { font-weight: bold; }"),l.push(".mtku { text-decoration: underline; text-underline-position: under; }"),l.join("\n")}(Q)),this._themeCSS=l.join("\n"),this._updateCSS(),Nt.RW.setColorMap(Q),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}\n${this._themeCSS}`,this._styleElements.forEach(l=>l.textContent=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}}var va=a(5539);const Er="data-keybinding-context";class od{constructor(l,h){this._id=l,this._parent=h,this._value=Object.create(null),this._value._contextId=l}setValue(l,h){return this._value[l]!==h&&(this._value[l]=h,!0)}removeValue(l){return l in this._value&&(delete this._value[l],!0)}getValue(l){const h=this._value[l];return void 0===h&&this._parent?this._parent.getValue(l):h}}class Qa extends od{constructor(){super(-1,null)}setValue(l,h){return!1}removeValue(l){return!1}getValue(l){}}Qa.INSTANCE=new Qa;let Do=(()=>{class A extends od{constructor(h,D,Q){super(h,null),this._configurationService=D,this._values=pe.Id.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration(te=>{if(6===te.source){const Se=Array.from(va.$.map(this._values,([He])=>He));this._values.clear(),Q.fire(new c(Se))}else{const Se=[];for(const He of te.affectedKeys){const ct=`config.${He}`,It=this._values.findSuperstr(ct);void 0!==It&&(Se.push(...va.$.map(It,([Ot])=>Ot)),this._values.deleteSuperstr(ct)),this._values.has(ct)&&(Se.push(ct),this._values.delete(ct))}Q.fire(new c(Se))}})}dispose(){this._listener.dispose()}getValue(h){if(0!==h.indexOf(A._keyPrefix))return super.getValue(h);if(this._values.has(h))return this._values.get(h);const D=h.substr(A._keyPrefix.length),Q=this._configurationService.getValue(D);let te;switch(typeof Q){case"number":case"boolean":case"string":te=Q;break;default:te=Array.isArray(Q)?JSON.stringify(Q):Q}return this._values.set(h,te),te}setValue(h,D){return super.setValue(h,D)}removeValue(h){return super.removeValue(h)}}return A._keyPrefix="config.",A})();class yt{constructor(l,h,D){this._service=l,this._key=h,this._defaultValue=D,this.reset()}set(l){this._service.setContext(this._key,l)}reset(){void 0===this._defaultValue?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class r{constructor(l){this.key=l}affectsSome(l){return l.has(this.key)}}class c{constructor(l){this.keys=l}affectsSome(l){for(const h of this.keys)if(l.has(h))return!0;return!1}}class y{constructor(l){this.events=l}affectsSome(l){for(const h of this.events)if(h.affectsSome(l))return!0;return!1}}class W{constructor(l){this._onDidChangeContext=new j.K3({merge:h=>new y(h)}),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=l}createKey(l,h){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new yt(this,l,h)}bufferChangeEvents(l){this._onDidChangeContext.pause();try{l()}finally{this._onDidChangeContext.resume()}}createScoped(l){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new ae(this,l)}contextMatchesRules(l){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const h=this.getContextValuesContainer(this._myContextId);return wr.contextMatchesRules(h,l)}getContextKeyValue(l){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(l)}setContext(l,h){if(this._isDisposed)return;const D=this.getContextValuesContainer(this._myContextId);!D||D.setValue(l,h)&&this._onDidChangeContext.fire(new r(l))}removeContext(l){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(l)&&this._onDidChangeContext.fire(new r(l))}getContext(l){return this._isDisposed?Qa.INSTANCE:this.getContextValuesContainer(function(A){for(;A;){if(A.hasAttribute(Er)){const l=A.getAttribute(Er);return l?parseInt(l,10):NaN}A=A.parentElement}return 0}(l))}}let z=class extends W{constructor(l){super(0),this._contexts=new Map,this._toDispose=new nt.SL,this._lastContextId=0;const h=new Do(this._myContextId,l,this._onDidChangeContext);this._contexts.set(this._myContextId,h),this._toDispose.add(h)}dispose(){this._onDidChangeContext.dispose(),this._isDisposed=!0,this._toDispose.dispose()}getContextValuesContainer(l){return this._isDisposed?Qa.INSTANCE:this._contexts.get(l)||Qa.INSTANCE}createChildContext(l=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");let h=++this._lastContextId;return this._contexts.set(h,new od(h,this.getContextValuesContainer(l))),h}disposeContext(l){this._isDisposed||this._contexts.delete(l)}};z=function(A,l,h,D){var Se,Q=arguments.length,te=Q<3?l:null===D?D=Object.getOwnPropertyDescriptor(l,h):D;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)te=Reflect.decorate(A,l,h,D);else for(var He=A.length-1;He>=0;He--)(Se=A[He])&&(te=(Q<3?Se(te):Q>3?Se(l,h,te):Se(l,h))||te);return Q>3&&te&&Object.defineProperty(l,h,te),te}([function(A,l){return function(h,D){l(h,D,0)}}(0,Ys.Ui)],z);class ae extends W{constructor(l,h){if(super(l.createChildContext()),this._parentChangeListener=new nt.XK,this._parent=l,this._updateParentChangeListener(),this._domNode=h,this._domNode.hasAttribute(Er)){let D="";this._domNode.classList&&(D=Array.from(this._domNode.classList.values()).join(", ")),console.error("Element already has context attribute"+(D?": "+D:""))}this._domNode.setAttribute(Er,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(this._onDidChangeContext.fire,this._onDidChangeContext)}dispose(){this._isDisposed||(this._onDidChangeContext.dispose(),this._parent.disposeContext(this._myContextId),this._parentChangeListener.dispose(),this._domNode.removeAttribute(Er),this._isDisposed=!0)}getContextValuesContainer(l){return this._isDisposed?Qa.INSTANCE:this._parent.getContextValuesContainer(l)}createChildContext(l=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(l)}disposeContext(l){this._isDisposed||this._parent.disposeContext(l)}}ze.P.registerCommand(Ws.Eq,function(A,l,h){A.get(Ws.i6).createKey(String(l),h)}),ze.P.registerCommand({id:"getContextKeyInfo",handler:()=>[...Ws.uy.all()].sort((A,l)=>A.key.localeCompare(l.key)),description:{description:(0,yi.N)("getContextKeyInfo","A command that returns information about context keys"),args:[]}}),ze.P.registerCommand("_generateContextKeyInfo",function(){const A=[],l=new Set;for(let h of Ws.uy.all())l.has(h.key)||(l.add(h.key),A.push(h));A.sort((h,D)=>h.key.localeCompare(D.key)),console.log(JSON.stringify(A,void 0,2))}),a(2919);var lt=a(7513),gt=a(1764),St=a(4304),Gt=(a(9498),a(162)),an=a(1927),dn=(()=>(function(A){A[A.AVOID=0]="AVOID",A[A.ALIGN=1]="ALIGN"}(dn||(dn={})),dn))();function Tn(A,l,h){const D=h.mode===dn.ALIGN?h.offset:h.offset+h.size,Q=h.mode===dn.ALIGN?h.offset+h.size:h.offset;return 0===h.position?l<=A-D?D:l<=Q?Q-l:Math.max(A-l,0):l<=Q?Q-l:l<=A-D?D:0}let $n=(()=>{class A extends nt.JT{constructor(h,D){super(),this.container=null,this.delegate=null,this.toDisposeOnClean=nt.JT.None,this.toDisposeOnSetContainer=nt.JT.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=Ce.$(".context-view"),this.useFixedPosition=!1,this.useShadowDOM=!1,Ce.Cp(this.view),this.setContainer(h,D),this._register((0,nt.OF)(()=>this.setContainer(null,1)))}setContainer(h,D){var Q;if(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,null===(Q=this.shadowRootHostElement)||void 0===Q||Q.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),h){if(this.container=h,this.useFixedPosition=1!==D,this.useShadowDOM=3===D,this.useShadowDOM){this.shadowRootHostElement=Ce.$(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const Se=document.createElement("style");Se.textContent=Hn,this.shadowRoot.appendChild(Se),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(Ce.$("slot"))}else this.container.appendChild(this.view);const te=new nt.SL;A.BUBBLE_UP_EVENTS.forEach(Se=>{te.add(Ce.mu(this.container,Se,He=>{this.onDOMEvent(He,!1)}))}),A.BUBBLE_DOWN_EVENTS.forEach(Se=>{te.add(Ce.mu(this.container,Se,He=>{this.onDOMEvent(He,!0)},!0))}),this.toDisposeOnSetContainer=te}}show(h){this.isVisible()&&this.hide(),Ce.PO(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2500",this.view.style.position=this.useFixedPosition?"fixed":"absolute",Ce.$Z(this.view),this.toDisposeOnClean=h.render(this.view)||nt.JT.None,this.delegate=h,this.doLayout(),this.delegate.focus&&this.delegate.focus()}getViewElement(){return this.view}layout(){if(this.isVisible()){if(!(!1!==this.delegate.canRelayout||Rt.gn&&an.D.pointerEvents))return void this.hide();this.delegate.layout&&this.delegate.layout(),this.doLayout()}}doLayout(){if(!this.isVisible())return;let D,h=this.delegate.getAnchor();if(Ce.Re(h)){let xn=Ce.i(h);D={top:xn.top,left:xn.left,width:xn.width,height:xn.height}}else D={top:h.y,left:h.x,width:h.width||1,height:h.height||2};const Q=Ce.w(this.view),te=Ce.wn(this.view),Se=this.delegate.anchorPosition||0,He=this.delegate.anchorAlignment||0;let It,Ot;if(0===(this.delegate.anchorAxisAlignment||0)){const xn={offset:D.top-window.pageYOffset,size:D.height,position:0===Se?0:1},gi={offset:D.left,size:D.width,position:0===He?0:1,mode:dn.ALIGN};It=Tn(window.innerHeight,te,xn)+window.pageYOffset,Gt.e.intersects({start:It,end:It+te},{start:xn.offset,end:xn.offset+xn.size})&&(gi.mode=dn.AVOID),Ot=Tn(window.innerWidth,Q,gi)}else{const xn={offset:D.left,size:D.width,position:0===He?0:1},gi={offset:D.top,size:D.height,position:0===Se?0:1,mode:dn.ALIGN};Ot=Tn(window.innerWidth,Q,xn),Gt.e.intersects({start:Ot,end:Ot+Q},{start:xn.offset,end:xn.offset+xn.size})&&(gi.mode=dn.AVOID),It=Tn(window.innerHeight,te,gi)+window.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(0===Se?"bottom":"top"),this.view.classList.add(0===He?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const ln=Ce.i(this.container);this.view.style.top=It-(this.useFixedPosition?Ce.i(this.view).top:ln.top)+"px",this.view.style.left=Ot-(this.useFixedPosition?Ce.i(this.view).left:ln.left)+"px",this.view.style.width="initial"}hide(h){const D=this.delegate;this.delegate=null,(null==D?void 0:D.onHide)&&D.onHide(h),this.toDisposeOnClean.dispose(),Ce.Cp(this.view)}isVisible(){return!!this.delegate}onDOMEvent(h,D){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(h,document.activeElement):D&&!Ce.jg(h.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}return A.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],A.BUBBLE_DOWN_EVENTS=["click"],A})(),Hn='\n\t:host {\n\t\tall: initial; /* 1st rule so subsequent properties are reset. */\n\t}\n\n\t@font-face {\n\t\tfont-family: "codicon";\n\t\tsrc: url("./codicon.ttf?5d4d76ab2ce5108968ad644d591a16a6") format("truetype");\n\t}\n\n\t.codicon[class*=\'codicon-\'] {\n\t\tfont: normal normal normal 16px/1 codicon;\n\t\tdisplay: inline-block;\n\t\ttext-decoration: none;\n\t\ttext-rendering: auto;\n\t\ttext-align: center;\n\t\t-webkit-font-smoothing: antialiased;\n\t\t-moz-osx-font-smoothing: grayscale;\n\t\tuser-select: none;\n\t\t-webkit-user-select: none;\n\t\t-ms-user-select: none;\n\t}\n\n\t:host {\n\t\tfont-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;\n\t}\n\n\t:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }\n\t:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }\n\t:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }\n\t:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }\n\t:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }\n\n\t:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }\n\t:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }\n\t:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }\n\t:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }\n\t:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }\n\n\t:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }\n\t:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }\n';var Vn=a(521),hi=a(1403),Jn=a(9461),li=a(4991),ui=a(7631),_i=a(9505);const xi=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,Ai=/(&amp;)?(&amp;)([^\s&])/g,wi=(0,Vn.CM)("menu-selection",Vn.lA.check),Is=(0,Vn.CM)("menu-submenu",Vn.lA.chevronRight);var Ts=(()=>(function(A){A[A.Right=0]="Right",A[A.Left=1]="Left"}(Ts||(Ts={})),Ts))();class Hs extends gt.o{constructor(l,h,D={}){l.classList.add("monaco-menu-container"),l.setAttribute("role","presentation");const Q=document.createElement("div");Q.classList.add("monaco-menu"),Q.setAttribute("role","presentation"),super(Q,{orientation:1,actionViewItemProvider:He=>this.doGetActionViewItem(He,D,te),context:D.context,actionRunner:D.actionRunner,ariaLabel:D.ariaLabel,focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...Rt.dz||Rt.IJ?[10]:[]],keyDown:!0}}),this.menuElement=Q,this.actionsList.setAttribute("role","menu"),this.actionsList.tabIndex=0,this.menuDisposables=this._register(new nt.SL),this.initializeStyleSheet(l),(0,Ce.nm)(Q,Ce.tw.KEY_DOWN,He=>{new Ks.y(He).equals(2)&&He.preventDefault()}),D.enableMnemonics&&this.menuDisposables.add((0,Ce.nm)(Q,Ce.tw.KEY_DOWN,He=>{const ct=He.key.toLocaleLowerCase();if(this.mnemonics.has(ct)){Ce.zB.stop(He,!0);const It=this.mnemonics.get(ct);if(1===It.length&&(It[0]instanceof Zs&&It[0].container&&this.focusItemByElement(It[0].container),It[0].onClick(He)),It.length>1){const Ot=It.shift();Ot&&Ot.container&&(this.focusItemByElement(Ot.container),It.push(Ot)),this.mnemonics.set(ct,It)}}})),Rt.IJ&&this._register((0,Ce.nm)(Q,Ce.tw.KEY_DOWN,He=>{const ct=new Ks.y(He);ct.equals(14)||ct.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),Ce.zB.stop(He,!0)):(ct.equals(13)||ct.equals(12))&&(this.focusedItem=0,this.focusPrevious(),Ce.zB.stop(He,!0))})),this._register((0,Ce.nm)(this.domNode,Ce.tw.MOUSE_OUT,He=>{(0,Ce.jg)(He.relatedTarget,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),He.stopPropagation())})),this._register((0,Ce.nm)(this.actionsList,Ce.tw.MOUSE_OVER,He=>{let ct=He.target;if(ct&&(0,Ce.jg)(ct,this.actionsList)&&ct!==this.actionsList){for(;ct.parentElement!==this.actionsList&&null!==ct.parentElement;)ct=ct.parentElement;if(ct.classList.contains("action-item")){const It=this.focusedItem;this.setFocusedItem(ct),It!==this.focusedItem&&this.updateFocus()}}}));let te={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new St.s$(Q,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const Se=this.scrollableElement.getDomNode();Se.style.position="",this._register((0,Ce.nm)(Se,Ce.tw.MOUSE_UP,He=>{He.preventDefault()})),Q.style.maxHeight=`${Math.max(10,window.innerHeight-l.getBoundingClientRect().top-35)}px`,h=h.filter(He=>{var ct;return!(null===(ct=D.submenuIds)||void 0===ct?void 0:ct.has(He.id))||(console.warn(`Found submenu cycle: ${He.id}`),!1)}),this.push(h,{icon:!0,label:!0,isMenu:!0}),l.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter(He=>!(He instanceof Xs)).forEach((He,ct,It)=>{He.updatePositionInSet(ct+1,It.length)})}initializeStyleSheet(l){(0,Ce.OO)(l)?(this.styleSheet=(0,Ce.dS)(l),this.styleSheet.textContent=Zr):(Hs.globalStyleSheet||(Hs.globalStyleSheet=(0,Ce.dS)(),Hs.globalStyleSheet.textContent=Zr),this.styleSheet=Hs.globalStyleSheet)}style(l){const h=this.getContainer(),D=l.foregroundColor?`${l.foregroundColor}`:"",Q=l.backgroundColor?`${l.backgroundColor}`:"",Se=l.shadowColor?`0 2px 4px ${l.shadowColor}`:"";h.style.border=l.borderColor?`1px solid ${l.borderColor}`:"",this.domNode.style.color=D,this.domNode.style.backgroundColor=Q,h.style.boxShadow=Se,this.viewItems&&this.viewItems.forEach(He=>{(He instanceof Cs||He instanceof Xs)&&He.style(l)})}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(l){const h=this.focusedItem;this.setFocusedItem(l),h!==this.focusedItem&&this.updateFocus()}setFocusedItem(l){for(let h=0;h<this.actionsList.children.length;h++)if(l===this.actionsList.children[h]){this.focusedItem=h;break}}updateFocus(l){super.updateFocus(l,!0),void 0!==this.focusedItem&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(l,h,D){if(l instanceof lt.Z0)return new Xs(h.context,l,{icon:!0});if(l instanceof lt.wY){const Q=new Zs(l,l.actions,D,Object.assign(Object.assign({},h),{submenuIds:new Set([...h.submenuIds||[],l.id])}));if(h.enableMnemonics){const te=Q.getMnemonic();if(te&&Q.isEnabled()){let Se=[];this.mnemonics.has(te)&&(Se=this.mnemonics.get(te)),Se.push(Q),this.mnemonics.set(te,Se)}}return Q}{const Q={enableMnemonics:h.enableMnemonics,useEventAsContext:h.useEventAsContext};if(h.getKeyBinding){const Se=h.getKeyBinding(l);if(Se){const He=Se.getLabel();He&&(Q.keybinding=He)}}const te=new Cs(h.context,l,Q);if(h.enableMnemonics){const Se=te.getMnemonic();if(Se&&te.isEnabled()){let He=[];this.mnemonics.has(Se)&&(He=this.mnemonics.get(Se)),He.push(te),this.mnemonics.set(Se,He)}}return te}}}class Cs extends hi.Y{constructor(l,h,D={}){if(D.isMenu=!0,super(h,h,D),this.options=D,this.options.icon=void 0!==D.icon&&D.icon,this.options.label=void 0===D.label||D.label,this.cssClass="",this.options.label&&D.enableMnemonics){let Q=this.getAction().label;if(Q){let te=xi.exec(Q);te&&(this.mnemonic=(te[1]?te[1]:te[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new qt.pY(()=>{!this.element||(this._register((0,Ce.nm)(this.element,Ce.tw.MOUSE_UP,Q=>{if(Ce.zB.stop(Q,!0),li.vU){if(new ui.n(Q).rightButton)return;this.onClick(Q)}else setTimeout(()=>{this.onClick(Q)},0)})),this._register((0,Ce.nm)(this.element,Ce.tw.CONTEXT_MENU,Q=>{Ce.zB.stop(Q,!0)})))},100),this._register(this.runOnceToEnableMouseUp)}render(l){super.render(l),this.element&&(this.container=l,this.item=(0,Ce.R3)(this.element,(0,Ce.$)("a.action-menu-item")),this._action.id===lt.Z0.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=(0,Ce.R3)(this.item,(0,Ce.$)("span.menu-item-check"+wi.cssSelector)),this.check.setAttribute("role","none"),this.label=(0,Ce.R3)(this.item,(0,Ce.$)("span.action-label")),this.options.label&&this.options.keybinding&&((0,Ce.R3)(this.item,(0,Ce.$)("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked())}blur(){super.blur(),this.applyStyle()}focus(){super.focus(),this.item&&this.item.focus(),this.applyStyle()}updatePositionInSet(l,h){this.item&&(this.item.setAttribute("aria-posinset",`${l}`),this.item.setAttribute("aria-setsize",`${h}`))}updateLabel(){if(this.label&&this.options.label){(0,Ce.PO)(this.label);let l=(0,_i.x$)(this.getAction().label);if(l){const h=function(A){const l=xi,h=l.exec(A);return h?A.replace(l,h[1]?"":"$2$3").trim():A}(l);this.options.enableMnemonics||(l=h),this.label.setAttribute("aria-label",h.replace(/&&/g,"&"));const D=xi.exec(l);if(D){l=yn.YU(l),Ai.lastIndex=0;let Q=Ai.exec(l);for(;Q&&Q[1];)Q=Ai.exec(l);const te=Se=>Se.replace(/&amp;&amp;/g,"&amp;");Q?this.label.append(yn.j3(te(l.substr(0,Q.index))," "),(0,Ce.$)("u",{"aria-hidden":"true"},Q[3]),yn.oL(te(l.substr(Q.index+Q[0].length))," ")):this.label.innerText=te(l).trim(),this.item&&this.item.setAttribute("aria-keyshortcuts",(D[1]?D[1]:D[3]).toLocaleLowerCase())}else this.label.innerText=l.replace(/&&/g,"&").trim()}}}updateTooltip(){let l=null;this.getAction().tooltip?l=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(l=this.getAction().label,this.options.keybinding&&(l=yi.N({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",l,this.options.keybinding))),l&&this.item&&(this.item.title=l)}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.getAction().class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.getAction().enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){!this.item||(this.getAction().checked?(this.item.classList.add("checked"),this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked","true")):(this.item.classList.remove("checked"),this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked","false")))}getMnemonic(){return this.mnemonic}applyStyle(){if(!this.menuStyle)return;const l=this.element&&this.element.classList.contains("focused"),h=l&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,D=l&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,Q=l&&this.menuStyle.selectionBorderColor?`thin solid ${this.menuStyle.selectionBorderColor}`:"";this.item&&(this.item.style.color=h?h.toString():"",this.item.style.backgroundColor=D?D.toString():""),this.check&&(this.check.style.color=h?h.toString():""),this.container&&(this.container.style.border=Q)}style(l){this.menuStyle=l,this.applyStyle()}}class Zs extends Cs{constructor(l,h,D,Q){super(l,l,Q),this.submenuActions=h,this.parentData=D,this.submenuOptions=Q,this.mysubmenu=null,this.submenuDisposables=this._register(new nt.SL),this.mouseOver=!1,this.expandDirection=Q&&void 0!==Q.expandDirection?Q.expandDirection:Ts.Right,this.showScheduler=new qt.pY(()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))},250),this.hideScheduler=new qt.pY(()=>{this.element&&!(0,Ce.jg)((0,Ce.vY)(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))},750)}render(l){super.render(l),this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=(0,Ce.R3)(this.item,(0,Ce.$)("span.submenu-indicator"+Is.cssSelector)),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register((0,Ce.nm)(this.element,Ce.tw.KEY_UP,h=>{let D=new Ks.y(h);(D.equals(17)||D.equals(3))&&(Ce.zB.stop(h,!0),this.createSubmenu(!0))})),this._register((0,Ce.nm)(this.element,Ce.tw.KEY_DOWN,h=>{let D=new Ks.y(h);(0,Ce.vY)()===this.item&&(D.equals(17)||D.equals(3))&&Ce.zB.stop(h,!0)})),this._register((0,Ce.nm)(this.element,Ce.tw.MOUSE_OVER,h=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())})),this._register((0,Ce.nm)(this.element,Ce.tw.MOUSE_LEAVE,h=>{this.mouseOver=!1})),this._register((0,Ce.nm)(this.element,Ce.tw.FOCUS_OUT,h=>{this.element&&!(0,Ce.jg)((0,Ce.vY)(),this.element)&&this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!1)})))}updateEnabled(){}onClick(l){Ce.zB.stop(l,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(l){if(this.parentData.submenu&&(l||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch(h){}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(l,h,D,Q){const te={top:0,left:0};return te.left=Tn(l.width,h.width,{position:Q===Ts.Right?0:1,offset:D.left,size:D.width}),te.left>=D.left&&te.left<D.left+D.width&&(D.left+10+h.width<=l.width&&(te.left=D.left+10),D.top+=10,D.height=0),te.top=Tn(l.height,h.height,{position:0,offset:D.top,size:0}),te.top+h.height===D.top&&te.top+D.height+h.height<=l.height&&(te.top+=D.height),te}createSubmenu(l=!0){if(this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=(0,Ce.R3)(this.element,(0,Ce.$)("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const h=getComputedStyle(this.parentData.parent.domNode),D=parseFloat(h.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new Hs(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new lt.eZ],this.submenuOptions),this.menuStyle&&this.parentData.submenu.style(this.menuStyle);const Q=this.element.getBoundingClientRect(),te={top:Q.top-D,left:Q.left,height:Q.height+2*D,width:Q.width},Se=this.submenuContainer.getBoundingClientRect(),{top:He,left:ct}=this.calculateSubmenuMenuLayout(new Ce.Ro(window.innerWidth,window.innerHeight),Ce.Ro.lift(Se),te,this.expandDirection);this.submenuContainer.style.left=`${ct}px`,this.submenuContainer.style.top=`${He}px`,this.submenuDisposables.add((0,Ce.nm)(this.submenuContainer,Ce.tw.KEY_UP,It=>{new Ks.y(It).equals(15)&&(Ce.zB.stop(It,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add((0,Ce.nm)(this.submenuContainer,Ce.tw.KEY_DOWN,It=>{new Ks.y(It).equals(15)&&Ce.zB.stop(It,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(l),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(l){var h;this.item&&(null===(h=this.item)||void 0===h||h.setAttribute("aria-expanded",l))}applyStyle(){if(super.applyStyle(),!this.menuStyle)return;const h=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=h?`${h}`:""),this.parentData.submenu&&this.parentData.submenu.style(this.menuStyle)}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class Xs extends hi.g{style(l){this.label&&(this.label.style.borderBottomColor=l.separatorColor?`${l.separatorColor}`:"")}}let Zr=`\n.monaco-menu {\n\tfont-size: 13px;\n\n}\n\n${(0,Jn.a)(wi)}\n${(0,Jn.a)(Is)}\n\n.monaco-menu .monaco-action-bar {\n\ttext-align: right;\n\toverflow: hidden;\n\twhite-space: nowrap;\n}\n\n.monaco-menu .monaco-action-bar .actions-container {\n\tdisplay: flex;\n\tmargin: 0 auto;\n\tpadding: 0;\n\twidth: 100%;\n\tjustify-content: flex-end;\n}\n\n.monaco-menu .monaco-action-bar.vertical .actions-container {\n\tdisplay: inline-block;\n}\n\n.monaco-menu .monaco-action-bar.reverse .actions-container {\n\tflex-direction: row-reverse;\n}\n\n.monaco-menu .monaco-action-bar .action-item {\n\tcursor: pointer;\n\tdisplay: inline-block;\n\ttransition: transform 50ms ease;\n\tposition: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */\n}\n\n.monaco-menu .monaco-action-bar .action-item.disabled {\n\tcursor: default;\n}\n\n.monaco-menu .monaco-action-bar.animated .action-item.active {\n\ttransform: scale(1.272019649, 1.272019649); /* 1.272019649 = \u221a\u03c6 */\n}\n\n.monaco-menu .monaco-action-bar .action-item .icon,\n.monaco-menu .monaco-action-bar .action-item .codicon {\n\tdisplay: inline-block;\n}\n\n.monaco-menu .monaco-action-bar .action-item .codicon {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-menu .monaco-action-bar .action-label {\n\tfont-size: 11px;\n\tmargin-right: 4px;\n}\n\n.monaco-menu .monaco-action-bar .action-item.disabled .action-label,\n.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {\n\topacity: 0.4;\n}\n\n/* Vertical actions */\n\n.monaco-menu .monaco-action-bar.vertical {\n\ttext-align: left;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tdisplay: block;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tdisplay: block;\n\tborder-bottom: 1px solid #bbb;\n\tpadding-top: 1px;\n\tmargin-left: .8em;\n\tmargin-right: .8em;\n}\n\n.monaco-menu .secondary-actions .monaco-action-bar .action-label {\n\tmargin-left: 6px;\n}\n\n/* Action Items */\n.monaco-menu .monaco-action-bar .action-item.select-container {\n\toverflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */\n\tflex: 1;\n\tmax-width: 170px;\n\tmin-width: 60px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tmargin-right: 10px;\n}\n\n.monaco-menu .monaco-action-bar.vertical {\n\tmargin-left: 0;\n\toverflow: visible;\n}\n\n.monaco-menu .monaco-action-bar.vertical .actions-container {\n\tdisplay: block;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tpadding: 0;\n\ttransform: none;\n\tdisplay: flex;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item.active {\n\ttransform: none;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item {\n\tflex: 1 1 auto;\n\tdisplay: flex;\n\theight: 2em;\n\talign-items: center;\n\tposition: relative;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label {\n\tflex: 1 1 auto;\n\ttext-decoration: none;\n\tpadding: 0 1em;\n\tbackground: none;\n\tfont-size: 12px;\n\tline-height: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .keybinding,\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\tdisplay: inline-block;\n\tflex: 2 1 auto;\n\tpadding: 0 1em;\n\ttext-align: right;\n\tfont-size: 12px;\n\tline-height: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\theight: 100%;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {\n\tfont-size: 16px !important;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {\n\tmargin-left: auto;\n\tmargin-right: -20px;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,\n.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {\n\topacity: 0.4;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {\n\tdisplay: inline-block;\n\tbox-sizing: border-box;\n\tmargin: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tposition: static;\n\toverflow: visible;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {\n\tposition: absolute;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tpadding: 0.5em 0 0 0;\n\tmargin-bottom: 0.5em;\n\twidth: 100%;\n\theight: 0px !important;\n\tmargin-left: .8em !important;\n\tmargin-right: .8em !important;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {\n\tpadding: 0.7em 1em 0.1em 1em;\n\tfont-weight: bold;\n\topacity: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:hover {\n\tcolor: inherit;\n}\n\n.monaco-menu .monaco-action-bar.vertical .menu-item-check {\n\tposition: absolute;\n\tvisibility: hidden;\n\twidth: 1em;\n\theight: 100%;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {\n\tvisibility: visible;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n/* Context Menu */\n\n.context-view.monaco-menu-container {\n\toutline: 0;\n\tborder: none;\n\tanimation: fadeIn 0.083s linear;\n\t-webkit-app-region: no-drag;\n}\n\n.context-view.monaco-menu-container :focus,\n.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,\n.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {\n\toutline: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tborder: thin solid transparent; /* prevents jumping behaviour on hover or focus */\n}\n\n\n/* High Contrast Theming */\n:host-context(.hc-black) .context-view.monaco-menu-container {\n\tbox-shadow: none;\n}\n\n:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused {\n\tbackground: none;\n}\n\n/* Vertical Action Bar Styles */\n\n.monaco-menu .monaco-action-bar.vertical {\n\tpadding: .5em 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item {\n\theight: 1.8em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),\n.monaco-menu .monaco-action-bar.vertical .keybinding {\n\tfont-size: inherit;\n\tpadding: 0 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .menu-item-check {\n\tfont-size: inherit;\n\twidth: 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tfont-size: inherit;\n\tpadding: 0.2em 0 0 0;\n\tmargin-bottom: 0.2em;\n}\n\n:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tmargin-left: 0;\n\tmargin-right: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\tfont-size: 60%;\n\tpadding: 0 1.8em;\n}\n\n:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\theight: 100%;\n\tmask-size: 10px 10px;\n\t-webkit-mask-size: 10px 10px;\n}\n\n.monaco-menu .action-item {\n\tcursor: default;\n}\n\n/* Arrows */\n.monaco-scrollable-element > .scrollbar > .scra {\n\tcursor: pointer;\n\tfont-size: 11px !important;\n}\n\n.monaco-scrollable-element > .visible {\n\topacity: 1;\n\n\t/* Background rule added for IE9 - to allow clicks on dom node */\n\tbackground:rgba(0,0,0,0);\n\n\ttransition: opacity 100ms linear;\n}\n.monaco-scrollable-element > .invisible {\n\topacity: 0;\n\tpointer-events: none;\n}\n.monaco-scrollable-element > .invisible.fade {\n\ttransition: opacity 800ms linear;\n}\n\n/* Scrollable Content Inset Shadow */\n.monaco-scrollable-element > .shadow {\n\tposition: absolute;\n\tdisplay: none;\n}\n.monaco-scrollable-element > .shadow.top {\n\tdisplay: block;\n\ttop: 0;\n\tleft: 3px;\n\theight: 3px;\n\twidth: 100%;\n\tbox-shadow: #DDD 0 6px 6px -6px inset;\n}\n.monaco-scrollable-element > .shadow.left {\n\tdisplay: block;\n\ttop: 3px;\n\tleft: 0;\n\theight: 100%;\n\twidth: 3px;\n\tbox-shadow: #DDD 6px 0 6px -6px inset;\n}\n.monaco-scrollable-element > .shadow.top-left-corner {\n\tdisplay: block;\n\ttop: 0;\n\tleft: 0;\n\theight: 3px;\n\twidth: 3px;\n}\n.monaco-scrollable-element > .shadow.top.left {\n\tbox-shadow: #DDD 6px 6px 6px -6px inset;\n}\n\n/* ---------- Default Style ---------- */\n\n:host-context(.vs) .monaco-scrollable-element > .scrollbar > .slider {\n\tbackground: rgba(100, 100, 100, .4);\n}\n:host-context(.vs-dark) .monaco-scrollable-element > .scrollbar > .slider {\n\tbackground: rgba(121, 121, 121, .4);\n}\n:host-context(.hc-black) .monaco-scrollable-element > .scrollbar > .slider {\n\tbackground: rgba(111, 195, 223, .6);\n}\n\n.monaco-scrollable-element > .scrollbar > .slider:hover {\n\tbackground: rgba(100, 100, 100, .7);\n}\n:host-context(.hc-black) .monaco-scrollable-element > .scrollbar > .slider:hover {\n\tbackground: rgba(111, 195, 223, .8);\n}\n\n.monaco-scrollable-element > .scrollbar > .slider.active {\n\tbackground: rgba(0, 0, 0, .6);\n}\n:host-context(.vs-dark) .monaco-scrollable-element > .scrollbar > .slider.active {\n\tbackground: rgba(191, 191, 191, .4);\n}\n:host-context(.hc-black) .monaco-scrollable-element > .scrollbar > .slider.active {\n\tbackground: rgba(111, 195, 223, 1);\n}\n\n:host-context(.vs-dark) .monaco-scrollable-element .shadow.top {\n\tbox-shadow: none;\n}\n\n:host-context(.vs-dark) .monaco-scrollable-element .shadow.left {\n\tbox-shadow: #000 6px 0 6px -6px inset;\n}\n\n:host-context(.vs-dark) .monaco-scrollable-element .shadow.top.left {\n\tbox-shadow: #000 6px 6px 6px -6px inset;\n}\n\n:host-context(.hc-black) .monaco-scrollable-element .shadow.top {\n\tbox-shadow: none;\n}\n\n:host-context(.hc-black) .monaco-scrollable-element .shadow.left {\n\tbox-shadow: none;\n}\n\n:host-context(.hc-black) .monaco-scrollable-element .shadow.top.left {\n\tbox-shadow: none;\n}\n`;var Ca=a(1710);class om{constructor(l,h,D,Q,te){this.contextViewService=l,this.telemetryService=h,this.notificationService=D,this.keybindingService=Q,this.themeService=te,this.focusToReturn=null,this.block=null,this.options={blockMouse:!0}}configure(l){this.options=l}showContextMenu(l){const h=l.getActions();if(!h.length)return;this.focusToReturn=document.activeElement;let D,Q=(0,Ce.Re)(l.domForShadowRoot)?l.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>l.getAnchor(),canRelayout:!1,anchorAlignment:l.anchorAlignment,anchorAxisAlignment:l.anchorAxisAlignment,render:te=>{let Se=l.getMenuClassName?l.getMenuClassName():"";Se&&(te.className+=" "+Se),this.options.blockMouse&&(this.block=te.appendChild((0,Ce.$)(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",(0,Ce.nm)(this.block,Ce.tw.MOUSE_DOWN,It=>It.stopPropagation()));const He=new nt.SL,ct=l.actionRunner||new lt.Wi;return ct.onBeforeRun(this.onActionRun,this,He),ct.onDidRun(this.onDidActionRun,this,He),D=new Hs(te,h,{actionViewItemProvider:l.getActionViewItem,context:l.getActionsContext?l.getActionsContext():null,actionRunner:ct,getKeyBinding:l.getKeyBinding?l.getKeyBinding:It=>this.keybindingService.lookupKeybinding(It.id)}),He.add((0,Ca.tj)(D,this.themeService)),D.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,He),D.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,He),He.add((0,Ce.nm)(window,Ce.tw.BLUR,()=>this.contextViewService.hideContextView(!0))),He.add((0,Ce.nm)(window,Ce.tw.MOUSE_DOWN,It=>{if(It.defaultPrevented)return;let Ot=new ui.n(It),ln=Ot.target;if(!Ot.rightButton){for(;ln;){if(ln===te)return;ln=ln.parentElement}this.contextViewService.hideContextView(!0)}})),(0,nt.F8)(He,D)},focus:()=>{D&&D.focus(!!l.autoSelectFirstItem)},onHide:te=>{l.onHide&&l.onHide(!!te),this.block&&(this.block.remove(),this.block=null),this.focusToReturn&&this.focusToReturn.focus()}},Q,!!Q)}onActionRun(l){this.telemetryService.publicLog2("workbenchActionExecuted",{id:l.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1),this.focusToReturn&&this.focusToReturn.focus()}onDidActionRun(l){l.error&&!(0,bt.VV)(l.error)&&this.notificationService.error(l.error)}}var Uh=a(5460),ba=function(A,l){return function(h,D){l(h,D,A)}};let rd=class extends nt.JT{constructor(l,h,D,Q,te){super(),this.contextMenuHandler=new om(D,l,h,Q,te)}configure(l){this.contextMenuHandler.configure(l)}showContextMenu(l){this.contextMenuHandler.showContextMenu(l),Ce._q.getInstance().resetKeyStatus()}};rd=function(A,l,h,D){var Se,Q=arguments.length,te=Q<3?l:null===D?D=Object.getOwnPropertyDescriptor(l,h):D;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)te=Reflect.decorate(A,l,h,D);else for(var He=A.length-1;He>=0;He--)(Se=A[He])&&(te=(Q<3?Se(te):Q>3?Se(l,h,te):Se(l,h))||te);return Q>3&&te&&Object.defineProperty(l,h,te),te}([ba(0,Uh.b),ba(1,$o.lT),ba(2,lr.u),ba(3,Rr.d),ba(4,_o.XE)],rd);const fc=(0,oo.yh)("layoutService");let jh=class extends nt.JT{constructor(l){super(),this.layoutService=l,this.currentViewDisposable=nt.JT.None,this.container=l.container,this.contextView=this._register(new $n(this.container,1)),this.layout(),this._register(l.onDidLayout(()=>this.layout()))}setContainer(l,h){this.contextView.setContainer(l,h||1)}showContextView(l,h,D){h?h!==this.container&&(this.container=h,this.setContainer(h,D?3:2)):this.container!==this.layoutService.container&&(this.container=this.layoutService.container,this.setContainer(this.container,1)),this.contextView.show(l);const Q=(0,nt.OF)(()=>{this.currentViewDisposable===Q&&this.hideContextView()});return this.currentViewDisposable=Q,Q}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView(l){this.contextView.hide(l)}};jh=function(A,l,h,D){var Se,Q=arguments.length,te=Q<3?l:null===D?D=Object.getOwnPropertyDescriptor(l,h):D;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)te=Reflect.decorate(A,l,h,D);else for(var He=A.length-1;He>=0;He--)(Se=A[He])&&(te=(Q<3?Se(te):Q>3?Se(l,h,te):Se(l,h))||te);return Q>3&&te&&Object.defineProperty(l,h,te),te}([function(A,l){return function(h,D){l(h,D,0)}}(0,fc)],jh);var zh=a(5757);class rm{constructor(l){this.incoming=new Map,this.outgoing=new Map,this.data=l}}class am{constructor(l){this._hashFn=l,this._nodes=new Map}roots(){const l=[];for(let h of this._nodes.values())0===h.outgoing.size&&l.push(h);return l}insertEdge(l,h){const D=this.lookupOrInsertNode(l),Q=this.lookupOrInsertNode(h);D.outgoing.set(this._hashFn(h),Q),Q.incoming.set(this._hashFn(l),D)}removeNode(l){const h=this._hashFn(l);this._nodes.delete(h);for(let D of this._nodes.values())D.outgoing.delete(h),D.incoming.delete(h)}lookupOrInsertNode(l){const h=this._hashFn(l);let D=this._nodes.get(h);return D||(D=new rm(l),this._nodes.set(h,D)),D}isEmpty(){return 0===this._nodes.size}toString(){let l=[];for(let[h,D]of this._nodes)l.push(`${h}, (incoming)[${[...D.incoming.keys()].join(", ")}], (outgoing)[${[...D.outgoing.keys()].join(",")}]`);return l.join("\n")}findCycleSlow(){for(let[l,h]of this._nodes){const D=new Set([l]),Q=this._findCycle(h,D);if(Q)return Q}}_findCycle(l,h){for(let[D,Q]of l.outgoing){if(h.has(D))return[...h,D].join(" -> ");h.add(D);const te=this._findCycle(Q,h);if(te)return te;h.delete(D)}}}var Ll=a(1303),Kh=a(6748);class ad extends Error{constructor(l){var h;super("cyclic dependency between services"),this.message=null!==(h=l.findCycleSlow())&&void 0!==h?h:`UNABLE to detect cycle, dumping graph: \n${l.toString()}`}}class Za{constructor(l=new Kh.y,h=!1,D){this._activeInstantiations=new Set,this._services=l,this._strict=h,this._parent=D,this._services.set(oo.TG,this)}createChild(l){return new Za(l,this._strict,this)}invokeFunction(l,...h){let D=Xo.traceInvocation(l),Q=!1;try{return l({get:(Se,He)=>{if(Q)throw(0,bt.L6)("service accessor is only valid during the invocation of its target method");const ct=this._getOrCreateServiceInstance(Se,D);if(!ct&&He!==oo.jt)throw new Error(`[invokeFunction] unknown service '${Se}'`);return ct}},...h)}finally{Q=!0,D.stop()}}createInstance(l,...h){let D,Q;return l instanceof Ll.M?(D=Xo.traceCreation(l.ctor),Q=this._createInstance(l.ctor,l.staticArguments.concat(h),D)):(D=Xo.traceCreation(l),Q=this._createInstance(l,h,D)),D.stop(),Q}_createInstance(l,h=[],D){let Q=oo.I8.getServiceDependencies(l).sort((He,ct)=>He.index-ct.index),te=[];for(const He of Q){let ct=this._getOrCreateServiceInstance(He.id,D);if(!ct&&this._strict&&!He.optional)throw new Error(`[createInstance] ${l.name} depends on UNKNOWN service ${He.id}.`);te.push(ct)}let Se=Q.length>0?Q[0].index:h.length;if(h.length!==Se){console.warn(`[createInstance] First service dependency of ${l.name} at position ${Se+1} conflicts with ${h.length} static arguments`);let He=Se-h.length;h=He>0?h.concat(new Array(He)):h.slice(0,Se)}return new l(...[...h,...te])}_setServiceInstance(l,h){if(this._services.get(l)instanceof Ll.M)this._services.set(l,h);else{if(!this._parent)throw new Error("illegalState - setting UNKNOWN service instance");this._parent._setServiceInstance(l,h)}}_getServiceInstanceOrDescriptor(l){let h=this._services.get(l);return!h&&this._parent?this._parent._getServiceInstanceOrDescriptor(l):h}_getOrCreateServiceInstance(l,h){let D=this._getServiceInstanceOrDescriptor(l);return D instanceof Ll.M?this._safeCreateAndCacheServiceInstance(l,D,h.branch(l,!0)):(h.branch(l,!1),D)}_safeCreateAndCacheServiceInstance(l,h,D){if(this._activeInstantiations.has(l))throw new Error(`illegal state - RECURSIVELY instantiating service '${l}'`);this._activeInstantiations.add(l);try{return this._createAndCacheServiceInstance(l,h,D)}finally{this._activeInstantiations.delete(l)}}_createAndCacheServiceInstance(l,h,D){const Q=new am(He=>He.id.toString());let te=0;const Se=[{id:l,desc:h,_trace:D}];for(;Se.length;){const He=Se.pop();if(Q.lookupOrInsertNode(He),te++>1e3)throw new ad(Q);for(let ct of oo.I8.getServiceDependencies(He.desc.ctor)){let It=this._getServiceInstanceOrDescriptor(ct.id);if(!It&&!ct.optional&&console.warn(`[createInstance] ${l} depends on ${ct.id} which is NOT registered.`),It instanceof Ll.M){const Ot={id:ct.id,desc:It,_trace:He._trace.branch(ct.id,!0)};Q.insertEdge(He,Ot),Se.push(Ot)}}}for(;;){const He=Q.roots();if(0===He.length){if(!Q.isEmpty())throw new ad(Q);break}for(const{data:ct}of He){if(this._getServiceInstanceOrDescriptor(ct.id)instanceof Ll.M){const Ot=this._createServiceInstanceWithOwner(ct.id,ct.desc.ctor,ct.desc.staticArguments,ct.desc.supportsDelayedInstantiation,ct._trace);this._setServiceInstance(ct.id,Ot)}Q.removeNode(ct)}}return this._getServiceInstanceOrDescriptor(l)}_createServiceInstanceWithOwner(l,h,D=[],Q,te){if(this._services.get(l)instanceof Ll.M)return this._createServiceInstance(h,D,Q,te);if(this._parent)return this._parent._createServiceInstanceWithOwner(l,h,D,Q,te);throw new Error(`illegalState - creating UNKNOWN service instance ${h.name}`)}_createServiceInstance(l,h=[],D,Q){if(D){const te=new qt.Ue(()=>this._createInstance(l,h,Q));return new Proxy(Object.create(null),{get(Se,He){if(He in Se)return Se[He];let ct=te.value,It=ct[He];return"function"!=typeof It||(It=It.bind(ct),Se[He]=It),It},set:(Se,He,ct)=>(te.value[He]=ct,!0)})}return this._createInstance(l,h,Q)}}class Xo{constructor(l,h){this.type=l,this.name=h,this._start=Date.now(),this._dep=[]}static traceInvocation(l){return Xo._None}static traceCreation(l){return Xo._None}branch(l,h){let D=new Xo(2,l.toString());return this._dep.push([l,h,D]),D}stop(){let l=Date.now()-this._start;Xo._totals+=l;let h=!1,Q=[`${0===this.type?"CREATE":"CALL"} ${this.name}`,`${function D(te,Se){let He=[],ct=new Array(te+1).join("\t");for(const[It,Ot,ln]of Se._dep)if(Ot&&ln){h=!0,He.push(`${ct}CREATES -> ${It}`);let xn=D(te+1,ln);xn&&He.push(xn)}else He.push(`${ct}uses -> ${It}`);return He.join("\n")}(1,this)}`,`DONE, took ${l.toFixed(2)}ms (grand total ${Xo._totals.toFixed(2)}ms)`];(l>2||h)&&console.log(Q.join("\n"))}}Xo._None=new class extends Xo{constructor(){super(-1,null)}stop(){}branch(){return this}},Xo._totals=0;var cm=a(5360),mu=a(2490),Wo=a(1641);class to{constructor(){this._byResource=new pe.Y9,this._byOwner=new Map}set(l,h,D){let Q=this._byResource.get(l);Q||(Q=new Map,this._byResource.set(l,Q)),Q.set(h,D);let te=this._byOwner.get(h);te||(te=new pe.Y9,this._byOwner.set(h,te)),te.set(l,D)}get(l,h){let D=this._byResource.get(l);return null==D?void 0:D.get(h)}delete(l,h){let D=!1,Q=!1,te=this._byResource.get(l);te&&(D=te.delete(h));let Se=this._byOwner.get(h);if(Se&&(Q=Se.delete(l)),D!==Q)throw new Error("illegal state");return D&&Q}values(l){var h,D,Q,te;return"string"==typeof l?null!==(D=null===(h=this._byOwner.get(l))||void 0===h?void 0:h.values())&&void 0!==D?D:va.$.empty():k.o.isUri(l)?null!==(te=null===(Q=this._byResource.get(l))||void 0===Q?void 0:Q.values())&&void 0!==te?te:va.$.empty():va.$.map(va.$.concat(...this._byOwner.values()),Se=>Se[1])}}class $h{constructor(l){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new pe.Y9,this._service=l,this._subscription=l.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(l){for(const h of l){const D=this._data.get(h);D&&this._substract(D);const Q=this._resourceStats(h);this._add(Q),this._data.set(h,Q)}}_resourceStats(l){const h={errors:0,warnings:0,infos:0,unknowns:0};if(l.scheme===Ae.lg.inMemory||l.scheme===Ae.lg.walkThrough||l.scheme===Ae.lg.walkThroughSnippet)return h;for(const{severity:D}of this._service.read({resource:l}))D===Wo.ZL.Error?h.errors+=1:D===Wo.ZL.Warning?h.warnings+=1:D===Wo.ZL.Info?h.infos+=1:h.unknowns+=1;return h}_substract(l){this.errors-=l.errors,this.warnings-=l.warnings,this.infos-=l.infos,this.unknowns-=l.unknowns}_add(l){this.errors+=l.errors,this.warnings+=l.warnings,this.infos+=l.infos,this.unknowns+=l.unknowns}}class Lo{constructor(){this._onMarkerChanged=new j.D0({delay:0,merge:Lo._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new to,this._stats=new $h(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(l,h){for(const D of h||[])this.changeOne(l,D,[])}changeOne(l,h,D){if((0,jt.XY)(D))this._data.delete(h,l)&&this._onMarkerChanged.fire([h]);else{const Q=[];for(const te of D){const Se=Lo._toMarker(l,h,te);Se&&Q.push(Se)}this._data.set(h,l,Q),this._onMarkerChanged.fire([h])}}static _toMarker(l,h,D){let{code:Q,severity:te,message:Se,source:He,startLineNumber:ct,startColumn:It,endLineNumber:Ot,endColumn:ln,relatedInformation:xn,tags:gi}=D;if(Se)return ct=ct>0?ct:1,It=It>0?It:1,Ot=Ot>=ct?Ot:ct,ln=ln>0?ln:It,{resource:h,owner:l,code:Q,severity:te,message:Se,source:He,startLineNumber:ct,startColumn:It,endLineNumber:Ot,endColumn:ln,relatedInformation:xn,tags:gi}}read(l=Object.create(null)){let{owner:h,resource:D,severities:Q,take:te}=l;if((!te||te<0)&&(te=-1),h&&D){const Se=this._data.get(D,h);if(Se){const He=[];for(const ct of Se)if(Lo._accept(ct,Q)){const It=He.push(ct);if(te>0&&It===te)break}return He}return[]}if(h||D){const Se=this._data.values(null!=D?D:h),He=[];for(const ct of Se)for(const It of ct)if(Lo._accept(It,Q)){const Ot=He.push(It);if(te>0&&Ot===te)return He}return He}{const Se=[];for(let He of this._data.values())for(let ct of He)if(Lo._accept(ct,Q)){const It=Se.push(ct);if(te>0&&It===te)return Se}return Se}}static _accept(l,h){return void 0===h||(h&l.severity)===l.severity}static _merge(l){const h=new pe.Y9;for(let D of l)for(let Q of D)h.set(Q,!0);return Array.from(h.keys())}}var xl=a(7129),Ml=function(A,l,h,D){var Se,Q=arguments.length,te=Q<3?l:null===D?D=Object.getOwnPropertyDescriptor(l,h):D;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)te=Reflect.decorate(A,l,h,D);else for(var He=A.length-1;He>=0;He--)(Se=A[He])&&(te=(Q<3?Se(te):Q>3?Se(l,h,te):Se(l,h))||te);return Q>3&&te&&Object.defineProperty(l,h,te),te},ya=function(A,l){return function(h,D){l(h,D,A)}};let Il=class{constructor(l){this._commandService=l}createMenu(l,h,D=!1){return new ld(l,D,this._commandService,h,this)}};Il=Ml([ya(0,ze.H)],Il);let ld=class Oh{constructor(l,h,D,Q,te){this._id=l,this._fireEventsForSubmenuChanges=h,this._commandService=D,this._contextKeyService=Q,this._menuService=te,this._disposables=new nt.SL,this._menuGroups=[],this._contextKeys=new Set,this._build();const Se=new qt.pY(()=>{this._build(),this._onDidChange.fire(this)},50);this._disposables.add(Se),this._disposables.add(Qi.BH.onDidChangeMenu(It=>{It.has(l)&&Se.schedule()}));const He=this._disposables.add(new nt.SL);this._onDidChange=new j.Q5({onFirstListenerAdd:()=>{const It=new qt.pY(()=>this._onDidChange.fire(this),50);He.add(It),He.add(Q.onDidChangeContext(Ot=>{Ot.affectsSome(this._contextKeys)&&It.schedule()}))},onLastListenerRemove:He.clear.bind(He)}),this.onDidChange=this._onDidChange.event}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}_build(){this._menuGroups.length=0,this._contextKeys.clear();const l=Qi.BH.getMenuItems(this._id);let h;l.sort(Oh._compareMenuItems);for(const D of l){const Q=D.group||"";(!h||h[0]!==Q)&&(h=[Q,[]],this._menuGroups.push(h)),h[1].push(D),this._collectContextKeys(D)}}_collectContextKeys(l){Oh._fillInKbExprKeys(l.when,this._contextKeys),(0,Qi.vr)(l)?(l.command.precondition&&Oh._fillInKbExprKeys(l.command.precondition,this._contextKeys),l.command.toggled&&Oh._fillInKbExprKeys(l.command.toggled.condition||l.command.toggled,this._contextKeys)):this._fireEventsForSubmenuChanges&&Qi.BH.getMenuItems(l.submenu).forEach(this._collectContextKeys,this)}getActions(l){const h=[];for(let D of this._menuGroups){const[Q,te]=D,Se=[];for(const He of te)if(this._contextKeyService.contextMatchesRules(He.when)){const ct=(0,Qi.vr)(He)?new Qi.U8(He.command,He.alt,l,this._contextKeyService,this._commandService):new Qi.NZ(He,this._menuService,this._contextKeyService,l);Se.push(ct)}Se.length>0&&h.push([Q,Se])}return h}static _fillInKbExprKeys(l,h){if(l)for(let D of l.keys())h.add(D)}static _compareMenuItems(l,h){let D=l.group,Q=h.group;if(D!==Q){if(!D)return 1;if(!Q)return-1;if("navigation"===D)return-1;if("navigation"===Q)return 1;let He=D.localeCompare(Q);if(0!==He)return He}let te=l.order||0,Se=h.order||0;return te<Se?-1:te>Se?1:Oh._compareTitles((0,Qi.vr)(l)?l.command.title:l.title,(0,Qi.vr)(h)?h.command.title:h.title)}static _compareTitles(l,h){return("string"==typeof l?l:l.original).localeCompare("string"==typeof h?h:h.original)}};ld=Ml([ya(2,ze.H),ya(3,Ws.i6),ya(4,Qi.co)],ld);var Nl=a(7838),uv=function(A,l){return function(h,D){l(h,D,A)}};function cd(A){return A.toString()}class jw extends nt.JT{constructor(l){super(),this.model=l,this._markersData=new Map,this._register((0,nt.OF)(()=>{this.model.deltaDecorations([...this._markersData.keys()],[]),this._markersData.clear()}))}update(l,h){const D=[...this._markersData.keys()];this._markersData.clear();const Q=this.model.deltaDecorations(D,h);for(let te=0;te<Q.length;te++)this._markersData.set(Q[te],l[te]);return 0!==D.length||0!==Q.length}getMarker(l){return this._markersData.get(l.id)}}let Gh=class extends nt.JT{constructor(l,h){super(),this._markerService=h,this._onDidChangeMarker=this._register(new j.Q5),this._markerDecorations=new Map,l.getModels().forEach(D=>this._onModelAdded(D)),this._register(l.onModelAdded(this._onModelAdded,this)),this._register(l.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(l=>l.dispose()),this._markerDecorations.clear()}getMarker(l,h){const D=this._markerDecorations.get(cd(l));return D&&D.getMarker(h)||null}_handleMarkerChange(l){l.forEach(h=>{const D=this._markerDecorations.get(cd(h));D&&this._updateDecorations(D)})}_onModelAdded(l){const h=new jw(l);this._markerDecorations.set(cd(l.uri),h),this._updateDecorations(h)}_onModelRemoved(l){const h=this._markerDecorations.get(cd(l.uri));h&&(h.dispose(),this._markerDecorations.delete(cd(l.uri))),(l.uri.scheme===Ae.lg.inMemory||l.uri.scheme===Ae.lg.internal||l.uri.scheme===Ae.lg.vscode)&&this._markerService&&this._markerService.read({resource:l.uri}).map(D=>D.owner).forEach(D=>this._markerService.remove(D,[l.uri]))}_updateDecorations(l){const h=this._markerService.read({resource:l.model.uri,take:500});let D=h.map(Q=>({range:this._createDecorationRange(l.model,Q),options:this._createDecorationOption(Q)}));l.update(h,D)&&this._onDidChangeMarker.fire(l.model)}_createDecorationRange(l,h){let D=B.e.lift(h);if(h.severity===Wo.ZL.Hint&&!this._hasMarkerTag(h,1)&&!this._hasMarkerTag(h,2)&&(D=D.setEndPosition(D.startLineNumber,D.startColumn+2)),D=l.validateRange(D),D.isEmpty()){let Q=l.getWordAtPosition(D.getStartPosition());if(Q)D=new B.e(D.startLineNumber,Q.startColumn,D.endLineNumber,Q.endColumn);else{let te=l.getLineLastNonWhitespaceColumn(D.startLineNumber)||l.getLineMaxColumn(D.startLineNumber);1===te||(D=D.endColumn>=te?new B.e(D.startLineNumber,te-1,D.endLineNumber,te):new B.e(D.startLineNumber,D.startColumn,D.endLineNumber,D.endColumn+1))}}else if(h.endColumn===Number.MAX_VALUE&&1===h.startColumn&&D.startLineNumber===D.endLineNumber){let Q=l.getLineFirstNonWhitespaceColumn(h.startLineNumber);Q<D.endColumn&&(D=new B.e(D.startLineNumber,Q,D.endLineNumber,D.endColumn),h.startColumn=Q)}return D}_createDecorationOption(l){let h,D,Q,te,Se;switch(l.severity){case Wo.ZL.Hint:h=this._hasMarkerTag(l,2)?void 0:this._hasMarkerTag(l,1)?"squiggly-unnecessary":"squiggly-hint",Q=0;break;case Wo.ZL.Warning:h="squiggly-warning",D=(0,_o.EN)(Vo.Re),Q=20,Se={color:(0,_o.EN)(Ci.Iv),position:_t.F5.Inline};break;case Wo.ZL.Info:h="squiggly-info",D=(0,_o.EN)(Vo.eS),Q=10;break;case Wo.ZL.Error:default:h="squiggly-error",D=(0,_o.EN)(Vo.lK),Q=30,Se={color:(0,_o.EN)(Ci.Gj),position:_t.F5.Inline}}return l.tags&&(-1!==l.tags.indexOf(1)&&(te="squiggly-inline-unnecessary"),-1!==l.tags.indexOf(2)&&(te="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:h,showIfCollapsed:!0,overviewRuler:{color:D,position:_t.sh.Right},minimap:Se,zIndex:Q,inlineClassName:te}}_hasMarkerTag(l,h){return!!l.tags&&l.tags.indexOf(h)>=0}};Gh=function(A,l,h,D){var Se,Q=arguments.length,te=Q<3?l:null===D?D=Object.getOwnPropertyDescriptor(l,h):D;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)te=Reflect.decorate(A,l,h,D);else for(var He=A.length-1;He>=0;He--)(Se=A[He])&&(te=(Q<3?Se(te):Q>3?Se(l,h,te):Se(l,h))||te);return Q>3&&te&&Object.defineProperty(l,h,te),te}([uv(0,qe.q),uv(1,Wo.lT)],Gh);var mi=a(4165),Yh=function(A,l){return function(h,D){l(h,D,A)}};let dm=class extends nt.JT{constructor(l,h){super(),this._contextKeyService=l,this._configurationService=h,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new j.Q5,this._accessibilityModeEnabledContext=ga.U.bindTo(this._contextKeyService);const D=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration(Q=>{Q.affectsConfiguration("editor.accessibilitySupport")&&(D(),this._onDidChangeScreenReaderOptimized.fire())})),D(),this.onDidChangeScreenReaderOptimized(()=>D())}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const l=this._configurationService.getValue("editor.accessibilitySupport");return"on"===l||"auto"===l&&2===this._accessibilitySupport}getAccessibilitySupport(){return this._accessibilitySupport}};dm=function(A,l,h,D){var Se,Q=arguments.length,te=Q<3?l:null===D?D=Object.getOwnPropertyDescriptor(l,h):D;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)te=Reflect.decorate(A,l,h,D);else for(var He=A.length-1;He>=0;He--)(Se=A[He])&&(te=(Q<3?Se(te):Q>3?Se(l,h,te):Se(l,h))||te);return Q>3&&te&&Object.defineProperty(l,h,te),te}([Yh(0,Ws.i6),Yh(1,Ys.Ui)],dm);var Qh=function(A,l,h,D){return new(h||(h=Promise))(function(te,Se){function He(Ot){try{It(D.next(Ot))}catch(ln){Se(ln)}}function ct(Ot){try{It(D.throw(Ot))}catch(ln){Se(ln)}}function It(Ot){Ot.done?te(Ot.value):function(te){return te instanceof h?te:new h(function(Se){Se(te)})}(Ot.value).then(He,ct)}It((D=D.apply(A,l||[])).next())})};class zw{constructor(){this.mapTextToType=new Map,this.findText=""}writeText(l,h){return Qh(this,void 0,void 0,function*(){if(h)return void this.mapTextToType.set(h,l);try{return yield navigator.clipboard.writeText(l)}catch(te){console.error(te)}const D=document.activeElement,Q=document.body.appendChild((0,Ce.$)("textarea",{"aria-hidden":!0}));Q.style.height="1px",Q.style.width="1px",Q.style.position="absolute",Q.value=l,Q.focus(),Q.select(),document.execCommand("copy"),D instanceof HTMLElement&&D.focus(),document.body.removeChild(Q)})}readText(l){return Qh(this,void 0,void 0,function*(){if(l)return this.mapTextToType.get(l)||"";try{return yield navigator.clipboard.readText()}catch(h){return console.error(h),""}})}readFindText(){return Qh(this,void 0,void 0,function*(){return this.findText})}writeFindText(l){return Qh(this,void 0,void 0,function*(){this.findText=l})}}var wa=a(6995),fv=function(A,l){return function(h,D){l(h,D,A)}},Zh=function(A,l,h,D){return new(h||(h=Promise))(function(te,Se){function He(Ot){try{It(D.next(Ot))}catch(ln){Se(ln)}}function ct(Ot){try{It(D.throw(Ot))}catch(ln){Se(ln)}}function It(Ot){Ot.done?te(Ot.value):function(te){return te instanceof h?te:new h(function(Se){Se(te)})}(Ot.value).then(He,ct)}It((D=D.apply(A,l||[])).next())})};function Xh(A){return A.scheme===Ae.lg.file?A.fsPath:A.path}let gc=0;class Jh{constructor(l,h,D,Q,te,Se,He){this.id=++gc,this.type=0,this.actual=l,this.label=l.label,this.confirmBeforeUndo=l.confirmBeforeUndo||!1,this.resourceLabel=h,this.strResource=D,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=Q,this.groupOrder=te,this.sourceId=Se,this.sourceOrder=He,this.isValid=!0}setValid(l){this.isValid=l}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class ro{constructor(l,h){this.resourceLabel=l,this.reason=h}}class Tl{constructor(){this.elements=new Map}createMessage(){const l=[],h=[];for(const[,Q]of this.elements)(0===Q.reason?l:h).push(Q.resourceLabel);let D=[];return l.length>0&&D.push(yi.N({key:"externalRemoval",comment:["{0} is a list of filenames"]},"The following files have been closed and modified on disk: {0}.",l.join(", "))),h.length>0&&D.push(yi.N({key:"noParallelUniverses",comment:["{0} is a list of filenames"]},"The following files have been modified in an incompatible way: {0}.",h.join(", "))),D.join("\n")}get size(){return this.elements.size}has(l){return this.elements.has(l)}set(l,h){this.elements.set(l,h)}delete(l){return this.elements.delete(l)}}class pu{constructor(l,h,D,Q,te,Se,He){this.id=++gc,this.type=1,this.actual=l,this.label=l.label,this.confirmBeforeUndo=l.confirmBeforeUndo||!1,this.resourceLabels=h,this.strResources=D,this.groupId=Q,this.groupOrder=te,this.sourceId=Se,this.sourceOrder=He,this.removedResources=null,this.invalidatedResources=null}canSplit(){return"function"==typeof this.actual.split}removeResource(l,h,D){this.removedResources||(this.removedResources=new Tl),this.removedResources.has(h)||this.removedResources.set(h,new ro(l,D))}setValid(l,h,D){D?this.invalidatedResources&&(this.invalidatedResources.delete(h),0===this.invalidatedResources.size&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new Tl),this.invalidatedResources.has(h)||this.invalidatedResources.set(h,new ro(l,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class gv{constructor(l,h){this.resourceLabel=l,this.strResource=h,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const l of this._past)1===l.type&&l.removeResource(this.resourceLabel,this.strResource,0);for(const l of this._future)1===l.type&&l.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){let l=[];l.push(`* ${this.strResource}:`);for(let h=0;h<this._past.length;h++)l.push(`   * [UNDO] ${this._past[h]}`);for(let h=this._future.length-1;h>=0;h--)l.push(`   * [REDO] ${this._future[h]}`);return l.join("\n")}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(l,h){1===l.type?l.setValid(this.resourceLabel,this.strResource,h):l.setValid(h)}setElementsValidFlag(l,h){for(const D of this._past)h(D.actual)&&this._setElementValidFlag(D,l);for(const D of this._future)h(D.actual)&&this._setElementValidFlag(D,l)}pushElement(l){for(const h of this._future)1===h.type&&h.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(l),this.versionId++}createSnapshot(l){const h=[];for(let D=0,Q=this._past.length;D<Q;D++)h.push(this._past[D].id);for(let D=this._future.length-1;D>=0;D--)h.push(this._future[D].id);return new wa.YO(l,h)}restoreSnapshot(l){const h=l.elements.length;let D=!0,Q=0,te=-1;for(let He=0,ct=this._past.length;He<ct;He++,Q++){const It=this._past[He];D&&(Q>=h||It.id!==l.elements[Q])&&(D=!1,te=0),!D&&1===It.type&&It.removeResource(this.resourceLabel,this.strResource,0)}let Se=-1;for(let He=this._future.length-1;He>=0;He--,Q++){const ct=this._future[He];D&&(Q>=h||ct.id!==l.elements[Q])&&(D=!1,Se=He),!D&&1===ct.type&&ct.removeResource(this.resourceLabel,this.strResource,0)}-1!==te&&(this._past=this._past.slice(0,te)),-1!==Se&&(this._future=this._future.slice(Se+1)),this.versionId++}getElements(){const l=[],h=[];for(const D of this._past)l.push(D.actual);for(const D of this._future)h.push(D.actual);return{past:l,future:h}}getClosestPastElement(){return 0===this._past.length?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return 0===this._future.length?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(l,h){for(let D=this._past.length-1;D>=0;D--)if(this._past[D]===l){h.has(this.strResource)?this._past[D]=h.get(this.strResource):this._past.splice(D,1);break}this.versionId++}splitFutureWorkspaceElement(l,h){for(let D=this._future.length-1;D>=0;D--)if(this._future[D]===l){h.has(this.strResource)?this._future[D]=h.get(this.strResource):this._future.splice(D,1);break}this.versionId++}moveBackward(l){this._past.pop(),this._future.push(l),this.versionId++}moveForward(l){this._future.pop(),this._past.push(l),this.versionId++}}class qh{constructor(l){this.editStacks=l,this._versionIds=[];for(let h=0,D=this.editStacks.length;h<D;h++)this._versionIds[h]=this.editStacks[h].versionId}isValid(){for(let l=0,h=this.editStacks.length;l<h;l++)if(this._versionIds[l]!==this.editStacks[l].versionId)return!1;return!0}}const dr=new gv("","");dr.locked=!0;let ur=class{constructor(l,h){this._dialogService=l,this._notificationService=h,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(l){for(const h of this._uriComparisonKeyComputers)if(h[0]===l.scheme)return h[1].getComparisonKey(l);return l.toString()}_print(l){console.log("------------------------------------"),console.log(`AFTER ${l}: `);let h=[];for(const D of this._editStacks)h.push(D[1].toString());console.log(h.join("\n"))}pushElement(l,h=wa.Xt.None,D=wa.gJ.None){if(0===l.type){const Q=Xh(l.resource),te=this.getUriComparisonKey(l.resource);this._pushElement(new Jh(l,Q,te,h.id,h.nextOrder(),D.id,D.nextOrder()))}else{const Q=new Set,te=[],Se=[];for(const He of l.resources){const ct=Xh(He),It=this.getUriComparisonKey(He);Q.has(It)||(Q.add(It),te.push(ct),Se.push(It))}this._pushElement(1===te.length?new Jh(l,te[0],Se[0],h.id,h.nextOrder(),D.id,D.nextOrder()):new pu(l,te,Se,h.id,h.nextOrder(),D.id,D.nextOrder()))}}_pushElement(l){for(let h=0,D=l.strResources.length;h<D;h++){const Q=l.resourceLabels[h],te=l.strResources[h];let Se;this._editStacks.has(te)?Se=this._editStacks.get(te):(Se=new gv(Q,te),this._editStacks.set(te,Se)),Se.pushElement(l)}}getLastElement(l){const h=this.getUriComparisonKey(l);if(this._editStacks.has(h)){const D=this._editStacks.get(h);if(D.hasFutureElements())return null;const Q=D.getClosestPastElement();return Q?Q.actual:null}return null}_splitPastWorkspaceElement(l,h){const D=l.actual.split(),Q=new Map;for(const te of D){const Se=Xh(te.resource),He=this.getUriComparisonKey(te.resource),ct=new Jh(te,Se,He,0,0,0,0);Q.set(ct.strResource,ct)}for(const te of l.strResources)h&&h.has(te)||this._editStacks.get(te).splitPastWorkspaceElement(l,Q)}_splitFutureWorkspaceElement(l,h){const D=l.actual.split(),Q=new Map;for(const te of D){const Se=Xh(te.resource),He=this.getUriComparisonKey(te.resource),ct=new Jh(te,Se,He,0,0,0,0);Q.set(ct.strResource,ct)}for(const te of l.strResources)h&&h.has(te)||this._editStacks.get(te).splitFutureWorkspaceElement(l,Q)}removeElements(l){const h="string"==typeof l?l:this.getUriComparisonKey(l);this._editStacks.has(h)&&(this._editStacks.get(h).dispose(),this._editStacks.delete(h))}setElementsValidFlag(l,h,D){const Q=this.getUriComparisonKey(l);this._editStacks.has(Q)&&this._editStacks.get(Q).setElementsValidFlag(h,D)}createSnapshot(l){const h=this.getUriComparisonKey(l);return this._editStacks.has(h)?this._editStacks.get(h).createSnapshot(l):new wa.YO(l,[])}restoreSnapshot(l){const h=this.getUriComparisonKey(l.resource);if(this._editStacks.has(h)){const D=this._editStacks.get(h);D.restoreSnapshot(l),!D.hasPastElements()&&!D.hasFutureElements()&&(D.dispose(),this._editStacks.delete(h))}}getElements(l){const h=this.getUriComparisonKey(l);return this._editStacks.has(h)?this._editStacks.get(h).getElements():{past:[],future:[]}}_findClosestUndoElementWithSource(l){if(!l)return[null,null];let h=null,D=null;for(const[Q,te]of this._editStacks){const Se=te.getClosestPastElement();!Se||Se.sourceId===l&&(!h||Se.sourceOrder>h.sourceOrder)&&(h=Se,D=Q)}return[h,D]}canUndo(l){if(l instanceof wa.gJ){const[,D]=this._findClosestUndoElementWithSource(l.id);return!!D}const h=this.getUriComparisonKey(l);return!!this._editStacks.has(h)&&this._editStacks.get(h).hasPastElements()}_onError(l,h){(0,bt.dL)(l);for(const D of h.strResources)this.removeElements(D);this._notificationService.error(l)}_acquireLocks(l){for(const h of l.editStacks)if(h.locked)throw new Error("Cannot acquire edit stack lock");for(const h of l.editStacks)h.locked=!0;return()=>{for(const h of l.editStacks)h.locked=!1}}_safeInvokeWithLocks(l,h,D,Q,te){const Se=this._acquireLocks(D);let He;try{He=h()}catch(ct){return Se(),Q.dispose(),this._onError(ct,l)}return He?He.then(()=>(Se(),Q.dispose(),te()),ct=>(Se(),Q.dispose(),this._onError(ct,l))):(Se(),Q.dispose(),te())}_invokeWorkspacePrepare(l){return Zh(this,void 0,void 0,function*(){if(void 0===l.actual.prepareUndoRedo)return nt.JT.None;const h=l.actual.prepareUndoRedo();return void 0===h?nt.JT.None:h})}_invokeResourcePrepare(l,h){if(1!==l.actual.type||void 0===l.actual.prepareUndoRedo)return h(nt.JT.None);const D=l.actual.prepareUndoRedo();return D?(0,nt.Wf)(D)?h(D):D.then(Q=>h(Q)):h(nt.JT.None)}_getAffectedEditStacks(l){const h=[];for(const D of l.strResources)h.push(this._editStacks.get(D)||dr);return new qh(h)}_tryToSplitAndUndo(l,h,D,Q){if(h.canSplit())return this._splitPastWorkspaceElement(h,D),this._notificationService.warn(Q),new Al(this._undo(l,0,!0));for(const te of h.strResources)this.removeElements(te);return this._notificationService.warn(Q),new Al}_checkWorkspaceUndo(l,h,D,Q){if(h.removedResources)return this._tryToSplitAndUndo(l,h,h.removedResources,yi.N({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",h.label,h.removedResources.createMessage()));if(Q&&h.invalidatedResources)return this._tryToSplitAndUndo(l,h,h.invalidatedResources,yi.N({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",h.label,h.invalidatedResources.createMessage()));const te=[];for(const He of D.editStacks)He.getClosestPastElement()!==h&&te.push(He.resourceLabel);if(te.length>0)return this._tryToSplitAndUndo(l,h,null,yi.N({key:"cannotWorkspaceUndoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because changes were made to {1}",h.label,te.join(", ")));const Se=[];for(const He of D.editStacks)He.locked&&Se.push(He.resourceLabel);return Se.length>0?this._tryToSplitAndUndo(l,h,null,yi.N({key:"cannotWorkspaceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because there is already an undo or redo operation running on {1}",h.label,Se.join(", "))):D.isValid()?null:this._tryToSplitAndUndo(l,h,null,yi.N({key:"cannotWorkspaceUndoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because an undo or redo operation occurred in the meantime",h.label))}_workspaceUndo(l,h,D){const Q=this._getAffectedEditStacks(h),te=this._checkWorkspaceUndo(l,h,Q,!1);return te?te.returnValue:this._confirmAndExecuteWorkspaceUndo(l,h,Q,D)}_isPartOfUndoGroup(l){if(!l.groupId)return!1;for(const[,h]of this._editStacks){const D=h.getClosestPastElement();if(D){if(D===l){const Q=h.getSecondClosestPastElement();if(Q&&Q.groupId===l.groupId)return!0}if(D.groupId===l.groupId)return!0}}return!1}_confirmAndExecuteWorkspaceUndo(l,h,D,Q){return Zh(this,void 0,void 0,function*(){if(h.canSplit()&&!this._isPartOfUndoGroup(h)){const He=yield this._dialogService.show(os.Z.Info,yi.N("confirmWorkspace","Would you like to undo '{0}' across all files?",h.label),[yi.N({key:"ok",comment:["{0} denotes a number that is > 1"]},"Undo in {0} Files",D.editStacks.length),yi.N("nok","Undo this File"),yi.N("cancel","Cancel")],{cancelId:2});if(2===He.choice)return;if(1===He.choice)return this._splitPastWorkspaceElement(h,null),this._undo(l,0,!0);const ct=this._checkWorkspaceUndo(l,h,D,!1);if(ct)return ct.returnValue;Q=!0}let te;try{te=yield this._invokeWorkspacePrepare(h)}catch(He){return this._onError(He,h)}const Se=this._checkWorkspaceUndo(l,h,D,!0);if(Se)return te.dispose(),Se.returnValue;for(const He of D.editStacks)He.moveBackward(h);return this._safeInvokeWithLocks(h,()=>h.actual.undo(),D,te,()=>this._continueUndoInGroup(h.groupId,Q))})}_resourceUndo(l,h,D){if(h.isValid){if(!l.locked)return this._invokeResourcePrepare(h,Q=>(l.moveBackward(h),this._safeInvokeWithLocks(h,()=>h.actual.undo(),new qh([l]),Q,()=>this._continueUndoInGroup(h.groupId,D))));{const Q=yi.N({key:"cannotResourceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not undo '{0}' because there is already an undo or redo operation running.",h.label);this._notificationService.warn(Q)}}else l.flushAllElements()}_findClosestUndoElementInGroup(l){if(!l)return[null,null];let h=null,D=null;for(const[Q,te]of this._editStacks){const Se=te.getClosestPastElement();!Se||Se.groupId===l&&(!h||Se.groupOrder>h.groupOrder)&&(h=Se,D=Q)}return[h,D]}_continueUndoInGroup(l,h){if(!l)return;const[,D]=this._findClosestUndoElementInGroup(l);return D?this._undo(D,0,h):void 0}undo(l){if(l instanceof wa.gJ){const[,h]=this._findClosestUndoElementWithSource(l.id);return h?this._undo(h,l.id,!1):void 0}return this._undo("string"==typeof l?l:this.getUriComparisonKey(l),0,!1)}_undo(l,h=0,D){if(!this._editStacks.has(l))return;const Q=this._editStacks.get(l),te=Q.getClosestPastElement();if(te){if(te.groupId){const[He,ct]=this._findClosestUndoElementInGroup(te.groupId);if(te!==He&&ct)return this._undo(ct,h,D)}if((te.sourceId!==h||te.confirmBeforeUndo)&&!D)return this._confirmAndContinueUndo(l,h,te);try{return 1===te.type?this._workspaceUndo(l,te,D):this._resourceUndo(Q,te,D)}finally{}}}_confirmAndContinueUndo(l,h,D){return Zh(this,void 0,void 0,function*(){if(1!==(yield this._dialogService.show(os.Z.Info,yi.N("confirmDifferentSource","Would you like to undo '{0}'?",D.label),[yi.N("confirmDifferentSource.yes","Yes"),yi.N("cancel","Cancel")],{cancelId:1})).choice)return this._undo(l,h,!0)})}_findClosestRedoElementWithSource(l){if(!l)return[null,null];let h=null,D=null;for(const[Q,te]of this._editStacks){const Se=te.getClosestFutureElement();!Se||Se.sourceId===l&&(!h||Se.sourceOrder<h.sourceOrder)&&(h=Se,D=Q)}return[h,D]}canRedo(l){if(l instanceof wa.gJ){const[,D]=this._findClosestRedoElementWithSource(l.id);return!!D}const h=this.getUriComparisonKey(l);return!!this._editStacks.has(h)&&this._editStacks.get(h).hasFutureElements()}_tryToSplitAndRedo(l,h,D,Q){if(h.canSplit())return this._splitFutureWorkspaceElement(h,D),this._notificationService.warn(Q),new Al(this._redo(l));for(const te of h.strResources)this.removeElements(te);return this._notificationService.warn(Q),new Al}_checkWorkspaceRedo(l,h,D,Q){if(h.removedResources)return this._tryToSplitAndRedo(l,h,h.removedResources,yi.N({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",h.label,h.removedResources.createMessage()));if(Q&&h.invalidatedResources)return this._tryToSplitAndRedo(l,h,h.invalidatedResources,yi.N({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",h.label,h.invalidatedResources.createMessage()));const te=[];for(const He of D.editStacks)He.getClosestFutureElement()!==h&&te.push(He.resourceLabel);if(te.length>0)return this._tryToSplitAndRedo(l,h,null,yi.N({key:"cannotWorkspaceRedoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because changes were made to {1}",h.label,te.join(", ")));const Se=[];for(const He of D.editStacks)He.locked&&Se.push(He.resourceLabel);return Se.length>0?this._tryToSplitAndRedo(l,h,null,yi.N({key:"cannotWorkspaceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because there is already an undo or redo operation running on {1}",h.label,Se.join(", "))):D.isValid()?null:this._tryToSplitAndRedo(l,h,null,yi.N({key:"cannotWorkspaceRedoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because an undo or redo operation occurred in the meantime",h.label))}_workspaceRedo(l,h){const D=this._getAffectedEditStacks(h),Q=this._checkWorkspaceRedo(l,h,D,!1);return Q?Q.returnValue:this._executeWorkspaceRedo(l,h,D)}_executeWorkspaceRedo(l,h,D){return Zh(this,void 0,void 0,function*(){let Q;try{Q=yield this._invokeWorkspacePrepare(h)}catch(Se){return this._onError(Se,h)}const te=this._checkWorkspaceRedo(l,h,D,!0);if(te)return Q.dispose(),te.returnValue;for(const Se of D.editStacks)Se.moveForward(h);return this._safeInvokeWithLocks(h,()=>h.actual.redo(),D,Q,()=>this._continueRedoInGroup(h.groupId))})}_resourceRedo(l,h){if(h.isValid){if(!l.locked)return this._invokeResourcePrepare(h,D=>(l.moveForward(h),this._safeInvokeWithLocks(h,()=>h.actual.redo(),new qh([l]),D,()=>this._continueRedoInGroup(h.groupId))));{const D=yi.N({key:"cannotResourceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not redo '{0}' because there is already an undo or redo operation running.",h.label);this._notificationService.warn(D)}}else l.flushAllElements()}_findClosestRedoElementInGroup(l){if(!l)return[null,null];let h=null,D=null;for(const[Q,te]of this._editStacks){const Se=te.getClosestFutureElement();!Se||Se.groupId===l&&(!h||Se.groupOrder<h.groupOrder)&&(h=Se,D=Q)}return[h,D]}_continueRedoInGroup(l){if(!l)return;const[,h]=this._findClosestRedoElementInGroup(l);return h?this._redo(h):void 0}redo(l){if(l instanceof wa.gJ){const[,h]=this._findClosestRedoElementWithSource(l.id);return h?this._redo(h):void 0}return this._redo("string"==typeof l?l:this.getUriComparisonKey(l))}_redo(l){if(!this._editStacks.has(l))return;const h=this._editStacks.get(l),D=h.getClosestFutureElement();if(D){if(D.groupId){const[Q,te]=this._findClosestRedoElementInGroup(D.groupId);if(D!==Q&&te)return this._redo(te)}try{return 1===D.type?this._workspaceRedo(l,D):this._resourceRedo(h,D)}finally{}}}};ur=function(A,l,h,D){var Se,Q=arguments.length,te=Q<3?l:null===D?D=Object.getOwnPropertyDescriptor(l,h):D;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)te=Reflect.decorate(A,l,h,D);else for(var He=A.length-1;He>=0;He--)(Se=A[He])&&(te=(Q<3?Se(te):Q>3?Se(l,h,te):Se(l,h))||te);return Q>3&&te&&Object.defineProperty(l,h,te),te}([fv(0,zh.S),fv(1,$o.lT)],ur);class Al{constructor(l){this.returnValue=l}}(0,mi.z)(wa.tJ,ur),a(4101);var Xa=a(4482),Dr=(a(1052),a(6104));const um=new qt.Ue(()=>{const A=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:A,collatorIsNumeric:A.resolvedOptions().numeric}});var hr=a(1060),ef=a(3595),Rl=a(9749),Yw=a(4437);const _u={},pv=new Yw.R("quick-input-button-icon-");function tf(A){if(!A)return;let l;const h=A.dark.toString();return _u[h]?l=_u[h]:(l=pv.nextId(),Ce.fk(`.${l}`,`background-image: ${Ce.wY(A.light||A.dark)}`),Ce.fk(`.vs-dark .${l}, .hc-black .${l}`,`background-image: ${Ce.wY(A.dark)}`),_u[h]=l),l}a(3001);const vu=Ce.$;class nf{constructor(l,h,D){this.os=h,this.keyElements=new Set,this.options=D||Object.create(null),this.labelBackground=this.options.keybindingLabelBackground,this.labelForeground=this.options.keybindingLabelForeground,this.labelBorder=this.options.keybindingLabelBorder,this.labelBottomBorder=this.options.keybindingLabelBottomBorder,this.labelShadow=this.options.keybindingLabelShadow,this.domNode=Ce.R3(l,vu(".monaco-keybinding")),this.didEverRender=!1,l.appendChild(this.domNode)}get element(){return this.domNode}set(l,h){this.didEverRender&&this.keybinding===l&&nf.areSame(this.matches,h)||(this.keybinding=l,this.matches=h,this.render())}render(){if(this.clear(),this.keybinding){let[l,h]=this.keybinding.getParts();l&&this.renderPart(this.domNode,l,this.matches?this.matches.firstPart:null),h&&(Ce.R3(this.domNode,vu("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderPart(this.domNode,h,this.matches?this.matches.chordPart:null)),this.domNode.title=this.keybinding.getAriaLabel()||""}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.applyStyles(),this.didEverRender=!0}clear(){Ce.PO(this.domNode),this.keyElements.clear()}renderPart(l,h,D){const Q=Kc.xo.modifierLabels[this.os];h.ctrlKey&&this.renderKey(l,Q.ctrlKey,Boolean(null==D?void 0:D.ctrlKey),Q.separator),h.shiftKey&&this.renderKey(l,Q.shiftKey,Boolean(null==D?void 0:D.shiftKey),Q.separator),h.altKey&&this.renderKey(l,Q.altKey,Boolean(null==D?void 0:D.altKey),Q.separator),h.metaKey&&this.renderKey(l,Q.metaKey,Boolean(null==D?void 0:D.metaKey),Q.separator);const te=h.keyLabel;te&&this.renderKey(l,te,Boolean(null==D?void 0:D.keyCode),"")}renderKey(l,h,D,Q){Ce.R3(l,this.createKeyElement(h,D?".highlight":"")),Q&&Ce.R3(l,vu("span.monaco-keybinding-key-separator",void 0,Q))}renderUnbound(l){Ce.R3(l,this.createKeyElement((0,yi.N)("unbound","Unbound")))}createKeyElement(l,h=""){const D=vu("span.monaco-keybinding-key"+h,void 0,l);return this.keyElements.add(D),D}style(l){this.labelBackground=l.keybindingLabelBackground,this.labelForeground=l.keybindingLabelForeground,this.labelBorder=l.keybindingLabelBorder,this.labelBottomBorder=l.keybindingLabelBottomBorder,this.labelShadow=l.keybindingLabelShadow,this.applyStyles()}applyStyles(){var l;if(this.element){for(const h of this.keyElements)this.labelBackground&&(h.style.backgroundColor=null===(l=this.labelBackground)||void 0===l?void 0:l.toString()),this.labelBorder&&(h.style.borderColor=this.labelBorder.toString()),this.labelBottomBorder&&(h.style.borderBottomColor=this.labelBottomBorder.toString()),this.labelShadow&&(h.style.boxShadow=`inset 0 -1px 0 ${this.labelShadow}`);this.labelForeground&&(this.element.style.color=this.labelForeground.toString())}}static areSame(l,h){return l===h||!l&&!h||!!l&&!!h&&(0,Ko.fS)(l.firstPart,h.firstPart)&&(0,Ko.fS)(l.chordPart,h.chordPart)}}var pc=function(A,l,h,D){var Se,Q=arguments.length,te=Q<3?l:null===D?D=Object.getOwnPropertyDescriptor(l,h):D;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)te=Reflect.decorate(A,l,h,D);else for(var He=A.length-1;He>=0;He--)(Se=A[He])&&(te=(Q<3?Se(te):Q>3?Se(l,h,te):Se(l,h))||te);return Q>3&&te&&Object.defineProperty(l,h,te),te};const fr=Ce.$;class Zw{constructor(l){this.hidden=!1,this._onChecked=new j.Q5,this.onChecked=this._onChecked.event,Object.assign(this,l)}get checked(){return!!this._checked}set checked(l){l!==this._checked&&(this._checked=l,this._onChecked.fire(l))}dispose(){this._onChecked.dispose()}}let _c=(()=>{class A{get templateId(){return A.ID}renderTemplate(h){const D=Object.create(null);D.toDisposeElement=[],D.toDisposeTemplate=[],D.entry=Ce.R3(h,fr(".quick-input-list-entry"));const Q=Ce.R3(D.entry,fr("label.quick-input-list-label"));D.toDisposeTemplate.push(Ce.mu(Q,Ce.tw.CLICK,Ot=>{D.checkbox.offsetParent||Ot.preventDefault()})),D.checkbox=Ce.R3(Q,fr("input.quick-input-list-checkbox")),D.checkbox.type="checkbox",D.toDisposeTemplate.push(Ce.mu(D.checkbox,Ce.tw.CHANGE,Ot=>{D.element.checked=D.checkbox.checked}));const te=Ce.R3(Q,fr(".quick-input-list-rows")),Se=Ce.R3(te,fr(".quick-input-list-row")),He=Ce.R3(te,fr(".quick-input-list-row"));D.label=new hr.g(Se,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0});const ct=Ce.R3(Se,fr(".quick-input-list-entry-keybinding"));D.keybinding=new nf(ct,Rt.OS);const It=Ce.R3(He,fr(".quick-input-list-label-meta"));return D.detail=new ef.q(It,!0),D.separator=Ce.R3(D.entry,fr(".quick-input-list-separator")),D.actionBar=new gt.o(D.entry),D.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),D.toDisposeTemplate.push(D.actionBar),D}renderElement(h,D,Q){Q.toDisposeElement=(0,nt.B9)(Q.toDisposeElement),Q.element=h,Q.checkbox.checked=h.checked,Q.toDisposeElement.push(h.onChecked(Ot=>Q.checkbox.checked=Ot));const{labelHighlights:te,descriptionHighlights:Se,detailHighlights:He}=h,ct=Object.create(null);ct.matches=te||[],ct.descriptionTitle=h.saneDescription,ct.descriptionMatches=Se||[],ct.extraClasses=h.item.iconClasses,ct.italic=h.item.italic,ct.strikethrough=h.item.strikethrough,Q.label.setLabel(h.saneLabel,h.saneDescription,ct),Q.keybinding.set(h.item.keybinding),Q.detail.set(h.saneDetail,He),h.separator&&h.separator.label?(Q.separator.textContent=h.separator.label,Q.separator.style.display=""):Q.separator.style.display="none",Q.entry.classList.toggle("quick-input-list-separator-border",!!h.separator),Q.actionBar.clear();const It=h.item.buttons;It&&It.length?(Q.actionBar.push(It.map((Ot,ln)=>{let xn=Ot.iconClass||(Ot.iconPath?tf(Ot.iconPath):void 0);Ot.alwaysVisible&&(xn=xn?`${xn} always-visible`:"always-visible");const gi=new lt.aU(`id-${ln}`,"",xn,!0,()=>function(A,l,h,D){return new(h||(h=Promise))(function(te,Se){function He(Ot){try{It(D.next(Ot))}catch(ln){Se(ln)}}function ct(Ot){try{It(D.throw(Ot))}catch(ln){Se(ln)}}function It(Ot){Ot.done?te(Ot.value):function(te){return te instanceof h?te:new h(function(Se){Se(te)})}(Ot.value).then(He,ct)}It((D=D.apply(A,l||[])).next())})}(this,void 0,void 0,function*(){h.fireButtonTriggered({button:Ot,item:h.item})}));return gi.tooltip=Ot.tooltip||"",gi}),{icon:!0,label:!1}),Q.entry.classList.add("has-actions")):Q.entry.classList.remove("has-actions")}disposeElement(h,D,Q){Q.toDisposeElement=(0,nt.B9)(Q.toDisposeElement)}disposeTemplate(h){h.toDisposeElement=(0,nt.B9)(h.toDisposeElement),h.toDisposeTemplate=(0,nt.B9)(h.toDisposeTemplate)}}return A.ID="listelement",A})();class of{getHeight(l){return l.saneDetail?44:22}getTemplateId(l){return _c.ID}}var Ls=(()=>(function(A){A[A.First=1]="First",A[A.Second=2]="Second",A[A.Last=3]="Last",A[A.Next=4]="Next",A[A.Previous=5]="Previous",A[A.NextPage=6]="NextPage",A[A.PreviousPage=7]="PreviousPage"}(Ls||(Ls={})),Ls))();class rf{constructor(l,h,D){this.parent=l,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.matchOnMeta=!0,this.sortByLabel=!0,this._onChangedAllVisibleChecked=new j.Q5,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new j.Q5,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new j.Q5,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new j.Q5,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new j.Q5,this.onButtonTriggered=this._onButtonTriggered.event,this._onKeyDown=new j.Q5,this.onKeyDown=this._onKeyDown.event,this._onLeave=new j.Q5,this.onLeave=this._onLeave.event,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=h,this.container=Ce.R3(this.parent,fr(".quick-input-list"));const Q=new of,te=new vv;this.list=D.createList("QuickInput",this.container,Q,[new _c],{identityProvider:{getId:Se=>Se.saneLabel},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:te}),this.list.getHTMLElement().id=h,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown(Se=>{const He=new Ks.y(Se);switch(He.keyCode){case 10:this.toggleCheckbox();break;case 31:(Rt.dz?Se.metaKey:Se.ctrlKey)&&this.list.setFocus((0,jt.w6)(this.list.length));break;case 16:const ct=this.list.getFocus();1===ct.length&&0===ct[0]&&this._onLeave.fire();break;case 18:const It=this.list.getFocus();1===It.length&&It[0]===this.list.length-1&&this._onLeave.fire()}this._onKeyDown.fire(He)})),this.disposables.push(this.list.onMouseDown(Se=>{2!==Se.browserEvent.button&&Se.browserEvent.preventDefault()})),this.disposables.push(Ce.nm(this.container,Ce.tw.CLICK,Se=>{(Se.x||Se.y)&&this._onLeave.fire()})),this.disposables.push(this.list.onMouseMiddleClick(Se=>{this._onLeave.fire()})),this.disposables.push(this.list.onContextMenu(Se=>{"number"==typeof Se.index&&(Se.browserEvent.preventDefault(),this.list.setSelection([Se.index]))})),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onLeave,this._onKeyDown)}get onDidChangeFocus(){return j.ju.map(this.list.onDidChangeFocus,l=>l.elements.map(h=>h.item))}get onDidChangeSelection(){return j.ju.map(this.list.onDidChangeSelection,l=>({items:l.elements.map(h=>h.item),event:l.browserEvent}))}getAllVisibleChecked(){return this.allVisibleChecked(this.elements,!1)}allVisibleChecked(l,h=!0){for(let D=0,Q=l.length;D<Q;D++){const te=l[D];if(!te.hidden){if(!te.checked)return!1;h=!0}}return h}getCheckedCount(){let l=0;const h=this.elements;for(let D=0,Q=h.length;D<Q;D++)h[D].checked&&l++;return l}getVisibleCount(){let l=0;const h=this.elements;for(let D=0,Q=h.length;D<Q;D++)h[D].hidden||l++;return l}setAllVisibleChecked(l){try{this._fireCheckedEvents=!1,this.elements.forEach(h=>{h.hidden||(h.checked=l)})}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}setElements(l){this.elementDisposables=(0,nt.B9)(this.elementDisposables);const h=D=>this.fireButtonTriggered(D);this.inputElements=l,this.elements=l.reduce((D,Q,te)=>{var Se,He,ct;if("separator"!==Q.type){const It=te&&l[te-1],Ot=Q.label&&Q.label.replace(/\r?\n/g," "),ln=Q.meta&&Q.meta.replace(/\r?\n/g," "),xn=Q.description&&Q.description.replace(/\r?\n/g," "),gi=Q.detail&&Q.detail.replace(/\r?\n/g," "),Si=Q.ariaLabel||[Ot,xn,gi].map(Ni=>(0,Vn.JL)(Ni)).filter(Ni=>!!Ni).join(", ");D.push(new Zw({index:te,item:Q,saneLabel:Ot,saneMeta:ln,saneAriaLabel:Si,saneDescription:xn,saneDetail:gi,labelHighlights:null===(Se=Q.highlights)||void 0===Se?void 0:Se.label,descriptionHighlights:null===(He=Q.highlights)||void 0===He?void 0:He.description,detailHighlights:null===(ct=Q.highlights)||void 0===ct?void 0:ct.detail,checked:!1,separator:It&&"separator"===It.type?It:void 0,fireButtonTriggered:h}))}return D},[]),this.elementDisposables.push(...this.elements),this.elementDisposables.push(...this.elements.map(D=>D.onChecked(()=>this.fireCheckedEvents()))),this.elementsToIndexes=this.elements.reduce((D,Q,te)=>(D.set(Q.item,te),D),new Map),this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}getFocusedElements(){return this.list.getFocusedElements().map(l=>l.item)}setFocusedElements(l){if(this.list.setFocus(l.filter(h=>this.elementsToIndexes.has(h)).map(h=>this.elementsToIndexes.get(h))),l.length>0){const h=this.list.getFocus()[0];"number"==typeof h&&this.list.reveal(h)}}getActiveDescendant(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(l){this.list.setSelection(l.filter(h=>this.elementsToIndexes.has(h)).map(h=>this.elementsToIndexes.get(h)))}getCheckedElements(){return this.elements.filter(l=>l.checked).map(l=>l.item)}setCheckedElements(l){try{this._fireCheckedEvents=!1;const h=new Set;for(const D of l)h.add(D);for(const D of this.elements)D.checked=h.has(D.item)}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}set enabled(l){this.list.getHTMLElement().style.pointerEvents=l?"":"none"}focus(l){if(!this.list.length)return;switch(l===Ls.Next&&this.list.getFocus()[0]===this.list.length-1&&(l=Ls.First),l===Ls.Previous&&0===this.list.getFocus()[0]&&(l=Ls.Last),l===Ls.Second&&this.list.length<2&&(l=Ls.First),l){case Ls.First:this.list.focusFirst();break;case Ls.Second:this.list.focusNth(1);break;case Ls.Last:this.list.focusLast();break;case Ls.Next:this.list.focusNext();break;case Ls.Previous:this.list.focusPrevious();break;case Ls.NextPage:this.list.focusNextPage();break;case Ls.PreviousPage:this.list.focusPreviousPage()}const h=this.list.getFocus()[0];"number"==typeof h&&this.list.reveal(h)}clearFocus(){this.list.setFocus([])}domFocus(){this.list.domFocus()}layout(l){this.list.getHTMLElement().style.maxHeight=l?`calc(${44*Math.floor(l/44)}px)`:"",this.list.layout()}filter(l){if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;if((l=l.trim())&&(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail)){let D;this.elements.forEach(Q=>{const te=this.matchOnLabel?(0,Dt.f6)((0,_i.Gt)(l,(0,_i.Ho)(Q.saneLabel))):void 0,Se=this.matchOnDescription?(0,Dt.f6)((0,_i.Gt)(l,(0,_i.Ho)(Q.saneDescription||""))):void 0,He=this.matchOnDetail?(0,Dt.f6)((0,_i.Gt)(l,(0,_i.Ho)(Q.saneDetail||""))):void 0,ct=this.matchOnMeta?(0,Dt.f6)((0,_i.Gt)(l,(0,_i.Ho)(Q.saneMeta||""))):void 0;if(te||Se||He||ct?(Q.labelHighlights=te,Q.descriptionHighlights=Se,Q.detailHighlights=He,Q.hidden=!1):(Q.labelHighlights=void 0,Q.descriptionHighlights=void 0,Q.detailHighlights=void 0,Q.hidden=!Q.item.alwaysShow),Q.separator=void 0,!this.sortByLabel){const It=Q.index&&this.inputElements[Q.index-1];D=It&&"separator"===It.type?It:D,D&&!Q.hidden&&(Q.separator=D,D=void 0)}})}else this.elements.forEach(D=>{D.labelHighlights=void 0,D.descriptionHighlights=void 0,D.detailHighlights=void 0,D.hidden=!1;const Q=D.index&&this.inputElements[D.index-1];D.separator=Q&&"separator"===Q.type?Q:void 0});const h=this.elements.filter(D=>!D.hidden);if(this.sortByLabel&&l){const D=l.toLowerCase();h.sort((Q,te)=>function(A,l,h){const D=A.labelHighlights||[],Q=l.labelHighlights||[];return D.length&&!Q.length?-1:!D.length&&Q.length?1:0===D.length&&0===Q.length?0:function(A,l,h){const D=A.toLowerCase(),Q=l.toLowerCase(),te=function(A,l,h){const D=A.toLowerCase(),Q=l.toLowerCase(),te=D.startsWith(h),Se=Q.startsWith(h);if(te!==Se)return te?-1:1;if(te&&Se){if(D.length<Q.length)return-1;if(D.length>Q.length)return 1}return 0}(A,l,h);if(te)return te;const Se=D.endsWith(h);if(Se!==Q.endsWith(h))return Se?-1:1;const ct=function(A,l,h=!1){const D=A||"",Q=l||"",te=um.value.collator.compare(D,Q);return um.value.collatorIsNumeric&&0===te&&D!==Q?D<Q?-1:1:te}(D,Q);return 0!==ct?ct:D.localeCompare(Q)}(A.saneLabel,l.saneLabel,h)}(Q,te,D))}return this.elementsToIndexes=h.reduce((D,Q,te)=>(D.set(Q.item,te),D),new Map),this.list.splice(0,this.list.length,h),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(h.length),!0}toggleCheckbox(){try{this._fireCheckedEvents=!1;const l=this.list.getFocusedElements(),h=this.allVisibleChecked(l);for(const D of l)D.checked=!h}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}display(l){this.container.style.display=l?"":"none"}isDisplayed(){return"none"!==this.container.style.display}dispose(){this.elementDisposables=(0,nt.B9)(this.elementDisposables),this.disposables=(0,nt.B9)(this.disposables)}fireCheckedEvents(){this._fireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(l){this._onButtonTriggered.fire(l)}style(l){this.list.style(l)}}pc([Rl.H],rf.prototype,"onDidChangeFocus",null),pc([Rl.H],rf.prototype,"onDidChangeSelection",null);class vv{getWidgetAriaLabel(){return(0,yi.N)("quickInput","Quick Input")}getAriaLabel(l){return l.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(){return"option"}}var af=a(9917);const Xw=Ce.$;class lf extends nt.JT{constructor(l){super(),this.parent=l,this.onKeyDown=h=>Ce.nm(this.inputBox.inputElement,Ce.tw.KEY_DOWN,D=>{h(new Ks.y(D))}),this.onMouseDown=h=>Ce.nm(this.inputBox.inputElement,Ce.tw.MOUSE_DOWN,D=>{h(new ui.n(D))}),this.onDidChange=h=>this.inputBox.onDidChange(h),this.container=Ce.R3(this.parent,Xw(".quick-input-box")),this.inputBox=this._register(new af.W(this.container,void 0))}get value(){return this.inputBox.value}set value(l){this.inputBox.value=l}select(l=null){this.inputBox.select(l)}isSelectionAtEnd(){return this.inputBox.isSelectionAtEnd()}get placeholder(){return this.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(l){this.inputBox.setPlaceHolder(l)}get ariaLabel(){return this.inputBox.getAriaLabel()}set ariaLabel(l){this.inputBox.setAriaLabel(l)}get password(){return"password"===this.inputBox.inputElement.type}set password(l){this.inputBox.inputElement.type=l?"password":"text"}setAttribute(l,h){this.inputBox.inputElement.setAttribute(l,h)}removeAttribute(l){this.inputBox.inputElement.removeAttribute(l)}showDecoration(l){l===os.Z.Ignore?this.inputBox.hideMessage():this.inputBox.showMessage({type:l===os.Z.Info?1:l===os.Z.Warning?2:3,content:""})}stylesForType(l){return this.inputBox.stylesForType(l===os.Z.Info?1:l===os.Z.Warning?2:3)}setFocus(){this.inputBox.focus()}layout(){this.inputBox.layout()}style(l){this.inputBox.style(l)}}var vc=a(4504);a(7179);const Cu="infinite",bu="discrete",Ol={progressBarBackground:Gr.Il.fromHex("#0E70C0")};class hd extends nt.JT{constructor(l,h){super(),this.options=h||Object.create(null),(0,Ko.jB)(this.options,Ol,!1),this.workedVal=0,this.progressBarBackground=this.options.progressBarBackground,this._register(this.showDelayedScheduler=new qt.pY(()=>(0,Ce.$Z)(this.element),0)),this.create(l)}create(l){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),l.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.element.appendChild(this.bit),this.applyStyles()}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove("active",Cu,bu),this.workedVal=0,this.totalWork=void 0}stop(){return this.doDone(!1)}doDone(l){return this.element.classList.add("done"),this.element.classList.contains(Cu)?(this.bit.style.opacity="0",l?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",l?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(bu,"done"),this.element.classList.add("active",Cu),this}getContainer(){return this.element}style(l){this.progressBarBackground=l.progressBarBackground,this.applyStyles()}applyStyles(){if(this.bit){const l=this.progressBarBackground?this.progressBarBackground.toString():"";this.bit.style.backgroundColor=l}}}a(8883);var cf=a(1745),df=a(6255);const qw={buttonBackground:Gr.Il.fromHex("#0E639C"),buttonHoverBackground:Gr.Il.fromHex("#006BB3"),buttonForeground:Gr.Il.white};class Pl extends nt.JT{constructor(l,h){super(),this._onDidClick=this._register(new j.Q5),this.options=h||Object.create(null),(0,Ko.jB)(this.options,qw,!1),this.buttonForeground=this.options.buttonForeground,this.buttonBackground=this.options.buttonBackground,this.buttonHoverBackground=this.options.buttonHoverBackground,this.buttonSecondaryForeground=this.options.buttonSecondaryForeground,this.buttonSecondaryBackground=this.options.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=this.options.buttonSecondaryHoverBackground,this.buttonBorder=this.options.buttonBorder,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),l.appendChild(this._element),this._register(cf.o.addTarget(this._element)),[Ce.tw.CLICK,cf.t.Tap].forEach(D=>{this._register((0,Ce.nm)(this._element,D,Q=>{this.enabled?this._onDidClick.fire(Q):Ce.zB.stop(Q)}))}),this._register((0,Ce.nm)(this._element,Ce.tw.KEY_DOWN,D=>{const Q=new Ks.y(D);let te=!1;this.enabled&&(Q.equals(3)||Q.equals(10))?(this._onDidClick.fire(D),te=!0):Q.equals(9)&&(this._element.blur(),te=!0),te&&Ce.zB.stop(Q,!0)})),this._register((0,Ce.nm)(this._element,Ce.tw.MOUSE_OVER,D=>{this._element.classList.contains("disabled")||this.setHoverBackground()})),this._register((0,Ce.nm)(this._element,Ce.tw.MOUSE_OUT,D=>{this.applyStyles()})),this.focusTracker=this._register((0,Ce.go)(this._element)),this._register(this.focusTracker.onDidFocus(()=>this.setHoverBackground())),this._register(this.focusTracker.onDidBlur(()=>this.applyStyles())),this.applyStyles()}get onDidClick(){return this._onDidClick.event}setHoverBackground(){let l;l=this.options.secondary?this.buttonSecondaryHoverBackground?this.buttonSecondaryHoverBackground.toString():null:this.buttonHoverBackground?this.buttonHoverBackground.toString():null,l&&(this._element.style.backgroundColor=l)}style(l){this.buttonForeground=l.buttonForeground,this.buttonBackground=l.buttonBackground,this.buttonHoverBackground=l.buttonHoverBackground,this.buttonSecondaryForeground=l.buttonSecondaryForeground,this.buttonSecondaryBackground=l.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=l.buttonSecondaryHoverBackground,this.buttonBorder=l.buttonBorder,this.applyStyles()}applyStyles(){if(this._element){let l,h;this.options.secondary?(h=this.buttonSecondaryForeground?this.buttonSecondaryForeground.toString():"",l=this.buttonSecondaryBackground?this.buttonSecondaryBackground.toString():""):(h=this.buttonForeground?this.buttonForeground.toString():"",l=this.buttonBackground?this.buttonBackground.toString():"");const D=this.buttonBorder?this.buttonBorder.toString():"";this._element.style.color=h,this._element.style.backgroundColor=l,this._element.style.borderWidth=D?"1px":"",this._element.style.borderStyle=D?"solid":"",this._element.style.borderColor=D}}get element(){return this._element}set label(l){this._element.classList.add("monaco-text-button"),this.options.supportIcons?(0,Ce.mc)(this._element,...(0,df.T)(l)):this._element.textContent=l,"string"==typeof this.options.title?this._element.title=this.options.title:this.options.title&&(this._element.title=l)}set enabled(l){l?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}}var vo=function(A,l,h,D){return new(h||(h=Promise))(function(te,Se){function He(Ot){try{It(D.next(Ot))}catch(ln){Se(ln)}}function ct(Ot){try{It(D.throw(Ot))}catch(ln){Se(ln)}}function It(Ot){Ot.done?te(Ot.value):function(te){return te instanceof h?te:new h(function(Se){Se(te)})}(Ot.value).then(He,ct)}It((D=D.apply(A,l||[])).next())})};const xo=Ce.$,uf={iconClass:(0,Vn.CM)("quick-input-back",Vn.lA.arrowLeft).classNames,tooltip:(0,yi.N)("quickInput.back","Back"),handle:-1};class fd extends nt.JT{constructor(l){super(),this.ui=l,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.noValidationMessage=fd.noPromptMessage,this._severity=os.Z.Ignore,this.buttonsUpdated=!1,this.onDidTriggerButtonEmitter=this._register(new j.Q5),this.onDidHideEmitter=this._register(new j.Q5),this.onDisposeEmitter=this._register(new j.Q5),this.visibleDisposables=this._register(new nt.SL),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(l){this._title=l,this.update()}get description(){return this._description}set description(l){this._description=l,this.update()}get step(){return this._steps}set step(l){this._steps=l,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(l){this._totalSteps=l,this.update()}get enabled(){return this._enabled}set enabled(l){this._enabled=l,this.update()}get contextKey(){return this._contextKey}set contextKey(l){this._contextKey=l,this.update()}get busy(){return this._busy}set busy(l){this._busy=l,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(l){const h=this._ignoreFocusOut!==l&&!Rt.gn;this._ignoreFocusOut=l&&!Rt.gn,h&&this.update()}get buttons(){return this._buttons}set buttons(l){this._buttons=l,this.buttonsUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(l){this._validationMessage=l,this.update()}get severity(){return this._severity}set severity(l){this._severity=l,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(l=>{-1!==this.buttons.indexOf(l)&&this.onDidTriggerButtonEmitter.fire(l)})),this.ui.show(this),this.visible=!0,this.update())}hide(){!this.visible||this.ui.hide()}didHide(l=Dr.Jq.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:l})}update(){if(!this.visible)return;const l=this.getTitle();l&&this.ui.title.textContent!==l?this.ui.title.textContent=l:!l&&"&nbsp;"!==this.ui.title.innerHTML&&(this.ui.title.innerText="\xa0;");const h=this.getDescription();if(this.ui.description1.textContent!==h&&(this.ui.description1.textContent=h),this.ui.description2.textContent!==h&&(this.ui.description2.textContent=h),this.busy&&!this.busyDelay&&(this.busyDelay=new qt._F,this.busyDelay.setIfNotSet(()=>{this.visible&&this.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const Q=this.buttons.filter(Se=>Se===uf);this.ui.leftActionBar.push(Q.map((Se,He)=>{const ct=new lt.aU(`id-${He}`,"",Se.iconClass||tf(Se.iconPath),!0,()=>vo(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(Se)}));return ct.tooltip=Se.tooltip||"",ct}),{icon:!0,label:!1}),this.ui.rightActionBar.clear();const te=this.buttons.filter(Se=>Se!==uf);this.ui.rightActionBar.push(te.map((Se,He)=>{const ct=new lt.aU(`id-${He}`,"",Se.iconClass||tf(Se.iconPath),!0,()=>vo(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(Se)}));return ct.tooltip=Se.tooltip||"",ct}),{icon:!0,label:!1})}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const D=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==D&&(this._lastValidationMessage=D,Ce.mc(this.ui.message,...(0,df.T)(D))),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?(0,yi.N)("quickInput.steps","{0}/{1}",this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(l){if(this.ui.inputBox.showDecoration(l),l!==os.Z.Ignore){const h=this.ui.inputBox.stylesForType(l);this.ui.message.style.color=h.foreground?`${h.foreground}`:"",this.ui.message.style.backgroundColor=h.background?`${h.background}`:"",this.ui.message.style.border=h.border?`1px solid ${h.border}`:"",this.ui.message.style.paddingBottom="4px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.paddingBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}fd.noPromptMessage=(0,yi.N)("inputModeEntry","Press 'Enter' to confirm your input or 'Escape' to cancel");class kl extends fd{constructor(){super(...arguments),this._value="",this.onDidChangeValueEmitter=this._register(new j.Q5),this.onWillAcceptEmitter=this._register(new j.Q5),this.onDidAcceptEmitter=this._register(new j.Q5),this.onDidCustomEmitter=this._register(new j.Q5),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._sortByLabel=!0,this._autoFocusOnList=!0,this._itemActivation=this.ui.isScreenReaderOptimized()?Dr.jG.NONE:Dr.jG.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new j.Q5),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new j.Q5),this.onDidTriggerItemButtonEmitter=this._register(new j.Q5),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=l=>l,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(l){this._quickNavigate=l,this.update()}get value(){return this._value}set value(l){this._value!==l&&(this._value=l||"",this.update(),this.onDidChangeValueEmitter.fire(this._value))}set ariaLabel(l){this._ariaLabel=l,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(l){this._placeholder=l,this.update()}get items(){return this._items}set items(l){this._items=l,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(l){this._canSelectMany=l,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(l){this._canAcceptInBackground=l}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(l){this._matchOnDescription=l,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(l){this._matchOnDetail=l,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(l){this._matchOnLabel=l,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(l){this._sortByLabel=l,this.update()}get autoFocusOnList(){return this._autoFocusOnList}set autoFocusOnList(l){this._autoFocusOnList=l,this.update()}get itemActivation(){return this._itemActivation}set itemActivation(l){this._itemActivation=l}get activeItems(){return this._activeItems}set activeItems(l){this._activeItems=l,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(l){this._selectedItems=l,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?Dr.X5:this.ui.keyMods}set valueSelection(l){this._valueSelection=l,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(l){this._customButton=l,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(l){this._customButtonLabel=l,this.update()}get customHover(){return this._customButtonHover}set customHover(l){this._customButtonHover=l,this.update()}get ok(){return this._ok}set ok(l){this._ok=l,this.update()}get hideInput(){return!!this._hideInput}set hideInput(l){this._hideInput=l,this.update()}trySelectFirst(){this.autoFocusOnList&&(this.canSelectMany||this.ui.list.focus(Ls.First))}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(l=>{l!==this.value&&(this._value=l,this.ui.list.filter(this.filterValue(this.ui.inputBox.value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(l))})),this.visibleDisposables.add(this.ui.inputBox.onMouseDown(l=>{this.autoFocusOnList||this.ui.list.clearFocus()})),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown(l=>{switch(l.keyCode){case 18:this.ui.list.focus(Ls.Next),this.canSelectMany&&this.ui.list.domFocus(),Ce.zB.stop(l,!0);break;case 16:this.ui.list.getFocusedElements().length?this.ui.list.focus(Ls.Previous):this.ui.list.focus(Ls.Last),this.canSelectMany&&this.ui.list.domFocus(),Ce.zB.stop(l,!0);break;case 12:this.ui.list.focus(Ls.NextPage),this.canSelectMany&&this.ui.list.domFocus(),Ce.zB.stop(l,!0);break;case 11:this.ui.list.focus(Ls.PreviousPage),this.canSelectMany&&this.ui.list.domFocus(),Ce.zB.stop(l,!0);break;case 17:if(!this._canAcceptInBackground||!this.ui.inputBox.isSelectionAtEnd())return;this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!0));break;case 14:(l.ctrlKey||l.metaKey)&&!l.shiftKey&&!l.altKey&&(this.ui.list.focus(Ls.First),Ce.zB.stop(l,!0));break;case 13:(l.ctrlKey||l.metaKey)&&!l.shiftKey&&!l.altKey&&(this.ui.list.focus(Ls.Last),Ce.zB.stop(l,!0))}})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{!this.canSelectMany&&this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this.ui.list.onDidChangeFocus(l=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&(0,jt.fS)(l,this._activeItems,(h,D)=>h===D)||(this._activeItems=l,this.onDidChangeActiveEmitter.fire(l))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:l,event:h})=>{this.canSelectMany?l.length&&this.ui.list.setSelectedElements([]):this.selectedItemsToConfirm!==this._selectedItems&&(0,jt.fS)(l,this._selectedItems,(D,Q)=>D===Q)||(this._selectedItems=l,this.onDidChangeSelectionEmitter.fire(l),l.length&&this.handleAccept(h instanceof MouseEvent&&1===h.button))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(l=>{!this.canSelectMany||this.selectedItemsToConfirm!==this._selectedItems&&(0,jt.fS)(l,this._selectedItems,(h,D)=>h===D)||(this._selectedItems=l,this.onDidChangeSelectionEmitter.fire(l))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(l=>this.onDidTriggerItemButtonEmitter.fire(l))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(l){let h=!1;this.onWillAcceptEmitter.fire({veto:()=>h=!0}),h||this.onDidAcceptEmitter.fire({inBackground:l})}registerQuickNavigation(){return Ce.nm(this.ui.container,Ce.tw.KEY_UP,l=>{if(this.canSelectMany||!this._quickNavigate)return;const h=new Ks.y(l),D=h.keyCode;this._quickNavigate.keybindings.some(Se=>{const[He,ct]=Se.getParts();return!(ct||(He.shiftKey&&4===D?h.ctrlKey||h.altKey||h.metaKey:!(He.altKey&&6===D||He.ctrlKey&&5===D||He.metaKey&&57===D)))})&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)})}update(){if(!this.visible)return;const l=!!this._hideInput&&this._items.length>0;this.ui.container.classList.toggle("hidden-input",l&&!this.description);const h={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!l,progressBar:!l,visibleCount:!0,count:this.canSelectMany,ok:"default"===this.ok?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(h),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");const D=this.ariaLabel||this.placeholder||kl.DEFAULT_ARIA_LABEL;if(this.ui.inputBox.ariaLabel!==D&&(this.ui.inputBox.ariaLabel=D),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case Dr.jG.NONE:this._itemActivation=Dr.jG.FIRST;break;case Dr.jG.SECOND:this.ui.list.focus(Ls.Second),this._itemActivation=Dr.jG.FIRST;break;case Dr.jG.LAST:this.ui.list.focus(Ls.Last),this._itemActivation=Dr.jG.FIRST;break;default:this.trySelectFirst()}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",this.ui.setComboboxAccessibility(!0),h.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(Ls.First))}}kl.DEFAULT_ARIA_LABEL=(0,yi.N)("quickInputBox.ariaLabel","Type to narrow down results.");let yu=(()=>{class A extends nt.JT{constructor(h){super(),this.options=h,this.comboboxAccessibility=!1,this.enabled=!0,this.onDidAcceptEmitter=this._register(new j.Q5),this.onDidCustomEmitter=this._register(new j.Q5),this.onDidTriggerButtonEmitter=this._register(new j.Q5),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new j.Q5),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new j.Q5),this.onHide=this.onHideEmitter.event,this.idPrefix=h.idPrefix,this.parentElement=h.container,this.styles=h.styles,this.registerKeyModsListeners()}registerKeyModsListeners(){const h=D=>{this.keyMods.ctrlCmd=D.ctrlKey||D.metaKey,this.keyMods.alt=D.altKey};this._register(Ce.nm(window,Ce.tw.KEY_DOWN,h,!0)),this._register(Ce.nm(window,Ce.tw.KEY_UP,h,!0)),this._register(Ce.nm(window,Ce.tw.MOUSE_DOWN,h,!0))}getUI(){if(this.ui)return this.ui;const h=Ce.R3(this.parentElement,xo(".quick-input-widget.show-file-icons"));h.tabIndex=-1,h.style.display="none";const D=Ce.dS(h),Q=Ce.R3(h,xo(".quick-input-titlebar")),te=this._register(new gt.o(Q));te.domNode.classList.add("quick-input-left-action-bar");const Se=Ce.R3(Q,xo(".quick-input-title")),He=this._register(new gt.o(Q));He.domNode.classList.add("quick-input-right-action-bar");const ct=Ce.R3(h,xo(".quick-input-description")),It=Ce.R3(h,xo(".quick-input-header")),Ot=Ce.R3(It,xo("input.quick-input-check-all"));Ot.type="checkbox",this._register(Ce.mu(Ot,Ce.tw.CHANGE,Zi=>{mr.setAllVisibleChecked(Ot.checked)})),this._register(Ce.nm(Ot,Ce.tw.CLICK,Zi=>{(Zi.x||Zi.y)&&Si.setFocus()}));const ln=Ce.R3(It,xo(".quick-input-description")),xn=Ce.R3(It,xo(".quick-input-and-message")),gi=Ce.R3(xn,xo(".quick-input-filter")),Si=this._register(new lf(gi));Si.setAttribute("aria-describedby",`${this.idPrefix}message`);const Ni=Ce.R3(gi,xo(".quick-input-visible-count"));Ni.setAttribute("aria-live","polite"),Ni.setAttribute("aria-atomic","true");const Ri=new vc.Z(Ni,{countFormat:(0,yi.N)({key:"quickInput.visibleCount",comment:["This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers."]},"{0} Results")}),ts=Ce.R3(gi,xo(".quick-input-count"));ts.setAttribute("aria-live","polite");const as=new vc.Z(ts,{countFormat:(0,yi.N)({key:"quickInput.countSelected",comment:["This tells the user how many items are selected in a list of items to select from. The items can be anything."]},"{0} Selected")}),ji=Ce.R3(It,xo(".quick-input-action")),qi=new Pl(ji);qi.label=(0,yi.N)("ok","OK"),this._register(qi.onDidClick(Zi=>{this.onDidAcceptEmitter.fire()}));const Lr=Ce.R3(It,xo(".quick-input-action")),no=new Pl(Lr);no.label=(0,yi.N)("custom","Custom"),this._register(no.onDidClick(Zi=>{this.onDidCustomEmitter.fire()}));const ao=Ce.R3(xn,xo(`#${this.idPrefix}message.quick-input-message`)),mr=this._register(new rf(h,this.idPrefix+"list",this.options));this._register(mr.onChangedAllVisibleChecked(Zi=>{Ot.checked=Zi})),this._register(mr.onChangedVisibleCount(Zi=>{Ri.setCount(Zi)})),this._register(mr.onChangedCheckedCount(Zi=>{as.setCount(Zi)})),this._register(mr.onLeave(()=>{setTimeout(()=>{Si.setFocus(),this.controller instanceof kl&&this.controller.canSelectMany&&mr.clearFocus()},0)})),this._register(mr.onDidChangeFocus(()=>{this.comboboxAccessibility&&this.getUI().inputBox.setAttribute("aria-activedescendant",this.getUI().list.getActiveDescendant()||"")}));const bs=new hd(h);bs.getContainer().classList.add("quick-input-progress");const Js=Ce.go(h);return this._register(Js),this._register(Ce.nm(h,Ce.tw.FOCUS,Zi=>{this.previousFocusElement=Zi.relatedTarget instanceof HTMLElement?Zi.relatedTarget:void 0},!0)),this._register(Js.onDidBlur(()=>{!this.getUI().ignoreFocusOut&&!this.options.ignoreFocusOut()&&this.hide(Dr.Jq.Blur),this.previousFocusElement=void 0})),this._register(Ce.nm(h,Ce.tw.FOCUS,Zi=>{Si.setFocus()})),this._register(Ce.nm(h,Ce.tw.KEY_DOWN,Zi=>{const pr=new Ks.y(Zi);switch(pr.keyCode){case 3:Ce.zB.stop(Zi,!0),this.onDidAcceptEmitter.fire();break;case 9:Ce.zB.stop(Zi,!0),this.hide(Dr.Jq.Gesture);break;case 2:if(!pr.altKey&&!pr.ctrlKey&&!pr.metaKey){const _d=[".action-label.codicon"];h.classList.contains("show-checkboxes")?_d.push("input"):_d.push("input[type=text]"),this.getUI().list.isDisplayed()&&_d.push(".monaco-list");const el=h.querySelectorAll(_d.join(", "));pr.shiftKey&&pr.target===el[0]?(Ce.zB.stop(Zi,!0),el[el.length-1].focus()):!pr.shiftKey&&pr.target===el[el.length-1]&&(Ce.zB.stop(Zi,!0),el[0].focus())}}})),this.ui={container:h,styleSheet:D,leftActionBar:te,titleBar:Q,title:Se,description1:ct,description2:ln,rightActionBar:He,checkAll:Ot,filterContainer:gi,inputBox:Si,visibleCountContainer:Ni,visibleCount:Ri,countContainer:ts,count:as,okContainer:ji,ok:qi,message:ao,customButtonContainer:Lr,customButton:no,list:mr,progressBar:bs,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,isScreenReaderOptimized:()=>this.options.isScreenReaderOptimized(),show:Zi=>this.show(Zi),hide:()=>this.hide(),setVisibilities:Zi=>this.setVisibilities(Zi),setComboboxAccessibility:Zi=>this.setComboboxAccessibility(Zi),setEnabled:Zi=>this.setEnabled(Zi),setContextKey:Zi=>this.options.setContextKey(Zi)},this.updateStyles(),this.ui}pick(h,D={},Q=U.T.None){return new Promise((te,Se)=>{let He=ln=>{He=te,D.onKeyMods&&D.onKeyMods(ct.keyMods),te(ln)};if(Q.isCancellationRequested)return void He(void 0);const ct=this.createQuickPick();let It;const Ot=[ct,ct.onDidAccept(()=>{if(ct.canSelectMany)He(ct.selectedItems.slice()),ct.hide();else{const ln=ct.activeItems[0];ln&&(He(ln),ct.hide())}}),ct.onDidChangeActive(ln=>{const xn=ln[0];xn&&D.onDidFocus&&D.onDidFocus(xn)}),ct.onDidChangeSelection(ln=>{if(!ct.canSelectMany){const xn=ln[0];xn&&(He(xn),ct.hide())}}),ct.onDidTriggerItemButton(ln=>D.onDidTriggerItemButton&&D.onDidTriggerItemButton(Object.assign(Object.assign({},ln),{removeItem:()=>{const xn=ct.items.indexOf(ln.item);if(-1!==xn){const gi=ct.items.slice(),Si=gi.splice(xn,1),Ni=ct.activeItems.filter(Ri=>Ri!==Si[0]);ct.items=gi,Ni&&(ct.activeItems=Ni)}}}))),ct.onDidChangeValue(ln=>{It&&!ln&&(1!==ct.activeItems.length||ct.activeItems[0]!==It)&&(ct.activeItems=[It])}),Q.onCancellationRequested(()=>{ct.hide()}),ct.onDidHide(()=>{(0,nt.B9)(Ot),He(void 0)})];ct.title=D.title,ct.canSelectMany=!!D.canPickMany,ct.placeholder=D.placeHolder,ct.ignoreFocusOut=!!D.ignoreFocusLost,ct.matchOnDescription=!!D.matchOnDescription,ct.matchOnDetail=!!D.matchOnDetail,ct.matchOnLabel=void 0===D.matchOnLabel||D.matchOnLabel,ct.autoFocusOnList=void 0===D.autoFocusOnList||D.autoFocusOnList,ct.quickNavigate=D.quickNavigate,ct.contextKey=D.contextKey,ct.busy=!0,Promise.all([h,D.activeItem]).then(([ln,xn])=>{It=xn,ct.busy=!1,ct.items=ln,ct.canSelectMany&&(ct.selectedItems=ln.filter(gi=>"separator"!==gi.type&&gi.picked)),It&&(ct.activeItems=[It])}),ct.show(),Promise.resolve(h).then(void 0,ln=>{Se(ln),ct.hide()})})}createQuickPick(){const h=this.getUI();return new kl(h)}show(h){const D=this.getUI();this.onShowEmitter.fire();const Q=this.controller;this.controller=h,Q&&Q.didHide(),this.setEnabled(!0),D.leftActionBar.clear(),D.title.textContent="",D.description1.textContent="",D.description2.textContent="",D.rightActionBar.clear(),D.checkAll.checked=!1,D.inputBox.placeholder="",D.inputBox.password=!1,D.inputBox.showDecoration(os.Z.Ignore),D.visibleCount.setCount(0),D.count.setCount(0),Ce.mc(D.message),D.progressBar.stop(),D.list.setElements([]),D.list.matchOnDescription=!1,D.list.matchOnDetail=!1,D.list.matchOnLabel=!0,D.list.sortByLabel=!0,D.ignoreFocusOut=!1,this.setComboboxAccessibility(!1),D.inputBox.ariaLabel="";const te=this.options.backKeybindingLabel();uf.tooltip=te?(0,yi.N)("quickInput.backWithKeybinding","Back ({0})",te):(0,yi.N)("quickInput.back","Back"),D.container.style.display="",this.updateLayout(),D.inputBox.setFocus()}setVisibilities(h){const D=this.getUI();D.title.style.display=h.title?"":"none",D.description1.style.display=h.description&&(h.inputBox||h.checkAll)?"":"none",D.description2.style.display=!h.description||h.inputBox||h.checkAll?"none":"",D.checkAll.style.display=h.checkAll?"":"none",D.filterContainer.style.display=h.inputBox?"":"none",D.visibleCountContainer.style.display=h.visibleCount?"":"none",D.countContainer.style.display=h.count?"":"none",D.okContainer.style.display=h.ok?"":"none",D.customButtonContainer.style.display=h.customButton?"":"none",D.message.style.display=h.message?"":"none",D.progressBar.getContainer().style.display=h.progressBar?"":"none",D.list.display(!!h.list),D.container.classList[h.checkBox?"add":"remove"]("show-checkboxes"),this.updateLayout()}setComboboxAccessibility(h){if(h!==this.comboboxAccessibility){const D=this.getUI();this.comboboxAccessibility=h,this.comboboxAccessibility?(D.inputBox.setAttribute("role","combobox"),D.inputBox.setAttribute("aria-haspopup","true"),D.inputBox.setAttribute("aria-autocomplete","list"),D.inputBox.setAttribute("aria-activedescendant",D.list.getActiveDescendant()||"")):(D.inputBox.removeAttribute("role"),D.inputBox.removeAttribute("aria-haspopup"),D.inputBox.removeAttribute("aria-autocomplete"),D.inputBox.removeAttribute("aria-activedescendant"))}}setEnabled(h){if(h!==this.enabled){this.enabled=h;for(const D of this.getUI().leftActionBar.viewItems)D.getAction().enabled=h;for(const D of this.getUI().rightActionBar.viewItems)D.getAction().enabled=h;this.getUI().checkAll.disabled=!h,this.getUI().ok.enabled=h,this.getUI().list.enabled=h}}hide(h){var D;const Q=this.controller;if(Q){const te=!(null===(D=this.ui)||void 0===D?void 0:D.container.contains(document.activeElement));this.controller=null,this.onHideEmitter.fire(),this.getUI().container.style.display="none",te||(this.previousFocusElement&&this.previousFocusElement.offsetParent?(this.previousFocusElement.focus(),this.previousFocusElement=void 0):this.options.returnFocus()),Q.didHide(h)}}layout(h,D){this.dimension=h,this.titleBarOffset=D,this.updateLayout()}updateLayout(){if(this.ui){this.ui.container.style.top=`${this.titleBarOffset}px`;const h=this.ui.container.style,D=Math.min(.62*this.dimension.width,A.MAX_WIDTH);h.width=D+"px",h.marginLeft="-"+D/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&.4*this.dimension.height)}}applyStyles(h){this.styles=h,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:h,quickInputBackground:D,quickInputForeground:Q,contrastBorder:te,widgetShadow:Se}=this.styles.widget;this.ui.titleBar.style.backgroundColor=h?h.toString():"",this.ui.container.style.backgroundColor=D?D.toString():"",this.ui.container.style.color=Q?Q.toString():"",this.ui.container.style.border=te?`1px solid ${te}`:"",this.ui.container.style.boxShadow=Se?`0 0 8px 2px ${Se}`:"",this.ui.inputBox.style(this.styles.inputBox),this.ui.count.style(this.styles.countBadge),this.ui.ok.style(this.styles.button),this.ui.customButton.style(this.styles.button),this.ui.progressBar.style(this.styles.progressBar),this.ui.list.style(this.styles.list);const He=[];this.styles.list.pickerGroupBorder&&He.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.list.pickerGroupBorder}; }`),this.styles.list.pickerGroupForeground&&He.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.list.pickerGroupForeground}; }`),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(He.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&He.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&He.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&He.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&He.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&He.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),He.push("}"));const ct=He.join("\n");ct!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=ct)}}}return A.MAX_WIDTH=600,A})();var wu=a(3130),gm=a(4961),hf=a(3245),bc=function(A,l){return function(h,D){l(h,D,A)}};let ff=class extends nt.JT{constructor(l,h){super(),this.quickInputService=l,this.instantiationService=h,this.registry=td.B.as(gm.IP.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(l="",h){this.doShowOrPick(l,!1,h)}doShowOrPick(l,h,D){var Q;const[te,Se]=this.getOrInstantiateProvider(l),He=this.visibleQuickAccess,ct=null==He?void 0:He.descriptor;if(He&&Se&&ct===Se)return l!==Se.prefix&&!(null==D?void 0:D.preserveValue)&&(He.picker.value=l),void this.adjustValueSelection(He.picker,Se,D);if(Se&&!(null==D?void 0:D.preserveValue)){let Si;if(He&&ct&&ct!==Se){const Ni=He.value.substr(ct.prefix.length);Ni&&(Si=`${Se.prefix}${Ni}`)}if(!Si){const Ni=null==te?void 0:te.defaultFilterValue;Ni===gm.Ry.LAST?Si=this.lastAcceptedPickerValues.get(Se):"string"==typeof Ni&&(Si=`${Se.prefix}${Ni}`)}"string"==typeof Si&&(l=Si)}const It=new nt.SL,Ot=It.add(this.quickInputService.createQuickPick());let ln,xn;Ot.value=l,this.adjustValueSelection(Ot,Se,D),Ot.placeholder=null==Se?void 0:Se.placeholder,Ot.quickNavigate=null==D?void 0:D.quickNavigateConfiguration,Ot.hideInput=!!Ot.quickNavigate&&!He,("number"==typeof(null==D?void 0:D.itemActivation)||(null==D?void 0:D.quickNavigateConfiguration))&&(Ot.itemActivation=null!==(Q=null==D?void 0:D.itemActivation)&&void 0!==Q?Q:wu.jG.SECOND),Ot.contextKey=null==Se?void 0:Se.contextKey,Ot.filterValue=Si=>Si.substring(Se?Se.prefix.length:0),(null==Se?void 0:Se.placeholder)&&(Ot.ariaLabel=null==Se?void 0:Se.placeholder),h&&(ln=new Promise(Si=>xn=Si),It.add((0,hf.I)(Ot.onWillAccept)(Si=>{Si.veto(),Ot.hide()}))),It.add(this.registerPickerListeners(Ot,te,Se,l));const gi=It.add(new U.A);return te&&It.add(te.provide(Ot,gi.token)),(0,hf.I)(Ot.onDidHide)(()=>{0===Ot.selectedItems.length&&gi.cancel(),It.dispose(),null==xn||xn(Ot.selectedItems)}),Ot.show(),h?ln:void 0}adjustValueSelection(l,h,D){var Q;let te;te=(null==D?void 0:D.preserveValue)?[l.value.length,l.value.length]:[null!==(Q=null==h?void 0:h.prefix.length)&&void 0!==Q?Q:0,l.value.length],l.valueSelection=te}registerPickerListeners(l,h,D,Q){const te=new nt.SL,Se=this.visibleQuickAccess={picker:l,descriptor:D,value:Q};return te.add((0,nt.OF)(()=>{Se===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)})),te.add(l.onDidChangeValue(He=>{const[ct]=this.getOrInstantiateProvider(He);ct!==h?this.show(He,{preserveValue:!0}):Se.value=He})),D&&te.add(l.onDidAccept(()=>{this.lastAcceptedPickerValues.set(D,l.value)})),te}getOrInstantiateProvider(l){const h=this.registry.getQuickAccessProvider(l);if(!h)return[void 0,void 0];let D=this.mapProviderToDescriptor.get(h);return D||(D=this.instantiationService.createInstance(h.ctor),this.mapProviderToDescriptor.set(h,D)),[D,h]}};ff=function(A,l,h,D){var Se,Q=arguments.length,te=Q<3?l:null===D?D=Object.getOwnPropertyDescriptor(l,h):D;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)te=Reflect.decorate(A,l,h,D);else for(var He=A.length-1;He>=0;He--)(Se=A[He])&&(te=(Q<3?Se(te):Q>3?Se(l,h,te):Se(l,h))||te);return Q>3&&te&&Object.defineProperty(l,h,te),te}([bc(0,wu.eJ),bc(1,oo.TG)],ff);var yc=function(A,l){return function(h,D){l(h,D,A)}};let gf=class extends _o.bB{constructor(l,h,D,Q,te){super(D),this.instantiationService=l,this.contextKeyService=h,this.accessibilityService=Q,this.layoutService=te,this.contexts=new Map}get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(ff))),this._quickAccess}createController(l=this.layoutService,h){var D,Q;const te={idPrefix:"quickInput_",container:l.container,ignoreFocusOut:()=>!1,isScreenReaderOptimized:()=>this.accessibilityService.isScreenReaderOptimized(),backKeybindingLabel:()=>{},setContextKey:He=>this.setContextKey(He),returnFocus:()=>l.focus(),createList:(He,ct,It,Ot,ln)=>this.instantiationService.createInstance(mu.ev,He,ct,It,Ot,ln),styles:this.computeStyles()},Se=this._register(new yu(Object.assign(Object.assign({},te),h)));return Se.layout(l.dimension,null!==(Q=null===(D=l.offset)||void 0===D?void 0:D.top)&&void 0!==Q?Q:0),this._register(l.onDidLayout(He=>{var ct,It;return Se.layout(He,null!==(It=null===(ct=l.offset)||void 0===ct?void 0:ct.top)&&void 0!==It?It:0)})),this._register(Se.onShow(()=>this.resetContextKeys())),this._register(Se.onHide(()=>this.resetContextKeys())),Se}setContextKey(l){let h;l&&(h=this.contexts.get(l),h||(h=new Ws.uy(l,!1).bindTo(this.contextKeyService),this.contexts.set(l,h))),(!h||!h.get())&&(this.resetContextKeys(),h&&h.set(!0))}resetContextKeys(){this.contexts.forEach(l=>{l.get()&&l.reset()})}pick(l,h={},D=U.T.None){return this.controller.pick(l,h,D)}createQuickPick(){return this.controller.createQuickPick()}updateStyles(){this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:Object.assign({},(0,Ca.o)(this.theme,{quickInputBackground:Ci.zK,quickInputForeground:Ci.tZ,quickInputTitleBackground:Ci.lo,contrastBorder:Ci.lR,widgetShadow:Ci.rh})),inputBox:(0,Ca.o)(this.theme,{inputForeground:Ci.zJ,inputBackground:Ci.sE,inputBorder:Ci.dt,inputValidationInfoBackground:Ci._l,inputValidationInfoForeground:Ci.YI,inputValidationInfoBorder:Ci.EP,inputValidationWarningBackground:Ci.RV,inputValidationWarningForeground:Ci.SU,inputValidationWarningBorder:Ci.C3,inputValidationErrorBackground:Ci.p,inputValidationErrorForeground:Ci._t,inputValidationErrorBorder:Ci.OZ}),countBadge:(0,Ca.o)(this.theme,{badgeBackground:Ci.g8,badgeForeground:Ci.qe,badgeBorder:Ci.lR}),button:(0,Ca.o)(this.theme,{buttonForeground:Ci.j5,buttonBackground:Ci.b7,buttonHoverBackground:Ci.GO,buttonBorder:Ci.lR}),progressBar:(0,Ca.o)(this.theme,{progressBarBackground:Ci.zR}),keybindingLabel:(0,Ca.o)(this.theme,{keybindingLabelBackground:Ci.oQ,keybindingLabelForeground:Ci.lW,keybindingLabelBorder:Ci.AW,keybindingLabelBottomBorder:Ci.K1,keybindingLabelShadow:Ci.rh}),list:(0,Ca.o)(this.theme,{listBackground:Ci.zK,listInactiveFocusForeground:Ci.NP,listInactiveSelectionIconForeground:Ci.cb,listInactiveFocusBackground:Ci.Vq,listFocusOutline:Ci.xL,listInactiveFocusOutline:Ci.xL,pickerGroupBorder:Ci.op,pickerGroupForeground:Ci.kJ})}}};gf=function(A,l,h,D){var Se,Q=arguments.length,te=Q<3?l:null===D?D=Object.getOwnPropertyDescriptor(l,h):D;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)te=Reflect.decorate(A,l,h,D);else for(var He=A.length-1;He>=0;He--)(Se=A[He])&&(te=(Q<3?Se(te):Q>3?Se(l,h,te):Se(l,h))||te);return Q>3&&te&&Object.defineProperty(l,h,te),te}([yc(0,oo.TG),yc(1,Ws.i6),yc(2,_o.XE),yc(3,ga.F),yc(4,fc)],gf);var Cv=function(A,l,h,D){var Se,Q=arguments.length,te=Q<3?l:null===D?D=Object.getOwnPropertyDescriptor(l,h):D;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)te=Reflect.decorate(A,l,h,D);else for(var He=A.length-1;He>=0;He--)(Se=A[He])&&(te=(Q<3?Se(te):Q>3?Se(l,h,te):Se(l,h))||te);return Q>3&&te&&Object.defineProperty(l,h,te),te},Fl=function(A,l){return function(h,D){l(h,D,A)}};let mf=class extends gf{constructor(l,h,D,Q,te,Se){super(h,D,Q,te,Se),this.host=void 0;const He=wc.get(l);this.host={_serviceBrand:void 0,get container(){return He.widget.getDomNode()},get dimension(){return l.getLayoutInfo()},get onDidLayout(){return l.onDidLayoutChange},focus:()=>l.focus()}}createController(){return super.createController(this.host)}};mf=Cv([Fl(1,oo.TG),Fl(2,Ws.i6),Fl(3,_o.XE),Fl(4,ga.F),Fl(5,fc)],mf);let pf=class{constructor(l,h){this.instantiationService=l,this.codeEditorService=h,this.mapEditorToService=new Map}get activeService(){const l=this.codeEditorService.getFocusedCodeEditor();if(!l)throw new Error("Quick input service needs a focused editor to work.");let h=this.mapEditorToService.get(l);if(!h){const D=h=this.instantiationService.createInstance(mf,l);this.mapEditorToService.set(l,h),(0,hf.I)(l.onDidDispose)(()=>{D.dispose(),this.mapEditorToService.delete(l)})}return h}get quickAccess(){return this.activeService.quickAccess}pick(l,h={},D=U.T.None){return this.activeService.pick(l,h,D)}createQuickPick(){return this.activeService.createQuickPick()}};pf=Cv([Fl(0,oo.TG),Fl(1,Te.$)],pf);let wc=(()=>{class A{constructor(h){this.editor=h,this.widget=new _f(this.editor)}static get(h){return h.getContribution(A.ID)}dispose(){this.widget.dispose()}}return A.ID="editor.controller.quickInput",A})(),_f=(()=>{class A{constructor(h){this.codeEditor=h,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return A.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}return A.ID="editor.contrib.quickInputWidget",A})();var Ji;(0,Xa._K)(wc.ID,wc),function(A){const l=new Kh.y;class h{constructor(ct,It){this._serviceId=ct,this._factory=It,this._value=null}get id(){return this._serviceId}get(ct){if(!this._value){if(ct&&(this._value=ct[this._serviceId.toString()]),this._value||(this._value=this._factory(ct)),!this._value)throw new Error("Service "+this._serviceId+" is missing!");l.set(this._serviceId,this._value)}return this._value}}A.LazyStaticService=h;let D=[];function Q(He,ct){let It=new h(He,ct);return D.push(It),It}A.init=function(He){let ct=new Kh.y;for(const[Ot,ln]of(0,mi.d)())ct.set(Ot,ln);for(let Ot in He)He.hasOwnProperty(Ot)&&ct.set((0,oo.yh)(Ot),He[Ot]);D.forEach(Ot=>ct.set(Ot.id,Ot.get(He)));let It=new Za(ct,!0);return ct.set(oo.TG,It),[ct,It]},A.instantiationService=Q(oo.TG,()=>new Za(l,!0));const Se=new Yc;A.configurationService=Q(Ys.Ui,()=>Se),A.resourceConfigurationService=Q(st.V,()=>new tu(Se)),A.resourcePropertiesService=Q(st.y,()=>new Cl(Se)),A.contextService=Q(Wa.ec,()=>new tm),A.labelService=Q(cm.e,()=>new nu),A.telemetryService=Q(Uh.b,()=>new em),A.dialogService=Q(zh.S,()=>new $c),A.notificationService=Q($o.lT,()=>new Gc),A.markerService=Q(Wo.lT,()=>new Lo),A.modeService=Q(Qt.h,He=>new lu),A.standaloneThemeService=Q(Ha.Z,()=>new du),A.logService=Q(Ft.VZ,()=>new Ft.$V(new Ft.kw)),A.undoRedoService=Q(wa.tJ,He=>new ur(A.dialogService.get(He),A.notificationService.get(He))),A.modelService=Q(qe.q,He=>new Wh.BR(A.configurationService.get(He),A.resourcePropertiesService.get(He),A.standaloneThemeService.get(He),A.logService.get(He),A.undoRedoService.get(He))),A.markerDecorationsService=Q(Nl.i,He=>new Gh(A.modelService.get(He),A.markerService.get(He))),A.contextKeyService=Q(Ws.i6,He=>new z(A.configurationService.get(He))),A.codeEditorService=Q(Te.$,He=>new qc(null,A.contextKeyService.get(He),A.standaloneThemeService.get(He))),A.editorProgressService=Q(ms.e,()=>new vl),A.storageService=Q(xl.Uy,()=>new xl.vm),A.editorWorkerService=Q(pn.p,He=>new Bn(A.modelService.get(He),A.resourceConfigurationService.get(He),A.logService.get(He)))}(Ji||(Ji={}));class bv extends nt.JT{constructor(l,h){super();const[D,Q]=Ji.init(h);this._serviceCollection=D,this._instantiationService=Q;const te=this.get(Ys.Ui),Se=this.get($o.lT),He=this.get(Uh.b),ct=this.get(_o.XE),It=this.get(Ft.VZ),Ot=this.get(Ws.i6);let ln=(Ri,ts)=>{let as=null;return h&&(as=h[Ri.toString()]),as||(as=ts()),this._serviceCollection.set(Ri,as),as};ln(ga.F,()=>new dm(Ot,te)),ln(mu.Lw,()=>new mu.XN(ct));let xn=ln(ze.H,()=>new qg(this._instantiationService)),gi=ln(Rr.d,()=>this._register(new sc(Ot,xn,He,Se,It,l))),Si=ln(fc,()=>new Zc(Ji.codeEditorService.get(Te.$),l));ln(wu.eJ,()=>new pf(Q,Ji.codeEditorService.get(Te.$)));let Ni=ln(lr.u,()=>this._register(new jh(Si)));ln(bl.p,()=>new zw),ln(lr.i,()=>{const Ri=new rd(He,Se,Ni,gi,ct);return Ri.configure({blockMouse:!1}),this._register(Ri)}),ln(Qi.co,()=>new Il(xn)),ln(fo.vu,()=>new nm(Ji.modelService.get(qe.q)))}get(l){let h=this._serviceCollection.get(l);if(!h)throw new Error("Missing service "+l);return h}set(l,h){this._serviceCollection.set(l,h)}has(l){return this._serviceCollection.has(l)}}var yv=a(1558);function wv(A,l,h){let D=new bv(A,l),Q=null;D.has(Ht.S)||(Q=new qd(Ji.modelService.get()),D.set(Ht.S,Q)),D.has(Ue.v4)||D.set(Ue.v4,new Ge(D.get(Te.$),D.get(ze.H)));let te=h(D);return Q&&Q.setEditor(te),te}function qa(A,l){return"boolean"==typeof A?A:l}function Cf(A,l){return"string"==typeof A?A:l}function Sc(A,l=!1){l&&(A=A.map(function(D){return D.toLowerCase()}));const h=function(A){const l={};for(const h of A)l[h]=!0;return l}(A);return l?function(D){return void 0!==h[D.toLowerCase()]&&h.hasOwnProperty(D.toLowerCase())}:function(D){return void 0!==h[D]&&h.hasOwnProperty(D)}}function Eu(A,l){l=l.replace(/@@/g,"\x01");let D,h=0;do{D=!1,l=l.replace(/@(\w+)/g,function(te,Se){D=!0;let He="";if("string"==typeof A[Se])He=A[Se];else{if(!(A[Se]&&A[Se]instanceof RegExp))throw oi(A,void 0===A[Se]?"language definition does not contain attribute '"+Se+"', used at: "+l:"attribute reference '"+Se+"' must be a string, used at: "+l);He=A[Se].source}return _n(He)?"":"(?:"+He+")"}),h++}while(D&&h<5);return l=l.replace(/\x01/g,"@"),new RegExp(l,(A.ignoreCase?"i":"")+(A.unicode?"u":""))}function ym(A,l,h,D){let Q=-1,te=h,Se=h.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);Se&&(Se[3]&&(Q=parseInt(Se[3]),Se[2]&&(Q+=100)),te=Se[4]);let It,He="~",ct=te;if(te&&0!==te.length?/^\w*$/.test(ct)?He="==":(Se=te.match(/^(@|!@|~|!~|==|!=)(.*)$/),Se&&(He=Se[1],ct=Se[2])):(He="!=",ct=""),"~"!==He&&"!~"!==He||!/^(\w|\|)*$/.test(ct))if("@"===He||"!@"===He){let Ot=A[ct];if(!Ot)throw oi(A,"the @ match target '"+ct+"' is not defined, in rule: "+l);if(!function(A,l){if(!l||!Array.isArray(l))return!1;for(const h of l)if("string"!=typeof h)return!1;return!0}(0,Ot))throw oi(A,"the @ match target '"+ct+"' must be an array of strings, in rule: "+l);let ln=Sc(Ot,A.ignoreCase);It=function(xn){return"@"===He?ln(xn):!ln(xn)}}else if("~"===He||"!~"===He)if(ct.indexOf("$")<0){let Ot=Eu(A,"^"+ct+"$");It=function(ln){return"~"===He?Ot.test(ln):!Ot.test(ln)}}else It=function(Ot,ln,xn,gi){return Eu(A,"^"+Wt(A,ct,ln,xn,gi)+"$").test(Ot)};else if(ct.indexOf("$")<0){let Ot=On(A,ct);It=function(ln){return"=="===He?ln===Ot:ln!==Ot}}else{let Ot=On(A,ct);It=function(ln,xn,gi,Si,Ni){let Ri=Wt(A,Ot,xn,gi,Si);return"=="===He?ln===Ri:ln!==Ri}}else{let Ot=Sc(ct.split("|"),A.ignoreCase);It=function(ln){return"~"===He?Ot(ln):!Ot(ln)}}return-1===Q?{name:h,value:D,test:function(Ot,ln,xn,gi){return It(Ot,Ot,ln,xn,gi)}}:{name:h,value:D,test:function(Ot,ln,xn,gi){let Si=function(A,l,h,D){if(D<0)return A;if(D<l.length)return l[D];if(D>=100){D-=100;let Q=h.split(".");if(Q.unshift(h),D<Q.length)return Q[D]}return null}(Ot,ln,xn,Q);return It(Si||"",Ot,ln,xn,gi)}}}function wm(A,l,h){if(h){if("string"==typeof h)return h;if(h.token||""===h.token){if("string"!=typeof h.token)throw oi(A,"a 'token' attribute must be of type string, in rule: "+l);{let D={token:h.token};if(h.token.indexOf("$")>=0&&(D.tokenSubst=!0),"string"==typeof h.bracket)if("@open"===h.bracket)D.bracket=1;else{if("@close"!==h.bracket)throw oi(A,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+l);D.bracket=-1}if(h.next){if("string"!=typeof h.next)throw oi(A,"the next state must be a string value in rule: "+l);{let Q=h.next;if(!/^(@pop|@push|@popall)$/.test(Q)&&("@"===Q[0]&&(Q=Q.substr(1)),Q.indexOf("$")<0&&!function(A,l){let h=l;for(;h&&h.length>0;){if(A.stateNames[h])return!0;const Q=h.lastIndexOf(".");h=Q<0?null:h.substr(0,Q)}return!1}(A,Wt(A,Q,"",[],""))))throw oi(A,"the next state '"+h.next+"' is not defined in rule: "+l);D.next=Q}}return"number"==typeof h.goBack&&(D.goBack=h.goBack),"string"==typeof h.switchTo&&(D.switchTo=h.switchTo),"string"==typeof h.log&&(D.log=h.log),"string"==typeof h.nextEmbedded&&(D.nextEmbedded=h.nextEmbedded,A.usesEmbedded=!0),D}}if(Array.isArray(h)){let D=[];for(let Q=0,te=h.length;Q<te;Q++)D[Q]=wm(A,l,h[Q]);return{group:D}}if(h.cases){let D=[];for(let te in h.cases)if(h.cases.hasOwnProperty(te)){const Se=wm(A,l,h.cases[te]);D.push("@default"===te||"@"===te||""===te?{test:void 0,value:Se,name:te}:"@eos"===te?{test:function(He,ct,It,Ot){return Ot},value:Se,name:te}:ym(A,l,te,Se))}const Q=A.defaultToken;return{test:function(te,Se,He,ct){for(const It of D)if(!It.test||It.test(te,Se,He,ct))return It.value;return Q}}}throw oi(A,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+l)}return{token:""}}class nS{constructor(l){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=l}setRegex(l,h){let D;if("string"==typeof h)D=h;else{if(!(h instanceof RegExp))throw oi(l,"rules must start with a match string or regular expression: "+this.name);D=h.source}this.matchOnlyAtLineStart=D.length>0&&"^"===D[0],this.name=this.name+": "+D,this.regex=Eu(l,"^(?:"+(this.matchOnlyAtLineStart?D.substr(1):D)+")")}setAction(l,h){this.action=wm(l,this.name,h)}}class Sm{constructor(l,h){this._languageIdentifier=l,this._actual=h}getInitialState(){return this._actual.getInitialState()}tokenize(l,h,D,Q){if("function"==typeof this._actual.tokenize)return gd.adaptTokenize(this._languageIdentifier.language,this._actual,l,D,Q);throw new Error("Not supported!")}tokenize2(l,h,D){let Q=this._actual.tokenizeEncoded(l,D);return new d.Hi(Q.tokens,Q.endState)}}class gd{constructor(l,h,D){this._standaloneThemeService=l,this._languageIdentifier=h,this._actual=D}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(l,h,D){let Q=[],te=0;for(let Se=0,He=l.length;Se<He;Se++){const ct=l[Se];let It=ct.startIndex;0===Se?It=0:It<te&&(It=te),Q[Se]=new d.WU(It+D,ct.scopes,h),te=It}return Q}static adaptTokenize(l,h,D,Q,te){let ct,Se=h.tokenize(D,Q),He=gd._toClassicTokens(Se.tokens,l,te);return ct=Se.endState.equals(Q)?Q:Se.endState,new d.hG(He,ct)}tokenize(l,h,D,Q){return gd.adaptTokenize(this._languageIdentifier.language,this._actual,l,D,Q)}_toBinaryTokens(l,h){const D=this._languageIdentifier.id,Q=this._standaloneThemeService.getColorTheme().tokenTheme;let te=[],Se=0,He=0;for(let It=0,Ot=l.length;It<Ot;It++){const ln=l[It],xn=Q.match(D,ln.scopes);if(Se>0&&te[Se-1]===xn)continue;let gi=ln.startIndex;0===It?gi=0:gi<He&&(gi=He),te[Se++]=gi+h,te[Se++]=xn,He=gi}let ct=new Uint32Array(Se);for(let It=0;It<Se;It++)ct[It]=te[It];return ct}tokenize2(l,h,D,Q){let He,te=this._actual.tokenize(l,D),Se=this._toBinaryTokens(te.tokens,Q);return He=te.endState.equals(D)?D:te.endState,new d.Hi(Se,He)}}function Em(A){return A&&"function"==typeof A.then}var Lu,Zv=a(8664);T.BH.wrappingIndent.defaultValue=0,T.BH.glyphMargin.defaultValue=!1,T.BH.autoIndent.defaultValue=3,T.BH.overviewRulerLanes.defaultValue=2,Zv.xC.setFormatterSelector((A,l,h)=>Promise.resolve(A[0]));const Mo=Pe();Mo.editor={create:function(A,l,h){return wv(A,h||{},D=>new Sl(A,l,D,D.get(oo.TG),D.get(Te.$),D.get(ze.H),D.get(Ws.i6),D.get(Rr.d),D.get(lr.u),D.get(Ha.Z),D.get($o.lT),D.get(Ys.Ui),D.get(ga.F),D.get(qe.q),D.get(Qt.h)))},onDidCreateEditor:function(A){return Ji.codeEditorService.get().onCodeEditorAdd(l=>{A(l)})},createDiffEditor:function(A,l,h){return wv(A,h||{},D=>new El(A,l,D,D.get(oo.TG),D.get(Ws.i6),D.get(Rr.d),D.get(lr.u),D.get(pn.p),D.get(Te.$),D.get(Ha.Z),D.get($o.lT),D.get(Ys.Ui),D.get(lr.i),D.get(ms.e),D.get(bl.p)))},createDiffNavigator:function(A,l){return new De.F(A,l)},createModel:function(A,l,h){return Pr(Ji.modelService.get(),Ji.modeService.get(),A,l,h)},setModelLanguage:function(A,l){Ji.modelService.get().setMode(A,Ji.modeService.get().create(l))},setModelMarkers:function(A,l,h){A&&Ji.markerService.get().changeOne(l,A.uri,h)},getModelMarkers:function(A){return Ji.markerService.get().read(A)},onDidChangeMarkers:function(A){return Ji.markerService.get().onMarkerChanged(A)},getModels:function(){return Ji.modelService.get().getModels()},getModel:function(A){return Ji.modelService.get().getModel(A)},onDidCreateModel:function(A){return Ji.modelService.get().onModelAdded(A)},onWillDisposeModel:function(A){return Ji.modelService.get().onModelRemoved(A)},onDidChangeModelLanguage:function(A){return Ji.modelService.get().onModelModeChanged(l=>{A({model:l.model,oldLanguage:l.oldModeId})})},createWebWorker:function(A){return function(A,l){return new we(A,l)}(Ji.modelService.get(),A)},colorizeElement:function(A,l){const h=Ji.standaloneThemeService.get();return h.registerEditorContainer(A),di.colorizeElement(h,Ji.modeService.get(),A,l)},colorize:function(A,l,h){return Ji.standaloneThemeService.get().registerEditorContainer(document.body),di.colorize(Ji.modeService.get(),A,l,h)},colorizeModelLine:function(A,l,h=4){return Ji.standaloneThemeService.get().registerEditorContainer(document.body),di.colorizeModelLine(A,l,h)},tokenize:function(A,l){Ji.modeService.get().triggerMode(l);let D=function(A){return Nt.RW.get(A)||{getInitialState:()=>zt.nO,tokenize:(h,D,Q,te)=>(0,zt.Ri)(A,h,Q,te)}}(l),Q=(0,yn.uq)(A),te=[],Se=D.getInitialState();for(let He=0,ct=Q.length;He<ct;He++){let Ot=D.tokenize(Q[He],!0,Se,0);te[He]=Ot.tokens,Se=Ot.endState}return te},defineTheme:function(A,l){Ji.standaloneThemeService.get().defineTheme(A,l)},setTheme:function(A){Ji.standaloneThemeService.get().setTheme(A)},remeasureFonts:function(){(0,yv.P)()},registerCommand:function(A,l){return ze.P.registerCommand({id:A,handler:l})},AccessibilitySupport:C,ContentWidgetPositionPreference:w,CursorChangeReason:E,DefaultEndOfLine:S,EditorAutoIndentStrategy:M,EditorOption:_,EndOfLinePreference:f,EndOfLineSequence:m,MinimapPosition:ce,MouseTargetType:be,OverlayWidgetPositionPreference:N,OverviewRulerLane:V,RenderLineNumbersType:Z,RenderMinimap:ie,ScrollbarVisibility:oe,ScrollType:ue,TextEditorCursorBlinkingStyle:ge,TextEditorCursorStyle:re,TrackedRangeStickiness:ye,WrappingIndent:ke,ConfigurationChangedEvent:T.Bb,BareFontInfo:Le.E4,FontInfo:Le.pR,TextModelResolvedOptions:_t.dJ,FindMatch:_t.tk,EditorType:dt.g,EditorOptions:T.BH},Mo.languages={register:function(A){Oi.dQ.registerLanguage(A)},getLanguages:function(){let A=[];return A=A.concat(Oi.dQ.getLanguages()),A},onLanguage:function(A,l){let h=Ji.modeService.get().onDidCreateMode(D=>{D.getId()===A&&(h.dispose(),l())});return h},getEncodedLanguageId:function(A){let l=Ji.modeService.get().getLanguageIdentifier(A);return l?l.id:0},setLanguageConfiguration:function(A,l){let h=Ji.modeService.get().getLanguageIdentifier(A);if(!h)throw new Error(`Cannot set configuration for unknown language ${A}`);return Kt.zu.register(h,l,100)},setColorMap:function(A){if(A){const l=[null];for(let h=1,D=A.length;h<D;h++)l[h]=Gr.Il.fromHex(A[h]);Ji.standaloneThemeService.get().setColorMapOverride(l)}else Ji.standaloneThemeService.get().setColorMapOverride(null)},setTokensProvider:function(A,l){let h=Ji.modeService.get().getLanguageIdentifier(A);if(!h)throw new Error(`Cannot set tokens provider for unknown language ${A}`);const D=Q=>function(A){return"tokenizeEncoded"in A}(Q)?new Sm(h,Q):new gd(Ji.standaloneThemeService.get(),h,Q);return Em(l)?Nt.RW.registerPromise(A,l.then(Q=>D(Q))):Nt.RW.register(A,D(l))},setMonarchTokensProvider:function(A,l){const h=D=>function(A,l,h,D){return new Gn(A,l,h,D)}(Ji.modeService.get(),Ji.standaloneThemeService.get(),A,function(A,l){if(!l||"object"!=typeof l)throw new Error("Monarch: expecting a language definition object");let h={};h.languageId=A,h.includeLF=qa(l.includeLF,!1),h.noThrow=!1,h.maxStack=100,h.start="string"==typeof l.start?l.start:null,h.ignoreCase=qa(l.ignoreCase,!1),h.unicode=qa(l.unicode,!1),h.tokenPostfix=Cf(l.tokenPostfix,"."+h.languageId),h.defaultToken=Cf(l.defaultToken,"source"),h.usesEmbedded=!1;let D=l;function Q(Se,He,ct){for(const It of ct){let Ot=It.include;if(Ot){if("string"!=typeof Ot)throw oi(h,"an 'include' attribute must be a string at: "+Se);if("@"===Ot[0]&&(Ot=Ot.substr(1)),!l.tokenizer[Ot])throw oi(h,"include target '"+Ot+"' is not defined at: "+Se);Q(Se+"."+Ot,He,l.tokenizer[Ot])}else{const ln=new nS(Se);if(Array.isArray(It)&&It.length>=1&&It.length<=3)if(ln.setRegex(D,It[0]),It.length>=3)if("string"==typeof It[1])ln.setAction(D,{token:It[1],next:It[2]});else{if("object"!=typeof It[1])throw oi(h,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+Se);{const xn=It[1];xn.next=It[2],ln.setAction(D,xn)}}else ln.setAction(D,It[1]);else{if(!It.regex)throw oi(h,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+Se);It.name&&"string"==typeof It.name&&(ln.name=It.name),It.matchOnlyAtStart&&(ln.matchOnlyAtLineStart=qa(It.matchOnlyAtLineStart,!1)),ln.setRegex(D,It.regex),ln.setAction(D,It.action)}He.push(ln)}}}if(D.languageId=A,D.includeLF=h.includeLF,D.ignoreCase=h.ignoreCase,D.unicode=h.unicode,D.noThrow=h.noThrow,D.usesEmbedded=h.usesEmbedded,D.stateNames=l.tokenizer,D.defaultToken=h.defaultToken,!l.tokenizer||"object"!=typeof l.tokenizer)throw oi(h,"a language definition must define the 'tokenizer' attribute as an object");h.tokenizer=[];for(let Se in l.tokenizer)if(l.tokenizer.hasOwnProperty(Se)){h.start||(h.start=Se);const He=l.tokenizer[Se];h.tokenizer[Se]=new Array,Q("tokenizer."+Se,h.tokenizer[Se],He)}if(h.usesEmbedded=D.usesEmbedded,l.brackets){if(!Array.isArray(l.brackets))throw oi(h,"the 'brackets' attribute must be defined as an array")}else l.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];let te=[];for(let Se of l.brackets){let He=Se;if(He&&Array.isArray(He)&&3===He.length&&(He={token:He[2],open:He[0],close:He[1]}),He.open===He.close)throw oi(h,"open and close brackets in a 'brackets' attribute must be different: "+He.open+"\n hint: use the 'bracket' attribute if matching on equal brackets is required.");if("string"!=typeof He.open||"string"!=typeof He.token||"string"!=typeof He.close)throw oi(h,"every element in the 'brackets' array must be a '{open,close,token}' object or array");te.push({token:He.token+h.tokenPostfix,open:On(h,He.open),close:On(h,He.close)})}return h.brackets=te,h.noThrow=!0,h}(A,D));return Em(l)?Nt.RW.registerPromise(A,l.then(D=>h(D))):Nt.RW.register(A,h(l))},registerReferenceProvider:function(A,l){return Nt.FL.register(A,l)},registerRenameProvider:function(A,l){return Nt.G0.register(A,l)},registerCompletionItemProvider:function(A,l){return Nt.KZ.register(A,l)},registerSignatureHelpProvider:function(A,l){return Nt.nD.register(A,l)},registerHoverProvider:function(A,l){return Nt.xp.register(A,{provideHover:(h,D,Q)=>{let te=h.getWordAtPosition(D);return Promise.resolve(l.provideHover(h,D,Q)).then(Se=>{if(Se)return!Se.range&&te&&(Se.range=new B.e(D.lineNumber,te.startColumn,D.lineNumber,te.endColumn)),Se.range||(Se.range=new B.e(D.lineNumber,D.column,D.lineNumber,D.column)),Se})}})},registerDocumentSymbolProvider:function(A,l){return Nt.vJ.register(A,l)},registerDocumentHighlightProvider:function(A,l){return Nt.vH.register(A,l)},registerLinkedEditingRangeProvider:function(A,l){return Nt.id.register(A,l)},registerDefinitionProvider:function(A,l){return Nt.Ct.register(A,l)},registerImplementationProvider:function(A,l){return Nt.vI.register(A,l)},registerTypeDefinitionProvider:function(A,l){return Nt.tA.register(A,l)},registerCodeLensProvider:function(A,l){return Nt.He.register(A,l)},registerCodeActionProvider:function(A,l){return Nt.H9.register(A,{provideCodeActions:(h,D,Q,te)=>{let Se=Ji.markerService.get().read({resource:h.uri}).filter(He=>B.e.areIntersectingOrTouching(He,D));return l.provideCodeActions(h,D,{markers:Se,only:Q.only},te)}})},registerDocumentFormattingEditProvider:function(A,l){return Nt.Az.register(A,l)},registerDocumentRangeFormattingEditProvider:function(A,l){return Nt.vN.register(A,l)},registerOnTypeFormattingEditProvider:function(A,l){return Nt.ln.register(A,l)},registerLinkProvider:function(A,l){return Nt.pM.register(A,l)},registerColorProvider:function(A,l){return Nt.OH.register(A,l)},registerFoldingRangeProvider:function(A,l){return Nt.aC.register(A,l)},registerDeclarationProvider:function(A,l){return Nt.RN.register(A,l)},registerSelectionRangeProvider:function(A,l){return Nt.AC.register(A,l)},registerDocumentSemanticTokensProvider:function(A,l){return Nt.wT.register(A,l)},registerDocumentRangeSemanticTokensProvider:function(A,l){return Nt.K7.register(A,l)},registerInlineCompletionsProvider:function(A,l){return Nt.zu.register(A,l)},registerInlayHintsProvider:function(A,l){return Nt.mX.register(A,l)},DocumentHighlightKind:v,CompletionItemKind:b,CompletionItemTag:I,CompletionItemInsertTextRule:g,SymbolKind:ne,SymbolTag:he,IndentAction:L,CompletionTriggerKind:p,SignatureHelpTriggerKind:K,InlayHintKind:F,InlineCompletionTriggerKind:G,FoldingRangeKind:Nt.AD};const Jv=Mo.Emitter,xf=Mo.Range,uS=Mo.MarkerSeverity,Tm=Mo.MarkerTag,xu=Mo.Uri,tC=Mo.editor,Br=Mo.languages;((null===(Lu=Rt.li.MonacoEnvironment)||void 0===Lu?void 0:Lu.globalAPI)||"function"==typeof define&&a.amdO)&&(self.monaco=Mo),void 0!==self.require&&"function"==typeof self.require.config&&self.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]})},5812:(Ct,Qe,a)=>{"use strict";a.d(Qe,{editor:()=>O.editor,languages:()=>O.languages}),a(9748),a(9984),a(121);var O=a(1347),k=a(4134),R=function(){function at(Et,Lt,Pt){this._onDidChange=new k.Q5,this._languageId=Et,this.setOptions(Lt),this.setModeConfiguration(Pt)}return Object.defineProperty(at.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(at.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(at.prototype,"options",{get:function(){return this._options},enumerable:!1,configurable:!0}),Object.defineProperty(at.prototype,"modeConfiguration",{get:function(){return this._modeConfiguration},enumerable:!1,configurable:!0}),at.prototype.setOptions=function(Et){this._options=Et||Object.create(null),this._onDidChange.fire(this)},at.prototype.setModeConfiguration=function(Et){this._modeConfiguration=Et||Object.create(null),this._onDidChange.fire(this)},at}(),C={format:{tabSize:4,insertSpaces:!1,wrapLineLength:120,unformatted:'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',contentUnformatted:"pre",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:null,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"},suggest:{},data:{useDefaultDataProvider:!0}};function g(at){return{completionItems:!0,hovers:!0,documentSymbols:!0,links:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,selectionRanges:!0,diagnostics:at===b,documentFormattingEdits:at===b,documentRangeFormattingEdits:at===b}}var b="html",I="handlebars",p="razor",w=m(b,C,g(b)),E=w.defaults,S=m(I,C,g(I)),v=S.defaults,M=m(p,C,g(p));function m(at,Et,Lt){var Pt=this;void 0===Et&&(Et=C),void 0===Lt&&(Lt=g(at));var Kt,on=new R(at,Et,Lt),bn=k.Mj.onLanguage(at,function(){return function(at,Et,Lt,Pt){return new(Lt||(Lt=Promise))(function(Kt,bn){function yn(zn){try{Un(Pt.next(zn))}catch(ci){bn(ci)}}function jn(zn){try{Un(Pt.throw(zn))}catch(ci){bn(ci)}}function Un(zn){zn.done?Kt(zn.value):function(Kt){return Kt instanceof Lt?Kt:new Lt(function(bn){bn(Kt)})}(zn.value).then(yn,jn)}Un((Pt=Pt.apply(at,Et||[])).next())})}(Pt,void 0,void 0,function(){return function(at,Et){var Pt,on,Kt,bn,Lt={label:0,sent:function(){if(1&Kt[0])throw Kt[1];return Kt[1]},trys:[],ops:[]};return bn={next:yn(0),throw:yn(1),return:yn(2)},"function"==typeof Symbol&&(bn[Symbol.iterator]=function(){return this}),bn;function yn(Un){return function(zn){return function(Un){if(Pt)throw new TypeError("Generator is already executing.");for(;Lt;)try{if(Pt=1,on&&(Kt=2&Un[0]?on.return:Un[0]?on.throw||((Kt=on.return)&&Kt.call(on),0):on.next)&&!(Kt=Kt.call(on,Un[1])).done)return Kt;switch(on=0,Kt&&(Un=[2&Un[0],Kt.value]),Un[0]){case 0:case 1:Kt=Un;break;case 4:return Lt.label++,{value:Un[1],done:!1};case 5:Lt.label++,on=Un[1],Un=[0];continue;case 7:Un=Lt.ops.pop(),Lt.trys.pop();continue;default:if(!(Kt=(Kt=Lt.trys).length>0&&Kt[Kt.length-1])&&(6===Un[0]||2===Un[0])){Lt=0;continue}if(3===Un[0]&&(!Kt||Un[1]>Kt[0]&&Un[1]<Kt[3])){Lt.label=Un[1];break}if(6===Un[0]&&Lt.label<Kt[1]){Lt.label=Kt[1],Kt=Un;break}if(Kt&&Lt.label<Kt[2]){Lt.label=Kt[2],Lt.ops.push(Un);break}Kt[2]&&Lt.ops.pop(),Lt.trys.pop();continue}Un=Et.call(at,Lt)}catch(zn){Un=[6,zn],on=0}finally{Pt=Kt=0}if(5&Un[0])throw Un[1];return{value:Un[0]?Un[1]:void 0,done:!0}}([Un,zn])}}}(this,function(yn){switch(yn.label){case 0:return[4,a.e(791).then(a.bind(a,791))];case 1:return Kt=yn.sent().setupMode(on),[2]}})})});return{defaults:on,dispose:function(){bn.dispose(),null==Kt||Kt.dispose(),Kt=void 0}}}k.Mj.html={htmlDefaults:E,razorDefaults:M.defaults,handlebarDefaults:v,htmlLanguageService:w,handlebarLanguageService:S,razorLanguageService:M,registerHTMLLanguageService:m};var L=a(6664);(0,L.H)({id:"abap",extensions:[".abap"],aliases:["abap","ABAP"],loader:function(){return a.e(75).then(a.bind(a,75))}}),(0,L.H)({id:"apex",extensions:[".cls"],aliases:["Apex","apex"],mimetypes:["text/x-apex-source","text/x-apex"],loader:function(){return a.e(1117).then(a.bind(a,1117))}}),(0,L.H)({id:"azcli",extensions:[".azcli"],aliases:["Azure CLI","azcli"],loader:function(){return a.e(6379).then(a.bind(a,6379))}}),(0,L.H)({id:"bat",extensions:[".bat",".cmd"],aliases:["Batch","bat"],loader:function(){return a.e(1763).then(a.bind(a,1763))}}),(0,L.H)({id:"bicep",extensions:[".bicep"],aliases:["Bicep"],loader:function(){return a.e(293).then(a.bind(a,293))}}),(0,L.H)({id:"cameligo",extensions:[".mligo"],aliases:["Cameligo"],loader:function(){return a.e(8415).then(a.bind(a,8415))}}),(0,L.H)({id:"clojure",extensions:[".clj",".cljs",".cljc",".edn"],aliases:["clojure","Clojure"],loader:function(){return a.e(2723).then(a.bind(a,2723))}}),(0,L.H)({id:"coffeescript",extensions:[".coffee"],aliases:["CoffeeScript","coffeescript","coffee"],mimetypes:["text/x-coffeescript","text/coffeescript"],loader:function(){return a.e(488).then(a.bind(a,488))}}),(0,L.H)({id:"c",extensions:[".c",".h"],aliases:["C","c"],loader:function(){return a.e(7569).then(a.bind(a,7569))}}),(0,L.H)({id:"cpp",extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],aliases:["C++","Cpp","cpp"],loader:function(){return a.e(7569).then(a.bind(a,7569))}}),(0,L.H)({id:"csharp",extensions:[".cs",".csx",".cake"],aliases:["C#","csharp"],loader:function(){return a.e(8917).then(a.bind(a,8917))}}),(0,L.H)({id:"csp",extensions:[],aliases:["CSP","csp"],loader:function(){return a.e(2422).then(a.bind(a,2422))}}),a(4635),(0,L.H)({id:"dart",extensions:[".dart"],aliases:["Dart","dart"],mimetypes:["text/x-dart-source","text/x-dart"],loader:function(){return a.e(1271).then(a.bind(a,1271))}}),(0,L.H)({id:"dockerfile",extensions:[".dockerfile"],filenames:["Dockerfile"],aliases:["Dockerfile"],loader:function(){return a.e(5203).then(a.bind(a,5203))}}),(0,L.H)({id:"ecl",extensions:[".ecl"],aliases:["ECL","Ecl","ecl"],loader:function(){return a.e(2344).then(a.bind(a,2344))}}),(0,L.H)({id:"elixir",extensions:[".ex",".exs"],aliases:["Elixir","elixir","ex"],loader:function(){return a.e(3042).then(a.bind(a,3042))}}),(0,L.H)({id:"fsharp",extensions:[".fs",".fsi",".ml",".mli",".fsx",".fsscript"],aliases:["F#","FSharp","fsharp"],loader:function(){return a.e(658).then(a.bind(a,658))}}),(0,L.H)({id:"go",extensions:[".go"],aliases:["Go"],loader:function(){return a.e(2067).then(a.bind(a,2067))}}),(0,L.H)({id:"graphql",extensions:[".graphql",".gql"],aliases:["GraphQL","graphql","gql"],mimetypes:["application/graphql"],loader:function(){return a.e(9407).then(a.bind(a,9407))}}),(0,L.H)({id:"handlebars",extensions:[".handlebars",".hbs"],aliases:["Handlebars","handlebars","hbs"],mimetypes:["text/x-handlebars-template"],loader:function(){return a.e(7605).then(a.bind(a,7605))}}),(0,L.H)({id:"hcl",extensions:[".tf",".tfvars",".hcl"],aliases:["Terraform","tf","HCL","hcl"],loader:function(){return a.e(1373).then(a.bind(a,1373))}}),(0,L.H)({id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template","text/ng-template"],loader:function(){return a.e(2236).then(a.bind(a,2236))}}),(0,L.H)({id:"ini",extensions:[".ini",".properties",".gitconfig"],filenames:["config",".gitattributes",".gitconfig",".editorconfig"],aliases:["Ini","ini"],loader:function(){return a.e(2215).then(a.bind(a,2215))}}),(0,L.H)({id:"java",extensions:[".java",".jav"],aliases:["Java","java"],mimetypes:["text/x-java-source","text/x-java"],loader:function(){return a.e(8369).then(a.bind(a,8369))}}),(0,L.H)({id:"javascript",extensions:[".js",".es6",".jsx",".mjs"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:function(){return Promise.all([a.e(8592),a.e(4078)]).then(a.bind(a,4078))}}),(0,L.H)({id:"julia",extensions:[".jl"],aliases:["julia","Julia"],loader:function(){return a.e(9255).then(a.bind(a,9255))}}),(0,L.H)({id:"kotlin",extensions:[".kt"],aliases:["Kotlin","kotlin"],mimetypes:["text/x-kotlin-source","text/x-kotlin"],loader:function(){return a.e(9801).then(a.bind(a,9801))}}),(0,L.H)({id:"less",extensions:[".less"],aliases:["Less","less"],mimetypes:["text/x-less","text/less"],loader:function(){return a.e(4860).then(a.bind(a,4860))}}),(0,L.H)({id:"lexon",extensions:[".lex"],aliases:["Lexon"],loader:function(){return a.e(2359).then(a.bind(a,2359))}}),(0,L.H)({id:"lua",extensions:[".lua"],aliases:["Lua","lua"],loader:function(){return a.e(8034).then(a.bind(a,8034))}}),(0,L.H)({id:"liquid",extensions:[".liquid",".html.liquid"],aliases:["Liquid","liquid"],mimetypes:["application/liquid"],loader:function(){return a.e(3202).then(a.bind(a,3202))}}),(0,L.H)({id:"m3",extensions:[".m3",".i3",".mg",".ig"],aliases:["Modula-3","Modula3","modula3","m3"],loader:function(){return a.e(4314).then(a.bind(a,4314))}}),(0,L.H)({id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],aliases:["Markdown","markdown"],loader:function(){return a.e(9692).then(a.bind(a,9692))}}),(0,L.H)({id:"mips",extensions:[".s"],aliases:["MIPS","MIPS-V"],mimetypes:["text/x-mips","text/mips","text/plaintext"],loader:function(){return a.e(8629).then(a.bind(a,8629))}}),(0,L.H)({id:"msdax",extensions:[".dax",".msdax"],aliases:["DAX","MSDAX"],loader:function(){return a.e(8184).then(a.bind(a,8184))}}),(0,L.H)({id:"mysql",extensions:[],aliases:["MySQL","mysql"],loader:function(){return a.e(9197).then(a.bind(a,9197))}}),(0,L.H)({id:"objective-c",extensions:[".m"],aliases:["Objective-C"],loader:function(){return a.e(4502).then(a.bind(a,4502))}}),(0,L.H)({id:"pascal",extensions:[".pas",".p",".pp"],aliases:["Pascal","pas"],mimetypes:["text/x-pascal-source","text/x-pascal"],loader:function(){return a.e(42).then(a.bind(a,42))}}),(0,L.H)({id:"pascaligo",extensions:[".ligo"],aliases:["Pascaligo","ligo"],loader:function(){return a.e(9105).then(a.bind(a,9105))}}),(0,L.H)({id:"perl",extensions:[".pl"],aliases:["Perl","pl"],loader:function(){return a.e(3231).then(a.bind(a,3231))}}),(0,L.H)({id:"pgsql",extensions:[],aliases:["PostgreSQL","postgres","pg","postgre"],loader:function(){return a.e(4454).then(a.bind(a,4454))}}),(0,L.H)({id:"php",extensions:[".php",".php4",".php5",".phtml",".ctp"],aliases:["PHP","php"],mimetypes:["application/x-php"],loader:function(){return a.e(5360).then(a.bind(a,5518))}}),(0,L.H)({id:"postiats",extensions:[".dats",".sats",".hats"],aliases:["ATS","ATS/Postiats"],loader:function(){return a.e(4979).then(a.bind(a,4979))}}),(0,L.H)({id:"powerquery",extensions:[".pq",".pqm"],aliases:["PQ","M","Power Query","Power Query M"],loader:function(){return a.e(1226).then(a.bind(a,1226))}}),(0,L.H)({id:"powershell",extensions:[".ps1",".psm1",".psd1"],aliases:["PowerShell","powershell","ps","ps1"],loader:function(){return a.e(1404).then(a.bind(a,1404))}}),(0,L.H)({id:"pug",extensions:[".jade",".pug"],aliases:["Pug","Jade","jade"],loader:function(){return a.e(4114).then(a.bind(a,4114))}}),(0,L.H)({id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"],aliases:["Python","py"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",loader:function(){return a.e(28).then(a.bind(a,28))}}),(0,L.H)({id:"qsharp",extensions:[".qs"],aliases:["Q#","qsharp"],loader:function(){return a.e(252).then(a.bind(a,252))}}),(0,L.H)({id:"r",extensions:[".r",".rhistory",".rmd",".rprofile",".rt"],aliases:["R","r"],loader:function(){return a.e(3855).then(a.bind(a,3855))}}),(0,L.H)({id:"razor",extensions:[".cshtml"],aliases:["Razor","razor"],mimetypes:["text/x-cshtml"],loader:function(){return a.e(5843).then(a.bind(a,5843))}}),(0,L.H)({id:"redis",extensions:[".redis"],aliases:["redis"],loader:function(){return a.e(2126).then(a.bind(a,2126))}}),(0,L.H)({id:"redshift",extensions:[],aliases:["Redshift","redshift"],loader:function(){return a.e(921).then(a.bind(a,921))}}),(0,L.H)({id:"restructuredtext",extensions:[".rst"],aliases:["reStructuredText","restructuredtext"],loader:function(){return a.e(1725).then(a.bind(a,1725))}}),(0,L.H)({id:"ruby",extensions:[".rb",".rbx",".rjs",".gemspec",".pp"],filenames:["rakefile","Gemfile"],aliases:["Ruby","rb"],loader:function(){return a.e(8059).then(a.bind(a,8059))}}),(0,L.H)({id:"rust",extensions:[".rs",".rlib"],aliases:["Rust","rust"],loader:function(){return a.e(6750).then(a.bind(a,6750))}}),(0,L.H)({id:"sb",extensions:[".sb"],aliases:["Small Basic","sb"],loader:function(){return a.e(291).then(a.bind(a,291))}}),(0,L.H)({id:"scala",extensions:[".scala",".sc",".sbt"],aliases:["Scala","scala","SBT","Sbt","sbt","Dotty","dotty"],mimetypes:["text/x-scala-source","text/x-scala","text/x-sbt","text/x-dotty"],loader:function(){return a.e(1113).then(a.bind(a,1113))}}),(0,L.H)({id:"scheme",extensions:[".scm",".ss",".sch",".rkt"],aliases:["scheme","Scheme"],loader:function(){return a.e(8320).then(a.bind(a,8320))}}),(0,L.H)({id:"scss",extensions:[".scss"],aliases:["Sass","sass","scss"],mimetypes:["text/x-scss","text/scss"],loader:function(){return a.e(3512).then(a.bind(a,3512))}}),(0,L.H)({id:"shell",extensions:[".sh",".bash"],aliases:["Shell","sh"],loader:function(){return a.e(3955).then(a.bind(a,3955))}}),(0,L.H)({id:"sol",extensions:[".sol"],aliases:["sol","solidity","Solidity"],loader:function(){return a.e(7946).then(a.bind(a,7946))}}),(0,L.H)({id:"aes",extensions:[".aes"],aliases:["aes","sophia","Sophia"],loader:function(){return a.e(1247).then(a.bind(a,1247))}}),(0,L.H)({id:"sparql",extensions:[".rq"],aliases:["sparql","SPARQL"],loader:function(){return a.e(5541).then(a.bind(a,5541))}}),(0,L.H)({id:"sql",extensions:[".sql"],aliases:["SQL"],loader:function(){return a.e(2747).then(a.bind(a,2747))}}),(0,L.H)({id:"st",extensions:[".st",".iecst",".iecplc",".lc3lib"],aliases:["StructuredText","scl","stl"],loader:function(){return a.e(5990).then(a.bind(a,5990))}}),(0,L.H)({id:"swift",aliases:["Swift","swift"],extensions:[".swift"],mimetypes:["text/swift"],loader:function(){return a.e(8654).then(a.bind(a,8654))}}),(0,L.H)({id:"systemverilog",extensions:[".sv",".svh"],aliases:["SV","sv","SystemVerilog","systemverilog"],loader:function(){return a.e(4266).then(a.bind(a,4266))}}),(0,L.H)({id:"verilog",extensions:[".v",".vh"],aliases:["V","v","Verilog","verilog"],loader:function(){return a.e(4266).then(a.bind(a,4266))}}),(0,L.H)({id:"tcl",extensions:[".tcl"],aliases:["tcl","Tcl","tcltk","TclTk","tcl/tk","Tcl/Tk"],loader:function(){return a.e(8675).then(a.bind(a,8675))}}),(0,L.H)({id:"twig",extensions:[".twig"],aliases:["Twig","twig"],mimetypes:["text/x-twig"],loader:function(){return a.e(7323).then(a.bind(a,7323))}}),(0,L.H)({id:"typescript",extensions:[".ts",".tsx"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:function(){return a.e(8592).then(a.bind(a,4895))}}),(0,L.H)({id:"vb",extensions:[".vb"],aliases:["Visual Basic","vb"],loader:function(){return a.e(491).then(a.bind(a,491))}}),a(940),a(5477),a(6502),a(3741),a(5212),a(3099),a(1485),a(8337),a(1960),a(5818),a(6063),a(1785),a(6778),a(2047),a(8864),a(8754),a(7180),a(3026),a(9638),a(6856),a(6599),a(9338),a(5082),a(4608),a(1667),a(5220),a(4891),a(33),a(4448),a(1808),a(2287),a(1500),a(8612),a(1627),a(2974),a(1656),a(7394),a(8845),a(1079),a(426);var Le=a(1606),dt=a(4482),_t=a(2329);(0,dt.Qr)(class extends dt.R6{constructor(){super({id:"editor.action.forceRetokenize",label:Le.N("forceRetokenize","Developer: Force Retokenize"),alias:"Developer: Force Retokenize",precondition:void 0})}run(Et,Lt){if(!Lt.hasModel())return;const Pt=Lt.getModel();Pt.resetTokenization();const on=new _t.G(!0);Pt.forceTokenization(Pt.getLineCount()),on.stop(),console.log(`tokenization took ${on.elapsed()}`)}}),a(9007),a(8479),a(9170),a(660),a(3392),a(5016),a(4598),a(9461),a(3776),a(6545),a(4535),a(6486),a(7883),a(9887),a(7850),a(8827),a(1409)},176:Ct=>{"use strict";Ct.exports="/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n\r\n.monaco-action-bar {\r\n\twhite-space: nowrap;\r\n\theight: 100%;\r\n}\r\n\r\n.monaco-action-bar .actions-container {\r\n\tdisplay: flex;\r\n\tmargin: 0 auto;\r\n\tpadding: 0;\r\n\theight: 100%;\r\n\twidth: 100%;\r\n\talign-items: center;\r\n}\r\n\r\n.monaco-action-bar.vertical .actions-container {\r\n\tdisplay: inline-block;\r\n}\r\n\r\n.monaco-action-bar .action-item {\r\n\tdisplay: block;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n\tcursor: pointer;\r\n\tposition: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */\r\n}\r\n\r\n.monaco-action-bar .action-item.disabled {\r\n\tcursor: default;\r\n}\r\n\r\n.monaco-action-bar .action-item .icon,\r\n.monaco-action-bar .action-item .codicon {\r\n\tdisplay: block;\r\n}\r\n\r\n.monaco-action-bar .action-item .codicon {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\twidth: 16px;\r\n\theight: 16px;\r\n}\r\n\r\n.monaco-action-bar .action-label {\r\n\tfont-size: 11px;\r\n\tpadding: 3px;\r\n\tborder-radius: 5px;\r\n}\r\n\r\n.monaco-action-bar .action-item.disabled .action-label,\r\n.monaco-action-bar .action-item.disabled .action-label::before,\r\n.monaco-action-bar .action-item.disabled .action-label:hover {\r\n\topacity: 0.4;\r\n}\r\n\r\n/* Vertical actions */\r\n\r\n.monaco-action-bar.vertical {\r\n\ttext-align: left;\r\n}\r\n\r\n.monaco-action-bar.vertical .action-item {\r\n\tdisplay: block;\r\n}\r\n\r\n.monaco-action-bar.vertical .action-label.separator {\r\n\tdisplay: block;\r\n\tborder-bottom: 1px solid #bbb;\r\n\tpadding-top: 1px;\r\n\tmargin-left: .8em;\r\n\tmargin-right: .8em;\r\n}\r\n\r\n.monaco-action-bar .action-item .action-label.separator {\r\n\twidth: 1px;\r\n\theight: 16px;\r\n\tmargin: 5px 4px !important;\r\n\tcursor: default;\r\n\tmin-width: 1px;\r\n\tpadding: 0;\r\n\tbackground-color: #bbb;\r\n}\r\n\r\n.secondary-actions .monaco-action-bar .action-label {\r\n\tmargin-left: 6px;\r\n}\r\n\r\n/* Action Items */\r\n\r\n.monaco-action-bar .action-item.select-container {\r\n\toverflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */\r\n\tflex: 1;\r\n\tmax-width: 170px;\r\n\tmin-width: 60px;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n\tmargin-right: 10px;\r\n}\r\n\r\n.monaco-action-bar .action-item.action-dropdown-item {\r\n\tdisplay: flex;\r\n}\r\n\r\n.monaco-action-bar .action-item.action-dropdown-item > .action-label {\r\n\tmargin-right: 1px;\r\n}\r\n"},4686:Ct=>{"use strict";Ct.exports="/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n\r\n.monaco-aria-container {\r\n\tposition: absolute; /* try to hide from window but not from screen readers */\r\n\tleft:-999em;\r\n}"},8883:Ct=>{"use strict";Ct.exports="/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n\r\n.monaco-text-button {\r\n\tbox-sizing: border-box;\r\n\tdisplay: flex;\r\n\twidth: 100%;\r\n\tpadding: 4px;\r\n\ttext-align: center;\r\n\tcursor: pointer;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n}\r\n\r\n.monaco-text-button:focus {\r\n\toutline-offset: 2px !important;\r\n}\r\n\r\n.monaco-text-button:hover {\r\n\ttext-decoration: none !important;\r\n}\r\n\r\n.monaco-button.disabled:focus,\r\n.monaco-button.disabled {\r\n\topacity: 0.4 !important;\r\n\tcursor: default;\r\n}\r\n\r\n.monaco-text-button > .codicon {\r\n\tmargin: 0 0.2em;\r\n\tcolor: inherit !important;\r\n}\r\n\r\n.monaco-button-dropdown {\r\n\tdisplay: flex;\r\n\tcursor: pointer;\r\n}\r\n\r\n.monaco-button-dropdown > .monaco-dropdown-button {\r\n\tmargin-left: 1px;\r\n}\r\n\r\n.monaco-description-button {\r\n\tflex-direction: column;\r\n}\r\n\r\n.monaco-description-button .monaco-button-label {\r\n\tfont-weight: 500;\r\n}\r\n\r\n.monaco-description-button .monaco-button-description {\r\n\tfont-style: italic;\r\n}\r\n"},8110:Ct=>{"use strict";Ct.exports="/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n\r\n.monaco-custom-checkbox {\r\n\tmargin-left: 2px;\r\n\tfloat: left;\r\n\tcursor: pointer;\r\n\toverflow: hidden;\r\n\topacity: 0.7;\r\n\twidth: 20px;\r\n\theight: 20px;\r\n\tborder: 1px solid transparent;\r\n\tpadding: 1px;\r\n\tbox-sizing:\tborder-box;\r\n\tuser-select: none;\r\n\t-webkit-user-select: none;\r\n\t-ms-user-select: none;\r\n}\r\n\r\n.monaco-custom-checkbox:hover,\r\n.monaco-custom-checkbox.checked {\r\n\topacity: 1;\r\n}\r\n\r\n.hc-black .monaco-custom-checkbox {\r\n\tbackground: none;\r\n}\r\n\r\n.hc-black .monaco-custom-checkbox:hover {\r\n\tbackground: none;\r\n}\r\n\r\n.monaco-custom-checkbox.monaco-simple-checkbox {\r\n\theight: 18px;\r\n\twidth: 18px;\r\n\tborder: 1px solid transparent;\r\n\tborder-radius: 3px;\r\n\tmargin-right: 9px;\r\n\tmargin-left: 0px;\r\n\tpadding: 0px;\r\n\topacity: 1;\r\n\tbackground-size: 16px !important;\r\n}\r\n\r\n/* hide check when unchecked */\r\n\r\n.monaco-custom-checkbox.monaco-simple-checkbox:not(.checked)::before {\r\n\tvisibility: hidden;\r\n}\r\n"},2565:Ct=>{"use strict";Ct.exports="/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n\r\n.codicon-wrench-subaction {\r\n\topacity: 0.5;\r\n}\r\n\r\n@keyframes codicon-spin {\r\n\t100% {\r\n\t\ttransform:rotate(360deg);\r\n\t}\r\n}\r\n\r\n.codicon-sync.codicon-modifier-spin,\r\n.codicon-loading.codicon-modifier-spin,\r\n.codicon-gear.codicon-modifier-spin,\r\n.codicon-notebook-state-executing.codicon-modifier-spin {\r\n\t/* Use steps to throttle FPS to reduce CPU usage */\r\n\tanimation: codicon-spin 1.5s steps(30) infinite;\r\n}\r\n\r\n.codicon-modifier-disabled {\r\n\topacity: 0.4;\r\n}\r\n\r\n/* custom speed & easing for loading icon */\r\n\r\n.codicon-loading,\r\n.codicon-tree-item-loading::before {\r\n\tanimation-duration: 1s !important;\r\n\tanimation-timing-function: cubic-bezier(0.53, 0.21, 0.29, 0.67) !important;\r\n}\r\n"},6377:Ct=>{"use strict";Ct.exports="/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n\r\n@font-face {\r\n\tfont-family: \"codicon\";\r\n\tsrc: url('codicon.00aa018e3ae78d50160b.ttf') format(\"truetype\");\r\n}\r\n\r\n.codicon[class*='codicon-'] {\r\n\tfont: normal normal normal 16px/1 codicon;\r\n\tdisplay: inline-block;\r\n\ttext-decoration: none;\r\n\ttext-rendering: auto;\r\n\ttext-align: center;\r\n\t-webkit-font-smoothing: antialiased;\r\n\t-moz-osx-font-smoothing: grayscale;\r\n\tuser-select: none;\r\n\t-webkit-user-select: none;\r\n\t-ms-user-select: none;\r\n}\r\n\r\n/* icon rules are dynamically created in codiconStyles */\r\n"},9498:Ct=>{"use strict";Ct.exports="/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n\r\n.context-view {\r\n\tposition: absolute;\r\n\tz-index: 2500;\r\n}\r\n\r\n.context-view.fixed {\r\n\tall: initial;\r\n\tfont-family: inherit;\r\n\tfont-size: 13px;\r\n\tposition: fixed;\r\n\tz-index: 2500;\r\n\tcolor: inherit;\r\n}\r\n"},1512:Ct=>{"use strict";Ct.exports="/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n\r\n.monaco-count-badge {\r\n\tpadding: 3px 6px;\r\n\tborder-radius: 11px;\r\n\tfont-size: 11px;\r\n\tmin-width: 18px;\r\n\tmin-height: 18px;\r\n\tline-height: 11px;\r\n\tfont-weight: normal;\r\n\ttext-align: center;\r\n\tdisplay: inline-block;\r\n\tbox-sizing: border-box;\r\n}\r\n\r\n.monaco-count-badge.long {\r\n\tpadding: 2px 3px;\r\n\tborder-radius: 2px;\r\n\tmin-height: auto;\r\n\tline-height: normal;\r\n}\r\n"},8712:Ct=>{"use strict";Ct.exports="/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n\r\n.monaco-dropdown {\r\n\theight: 100%;\r\n\tpadding: 0;\r\n}\r\n\r\n.monaco-dropdown > .dropdown-label {\r\n\tcursor: pointer;\r\n\theight: 100%;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n}\r\n\r\n.monaco-dropdown > .dropdown-label > .action-label.disabled {\r\n\tcursor: default;\r\n}\r\n\r\n.monaco-dropdown-with-primary {\r\n\tdisplay: flex !important;\r\n\tflex-direction: row;\r\n\tborder-radius: 5px;\r\n}\r\n\r\n.monaco-dropdown-with-primary > .action-container > .action-label {\r\n\tmargin-right: 0;\r\n}\r\n\r\n.monaco-dropdown-with-primary > .dropdown-action-container > .monaco-dropdown > .dropdown-label .codicon[class*='codicon-'] {\r\n\tfont-size: 12px;\r\n\tpadding-left: 0px;\r\n\tpadding-right: 0px;\r\n\tline-height: 16px;\r\n\tmargin-left: -4px;\r\n}\r\n\r\n.monaco-dropdown-with-primary > .dropdown-action-container > .monaco-dropdown > .dropdown-label > .action-label {\r\n\tdisplay: block;\r\n\tbackground-size: 16px;\r\n\tbackground-position: center center;\r\n\tbackground-repeat: no-repeat;\r\n}\r\n"},1968:Ct=>{"use strict";Ct.exports="/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n/* ---------- Find input ---------- */\r\n.monaco-findInput {\r\n\tposition: relative;\r\n}\r\n.monaco-findInput .monaco-inputbox {\r\n\tfont-size: 13px;\r\n\twidth: 100%;\r\n}\r\n.monaco-findInput > .controls {\r\n\tposition: absolute;\r\n\ttop: 3px;\r\n\tright: 2px;\r\n}\r\n.vs .monaco-findInput.disabled {\r\n\tbackground-color: #E1E1E1;\r\n}\r\n/* Theming */\r\n.vs-dark .monaco-findInput.disabled {\r\n\tbackground-color: #333;\r\n}\r\n/* Highlighting */\r\n.monaco-findInput.highlight-0 .controls {\r\n\tanimation: monaco-findInput-highlight-0 100ms linear 0s;\r\n}\r\n.monaco-findInput.highlight-1 .controls {\r\n\tanimation: monaco-findInput-highlight-1 100ms linear 0s;\r\n}\r\n.hc-black .monaco-findInput.highlight-0 .controls,\r\n.vs-dark  .monaco-findInput.highlight-0 .controls {\r\n\tanimation: monaco-findInput-highlight-dark-0 100ms linear 0s;\r\n}\r\n.hc-black .monaco-findInput.highlight-1 .controls,\r\n.vs-dark  .monaco-findInput.highlight-1 .controls {\r\n\tanimation: monaco-findInput-highlight-dark-1 100ms linear 0s;\r\n}\r\n@keyframes monaco-findInput-highlight-0 {\r\n\t0% { background: rgba(253, 255, 0, 0.8); }\r\n\t100% { background: transparent; }\r\n}\r\n@keyframes monaco-findInput-highlight-1 {\r\n\t0% { background: rgba(253, 255, 0, 0.8); }\r\n\t/* Made intentionally different such that the CSS minifier does not collapse the two animations into a single one*/\r\n\t99% { background: transparent; }\r\n}\r\n@keyframes monaco-findInput-highlight-dark-0 {\r\n\t0% { background: rgba(255, 255, 255, 0.44); }\r\n\t100% { background: transparent; }\r\n}\r\n@keyframes monaco-findInput-highlight-dark-1 {\r\n\t0% { background: rgba(255, 255, 255, 0.44); }\r\n\t/* Made intentionally different such that the CSS minifier does not collapse the two animations into a single one*/\r\n\t99% { background: transparent; }\r\n}"},9920:Ct=>{"use strict";Ct.exports="/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n\r\n.monaco-hover {\r\n\tcursor: default;\r\n\tposition: absolute;\r\n\toverflow: hidden;\r\n\tz-index: 50;\r\n\tuser-select: text;\r\n\t-webkit-user-select: text;\r\n\t-ms-user-select: text;\r\n\tbox-sizing: initial;\r\n\tanimation: fadein 100ms linear;\r\n\tline-height: 1.5em;\r\n}\r\n\r\n.monaco-hover.hidden {\r\n\tdisplay: none;\r\n}\r\n\r\n.monaco-hover .hover-contents {\r\n\tpadding: 4px 8px;\r\n}\r\n\r\n.monaco-hover .markdown-hover > .hover-contents:not(.code-hover-contents) {\r\n\tmax-width: 500px;\r\n\tword-wrap: break-word;\r\n}\r\n\r\n.monaco-hover .markdown-hover > .hover-contents:not(.code-hover-contents) hr {\r\n\tmin-width: 100%;\r\n}\r\n\r\n.monaco-hover p,\r\n.monaco-hover .code,\r\n.monaco-hover ul {\r\n\tmargin: 8px 0;\r\n}\r\n\r\n.monaco-hover code {\r\n\tfont-family: var(--monaco-monospace-font);\r\n}\r\n\r\n.monaco-hover hr {\r\n\tbox-sizing: border-box;\r\n\tborder-left: 0px;\r\n\tborder-right: 0px;\r\n\tmargin-top: 4px;\r\n\tmargin-bottom: -4px;\r\n\tmargin-left: -8px;\r\n\tmargin-right: -8px;\r\n\theight: 1px;\r\n}\r\n\r\n.monaco-hover p:first-child,\r\n.monaco-hover .code:first-child,\r\n.monaco-hover ul:first-child {\r\n\tmargin-top: 0;\r\n}\r\n\r\n.monaco-hover p:last-child,\r\n.monaco-hover .code:last-child,\r\n.monaco-hover ul:last-child {\r\n\tmargin-bottom: 0;\r\n}\r\n\r\n/* MarkupContent Layout */\r\n\r\n.monaco-hover ul {\r\n\tpadding-left: 20px;\r\n}\r\n\r\n.monaco-hover ol {\r\n\tpadding-left: 20px;\r\n}\r\n\r\n.monaco-hover li > p {\r\n\tmargin-bottom: 0;\r\n}\r\n\r\n.monaco-hover li > ul {\r\n\tmargin-top: 0;\r\n}\r\n\r\n.monaco-hover code {\r\n\tborder-radius: 3px;\r\n\tpadding: 0 0.4em;\r\n}\r\n\r\n.monaco-hover .monaco-tokenized-source {\r\n\twhite-space: pre-wrap;\r\n}\r\n\r\n.monaco-hover .hover-row.status-bar {\r\n\tfont-size: 12px;\r\n\tline-height: 22px;\r\n}\r\n\r\n.monaco-hover .hover-row.status-bar .actions {\r\n\tdisplay: flex;\r\n\tpadding: 0px 8px;\r\n}\r\n\r\n.monaco-hover .hover-row.status-bar .actions .action-container {\r\n\tmargin-right: 16px;\r\n\tcursor: pointer;\r\n}\r\n\r\n.monaco-hover .hover-row.status-bar .actions .action-container .action .icon {\r\n\tpadding-right: 4px;\r\n}\r\n\r\n.monaco-hover .markdown-hover .hover-contents .codicon {\r\n\tcolor: inherit;\r\n\tfont-size: inherit;\r\n\tvertical-align: middle;\r\n}\r\n\r\n.monaco-hover .hover-contents a.code-link:before {\r\n\tcontent: '(';\r\n}\r\n\r\n.monaco-hover .hover-contents a.code-link:after {\r\n\tcontent: ')';\r\n}\r\n\r\n.monaco-hover .hover-contents a.code-link {\r\n\tcolor: inherit;\r\n}\r\n\r\n.monaco-hover .hover-contents a.code-link > span {\r\n\ttext-decoration: underline;\r\n\t/** Hack to force underline to show **/\r\n\tborder-bottom: 1px solid transparent;\r\n\ttext-underline-position: under;\r\n}\r\n\r\n/** Spans in markdown hovers need a margin-bottom to avoid looking cramped: https://github.com/microsoft/vscode/issues/101496 **/\r\n\r\n.monaco-hover .markdown-hover .hover-contents:not(.code-hover-contents) span {\r\n\tmargin-bottom: 4px;\r\n\tdisplay: inline-block;\r\n}\r\n\r\n.monaco-hover-content .action-container a {\r\n\t-webkit-user-select: none;\r\n\tuser-select: none;\r\n}\r\n\r\n.monaco-hover-content .action-container.disabled {\r\n\tpointer-events: none;\r\n\topacity: 0.4;\r\n\tcursor: default;\r\n}\r\n"},2396:Ct=>{"use strict";Ct.exports="/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n\r\n/* ---------- Icon label ---------- */\r\n\r\n.monaco-icon-label {\r\n\tdisplay: flex; /* required for icons support :before rule */\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n}\r\n\r\n.monaco-icon-label::before {\r\n\r\n\t/* svg icons rendered as background image */\r\n\tbackground-size: 16px;\r\n\tbackground-position: left center;\r\n\tbackground-repeat: no-repeat;\r\n\tpadding-right: 6px;\r\n\twidth: 16px;\r\n\theight: 22px;\r\n\tline-height: inherit !important;\r\n\tdisplay: inline-block;\r\n\r\n\t/* fonts icons */\r\n\t-webkit-font-smoothing: antialiased;\r\n\t-moz-osx-font-smoothing: grayscale;\r\n\tvertical-align: top;\r\n\r\n\tflex-shrink: 0; /* fix for https://github.com/microsoft/vscode/issues/13787 */\r\n}\r\n\r\n.monaco-icon-label > .monaco-icon-label-container {\r\n\tmin-width: 0;\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n\tflex: 1;\r\n}\r\n\r\n.monaco-icon-label > .monaco-icon-label-container > .monaco-icon-name-container > .label-name {\r\n\tcolor: inherit;\r\n\twhite-space: pre; /* enable to show labels that include multiple whitespaces */\r\n}\r\n\r\n.monaco-icon-label > .monaco-icon-label-container > .monaco-icon-name-container > .label-name > .label-separator {\r\n\tmargin: 0 2px;\r\n\topacity: 0.5;\r\n}\r\n\r\n.monaco-icon-label > .monaco-icon-label-container > .monaco-icon-description-container > .label-description {\r\n\topacity: .7;\r\n\tmargin-left: 0.5em;\r\n\tfont-size: 0.9em;\r\n\twhite-space: pre; /* enable to show labels that include multiple whitespaces */\r\n}\r\n\r\n.monaco-icon-label.nowrap > .monaco-icon-label-container > .monaco-icon-description-container > .label-description{\r\n\twhite-space: nowrap\r\n}\r\n\r\n.vs .monaco-icon-label > .monaco-icon-label-container > .monaco-icon-description-container > .label-description {\r\n\topacity: .95;\r\n}\r\n\r\n.monaco-icon-label.italic > .monaco-icon-label-container > .monaco-icon-name-container > .label-name,\r\n.monaco-icon-label.italic > .monaco-icon-label-container > .monaco-icon-description-container > .label-description {\r\n\tfont-style: italic;\r\n}\r\n\r\n.monaco-icon-label.deprecated {\r\n\ttext-decoration: line-through;\r\n\topacity: 0.66;\r\n}\r\n\r\n/* make sure apply italic font style to decorations as well */\r\n\r\n.monaco-icon-label.italic::after {\r\n\tfont-style: italic;\r\n}\r\n\r\n.monaco-icon-label.strikethrough > .monaco-icon-label-container > .monaco-icon-name-container > .label-name,\r\n.monaco-icon-label.strikethrough > .monaco-icon-label-container > .monaco-icon-description-container > .label-description {\r\n\ttext-decoration: line-through;\r\n}\r\n\r\n.monaco-icon-label::after {\r\n\topacity: 0.75;\r\n\tfont-size: 90%;\r\n\tfont-weight: 600;\r\n\tmargin: 0 16px 0 5px;\r\n\ttext-align: center;\r\n}\r\n\r\n/* make sure selection color wins when a label is being selected */\r\n\r\n.monaco-list:focus .selected .monaco-icon-label, /* list */\r\n.monaco-list:focus .selected .monaco-icon-label::after\r\n{\r\n\tcolor: inherit !important;\r\n}\r\n\r\n.monaco-list-row.focused.selected .label-description,\r\n.monaco-list-row.selected .label-description {\r\n\topacity: .8;\r\n}\r\n"},8210:Ct=>{"use strict";Ct.exports="/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n\r\n.monaco-inputbox {\r\n\tposition: relative;\r\n\tdisplay: block;\r\n\tpadding: 0;\r\n\tbox-sizing:\tborder-box;\r\n\r\n\t/* Customizable */\r\n\tfont-size: inherit;\r\n}\r\n\r\n.monaco-inputbox.idle {\r\n\tborder: 1px solid transparent;\r\n}\r\n\r\n.monaco-inputbox > .ibwrapper > .input,\r\n.monaco-inputbox > .ibwrapper > .mirror {\r\n\r\n\t/* Customizable */\r\n\tpadding: 4px;\r\n}\r\n\r\n.monaco-inputbox > .ibwrapper {\r\n\tposition: relative;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n}\r\n\r\n.monaco-inputbox > .ibwrapper > .input {\r\n\tdisplay: inline-block;\r\n\tbox-sizing:\tborder-box;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tline-height: inherit;\r\n\tborder: none;\r\n\tfont-family: inherit;\r\n\tfont-size: inherit;\r\n\tresize: none;\r\n\tcolor: inherit;\r\n}\r\n\r\n.monaco-inputbox > .ibwrapper > input {\r\n\ttext-overflow: ellipsis;\r\n}\r\n\r\n.monaco-inputbox > .ibwrapper > textarea.input {\r\n\tdisplay: block;\r\n\t-ms-overflow-style: none; /* IE 10+: hide scrollbars */\r\n\tscrollbar-width: none; /* Firefox: hide scrollbars */\r\n\toutline: none;\r\n}\r\n\r\n.monaco-inputbox > .ibwrapper > textarea.input::-webkit-scrollbar {\r\n\tdisplay: none; /* Chrome + Safari: hide scrollbar */\r\n}\r\n\r\n.monaco-inputbox > .ibwrapper > textarea.input.empty {\r\n\twhite-space: nowrap;\r\n}\r\n\r\n.monaco-inputbox > .ibwrapper > .mirror {\r\n\tposition: absolute;\r\n\tdisplay: inline-block;\r\n\twidth: 100%;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\tbox-sizing: border-box;\r\n\twhite-space: pre-wrap;\r\n\tvisibility: hidden;\r\n\tword-wrap: break-word;\r\n}\r\n\r\n/* Context view */\r\n\r\n.monaco-inputbox-container {\r\n\ttext-align: right;\r\n}\r\n\r\n.monaco-inputbox-container .monaco-inputbox-message {\r\n\tdisplay: inline-block;\r\n\toverflow: hidden;\r\n\ttext-align: left;\r\n\twidth: 100%;\r\n\tbox-sizing:\tborder-box;\r\n\tpadding: 0.4em;\r\n\tfont-size: 12px;\r\n\tline-height: 17px;\r\n\tmargin-top: -1px;\r\n\tword-wrap: break-word;\r\n}\r\n\r\n/* Action bar support */\r\n\r\n.monaco-inputbox .monaco-action-bar {\r\n\tposition: absolute;\r\n\tright: 2px;\r\n\ttop: 4px;\r\n}\r\n\r\n.monaco-inputbox .monaco-action-bar .action-item {\r\n\tmargin-left: 2px;\r\n}\r\n\r\n.monaco-inputbox .monaco-action-bar .action-item .codicon {\r\n\tbackground-repeat: no-repeat;\r\n\twidth: 16px;\r\n\theight: 16px;\r\n}\r\n"},3001:Ct=>{"use strict";Ct.exports="/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n\r\n.monaco-keybinding {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tline-height: 10px;\r\n}\r\n\r\n.monaco-keybinding > .monaco-keybinding-key {\r\n\tdisplay: inline-block;\r\n\tborder-style: solid;\r\n\tborder-width: 1px;\r\n\tborder-radius: 3px;\r\n\tvertical-align: middle;\r\n\tfont-size: 11px;\r\n\tpadding: 3px 5px;\r\n\tmargin: 0 2px;\r\n}\r\n\r\n.monaco-keybinding > .monaco-keybinding-key:first-child {\r\n\tmargin-left: 0;\r\n}\r\n\r\n.monaco-keybinding > .monaco-keybinding-key:last-child {\r\n\tmargin-right: 0;\r\n}\r\n\r\n.monaco-keybinding > .monaco-keybinding-key-separator {\r\n\tdisplay: inline-block;\r\n}\r\n\r\n.monaco-keybinding > .monaco-keybinding-key-chord-separator {\r\n\twidth: 6px;\r\n}\r\n"},1369:Ct=>{"use strict";Ct.exports="/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n\r\n.monaco-list {\r\n\tposition: relative;\r\n\theight: 100%;\r\n\twidth: 100%;\r\n\twhite-space: nowrap;\r\n}\r\n\r\n.monaco-list.mouse-support {\r\n\tuser-select: none;\r\n\t-webkit-user-select: none;\r\n\t-ms-user-select: none;\r\n}\r\n\r\n.monaco-list > .monaco-scrollable-element {\r\n\theight: 100%;\r\n}\r\n\r\n.monaco-list-rows {\r\n\tposition: relative;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n}\r\n\r\n.monaco-list.horizontal-scrolling .monaco-list-rows {\r\n\twidth: auto;\r\n\tmin-width: 100%;\r\n}\r\n\r\n.monaco-list-row {\r\n\tposition: absolute;\r\n\tbox-sizing: border-box;\r\n\toverflow: hidden;\r\n\twidth: 100%;\r\n}\r\n\r\n.monaco-list.mouse-support .monaco-list-row {\r\n\tcursor: pointer;\r\n\ttouch-action: none;\r\n}\r\n\r\n/* for OS X ballistic scrolling */\r\n\r\n.monaco-list-row.scrolling {\r\n\tdisplay: none !important;\r\n}\r\n\r\n/* Focus */\r\n\r\n.monaco-list.element-focused,\r\n.monaco-list.selection-single,\r\n.monaco-list.selection-multiple {\r\n\toutline: 0 !important;\r\n}\r\n\r\n/* Dnd */\r\n\r\n.monaco-drag-image {\r\n\tdisplay: inline-block;\r\n\tpadding: 1px 7px;\r\n\tborder-radius: 10px;\r\n\tfont-size: 12px;\r\n\tposition: absolute;\r\n\tz-index: 1000;\r\n}\r\n\r\n/* Type filter */\r\n\r\n.monaco-list-type-filter {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tposition: absolute;\r\n\tborder-radius: 2px;\r\n\tpadding: 0px 3px;\r\n\tmax-width: calc(100% - 10px);\r\n\ttext-overflow: ellipsis;\r\n\toverflow: hidden;\r\n\ttext-align: right;\r\n\tbox-sizing: border-box;\r\n\tcursor: all-scroll;\r\n\tfont-size: 13px;\r\n\tline-height: 18px;\r\n\theight: 20px;\r\n\tz-index: 1;\r\n\ttop: 4px;\r\n}\r\n\r\n.monaco-list-type-filter.dragging {\r\n\ttransition: top 0.2s, left 0.2s;\r\n}\r\n\r\n.monaco-list-type-filter.ne {\r\n\tright: 4px;\r\n}\r\n\r\n.monaco-list-type-filter.nw {\r\n\tleft: 4px;\r\n}\r\n\r\n.monaco-list-type-filter > .controls {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tbox-sizing: border-box;\r\n\ttransition: width 0.2s;\r\n\twidth: 0;\r\n}\r\n\r\n.monaco-list-type-filter.dragging > .controls,\r\n.monaco-list-type-filter:hover > .controls {\r\n\twidth: 36px;\r\n}\r\n\r\n.monaco-list-type-filter > .controls > * {\r\n\tborder: none;\r\n\tbox-sizing: border-box;\r\n\t-webkit-appearance: none;\r\n\t-moz-appearance: none;\r\n\tbackground: none;\r\n\twidth: 16px;\r\n\theight: 16px;\r\n\tflex-shrink: 0;\r\n\tmargin: 0;\r\n\tpadding: 0;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n\tcursor: pointer;\r\n}\r\n\r\n.monaco-list-type-filter > .controls > .filter {\r\n\tmargin-left: 4px;\r\n}\r\n\r\n.monaco-list-type-filter-message {\r\n\tposition: absolute;\r\n\tbox-sizing: border-box;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\tpadding: 40px 1em 1em 1em;\r\n\ttext-align: center;\r\n\twhite-space: normal;\r\n\topacity: 0.7;\r\n\tpointer-events: none;\r\n}\r\n\r\n.monaco-list-type-filter-message:empty {\r\n\tdisplay: none;\r\n}\r\n\r\n/* Electron */\r\n\r\n.monaco-list-type-filter {\r\n\tcursor: grab;\r\n}\r\n\r\n.monaco-list-type-filter.dragging {\r\n\tcursor: grabbing;\r\n}\r\n"},5049:Ct=>{"use strict";Ct.exports="/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n\r\n.monaco-mouse-cursor-text {\r\n\tcursor: text;\r\n}\r\n\r\n/* The following selector looks a bit funny, but that is needed to cover all the workbench and the editor!! */\r\n\r\n.vs-dark .mac .monaco-mouse-cursor-text, .hc-black .mac .monaco-mouse-cursor-text,\r\n.vs-dark.mac .monaco-mouse-cursor-text, .hc-black.mac .monaco-mouse-cursor-text {\r\n\tcursor: -webkit-image-set(url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAAL0lEQVQoz2NgCD3x//9/BhBYBWdhgFVAiVW4JBFKGIa4AqD0//9D3pt4I4tAdAMAHTQ/j5Zom30AAAAASUVORK5CYII=) 1x, url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAAAz0lEQVRIx2NgYGBY/R8I/vx5eelX3n82IJ9FxGf6tksvf/8FiTMQAcAGQMDvSwu09abffY8QYSAScNk45G198eX//yev73/4///701eh//kZSARckrNBRvz//+8+6ZohwCzjGNjdgQxkAg7B9WADeBjIBqtJCbhRA0YNoIkBSNmaPEMoNmA0FkYNoFKhapJ6FGyAH3nauaSmPfwI0v/3OukVi0CIZ+F25KrtYcx/CTIy0e+rC7R1Z4KMICVTQQ14feVXIbR695u14+Ir4gwAAD49E54wc1kWAAAAAElFTkSuQmCC) 2x) 5 8, text;\r\n}\r\n"},7179:Ct=>{"use strict";Ct.exports="/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n\r\n.monaco-progress-container {\r\n\twidth: 100%;\r\n\theight: 5px;\r\n\toverflow: hidden; /* keep progress bit in bounds */\r\n}\r\n\r\n.monaco-progress-container .progress-bit {\r\n\twidth: 2%;\r\n\theight: 5px;\r\n\tposition: absolute;\r\n\tleft: 0;\r\n\tdisplay: none;\r\n}\r\n\r\n.monaco-progress-container.active .progress-bit {\r\n\tdisplay: inherit;\r\n}\r\n\r\n.monaco-progress-container.discrete .progress-bit {\r\n\tleft: 0;\r\n\ttransition: width 100ms linear;\r\n}\r\n\r\n.monaco-progress-container.discrete.done .progress-bit {\r\n\twidth: 100%;\r\n}\r\n\r\n.monaco-progress-container.infinite .progress-bit {\r\n\tanimation-name: progress;\r\n\tanimation-duration: 4s;\r\n\tanimation-iteration-count: infinite;\r\n\tanimation-timing-function: linear;\r\n\ttransform: translate3d(0px, 0px, 0px);\r\n}\r\n\r\n/**\r\n * The progress bit has a width: 2% (1/50) of the parent container. The animation moves it from 0% to 100% of\r\n * that container. Since translateX is relative to the progress bit size, we have to multiple it with\r\n * its relative size to the parent container:\r\n * parent width: 5000%\r\n *    bit width: 100%\r\n * translateX should be as follow:\r\n *  50%: 5000% * 50% - 50% (set to center) = 2450%\r\n * 100%: 5000% * 100% - 100% (do not overflow) = 4900%\r\n */\r\n\r\n@keyframes progress { from { transform: translateX(0%) scaleX(1) } 50% { transform: translateX(2500%) scaleX(3) } to { transform: translateX(4900%) scaleX(1) } }\r\n"},8872:Ct=>{"use strict";Ct.exports="/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n\r\n:root {\r\n\t--sash-size: 4px;\r\n}\r\n\r\n.monaco-sash {\r\n\tposition: absolute;\r\n\tz-index: 35;\r\n\ttouch-action: none;\r\n}\r\n\r\n.monaco-sash.disabled {\r\n\tpointer-events: none;\r\n}\r\n\r\n.monaco-sash.mac.vertical {\r\n\tcursor: col-resize;\r\n}\r\n\r\n.monaco-sash.vertical.minimum {\r\n\tcursor: e-resize;\r\n}\r\n\r\n.monaco-sash.vertical.maximum {\r\n\tcursor: w-resize;\r\n}\r\n\r\n.monaco-sash.mac.horizontal {\r\n\tcursor: row-resize;\r\n}\r\n\r\n.monaco-sash.horizontal.minimum {\r\n\tcursor: s-resize;\r\n}\r\n\r\n.monaco-sash.horizontal.maximum {\r\n\tcursor: n-resize;\r\n}\r\n\r\n.monaco-sash.disabled {\r\n\tcursor: default !important;\r\n\tpointer-events: none !important;\r\n}\r\n\r\n.monaco-sash.vertical {\r\n\tcursor: ew-resize;\r\n\ttop: 0;\r\n\twidth: var(--sash-size);\r\n\theight: 100%;\r\n}\r\n\r\n.monaco-sash.horizontal {\r\n\tcursor: ns-resize;\r\n\tleft: 0;\r\n\twidth: 100%;\r\n\theight: var(--sash-size);\r\n}\r\n\r\n.monaco-sash:not(.disabled) > .orthogonal-drag-handle {\r\n\tcontent: \" \";\r\n\theight: calc(var(--sash-size) * 2);\r\n\twidth: calc(var(--sash-size) * 2);\r\n\tz-index: 100;\r\n\tdisplay: block;\r\n\tcursor: all-scroll;\r\n\tposition: absolute;\r\n}\r\n\r\n.monaco-sash.horizontal.orthogonal-edge-north:not(.disabled)\r\n\t> .orthogonal-drag-handle.start,\r\n.monaco-sash.horizontal.orthogonal-edge-south:not(.disabled)\r\n\t> .orthogonal-drag-handle.end {\r\n\tcursor: nwse-resize;\r\n}\r\n\r\n.monaco-sash.horizontal.orthogonal-edge-north:not(.disabled)\r\n\t> .orthogonal-drag-handle.end,\r\n.monaco-sash.horizontal.orthogonal-edge-south:not(.disabled)\r\n\t> .orthogonal-drag-handle.start {\r\n\tcursor: nesw-resize;\r\n}\r\n\r\n.monaco-sash.vertical > .orthogonal-drag-handle.start {\r\n\tleft: calc(var(--sash-size) * -0.5);\r\n\ttop: calc(var(--sash-size) * -1);\r\n}\r\n\r\n.monaco-sash.vertical > .orthogonal-drag-handle.end {\r\n\tleft: calc(var(--sash-size) * -0.5);\r\n\tbottom: calc(var(--sash-size) * -1);\r\n}\r\n\r\n.monaco-sash.horizontal > .orthogonal-drag-handle.start {\r\n\ttop: calc(var(--sash-size) * -0.5);\r\n\tleft: calc(var(--sash-size) * -1);\r\n}\r\n\r\n.monaco-sash.horizontal > .orthogonal-drag-handle.end {\r\n\ttop: calc(var(--sash-size) * -0.5);\r\n\tright: calc(var(--sash-size) * -1);\r\n}\r\n\r\n.monaco-sash:before {\r\n\tcontent: '';\r\n\tpointer-events: none;\r\n\tposition: absolute;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\ttransition: background-color 0.1s ease-out;\r\n\tbackground: transparent;\r\n}\r\n\r\n.monaco-sash.vertical:before {\r\n\twidth: var(--sash-hover-size);\r\n\tleft: calc(50% - (var(--sash-hover-size) / 2));\r\n}\r\n\r\n.monaco-sash.horizontal:before {\r\n\theight: var(--sash-hover-size);\r\n\ttop: calc(50% - (var(--sash-hover-size) / 2));\r\n}\r\n\r\n/** Debug **/\r\n\r\n.monaco-sash.debug {\r\n\tbackground: cyan;\r\n}\r\n\r\n.monaco-sash.debug.disabled {\r\n\tbackground: rgba(0, 255, 255, 0.2);\r\n}\r\n\r\n.monaco-sash.debug:not(.disabled) > .orthogonal-drag-handle {\r\n\tbackground: red;\r\n}\r\n"},1555:Ct=>{"use strict";Ct.exports="/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n\r\n/* Arrows */\r\n\r\n.monaco-scrollable-element > .scrollbar > .scra {\r\n\tcursor: pointer;\r\n\tfont-size: 11px !important;\r\n}\r\n\r\n.monaco-scrollable-element > .visible {\r\n\topacity: 1;\r\n\r\n\t/* Background rule added for IE9 - to allow clicks on dom node */\r\n\tbackground:rgba(0,0,0,0);\r\n\r\n\ttransition: opacity 100ms linear;\r\n}\r\n\r\n.monaco-scrollable-element > .invisible {\r\n\topacity: 0;\r\n\tpointer-events: none;\r\n}\r\n\r\n.monaco-scrollable-element > .invisible.fade {\r\n\ttransition: opacity 800ms linear;\r\n}\r\n\r\n/* Scrollable Content Inset Shadow */\r\n\r\n.monaco-scrollable-element > .shadow {\r\n\tposition: absolute;\r\n\tdisplay: none;\r\n}\r\n\r\n.monaco-scrollable-element > .shadow.top {\r\n\tdisplay: block;\r\n\ttop: 0;\r\n\tleft: 3px;\r\n\theight: 3px;\r\n\twidth: 100%;\r\n\tbox-shadow: #DDD 0 6px 6px -6px inset;\r\n}\r\n\r\n.monaco-scrollable-element > .shadow.left {\r\n\tdisplay: block;\r\n\ttop: 3px;\r\n\tleft: 0;\r\n\theight: 100%;\r\n\twidth: 3px;\r\n\tbox-shadow: #DDD 6px 0 6px -6px inset;\r\n}\r\n\r\n.monaco-scrollable-element > .shadow.top-left-corner {\r\n\tdisplay: block;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\theight: 3px;\r\n\twidth: 3px;\r\n}\r\n\r\n.monaco-scrollable-element > .shadow.top.left {\r\n\tbox-shadow: #DDD 6px 6px 6px -6px inset;\r\n}\r\n\r\n/* ---------- Default Style ---------- */\r\n\r\n.vs .monaco-scrollable-element > .scrollbar > .slider {\r\n\tbackground: rgba(100, 100, 100, .4);\r\n}\r\n\r\n.vs-dark .monaco-scrollable-element > .scrollbar > .slider {\r\n\tbackground: rgba(121, 121, 121, .4);\r\n}\r\n\r\n.hc-black .monaco-scrollable-element > .scrollbar > .slider {\r\n\tbackground: rgba(111, 195, 223, .6);\r\n}\r\n\r\n.monaco-scrollable-element > .scrollbar > .slider:hover {\r\n\tbackground: rgba(100, 100, 100, .7);\r\n}\r\n\r\n.hc-black .monaco-scrollable-element > .scrollbar > .slider:hover {\r\n\tbackground: rgba(111, 195, 223, .8);\r\n}\r\n\r\n.monaco-scrollable-element > .scrollbar > .slider.active {\r\n\tbackground: rgba(0, 0, 0, .6);\r\n}\r\n\r\n.vs-dark .monaco-scrollable-element > .scrollbar > .slider.active {\r\n\tbackground: rgba(191, 191, 191, .4);\r\n}\r\n\r\n.hc-black .monaco-scrollable-element > .scrollbar > .slider.active {\r\n\tbackground: rgba(111, 195, 223, 1);\r\n}\r\n\r\n.vs-dark .monaco-scrollable-element .shadow.top {\r\n\tbox-shadow: none;\r\n}\r\n\r\n.vs-dark .monaco-scrollable-element .shadow.left {\r\n\tbox-shadow: #000 6px 0 6px -6px inset;\r\n}\r\n\r\n.vs-dark .monaco-scrollable-element .shadow.top.left {\r\n\tbox-shadow: #000 6px 6px 6px -6px inset;\r\n}\r\n\r\n.hc-black .monaco-scrollable-element .shadow.top {\r\n\tbox-shadow: none;\r\n}\r\n\r\n.hc-black .monaco-scrollable-element .shadow.left {\r\n\tbox-shadow: none;\r\n}\r\n\r\n.hc-black .monaco-scrollable-element .shadow.top.left {\r\n\tbox-shadow: none;\r\n}\r\n"},3961:Ct=>{"use strict";Ct.exports="/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n\r\n.monaco-split-view2 {\r\n\tposition: relative;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n}\r\n\r\n.monaco-split-view2 > .sash-container {\r\n\tposition: absolute;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tpointer-events: none;\r\n}\r\n\r\n.monaco-split-view2 > .sash-container > .monaco-sash {\r\n\tpointer-events: initial;\r\n}\r\n\r\n.monaco-split-view2 > .monaco-scrollable-element {\r\n\twidth: 100%;\r\n\theight: 100%;\r\n}\r\n\r\n.monaco-split-view2 > .monaco-scrollable-element > .split-view-container {\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\twhite-space: nowrap;\r\n\tposition: relative;\r\n}\r\n\r\n.monaco-split-view2 > .monaco-scrollable-element > .split-view-container > .split-view-view {\r\n\twhite-space: initial;\r\n\tposition: absolute;\r\n}\r\n\r\n.monaco-split-view2 > .monaco-scrollable-element > .split-view-container > .split-view-view:not(.visible) {\r\n\tdisplay: none;\r\n}\r\n\r\n.monaco-split-view2.vertical > .monaco-scrollable-element > .split-view-container > .split-view-view {\r\n\twidth: 100%;\r\n}\r\n\r\n.monaco-split-view2.horizontal > .monaco-scrollable-element > .split-view-container > .split-view-view {\r\n\theight: 100%;\r\n}\r\n\r\n.monaco-split-view2.separator-border > .monaco-scrollable-element > .split-view-container > .split-view-view:not(:first-child)::before {\r\n\tcontent: ' ';\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\tz-index: 5;\r\n\tpointer-events: none;\r\n\tbackground-color: var(--separator-border);\r\n}\r\n\r\n.monaco-split-view2.separator-border.horizontal > .monaco-scrollable-element > .split-view-container > .split-view-view:not(:first-child)::before {\r\n\theight: 100%;\r\n\twidth: 1px;\r\n}\r\n\r\n.monaco-split-view2.separator-border.vertical > .monaco-scrollable-element > .split-view-container > .split-view-view:not(:first-child)::before {\r\n\theight: 1px;\r\n\twidth: 100%;\r\n}\r\n"},5331:Ct=>{"use strict";Ct.exports='/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n\r\n.monaco-table {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tposition: relative;\r\n\theight: 100%;\r\n\twidth: 100%;\r\n\twhite-space: nowrap;\r\n}\r\n\r\n.monaco-table > .monaco-split-view2 {\r\n\tborder-bottom: 1px solid transparent;\r\n}\r\n\r\n.monaco-table > .monaco-list {\r\n\tflex: 1;\r\n}\r\n\r\n.monaco-table-tr {\r\n\tdisplay: flex;\r\n\theight: 100%;\r\n}\r\n\r\n.monaco-table-th {\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tfont-weight: bold;\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n}\r\n\r\n.monaco-table-th,\r\n.monaco-table-td {\r\n\tbox-sizing: border-box;\r\n\tflex-shrink: 0;\r\n\toverflow: hidden;\r\n\twhite-space: nowrap;\r\n\ttext-overflow: ellipsis;\r\n}\r\n\r\n.monaco-table > .monaco-split-view2 .monaco-sash.vertical::before {\r\n\tcontent: "";\r\n\tposition: absolute;\r\n\tleft: calc(var(--sash-size) / 2);\r\n\twidth: 0;\r\n\tborder-left: 1px solid transparent;\r\n}\r\n\r\n.monaco-table > .monaco-split-view2,\r\n.monaco-table > .monaco-split-view2 .monaco-sash.vertical::before {\r\n\ttransition: border-color 0.2s ease-out;\r\n}\r\n\r\n/*\r\n.monaco-table:hover > .monaco-split-view2,\r\n.monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {\r\n\tborder-color: rgba(204, 204, 204, 0.2);\r\n} */\r\n'},3259:Ct=>{"use strict";Ct.exports="/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n\r\n.monaco-tl-row {\r\n\tdisplay: flex;\r\n\theight: 100%;\r\n\talign-items: center;\r\n\tposition: relative;\r\n}\r\n\r\n.monaco-tl-indent {\r\n\theight: 100%;\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tleft: 16px;\r\n\tpointer-events: none;\r\n}\r\n\r\n.hide-arrows .monaco-tl-indent {\r\n\tleft: 12px;\r\n}\r\n\r\n.monaco-tl-indent > .indent-guide {\r\n\tdisplay: inline-block;\r\n\tbox-sizing: border-box;\r\n\theight: 100%;\r\n\tborder-left: 1px solid transparent;\r\n}\r\n\r\n.monaco-tl-indent > .indent-guide {\r\n\ttransition: border-color 0.1s linear;\r\n}\r\n\r\n.monaco-tl-twistie,\r\n.monaco-tl-contents {\r\n\theight: 100%;\r\n}\r\n\r\n.monaco-tl-twistie {\r\n\tfont-size: 10px;\r\n\ttext-align: right;\r\n\tpadding-right: 6px;\r\n\tflex-shrink: 0;\r\n\twidth: 16px;\r\n\tdisplay: flex !important;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n\ttransform: translateX(3px);\r\n}\r\n\r\n.monaco-tl-contents {\r\n\tflex: 1;\r\n\toverflow: hidden;\r\n}\r\n\r\n.monaco-tl-twistie::before {\r\n\tborder-radius: 20px;\r\n}\r\n\r\n.monaco-tl-twistie.collapsed::before {\r\n\ttransform: rotate(-90deg);\r\n}\r\n\r\n.monaco-tl-twistie.codicon-tree-item-loading::before {\r\n\t/* Use steps to throttle FPS to reduce CPU usage */\r\n\tanimation: codicon-spin 1.25s steps(30) infinite;\r\n}\r\n"},1052:Ct=>{"use strict";Ct.exports="/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n\r\n.quick-input-widget {\r\n\tposition: absolute;\r\n\twidth: 600px;\r\n\tz-index: 2000;\r\n\tpadding: 0 1px 6px 1px;\r\n\tleft: 50%;\r\n\tmargin-left: -300px;\r\n}\r\n\r\n.quick-input-titlebar {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n}\r\n\r\n.quick-input-left-action-bar {\r\n\tdisplay: flex;\r\n\tmargin-left: 4px;\r\n\tflex: 1;\r\n}\r\n\r\n.quick-input-title {\r\n\tpadding: 3px 0px;\r\n\ttext-align: center;\r\n}\r\n\r\n.quick-input-right-action-bar {\r\n\tdisplay: flex;\r\n\tmargin-right: 4px;\r\n\tflex: 1;\r\n}\r\n\r\n.quick-input-right-action-bar > .actions-container {\r\n\tjustify-content: flex-end;\r\n}\r\n\r\n.quick-input-titlebar .monaco-action-bar .action-label.codicon {\r\n\tbackground-position: center;\r\n\tbackground-repeat: no-repeat;\r\n\tpadding: 2px;\r\n}\r\n\r\n.quick-input-description {\r\n\tmargin: 6px;\r\n}\r\n\r\n.quick-input-header .quick-input-description {\r\n\tmargin: 4px 2px;\r\n}\r\n\r\n.quick-input-header {\r\n\tdisplay: flex;\r\n\tpadding: 6px 6px 0px 6px;\r\n\tmargin-bottom: -2px;\r\n}\r\n\r\n.quick-input-widget.hidden-input .quick-input-header {\r\n\t/* reduce margins and paddings when input box hidden */\r\n\tpadding: 0;\r\n\tmargin-bottom: 0;\r\n}\r\n\r\n.quick-input-and-message {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tflex-grow: 1;\r\n\tposition: relative;\r\n}\r\n\r\n.quick-input-check-all {\r\n\talign-self: center;\r\n\tmargin: 0;\r\n}\r\n\r\n.quick-input-filter {\r\n\tflex-grow: 1;\r\n\tdisplay: flex;\r\n\tposition: relative;\r\n}\r\n\r\n.quick-input-box {\r\n\tflex-grow: 1;\r\n}\r\n\r\n.quick-input-widget.show-checkboxes .quick-input-box,\r\n.quick-input-widget.show-checkboxes .quick-input-message {\r\n\tmargin-left: 5px;\r\n}\r\n\r\n.quick-input-visible-count {\r\n\tposition: absolute;\r\n\tleft: -10000px;\r\n}\r\n\r\n.quick-input-count {\r\n\talign-self: center;\r\n\tposition: absolute;\r\n\tright: 4px;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n}\r\n\r\n.quick-input-count .monaco-count-badge {\r\n\tvertical-align: middle;\r\n\tpadding: 2px 4px;\r\n\tborder-radius: 2px;\r\n\tmin-height: auto;\r\n\tline-height: normal;\r\n}\r\n\r\n.quick-input-action {\r\n\tmargin-left: 6px;\r\n}\r\n\r\n.quick-input-action .monaco-text-button {\r\n\tfont-size: 11px;\r\n\tpadding: 0 6px;\r\n\tdisplay: flex;\r\n\theight: 27.5px;\r\n\talign-items: center;\r\n}\r\n\r\n.quick-input-message {\r\n\tmargin-top: -1px;\r\n\tpadding: 5px 5px 2px 5px;\r\n}\r\n\r\n.quick-input-message > .codicon {\r\n\tmargin: 0 0.2em;\r\n\tvertical-align: text-bottom;\r\n}\r\n\r\n.quick-input-progress.monaco-progress-container {\r\n\tposition: relative;\r\n}\r\n\r\n.quick-input-progress.monaco-progress-container,\r\n.quick-input-progress.monaco-progress-container .progress-bit {\r\n\theight: 2px;\r\n}\r\n\r\n.quick-input-list {\r\n\tline-height: 22px;\r\n\tmargin-top: 6px;\r\n}\r\n\r\n.quick-input-widget.hidden-input .quick-input-list {\r\n\tmargin-top: 0; /* reduce margins when input box hidden */\r\n}\r\n\r\n.quick-input-list .monaco-list {\r\n\toverflow: hidden;\r\n\tmax-height: calc(20 * 22px);\r\n}\r\n\r\n.quick-input-list .quick-input-list-entry {\r\n\tbox-sizing: border-box;\r\n\toverflow: hidden;\r\n\tdisplay: flex;\r\n\theight: 100%;\r\n\tpadding: 0 6px;\r\n}\r\n\r\n.quick-input-list .quick-input-list-entry.quick-input-list-separator-border {\r\n\tborder-top-width: 1px;\r\n\tborder-top-style: solid;\r\n}\r\n\r\n.quick-input-list .monaco-list-row[data-index=\"0\"] .quick-input-list-entry.quick-input-list-separator-border {\r\n\tborder-top-style: none;\r\n}\r\n\r\n.quick-input-list .quick-input-list-label {\r\n\toverflow: hidden;\r\n\tdisplay: flex;\r\n\theight: 100%;\r\n\tflex: 1;\r\n}\r\n\r\n.quick-input-list .quick-input-list-checkbox {\r\n\talign-self: center;\r\n\tmargin: 0;\r\n}\r\n\r\n.quick-input-list .quick-input-list-rows {\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\theight: 100%;\r\n\tflex: 1;\r\n\tmargin-left: 5px;\r\n}\r\n\r\n.quick-input-widget.show-checkboxes .quick-input-list .quick-input-list-rows {\r\n\tmargin-left: 10px;\r\n}\r\n\r\n.quick-input-widget .quick-input-list .quick-input-list-checkbox {\r\n\tdisplay: none;\r\n}\r\n\r\n.quick-input-widget.show-checkboxes .quick-input-list .quick-input-list-checkbox {\r\n\tdisplay: inline;\r\n}\r\n\r\n.quick-input-list .quick-input-list-rows > .quick-input-list-row {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n}\r\n\r\n.quick-input-list .quick-input-list-rows > .quick-input-list-row .monaco-icon-label,\r\n.quick-input-list .quick-input-list-rows > .quick-input-list-row .monaco-icon-label .monaco-icon-label-container > .monaco-icon-name-container {\r\n\tflex: 1; /* make sure the icon label grows within the row */\r\n}\r\n\r\n.quick-input-list .quick-input-list-rows > .quick-input-list-row .codicon[class*='codicon-'] {\r\n\tvertical-align: sub;\r\n}\r\n\r\n.quick-input-list .quick-input-list-rows .monaco-highlighted-label span {\r\n\topacity: 1;\r\n}\r\n\r\n.quick-input-list .quick-input-list-entry .quick-input-list-entry-keybinding {\r\n\tmargin-right: 8px; /* separate from the separator label or scrollbar if any */\r\n}\r\n\r\n.quick-input-list .quick-input-list-label-meta {\r\n\topacity: 0.7;\r\n\tline-height: normal;\r\n\ttext-overflow: ellipsis;\r\n\toverflow: hidden;\r\n}\r\n\r\n.quick-input-list .monaco-highlighted-label .highlight {\r\n\tfont-weight: bold;\r\n}\r\n\r\n.quick-input-list .quick-input-list-entry .quick-input-list-separator {\r\n\tmargin-right: 8px; /* separate from keybindings or actions */\r\n}\r\n\r\n.quick-input-list .quick-input-list-entry-action-bar {\r\n\tdisplay: flex;\r\n\tflex: 0;\r\n\toverflow: visible;\r\n}\r\n\r\n.quick-input-list .quick-input-list-entry-action-bar .action-label {\r\n\t/*\r\n\t * By default, actions in the quick input action bar are hidden\r\n\t * until hovered over them or selected.\r\n\t */\r\n\tdisplay: none;\r\n}\r\n\r\n.quick-input-list .quick-input-list-entry-action-bar .action-label.codicon {\r\n\tmargin-right: 4px;\r\n\tpadding: 2px;\r\n}\r\n\r\n.quick-input-list .quick-input-list-entry-action-bar {\r\n\tmargin-top: 1px;\r\n}\r\n\r\n.quick-input-list .quick-input-list-entry-action-bar {\r\n\tmargin-right: 4px; /* separate from scrollbar */\r\n}\r\n\r\n.quick-input-list .quick-input-list-entry .quick-input-list-entry-action-bar .action-label.always-visible,\r\n.quick-input-list .quick-input-list-entry:hover .quick-input-list-entry-action-bar .action-label,\r\n.quick-input-list .monaco-list-row.focused .quick-input-list-entry-action-bar .action-label {\r\n\tdisplay: flex;\r\n}\r\n\r\n/* focused items in quick pick */\r\n\r\n.quick-input-list .monaco-list-row.focused .monaco-keybinding-key,\r\n.quick-input-list .monaco-list-row.focused .quick-input-list-entry .quick-input-list-separator {\r\n\tcolor: inherit\r\n}\r\n\r\n.quick-input-list .monaco-list-row.focused .monaco-keybinding-key {\r\n\tbackground: none;\r\n}\r\n"},9745:Ct=>{"use strict";Ct.exports="/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n\r\n.monaco-editor .inputarea {\r\n\tmin-width: 0;\r\n\tmin-height: 0;\r\n\tmargin: 0;\r\n\tpadding: 0;\r\n\tposition: absolute;\r\n\toutline: none !important;\r\n\tresize: none;\r\n\tborder: none;\r\n\toverflow: hidden;\r\n\tcolor: transparent;\r\n\tbackground-color: transparent;\r\n}\r\n\r\n/*.monaco-editor .inputarea {\r\n\tposition: fixed !important;\r\n\twidth: 800px !important;\r\n\theight: 500px !important;\r\n\ttop: initial !important;\r\n\tleft: initial !important;\r\n\tbottom: 0 !important;\r\n\tright: 0 !important;\r\n\tcolor: black !important;\r\n\tbackground: white !important;\r\n\tline-height: 15px !important;\r\n\tfont-size: 14px !important;\r\n}*/\r\n\r\n.monaco-editor .inputarea.ime-input {\r\n\tz-index: 10;\r\n}\r\n"},1501:Ct=>{"use strict";Ct.exports="/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n\r\n.monaco-editor .view-overlays .current-line {\r\n\tdisplay: block;\r\n\tposition: absolute;\r\n\tleft: 0;\r\n\ttop: 0;\r\n\tbox-sizing: border-box;\r\n}\r\n\r\n.monaco-editor .margin-view-overlays .current-line {\r\n\tdisplay: block;\r\n\tposition: absolute;\r\n\tleft: 0;\r\n\ttop: 0;\r\n\tbox-sizing: border-box;\r\n}\r\n\r\n.monaco-editor .margin-view-overlays .current-line.current-line-margin.current-line-margin-both {\r\n\tborder-right: 0;\r\n}\r\n"},4310:Ct=>{"use strict";Ct.exports="/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n\r\n/*\r\n\tKeeping name short for faster parsing.\r\n\tcdr = core decorations rendering (div)\r\n*/\r\n\r\n.monaco-editor .lines-content .cdr {\r\n\tposition: absolute;\r\n}"},8870:Ct=>{"use strict";Ct.exports="/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n\r\n.monaco-editor .glyph-margin {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n}\r\n\r\n/*\r\n\tKeeping name short for faster parsing.\r\n\tcgmr = core glyph margin rendering (div)\r\n*/\r\n\r\n.monaco-editor .margin-view-overlays .cgmr {\r\n\tposition: absolute;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n}\r\n"},3451:Ct=>{"use strict";Ct.exports="/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n\r\n/*\r\n\tKeeping name short for faster parsing.\r\n\tcigr = core ident guides rendering (div)\r\n*/\r\n\r\n.monaco-editor .lines-content .cigr {\r\n\tposition: absolute;\r\n}\r\n\r\n.monaco-editor .lines-content .cigra {\r\n\tposition: absolute;\r\n}\r\n"},7225:Ct=>{"use strict";Ct.exports='/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n\r\n.monaco-editor .margin-view-overlays .line-numbers {\r\n\tfont-feature-settings: "tnum";\r\n\tfont-variant-numeric: tabular-nums;\r\n\tposition: absolute;\r\n\ttext-align: right;\r\n\tdisplay: inline-block;\r\n\tvertical-align: middle;\r\n\tbox-sizing: border-box;\r\n\tcursor: default;\r\n\theight: 100%;\r\n}\r\n\r\n.monaco-editor .relative-current-line-number {\r\n\ttext-align: left;\r\n\tdisplay: inline-block;\r\n\twidth: 100%;\r\n}\r\n\r\n.monaco-editor .margin-view-overlays .line-numbers.lh-odd {\r\n\tmargin-top: 1px;\r\n}\r\n'},6232:Ct=>{"use strict";Ct.exports="/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n.monaco-editor .lines-decorations {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tbackground: white;\r\n}\r\n/*\r\n\tKeeping name short for faster parsing.\r\n\tcldr = core lines decorations rendering (div)\r\n*/\r\n.monaco-editor .margin-view-overlays .cldr {\r\n\tposition: absolute;\r\n\theight: 100%;\r\n}"},1726:Ct=>{"use strict";Ct.exports="/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n\r\n/* Uncomment to see lines flashing when they're painted */\r\n\r\n/*.monaco-editor .view-lines > .view-line {\r\n\tbackground-color: none;\r\n\tanimation-name: flash-background;\r\n\tanimation-duration: 800ms;\r\n}\r\n@keyframes flash-background {\r\n\t0%   { background-color: lightgreen; }\r\n\t100% { background-color: none }\r\n}*/\r\n\r\n.monaco-editor.no-user-select .lines-content,\r\n.monaco-editor.no-user-select .view-line,\r\n.monaco-editor.no-user-select .view-lines {\r\n\tuser-select: none;\r\n\t-webkit-user-select: none;\r\n\t-ms-user-select: none;\r\n}\r\n\r\n.monaco-editor .view-lines {\r\n\twhite-space: nowrap;\r\n}\r\n\r\n.monaco-editor .view-line {\r\n\tposition: absolute;\r\n\twidth: 100%;\r\n}\r\n\r\n.monaco-editor .mtkz {\r\n\tdisplay: inline-block;\r\n}\r\n\r\n/* TODO@tokenization bootstrap fix */\r\n\r\n/*.monaco-editor .view-line > span > span {\r\n\tfloat: none;\r\n\tmin-height: inherit;\r\n\tmargin-left: inherit;\r\n}*/\r\n"},1356:Ct=>{"use strict";Ct.exports="/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n\r\n/*\r\n\tKeeping name short for faster parsing.\r\n\tcmdr = core margin decorations rendering (div)\r\n*/\r\n\r\n.monaco-editor .margin-view-overlays .cmdr {\r\n\tposition: absolute;\r\n\tleft: 0;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n}"},8435:Ct=>{"use strict";Ct.exports="/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n\r\n/* START cover the case that slider is visible on mouseover */\r\n\r\n.monaco-editor .minimap.slider-mouseover .minimap-slider {\r\n\topacity: 0;\r\n\ttransition: opacity 100ms linear;\r\n}\r\n\r\n.monaco-editor .minimap.slider-mouseover:hover .minimap-slider {\r\n\topacity: 1;\r\n}\r\n\r\n.monaco-editor .minimap.slider-mouseover .minimap-slider.active {\r\n\topacity: 1;\r\n}\r\n\r\n/* END cover the case that slider is visible on mouseover */\r\n\r\n.monaco-editor .minimap-shadow-hidden {\r\n\tposition: absolute;\r\n\twidth: 0;\r\n}\r\n\r\n.monaco-editor .minimap-shadow-visible {\r\n\tposition: absolute;\r\n\tleft: -6px;\r\n\twidth: 6px;\r\n}\r\n\r\n.monaco-editor.no-minimap-shadow .minimap-shadow-visible {\r\n\tposition: absolute;\r\n\tleft: -1px;\r\n\twidth: 1px;\r\n}\r\n"},6219:Ct=>{"use strict";Ct.exports="/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n.monaco-editor .overlayWidgets {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tleft:0;\r\n}"},5534:Ct=>{"use strict";Ct.exports="/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n\r\n.monaco-editor .view-ruler {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n}"},7652:Ct=>{"use strict";Ct.exports="/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n\r\n.monaco-editor .scroll-decoration {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\theight: 6px;\r\n}"},3133:Ct=>{"use strict";Ct.exports="/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n\r\n/*\r\n\tKeeping name short for faster parsing.\r\n\tcslr = core selections layer rendering (div)\r\n*/\r\n\r\n.monaco-editor .lines-content .cslr {\r\n\tposition: absolute;\r\n}\r\n\r\n.monaco-editor\t\t\t.top-left-radius\t\t{ border-top-left-radius: 3px; }\r\n\r\n.monaco-editor\t\t\t.bottom-left-radius\t\t{ border-bottom-left-radius: 3px; }\r\n\r\n.monaco-editor\t\t\t.top-right-radius\t\t{ border-top-right-radius: 3px; }\r\n\r\n.monaco-editor\t\t\t.bottom-right-radius\t{ border-bottom-right-radius: 3px; }\r\n\r\n.monaco-editor.hc-black .top-left-radius\t\t{ border-top-left-radius: 0; }\r\n\r\n.monaco-editor.hc-black .bottom-left-radius\t\t{ border-bottom-left-radius: 0; }\r\n\r\n.monaco-editor.hc-black .top-right-radius\t\t{ border-top-right-radius: 0; }\r\n\r\n.monaco-editor.hc-black .bottom-right-radius\t{ border-bottom-right-radius: 0; }\r\n"},3134:Ct=>{"use strict";Ct.exports="/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n.monaco-editor .cursors-layer {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n}\r\n.monaco-editor .cursors-layer > .cursor {\r\n\tposition: absolute;\r\n\toverflow: hidden;\r\n}\r\n/* -- smooth-caret-animation -- */\r\n.monaco-editor .cursors-layer.cursor-smooth-caret-animation > .cursor {\r\n\ttransition: all 80ms;\r\n}\r\n/* -- block-outline-style -- */\r\n.monaco-editor .cursors-layer.cursor-block-outline-style > .cursor {\r\n\tbox-sizing: border-box;\r\n\tbackground: transparent !important;\r\n\tborder-style: solid;\r\n\tborder-width: 1px;\r\n}\r\n/* -- underline-style -- */\r\n.monaco-editor .cursors-layer.cursor-underline-style > .cursor {\r\n\tborder-bottom-width: 2px;\r\n\tborder-bottom-style: solid;\r\n\tbackground: transparent !important;\r\n\tbox-sizing: border-box;\r\n}\r\n/* -- underline-thin-style -- */\r\n.monaco-editor .cursors-layer.cursor-underline-thin-style > .cursor {\r\n\tborder-bottom-width: 1px;\r\n\tborder-bottom-style: solid;\r\n\tbackground: transparent !important;\r\n\tbox-sizing: border-box;\r\n}\r\n@keyframes monaco-cursor-smooth {\r\n\t0%,\r\n\t20% {\r\n\t\topacity: 1;\r\n\t}\r\n\t60%,\r\n\t100% {\r\n\t\topacity: 0;\r\n\t}\r\n}\r\n@keyframes monaco-cursor-phase {\r\n\t0%,\r\n\t20% {\r\n\t\topacity: 1;\r\n\t}\r\n\t90%,\r\n\t100% {\r\n\t\topacity: 0;\r\n\t}\r\n}\r\n@keyframes monaco-cursor-expand {\r\n\t0%,\r\n\t20% {\r\n\t\ttransform: scaleY(1);\r\n\t}\r\n\t80%,\r\n\t100% {\r\n\t\ttransform: scaleY(0);\r\n\t}\r\n}\r\n.cursor-smooth {\r\n\tanimation: monaco-cursor-smooth 0.5s ease-in-out 0s 20 alternate;\r\n}\r\n.cursor-phase {\r\n\tanimation: monaco-cursor-phase 0.5s ease-in-out 0s 20 alternate;\r\n}\r\n.cursor-expand > .cursor {\r\n\tanimation: monaco-cursor-expand 0.5s ease-in-out 0s 20 alternate;\r\n}\r\n"},1238:Ct=>{"use strict";Ct.exports="/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n/* ---------- DiffEditor ---------- */\r\n.monaco-diff-editor .diffOverview {\r\n\tz-index: 9;\r\n}\r\n.monaco-diff-editor .diffOverview .diffViewport {\r\n\tz-index: 10;\r\n}\r\n/* colors not externalized: using transparancy on background */\r\n.monaco-diff-editor.vs\t\t\t.diffOverview { background: rgba(0, 0, 0, 0.03); }\r\n.monaco-diff-editor.vs-dark\t\t.diffOverview { background: rgba(255, 255, 255, 0.01); }\r\n.monaco-scrollable-element.modified-in-monaco-diff-editor.vs\t\t.scrollbar { background: rgba(0,0,0,0); }\r\n.monaco-scrollable-element.modified-in-monaco-diff-editor.vs-dark\t.scrollbar { background: rgba(0,0,0,0); }\r\n.monaco-scrollable-element.modified-in-monaco-diff-editor.hc-black\t.scrollbar { background: none; }\r\n.monaco-scrollable-element.modified-in-monaco-diff-editor .slider {\r\n\tz-index: 10;\r\n}\r\n.modified-in-monaco-diff-editor\t\t\t\t.slider.active { background: rgba(171, 171, 171, .4); }\r\n.modified-in-monaco-diff-editor.hc-black\t.slider.active { background: none; }\r\n/* ---------- Diff ---------- */\r\n.monaco-editor .insert-sign,\r\n.monaco-diff-editor .insert-sign,\r\n.monaco-editor .delete-sign,\r\n.monaco-diff-editor .delete-sign {\r\n\tfont-size: 11px !important;\r\n\topacity: 0.7 !important;\r\n\tdisplay: flex !important;\r\n\talign-items: center;\r\n}\r\n.monaco-editor.hc-black .insert-sign,\r\n.monaco-diff-editor.hc-black .insert-sign,\r\n.monaco-editor.hc-black .delete-sign,\r\n.monaco-diff-editor.hc-black .delete-sign {\r\n\topacity: 1;\r\n}\r\n.monaco-editor .inline-deleted-margin-view-zone {\r\n\ttext-align: right;\r\n}\r\n.monaco-editor .inline-added-margin-view-zone {\r\n\ttext-align: right;\r\n}\r\n/* ---------- Inline Diff ---------- */\r\n.monaco-editor .view-zones .view-lines .view-line span {\r\n\tdisplay: inline-block;\r\n}\r\n.monaco-editor .margin-view-zones .lightbulb-glyph:hover {\r\n\tcursor: pointer;\r\n}\r\n"},3672:Ct=>{"use strict";Ct.exports="/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n\r\n.monaco-diff-editor .diff-review-line-number {\r\n\ttext-align: right;\r\n\tdisplay: inline-block;\r\n}\r\n\r\n.monaco-diff-editor .diff-review {\r\n\tposition: absolute;\r\n\tuser-select: none;\r\n\t-webkit-user-select: none;\r\n\t-ms-user-select: none;\r\n}\r\n\r\n.monaco-diff-editor .diff-review-summary {\r\n\tpadding-left: 10px;\r\n}\r\n\r\n.monaco-diff-editor .diff-review-shadow {\r\n\tposition: absolute;\r\n}\r\n\r\n.monaco-diff-editor .diff-review-row {\r\n\twhite-space: pre;\r\n}\r\n\r\n.monaco-diff-editor .diff-review-table {\r\n\tdisplay: table;\r\n\tmin-width: 100%;\r\n}\r\n\r\n.monaco-diff-editor .diff-review-row {\r\n\tdisplay: table-row;\r\n\twidth: 100%;\r\n}\r\n\r\n.monaco-diff-editor .diff-review-spacer {\r\n\tdisplay: inline-block;\r\n\twidth: 10px;\r\n\tvertical-align: middle;\r\n}\r\n\r\n.monaco-diff-editor .diff-review-spacer > .codicon {\r\n\tfont-size: 9px !important;\r\n}\r\n\r\n.monaco-diff-editor .diff-review-actions {\r\n\tdisplay: inline-block;\r\n\tposition: absolute;\r\n\tright: 10px;\r\n\ttop: 2px;\r\n}\r\n\r\n.monaco-diff-editor .diff-review-actions .action-label {\r\n\twidth: 16px;\r\n\theight: 16px;\r\n\tmargin: 2px 0;\r\n}\r\n"},8267:Ct=>{"use strict";Ct.exports="/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n\r\n/* -------------------- IE10 remove auto clear button -------------------- */\r\n\r\n::-ms-clear {\r\n\tdisplay: none;\r\n}\r\n\r\n/* All widgets */\r\n\r\n/* I am not a big fan of this rule */\r\n\r\n.monaco-editor .editor-widget input {\r\n\tcolor: inherit;\r\n}\r\n\r\n/* -------------------- Editor -------------------- */\r\n\r\n.monaco-editor {\r\n\tposition: relative;\r\n\toverflow: visible;\r\n\t-webkit-text-size-adjust: 100%;\r\n}\r\n\r\n/* -------------------- Misc -------------------- */\r\n\r\n.monaco-editor .overflow-guard {\r\n\tposition: relative;\r\n\toverflow: hidden;\r\n}\r\n\r\n.monaco-editor .view-overlays {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n}\r\n\r\n/*\r\n.monaco-editor .auto-closed-character {\r\n\topacity: 0.3;\r\n}\r\n*/\r\n"},6537:Ct=>{"use strict";Ct.exports="/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n\r\n.monaco-editor .selection-anchor {\r\n\tbackground-color: #007ACC;\r\n\twidth: 2px !important;\r\n}\r\n"},3211:Ct=>{"use strict";Ct.exports="/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n\r\n.monaco-editor .bracket-match {\r\n\tbox-sizing: border-box;\r\n}\r\n"},8195:Ct=>{"use strict";Ct.exports="/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n\r\n.monaco-editor .contentWidgets .codicon-light-bulb,\r\n.monaco-editor .contentWidgets .codicon-lightbulb-autofix {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n}\r\n\r\n.monaco-editor .contentWidgets .codicon-light-bulb:hover,\r\n.monaco-editor .contentWidgets .codicon-lightbulb-autofix:hover {\r\n\tcursor: pointer;\r\n}\r\n"},5545:Ct=>{"use strict";Ct.exports="/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n\r\n.monaco-editor .codelens-decoration {\r\n\toverflow: hidden;\r\n\tdisplay: inline-block;\r\n\ttext-overflow: ellipsis;\r\n\twhite-space: nowrap;\r\n}\r\n\r\n.monaco-editor .codelens-decoration > span,\r\n.monaco-editor .codelens-decoration > a {\r\n\tuser-select: none;\r\n\t-webkit-user-select: none;\r\n\t-ms-user-select: none;\r\n\twhite-space: nowrap;\r\n\tvertical-align: sub;\r\n}\r\n\r\n.monaco-editor .codelens-decoration > a {\r\n\ttext-decoration: none;\r\n}\r\n\r\n.monaco-editor .codelens-decoration > a:hover {\r\n\tcursor: pointer;\r\n}\r\n\r\n.monaco-editor .codelens-decoration .codicon {\r\n\tvertical-align: middle;\r\n\tcolor: currentColor !important;\r\n}\r\n\r\n.monaco-editor .codelens-decoration > a:hover .codicon::before {\r\n\tcursor: pointer;\r\n}\r\n\r\n@keyframes fadein {\r\n\t0% { opacity: 0; visibility: visible;}\r\n\t100% { opacity: 1; }\r\n}\r\n\r\n.monaco-editor .codelens-decoration.fadein {\r\n\tanimation: fadein 0.1s linear;\r\n}\r\n"},1005:Ct=>{"use strict";Ct.exports='/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n\r\n.colorpicker-widget {\r\n\theight: 190px;\r\n\tuser-select: none;\r\n\t-webkit-user-select: none;\r\n\t-ms-user-select: none;\r\n}\r\n\r\n.monaco-editor .colorpicker-hover:focus {\r\n\toutline: none;\r\n}\r\n\r\n/* Header */\r\n\r\n.colorpicker-header {\r\n\tdisplay: flex;\r\n\theight: 24px;\r\n\tposition: relative;\r\n\tbackground: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTZEaa/1AAAAHUlEQVQYV2PYvXu3JAi7uLiAMaYAjAGTQBPYLQkAa/0Zef3qRswAAAAASUVORK5CYII=");\r\n\tbackground-size: 9px 9px;\r\n\timage-rendering: pixelated;\r\n}\r\n\r\n.colorpicker-header .picked-color {\r\n\twidth: 216px;\r\n\ttext-align: center;\r\n\tline-height: 24px;\r\n\tcursor: pointer;\r\n\tcolor: white;\r\n\tflex: 1;\r\n\ttext-align: center;\r\n}\r\n\r\n.colorpicker-header .picked-color.light {\r\n\tcolor: black;\r\n}\r\n\r\n.colorpicker-header .original-color {\r\n\twidth: 74px;\r\n\tz-index: inherit;\r\n\tcursor: pointer;\r\n}\r\n\r\n/* Body */\r\n\r\n.colorpicker-body {\r\n\tdisplay: flex;\r\n\tpadding: 8px;\r\n\tposition: relative;\r\n}\r\n\r\n.colorpicker-body .saturation-wrap {\r\n\toverflow: hidden;\r\n\theight: 150px;\r\n\tposition: relative;\r\n\tmin-width: 220px;\r\n\tflex: 1;\r\n}\r\n\r\n.colorpicker-body .saturation-box {\r\n\theight: 150px;\r\n\tposition: absolute;\r\n}\r\n\r\n.colorpicker-body .saturation-selection {\r\n\twidth: 9px;\r\n\theight: 9px;\r\n\tmargin: -5px 0 0 -5px;\r\n\tborder: 1px solid rgb(255, 255, 255);\r\n\tborder-radius: 100%;\r\n\tbox-shadow: 0px 0px 2px rgba(0, 0, 0, 0.8);\r\n\tposition: absolute;\r\n}\r\n\r\n.colorpicker-body .strip {\r\n\twidth: 25px;\r\n\theight: 150px;\r\n}\r\n\r\n.colorpicker-body .hue-strip {\r\n\tposition: relative;\r\n\tmargin-left: 8px;\r\n\tcursor: grab;\r\n\tbackground: linear-gradient(to bottom, #ff0000 0%, #ffff00 17%, #00ff00 33%, #00ffff 50%, #0000ff 67%, #ff00ff 83%, #ff0000 100%);\r\n}\r\n\r\n.colorpicker-body .opacity-strip {\r\n\tposition: relative;\r\n\tmargin-left: 8px;\r\n\tcursor: grab;\r\n\tbackground: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTZEaa/1AAAAHUlEQVQYV2PYvXu3JAi7uLiAMaYAjAGTQBPYLQkAa/0Zef3qRswAAAAASUVORK5CYII=");\r\n\tbackground-size: 9px 9px;\r\n\timage-rendering: pixelated;\r\n}\r\n\r\n.colorpicker-body .strip.grabbing {\r\n\tcursor: grabbing;\r\n}\r\n\r\n.colorpicker-body .slider {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tleft: -2px;\r\n\twidth: calc(100% + 4px);\r\n\theight: 4px;\r\n\tbox-sizing: border-box;\r\n\tborder: 1px solid rgba(255, 255, 255, 0.71);\r\n\tbox-shadow: 0px 0px 1px rgba(0, 0, 0, 0.85);\r\n}\r\n\r\n.colorpicker-body .strip .overlay {\r\n\theight: 150px;\r\n\tpointer-events: none;\r\n}\r\n'},8248:Ct=>{"use strict";Ct.exports="/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n\r\n.monaco-editor.vs .dnd-target {\r\n\tborder-right: 2px dotted black;\r\n\tcolor: white; /* opposite of black */\r\n}\r\n\r\n.monaco-editor.vs-dark .dnd-target {\r\n\tborder-right: 2px dotted #AEAFAD;\r\n\tcolor: #51504f; /* opposite of #AEAFAD */\r\n}\r\n\r\n.monaco-editor.hc-black .dnd-target {\r\n\tborder-right: 2px dotted #fff;\r\n\tcolor: #000; /* opposite of #fff */\r\n}\r\n\r\n.monaco-editor.mouse-default .view-lines,\r\n.monaco-editor.vs-dark.mac.mouse-default .view-lines,\r\n.monaco-editor.hc-black.mac.mouse-default .view-lines {\r\n\tcursor: default;\r\n}\r\n\r\n.monaco-editor.mouse-copy .view-lines,\r\n.monaco-editor.vs-dark.mac.mouse-copy .view-lines,\r\n.monaco-editor.hc-black.mac.mouse-copy .view-lines {\r\n\tcursor: copy;\r\n}"},2928:Ct=>{"use strict";Ct.exports="/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n\r\n/* Find widget */\r\n\r\n.monaco-editor .find-widget {\r\n\tposition: absolute;\r\n\tz-index: 35;\r\n\theight: 33px;\r\n\toverflow: hidden;\r\n\tline-height: 19px;\r\n\ttransition: transform 200ms linear;\r\n\tpadding: 0 4px;\r\n\tbox-sizing: border-box;\r\n\ttransform: translateY(calc(-100% - 10px)); /* shadow (10px) */\r\n}\r\n\r\n.monaco-editor .find-widget textarea {\r\n\tmargin: 0px;\r\n}\r\n\r\n.monaco-editor .find-widget.hiddenEditor {\r\n\tdisplay: none;\r\n}\r\n\r\n/* Find widget when replace is toggled on */\r\n\r\n.monaco-editor .find-widget.replaceToggled > .replace-part {\r\n\tdisplay: flex;\r\n}\r\n\r\n.monaco-editor .find-widget.visible  {\r\n\ttransform: translateY(0);\r\n}\r\n\r\n.monaco-editor .find-widget .monaco-inputbox.synthetic-focus {\r\n\toutline: 1px solid -webkit-focus-ring-color;\r\n\toutline-offset: -1px;\r\n}\r\n\r\n.monaco-editor .find-widget .monaco-inputbox .input {\r\n\tbackground-color: transparent;\r\n\tmin-height: 0;\r\n}\r\n\r\n.monaco-editor .find-widget .monaco-findInput .input {\r\n\tfont-size: 13px;\r\n}\r\n\r\n.monaco-editor .find-widget > .find-part,\r\n.monaco-editor .find-widget > .replace-part {\r\n\tmargin: 4px 0 0 17px;\r\n\tfont-size: 12px;\r\n\tdisplay: flex;\r\n}\r\n\r\n.monaco-editor .find-widget > .find-part .monaco-inputbox,\r\n.monaco-editor .find-widget > .replace-part .monaco-inputbox {\r\n\tmin-height: 25px;\r\n}\r\n\r\n.monaco-editor .find-widget > .replace-part .monaco-inputbox > .ibwrapper > .mirror {\r\n\tpadding-right: 22px;\r\n}\r\n\r\n.monaco-editor .find-widget > .find-part .monaco-inputbox > .ibwrapper > .input,\r\n.monaco-editor .find-widget > .find-part .monaco-inputbox > .ibwrapper > .mirror,\r\n.monaco-editor .find-widget > .replace-part .monaco-inputbox > .ibwrapper > .input,\r\n.monaco-editor .find-widget > .replace-part .monaco-inputbox > .ibwrapper > .mirror {\r\n\tpadding-top: 2px;\r\n\tpadding-bottom: 2px;\r\n}\r\n\r\n.monaco-editor .find-widget > .find-part .find-actions {\r\n\theight: 25px;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n}\r\n\r\n.monaco-editor .find-widget > .replace-part .replace-actions {\r\n\theight: 25px;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n}\r\n\r\n.monaco-editor .find-widget .monaco-findInput {\r\n\tvertical-align: middle;\r\n\tdisplay: flex;\r\n\tflex:1;\r\n}\r\n\r\n.monaco-editor .find-widget .monaco-findInput .monaco-scrollable-element {\r\n\t/* Make sure textarea inherits the width correctly */\r\n\twidth: 100%;\r\n}\r\n\r\n.monaco-editor .find-widget .monaco-findInput .monaco-scrollable-element .scrollbar.vertical {\r\n\t/* Hide vertical scrollbar */\r\n\topacity: 0;\r\n}\r\n\r\n.monaco-editor .find-widget .matchesCount {\r\n\tdisplay: flex;\r\n\tflex: initial;\r\n\tmargin: 0 0 0 3px;\r\n\tpadding: 2px 0 0 2px;\r\n\theight: 25px;\r\n\tvertical-align: middle;\r\n\tbox-sizing: border-box;\r\n\ttext-align: center;\r\n\tline-height: 23px;\r\n}\r\n\r\n.monaco-editor .find-widget .button {\r\n\twidth: 20px;\r\n\theight: 20px;\r\n\tdisplay: flex;\r\n\tflex: initial;\r\n\tmargin-left: 3px;\r\n\tbackground-position: center center;\r\n\tbackground-repeat: no-repeat;\r\n\tcursor: pointer;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n}\r\n\r\n.monaco-editor .find-widget .button.left {\r\n\tmargin-left: 0;\r\n\tmargin-right: 3px;\r\n}\r\n\r\n.monaco-editor .find-widget .button.wide {\r\n\twidth: auto;\r\n\tpadding: 1px 6px;\r\n\ttop: -1px;\r\n}\r\n\r\n.monaco-editor .find-widget .button.toggle {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tleft: 3px;\r\n\twidth: 18px;\r\n\theight: 100%;\r\n\tbox-sizing: border-box;\r\n}\r\n\r\n.monaco-editor .find-widget .button.toggle.disabled {\r\n\tdisplay: none;\r\n}\r\n\r\n.monaco-editor .find-widget .disabled {\r\n\topacity: 0.3;\r\n\tcursor: default;\r\n}\r\n\r\n.monaco-editor .find-widget > .replace-part {\r\n\tdisplay: none;\r\n}\r\n\r\n.monaco-editor .find-widget > .replace-part > .monaco-findInput {\r\n\tposition: relative;\r\n\tdisplay: flex;\r\n\tvertical-align: middle;\r\n\tflex: auto;\r\n\tflex-grow: 0;\r\n\tflex-shrink: 0;\r\n}\r\n\r\n.monaco-editor .find-widget > .replace-part > .monaco-findInput > .controls {\r\n\tposition: absolute;\r\n\ttop: 3px;\r\n\tright: 2px;\r\n}\r\n\r\n/* REDUCED */\r\n\r\n.monaco-editor .find-widget.reduced-find-widget .matchesCount {\r\n\tdisplay:none;\r\n}\r\n\r\n/* NARROW (SMALLER THAN REDUCED) */\r\n\r\n.monaco-editor .find-widget.narrow-find-widget {\r\n\tmax-width: 257px !important;\r\n}\r\n\r\n/* COLLAPSED (SMALLER THAN NARROW) */\r\n\r\n.monaco-editor .find-widget.collapsed-find-widget {\r\n\tmax-width: 170px !important;\r\n}\r\n\r\n.monaco-editor .find-widget.collapsed-find-widget .button.previous,\r\n.monaco-editor .find-widget.collapsed-find-widget .button.next,\r\n.monaco-editor .find-widget.collapsed-find-widget .button.replace,\r\n.monaco-editor .find-widget.collapsed-find-widget .button.replace-all,\r\n.monaco-editor .find-widget.collapsed-find-widget > .find-part .monaco-findInput .controls {\r\n\tdisplay:none;\r\n}\r\n\r\n.monaco-editor .findMatch {\r\n\tanimation-duration: 0;\r\n\tanimation-name: inherit !important;\r\n}\r\n\r\n.monaco-editor .find-widget .monaco-sash {\r\n\tleft: 0 !important;\r\n}\r\n\r\n.monaco-editor.hc-black .find-widget .button:before {\r\n\tposition: relative;\r\n\ttop: 1px;\r\n\tleft: 2px;\r\n}\r\n"},2038:Ct=>{"use strict";Ct.exports='/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n\r\n.monaco-editor .margin-view-overlays .codicon-folding-expanded,\r\n.monaco-editor .margin-view-overlays .codicon-folding-collapsed {\r\n\tcursor: pointer;\r\n\topacity: 0;\r\n\ttransition: opacity 0.5s;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n\tfont-size: 140%;\r\n\tmargin-left: 2px;\r\n}\r\n\r\n.monaco-editor .margin-view-overlays:hover .codicon,\r\n.monaco-editor .margin-view-overlays .codicon.codicon-folding-collapsed,\r\n.monaco-editor .margin-view-overlays .codicon.alwaysShowFoldIcons {\r\n\topacity: 1;\r\n}\r\n\r\n.monaco-editor .inline-folded:after {\r\n\tcolor: grey;\r\n\tmargin: 0.1em 0.2em 0 0.2em;\r\n\tcontent: "\u22ef";\r\n\tdisplay: inline;\r\n\tline-height: 1em;\r\n\tcursor: pointer;\r\n}\r\n'},8668:Ct=>{"use strict";Ct.exports="/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n\r\n/* marker zone */\r\n\r\n.monaco-editor .peekview-widget .head .peekview-title .severity-icon {\r\n\tdisplay: inline-block;\r\n\tvertical-align: text-top;\r\n\tmargin-right: 4px;\r\n}\r\n\r\n.monaco-editor .marker-widget {\r\n\ttext-overflow: ellipsis;\r\n\twhite-space: nowrap;\r\n}\r\n\r\n.monaco-editor .marker-widget > .stale {\r\n\topacity: 0.6;\r\n\tfont-style: italic;\r\n}\r\n\r\n.monaco-editor .marker-widget .title {\r\n\tdisplay: inline-block;\r\n\tpadding-right: 5px;\r\n}\r\n\r\n.monaco-editor .marker-widget .descriptioncontainer {\r\n\tposition: absolute;\r\n\twhite-space: pre;\r\n\tuser-select: text;\r\n\t-webkit-user-select: text;\r\n\t-ms-user-select: text;\r\n\tpadding: 8px 12px 0 20px;\r\n}\r\n\r\n.monaco-editor .marker-widget .descriptioncontainer .message {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n}\r\n\r\n.monaco-editor .marker-widget .descriptioncontainer .message .details {\r\n\tpadding-left: 6px;\r\n}\r\n\r\n.monaco-editor .marker-widget .descriptioncontainer .message .source,\r\n.monaco-editor .marker-widget .descriptioncontainer .message span.code {\r\n\topacity: 0.6;\r\n}\r\n\r\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link {\r\n\topacity: 0.6;\r\n\tcolor: inherit;\r\n}\r\n\r\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link:before {\r\n\tcontent: '(';\r\n}\r\n\r\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link:after {\r\n\tcontent: ')';\r\n}\r\n\r\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link > span {\r\n\ttext-decoration: underline;\r\n\t/** Hack to force underline to show **/\r\n\tborder-bottom: 1px solid transparent;\r\n\ttext-underline-position: under;\r\n}\r\n\r\n.monaco-editor .marker-widget .descriptioncontainer .filename {\r\n\tcursor: pointer;\r\n}\r\n"},1286:Ct=>{"use strict";Ct.exports="/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n\r\n.monaco-editor .goto-definition-link {\r\n\ttext-decoration: underline;\r\n\tcursor: pointer;\r\n}"},1815:Ct=>{"use strict";Ct.exports="/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n\r\n/* -- zone widget */\r\n\r\n.monaco-editor .zone-widget .zone-widget-container.reference-zone-widget {\r\n\tborder-top-width: 1px;\r\n\tborder-bottom-width: 1px;\r\n}\r\n\r\n.monaco-editor .reference-zone-widget .inline {\r\n\tdisplay: inline-block;\r\n\tvertical-align: top;\r\n}\r\n\r\n.monaco-editor .reference-zone-widget .messages {\r\n\theight: 100%;\r\n\twidth: 100%;\r\n\ttext-align: center;\r\n\tpadding: 3em 0;\r\n}\r\n\r\n.monaco-editor .reference-zone-widget .ref-tree {\r\n\tline-height: 23px;\r\n}\r\n\r\n.monaco-editor .reference-zone-widget .ref-tree .reference {\r\n\ttext-overflow: ellipsis;\r\n\toverflow: hidden;\r\n}\r\n\r\n.monaco-editor .reference-zone-widget .ref-tree .reference-file {\r\n\tdisplay: inline-flex;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n}\r\n\r\n.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .selected .reference-file {\r\n\tcolor: inherit !important;\r\n}\r\n\r\n.monaco-editor .reference-zone-widget .ref-tree .reference-file .count {\r\n\tmargin-right: 12px;\r\n\tmargin-left: auto;\r\n}\r\n\r\n/* High Contrast Theming */\r\n\r\n.monaco-editor.hc-black .reference-zone-widget .ref-tree .reference-file {\r\n\tfont-weight: bold;\r\n}\r\n"},2967:Ct=>{"use strict";Ct.exports="/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n\r\n.monaco-editor .suggest-preview-additional-widget {\r\n\twhite-space: nowrap;\r\n}\r\n\r\n.monaco-editor .suggest-preview-additional-widget .content-spacer {\r\n\tcolor: transparent;\r\n\twhite-space: pre;\r\n}\r\n\r\n.monaco-editor .suggest-preview-additional-widget .button {\r\n\tdisplay: inline-block;\r\n\tcursor: pointer;\r\n\ttext-decoration: underline;\r\n\ttext-underline-position: under;\r\n}\r\n\r\n.monaco-editor .ghost-text-hidden {\r\n\topacity: 0;\r\n\tfont-size: 0;\r\n}\r\n"},4380:Ct=>{"use strict";Ct.exports="/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n.monaco-editor .detected-link,\r\n.monaco-editor .detected-link-active {\r\n\ttext-decoration: underline;\r\n\ttext-underline-position: under;\r\n}\r\n.monaco-editor .detected-link-active {\r\n\tcursor: pointer;\r\n}\r\n"},1035:Ct=>{"use strict";Ct.exports="/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n\r\n.monaco-editor .monaco-editor-overlaymessage {\r\n\tpadding-bottom: 8px;\r\n\tz-index: 10000;\r\n}\r\n\r\n.monaco-editor .monaco-editor-overlaymessage.below {\r\n\tpadding-bottom: 0;\r\n\tpadding-top: 8px;\r\n\tz-index: 10000;\r\n}\r\n\r\n@keyframes fadeIn {\r\n\tfrom { opacity: 0; }\r\n\tto { opacity: 1; }\r\n}\r\n\r\n.monaco-editor .monaco-editor-overlaymessage.fadeIn {\r\n\tanimation: fadeIn 150ms ease-out;\r\n}\r\n\r\n@keyframes fadeOut {\r\n\tfrom { opacity: 1; }\r\n\tto { opacity: 0; }\r\n}\r\n\r\n.monaco-editor .monaco-editor-overlaymessage.fadeOut {\r\n\tanimation: fadeOut 100ms ease-out;\r\n}\r\n\r\n.monaco-editor .monaco-editor-overlaymessage .message {\r\n\tpadding: 1px 4px;\r\n}\r\n\r\n.monaco-editor .monaco-editor-overlaymessage .anchor {\r\n\twidth: 0 !important;\r\n\theight: 0 !important;\r\n\tborder-color: transparent;\r\n\tborder-style: solid;\r\n\tz-index: 1000;\r\n\tborder-width: 8px;\r\n\tposition: absolute;\r\n}\r\n\r\n.monaco-editor .monaco-editor-overlaymessage:not(.below) .anchor.top,\r\n.monaco-editor .monaco-editor-overlaymessage.below .anchor.below {\r\n\tdisplay: none;\r\n}\r\n\r\n.monaco-editor .monaco-editor-overlaymessage.below .anchor.top {\r\n\tdisplay: inherit;\r\n\ttop: -8px;\r\n}\r\n"},8996:Ct=>{"use strict";Ct.exports="/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n\r\n.monaco-editor .parameter-hints-widget {\r\n\tz-index: 10;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tline-height: 1.5em;\r\n}\r\n\r\n.monaco-editor .parameter-hints-widget > .phwrapper {\r\n\tmax-width: 440px;\r\n\tdisplay: flex;\r\n\tflex-direction: row;\r\n}\r\n\r\n.monaco-editor .parameter-hints-widget.multiple {\r\n\tmin-height: 3.3em;\r\n\tpadding: 0;\r\n}\r\n\r\n.monaco-editor .parameter-hints-widget.visible {\r\n\ttransition: left .05s ease-in-out;\r\n}\r\n\r\n.monaco-editor .parameter-hints-widget p,\r\n.monaco-editor .parameter-hints-widget ul {\r\n\tmargin: 8px 0;\r\n}\r\n\r\n.monaco-editor .parameter-hints-widget .monaco-scrollable-element,\r\n.monaco-editor .parameter-hints-widget .body {\r\n\tdisplay: flex;\r\n\tflex: 1;\r\n\tflex-direction: column;\r\n\tmin-height: 100%;\r\n}\r\n\r\n.monaco-editor .parameter-hints-widget .signature {\r\n\tpadding: 4px 5px;\r\n}\r\n\r\n.monaco-editor .parameter-hints-widget .docs {\r\n\tpadding: 0 10px 0 5px;\r\n\twhite-space: pre-wrap;\r\n}\r\n\r\n.monaco-editor .parameter-hints-widget .docs.empty {\r\n\tdisplay: none;\r\n}\r\n\r\n.monaco-editor .parameter-hints-widget .docs .markdown-docs {\r\n\twhite-space: initial;\r\n}\r\n\r\n.monaco-editor .parameter-hints-widget .docs .markdown-docs code {\r\n\tfont-family: var(--monaco-monospace-font);\r\n}\r\n\r\n.monaco-editor .parameter-hints-widget .docs .code {\r\n\twhite-space: pre-wrap;\r\n}\r\n\r\n.monaco-editor .parameter-hints-widget .docs code {\r\n\tborder-radius: 3px;\r\n\tpadding: 0 0.4em;\r\n}\r\n\r\n.monaco-editor .parameter-hints-widget .controls {\r\n\tdisplay: none;\r\n\tflex-direction: column;\r\n\talign-items: center;\r\n\tmin-width: 22px;\r\n\tjustify-content: flex-end;\r\n}\r\n\r\n.monaco-editor .parameter-hints-widget.multiple .controls {\r\n\tdisplay: flex;\r\n\tpadding: 0 2px;\r\n}\r\n\r\n.monaco-editor .parameter-hints-widget.multiple .button {\r\n\twidth: 16px;\r\n\theight: 16px;\r\n\tbackground-repeat: no-repeat;\r\n\tcursor: pointer;\r\n}\r\n\r\n.monaco-editor .parameter-hints-widget .button.previous {\r\n\tbottom: 24px;\r\n}\r\n\r\n.monaco-editor .parameter-hints-widget .overloads {\r\n\ttext-align: center;\r\n\theight: 12px;\r\n\tline-height: 12px;\r\n\topacity: 0.5;\r\n\tfont-family: var(--monaco-monospace-font);\r\n}\r\n\r\n.monaco-editor .parameter-hints-widget .signature .parameter.active {\r\n\tfont-weight: bold;\r\n\ttext-decoration: underline;\r\n}\r\n\r\n.monaco-editor .parameter-hints-widget .documentation-parameter > .parameter {\r\n\tfont-weight: bold;\r\n\tmargin-right: 0.5em;\r\n}\r\n"},841:Ct=>{"use strict";Ct.exports="/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n\r\n.monaco-editor .peekview-widget .head {\r\n\tbox-sizing: border-box;\r\n\tdisplay: flex;\r\n}\r\n\r\n.monaco-editor .peekview-widget .head .peekview-title {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tfont-size: 13px;\r\n\tmargin-left: 20px;\r\n\tcursor: pointer;\r\n\tmin-width: 0;\r\n}\r\n\r\n.monaco-editor .peekview-widget .head .peekview-title .dirname:not(:empty) {\r\n\tfont-size: 0.9em;\r\n\tmargin-left: 0.5em;\r\n}\r\n\r\n.monaco-editor .peekview-widget .head .peekview-title .meta {\r\n\twhite-space: nowrap;\r\n}\r\n\r\n.monaco-editor .peekview-widget .head .peekview-title .dirname {\r\n\twhite-space: nowrap;\r\n}\r\n\r\n.monaco-editor .peekview-widget .head .peekview-title .filename {\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n\twhite-space: nowrap;\r\n}\r\n\r\n.monaco-editor .peekview-widget .head .peekview-title .meta:not(:empty)::before {\r\n\tcontent: '-';\r\n\tpadding: 0 0.3em;\r\n}\r\n\r\n.monaco-editor .peekview-widget .head .peekview-actions {\r\n\tflex: 1;\r\n\ttext-align: right;\r\n\tpadding-right: 2px;\r\n}\r\n\r\n.monaco-editor .peekview-widget .head .peekview-actions > .monaco-action-bar {\r\n\tdisplay: inline-block;\r\n}\r\n\r\n.monaco-editor .peekview-widget .head .peekview-actions > .monaco-action-bar,\r\n.monaco-editor .peekview-widget .head .peekview-actions > .monaco-action-bar > .actions-container {\r\n\theight: 100%;\r\n}\r\n\r\n.monaco-editor .peekview-widget > .body {\r\n\tborder-top: 1px solid;\r\n\tposition: relative;\r\n}\r\n\r\n.monaco-editor .peekview-widget .head .peekview-title .codicon {\r\n\tmargin-right: 4px;\r\n}\r\n\r\n.monaco-editor .peekview-widget .monaco-list .monaco-list-row.focused .codicon {\r\n\tcolor: inherit !important;\r\n}\r\n"},5094:Ct=>{"use strict";Ct.exports="/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n\r\n.monaco-editor .rename-box {\r\n\tz-index: 100;\r\n\tcolor: inherit;\r\n}\r\n\r\n.monaco-editor .rename-box.preview {\r\n\tpadding: 3px 3px 0 3px;\r\n}\r\n\r\n.monaco-editor .rename-box .rename-input {\r\n\tpadding: 3px;\r\n\twidth: calc(100% - 6px);\r\n}\r\n\r\n.monaco-editor .rename-box .rename-label {\r\n\tdisplay: none;\r\n\topacity: .8;\r\n}\r\n\r\n.monaco-editor .rename-box.preview .rename-label {\r\n\tdisplay: inherit;\r\n}\r\n"},8560:Ct=>{"use strict";Ct.exports="/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n\r\n.monaco-editor .snippet-placeholder {\r\n\tmin-width: 2px;\r\n\toutline-style: solid;\r\n\toutline-width: 1px;\r\n}\r\n\r\n.monaco-editor .finish-snippet-placeholder {\r\n\toutline-style: solid;\r\n\toutline-width: 1px;\r\n}\r\n"},3339:Ct=>{"use strict";Ct.exports="/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n\r\n/* Suggest widget*/\r\n\r\n.monaco-editor .suggest-widget {\r\n\twidth: 430px;\r\n\tz-index: 40;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n}\r\n\r\n.monaco-editor .suggest-widget.message {\r\n\tflex-direction: row;\r\n\talign-items: center;\r\n}\r\n\r\n.monaco-editor .suggest-widget,\r\n.monaco-editor .suggest-details {\r\n\tflex: 0 1 auto;\r\n\twidth: 100%;\r\n\tborder-style: solid;\r\n\tborder-width: 1px;\r\n}\r\n\r\n.monaco-editor.hc-black .suggest-widget,\r\n.monaco-editor.hc-black .suggest-details {\r\n\tborder-width: 2px;\r\n}\r\n\r\n/* Styles for status bar part */\r\n\r\n.monaco-editor .suggest-widget .suggest-status-bar {\r\n\tbox-sizing: border-box;\r\n\tdisplay: none;\r\n\tflex-flow: row nowrap;\r\n\tjustify-content: space-between;\r\n\twidth: 100%;\r\n\tfont-size: 80%;\r\n\tpadding: 0 4px 0 4px;\r\n\tborder-top: 1px solid transparent;\r\n\toverflow: hidden;\r\n}\r\n\r\n.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar {\r\n\tdisplay: flex;\r\n}\r\n\r\n.monaco-editor .suggest-widget .suggest-status-bar .left {\r\n\tpadding-right: 8px;\r\n}\r\n\r\n.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar .action-label {\r\n\topacity: 0.5;\r\n\tcolor: inherit;\r\n}\r\n\r\n.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar .action-item:not(:last-of-type) .action-label {\r\n\tmargin-right: 0;\r\n}\r\n\r\n.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar .action-item:not(:last-of-type) .action-label::after {\r\n\tcontent: ', ';\r\n\tmargin-right: 0.3em;\r\n}\r\n\r\n.monaco-editor .suggest-widget.with-status-bar .monaco-list .monaco-list-row>.contents>.main>.right>.readMore,\r\n.monaco-editor .suggest-widget.with-status-bar .monaco-list .monaco-list-row.focused.string-label>.contents>.main>.right>.readMore {\r\n\tdisplay: none;\r\n}\r\n\r\n.monaco-editor .suggest-widget.with-status-bar:not(.docs-side) .monaco-list .monaco-list-row:hover>.contents>.main>.right.can-expand-details>.details-label {\r\n\twidth: 100%;\r\n}\r\n\r\n/* Styles for Message element for when widget is loading or is empty */\r\n\r\n.monaco-editor .suggest-widget>.message {\r\n\tpadding-left: 22px;\r\n}\r\n\r\n/** Styles for the list element **/\r\n\r\n.monaco-editor .suggest-widget>.tree {\r\n\theight: 100%;\r\n\twidth: 100%;\r\n}\r\n\r\n.monaco-editor .suggest-widget .monaco-list {\r\n\tuser-select: none;\r\n\t-webkit-user-select: none;\r\n\t-ms-user-select: none;\r\n}\r\n\r\n/** Styles for each row in the list element **/\r\n\r\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row {\r\n\tdisplay: flex;\r\n\t-mox-box-sizing: border-box;\r\n\tbox-sizing: border-box;\r\n\tpadding-right: 10px;\r\n\tbackground-repeat: no-repeat;\r\n\tbackground-position: 2px 2px;\r\n\twhite-space: nowrap;\r\n\tcursor: pointer;\r\n\ttouch-action: none;\r\n}\r\n\r\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents {\r\n\tflex: 1;\r\n\theight: 100%;\r\n\toverflow: hidden;\r\n\tpadding-left: 2px;\r\n}\r\n\r\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main {\r\n\tdisplay: flex;\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n\twhite-space: pre;\r\n\tjustify-content: space-between;\r\n}\r\n\r\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left, .monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right {\r\n\tdisplay: flex;\r\n}\r\n\r\n.monaco-editor .suggest-widget:not(.frozen) .monaco-highlighted-label .highlight {\r\n\tfont-weight: bold;\r\n}\r\n\r\n/** ReadMore Icon styles **/\r\n\r\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.codicon-close,\r\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.readMore::before {\r\n\tcolor: inherit;\r\n\topacity: 1;\r\n\tfont-size: 14px;\r\n\tcursor: pointer;\r\n}\r\n\r\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.codicon-close {\r\n\tposition: absolute;\r\n\ttop: 6px;\r\n\tright: 2px;\r\n}\r\n\r\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.codicon-close:hover,\r\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.readMore:hover {\r\n\topacity: 1;\r\n}\r\n\r\n/** signature, qualifier, type/details opacity **/\r\n\r\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label {\r\n\topacity: 0.7;\r\n}\r\n\r\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left>.signature-label {\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n\topacity: 0.6;\r\n}\r\n\r\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left>.qualifier-label {\r\n\tmargin-left: 12px;\r\n\topacity: 0.4;\r\n\tfont-size: 85%;\r\n\tline-height: initial;\r\n\ttext-overflow: ellipsis;\r\n\toverflow: hidden;\r\n\talign-self: center;\r\n}\r\n\r\n/** Type Info and icon next to the label in the focused completion item **/\r\n\r\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label {\r\n\tfont-size: 85%;\r\n\tmargin-left: 1.1em;\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n\twhite-space: nowrap;\r\n}\r\n\r\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label>.monaco-tokenized-source {\r\n\tdisplay: inline;\r\n}\r\n\r\n/** Details: if using CompletionItem#details, show on focus **/\r\n\r\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label {\r\n\tdisplay: none;\r\n}\r\n\r\n.monaco-editor .suggest-widget:not(.shows-details) .monaco-list .monaco-list-row.focused>.contents>.main>.right>.details-label {\r\n\tdisplay: inline;\r\n}\r\n\r\n/** Details: if using CompletionItemLabel#details, always show **/\r\n\r\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row:not(.string-label)>.contents>.main>.right>.details-label,\r\n.monaco-editor .suggest-widget.docs-side .monaco-list .monaco-list-row.focused:not(.string-label)>.contents>.main>.right>.details-label {\r\n\tdisplay: inline;\r\n}\r\n\r\n/** Ellipsis on hover **/\r\n\r\n.monaco-editor .suggest-widget:not(.docs-side) .monaco-list .monaco-list-row:hover>.contents>.main>.right.can-expand-details>.details-label {\r\n\twidth: calc(100% - 26px);\r\n}\r\n\r\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left {\r\n\tflex-shrink: 1;\r\n\tflex-grow: 1;\r\n\toverflow: hidden;\r\n}\r\n\r\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left>.monaco-icon-label {\r\n\tflex-shrink: 0;\r\n}\r\n\r\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row:not(.string-label)>.contents>.main>.left>.monaco-icon-label {\r\n\tmax-width: 100%;\r\n}\r\n\r\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.string-label>.contents>.main>.left>.monaco-icon-label {\r\n\tflex-shrink: 1;\r\n}\r\n\r\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right {\r\n\toverflow: hidden;\r\n\tflex-shrink: 4;\r\n\tmax-width: 70%;\r\n}\r\n\r\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.readMore {\r\n\tdisplay: inline-block;\r\n\tposition: absolute;\r\n\tright: 10px;\r\n\twidth: 18px;\r\n\theight: 18px;\r\n\tvisibility: hidden;\r\n}\r\n\r\n/** Do NOT display ReadMore when docs is side/below **/\r\n\r\n.monaco-editor .suggest-widget.docs-side .monaco-list .monaco-list-row>.contents>.main>.right>.readMore, .monaco-editor .suggest-widget.docs-below .monaco-list .monaco-list-row>.contents>.main>.right>.readMore {\r\n\tdisplay: none !important;\r\n}\r\n\r\n/** Do NOT display ReadMore when using plain CompletionItemLabel (details/documentation might not be resolved) **/\r\n\r\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.string-label>.contents>.main>.right>.readMore {\r\n\tdisplay: none;\r\n}\r\n\r\n/** Focused item can show ReadMore, but can't when docs is side/below **/\r\n\r\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused.string-label>.contents>.main>.right>.readMore {\r\n\tdisplay: inline-block;\r\n}\r\n\r\n.monaco-editor .suggest-widget.docs-side .monaco-list .monaco-list-row>.contents>.main>.right>.readMore,\r\n.monaco-editor .suggest-widget.docs-below .monaco-list .monaco-list-row>.contents>.main>.right>.readMore {\r\n\tdisplay: none;\r\n}\r\n\r\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row:hover>.contents>.main>.right>.readMore {\r\n\tvisibility: visible;\r\n}\r\n\r\n/** Styles for each row in the list **/\r\n\r\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label.deprecated {\r\n\topacity: 0.66;\r\n\ttext-decoration: unset;\r\n}\r\n\r\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label.deprecated>.monaco-icon-label-container>.monaco-icon-name-container {\r\n\ttext-decoration: line-through;\r\n}\r\n\r\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label::before {\r\n\theight: 100%;\r\n}\r\n\r\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon {\r\n\tdisplay: block;\r\n\theight: 16px;\r\n\twidth: 16px;\r\n\tmargin-left: 2px;\r\n\tbackground-repeat: no-repeat;\r\n\tbackground-size: 80%;\r\n\tbackground-position: center;\r\n}\r\n\r\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon.hide {\r\n\tdisplay: none;\r\n}\r\n\r\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .suggest-icon {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tmargin-right: 4px;\r\n}\r\n\r\n.monaco-editor .suggest-widget.no-icons .monaco-list .monaco-list-row .icon, .monaco-editor .suggest-widget.no-icons .monaco-list .monaco-list-row .suggest-icon::before {\r\n\tdisplay: none;\r\n}\r\n\r\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon.customcolor .colorspan {\r\n\tmargin: 0 0 0 0.3em;\r\n\tborder: 0.1em solid #000;\r\n\twidth: 0.7em;\r\n\theight: 0.7em;\r\n\tdisplay: inline-block;\r\n}\r\n\r\n/** Styles for the docs of the completion item in focus **/\r\n\r\n.monaco-editor .suggest-details-container {\r\n\tz-index: 41;\r\n}\r\n\r\n.monaco-editor .suggest-details {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tcursor: default;\r\n}\r\n\r\n.monaco-editor .suggest-details.no-docs {\r\n\tdisplay: none;\r\n}\r\n\r\n.monaco-editor .suggest-details>.monaco-scrollable-element {\r\n\tflex: 1;\r\n}\r\n\r\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body {\r\n\tbox-sizing: border-box;\r\n\theight: 100%;\r\n\twidth: 100%;\r\n}\r\n\r\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.type {\r\n\tflex: 2;\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n\topacity: 0.7;\r\n\twhite-space: pre;\r\n\tmargin: 0 24px 0 0;\r\n\tpadding: 4px 0 12px 5px;\r\n}\r\n\r\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.type.auto-wrap {\r\n\twhite-space: normal;\r\n\tword-break: break-all;\r\n}\r\n\r\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs {\r\n\tmargin: 0;\r\n\tpadding: 4px 5px;\r\n\twhite-space: pre-wrap;\r\n}\r\n\r\n.monaco-editor .suggest-details.no-type>.monaco-scrollable-element>.body>.docs {\r\n\tmargin-right: 24px;\r\n}\r\n\r\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs {\r\n\tpadding: 0;\r\n\twhite-space: initial;\r\n\tmin-height: calc(1rem + 8px);\r\n}\r\n\r\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>div,\r\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>span:not(:empty) {\r\n\tpadding: 4px 5px;\r\n}\r\n\r\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>div>p:first-child {\r\n\tmargin-top: 0;\r\n}\r\n\r\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>div>p:last-child {\r\n\tmargin-bottom: 0;\r\n}\r\n\r\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs .code {\r\n\twhite-space: pre-wrap;\r\n\tword-wrap: break-word;\r\n}\r\n\r\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs .codicon {\r\n\tvertical-align: sub;\r\n}\r\n\r\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>p:empty {\r\n\tdisplay: none;\r\n}\r\n\r\n.monaco-editor .suggest-details code {\r\n\tborder-radius: 3px;\r\n\tpadding: 0 0.4em;\r\n}\r\n\r\n.monaco-editor .suggest-details ul {\r\n\tpadding-left: 20px;\r\n}\r\n\r\n.monaco-editor .suggest-details ol {\r\n\tpadding-left: 20px;\r\n}\r\n\r\n.monaco-editor .suggest-details p code {\r\n\tfont-family: var(--monaco-monospace-font);\r\n}\r\n"},3673:Ct=>{"use strict";Ct.exports="/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n.monaco-editor .zone-widget {\r\n\tposition: absolute;\r\n\tz-index: 10;\r\n}\r\n.monaco-editor .zone-widget .zone-widget-container {\r\n\tborder-top-style: solid;\r\n\tborder-bottom-style: solid;\r\n\tborder-top-width: 0;\r\n\tborder-bottom-width: 0;\r\n\tposition: relative;\r\n}\r\n"},139:Ct=>{"use strict";Ct.exports="/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n\r\n.monaco-editor .accessibilityHelpWidget {\r\n\tpadding: 10px;\r\n\tvertical-align: middle;\r\n\toverflow: scroll;\r\n}"},1445:Ct=>{"use strict";Ct.exports='/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n\r\n.monaco-editor .iPadShowKeyboard {\r\n\twidth: 58px;\r\n\tmin-width: 0;\r\n\theight: 36px;\r\n\tmin-height: 0;\r\n\tmargin: 0;\r\n\tpadding: 0;\r\n\tposition: absolute;\r\n\tresize: none;\r\n\toverflow: hidden;\r\n\tbackground: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCA1MyAzNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxnIGNsaXAtcGF0aD0idXJsKCNjbGlwMCkiPg0KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00OC4wMzY0IDQuMDEwNDJINC4wMDc3OUw0LjAwNzc5IDMyLjAyODZINDguMDM2NFY0LjAxMDQyWk00LjAwNzc5IDAuMDA3ODEyNUMxLjc5NzIxIDAuMDA3ODEyNSAwLjAwNTE4Nzk5IDEuNzk5ODQgMC4wMDUxODc5OSA0LjAxMDQyVjMyLjAyODZDMC4wMDUxODc5OSAzNC4yMzkyIDEuNzk3MjEgMzYuMDMxMiA0LjAwNzc5IDM2LjAzMTJINDguMDM2NEM1MC4yNDcgMzYuMDMxMiA1Mi4wMzkgMzQuMjM5MiA1Mi4wMzkgMzIuMDI4NlY0LjAxMDQyQzUyLjAzOSAxLjc5OTg0IDUwLjI0NyAwLjAwNzgxMjUgNDguMDM2NCAwLjAwNzgxMjVINC4wMDc3OVpNOC4wMTA0MiA4LjAxMzAySDEyLjAxM1YxMi4wMTU2SDguMDEwNDJWOC4wMTMwMlpNMjAuMDE4MiA4LjAxMzAySDE2LjAxNTZWMTIuMDE1NkgyMC4wMTgyVjguMDEzMDJaTTI0LjAyMDggOC4wMTMwMkgyOC4wMjM0VjEyLjAxNTZIMjQuMDIwOFY4LjAxMzAyWk0zNi4wMjg2IDguMDEzMDJIMzIuMDI2VjEyLjAxNTZIMzYuMDI4NlY4LjAxMzAyWk00MC4wMzEyIDguMDEzMDJINDQuMDMzOVYxMi4wMTU2SDQwLjAzMTJWOC4wMTMwMlpNMTYuMDE1NiAxNi4wMTgySDguMDEwNDJWMjAuMDIwOEgxNi4wMTU2VjE2LjAxODJaTTIwLjAxODIgMTYuMDE4MkgyNC4wMjA4VjIwLjAyMDhIMjAuMDE4MlYxNi4wMTgyWk0zMi4wMjYgMTYuMDE4MkgyOC4wMjM0VjIwLjAyMDhIMzIuMDI2VjE2LjAxODJaTTQ0LjAzMzkgMTYuMDE4MlYyMC4wMjA4SDM2LjAyODZWMTYuMDE4Mkg0NC4wMzM5Wk0xMi4wMTMgMjQuMDIzNEg4LjAxMDQyVjI4LjAyNkgxMi4wMTNWMjQuMDIzNFpNMTYuMDE1NiAyNC4wMjM0SDM2LjAyODZWMjguMDI2SDE2LjAxNTZWMjQuMDIzNFpNNDQuMDMzOSAyNC4wMjM0SDQwLjAzMTJWMjguMDI2SDQ0LjAzMzlWMjQuMDIzNFoiIGZpbGw9IiM0MjQyNDIiLz4NCjwvZz4NCjxkZWZzPg0KPGNsaXBQYXRoIGlkPSJjbGlwMCI+DQo8cmVjdCB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIGZpbGw9IndoaXRlIi8+DQo8L2NsaXBQYXRoPg0KPC9kZWZzPg0KPC9zdmc+DQo=") center center no-repeat;\r\n\tborder: 4px solid #F6F6F6;\r\n\tborder-radius: 4px;\r\n}\r\n\r\n.monaco-editor.vs-dark .iPadShowKeyboard {\r\n\tbackground: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCA1MyAzNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxnIGNsaXAtcGF0aD0idXJsKCNjbGlwMCkiPg0KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00OC4wMzY0IDQuMDEwNDJINC4wMDc3OUw0LjAwNzc5IDMyLjAyODZINDguMDM2NFY0LjAxMDQyWk00LjAwNzc5IDAuMDA3ODEyNUMxLjc5NzIxIDAuMDA3ODEyNSAwLjAwNTE4Nzk5IDEuNzk5ODQgMC4wMDUxODc5OSA0LjAxMDQyVjMyLjAyODZDMC4wMDUxODc5OSAzNC4yMzkyIDEuNzk3MjEgMzYuMDMxMiA0LjAwNzc5IDM2LjAzMTJINDguMDM2NEM1MC4yNDcgMzYuMDMxMiA1Mi4wMzkgMzQuMjM5MiA1Mi4wMzkgMzIuMDI4NlY0LjAxMDQyQzUyLjAzOSAxLjc5OTg0IDUwLjI0NyAwLjAwNzgxMjUgNDguMDM2NCAwLjAwNzgxMjVINC4wMDc3OVpNOC4wMTA0MiA4LjAxMzAySDEyLjAxM1YxMi4wMTU2SDguMDEwNDJWOC4wMTMwMlpNMjAuMDE4MiA4LjAxMzAySDE2LjAxNTZWMTIuMDE1NkgyMC4wMTgyVjguMDEzMDJaTTI0LjAyMDggOC4wMTMwMkgyOC4wMjM0VjEyLjAxNTZIMjQuMDIwOFY4LjAxMzAyWk0zNi4wMjg2IDguMDEzMDJIMzIuMDI2VjEyLjAxNTZIMzYuMDI4NlY4LjAxMzAyWk00MC4wMzEyIDguMDEzMDJINDQuMDMzOVYxMi4wMTU2SDQwLjAzMTJWOC4wMTMwMlpNMTYuMDE1NiAxNi4wMTgySDguMDEwNDJWMjAuMDIwOEgxNi4wMTU2VjE2LjAxODJaTTIwLjAxODIgMTYuMDE4MkgyNC4wMjA4VjIwLjAyMDhIMjAuMDE4MlYxNi4wMTgyWk0zMi4wMjYgMTYuMDE4MkgyOC4wMjM0VjIwLjAyMDhIMzIuMDI2VjE2LjAxODJaTTQ0LjAzMzkgMTYuMDE4MlYyMC4wMjA4SDM2LjAyODZWMTYuMDE4Mkg0NC4wMzM5Wk0xMi4wMTMgMjQuMDIzNEg4LjAxMDQyVjI4LjAyNkgxMi4wMTNWMjQuMDIzNFpNMTYuMDE1NiAyNC4wMjM0SDM2LjAyODZWMjguMDI2SDE2LjAxNTZWMjQuMDIzNFpNNDQuMDMzOSAyNC4wMjM0SDQwLjAzMTJWMjguMDI2SDQ0LjAzMzlWMjQuMDIzNFoiIGZpbGw9IiNDNUM1QzUiLz4NCjwvZz4NCjxkZWZzPg0KPGNsaXBQYXRoIGlkPSJjbGlwMCI+DQo8cmVjdCB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIGZpbGw9IndoaXRlIi8+DQo8L2NsaXBQYXRoPg0KPC9kZWZzPg0KPC9zdmc+DQo=") center center no-repeat;\r\n\tborder: 4px solid #252526;\r\n}'},1093:Ct=>{"use strict";Ct.exports="/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n\r\n.monaco-editor .tokens-inspect-widget {\r\n\tz-index: 50;\r\n\tuser-select: text;\r\n\t-webkit-user-select: text;\r\n\t-ms-user-select: text;\r\n\tpadding: 10px;\r\n}\r\n\r\n.tokens-inspect-separator {\r\n\theight: 1px;\r\n\tborder: 0;\r\n}\r\n\r\n.monaco-editor .tokens-inspect-widget .tm-token {\r\n\tfont-family: var(--monaco-monospace-font);\r\n}\r\n\r\n.monaco-editor .tokens-inspect-widget .tm-token-length {\r\n\tfont-weight: normal;\r\n\tfont-size: 60%;\r\n\tfloat: right;\r\n}\r\n\r\n.monaco-editor .tokens-inspect-widget .tm-metadata-table {\r\n\twidth: 100%;\r\n}\r\n\r\n.monaco-editor .tokens-inspect-widget .tm-metadata-value {\r\n\tfont-family: var(--monaco-monospace-font);\r\n\ttext-align: right;\r\n}\r\n\r\n.monaco-editor .tokens-inspect-widget .tm-token-type {\r\n\tfont-family: var(--monaco-monospace-font);\r\n}\r\n"},4101:Ct=>{"use strict";Ct.exports="/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n\r\n.quick-input-widget {\r\n\tfont-size: 13px;\r\n}\r\n\r\n.quick-input-widget .monaco-highlighted-label .highlight,\r\n.quick-input-widget .monaco-highlighted-label .highlight {\r\n\tcolor: #0066BF;\r\n}\r\n\r\n.vs .quick-input-widget .monaco-list-row.focused .monaco-highlighted-label .highlight,\r\n.vs .quick-input-widget .monaco-list-row.focused .monaco-highlighted-label .highlight {\r\n\tcolor: #9DDDFF;\r\n}\r\n\r\n.vs-dark .quick-input-widget .monaco-highlighted-label .highlight,\r\n.vs-dark .quick-input-widget .monaco-highlighted-label .highlight {\r\n\tcolor: #0097fb;\r\n}\r\n\r\n.hc-black .quick-input-widget .monaco-highlighted-label .highlight,\r\n.hc-black .quick-input-widget .monaco-highlighted-label .highlight {\r\n\tcolor: #F38518;\r\n}\r\n\r\n.monaco-keybinding > .monaco-keybinding-key {\r\n\tbackground-color: rgba(221, 221, 221, 0.4);\r\n\tborder: solid 1px rgba(204, 204, 204, 0.4);\r\n\tborder-bottom-color: rgba(187, 187, 187, 0.4);\r\n\tbox-shadow: inset 0 -1px 0 rgba(187, 187, 187, 0.4);\r\n\tcolor: #555;\r\n}\r\n\r\n.hc-black .monaco-keybinding > .monaco-keybinding-key {\r\n\tbackground-color: transparent;\r\n\tborder: solid 1px rgb(111, 195, 223);\r\n\tbox-shadow: none;\r\n\tcolor: #fff;\r\n}\r\n\r\n.vs-dark .monaco-keybinding > .monaco-keybinding-key {\r\n\tbackground-color: rgba(128, 128, 128, 0.17);\r\n\tborder: solid 1px rgba(51, 51, 51, 0.6);\r\n\tborder-bottom-color: rgba(68, 68, 68, 0.6);\r\n\tbox-shadow: inset 0 -1px 0 rgba(68, 68, 68, 0.6);\r\n\tcolor: #ccc;\r\n}\r\n"},1682:Ct=>{"use strict";Ct.exports='/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n\r\n\r\n/* Default standalone editor fonts */\r\n\r\n\r\n.monaco-editor {\r\n\tfont-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;\r\n\t--monaco-monospace-font: "SF Mono", Monaco, Menlo, Consolas, "Ubuntu Mono", "Liberation Mono", "DejaVu Sans Mono", "Courier New", monospace;\r\n}\r\n\r\n\r\n.monaco-menu .monaco-action-bar.vertical .action-item .action-menu-item:focus .action-label {\r\n\tstroke-width: 1.2px;\r\n}\r\n\r\n\r\n.monaco-editor.vs-dark .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label,\r\n.monaco-editor.hc-black .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label {\r\n\tstroke-width: 1.2px;\r\n}\r\n\r\n\r\n.monaco-hover p {\r\n\tmargin: 0;\r\n}\r\n\r\n\r\n/* See https://github.com/microsoft/monaco-editor/issues/2168#issuecomment-780078600 */\r\n\r\n\r\n.monaco-aria-container {\r\n\tposition: absolute !important;\r\n\ttop: 0; /* avoid being placed underneath a sibling element */\r\n\theight: 1px;\r\n\twidth: 1px;\r\n\tmargin: -1px;\r\n\toverflow: hidden;\r\n\tpadding: 0;\r\n\tclip: rect(1px, 1px, 1px, 1px);\r\n\t-webkit-clip-path: inset(50%);\r\n\t        clip-path: inset(50%);\r\n}\r\n\r\n\r\n/* The hc-black theme is already high contrast optimized */\r\n\r\n\r\n.monaco-editor.hc-black {\r\n\t-ms-high-contrast-adjust: none;\r\n}\r\n\r\n\r\n/* In case the browser goes into high contrast mode and the editor is not configured with the hc-black theme */\r\n\r\n\r\n@media screen and (-ms-high-contrast:active) {\r\n\r\n\t/* current line highlight */\r\n\t.monaco-editor.vs .view-overlays .current-line,\r\n\t.monaco-editor.vs-dark .view-overlays .current-line {\r\n\t\tborder-color: windowtext !important;\r\n\t\tborder-left: 0;\r\n\t\tborder-right: 0;\r\n\t}\r\n\r\n\t/* view cursors */\r\n\t.monaco-editor.vs .cursor,\r\n\t.monaco-editor.vs-dark .cursor {\r\n\t\tbackground-color: windowtext !important;\r\n\t}\r\n\t/* dnd target */\r\n\t.monaco-editor.vs .dnd-target,\r\n\t.monaco-editor.vs-dark .dnd-target {\r\n\t\tborder-color: windowtext !important;\r\n\t}\r\n\r\n\t/* selected text background */\r\n\t.monaco-editor.vs .selected-text,\r\n\t.monaco-editor.vs-dark .selected-text {\r\n\t\tbackground-color: highlight !important;\r\n\t}\r\n\r\n\t/* allow the text to have a transparent background. */\r\n\t.monaco-editor.vs .view-line,\r\n\t.monaco-editor.vs-dark .view-line {\r\n\t\t-ms-high-contrast-adjust: none;\r\n\t}\r\n\r\n\t/* text color */\r\n\t.monaco-editor.vs .view-line span,\r\n\t.monaco-editor.vs-dark .view-line span {\r\n\t\tcolor: windowtext !important;\r\n\t}\r\n\t/* selected text color */\r\n\t.monaco-editor.vs .view-line span.inline-selected-text,\r\n\t.monaco-editor.vs-dark .view-line span.inline-selected-text {\r\n\t\tcolor: highlighttext !important;\r\n\t}\r\n\r\n\t/* allow decorations */\r\n\t.monaco-editor.vs .view-overlays,\r\n\t.monaco-editor.vs-dark .view-overlays {\r\n\t\t-ms-high-contrast-adjust: none;\r\n\t}\r\n\r\n\t/* various decorations */\r\n\t.monaco-editor.vs .selectionHighlight,\r\n\t.monaco-editor.vs-dark .selectionHighlight,\r\n\t.monaco-editor.vs .wordHighlight,\r\n\t.monaco-editor.vs-dark .wordHighlight,\r\n\t.monaco-editor.vs .wordHighlightStrong,\r\n\t.monaco-editor.vs-dark .wordHighlightStrong,\r\n\t.monaco-editor.vs .reference-decoration,\r\n\t.monaco-editor.vs-dark .reference-decoration {\r\n\t\tborder: 2px dotted highlight !important;\r\n\t\tbackground: transparent !important;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\t.monaco-editor.vs .rangeHighlight,\r\n\t.monaco-editor.vs-dark .rangeHighlight {\r\n\t\tbackground: transparent !important;\r\n\t\tborder: 1px dotted activeborder !important;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\t.monaco-editor.vs .bracket-match,\r\n\t.monaco-editor.vs-dark .bracket-match {\r\n\t\tborder-color: windowtext !important;\r\n\t\tbackground: transparent !important;\r\n\t}\r\n\r\n\t/* find widget */\r\n\t.monaco-editor.vs .findMatch,\r\n\t.monaco-editor.vs-dark .findMatch,\r\n\t.monaco-editor.vs .currentFindMatch,\r\n\t.monaco-editor.vs-dark .currentFindMatch {\r\n\t\tborder: 2px dotted activeborder !important;\r\n\t\tbackground: transparent !important;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\t.monaco-editor.vs .find-widget,\r\n\t.monaco-editor.vs-dark .find-widget {\r\n\t\tborder: 1px solid windowtext;\r\n\t}\r\n\r\n\t/* list - used by suggest widget */\r\n\t.monaco-editor.vs .monaco-list .monaco-list-row,\r\n\t.monaco-editor.vs-dark .monaco-list .monaco-list-row {\r\n\t\t-ms-high-contrast-adjust: none;\r\n\t\tcolor: windowtext !important;\r\n\t}\r\n\t.monaco-editor.vs .monaco-list .monaco-list-row.focused,\r\n\t.monaco-editor.vs-dark .monaco-list .monaco-list-row.focused {\r\n\t\tcolor: highlighttext !important;\r\n\t\tbackground-color: highlight !important;\r\n\t}\r\n\t.monaco-editor.vs .monaco-list .monaco-list-row:hover,\r\n\t.monaco-editor.vs-dark .monaco-list .monaco-list-row:hover {\r\n\t\tbackground: transparent !important;\r\n\t\tborder: 1px solid highlight;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\r\n\t/* scrollbars */\r\n\t.monaco-editor.vs .monaco-scrollable-element > .scrollbar,\r\n\t.monaco-editor.vs-dark .monaco-scrollable-element > .scrollbar {\r\n\t\t-ms-high-contrast-adjust: none;\r\n\t\tbackground: background !important;\r\n\t\tborder: 1px solid windowtext;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\t.monaco-editor.vs .monaco-scrollable-element > .scrollbar > .slider,\r\n\t.monaco-editor.vs-dark .monaco-scrollable-element > .scrollbar > .slider {\r\n\t\tbackground: windowtext !important;\r\n\t}\r\n\t.monaco-editor.vs .monaco-scrollable-element > .scrollbar > .slider:hover,\r\n\t.monaco-editor.vs-dark .monaco-scrollable-element > .scrollbar > .slider:hover {\r\n\t\tbackground: highlight !important;\r\n\t}\r\n\t.monaco-editor.vs .monaco-scrollable-element > .scrollbar > .slider.active,\r\n\t.monaco-editor.vs-dark .monaco-scrollable-element > .scrollbar > .slider.active {\r\n\t\tbackground: highlight !important;\r\n\t}\r\n\r\n\t/* overview ruler */\r\n\t.monaco-editor.vs .decorationsOverviewRuler,\r\n\t.monaco-editor.vs-dark .decorationsOverviewRuler {\r\n\t\topacity: 0;\r\n\t}\r\n\r\n\t/* minimap */\r\n\t.monaco-editor.vs .minimap,\r\n\t.monaco-editor.vs-dark .minimap {\r\n\t\tdisplay: none;\r\n\t}\r\n\r\n\t/* squiggles */\r\n\t.monaco-editor.vs .squiggly-d-error,\r\n\t.monaco-editor.vs-dark .squiggly-d-error {\r\n\t\tbackground: transparent !important;\r\n\t\tborder-bottom: 4px double #E47777;\r\n\t}\r\n\t.monaco-editor.vs .squiggly-c-warning,\r\n\t.monaco-editor.vs-dark .squiggly-c-warning {\r\n\t\tborder-bottom: 4px double #71B771;\r\n\t}\r\n\t.monaco-editor.vs .squiggly-b-info,\r\n\t.monaco-editor.vs-dark .squiggly-b-info {\r\n\t\tborder-bottom: 4px double #71B771;\r\n\t}\r\n\t.monaco-editor.vs .squiggly-a-hint,\r\n\t.monaco-editor.vs-dark .squiggly-a-hint {\r\n\t\tborder-bottom: 4px double #6c6c6c;\r\n\t}\r\n\r\n\t/* contextmenu */\r\n\t.monaco-editor.vs .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label,\r\n\t.monaco-editor.vs-dark .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label {\r\n\t\t-ms-high-contrast-adjust: none;\r\n\t\tcolor: highlighttext !important;\r\n\t\tbackground-color: highlight !important;\r\n\t}\r\n\t.monaco-editor.vs .monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .action-label,\r\n\t.monaco-editor.vs-dark .monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .action-label {\r\n\t\t-ms-high-contrast-adjust: none;\r\n\t\tbackground: transparent !important;\r\n\t\tborder: 1px solid highlight;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\r\n\t/* diff editor */\r\n\t.monaco-diff-editor.vs .diffOverviewRuler,\r\n\t.monaco-diff-editor.vs-dark .diffOverviewRuler {\r\n\t\tdisplay: none;\r\n\t}\r\n\t.monaco-editor.vs .line-insert,\r\n\t.monaco-editor.vs-dark .line-insert,\r\n\t.monaco-editor.vs .line-delete,\r\n\t.monaco-editor.vs-dark .line-delete {\r\n\t\tbackground: transparent !important;\r\n\t\tborder: 1px solid highlight !important;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\t.monaco-editor.vs .char-insert,\r\n\t.monaco-editor.vs-dark .char-insert,\r\n\t.monaco-editor.vs .char-delete,\r\n\t.monaco-editor.vs-dark .char-delete {\r\n\t\tbackground: transparent !important;\r\n\t}\r\n}\r\n\r\n\r\n/*.monaco-editor.vs [tabindex="0"]:focus {\r\n\toutline: 1px solid rgba(0, 122, 204, 0.4);\r\n\toutline-offset: -1px;\r\n\topacity: 1 !important;\r\n}\r\n\r\n.monaco-editor.vs-dark [tabindex="0"]:focus {\r\n\toutline: 1px solid rgba(14, 99, 156, 0.6);\r\n\toutline-offset: -1px;\r\n\topacity: 1 !important;\r\n}*/\r\n'},306:Ct=>{"use strict";Ct.exports="/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n\r\n.monaco-action-bar .action-item.menu-entry .action-label.icon {\r\n\twidth: 16px;\r\n\theight: 16px;\r\n\tbackground-repeat: no-repeat;\r\n\tbackground-position: 50%;\r\n\tbackground-size: 16px;\r\n}\r\n\r\n.monaco-action-bar .action-item.menu-entry .action-label {\r\n\tbackground-image: var(--menu-entry-icon-light);\r\n}\r\n\r\n.vs-dark .monaco-action-bar .action-item.menu-entry .action-label,\r\n.hc-black .monaco-action-bar .action-item.menu-entry .action-label {\r\n\tbackground-image: var(--menu-entry-icon-dark);\r\n}\r\n"},2919:Ct=>{"use strict";Ct.exports="/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n\r\n.context-view .monaco-menu {\r\n\tmin-width: 130px;\r\n}\r\n\r\n"}},Ct=>{Ct(Ct.s=5371)}]);