(()=>{"use strict";const tr=new class{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(e){setTimeout(()=>{throw e.stack?new Error(e.message+"\n\n"+e.stack):e},0)}}emit(e){this.listeners.forEach(n=>{n(e)})}onUnexpectedError(e){this.unexpectedErrorHandler(e),this.emit(e)}onUnexpectedExternalError(e){this.unexpectedErrorHandler(e)}};function ji(t){(function(t){return t instanceof Error&&t.name===Jt&&t.message===Jt})(t)||tr.onUnexpectedError(t)}function nr(t){if(t instanceof Error){let{name:e,message:n}=t;return{$isError:!0,name:e,message:n,stack:t.stacktrace||t.stack}}return t}const Jt="Canceled";var Qt;!function(t){t.is=function(p){return p&&"object"==typeof p&&"function"==typeof p[Symbol.iterator]};const n=Object.freeze([]);t.empty=function(){return n},t.single=function*(p){yield p},t.from=function(p){return p||n},t.isEmpty=function(p){return!p||!0===p[Symbol.iterator]().next().done},t.first=function(p){return p[Symbol.iterator]().next().value},t.some=function(p,m){for(const S of p)if(m(S))return!0;return!1},t.find=function(p,m){for(const S of p)if(m(S))return S},t.filter=function*(p,m){for(const S of p)m(S)&&(yield S)},t.map=function*(p,m){let S=0;for(const C of p)yield m(C,S++)},t.concat=function*(...p){for(const m of p)for(const S of m)yield S},t.concatNested=function*(p){for(const m of p)for(const S of m)yield S},t.reduce=function(p,m,S){let C=S;for(const T of p)C=m(C,T);return C},t.slice=function*(p,m,S=p.length){for(m<0&&(m+=p.length),S<0?S+=p.length:S>p.length&&(S=p.length);m<S;m++)yield p[m]},t.consume=function(p,m=Number.POSITIVE_INFINITY){const S=[];if(0===m)return[S,p];const C=p[Symbol.iterator]();for(let T=0;T<m;T++){const E=C.next();if(E.done)return[S,t.empty()];S.push(E.value)}return[S,{[Symbol.iterator]:()=>C}]},t.equals=function(p,m,S=((C,T)=>C===T)){const C=p[Symbol.iterator](),T=m[Symbol.iterator]();for(;;){const E=C.next(),A=T.next();if(E.done!==A.done)return!1;if(E.done)return!0;if(!S(E.value,A.value))return!1}}}(Qt||(Qt={}));function _e(t){}class Vi extends Error{constructor(e){super(`Encountered errors while disposing of store. Errors: [${e.join(", ")}]`),this.errors=e}}function ir(t){if(Qt.is(t)){let e=[];for(const n of t)if(n)try{n.dispose()}catch(r){e.push(r)}if(1===e.length)throw e[0];if(e.length>1)throw new Vi(e);return Array.isArray(t)?[]:t}if(t)return t.dispose(),t}let or=(()=>{class t{constructor(){this._toDispose=new Set,this._isDisposed=!1}dispose(){this._isDisposed||(this._isDisposed=!0,this.clear())}clear(){try{ir(this._toDispose.values())}finally{this._toDispose.clear()}}add(n){if(!n)return n;if(n===this)throw new Error("Cannot register a disposable on itself!");return this._isDisposed?t.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(n),n}}return t.DISABLE_DISPOSED_WARNING=!1,t})();class Zt{constructor(){this._store=new or}dispose(){this._store.dispose()}_register(e){if(e===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(e)}}var en;Zt.None=Object.freeze({dispose(){}});let Ot,Ki,Ue,at=!1,ut=!1,At=!1,$i=!1,Hi=!1,sr=!1,nn=null;const ee="object"==typeof self?self:"object"==typeof global?global:{};let G;void 0!==ee.vscode&&void 0!==ee.vscode.process?G=ee.vscode.process:"undefined"!=typeof process&&(G=process);const ar="string"==typeof(null===(en=null==G?void 0:G.versions)||void 0===en?void 0:en.electron)&&"renderer"===G.type,zi=ar&&(null==G?void 0:G.sandboxed);if((()=>{if(zi);})(),"object"!=typeof navigator||ar)if("object"==typeof G){at="win32"===G.platform,ut="darwin"===G.platform,At="linux"===G.platform,$i=At&&!!G.env.SNAP&&!!G.env.SNAP_REVISION,Ot="en",nn="en";const t=G.env.VSCODE_NLS_CONFIG;if(t)try{const e=JSON.parse(t);Ot=e.locale,nn=e.availableLanguages["*"]||"en",Ki=e._translationsConfigFile}catch(e){}Hi=!0}else console.error("Unable to resolve platform.");else Ue=navigator.userAgent,at=Ue.indexOf("Windows")>=0,ut=Ue.indexOf("Macintosh")>=0,(Ue.indexOf("Macintosh")>=0||Ue.indexOf("iPad")>=0||Ue.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,At=Ue.indexOf("Linux")>=0,Ot=navigator.language,nn=Ot;let rn=0;ut?rn=1:at?rn=3:At&&(rn=2);const lt=at,Gi=ut,ur=function(){if(ee.setImmediate)return ee.setImmediate.bind(ee);if("function"==typeof ee.postMessage&&!ee.importScripts){let n=[];ee.addEventListener("message",i=>{if(i.data&&i.data.vscodeSetImmediateId)for(let o=0,s=n.length;o<s;o++){const a=n[o];if(a.id===i.data.vscodeSetImmediateId)return n.splice(o,1),void a.callback()}});let r=0;return i=>{const o=++r;n.push({id:o,callback:i}),ee.postMessage({vscodeSetImmediateId:o},"*")}}if("function"==typeof(null==G?void 0:G.nextTick))return G.nextTick.bind(G);const e=Promise.resolve();return n=>e.then(n)}();function on(t){const e=[];for(const n of function(t){let e=[],n=Object.getPrototypeOf(t);for(;Object.prototype!==n;)e=e.concat(Object.getOwnPropertyNames(n)),n=Object.getPrototypeOf(n);return e}(t))"function"==typeof t[n]&&e.push(n);return e}function hr(t,e){const n=i=>function(){const o=Array.prototype.slice.call(arguments,0);return e(i,o)};let r={};for(const i of t)r[i]=n(i);return r}class gr{constructor(e){this._workerId=-1,this._handler=e,this._lastSentReq=0,this._pendingReplies=Object.create(null)}setWorkerId(e){this._workerId=e}sendMessage(e,n){let r=String(++this._lastSentReq);return new Promise((i,o)=>{this._pendingReplies[r]={resolve:i,reject:o},this._send({vsWorker:this._workerId,req:r,method:e,args:n})})}handleMessage(e){!e||!e.vsWorker||-1!==this._workerId&&e.vsWorker!==this._workerId||this._handleMessage(e)}_handleMessage(e){if(e.seq){let o=e;if(!this._pendingReplies[o.seq])return void console.warn("Got reply to unknown seq");let s=this._pendingReplies[o.seq];if(delete this._pendingReplies[o.seq],o.err){let a=o.err;return o.err.$isError&&(a=new Error,a.name=o.err.name,a.message=o.err.message,a.stack=o.err.stack),void s.reject(a)}return void s.resolve(o.res)}let r=e.req;this._handler.handleMessage(e.method,e.args).then(o=>{this._send({vsWorker:this._workerId,seq:r,res:o,err:void 0})},o=>{o.detail instanceof Error&&(o.detail=nr(o.detail)),this._send({vsWorker:this._workerId,seq:r,res:void 0,err:nr(o)})})}_send(e){let n=[];if(e.req){const r=e;for(let i=0;i<r.args.length;i++)r.args[i]instanceof ArrayBuffer&&n.push(r.args[i])}else{const r=e;r.res instanceof ArrayBuffer&&n.push(r.res)}this._handler.sendMessage(e,n)}}class pr{constructor(e,n){this._requestHandlerFactory=n,this._requestHandler=null,this._protocol=new gr({sendMessage:(r,i)=>{e(r,i)},handleMessage:(r,i)=>this._handleMessage(r,i)})}onmessage(e){this._protocol.handleMessage(e)}_handleMessage(e,n){if("$initialize"===e)return this.initialize(n[0],n[1],n[2],n[3]);if(!this._requestHandler||"function"!=typeof this._requestHandler[e])return Promise.reject(new Error("Missing requestHandler or method: "+e));try{return Promise.resolve(this._requestHandler[e].apply(this._requestHandler,n))}catch(r){return Promise.reject(r)}}initialize(e,n,r,i){this._protocol.setWorkerId(e);const s=hr(i,(a,u)=>this._protocol.sendMessage(a,u));return this._requestHandlerFactory?(this._requestHandler=this._requestHandlerFactory(s),Promise.resolve(on(this._requestHandler))):(n&&(void 0!==n.baseUrl&&delete n.baseUrl,void 0!==n.paths&&void 0!==n.paths.vs&&delete n.paths.vs,void 0!==typeof n.trustedTypesPolicy&&delete n.trustedTypesPolicy,n.catchError=!0,self.require.config(n)),new Promise((a,u)=>{self.require([r],l=>{this._requestHandler=l.create(s),this._requestHandler?a(on(this._requestHandler)):u(new Error("No RequestHandler!"))},u)}))}}class Te{constructor(e,n,r,i){this.originalStart=e,this.originalLength=n,this.modifiedStart=r,this.modifiedLength=i}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}function un(t){return 55296<=t&&t<=56319}function wt(t){return 56320<=t&&t<=57343}function ln(t,e){return e-56320+(t-55296<<10)+65536}let Ye;function Ae(t,e){return(e<<5)-e+t|0}function hn(t,e){e=Ae(149417,e);for(let n=0,r=t.length;n<r;n++)e=Ae(t.charCodeAt(n),e);return e}function dn(t,e,n=32){const r=n-e;return(t<<e|(~((1<<r)-1)&t)>>>r)>>>0}function Sr(t,e=0,n=t.byteLength,r=0){for(let i=0;i<n;i++)t[e+i]=r}function ft(t,e=32){return t instanceof ArrayBuffer?Array.from(new Uint8Array(t)).map(n=>n.toString(16).padStart(2,"0")).join(""):function(t,e,n="0"){for(;t.length<e;)t=n+t;return t}((t>>>0).toString(16),e/4)}String.fromCharCode(65279);class mn{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(67),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(e){const n=e.length;if(0===n)return;const r=this._buff;let s,a,i=this._buffLen,o=this._leftoverHighSurrogate;for(0!==o?(s=o,a=-1,o=0):(s=e.charCodeAt(0),a=0);;){let u=s;if(un(s)){if(!(a+1<n)){o=s;break}{const l=e.charCodeAt(a+1);wt(l)?(a++,u=ln(s,l)):u=65533}}else wt(s)&&(u=65533);if(i=this._push(r,i,u),a++,!(a<n))break;s=e.charCodeAt(a)}this._buffLen=i,this._leftoverHighSurrogate=o}_push(e,n,r){return r<128?e[n++]=r:r<2048?(e[n++]=192|(1984&r)>>>6,e[n++]=128|(63&r)>>>0):r<65536?(e[n++]=224|(61440&r)>>>12,e[n++]=128|(4032&r)>>>6,e[n++]=128|(63&r)>>>0):(e[n++]=240|(1835008&r)>>>18,e[n++]=128|(258048&r)>>>12,e[n++]=128|(4032&r)>>>6,e[n++]=128|(63&r)>>>0),n>=64&&(this._step(),n-=64,this._totalLen+=64,e[0]=e[64],e[1]=e[65],e[2]=e[66]),n}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),ft(this._h0)+ft(this._h1)+ft(this._h2)+ft(this._h3)+ft(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,Sr(this._buff,this._buffLen),this._buffLen>56&&(this._step(),Sr(this._buff));const e=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(e/4294967296),!1),this._buffDV.setUint32(60,e%4294967296,!1),this._step()}_step(){const e=mn._bigBlock32,n=this._buffDV;for(let f=0;f<64;f+=4)e.setUint32(f,n.getUint32(f,!1),!1);for(let f=64;f<320;f+=4)e.setUint32(f,dn(e.getUint32(f-12,!1)^e.getUint32(f-32,!1)^e.getUint32(f-56,!1)^e.getUint32(f-64,!1),1),!1);let u,l,c,r=this._h0,i=this._h1,o=this._h2,s=this._h3,a=this._h4;for(let f=0;f<80;f++)f<20?(u=i&o|~i&s,l=1518500249):f<40?(u=i^o^s,l=1859775393):f<60?(u=i&o|i&s|o&s,l=2400959708):(u=i^o^s,l=3395469782),c=dn(r,5)+u+a+l+e.getUint32(4*f,!1)&4294967295,a=s,s=o,o=dn(i,30),i=r,r=c;this._h0=this._h0+r&4294967295,this._h1=this._h1+i&4294967295,this._h2=this._h2+o&4294967295,this._h3=this._h3+s&4294967295,this._h4=this._h4+a&4294967295}}mn._bigBlock32=new DataView(new ArrayBuffer(320));class Cr{constructor(e){this.source=e}getElements(){const e=this.source,n=new Int32Array(e.length);for(let r=0,i=e.length;r<i;r++)n[r]=e.charCodeAt(r);return n}}function Co(t,e,n){return new Le(new Cr(t),new Cr(e)).ComputeDiff(n).changes}class ze{static Assert(e,n){if(!e)throw new Error(n)}}class Ge{static Copy(e,n,r,i,o){for(let s=0;s<o;s++)r[i+s]=e[n+s]}static Copy2(e,n,r,i,o){for(let s=0;s<o;s++)r[i+s]=e[n+s]}}class _r{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new Te(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(e,n){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,n),this.m_originalCount++}AddModifiedElement(e,n){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,n),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class Le{constructor(e,n,r=null){this.ContinueProcessingPredicate=r,this._originalSequence=e,this._modifiedSequence=n;const[i,o,s]=Le._getElements(e),[a,u,l]=Le._getElements(n);this._hasStrings=s&&l,this._originalStringElements=i,this._originalElementsOrHash=o,this._modifiedStringElements=a,this._modifiedElementsOrHash=u,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(e){return e.length>0&&"string"==typeof e[0]}static _getElements(e){const n=e.getElements();if(Le._isStringArray(n)){const r=new Int32Array(n.length);for(let i=0,o=n.length;i<o;i++)r[i]=hn(n[i],0);return[n,r,!0]}return n instanceof Int32Array?[[],n,!1]:[[],new Int32Array(n),!1]}ElementsAreEqual(e,n){return this._originalElementsOrHash[e]===this._modifiedElementsOrHash[n]&&(!this._hasStrings||this._originalStringElements[e]===this._modifiedStringElements[n])}ElementsAreStrictEqual(e,n){return!!this.ElementsAreEqual(e,n)&&Le._getStrictElement(this._originalSequence,e)===Le._getStrictElement(this._modifiedSequence,n)}static _getStrictElement(e,n){return"function"==typeof e.getStrictElement?e.getStrictElement(n):null}OriginalElementsAreEqual(e,n){return this._originalElementsOrHash[e]===this._originalElementsOrHash[n]&&(!this._hasStrings||this._originalStringElements[e]===this._originalStringElements[n])}ModifiedElementsAreEqual(e,n){return this._modifiedElementsOrHash[e]===this._modifiedElementsOrHash[n]&&(!this._hasStrings||this._modifiedStringElements[e]===this._modifiedStringElements[n])}ComputeDiff(e){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,e)}_ComputeDiff(e,n,r,i,o){const s=[!1];let a=this.ComputeDiffRecursive(e,n,r,i,s);return o&&(a=this.PrettifyChanges(a)),{quitEarly:s[0],changes:a}}ComputeDiffRecursive(e,n,r,i,o){for(o[0]=!1;e<=n&&r<=i&&this.ElementsAreEqual(e,r);)e++,r++;for(;n>=e&&i>=r&&this.ElementsAreEqual(n,i);)n--,i--;if(e>n||r>i){let f;return r<=i?(ze.Assert(e===n+1,"originalStart should only be one more than originalEnd"),f=[new Te(e,0,r,i-r+1)]):e<=n?(ze.Assert(r===i+1,"modifiedStart should only be one more than modifiedEnd"),f=[new Te(e,n-e+1,r,0)]):(ze.Assert(e===n+1,"originalStart should only be one more than originalEnd"),ze.Assert(r===i+1,"modifiedStart should only be one more than modifiedEnd"),f=[]),f}const s=[0],a=[0],u=this.ComputeRecursionPoint(e,n,r,i,s,a,o),l=s[0],c=a[0];if(null!==u)return u;if(!o[0]){const f=this.ComputeDiffRecursive(e,l,r,c,o);let h=[];return h=o[0]?[new Te(l+1,n-(l+1)+1,c+1,i-(c+1)+1)]:this.ComputeDiffRecursive(l+1,n,c+1,i,o),this.ConcatenateChanges(f,h)}return[new Te(e,n-e+1,r,i-r+1)]}WALKTRACE(e,n,r,i,o,s,a,u,l,c,f,h,d,g,y,v,_,p){let m=null,S=null,C=new _r,T=n,E=r,A=d[0]-v[0]-i,b=-1073741824,N=this.m_forwardHistory.length-1;do{const x=A+e;x===T||x<E&&l[x-1]<l[x+1]?(g=(f=l[x+1])-A-i,f<b&&C.MarkNextChange(),b=f,C.AddModifiedElement(f+1,g),A=x+1-e):(g=(f=l[x-1]+1)-A-i,f<b&&C.MarkNextChange(),b=f-1,C.AddOriginalElement(f,g+1),A=x-1-e),N>=0&&(e=(l=this.m_forwardHistory[N])[0],T=1,E=l.length-1)}while(--N>=-1);if(m=C.getReverseChanges(),p[0]){let x=d[0]+1,w=v[0]+1;if(null!==m&&m.length>0){const M=m[m.length-1];x=Math.max(x,M.getOriginalEnd()),w=Math.max(w,M.getModifiedEnd())}S=[new Te(x,h-x+1,w,y-w+1)]}else{C=new _r,T=s,E=a,A=d[0]-v[0]-u,b=1073741824,N=_?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const x=A+o;x===T||x<E&&c[x-1]>=c[x+1]?(g=(f=c[x+1]-1)-A-u,f>b&&C.MarkNextChange(),b=f+1,C.AddOriginalElement(f+1,g+1),A=x+1-o):(g=(f=c[x-1])-A-u,f>b&&C.MarkNextChange(),b=f,C.AddModifiedElement(f+1,g+1),A=x-1-o),N>=0&&(o=(c=this.m_reverseHistory[N])[0],T=1,E=c.length-1)}while(--N>=-1);S=C.getChanges()}return this.ConcatenateChanges(m,S)}ComputeRecursionPoint(e,n,r,i,o,s,a){let u=0,l=0,c=0,f=0,h=0,d=0;e--,r--,o[0]=0,s[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const g=n-e+(i-r),y=g+1,v=new Int32Array(y),_=new Int32Array(y),p=i-r,m=n-e,S=e-r,C=n-i,E=(m-p)%2==0;v[p]=e,_[m]=n,a[0]=!1;for(let A=1;A<=g/2+1;A++){let b=0,N=0;c=this.ClipDiagonalBound(p-A,A,p,y),f=this.ClipDiagonalBound(p+A,A,p,y);for(let w=c;w<=f;w+=2){u=w===c||w<f&&v[w-1]<v[w+1]?v[w+1]:v[w-1]+1,l=u-(w-p)-S;const M=u;for(;u<n&&l<i&&this.ElementsAreEqual(u+1,l+1);)u++,l++;if(v[w]=u,u+l>b+N&&(b=u,N=l),!E&&Math.abs(w-m)<=A-1&&u>=_[w])return o[0]=u,s[0]=l,M<=_[w]&&A<=1448?this.WALKTRACE(p,c,f,S,m,h,d,C,v,_,u,n,o,l,i,s,E,a):null}const x=(b-e+(N-r)-A)/2;if(null!==this.ContinueProcessingPredicate&&!this.ContinueProcessingPredicate(b,x))return a[0]=!0,o[0]=b,s[0]=N,x>0&&A<=1448?this.WALKTRACE(p,c,f,S,m,h,d,C,v,_,u,n,o,l,i,s,E,a):(e++,r++,[new Te(e,n-e+1,r,i-r+1)]);h=this.ClipDiagonalBound(m-A,A,m,y),d=this.ClipDiagonalBound(m+A,A,m,y);for(let w=h;w<=d;w+=2){u=w===h||w<d&&_[w-1]>=_[w+1]?_[w+1]-1:_[w-1],l=u-(w-m)-C;const M=u;for(;u>e&&l>r&&this.ElementsAreEqual(u,l);)u--,l--;if(_[w]=u,E&&Math.abs(w-p)<=A&&u<=v[w])return o[0]=u,s[0]=l,M>=v[w]&&A<=1448?this.WALKTRACE(p,c,f,S,m,h,d,C,v,_,u,n,o,l,i,s,E,a):null}if(A<=1447){let w=new Int32Array(f-c+2);w[0]=p-c+1,Ge.Copy2(v,c,w,1,f-c+1),this.m_forwardHistory.push(w),w=new Int32Array(d-h+2),w[0]=m-h+1,Ge.Copy2(_,h,w,1,d-h+1),this.m_reverseHistory.push(w)}}return this.WALKTRACE(p,c,f,S,m,h,d,C,v,_,u,n,o,l,i,s,E,a)}PrettifyChanges(e){for(let n=0;n<e.length;n++){const r=e[n],i=n<e.length-1?e[n+1].originalStart:this._originalElementsOrHash.length,o=n<e.length-1?e[n+1].modifiedStart:this._modifiedElementsOrHash.length,s=r.originalLength>0,a=r.modifiedLength>0;for(;r.originalStart+r.originalLength<i&&r.modifiedStart+r.modifiedLength<o&&(!s||this.OriginalElementsAreEqual(r.originalStart,r.originalStart+r.originalLength))&&(!a||this.ModifiedElementsAreEqual(r.modifiedStart,r.modifiedStart+r.modifiedLength));){const l=this.ElementsAreStrictEqual(r.originalStart,r.modifiedStart);if(this.ElementsAreStrictEqual(r.originalStart+r.originalLength,r.modifiedStart+r.modifiedLength)&&!l)break;r.originalStart++,r.modifiedStart++}let u=[null];n<e.length-1&&this.ChangesOverlap(e[n],e[n+1],u)&&(e[n]=u[0],e.splice(n+1,1),n--)}for(let n=e.length-1;n>=0;n--){const r=e[n];let i=0,o=0;if(n>0){const f=e[n-1];i=f.originalStart+f.originalLength,o=f.modifiedStart+f.modifiedLength}const s=r.originalLength>0,a=r.modifiedLength>0;let u=0,l=this._boundaryScore(r.originalStart,r.originalLength,r.modifiedStart,r.modifiedLength);for(let f=1;;f++){const h=r.originalStart-f,d=r.modifiedStart-f;if(h<i||d<o||s&&!this.OriginalElementsAreEqual(h,h+r.originalLength)||a&&!this.ModifiedElementsAreEqual(d,d+r.modifiedLength))break;const y=(h===i&&d===o?5:0)+this._boundaryScore(h,r.originalLength,d,r.modifiedLength);y>l&&(l=y,u=f)}r.originalStart-=u,r.modifiedStart-=u;const c=[null];n>0&&this.ChangesOverlap(e[n-1],e[n],c)&&(e[n-1]=c[0],e.splice(n,1),n++)}if(this._hasStrings)for(let n=1,r=e.length;n<r;n++){const i=e[n-1],o=e[n],s=o.originalStart-i.originalStart-i.originalLength,a=i.originalStart,u=o.originalStart+o.originalLength,l=u-a,c=i.modifiedStart,f=o.modifiedStart+o.modifiedLength,h=f-c;if(s<5&&l<20&&h<20){const d=this._findBetterContiguousSequence(a,l,c,h,s);if(d){const[g,y]=d;(g!==i.originalStart+i.originalLength||y!==i.modifiedStart+i.modifiedLength)&&(i.originalLength=g-i.originalStart,i.modifiedLength=y-i.modifiedStart,o.originalStart=g+s,o.modifiedStart=y+s,o.originalLength=u-o.originalStart,o.modifiedLength=f-o.modifiedStart)}}}return e}_findBetterContiguousSequence(e,n,r,i,o){if(n<o||i<o)return null;const s=e+n-o+1,a=r+i-o+1;let u=0,l=0,c=0;for(let f=e;f<s;f++)for(let h=r;h<a;h++){const d=this._contiguousSequenceScore(f,h,o);d>0&&d>u&&(u=d,l=f,c=h)}return u>0?[l,c]:null}_contiguousSequenceScore(e,n,r){let i=0;for(let o=0;o<r;o++){if(!this.ElementsAreEqual(e+o,n+o))return 0;i+=this._originalStringElements[e+o].length}return i}_OriginalIsBoundary(e){return e<=0||e>=this._originalElementsOrHash.length-1||this._hasStrings&&/^\s*$/.test(this._originalStringElements[e])}_OriginalRegionIsBoundary(e,n){if(this._OriginalIsBoundary(e)||this._OriginalIsBoundary(e-1))return!0;if(n>0){const r=e+n;if(this._OriginalIsBoundary(r-1)||this._OriginalIsBoundary(r))return!0}return!1}_ModifiedIsBoundary(e){return e<=0||e>=this._modifiedElementsOrHash.length-1||this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[e])}_ModifiedRegionIsBoundary(e,n){if(this._ModifiedIsBoundary(e)||this._ModifiedIsBoundary(e-1))return!0;if(n>0){const r=e+n;if(this._ModifiedIsBoundary(r-1)||this._ModifiedIsBoundary(r))return!0}return!1}_boundaryScore(e,n,r,i){return(this._OriginalRegionIsBoundary(e,n)?1:0)+(this._ModifiedRegionIsBoundary(r,i)?1:0)}ConcatenateChanges(e,n){let r=[];if(0===e.length||0===n.length)return n.length>0?n:e;if(this.ChangesOverlap(e[e.length-1],n[0],r)){const i=new Array(e.length+n.length-1);return Ge.Copy(e,0,i,0,e.length-1),i[e.length-1]=r[0],Ge.Copy(n,1,i,e.length,n.length-1),i}{const i=new Array(e.length+n.length);return Ge.Copy(e,0,i,0,e.length),Ge.Copy(n,0,i,e.length,n.length),i}}ChangesOverlap(e,n,r){if(ze.Assert(e.originalStart<=n.originalStart,"Left change is not less than or equal to right change"),ze.Assert(e.modifiedStart<=n.modifiedStart,"Left change is not less than or equal to right change"),e.originalStart+e.originalLength>=n.originalStart||e.modifiedStart+e.modifiedLength>=n.modifiedStart){let o=e.originalLength,a=e.modifiedLength;return e.originalStart+e.originalLength>=n.originalStart&&(o=n.originalStart+n.originalLength-e.originalStart),e.modifiedStart+e.modifiedLength>=n.modifiedStart&&(a=n.modifiedStart+n.modifiedLength-e.modifiedStart),r[0]=new Te(e.originalStart,o,e.modifiedStart,a),!0}return r[0]=null,!1}ClipDiagonalBound(e,n,r,i){if(e>=0&&e<i)return e;const a=n%2==0;return e<0?a===(r%2==0)?0:1:a===((i-r-1)%2==0)?i-1:i-2}}if(void 0!==ee.vscode&&void 0!==ee.vscode.process){const t=ee.vscode.process;Ye={get platform(){return t.platform},get env(){return t.env},cwd:()=>t.cwd(),nextTick:e=>ur(e)}}else Ye="undefined"!=typeof process?{get platform(){return process.platform},get env(){return process.env},cwd:()=>process.env.VSCODE_CWD||process.cwd(),nextTick:t=>process.nextTick(t)}:{get platform(){return lt?"win32":Gi?"darwin":"linux"},nextTick:t=>ur(t),get env(){return{}},cwd:()=>"/"};const gn=Ye.cwd,_o=Ye.env,Z=47;class Ar extends Error{constructor(e,n,r){let i;"string"==typeof n&&0===n.indexOf("not ")?(i="must not be",n=n.replace(/^not /,"")):i="must be";const o=-1!==e.indexOf(".")?"property":"argument";let s=`The "${e}" ${o} ${i} of type ${n}`;s+=". Received type "+typeof r,super(s),this.code="ERR_INVALID_ARG_TYPE"}}function J(t,e){if("string"!=typeof t)throw new Ar(e,"string",t)}function U(t){return t===Z||92===t}function pn(t){return t===Z}function Ie(t){return t>=65&&t<=90||t>=97&&t<=122}function Lt(t,e,n,r){let i="",o=0,s=-1,a=0,u=0;for(let l=0;l<=t.length;++l){if(l<t.length)u=t.charCodeAt(l);else{if(r(u))break;u=Z}if(r(u)){if(s!==l-1&&1!==a)if(2===a){if(i.length<2||2!==o||46!==i.charCodeAt(i.length-1)||46!==i.charCodeAt(i.length-2)){if(i.length>2){const c=i.lastIndexOf(n);-1===c?(i="",o=0):(i=i.slice(0,c),o=i.length-1-i.lastIndexOf(n)),s=l,a=0;continue}if(0!==i.length){i="",o=0,s=l,a=0;continue}}e&&(i+=i.length>0?`${n}..`:"..",o=2)}else i.length>0?i+=`${n}${t.slice(s+1,l)}`:i=t.slice(s+1,l),o=l-s-1;s=l,a=0}else 46===u&&-1!==a?++a:a=-1}return i}function Or(t,e){if(null===e||"object"!=typeof e)throw new Ar("pathObject","Object",e);const n=e.dir||e.root,r=e.base||`${e.name||""}${e.ext||""}`;return n?n===e.root?`${n}${r}`:`${n}${t}${r}`:r}const ie={resolve(...t){let e="",n="",r=!1;for(let i=t.length-1;i>=-1;i--){let o;if(i>=0){if(o=t[i],J(o,"path"),0===o.length)continue}else 0===e.length?o=gn():(o=_o[`=${e}`]||gn(),(void 0===o||o.slice(0,2).toLowerCase()!==e.toLowerCase()&&92===o.charCodeAt(2))&&(o=`${e}\\`));const s=o.length;let a=0,u="",l=!1;const c=o.charCodeAt(0);if(1===s)U(c)&&(a=1,l=!0);else if(U(c))if(l=!0,U(o.charCodeAt(1))){let f=2,h=f;for(;f<s&&!U(o.charCodeAt(f));)f++;if(f<s&&f!==h){const d=o.slice(h,f);for(h=f;f<s&&U(o.charCodeAt(f));)f++;if(f<s&&f!==h){for(h=f;f<s&&!U(o.charCodeAt(f));)f++;(f===s||f!==h)&&(u=`\\\\${d}\\${o.slice(h,f)}`,a=f)}}}else a=1;else Ie(c)&&58===o.charCodeAt(1)&&(u=o.slice(0,2),a=2,s>2&&U(o.charCodeAt(2))&&(l=!0,a=3));if(u.length>0)if(e.length>0){if(u.toLowerCase()!==e.toLowerCase())continue}else e=u;if(r){if(e.length>0)break}else if(n=`${o.slice(a)}\\${n}`,r=l,l&&e.length>0)break}return n=Lt(n,!r,"\\",U),r?`${e}\\${n}`:`${e}${n}`||"."},normalize(t){J(t,"path");const e=t.length;if(0===e)return".";let r,n=0,i=!1;const o=t.charCodeAt(0);if(1===e)return pn(o)?"\\":t;if(U(o))if(i=!0,U(t.charCodeAt(1))){let a=2,u=a;for(;a<e&&!U(t.charCodeAt(a));)a++;if(a<e&&a!==u){const l=t.slice(u,a);for(u=a;a<e&&U(t.charCodeAt(a));)a++;if(a<e&&a!==u){for(u=a;a<e&&!U(t.charCodeAt(a));)a++;if(a===e)return`\\\\${l}\\${t.slice(u)}\\`;a!==u&&(r=`\\\\${l}\\${t.slice(u,a)}`,n=a)}}}else n=1;else Ie(o)&&58===t.charCodeAt(1)&&(r=t.slice(0,2),n=2,e>2&&U(t.charCodeAt(2))&&(i=!0,n=3));let s=n<e?Lt(t.slice(n),!i,"\\",U):"";return 0===s.length&&!i&&(s="."),s.length>0&&U(t.charCodeAt(e-1))&&(s+="\\"),void 0===r?i?`\\${s}`:s:i?`${r}\\${s}`:`${r}${s}`},isAbsolute(t){J(t,"path");const e=t.length;if(0===e)return!1;const n=t.charCodeAt(0);return U(n)||e>2&&Ie(n)&&58===t.charCodeAt(1)&&U(t.charCodeAt(2))},join(...t){if(0===t.length)return".";let e,n;for(let o=0;o<t.length;++o){const s=t[o];J(s,"path"),s.length>0&&(void 0===e?e=n=s:e+=`\\${s}`)}if(void 0===e)return".";let r=!0,i=0;if("string"==typeof n&&U(n.charCodeAt(0))){++i;const o=n.length;o>1&&U(n.charCodeAt(1))&&(++i,o>2&&(U(n.charCodeAt(2))?++i:r=!1))}if(r){for(;i<e.length&&U(e.charCodeAt(i));)i++;i>=2&&(e=`\\${e.slice(i)}`)}return ie.normalize(e)},relative(t,e){if(J(t,"from"),J(e,"to"),t===e)return"";const n=ie.resolve(t),r=ie.resolve(e);if(n===r||(t=n.toLowerCase())===(e=r.toLowerCase()))return"";let i=0;for(;i<t.length&&92===t.charCodeAt(i);)i++;let o=t.length;for(;o-1>i&&92===t.charCodeAt(o-1);)o--;const s=o-i;let a=0;for(;a<e.length&&92===e.charCodeAt(a);)a++;let u=e.length;for(;u-1>a&&92===e.charCodeAt(u-1);)u--;const l=u-a,c=s<l?s:l;let f=-1,h=0;for(;h<c;h++){const g=t.charCodeAt(i+h);if(g!==e.charCodeAt(a+h))break;92===g&&(f=h)}if(h!==c){if(-1===f)return r}else{if(l>c){if(92===e.charCodeAt(a+h))return r.slice(a+h+1);if(2===h)return r.slice(a+h)}s>c&&(92===t.charCodeAt(i+h)?f=h:2===h&&(f=3)),-1===f&&(f=0)}let d="";for(h=i+f+1;h<=o;++h)(h===o||92===t.charCodeAt(h))&&(d+=0===d.length?"..":"\\..");return a+=f,d.length>0?`${d}${r.slice(a,u)}`:(92===r.charCodeAt(a)&&++a,r.slice(a,u))},toNamespacedPath(t){if("string"!=typeof t)return t;if(0===t.length)return"";const e=ie.resolve(t);if(e.length<=2)return t;if(92===e.charCodeAt(0)){if(92===e.charCodeAt(1)){const n=e.charCodeAt(2);if(63!==n&&46!==n)return`\\\\?\\UNC\\${e.slice(2)}`}}else if(Ie(e.charCodeAt(0))&&58===e.charCodeAt(1)&&92===e.charCodeAt(2))return`\\\\?\\${e}`;return t},dirname(t){J(t,"path");const e=t.length;if(0===e)return".";let n=-1,r=0;const i=t.charCodeAt(0);if(1===e)return U(i)?t:".";if(U(i)){if(n=r=1,U(t.charCodeAt(1))){let a=2,u=a;for(;a<e&&!U(t.charCodeAt(a));)a++;if(a<e&&a!==u){for(u=a;a<e&&U(t.charCodeAt(a));)a++;if(a<e&&a!==u){for(u=a;a<e&&!U(t.charCodeAt(a));)a++;if(a===e)return t;a!==u&&(n=r=a+1)}}}}else Ie(i)&&58===t.charCodeAt(1)&&(n=e>2&&U(t.charCodeAt(2))?3:2,r=n);let o=-1,s=!0;for(let a=e-1;a>=r;--a)if(U(t.charCodeAt(a))){if(!s){o=a;break}}else s=!1;if(-1===o){if(-1===n)return".";o=n}return t.slice(0,o)},basename(t,e){void 0!==e&&J(e,"ext"),J(t,"path");let o,n=0,r=-1,i=!0;if(t.length>=2&&Ie(t.charCodeAt(0))&&58===t.charCodeAt(1)&&(n=2),void 0!==e&&e.length>0&&e.length<=t.length){if(e===t)return"";let s=e.length-1,a=-1;for(o=t.length-1;o>=n;--o){const u=t.charCodeAt(o);if(U(u)){if(!i){n=o+1;break}}else-1===a&&(i=!1,a=o+1),s>=0&&(u===e.charCodeAt(s)?-1==--s&&(r=o):(s=-1,r=a))}return n===r?r=a:-1===r&&(r=t.length),t.slice(n,r)}for(o=t.length-1;o>=n;--o)if(U(t.charCodeAt(o))){if(!i){n=o+1;break}}else-1===r&&(i=!1,r=o+1);return-1===r?"":t.slice(n,r)},extname(t){J(t,"path");let e=0,n=-1,r=0,i=-1,o=!0,s=0;t.length>=2&&58===t.charCodeAt(1)&&Ie(t.charCodeAt(0))&&(e=r=2);for(let a=t.length-1;a>=e;--a){const u=t.charCodeAt(a);if(U(u)){if(!o){r=a+1;break}}else-1===i&&(o=!1,i=a+1),46===u?-1===n?n=a:1!==s&&(s=1):-1!==n&&(s=-1)}return-1===n||-1===i||0===s||1===s&&n===i-1&&n===r+1?"":t.slice(n,i)},format:Or.bind(null,"\\"),parse(t){J(t,"path");const e={root:"",dir:"",base:"",ext:"",name:""};if(0===t.length)return e;const n=t.length;let r=0,i=t.charCodeAt(0);if(1===n)return U(i)?(e.root=e.dir=t,e):(e.base=e.name=t,e);if(U(i)){if(r=1,U(t.charCodeAt(1))){let f=2,h=f;for(;f<n&&!U(t.charCodeAt(f));)f++;if(f<n&&f!==h){for(h=f;f<n&&U(t.charCodeAt(f));)f++;if(f<n&&f!==h){for(h=f;f<n&&!U(t.charCodeAt(f));)f++;f===n?r=f:f!==h&&(r=f+1)}}}}else if(Ie(i)&&58===t.charCodeAt(1)){if(n<=2)return e.root=e.dir=t,e;if(r=2,U(t.charCodeAt(2))){if(3===n)return e.root=e.dir=t,e;r=3}}r>0&&(e.root=t.slice(0,r));let o=-1,s=r,a=-1,u=!0,l=t.length-1,c=0;for(;l>=r;--l)if(i=t.charCodeAt(l),U(i)){if(!u){s=l+1;break}}else-1===a&&(u=!1,a=l+1),46===i?-1===o?o=l:1!==c&&(c=1):-1!==o&&(c=-1);return-1!==a&&(-1===o||0===c||1===c&&o===a-1&&o===s+1?e.base=e.name=t.slice(s,a):(e.name=t.slice(s,o),e.base=t.slice(s,a),e.ext=t.slice(o,a))),e.dir=s>0&&s!==r?t.slice(0,s-1):e.root,e},sep:"\\",delimiter:";",win32:null,posix:null},ae={resolve(...t){let e="",n=!1;for(let r=t.length-1;r>=-1&&!n;r--){const i=r>=0?t[r]:gn();J(i,"path"),0!==i.length&&(e=`${i}/${e}`,n=i.charCodeAt(0)===Z)}return e=Lt(e,!n,"/",pn),n?`/${e}`:e.length>0?e:"."},normalize(t){if(J(t,"path"),0===t.length)return".";const e=t.charCodeAt(0)===Z,n=t.charCodeAt(t.length-1)===Z;return 0===(t=Lt(t,!e,"/",pn)).length?e?"/":n?"./":".":(n&&(t+="/"),e?`/${t}`:t)},isAbsolute:t=>(J(t,"path"),t.length>0&&t.charCodeAt(0)===Z),join(...t){if(0===t.length)return".";let e;for(let n=0;n<t.length;++n){const r=t[n];J(r,"path"),r.length>0&&(void 0===e?e=r:e+=`/${r}`)}return void 0===e?".":ae.normalize(e)},relative(t,e){if(J(t,"from"),J(e,"to"),t===e||(t=ae.resolve(t))===(e=ae.resolve(e)))return"";const r=t.length,i=r-1,s=e.length-1,a=i<s?i:s;let u=-1,l=0;for(;l<a;l++){const f=t.charCodeAt(1+l);if(f!==e.charCodeAt(1+l))break;f===Z&&(u=l)}if(l===a)if(s>a){if(e.charCodeAt(1+l)===Z)return e.slice(1+l+1);if(0===l)return e.slice(1+l)}else i>a&&(t.charCodeAt(1+l)===Z?u=l:0===l&&(u=0));let c="";for(l=1+u+1;l<=r;++l)(l===r||t.charCodeAt(l)===Z)&&(c+=0===c.length?"..":"/..");return`${c}${e.slice(1+u)}`},toNamespacedPath:t=>t,dirname(t){if(J(t,"path"),0===t.length)return".";const e=t.charCodeAt(0)===Z;let n=-1,r=!0;for(let i=t.length-1;i>=1;--i)if(t.charCodeAt(i)===Z){if(!r){n=i;break}}else r=!1;return-1===n?e?"/":".":e&&1===n?"//":t.slice(0,n)},basename(t,e){void 0!==e&&J(e,"ext"),J(t,"path");let o,n=0,r=-1,i=!0;if(void 0!==e&&e.length>0&&e.length<=t.length){if(e===t)return"";let s=e.length-1,a=-1;for(o=t.length-1;o>=0;--o){const u=t.charCodeAt(o);if(u===Z){if(!i){n=o+1;break}}else-1===a&&(i=!1,a=o+1),s>=0&&(u===e.charCodeAt(s)?-1==--s&&(r=o):(s=-1,r=a))}return n===r?r=a:-1===r&&(r=t.length),t.slice(n,r)}for(o=t.length-1;o>=0;--o)if(t.charCodeAt(o)===Z){if(!i){n=o+1;break}}else-1===r&&(i=!1,r=o+1);return-1===r?"":t.slice(n,r)},extname(t){J(t,"path");let e=-1,n=0,r=-1,i=!0,o=0;for(let s=t.length-1;s>=0;--s){const a=t.charCodeAt(s);if(a!==Z)-1===r&&(i=!1,r=s+1),46===a?-1===e?e=s:1!==o&&(o=1):-1!==e&&(o=-1);else if(!i){n=s+1;break}}return-1===e||-1===r||0===o||1===o&&e===r-1&&e===n+1?"":t.slice(e,r)},format:Or.bind(null,"/"),parse(t){J(t,"path");const e={root:"",dir:"",base:"",ext:"",name:""};if(0===t.length)return e;const n=t.charCodeAt(0)===Z;let r;n?(e.root="/",r=1):r=0;let i=-1,o=0,s=-1,a=!0,u=t.length-1,l=0;for(;u>=r;--u){const c=t.charCodeAt(u);if(c!==Z)-1===s&&(a=!1,s=u+1),46===c?-1===i?i=u:1!==l&&(l=1):-1!==i&&(l=-1);else if(!a){o=u+1;break}}if(-1!==s){const c=0===o&&n?1:o;-1===i||0===l||1===l&&i===s-1&&i===o+1?e.base=e.name=t.slice(c,s):(e.name=t.slice(c,i),e.base=t.slice(c,s),e.ext=t.slice(i,s))}return o>0?e.dir=t.slice(0,o-1):n&&(e.dir="/"),e},sep:"/",delimiter:":",win32:null,posix:null};ae.win32=ie.win32=ie,ae.posix=ie.posix=ae;const No=/^\w[\w\d+.-]*$/,xo=/^\//,Io=/^\/\//;function wr(t,e){if(!t.scheme&&e)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${t.authority}", path: "${t.path}", query: "${t.query}", fragment: "${t.fragment}"}`);if(t.scheme&&!No.test(t.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(t.path)if(t.authority){if(!xo.test(t.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(Io.test(t.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}const K="",me="/",Mo=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class We{constructor(e,n,r,i,o,s=!1){"object"==typeof e?(this.scheme=e.scheme||K,this.authority=e.authority||K,this.path=e.path||K,this.query=e.query||K,this.fragment=e.fragment||K):(this.scheme=function(t,e){return t||e?t:"file"}(e,s),this.authority=n||K,this.path=function(t,e){switch(t){case"https":case"http":case"file":e?e[0]!==me&&(e=me+e):e=me}return e}(this.scheme,r||K),this.query=i||K,this.fragment=o||K,wr(this,s))}static isUri(e){return e instanceof We||!!e&&"string"==typeof e.authority&&"string"==typeof e.fragment&&"string"==typeof e.path&&"string"==typeof e.query&&"string"==typeof e.scheme&&"string"==typeof e.fsPath&&"function"==typeof e.with&&"function"==typeof e.toString}get fsPath(){return vn(this,!1)}with(e){if(!e)return this;let{scheme:n,authority:r,path:i,query:o,fragment:s}=e;return void 0===n?n=this.scheme:null===n&&(n=K),void 0===r?r=this.authority:null===r&&(r=K),void 0===i?i=this.path:null===i&&(i=K),void 0===o?o=this.query:null===o&&(o=K),void 0===s?s=this.fragment:null===s&&(s=K),n===this.scheme&&r===this.authority&&i===this.path&&o===this.query&&s===this.fragment?this:new Je(n,r,i,o,s)}static parse(e,n=!1){const r=Mo.exec(e);return r?new Je(r[2]||K,Nt(r[4]||K),Nt(r[5]||K),Nt(r[7]||K),Nt(r[9]||K),n):new Je(K,K,K,K,K)}static file(e){let n=K;if(lt&&(e=e.replace(/\\/g,me)),e[0]===me&&e[1]===me){const r=e.indexOf(me,2);-1===r?(n=e.substring(2),e=me):(n=e.substring(2,r),e=e.substring(r)||me)}return new Je("file",n,e,K,K)}static from(e){const n=new Je(e.scheme,e.authority,e.path,e.query,e.fragment);return wr(n,!0),n}static joinPath(e,...n){if(!e.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let r;return r=lt&&"file"===e.scheme?We.file(ie.join(vn(e,!0),...n)).path:ae.join(e.path,...n),e.with({path:r})}toString(e=!1){return yn(this,e)}toJSON(){return this}static revive(e){if(e){if(e instanceof We)return e;{const n=new Je(e);return n._formatted=e.external,n._fsPath=e._sep===Tr?e.fsPath:null,n}}return e}}const Tr=lt?1:void 0;class Je extends We{constructor(){super(...arguments),this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=vn(this,!1)),this._fsPath}toString(e=!1){return e?yn(this,!0):(this._formatted||(this._formatted=yn(this,!1)),this._formatted)}toJSON(){const e={$mid:1};return this._fsPath&&(e.fsPath=this._fsPath,e._sep=Tr),this._formatted&&(e.external=this._formatted),this.path&&(e.path=this.path),this.scheme&&(e.scheme=this.scheme),this.authority&&(e.authority=this.authority),this.query&&(e.query=this.query),this.fragment&&(e.fragment=this.fragment),e}}const Lr={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function Nr(t,e){let n,r=-1;for(let i=0;i<t.length;i++){const o=t.charCodeAt(i);if(o>=97&&o<=122||o>=65&&o<=90||o>=48&&o<=57||45===o||46===o||95===o||126===o||e&&47===o)-1!==r&&(n+=encodeURIComponent(t.substring(r,i)),r=-1),void 0!==n&&(n+=t.charAt(i));else{void 0===n&&(n=t.substr(0,i));const s=Lr[o];void 0!==s?(-1!==r&&(n+=encodeURIComponent(t.substring(r,i)),r=-1),n+=s):-1===r&&(r=i)}}return-1!==r&&(n+=encodeURIComponent(t.substring(r))),void 0!==n?n:t}function Do(t){let e;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);35===r||63===r?(void 0===e&&(e=t.substr(0,n)),e+=Lr[r]):void 0!==e&&(e+=t[n])}return void 0!==e?e:t}function vn(t,e){let n;return n=t.authority&&t.path.length>1&&"file"===t.scheme?`//${t.authority}${t.path}`:47===t.path.charCodeAt(0)&&(t.path.charCodeAt(1)>=65&&t.path.charCodeAt(1)<=90||t.path.charCodeAt(1)>=97&&t.path.charCodeAt(1)<=122)&&58===t.path.charCodeAt(2)?e?t.path.substr(1):t.path[1].toLowerCase()+t.path.substr(2):t.path,lt&&(n=n.replace(/\//g,"\\")),n}function yn(t,e){const n=e?Do:Nr;let r="",{scheme:i,authority:o,path:s,query:a,fragment:u}=t;if(i&&(r+=i,r+=":"),(o||"file"===i)&&(r+=me,r+=me),o){let l=o.indexOf("@");if(-1!==l){const c=o.substr(0,l);o=o.substr(l+1),l=c.indexOf(":"),-1===l?r+=n(c,!1):(r+=n(c.substr(0,l),!1),r+=":",r+=n(c.substr(l+1),!1)),r+="@"}o=o.toLowerCase(),l=o.indexOf(":"),-1===l?r+=n(o,!1):(r+=n(o.substr(0,l),!1),r+=o.substr(l))}if(s){if(s.length>=3&&47===s.charCodeAt(0)&&58===s.charCodeAt(2)){const l=s.charCodeAt(1);l>=65&&l<=90&&(s=`/${String.fromCharCode(l+32)}:${s.substr(3)}`)}else if(s.length>=2&&58===s.charCodeAt(1)){const l=s.charCodeAt(0);l>=65&&l<=90&&(s=`${String.fromCharCode(l+32)}:${s.substr(2)}`)}r+=n(s,!0)}return a&&(r+="?",r+=n(a,!1)),u&&(r+="#",r+=e?u:Nr(u,!1)),r}function xr(t){try{return decodeURIComponent(t)}catch(e){return t.length>3?t.substr(0,3)+xr(t.substr(3)):t}}const Ir=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function Nt(t){return t.match(Ir)?t.replace(Ir,e=>xr(e)):t}class ce{constructor(e,n){this.lineNumber=e,this.column=n}with(e=this.lineNumber,n=this.column){return e===this.lineNumber&&n===this.column?this:new ce(e,n)}delta(e=0,n=0){return this.with(this.lineNumber+e,this.column+n)}equals(e){return ce.equals(this,e)}static equals(e,n){return!e&&!n||!!e&&!!n&&e.lineNumber===n.lineNumber&&e.column===n.column}isBefore(e){return ce.isBefore(this,e)}static isBefore(e,n){return e.lineNumber<n.lineNumber||!(n.lineNumber<e.lineNumber)&&e.column<n.column}isBeforeOrEqual(e){return ce.isBeforeOrEqual(this,e)}static isBeforeOrEqual(e,n){return e.lineNumber<n.lineNumber||!(n.lineNumber<e.lineNumber)&&e.column<=n.column}static compare(e,n){let r=0|e.lineNumber,i=0|n.lineNumber;return r===i?(0|e.column)-(0|n.column):r-i}clone(){return new ce(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(e){return new ce(e.lineNumber,e.column)}static isIPosition(e){return e&&"number"==typeof e.lineNumber&&"number"==typeof e.column}}class Y{constructor(e,n,r,i){e>r||e===r&&n>i?(this.startLineNumber=r,this.startColumn=i,this.endLineNumber=e,this.endColumn=n):(this.startLineNumber=e,this.startColumn=n,this.endLineNumber=r,this.endColumn=i)}isEmpty(){return Y.isEmpty(this)}static isEmpty(e){return e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn}containsPosition(e){return Y.containsPosition(this,e)}static containsPosition(e,n){return!(n.lineNumber<e.startLineNumber||n.lineNumber>e.endLineNumber||n.lineNumber===e.startLineNumber&&n.column<e.startColumn||n.lineNumber===e.endLineNumber&&n.column>e.endColumn)}containsRange(e){return Y.containsRange(this,e)}static containsRange(e,n){return!(n.startLineNumber<e.startLineNumber||n.endLineNumber<e.startLineNumber||n.startLineNumber>e.endLineNumber||n.endLineNumber>e.endLineNumber||n.startLineNumber===e.startLineNumber&&n.startColumn<e.startColumn||n.endLineNumber===e.endLineNumber&&n.endColumn>e.endColumn)}strictContainsRange(e){return Y.strictContainsRange(this,e)}static strictContainsRange(e,n){return!(n.startLineNumber<e.startLineNumber||n.endLineNumber<e.startLineNumber||n.startLineNumber>e.endLineNumber||n.endLineNumber>e.endLineNumber||n.startLineNumber===e.startLineNumber&&n.startColumn<=e.startColumn||n.endLineNumber===e.endLineNumber&&n.endColumn>=e.endColumn)}plusRange(e){return Y.plusRange(this,e)}static plusRange(e,n){let r,i,o,s;return n.startLineNumber<e.startLineNumber?(r=n.startLineNumber,i=n.startColumn):n.startLineNumber===e.startLineNumber?(r=n.startLineNumber,i=Math.min(n.startColumn,e.startColumn)):(r=e.startLineNumber,i=e.startColumn),n.endLineNumber>e.endLineNumber?(o=n.endLineNumber,s=n.endColumn):n.endLineNumber===e.endLineNumber?(o=n.endLineNumber,s=Math.max(n.endColumn,e.endColumn)):(o=e.endLineNumber,s=e.endColumn),new Y(r,i,o,s)}intersectRanges(e){return Y.intersectRanges(this,e)}static intersectRanges(e,n){let r=e.startLineNumber,i=e.startColumn,o=e.endLineNumber,s=e.endColumn,a=n.startLineNumber,u=n.startColumn,l=n.endLineNumber,c=n.endColumn;return r<a?(r=a,i=u):r===a&&(i=Math.max(i,u)),o>l?(o=l,s=c):o===l&&(s=Math.min(s,c)),r>o||r===o&&i>s?null:new Y(r,i,o,s)}equalsRange(e){return Y.equalsRange(this,e)}static equalsRange(e,n){return!!e&&!!n&&e.startLineNumber===n.startLineNumber&&e.startColumn===n.startColumn&&e.endLineNumber===n.endLineNumber&&e.endColumn===n.endColumn}getEndPosition(){return Y.getEndPosition(this)}static getEndPosition(e){return new ce(e.endLineNumber,e.endColumn)}getStartPosition(){return Y.getStartPosition(this)}static getStartPosition(e){return new ce(e.startLineNumber,e.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(e,n){return new Y(this.startLineNumber,this.startColumn,e,n)}setStartPosition(e,n){return new Y(e,n,this.endLineNumber,this.endColumn)}collapseToStart(){return Y.collapseToStart(this)}static collapseToStart(e){return new Y(e.startLineNumber,e.startColumn,e.startLineNumber,e.startColumn)}static fromPositions(e,n=e){return new Y(e.lineNumber,e.column,n.lineNumber,n.column)}static lift(e){return e?new Y(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn):null}static isIRange(e){return e&&"number"==typeof e.startLineNumber&&"number"==typeof e.startColumn&&"number"==typeof e.endLineNumber&&"number"==typeof e.endColumn}static areIntersectingOrTouching(e,n){return!(e.endLineNumber<n.startLineNumber||e.endLineNumber===n.startLineNumber&&e.endColumn<n.startColumn||n.endLineNumber<e.startLineNumber||n.endLineNumber===e.startLineNumber&&n.endColumn<e.startColumn)}static areIntersecting(e,n){return!(e.endLineNumber<n.startLineNumber||e.endLineNumber===n.startLineNumber&&e.endColumn<=n.startColumn||n.endLineNumber<e.startLineNumber||n.endLineNumber===e.startLineNumber&&n.endColumn<=e.startColumn)}static compareRangesUsingStarts(e,n){if(e&&n){const o=0|e.startLineNumber,s=0|n.startLineNumber;if(o===s){const a=0|e.startColumn,u=0|n.startColumn;if(a===u){const l=0|e.endLineNumber,c=0|n.endLineNumber;return l===c?(0|e.endColumn)-(0|n.endColumn):l-c}return a-u}return o-s}return(e?1:0)-(n?1:0)}static compareRangesUsingEnds(e,n){return e.endLineNumber===n.endLineNumber?e.endColumn===n.endColumn?e.startLineNumber===n.startLineNumber?e.startColumn-n.startColumn:e.startLineNumber-n.startLineNumber:e.endColumn-n.endColumn:e.endLineNumber-n.endLineNumber}static spansMultipleLines(e){return e.endLineNumber>e.startLineNumber}}function kr(t,e,n,r){return new Le(t,e,n).ComputeDiff(r)}class Pr{constructor(e){const n=[],r=[];for(let i=0,o=e.length;i<o;i++)n[i]=bn(e[i],1),r[i]=En(e[i],1);this.lines=e,this._startColumns=n,this._endColumns=r}getElements(){const e=[];for(let n=0,r=this.lines.length;n<r;n++)e[n]=this.lines[n].substring(this._startColumns[n]-1,this._endColumns[n]-1);return e}getStrictElement(e){return this.lines[e]}getStartLineNumber(e){return e+1}getEndLineNumber(e){return e+1}createCharSequence(e,n,r){const i=[],o=[],s=[];let a=0;for(let u=n;u<=r;u++){const l=this.lines[u],f=e?this._endColumns[u]:l.length+1;for(let h=e?this._startColumns[u]:1;h<f;h++)i[a]=l.charCodeAt(h-1),o[a]=u+1,s[a]=h,a++}return new Ro(i,o,s)}}class Ro{constructor(e,n,r){this._charCodes=e,this._lineNumbers=n,this._columns=r}getElements(){return this._charCodes}getStartLineNumber(e){return this._lineNumbers[e]}getStartColumn(e){return this._columns[e]}getEndLineNumber(e){return this._lineNumbers[e]}getEndColumn(e){return this._columns[e]+1}}class ct{constructor(e,n,r,i,o,s,a,u){this.originalStartLineNumber=e,this.originalStartColumn=n,this.originalEndLineNumber=r,this.originalEndColumn=i,this.modifiedStartLineNumber=o,this.modifiedStartColumn=s,this.modifiedEndLineNumber=a,this.modifiedEndColumn=u}static createFromDiffChange(e,n,r){let i,o,s,a,u,l,c,f;return 0===e.originalLength?(i=0,o=0,s=0,a=0):(i=n.getStartLineNumber(e.originalStart),o=n.getStartColumn(e.originalStart),s=n.getEndLineNumber(e.originalStart+e.originalLength-1),a=n.getEndColumn(e.originalStart+e.originalLength-1)),0===e.modifiedLength?(u=0,l=0,c=0,f=0):(u=r.getStartLineNumber(e.modifiedStart),l=r.getStartColumn(e.modifiedStart),c=r.getEndLineNumber(e.modifiedStart+e.modifiedLength-1),f=r.getEndColumn(e.modifiedStart+e.modifiedLength-1)),new ct(i,o,s,a,u,l,c,f)}}class ht{constructor(e,n,r,i,o){this.originalStartLineNumber=e,this.originalEndLineNumber=n,this.modifiedStartLineNumber=r,this.modifiedEndLineNumber=i,this.charChanges=o}static createFromDiffResult(e,n,r,i,o,s,a){let u,l,c,f,h;if(0===n.originalLength?(u=r.getStartLineNumber(n.originalStart)-1,l=0):(u=r.getStartLineNumber(n.originalStart),l=r.getEndLineNumber(n.originalStart+n.originalLength-1)),0===n.modifiedLength?(c=i.getStartLineNumber(n.modifiedStart)-1,f=0):(c=i.getStartLineNumber(n.modifiedStart),f=i.getEndLineNumber(n.modifiedStart+n.modifiedLength-1)),s&&n.originalLength>0&&n.originalLength<20&&n.modifiedLength>0&&n.modifiedLength<20&&o()){const d=r.createCharSequence(e,n.originalStart,n.originalStart+n.originalLength-1),g=i.createCharSequence(e,n.modifiedStart,n.modifiedStart+n.modifiedLength-1);let y=kr(d,g,o,!0).changes;a&&(y=function(t){if(t.length<=1)return t;const e=[t[0]];let n=e[0];for(let r=1,i=t.length;r<i;r++){const o=t[r];Math.min(o.originalStart-(n.originalStart+n.originalLength),o.modifiedStart-(n.modifiedStart+n.modifiedLength))<3?(n.originalLength=o.originalStart+o.originalLength-n.originalStart,n.modifiedLength=o.modifiedStart+o.modifiedLength-n.modifiedStart):(e.push(o),n=o)}return e}(y)),h=[];for(let v=0,_=y.length;v<_;v++)h.push(ct.createFromDiffChange(y[v],d,g))}return new ht(u,l,c,f,h)}}class Uo{constructor(e,n,r){this.shouldComputeCharChanges=r.shouldComputeCharChanges,this.shouldPostProcessCharChanges=r.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=r.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=r.shouldMakePrettyDiff,this.originalLines=e,this.modifiedLines=n,this.original=new Pr(e),this.modified=new Pr(n),this.continueLineDiff=Mr(r.maxComputationTime),this.continueCharDiff=Mr(0===r.maxComputationTime?0:Math.min(r.maxComputationTime,5e3))}computeDiff(){if(1===this.original.lines.length&&0===this.original.lines[0].length)return 1===this.modified.lines.length&&0===this.modified.lines[0].length?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};if(1===this.modified.lines.length&&0===this.modified.lines[0].length)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};const e=kr(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),n=e.changes,r=e.quitEarly;if(this.shouldIgnoreTrimWhitespace){const a=[];for(let u=0,l=n.length;u<l;u++)a.push(ht.createFromDiffResult(this.shouldIgnoreTrimWhitespace,n[u],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:r,changes:a}}const i=[];let o=0,s=0;for(let a=-1,u=n.length;a<u;a++){const l=a+1<u?n[a+1]:null,c=l?l.originalStart:this.originalLines.length,f=l?l.modifiedStart:this.modifiedLines.length;for(;o<c&&s<f;){const h=this.originalLines[o],d=this.modifiedLines[s];if(h!==d){{let g=bn(h,1),y=bn(d,1);for(;g>1&&y>1&&h.charCodeAt(g-2)===d.charCodeAt(y-2);)g--,y--;(g>1||y>1)&&this._pushTrimWhitespaceCharChange(i,o+1,1,g,s+1,1,y)}{let g=En(h,1),y=En(d,1);const v=h.length+1,_=d.length+1;for(;g<v&&y<_&&h.charCodeAt(g-1)===h.charCodeAt(y-1);)g++,y++;(g<v||y<_)&&this._pushTrimWhitespaceCharChange(i,o+1,g,v,s+1,y,_)}}o++,s++}l&&(i.push(ht.createFromDiffResult(this.shouldIgnoreTrimWhitespace,l,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),o+=l.originalLength,s+=l.modifiedLength)}return{quitEarly:r,changes:i}}_pushTrimWhitespaceCharChange(e,n,r,i,o,s,a){if(this._mergeTrimWhitespaceCharChange(e,n,r,i,o,s,a))return;let u;this.shouldComputeCharChanges&&(u=[new ct(n,r,n,i,o,s,o,a)]),e.push(new ht(n,n,o,o,u))}_mergeTrimWhitespaceCharChange(e,n,r,i,o,s,a){const u=e.length;if(0===u)return!1;const l=e[u-1];return 0!==l.originalEndLineNumber&&0!==l.modifiedEndLineNumber&&l.originalEndLineNumber+1===n&&l.modifiedEndLineNumber+1===o&&(l.originalEndLineNumber=n,l.modifiedEndLineNumber=o,this.shouldComputeCharChanges&&l.charChanges&&l.charChanges.push(new ct(n,r,n,i,o,s,o,a)),!0)}}function bn(t,e){const n=function(t){for(let e=0,n=t.length;e<n;e++){const r=t.charCodeAt(e);if(32!==r&&9!==r)return e}return-1}(t);return-1===n?e:n+1}function En(t,e){const n=function(t,e=t.length-1){for(let n=e;n>=0;n--){const r=t.charCodeAt(n);if(32!==r&&9!==r)return n}return-1}(t);return-1===n?e:n+2}function Mr(t){if(0===t)return()=>!0;const e=Date.now();return()=>Date.now()-e<t}function Dr(t){return t<0?0:t>255?255:0|t}function Qe(t){return t<0?0:t>4294967295?4294967295:0|t}class Vo{constructor(e,n){this._prefixSumIndexOfResultBrand=void 0,this.index=e,this.remainder=n}}class Wo{constructor(e){this.values=e,this.prefixSum=new Uint32Array(e.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(e,n){e=Qe(e);const r=this.values,i=this.prefixSum,o=n.length;return 0!==o&&(this.values=new Uint32Array(r.length+o),this.values.set(r.subarray(0,e),0),this.values.set(r.subarray(e),e+o),this.values.set(n,e),e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(i.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}changeValue(e,n){return e=Qe(e),n=Qe(n),this.values[e]!==n&&(this.values[e]=n,e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),!0)}removeValues(e,n){e=Qe(e),n=Qe(n);const r=this.values,i=this.prefixSum;if(e>=r.length)return!1;let o=r.length-e;return n>=o&&(n=o),0!==n&&(this.values=new Uint32Array(r.length-n),this.values.set(r.subarray(0,e),0),this.values.set(r.subarray(e+n),e),this.prefixSum=new Uint32Array(this.values.length),e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(i.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return 0===this.values.length?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(e){return e<0?0:(e=Qe(e),this._getPrefixSum(e))}_getPrefixSum(e){if(e<=this.prefixSumValidIndex[0])return this.prefixSum[e];let n=this.prefixSumValidIndex[0]+1;0===n&&(this.prefixSum[0]=this.values[0],n++),e>=this.values.length&&(e=this.values.length-1);for(let r=n;r<=e;r++)this.prefixSum[r]=this.prefixSum[r-1]+this.values[r];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],e),this.prefixSum[e]}getIndexOf(e){e=Math.floor(e),this.getTotalSum();let n=0,r=this.values.length-1,i=0,o=0,s=0;for(;n<=r;)if(i=n+(r-n)/2|0,o=this.prefixSum[i],s=o-this.values[i],e<s)r=i-1;else{if(!(e>=o))break;n=i+1}return new Vo(i,e-s)}}const qo=function(t=""){let e="(-?\\d*\\.\\d\\w*)|([^";for(const n of"`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?")t.indexOf(n)>=0||(e+="\\"+n);return e+="\\s]+)",new RegExp(e,"g")}(),zo={maxLen:1e3,windowSize:15,timeBudget:150};function Fr(t,e,n,r,i=zo){if(n.length>i.maxLen){let l=t-i.maxLen/2;return l<0?l=0:r+=l,Fr(t,e,n=n.substring(l,t+i.maxLen/2),r,i)}const o=Date.now(),s=t-1-r;let a=-1,u=null;for(let l=1;!(Date.now()-o>=i.timeBudget);l++){const c=s-i.windowSize*l;e.lastIndex=Math.max(0,c);const f=Go(e,n,s,a);if(!f&&u||(u=f,c<=0))break;a=c}if(u){let l={word:u[0],startColumn:r+1+u.index,endColumn:r+1+u.index+u[0].length};return e.lastIndex=0,l}return null}function Go(t,e,n,r){let i;for(;i=t.exec(e);){const o=i.index||0;if(o<=n&&t.lastIndex>=n)return i;if(r>0&&o>r)return null}return null}class xt{constructor(e){let n=Dr(e);this._defaultValue=n,this._asciiMap=xt._createAsciiMap(n),this._map=new Map}static _createAsciiMap(e){let n=new Uint8Array(256);for(let r=0;r<256;r++)n[r]=e;return n}set(e,n){let r=Dr(n);e>=0&&e<256?this._asciiMap[e]=r:this._map.set(e,r)}get(e){return e>=0&&e<256?this._asciiMap[e]:this._map.get(e)||this._defaultValue}}class Yo{constructor(e,n,r){const i=new Uint8Array(e*n);for(let o=0,s=e*n;o<s;o++)i[o]=r;this._data=i,this.rows=e,this.cols=n}get(e,n){return this._data[e*this.cols+n]}set(e,n,r){this._data[e*this.cols+n]=r}}class Jo{constructor(e){let n=0,r=0;for(let o=0,s=e.length;o<s;o++){let[a,u,l]=e[o];u>n&&(n=u),a>r&&(r=a),l>r&&(r=l)}n++,r++;let i=new Yo(r,n,0);for(let o=0,s=e.length;o<s;o++){let[a,u,l]=e[o];i.set(a,u,l)}this._states=i,this._maxCharCode=n}nextState(e,n){return n<0||n>=this._maxCharCode?0:this._states.get(e,n)}}let Sn=null,dt=null;class It{static _createLink(e,n,r,i,o){let s=o-1;do{const a=n.charCodeAt(s);if(2!==e.get(a))break;s--}while(s>i);if(i>0){const a=n.charCodeAt(i-1),u=n.charCodeAt(s);(40===a&&41===u||91===a&&93===u||123===a&&125===u)&&s--}return{range:{startLineNumber:r,startColumn:i+1,endLineNumber:r,endColumn:s+2},url:n.substring(i,s+1)}}static computeLinks(e,n=function(){return null===Sn&&(Sn=new Jo([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),Sn}()){const r=function(){if(null===dt){dt=new xt(0);const t=" \t<>'\"\u3001\u3002\uff61\uff64\uff0c\uff0e\uff1a\uff1b\u2018\u3008\u300c\u300e\u3014\uff08\uff3b\uff5b\uff62\uff63\uff5d\uff3d\uff09\u3015\u300f\u300d\u3009\u2019\uff40\uff5e\u2026";for(let n=0;n<t.length;n++)dt.set(t.charCodeAt(n),1);const e=".,;";for(let n=0;n<e.length;n++)dt.set(e.charCodeAt(n),2)}return dt}();let i=[];for(let o=1,s=e.getLineCount();o<=s;o++){const a=e.getLineContent(o),u=a.length;let l=0,c=0,f=0,h=1,d=!1,g=!1,y=!1,v=!1;for(;l<u;){let _=!1;const p=a.charCodeAt(l);if(13===h){let m;switch(p){case 40:d=!0,m=0;break;case 41:m=d?0:1;break;case 91:y=!0,g=!0,m=0;break;case 93:y=!1,m=g?0:1;break;case 123:v=!0,m=0;break;case 125:m=v?0:1;break;case 39:m=34===f||96===f?0:1;break;case 34:m=39===f||96===f?0:1;break;case 96:m=39===f||34===f?0:1;break;case 42:m=42===f?1:0;break;case 124:m=124===f?1:0;break;case 32:m=y?0:1;break;default:m=r.get(p)}1===m&&(i.push(It._createLink(r,a,o,c,l)),_=!0)}else if(12===h){let m;91===p?(g=!0,m=0):m=r.get(p),1===m?_=!0:h=13}else h=n.nextState(h,p),0===h&&(_=!0);_&&(h=1,d=!1,g=!1,v=!1,c=l+1,f=p),l++}13===h&&i.push(It._createLink(r,a,o,c,u))}return i}}class Cn{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(e,n,r,i,o){if(e&&n){let s=this.doNavigateValueSet(n,o);if(s)return{range:e,value:s}}if(r&&i){let s=this.doNavigateValueSet(i,o);if(s)return{range:r,value:s}}return null}doNavigateValueSet(e,n){let r=this.numberReplace(e,n);return null!==r?r:this.textReplace(e,n)}numberReplace(e,n){let r=Math.pow(10,e.length-(e.lastIndexOf(".")+1)),i=Number(e),o=parseFloat(e);return isNaN(i)||isNaN(o)||i!==o?null:0!==i||n?(i=Math.floor(i*r),i+=n?r:-r,String(i/r)):null}textReplace(e,n){return this.valueSetsReplace(this._defaultValueSet,e,n)}valueSetsReplace(e,n,r){let i=null;for(let o=0,s=e.length;null===i&&o<s;o++)i=this.valueSetReplace(e[o],n,r);return i}valueSetReplace(e,n,r){let i=e.indexOf(n);return i>=0?(i+=r?1:-1,i<0?i=e.length-1:i%=e.length,e[i]):null}}Cn.INSTANCE=new Cn;class H{constructor(e){this.element=e,this.next=H.Undefined,this.prev=H.Undefined}}H.Undefined=new H(void 0);class Rr{constructor(){this._first=H.Undefined,this._last=H.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===H.Undefined}clear(){let e=this._first;for(;e!==H.Undefined;){const n=e.next;e.prev=H.Undefined,e.next=H.Undefined,e=n}this._first=H.Undefined,this._last=H.Undefined,this._size=0}unshift(e){return this._insert(e,!1)}push(e){return this._insert(e,!0)}_insert(e,n){const r=new H(e);if(this._first===H.Undefined)this._first=r,this._last=r;else if(n){const o=this._last;this._last=r,r.prev=o,o.next=r}else{const o=this._first;this._first=r,r.next=o,o.prev=r}this._size+=1;let i=!1;return()=>{i||(i=!0,this._remove(r))}}shift(){if(this._first!==H.Undefined){const e=this._first.element;return this._remove(this._first),e}}pop(){if(this._last!==H.Undefined){const e=this._last.element;return this._remove(this._last),e}}_remove(e){if(e.prev!==H.Undefined&&e.next!==H.Undefined){const n=e.prev;n.next=e.next,e.next.prev=n}else e.prev===H.Undefined&&e.next===H.Undefined?(this._first=H.Undefined,this._last=H.Undefined):e.next===H.Undefined?(this._last=this._last.prev,this._last.next=H.Undefined):e.prev===H.Undefined&&(this._first=this._first.next,this._first.prev=H.Undefined);this._size-=1}*[Symbol.iterator](){let e=this._first;for(;e!==H.Undefined;)yield e.element,e=e.next}}const es=ee.performance&&"function"==typeof ee.performance.now;class kt{constructor(e){this._highResolution=es&&e,this._startTime=this._now(),this._stopTime=-1}static create(e=!0){return new kt(e)}stop(){this._stopTime=this._now()}elapsed(){return-1!==this._stopTime?this._stopTime-this._startTime:this._now()-this._startTime}_now(){return this._highResolution?ee.performance.now():Date.now()}}var Pt;!function(t){function e(p){return(m,S=null,C)=>{let E,T=!1;return E=p(A=>{if(!T)return E?E.dispose():T=!0,m.call(S,A)},null,C),T&&E.dispose(),E}}function n(p,m){return u((S,C=null,T)=>p(E=>S.call(C,m(E)),null,T))}function r(p,m){return u((S,C=null,T)=>p(E=>{m(E),S.call(C,E)},null,T))}function i(p,m){return u((S,C=null,T)=>p(E=>m(E)&&S.call(C,E),null,T))}function a(p,m,S){let C=S;return n(p,T=>(C=m(C,T),C))}function u(p){let m;const S=new ke({onFirstListenerAdd(){m=p(S.fire,S)},onLastListenerRemove(){m.dispose()}});return S.event}function l(p,m,S=100,C=!1,T){let E,A,b,N=0;const x=new ke({leakWarningThreshold:T,onFirstListenerAdd(){E=p(w=>{N++,A=m(A,w),C&&!b&&(x.fire(A),A=void 0),clearTimeout(b),b=setTimeout(()=>{const M=A;A=void 0,b=void 0,(!C||N>1)&&x.fire(M),N=0},S)})},onLastListenerRemove(){E.dispose()}});return x.event}function c(p,m=((S,C)=>S===C)){let C,S=!0;return i(p,T=>{const E=S||!m(T,C);return S=!1,C=T,E})}t.None=()=>Zt.None,t.once=e,t.map=n,t.forEach=r,t.filter=i,t.signal=function(p){return p},t.any=function(...p){return(m,S=null,C)=>function(...t){return t.forEach(_e),function(t){return{dispose:()=>{t()}}}(()=>ir(t))}(...p.map(T=>T(E=>m.call(S,E),null,C)))},t.reduce=a,t.debounce=l,t.latch=c,t.split=function(p,m){return[t.filter(p,m),t.filter(p,S=>!m(S))]},t.buffer=function(p,m=!1,S=[]){let C=S.slice(),T=p(b=>{C?C.push(b):A.fire(b)});const E=()=>{C&&C.forEach(b=>A.fire(b)),C=null},A=new ke({onFirstListenerAdd(){T||(T=p(b=>A.fire(b)))},onFirstListenerDidAdd(){C&&(m?setTimeout(E):E())},onLastListenerRemove(){T&&T.dispose(),T=null}});return A.event};class d{constructor(m){this.event=m}map(m){return new d(n(this.event,m))}forEach(m){return new d(r(this.event,m))}filter(m){return new d(i(this.event,m))}reduce(m,S){return new d(a(this.event,m,S))}latch(){return new d(c(this.event))}debounce(m,S=100,C=!1,T){return new d(l(this.event,m,S,C,T))}on(m,S,C){return this.event(m,S,C)}once(m,S,C){return e(this.event)(m,S,C)}}t.chain=function(p){return new d(p)},t.fromNodeEventEmitter=function(p,m,S=(C=>C)){const C=(...b)=>A.fire(S(...b)),A=new ke({onFirstListenerAdd:()=>p.on(m,C),onLastListenerRemove:()=>p.removeListener(m,C)});return A.event},t.fromDOMEventEmitter=function(p,m,S=(C=>C)){const C=(...b)=>A.fire(S(...b)),A=new ke({onFirstListenerAdd:()=>p.addEventListener(m,C),onLastListenerRemove:()=>p.removeEventListener(m,C)});return A.event},t.toPromise=function(p){return new Promise(m=>e(p)(m))}}(Pt||(Pt={}));let ts=(()=>{class t{constructor(n){this._listenerCount=0,this._invocationCount=0,this._elapsedOverall=0,this._name=`${n}_${t._idPool++}`}start(n){this._stopWatch=new kt(!0),this._listenerCount=n}stop(){if(this._stopWatch){const n=this._stopWatch.elapsed();this._elapsedOverall+=n,this._invocationCount+=1,console.info(`did FIRE ${this._name}: elapsed_ms: ${n.toFixed(5)}, listener: ${this._listenerCount} (elapsed_overall: ${this._elapsedOverall.toFixed(2)}, invocations: ${this._invocationCount})`),this._stopWatch=void 0}}}return t._idPool=0,t})(),ke=(()=>{class t{constructor(n){var r;this._disposed=!1,this._options=n,this._leakageMon=void 0,this._perfMon=(null===(r=this._options)||void 0===r?void 0:r._profName)?new ts(this._options._profName):void 0}get event(){return this._event||(this._event=(n,r,i)=>{var o;this._listeners||(this._listeners=new Rr);const s=this._listeners.isEmpty();s&&this._options&&this._options.onFirstListenerAdd&&this._options.onFirstListenerAdd(this);const a=this._listeners.push(r?[n,r]:n);s&&this._options&&this._options.onFirstListenerDidAdd&&this._options.onFirstListenerDidAdd(this),this._options&&this._options.onListenerDidAdd&&this._options.onListenerDidAdd(this,n,r);const u=null===(o=this._leakageMon)||void 0===o?void 0:o.check(this._listeners.size);let l;return l={dispose:()=>{u&&u(),l.dispose=t._noop,this._disposed||(a(),this._options&&this._options.onLastListenerRemove&&(this._listeners&&!this._listeners.isEmpty()||this._options.onLastListenerRemove(this)))}},i instanceof or?i.add(l):Array.isArray(i)&&i.push(l),l}),this._event}fire(n){var r,i;if(this._listeners){this._deliveryQueue||(this._deliveryQueue=new Rr);for(let o of this._listeners)this._deliveryQueue.push([o,n]);for(null===(r=this._perfMon)||void 0===r||r.start(this._deliveryQueue.size);this._deliveryQueue.size>0;){const[o,s]=this._deliveryQueue.shift();try{"function"==typeof o?o.call(void 0,s):o[0].call(o[1],s)}catch(a){ji(a)}}null===(i=this._perfMon)||void 0===i||i.stop()}}dispose(){var n,r,i,o,s;this._disposed||(this._disposed=!0,null===(n=this._listeners)||void 0===n||n.clear(),null===(r=this._deliveryQueue)||void 0===r||r.clear(),null===(o=null===(i=this._options)||void 0===i?void 0:i.onLastListenerRemove)||void 0===o||o.call(i),null===(s=this._leakageMon)||void 0===s||s.dispose())}}return t._noop=function(){},t})();const Ur=Object.freeze(function(t,e){const n=setTimeout(t.bind(e),0);return{dispose(){clearTimeout(n)}}});var Mt,t;(t=Mt||(Mt={})).isCancellationToken=function(n){return n===t.None||n===t.Cancelled||n instanceof Dt||!(!n||"object"!=typeof n)&&"boolean"==typeof n.isCancellationRequested&&"function"==typeof n.onCancellationRequested},t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:Pt.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Ur});class Dt{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?Ur:(this._emitter||(this._emitter=new ke),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class _n{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(e,n){this._keyCodeToStr[e]=n,this._strToKeyCode[n.toLowerCase()]=e}keyCodeToStr(e){return this._keyCodeToStr[e]}strToKeyCode(e){return this._strToKeyCode[e.toLowerCase()]||0}}const An=new _n,On=new _n,wn=new _n;var Vr;!function(){function t(e,n,r=n,i=r){An.define(e,n),On.define(e,r),wn.define(e,i)}t(0,"unknown"),t(1,"Backspace"),t(2,"Tab"),t(3,"Enter"),t(4,"Shift"),t(5,"Ctrl"),t(6,"Alt"),t(7,"PauseBreak"),t(8,"CapsLock"),t(9,"Escape"),t(10,"Space"),t(11,"PageUp"),t(12,"PageDown"),t(13,"End"),t(14,"Home"),t(15,"LeftArrow","Left"),t(16,"UpArrow","Up"),t(17,"RightArrow","Right"),t(18,"DownArrow","Down"),t(19,"Insert"),t(20,"Delete"),t(21,"0"),t(22,"1"),t(23,"2"),t(24,"3"),t(25,"4"),t(26,"5"),t(27,"6"),t(28,"7"),t(29,"8"),t(30,"9"),t(31,"A"),t(32,"B"),t(33,"C"),t(34,"D"),t(35,"E"),t(36,"F"),t(37,"G"),t(38,"H"),t(39,"I"),t(40,"J"),t(41,"K"),t(42,"L"),t(43,"M"),t(44,"N"),t(45,"O"),t(46,"P"),t(47,"Q"),t(48,"R"),t(49,"S"),t(50,"T"),t(51,"U"),t(52,"V"),t(53,"W"),t(54,"X"),t(55,"Y"),t(56,"Z"),t(57,"Meta"),t(58,"ContextMenu"),t(59,"F1"),t(60,"F2"),t(61,"F3"),t(62,"F4"),t(63,"F5"),t(64,"F6"),t(65,"F7"),t(66,"F8"),t(67,"F9"),t(68,"F10"),t(69,"F11"),t(70,"F12"),t(71,"F13"),t(72,"F14"),t(73,"F15"),t(74,"F16"),t(75,"F17"),t(76,"F18"),t(77,"F19"),t(78,"NumLock"),t(79,"ScrollLock"),t(80,";",";","OEM_1"),t(81,"=","=","OEM_PLUS"),t(82,",",",","OEM_COMMA"),t(83,"-","-","OEM_MINUS"),t(84,".",".","OEM_PERIOD"),t(85,"/","/","OEM_2"),t(86,"`","`","OEM_3"),t(110,"ABNT_C1"),t(111,"ABNT_C2"),t(87,"[","[","OEM_4"),t(88,"\\","\\","OEM_5"),t(89,"]","]","OEM_6"),t(90,"'","'","OEM_7"),t(91,"OEM_8"),t(92,"OEM_102"),t(93,"NumPad0"),t(94,"NumPad1"),t(95,"NumPad2"),t(96,"NumPad3"),t(97,"NumPad4"),t(98,"NumPad5"),t(99,"NumPad6"),t(100,"NumPad7"),t(101,"NumPad8"),t(102,"NumPad9"),t(103,"NumPad_Multiply"),t(104,"NumPad_Add"),t(105,"NumPad_Separator"),t(106,"NumPad_Subtract"),t(107,"NumPad_Decimal"),t(108,"NumPad_Divide")}(),function(t){t.toString=function(s){return An.keyCodeToStr(s)},t.fromString=function(s){return An.strToKeyCode(s)},t.toUserSettingsUS=function(s){return On.keyCodeToStr(s)},t.toUserSettingsGeneral=function(s){return wn.keyCodeToStr(s)},t.fromUserSettings=function(s){return On.strToKeyCode(s)||wn.strToKeyCode(s)}}(Vr||(Vr={}));class ge extends Y{constructor(e,n,r,i){super(e,n,r,i),this.selectionStartLineNumber=e,this.selectionStartColumn=n,this.positionLineNumber=r,this.positionColumn=i}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(e){return ge.selectionsEqual(this,e)}static selectionsEqual(e,n){return e.selectionStartLineNumber===n.selectionStartLineNumber&&e.selectionStartColumn===n.selectionStartColumn&&e.positionLineNumber===n.positionLineNumber&&e.positionColumn===n.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(e,n){return 0===this.getDirection()?new ge(this.startLineNumber,this.startColumn,e,n):new ge(e,n,this.startLineNumber,this.startColumn)}getPosition(){return new ce(this.positionLineNumber,this.positionColumn)}setStartPosition(e,n){return 0===this.getDirection()?new ge(e,n,this.endLineNumber,this.endColumn):new ge(this.endLineNumber,this.endColumn,e,n)}static fromPositions(e,n=e){return new ge(e.lineNumber,e.column,n.lineNumber,n.column)}static liftSelection(e){return new ge(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn)}static selectionsArrEqual(e,n){if(e&&!n||!e&&n)return!1;if(!e&&!n)return!0;if(e.length!==n.length)return!1;for(let r=0,i=e.length;r<i;r++)if(!this.selectionsEqual(e[r],n[r]))return!1;return!0}static isISelection(e){return e&&"number"==typeof e.selectionStartLineNumber&&"number"==typeof e.selectionStartColumn&&"number"==typeof e.positionLineNumber&&"number"==typeof e.positionColumn}static createWithDirection(e,n,r,i,o){return 0===o?new ge(e,n,r,i):new ge(r,i,e,n)}}var Ft=(()=>(function(t){t[t.DependsOnKbLayout=-1]="DependsOnKbLayout",t[t.Unknown=0]="Unknown",t[t.Backspace=1]="Backspace",t[t.Tab=2]="Tab",t[t.Enter=3]="Enter",t[t.Shift=4]="Shift",t[t.Ctrl=5]="Ctrl",t[t.Alt=6]="Alt",t[t.PauseBreak=7]="PauseBreak",t[t.CapsLock=8]="CapsLock",t[t.Escape=9]="Escape",t[t.Space=10]="Space",t[t.PageUp=11]="PageUp",t[t.PageDown=12]="PageDown",t[t.End=13]="End",t[t.Home=14]="Home",t[t.LeftArrow=15]="LeftArrow",t[t.UpArrow=16]="UpArrow",t[t.RightArrow=17]="RightArrow",t[t.DownArrow=18]="DownArrow",t[t.Insert=19]="Insert",t[t.Delete=20]="Delete",t[t.KEY_0=21]="KEY_0",t[t.KEY_1=22]="KEY_1",t[t.KEY_2=23]="KEY_2",t[t.KEY_3=24]="KEY_3",t[t.KEY_4=25]="KEY_4",t[t.KEY_5=26]="KEY_5",t[t.KEY_6=27]="KEY_6",t[t.KEY_7=28]="KEY_7",t[t.KEY_8=29]="KEY_8",t[t.KEY_9=30]="KEY_9",t[t.KEY_A=31]="KEY_A",t[t.KEY_B=32]="KEY_B",t[t.KEY_C=33]="KEY_C",t[t.KEY_D=34]="KEY_D",t[t.KEY_E=35]="KEY_E",t[t.KEY_F=36]="KEY_F",t[t.KEY_G=37]="KEY_G",t[t.KEY_H=38]="KEY_H",t[t.KEY_I=39]="KEY_I",t[t.KEY_J=40]="KEY_J",t[t.KEY_K=41]="KEY_K",t[t.KEY_L=42]="KEY_L",t[t.KEY_M=43]="KEY_M",t[t.KEY_N=44]="KEY_N",t[t.KEY_O=45]="KEY_O",t[t.KEY_P=46]="KEY_P",t[t.KEY_Q=47]="KEY_Q",t[t.KEY_R=48]="KEY_R",t[t.KEY_S=49]="KEY_S",t[t.KEY_T=50]="KEY_T",t[t.KEY_U=51]="KEY_U",t[t.KEY_V=52]="KEY_V",t[t.KEY_W=53]="KEY_W",t[t.KEY_X=54]="KEY_X",t[t.KEY_Y=55]="KEY_Y",t[t.KEY_Z=56]="KEY_Z",t[t.Meta=57]="Meta",t[t.ContextMenu=58]="ContextMenu",t[t.F1=59]="F1",t[t.F2=60]="F2",t[t.F3=61]="F3",t[t.F4=62]="F4",t[t.F5=63]="F5",t[t.F6=64]="F6",t[t.F7=65]="F7",t[t.F8=66]="F8",t[t.F9=67]="F9",t[t.F10=68]="F10",t[t.F11=69]="F11",t[t.F12=70]="F12",t[t.F13=71]="F13",t[t.F14=72]="F14",t[t.F15=73]="F15",t[t.F16=74]="F16",t[t.F17=75]="F17",t[t.F18=76]="F18",t[t.F19=77]="F19",t[t.NumLock=78]="NumLock",t[t.ScrollLock=79]="ScrollLock",t[t.US_SEMICOLON=80]="US_SEMICOLON",t[t.US_EQUAL=81]="US_EQUAL",t[t.US_COMMA=82]="US_COMMA",t[t.US_MINUS=83]="US_MINUS",t[t.US_DOT=84]="US_DOT",t[t.US_SLASH=85]="US_SLASH",t[t.US_BACKTICK=86]="US_BACKTICK",t[t.US_OPEN_SQUARE_BRACKET=87]="US_OPEN_SQUARE_BRACKET",t[t.US_BACKSLASH=88]="US_BACKSLASH",t[t.US_CLOSE_SQUARE_BRACKET=89]="US_CLOSE_SQUARE_BRACKET",t[t.US_QUOTE=90]="US_QUOTE",t[t.OEM_8=91]="OEM_8",t[t.OEM_102=92]="OEM_102",t[t.NUMPAD_0=93]="NUMPAD_0",t[t.NUMPAD_1=94]="NUMPAD_1",t[t.NUMPAD_2=95]="NUMPAD_2",t[t.NUMPAD_3=96]="NUMPAD_3",t[t.NUMPAD_4=97]="NUMPAD_4",t[t.NUMPAD_5=98]="NUMPAD_5",t[t.NUMPAD_6=99]="NUMPAD_6",t[t.NUMPAD_7=100]="NUMPAD_7",t[t.NUMPAD_8=101]="NUMPAD_8",t[t.NUMPAD_9=102]="NUMPAD_9",t[t.NUMPAD_MULTIPLY=103]="NUMPAD_MULTIPLY",t[t.NUMPAD_ADD=104]="NUMPAD_ADD",t[t.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",t[t.NUMPAD_SUBTRACT=106]="NUMPAD_SUBTRACT",t[t.NUMPAD_DECIMAL=107]="NUMPAD_DECIMAL",t[t.NUMPAD_DIVIDE=108]="NUMPAD_DIVIDE",t[t.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",t[t.ABNT_C1=110]="ABNT_C1",t[t.ABNT_C2=111]="ABNT_C2",t[t.MAX_VALUE=112]="MAX_VALUE"}(Ft||(Ft={})),Ft))(),Rt=(()=>(function(t){t[t.Hint=1]="Hint",t[t.Info=2]="Info",t[t.Warning=4]="Warning",t[t.Error=8]="Error"}(Rt||(Rt={})),Rt))(),jt=(()=>(function(t){t[t.Unnecessary=1]="Unnecessary",t[t.Deprecated=2]="Deprecated"}(jt||(jt={})),jt))(),Ut=(()=>(function(t){t[t.LTR=0]="LTR",t[t.RTL=1]="RTL"}(Ut||(Ut={})),Ut))();let as=(()=>{class t{static chord(n,r){return function(t,e){return(t|(65535&e)<<16>>>0)>>>0}(n,r)}}return t.CtrlCmd=2048,t.Shift=1024,t.Alt=512,t.WinCtrl=256,t})();var Xe=function(t,e,n,r){return new(n||(n=Promise))(function(o,s){function a(c){try{l(r.next(c))}catch(f){s(f)}}function u(c){try{l(r.throw(c))}catch(f){s(f)}}function l(c){c.done?o(c.value):function(o){return o instanceof n?o:new n(function(s){s(o)})}(c.value).then(a,u)}l((r=r.apply(t,e||[])).next())})};class ls extends class{constructor(e,n,r,i){this._uri=e,this._lines=n,this._eol=r,this._versionId=i,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return null===this._cachedTextValue&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(e){e.eol&&e.eol!==this._eol&&(this._eol=e.eol,this._lineStarts=null);const n=e.changes;for(const r of n)this._acceptDeleteRange(r.range),this._acceptInsertText(new ce(r.range.startLineNumber,r.range.startColumn),r.text);this._versionId=e.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const e=this._eol.length,n=this._lines.length,r=new Uint32Array(n);for(let i=0;i<n;i++)r[i]=this._lines[i].length+e;this._lineStarts=new Wo(r)}}_setLineText(e,n){this._lines[e]=n,this._lineStarts&&this._lineStarts.changeValue(e,this._lines[e].length+this._eol.length)}_acceptDeleteRange(e){if(e.startLineNumber!==e.endLineNumber)this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.endLineNumber-1].substring(e.endColumn-1)),this._lines.splice(e.startLineNumber,e.endLineNumber-e.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(e.startLineNumber,e.endLineNumber-e.startLineNumber);else{if(e.startColumn===e.endColumn)return;this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.startLineNumber-1].substring(e.endColumn-1))}}_acceptInsertText(e,n){if(0===n.length)return;let r=n.split(/\r\n|\r|\n/);if(1===r.length)return void this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+r[0]+this._lines[e.lineNumber-1].substring(e.column-1));r[r.length-1]+=this._lines[e.lineNumber-1].substring(e.column-1),this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+r[0]);let i=new Uint32Array(r.length-1);for(let o=1;o<r.length;o++)this._lines.splice(e.lineNumber+o-1,0,r[o]),i[o-1]=r[o].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(e.lineNumber,i)}}{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(e){return this._lines[e-1]}getWordAtPosition(e,n){let r=Fr(e.column,function(t){let e=qo;if(t&&t instanceof RegExp)if(t.global)e=t;else{let n="g";t.ignoreCase&&(n+="i"),t.multiline&&(n+="m"),t.unicode&&(n+="u"),e=new RegExp(t.source,n)}return e.lastIndex=0,e}(n),this._lines[e.lineNumber-1],0);return r?new Y(e.lineNumber,r.startColumn,e.lineNumber,r.endColumn):null}words(e){const n=this._lines,r=this._wordenize.bind(this);let i=0,o="",s=0,a=[];return{*[Symbol.iterator](){for(;;)if(s<a.length){const u=o.substring(a[s].start,a[s].end);s+=1,yield u}else{if(!(i<n.length))break;o=n[i],a=r(o,e),s=0,i+=1}}}}getLineWords(e,n){let r=this._lines[e-1],i=this._wordenize(r,n),o=[];for(const s of i)o.push({word:r.substring(s.start,s.end),startColumn:s.start+1,endColumn:s.end+1});return o}_wordenize(e,n){const r=[];let i;for(n.lastIndex=0;(i=n.exec(e))&&0!==i[0].length;)r.push({start:i.index,end:i.index+i[0].length});return r}getValueInRange(e){if((e=this._validateRange(e)).startLineNumber===e.endLineNumber)return this._lines[e.startLineNumber-1].substring(e.startColumn-1,e.endColumn-1);let n=this._eol,r=e.startLineNumber-1,i=e.endLineNumber-1,o=[];o.push(this._lines[r].substring(e.startColumn-1));for(let s=r+1;s<i;s++)o.push(this._lines[s]);return o.push(this._lines[i].substring(0,e.endColumn-1)),o.join(n)}offsetAt(e){return e=this._validatePosition(e),this._ensureLineStarts(),this._lineStarts.getPrefixSum(e.lineNumber-2)+(e.column-1)}positionAt(e){e=Math.floor(e),e=Math.max(0,e),this._ensureLineStarts();let n=this._lineStarts.getIndexOf(e);return{lineNumber:1+n.index,column:1+Math.min(n.remainder,this._lines[n.index].length)}}_validateRange(e){const n=this._validatePosition({lineNumber:e.startLineNumber,column:e.startColumn}),r=this._validatePosition({lineNumber:e.endLineNumber,column:e.endColumn});return n.lineNumber!==e.startLineNumber||n.column!==e.startColumn||r.lineNumber!==e.endLineNumber||r.column!==e.endColumn?{startLineNumber:n.lineNumber,startColumn:n.column,endLineNumber:r.lineNumber,endColumn:r.column}:e}_validatePosition(e){if(!ce.isIPosition(e))throw new Error("bad position");let{lineNumber:n,column:r}=e,i=!1;if(n<1)n=1,r=1,i=!0;else if(n>this._lines.length)n=this._lines.length,r=this._lines[n-1].length+1,i=!0;else{let o=this._lines[n-1].length+1;r<1?(r=1,i=!0):r>o&&(r=o,i=!0)}return i?{lineNumber:n,column:r}:e}}let Wr=(()=>{class t{constructor(n,r){this._host=n,this._models=Object.create(null),this._foreignModuleFactory=r,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(n){return this._models[n]}_getModels(){let n=[];return Object.keys(this._models).forEach(r=>n.push(this._models[r])),n}acceptNewModel(n){this._models[n.url]=new ls(We.parse(n.url),n.lines,n.EOL,n.versionId)}acceptModelChanged(n,r){this._models[n]&&this._models[n].onEvents(r)}acceptRemovedModel(n){!this._models[n]||delete this._models[n]}computeDiff(n,r,i,o){return Xe(this,void 0,void 0,function*(){const s=this._getModel(n),a=this._getModel(r);if(!s||!a)return null;const u=s.getLinesContent(),l=a.getLinesContent(),f=new Uo(u,l,{shouldComputeCharChanges:!0,shouldPostProcessCharChanges:!0,shouldIgnoreTrimWhitespace:i,shouldMakePrettyDiff:!0,maxComputationTime:o}).computeDiff(),h=!(f.changes.length>0)&&this._modelsAreIdentical(s,a);return{quitEarly:f.quitEarly,identical:h,changes:f.changes}})}_modelsAreIdentical(n,r){const i=n.getLineCount();if(i!==r.getLineCount())return!1;for(let s=1;s<=i;s++)if(n.getLineContent(s)!==r.getLineContent(s))return!1;return!0}computeMoreMinimalEdits(n,r){return Xe(this,void 0,void 0,function*(){const i=this._getModel(n);if(!i)return r;const o=[];let s;r=r.slice(0).sort((a,u)=>a.range&&u.range?Y.compareRangesUsingStarts(a.range,u.range):(a.range?0:1)-(u.range?0:1));for(let{range:a,text:u,eol:l}of r){if("number"==typeof l&&(s=l),Y.isEmpty(a)&&!u)continue;const c=i.getValueInRange(a);if(u=u.replace(/\r\n|\n|\r/g,i.eol),c===u)continue;if(Math.max(u.length,c.length)>t._diffLimit){o.push({range:a,text:u});continue}const f=Co(c,u,!1),h=i.offsetAt(Y.lift(a).getStartPosition());for(const d of f){const g=i.positionAt(h+d.originalStart),y=i.positionAt(h+d.originalStart+d.originalLength),v={text:u.substr(d.modifiedStart,d.modifiedLength),range:{startLineNumber:g.lineNumber,startColumn:g.column,endLineNumber:y.lineNumber,endColumn:y.column}};i.getValueInRange(v.range)!==v.text&&o.push(v)}}return"number"==typeof s&&o.push({eol:s,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),o})}computeLinks(n){return Xe(this,void 0,void 0,function*(){let r=this._getModel(n);return r?function(t){return t&&"function"==typeof t.getLineCount&&"function"==typeof t.getLineContent?It.computeLinks(t):[]}(r):null})}textualSuggest(n,r,i,o){return Xe(this,void 0,void 0,function*(){const s=new kt(!0),a=new RegExp(i,o),u=new Set;e:for(let l of n){const c=this._getModel(l);if(c)for(let f of c.words(a))if(f!==r&&isNaN(Number(f))&&(u.add(f),u.size>t._suggestionsLimit))break e}return{words:Array.from(u),duration:s.elapsed()}})}computeWordRanges(n,r,i,o){return Xe(this,void 0,void 0,function*(){let s=this._getModel(n);if(!s)return Object.create(null);const a=new RegExp(i,o),u=Object.create(null);for(let l=r.startLineNumber;l<r.endLineNumber;l++){let c=s.getLineWords(l,a);for(const f of c){if(!isNaN(Number(f.word)))continue;let h=u[f.word];h||(h=[],u[f.word]=h),h.push({startLineNumber:l,startColumn:f.startColumn,endLineNumber:l,endColumn:f.endColumn})}}return u})}navigateValueSet(n,r,i,o,s){return Xe(this,void 0,void 0,function*(){let a=this._getModel(n);if(!a)return null;let u=new RegExp(o,s);r.startColumn===r.endColumn&&(r={startLineNumber:r.startLineNumber,startColumn:r.startColumn,endLineNumber:r.endLineNumber,endColumn:r.endColumn+1});let l=a.getValueInRange(r),c=a.getWordAtPosition({lineNumber:r.startLineNumber,column:r.startColumn},u);if(!c)return null;let f=a.getValueInRange(c);return Cn.INSTANCE.navigateValueSet(r,l,c,f,i)})}loadForeignModule(n,r,i){let a={host:hr(i,(u,l)=>this._host.fhr(u,l)),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(a,r),Promise.resolve(on(this._foreignModule))):Promise.reject(new Error("Unexpected usage"))}fmr(n,r){if(!this._foreignModule||"function"!=typeof this._foreignModule[n])return Promise.reject(new Error("Missing requestHandler or method: "+n));try{return Promise.resolve(this._foreignModule[n].apply(this._foreignModule,r))}catch(i){return Promise.reject(i)}}}return t._diffLimit=1e5,t._suggestionsLimit=1e4,t})();"function"==typeof importScripts&&(ee.monaco={editor:void 0,languages:void 0,CancellationTokenSource:class{constructor(e){this._token=void 0,this._parentListener=void 0,this._parentListener=e&&e.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new Dt),this._token}cancel(){this._token?this._token instanceof Dt&&this._token.cancel():this._token=Mt.Cancelled}dispose(e=!1){e&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof Dt&&this._token.dispose():this._token=Mt.None}},Emitter:ke,KeyCode:Ft,KeyMod:as,Position:ce,Range:Y,Selection:ge,SelectionDirection:Ut,MarkerSeverity:Rt,MarkerTag:jt,Uri:We,Token:class{constructor(e,n,r){this._tokenBrand=void 0,this.offset=0|e,this.type=n,this.language=r}toString(){return"("+this.offset+", "+this.type+")"}}});let Nn=!1;function Br(t){if(Nn)return;Nn=!0;const e=new pr(n=>{self.postMessage(n)},n=>new Wr(n,t));self.onmessage=n=>{e.onmessage(n.data)}}function Vt(t,e){void 0===e&&(e=!1);var n=t.length,r=0,i="",o=0,s=16,a=0,u=0,l=0,c=0,f=0;function h(m,S){for(var C=0,T=0;C<m||!S;){var E=t.charCodeAt(r);if(E>=48&&E<=57)T=16*T+E-48;else if(E>=65&&E<=70)T=16*T+E-65+10;else{if(!(E>=97&&E<=102))break;T=16*T+E-97+10}r++,C++}return C<m&&(T=-1),T}function v(){if(i="",f=0,o=r,u=a,c=l,r>=n)return o=n,s=17;var m=t.charCodeAt(r);if(xn(m)){do{r++,i+=String.fromCharCode(m),m=t.charCodeAt(r)}while(xn(m));return s=15}if(mt(m))return r++,i+=String.fromCharCode(m),13===m&&10===t.charCodeAt(r)&&(r++,i+="\n"),a++,l=r,s=14;switch(m){case 123:return r++,s=1;case 125:return r++,s=2;case 91:return r++,s=3;case 93:return r++,s=4;case 58:return r++,s=6;case 44:return r++,s=5;case 34:return r++,i=function(){for(var m="",S=r;;){if(r>=n){m+=t.substring(S,r),f=2;break}var C=t.charCodeAt(r);if(34===C){m+=t.substring(S,r),r++;break}if(92!==C){if(C>=0&&C<=31){if(mt(C)){m+=t.substring(S,r),f=2;break}f=6}r++}else{if(m+=t.substring(S,r),++r>=n){f=2;break}switch(t.charCodeAt(r++)){case 34:m+='"';break;case 92:m+="\\";break;case 47:m+="/";break;case 98:m+="\b";break;case 102:m+="\f";break;case 110:m+="\n";break;case 114:m+="\r";break;case 116:m+="\t";break;case 117:var E=h(4,!0);E>=0?m+=String.fromCharCode(E):f=4;break;default:f=5}S=r}}return m}(),s=10;case 47:var S=r-1;if(47===t.charCodeAt(r+1)){for(r+=2;r<n&&!mt(t.charCodeAt(r));)r++;return i=t.substring(S,r),s=12}if(42===t.charCodeAt(r+1)){r+=2;for(var C=n-1,T=!1;r<C;){var E=t.charCodeAt(r);if(42===E&&47===t.charCodeAt(r+1)){r+=2,T=!0;break}r++,mt(E)&&(13===E&&10===t.charCodeAt(r)&&r++,a++,l=r)}return T||(r++,f=1),i=t.substring(S,r),s=13}return i+=String.fromCharCode(m),r++,s=16;case 45:if(i+=String.fromCharCode(m),++r===n||!Ze(t.charCodeAt(r)))return s=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return i+=function(){var m=r;if(48===t.charCodeAt(r))r++;else for(r++;r<t.length&&Ze(t.charCodeAt(r));)r++;if(r<t.length&&46===t.charCodeAt(r)){if(!(++r<t.length&&Ze(t.charCodeAt(r))))return f=3,t.substring(m,r);for(r++;r<t.length&&Ze(t.charCodeAt(r));)r++}var S=r;if(r<t.length&&(69===t.charCodeAt(r)||101===t.charCodeAt(r)))if((++r<t.length&&43===t.charCodeAt(r)||45===t.charCodeAt(r))&&r++,r<t.length&&Ze(t.charCodeAt(r))){for(r++;r<t.length&&Ze(t.charCodeAt(r));)r++;S=r}else f=3;return t.substring(m,S)}(),s=11;default:for(;r<n&&_(m);)r++,m=t.charCodeAt(r);if(o!==r){switch(i=t.substring(o,r)){case"true":return s=8;case"false":return s=9;case"null":return s=7}return s=16}return i+=String.fromCharCode(m),r++,s=16}}function _(m){if(xn(m)||mt(m))return!1;switch(m){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}return{setPosition:function(m){r=m,i="",o=0,s=16,f=0},getPosition:function(){return r},scan:e?function(){var m;do{m=v()}while(m>=12&&m<=15);return m}:v,getToken:function(){return s},getTokenValue:function(){return i},getTokenOffset:function(){return o},getTokenLength:function(){return r-o},getTokenStartLine:function(){return u},getTokenStartCharacter:function(){return o-c},getTokenError:function(){return f}}}function xn(t){return 32===t||9===t||11===t||12===t||160===t||5760===t||t>=8192&&t<=8203||8239===t||8287===t||12288===t||65279===t}function mt(t){return 10===t||13===t||8232===t||8233===t}function Ze(t){return t>=48&&t<=57}function In(t,e){for(var n="",r=0;r<e;r++)n+=t;return n}function $r(t,e){return-1!=="\r\n".indexOf(t.charAt(e))}self.onmessage=t=>{Nn||Br(null)};var et=(()=>(function(t){t.DEFAULT={allowTrailingComma:!1}}(et||(et={})),et))();var tt=Vt,bs=function(t,e,n){void 0===e&&(e=[]),void 0===n&&(n=et.DEFAULT);var r=null,i=[],o=[];function s(u){Array.isArray(i)?i.push(u):null!==r&&(i[r]=u)}return function(t,e,n){void 0===n&&(n=et.DEFAULT);var r=Vt(t,!1);function i(b){return b?function(){return b(r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter())}:function(){return!0}}function o(b){return b?function(N){return b(N,r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter())}:function(){return!0}}var s=i(e.onObjectBegin),a=o(e.onObjectProperty),u=i(e.onObjectEnd),l=i(e.onArrayBegin),c=i(e.onArrayEnd),f=o(e.onLiteralValue),h=o(e.onSeparator),d=i(e.onComment),g=o(e.onError),y=n&&n.disallowComments,v=n&&n.allowTrailingComma;function _(){for(;;){var b=r.scan();switch(r.getTokenError()){case 4:p(14);break;case 5:p(15);break;case 3:p(13);break;case 1:y||p(11);break;case 2:p(12);break;case 6:p(16)}switch(b){case 12:case 13:y?p(10):d();break;case 16:p(1);break;case 15:case 14:break;default:return b}}}function p(b,N,x){if(void 0===N&&(N=[]),void 0===x&&(x=[]),g(b),N.length+x.length>0)for(var w=r.getToken();17!==w;){if(-1!==N.indexOf(w)){_();break}if(-1!==x.indexOf(w))break;w=_()}}function m(b){var N=r.getTokenValue();return b?f(N):a(N),_(),!0}_(),17===r.getToken()?!!n.allowEmptyContent||p(4,[],[]):function A(){switch(r.getToken()){case 3:return function(){l(),_();for(var b=!1;4!==r.getToken()&&17!==r.getToken();){if(5===r.getToken()){if(b||p(4,[],[]),h(","),_(),4===r.getToken()&&v)break}else b&&p(6,[],[]);A()||p(4,[],[4,5]),b=!0}return c(),4!==r.getToken()?p(8,[4],[]):_(),!0}();case 1:return function(){s(),_();for(var b=!1;2!==r.getToken()&&17!==r.getToken();){if(5===r.getToken()){if(b||p(4,[],[]),h(","),_(),2===r.getToken()&&v)break}else b&&p(6,[],[]);(10!==r.getToken()?(p(3,[],[2,5]),!1):(m(!1),6===r.getToken()?(h(":"),_(),A()||p(4,[],[2,5])):p(5,[],[2,5]),!0))||p(4,[],[2,5]),b=!0}return u(),2!==r.getToken()?p(7,[2],[]):_(),!0}();case 10:return m(!0);default:return function(){switch(r.getToken()){case 11:var b=r.getTokenValue(),N=Number(b);isNaN(N)&&(p(2),N=0),f(N);break;case 7:f(null);break;case 8:f(!0);break;case 9:f(!1);break;default:return!1}return _(),!0}()}}()?17!==r.getToken()&&p(9,[],[]):p(4,[],[])}(t,{onObjectBegin:function(){var u={};s(u),o.push(i),i=u,r=null},onObjectProperty:function(u){r=u},onObjectEnd:function(){i=o.pop()},onArrayBegin:function(){var u=[];s(u),o.push(i),i=u,r=null},onArrayEnd:function(){i=o.pop()},onLiteralValue:s,onError:function(u,l,c){e.push({error:u,offset:l,length:c})}},n),i[0]},Es=function qr(t,e,n){if(void 0===n&&(n=!1),function(t,e,n){return void 0===n&&(n=!1),e>=t.offset&&e<t.offset+t.length||n&&e===t.offset+t.length}(t,e,n)){var r=t.children;if(Array.isArray(r))for(var i=0;i<r.length&&r[i].offset<=e;i++){var o=qr(r[i],e,n);if(o)return o}return t}},Ss=function Hr(t){if(!t.parent||!t.parent.children)return[];var e=Hr(t.parent);if("property"===t.parent.type)e.push(t.parent.children[0].value);else if("array"===t.parent.type){var r=t.parent.children.indexOf(t);-1!==r&&e.push(r)}return e},Cs=function kn(t){switch(t.type){case"array":return t.children.map(kn);case"object":for(var e=Object.create(null),n=0,r=t.children;n<r.length;n++){var i=r[n],o=i.children[1];o&&(e[i.children[0].value]=kn(o))}return e;case"null":case"string":case"number":case"boolean":return t.value;default:return}};function gt(t,e){if(t===e)return!0;if(null==t||null==e||typeof t!=typeof e||"object"!=typeof t||Array.isArray(t)!==Array.isArray(e))return!1;var n,r;if(Array.isArray(t)){if(t.length!==e.length)return!1;for(n=0;n<t.length;n++)if(!gt(t[n],e[n]))return!1}else{var i=[];for(r in t)i.push(r);i.sort();var o=[];for(r in e)o.push(r);if(o.sort(),!gt(i,o))return!1;for(n=0;n<i.length;n++)if(!gt(t[i[n]],e[i[n]]))return!1}return!0}function he(t){return"number"==typeof t}function Oe(t){return void 0!==t}function Se(t){return"boolean"==typeof t}var pe,$,vt,zr,Pn,Gr,Yr,pt=(()=>(function(t){t.MIN_VALUE=0,t.MAX_VALUE=2147483647}(pt||(pt={})),pt))();!function(t){t.create=function(r,i){return r===Number.MAX_VALUE&&(r=pt.MAX_VALUE),i===Number.MAX_VALUE&&(i=pt.MAX_VALUE),{line:r,character:i}},t.is=function(r){var i=r;return O.objectLiteral(i)&&O.uinteger(i.line)&&O.uinteger(i.character)}}(pe||(pe={})),function(t){t.create=function(r,i,o,s){if(O.uinteger(r)&&O.uinteger(i)&&O.uinteger(o)&&O.uinteger(s))return{start:pe.create(r,i),end:pe.create(o,s)};if(pe.is(r)&&pe.is(i))return{start:r,end:i};throw new Error("Range#create called with invalid arguments["+r+", "+i+", "+o+", "+s+"]")},t.is=function(r){var i=r;return O.objectLiteral(i)&&pe.is(i.start)&&pe.is(i.end)}}($||($={})),function(t){t.create=function(r,i){return{uri:r,range:i}},t.is=function(r){var i=r;return O.defined(i)&&$.is(i.range)&&(O.string(i.uri)||O.undefined(i.uri))}}(vt||(vt={})),function(t){t.create=function(r,i,o,s){return{targetUri:r,targetRange:i,targetSelectionRange:o,originSelectionRange:s}},t.is=function(r){var i=r;return O.defined(i)&&$.is(i.targetRange)&&O.string(i.targetUri)&&($.is(i.targetSelectionRange)||O.undefined(i.targetSelectionRange))&&($.is(i.originSelectionRange)||O.undefined(i.originSelectionRange))}}(zr||(zr={})),function(t){t.create=function(r,i,o,s){return{red:r,green:i,blue:o,alpha:s}},t.is=function(r){var i=r;return O.numberRange(i.red,0,1)&&O.numberRange(i.green,0,1)&&O.numberRange(i.blue,0,1)&&O.numberRange(i.alpha,0,1)}}(Pn||(Pn={})),function(t){t.create=function(r,i){return{range:r,color:i}},t.is=function(r){var i=r;return $.is(i.range)&&Pn.is(i.color)}}(Gr||(Gr={})),function(t){t.create=function(r,i,o){return{label:r,textEdit:i,additionalTextEdits:o}},t.is=function(r){var i=r;return O.string(i.label)&&(O.undefined(i.textEdit)||ve.is(i))&&(O.undefined(i.additionalTextEdits)||O.typedArray(i.additionalTextEdits,ve.is))}}(Yr||(Yr={}));var Jr,Mn,nt=(()=>(function(t){t.Comment="comment",t.Imports="imports",t.Region="region"}(nt||(nt={})),nt))();!function(t){t.create=function(r,i,o,s,a){var u={startLine:r,endLine:i};return O.defined(o)&&(u.startCharacter=o),O.defined(s)&&(u.endCharacter=s),O.defined(a)&&(u.kind=a),u},t.is=function(r){var i=r;return O.uinteger(i.startLine)&&O.uinteger(i.startLine)&&(O.undefined(i.startCharacter)||O.uinteger(i.startCharacter))&&(O.undefined(i.endCharacter)||O.uinteger(i.endCharacter))&&(O.undefined(i.kind)||O.string(i.kind))}}(Jr||(Jr={})),function(t){t.create=function(r,i){return{location:r,message:i}},t.is=function(r){var i=r;return O.defined(i)&&vt.is(i.location)&&O.string(i.message)}}(Mn||(Mn={}));var Qr,we,yt,ve,rt,re,Pe,Bt,bt,Et,St,Dn,ue=(()=>(function(t){t.Error=1,t.Warning=2,t.Information=3,t.Hint=4}(ue||(ue={})),ue))();!function(t){t.is=function(n){return null!=n&&O.string(n.href)}}(Qr||(Qr={})),function(t){t.create=function(r,i,o,s,a,u){var l={range:r,message:i};return O.defined(o)&&(l.severity=o),O.defined(s)&&(l.code=s),O.defined(a)&&(l.source=a),O.defined(u)&&(l.relatedInformation=u),l},t.is=function(r){var i,o=r;return O.defined(o)&&$.is(o.range)&&O.string(o.message)&&(O.number(o.severity)||O.undefined(o.severity))&&(O.integer(o.code)||O.string(o.code)||O.undefined(o.code))&&(O.undefined(o.codeDescription)||O.string(null===(i=o.codeDescription)||void 0===i?void 0:i.href))&&(O.string(o.source)||O.undefined(o.source))&&(O.undefined(o.relatedInformation)||O.typedArray(o.relatedInformation,Mn.is))}}(we||(we={})),function(t){t.create=function(r,i){for(var o=[],s=2;s<arguments.length;s++)o[s-2]=arguments[s];var a={title:r,command:i};return O.defined(o)&&o.length>0&&(a.arguments=o),a},t.is=function(r){var i=r;return O.defined(i)&&O.string(i.title)&&O.string(i.command)}}(yt||(yt={})),function(t){t.replace=function(o,s){return{range:o,newText:s}},t.insert=function(o,s){return{range:{start:o,end:o},newText:s}},t.del=function(o){return{range:o,newText:""}},t.is=function(o){var s=o;return O.objectLiteral(s)&&O.string(s.newText)&&$.is(s.range)}}(ve||(ve={})),function(t){t.create=function(r,i,o){var s={label:r};return void 0!==i&&(s.needsConfirmation=i),void 0!==o&&(s.description=o),s},t.is=function(r){var i=r;return void 0!==i&&O.objectLiteral(i)&&O.string(i.label)&&(O.boolean(i.needsConfirmation)||void 0===i.needsConfirmation)&&(O.string(i.description)||void 0===i.description)}}(rt||(rt={})),function(t){t.is=function(n){return"string"==typeof n}}(re||(re={})),function(t){t.replace=function(o,s,a){return{range:o,newText:s,annotationId:a}},t.insert=function(o,s,a){return{range:{start:o,end:o},newText:s,annotationId:a}},t.del=function(o,s){return{range:o,newText:"",annotationId:s}},t.is=function(o){var s=o;return ve.is(s)&&(rt.is(s.annotationId)||re.is(s.annotationId))}}(Pe||(Pe={})),function(t){t.create=function(r,i){return{textDocument:r,edits:i}},t.is=function(r){var i=r;return O.defined(i)&&Ht.is(i.textDocument)&&Array.isArray(i.edits)}}(Bt||(Bt={})),function(t){t.create=function(r,i,o){var s={kind:"create",uri:r};return void 0!==i&&(void 0!==i.overwrite||void 0!==i.ignoreIfExists)&&(s.options=i),void 0!==o&&(s.annotationId=o),s},t.is=function(r){var i=r;return i&&"create"===i.kind&&O.string(i.uri)&&(void 0===i.options||(void 0===i.options.overwrite||O.boolean(i.options.overwrite))&&(void 0===i.options.ignoreIfExists||O.boolean(i.options.ignoreIfExists)))&&(void 0===i.annotationId||re.is(i.annotationId))}}(bt||(bt={})),function(t){t.create=function(r,i,o,s){var a={kind:"rename",oldUri:r,newUri:i};return void 0!==o&&(void 0!==o.overwrite||void 0!==o.ignoreIfExists)&&(a.options=o),void 0!==s&&(a.annotationId=s),a},t.is=function(r){var i=r;return i&&"rename"===i.kind&&O.string(i.oldUri)&&O.string(i.newUri)&&(void 0===i.options||(void 0===i.options.overwrite||O.boolean(i.options.overwrite))&&(void 0===i.options.ignoreIfExists||O.boolean(i.options.ignoreIfExists)))&&(void 0===i.annotationId||re.is(i.annotationId))}}(Et||(Et={})),function(t){t.create=function(r,i,o){var s={kind:"delete",uri:r};return void 0!==i&&(void 0!==i.recursive||void 0!==i.ignoreIfNotExists)&&(s.options=i),void 0!==o&&(s.annotationId=o),s},t.is=function(r){var i=r;return i&&"delete"===i.kind&&O.string(i.uri)&&(void 0===i.options||(void 0===i.options.recursive||O.boolean(i.options.recursive))&&(void 0===i.options.ignoreIfNotExists||O.boolean(i.options.ignoreIfNotExists)))&&(void 0===i.annotationId||re.is(i.annotationId))}}(St||(St={})),function(t){t.is=function(n){return n&&(void 0!==n.changes||void 0!==n.documentChanges)&&(void 0===n.documentChanges||n.documentChanges.every(function(i){return O.string(i.kind)?bt.is(i)||Et.is(i)||St.is(i):Bt.is(i)}))}}(Dn||(Dn={}));var Zr,ei,Ht,ti,$t=function(){function t(e,n){this.edits=e,this.changeAnnotations=n}return t.prototype.insert=function(e,n,r){var i,o;if(void 0===r?i=ve.insert(e,n):re.is(r)?(o=r,i=Pe.insert(e,n,r)):(this.assertChangeAnnotations(this.changeAnnotations),o=this.changeAnnotations.manage(r),i=Pe.insert(e,n,o)),this.edits.push(i),void 0!==o)return o},t.prototype.replace=function(e,n,r){var i,o;if(void 0===r?i=ve.replace(e,n):re.is(r)?(o=r,i=Pe.replace(e,n,r)):(this.assertChangeAnnotations(this.changeAnnotations),o=this.changeAnnotations.manage(r),i=Pe.replace(e,n,o)),this.edits.push(i),void 0!==o)return o},t.prototype.delete=function(e,n){var r,i;if(void 0===n?r=ve.del(e):re.is(n)?(i=n,r=Pe.del(e,n)):(this.assertChangeAnnotations(this.changeAnnotations),i=this.changeAnnotations.manage(n),r=Pe.del(e,i)),this.edits.push(r),void 0!==i)return i},t.prototype.add=function(e){this.edits.push(e)},t.prototype.all=function(){return this.edits},t.prototype.clear=function(){this.edits.splice(0,this.edits.length)},t.prototype.assertChangeAnnotations=function(e){if(void 0===e)throw new Error("Text edit change is not configured to manage change annotations.")},t}(),Xr=function(){function t(e){this._annotations=void 0===e?Object.create(null):e,this._counter=0,this._size=0}return t.prototype.all=function(){return this._annotations},Object.defineProperty(t.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),t.prototype.manage=function(e,n){var r;if(re.is(e)?r=e:(r=this.nextId(),n=e),void 0!==this._annotations[r])throw new Error("Id "+r+" is already in use.");if(void 0===n)throw new Error("No annotation provided for id "+r);return this._annotations[r]=n,this._size++,r},t.prototype.nextId=function(){return this._counter++,this._counter.toString()},t}();!function(){function t(e){var n=this;this._textEditChanges=Object.create(null),void 0!==e?(this._workspaceEdit=e,e.documentChanges?(this._changeAnnotations=new Xr(e.changeAnnotations),e.changeAnnotations=this._changeAnnotations.all(),e.documentChanges.forEach(function(r){if(Bt.is(r)){var i=new $t(r.edits,n._changeAnnotations);n._textEditChanges[r.textDocument.uri]=i}})):e.changes&&Object.keys(e.changes).forEach(function(r){var i=new $t(e.changes[r]);n._textEditChanges[r]=i})):this._workspaceEdit={}}Object.defineProperty(t.prototype,"edit",{get:function(){return this.initDocumentChanges(),void 0!==this._changeAnnotations&&(this._workspaceEdit.changeAnnotations=0===this._changeAnnotations.size?void 0:this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),t.prototype.getTextEditChange=function(e){if(Ht.is(e)){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var n={uri:e.uri,version:e.version};return(r=this._textEditChanges[n.uri])||(this._workspaceEdit.documentChanges.push({textDocument:n,edits:i=[]}),r=new $t(i,this._changeAnnotations),this._textEditChanges[n.uri]=r),r}if(this.initChanges(),void 0===this._workspaceEdit.changes)throw new Error("Workspace edit is not configured for normal text edit changes.");var r,i;return(r=this._textEditChanges[e])||(this._workspaceEdit.changes[e]=i=[],r=new $t(i),this._textEditChanges[e]=r),r},t.prototype.initDocumentChanges=function(){void 0===this._workspaceEdit.documentChanges&&void 0===this._workspaceEdit.changes&&(this._changeAnnotations=new Xr,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},t.prototype.initChanges=function(){void 0===this._workspaceEdit.documentChanges&&void 0===this._workspaceEdit.changes&&(this._workspaceEdit.changes=Object.create(null))},t.prototype.createFile=function(e,n,r){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var i,o,s;if(rt.is(n)||re.is(n)?i=n:r=n,void 0===i?o=bt.create(e,r):(s=re.is(i)?i:this._changeAnnotations.manage(i),o=bt.create(e,r,s)),this._workspaceEdit.documentChanges.push(o),void 0!==s)return s},t.prototype.renameFile=function(e,n,r,i){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var o,s,a;if(rt.is(r)||re.is(r)?o=r:i=r,void 0===o?s=Et.create(e,n,i):(a=re.is(o)?o:this._changeAnnotations.manage(o),s=Et.create(e,n,i,a)),this._workspaceEdit.documentChanges.push(s),void 0!==a)return a},t.prototype.deleteFile=function(e,n,r){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var i,o,s;if(rt.is(n)||re.is(n)?i=n:r=n,void 0===i?o=St.create(e,r):(s=re.is(i)?i:this._changeAnnotations.manage(i),o=St.create(e,r,s)),this._workspaceEdit.documentChanges.push(o),void 0!==s)return s}}(),function(t){t.create=function(r){return{uri:r}},t.is=function(r){var i=r;return O.defined(i)&&O.string(i.uri)}}(Zr||(Zr={})),function(t){t.create=function(r,i){return{uri:r,version:i}},t.is=function(r){var i=r;return O.defined(i)&&O.string(i.uri)&&O.integer(i.version)}}(ei||(ei={})),function(t){t.create=function(r,i){return{uri:r,version:i}},t.is=function(r){var i=r;return O.defined(i)&&O.string(i.uri)&&(null===i.version||O.integer(i.version))}}(Ht||(Ht={})),function(t){t.create=function(r,i,o,s){return{uri:r,languageId:i,version:o,text:s}},t.is=function(r){var i=r;return O.defined(i)&&O.string(i.uri)&&O.string(i.languageId)&&O.integer(i.version)&&O.string(i.text)}}(ti||(ti={}));var Fn,Ce=(()=>(function(t){t.PlainText="plaintext",t.Markdown="markdown"}(Ce||(Ce={})),Ce))();!function(t){t.is=function(n){return n===t.PlainText||n===t.Markdown}}(Ce||(Ce={})),function(t){t.is=function(n){var r=n;return O.objectLiteral(n)&&Ce.is(r.kind)&&O.string(r.value)}}(Fn||(Fn={}));var ni,Rn,ri,qt,ii,oi,si,ai,oe=(()=>(function(t){t.Text=1,t.Method=2,t.Function=3,t.Constructor=4,t.Field=5,t.Variable=6,t.Class=7,t.Interface=8,t.Module=9,t.Property=10,t.Unit=11,t.Value=12,t.Enum=13,t.Keyword=14,t.Snippet=15,t.Color=16,t.File=17,t.Reference=18,t.Folder=19,t.EnumMember=20,t.Constant=21,t.Struct=22,t.Event=23,t.Operator=24,t.TypeParameter=25}(oe||(oe={})),oe))(),Q=(()=>(function(t){t.PlainText=1,t.Snippet=2}(Q||(Q={})),Q))();!function(t){t.create=function(r,i,o){return{newText:r,insert:i,replace:o}},t.is=function(r){var i=r;return i&&O.string(i.newText)&&$.is(i.insert)&&$.is(i.replace)}}(ni||(ni={})),function(t){t.create=function(n){return{label:n}}}(Rn||(Rn={})),function(t){t.create=function(n,r){return{items:n||[],isIncomplete:!!r}}}(ri||(ri={})),function(t){t.fromPlainText=function(r){return r.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")},t.is=function(r){var i=r;return O.string(i)||O.objectLiteral(i)&&O.string(i.language)&&O.string(i.value)}}(qt||(qt={})),function(t){t.is=function(n){var r=n;return!!r&&O.objectLiteral(r)&&(Fn.is(r.contents)||qt.is(r.contents)||O.typedArray(r.contents,qt.is))&&(void 0===n.range||$.is(n.range))}}(ii||(ii={})),function(t){t.create=function(n,r){return r?{label:n,documentation:r}:{label:n}}}(oi||(oi={})),function(t){t.create=function(n,r){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s={label:n};return O.defined(r)&&(s.documentation=r),s.parameters=O.defined(i)?i:[],s}}(si||(si={})),function(t){t.create=function(n,r){var i={range:n};return O.number(r)&&(i.kind=r),i}}(ai||(ai={}));var ui,li,fi,ci,hi,di,mi,Kt,gi,ye=(()=>(function(t){t.File=1,t.Module=2,t.Namespace=3,t.Package=4,t.Class=5,t.Method=6,t.Property=7,t.Field=8,t.Constructor=9,t.Enum=10,t.Interface=11,t.Function=12,t.Variable=13,t.Constant=14,t.String=15,t.Number=16,t.Boolean=17,t.Array=18,t.Object=19,t.Key=20,t.Null=21,t.EnumMember=22,t.Struct=23,t.Event=24,t.Operator=25,t.TypeParameter=26}(ye||(ye={})),ye))();!function(t){t.create=function(n,r,i,o,s){var a={name:n,kind:r,location:{uri:o,range:i}};return s&&(a.containerName=s),a}}(ui||(ui={})),function(t){t.create=function(r,i,o,s,a,u){var l={name:r,detail:i,kind:o,range:s,selectionRange:a};return void 0!==u&&(l.children=u),l},t.is=function(r){var i=r;return i&&O.string(i.name)&&O.number(i.kind)&&$.is(i.range)&&$.is(i.selectionRange)&&(void 0===i.detail||O.string(i.detail))&&(void 0===i.deprecated||O.boolean(i.deprecated))&&(void 0===i.children||Array.isArray(i.children))&&(void 0===i.tags||Array.isArray(i.tags))}}(li||(li={})),function(t){t.create=function(r,i){var o={diagnostics:r};return null!=i&&(o.only=i),o},t.is=function(r){var i=r;return O.defined(i)&&O.typedArray(i.diagnostics,we.is)&&(void 0===i.only||O.typedArray(i.only,O.string))}}(fi||(fi={})),function(t){t.create=function(r,i,o){var s={title:r},a=!0;return"string"==typeof i?(a=!1,s.kind=i):yt.is(i)?s.command=i:s.edit=i,a&&void 0!==o&&(s.kind=o),s},t.is=function(r){var i=r;return i&&O.string(i.title)&&(void 0===i.diagnostics||O.typedArray(i.diagnostics,we.is))&&(void 0===i.kind||O.string(i.kind))&&(void 0!==i.edit||void 0!==i.command)&&(void 0===i.command||yt.is(i.command))&&(void 0===i.isPreferred||O.boolean(i.isPreferred))&&(void 0===i.edit||Dn.is(i.edit))}}(ci||(ci={})),function(t){t.create=function(r,i){var o={range:r};return O.defined(i)&&(o.data=i),o},t.is=function(r){var i=r;return O.defined(i)&&$.is(i.range)&&(O.undefined(i.command)||yt.is(i.command))}}(hi||(hi={})),function(t){t.create=function(r,i){return{tabSize:r,insertSpaces:i}},t.is=function(r){var i=r;return O.defined(i)&&O.uinteger(i.tabSize)&&O.boolean(i.insertSpaces)}}(di||(di={})),function(t){t.create=function(r,i,o){return{range:r,target:i,data:o}},t.is=function(r){var i=r;return O.defined(i)&&$.is(i.range)&&(O.undefined(i.target)||O.string(i.target))}}(mi||(mi={})),function(t){t.create=function(r,i){return{range:r,parent:i}},t.is=function(r){var i=r;return void 0!==i&&$.is(i.range)&&(void 0===i.parent||t.is(i.parent))}}(Kt||(Kt={})),function(t){function i(o,s){if(o.length<=1)return o;var a=o.length/2|0,u=o.slice(0,a),l=o.slice(a);i(u,s),i(l,s);for(var c=0,f=0,h=0;c<u.length&&f<l.length;){var d=s(u[c],l[f]);o[h++]=d<=0?u[c++]:l[f++]}for(;c<u.length;)o[h++]=u[c++];for(;f<l.length;)o[h++]=l[f++];return o}t.create=function(o,s,a,u){return new Os(o,s,a,u)},t.is=function(o){var s=o;return!!(O.defined(s)&&O.string(s.uri)&&(O.undefined(s.languageId)||O.string(s.languageId))&&O.uinteger(s.lineCount)&&O.func(s.getText)&&O.func(s.positionAt)&&O.func(s.offsetAt))},t.applyEdits=function(o,s){for(var a=o.getText(),u=i(s,function(g,y){var v=g.range.start.line-y.range.start.line;return 0===v?g.range.start.character-y.range.start.character:v}),l=a.length,c=u.length-1;c>=0;c--){var f=u[c],h=o.offsetAt(f.range.start),d=o.offsetAt(f.range.end);if(!(d<=l))throw new Error("Overlapping edit");a=a.substring(0,h)+f.newText+a.substring(d,a.length),l=h}return a}}(gi||(gi={}));var O,Os=function(){function t(e,n,r,i){this._uri=e,this._languageId=n,this._version=r,this._content=i,this._lineOffsets=void 0}return Object.defineProperty(t.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),t.prototype.getText=function(e){if(e){var n=this.offsetAt(e.start),r=this.offsetAt(e.end);return this._content.substring(n,r)}return this._content},t.prototype.update=function(e,n){this._content=e.text,this._version=n,this._lineOffsets=void 0},t.prototype.getLineOffsets=function(){if(void 0===this._lineOffsets){for(var e=[],n=this._content,r=!0,i=0;i<n.length;i++){r&&(e.push(i),r=!1);var o=n.charAt(i);r="\r"===o||"\n"===o,"\r"===o&&i+1<n.length&&"\n"===n.charAt(i+1)&&i++}r&&n.length>0&&e.push(n.length),this._lineOffsets=e}return this._lineOffsets},t.prototype.positionAt=function(e){e=Math.max(Math.min(e,this._content.length),0);var n=this.getLineOffsets(),r=0,i=n.length;if(0===i)return pe.create(0,e);for(;r<i;){var o=Math.floor((r+i)/2);n[o]>e?i=o:r=o+1}var s=r-1;return pe.create(s,e-n[s])},t.prototype.offsetAt=function(e){var n=this.getLineOffsets();if(e.line>=n.length)return this._content.length;if(e.line<0)return 0;var r=n[e.line];return Math.max(Math.min(r+e.character,e.line+1<n.length?n[e.line+1]:this._content.length),r)},Object.defineProperty(t.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),t}();!function(t){var e=Object.prototype.toString;t.defined=function(d){return void 0!==d},t.undefined=function(d){return void 0===d},t.boolean=function(d){return!0===d||!1===d},t.string=function(d){return"[object String]"===e.call(d)},t.number=function(d){return"[object Number]"===e.call(d)},t.numberRange=function(d,g,y){return"[object Number]"===e.call(d)&&g<=d&&d<=y},t.integer=function(d){return"[object Number]"===e.call(d)&&-2147483648<=d&&d<=2147483647},t.uinteger=function(d){return"[object Number]"===e.call(d)&&0<=d&&d<=2147483647},t.func=function(d){return"[object Function]"===e.call(d)},t.objectLiteral=function(d){return null!==d&&"object"==typeof d},t.typedArray=function(d,g){return Array.isArray(d)&&d.every(g)}}(O||(O={}));var jn,pi=function(){function t(e,n,r,i){this._uri=e,this._languageId=n,this._version=r,this._content=i,this._lineOffsets=void 0}return Object.defineProperty(t.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"languageId",{get:function(){return this._languageId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:function(){return this._version},enumerable:!0,configurable:!0}),t.prototype.getText=function(e){if(e){var n=this.offsetAt(e.start),r=this.offsetAt(e.end);return this._content.substring(n,r)}return this._content},t.prototype.update=function(e,n){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(t.isIncremental(o)){var s=yi(o.range),a=this.offsetAt(s.start),u=this.offsetAt(s.end);this._content=this._content.substring(0,a)+o.text+this._content.substring(u,this._content.length);var l=Math.max(s.start.line,0),c=Math.max(s.end.line,0),f=this._lineOffsets,h=vi(o.text,!1,a);if(c-l===h.length)for(var d=0,g=h.length;d<g;d++)f[d+l+1]=h[d];else h.length<1e4?f.splice.apply(f,[l+1,c-l].concat(h)):this._lineOffsets=f=f.slice(0,l+1).concat(h,f.slice(c+1));var y=o.text.length-(u-a);if(0!==y)for(d=l+1+h.length,g=f.length;d<g;d++)f[d]=f[d]+y}else{if(!t.isFull(o))throw new Error("Unknown change event received");this._content=o.text,this._lineOffsets=void 0}}this._version=n},t.prototype.getLineOffsets=function(){return void 0===this._lineOffsets&&(this._lineOffsets=vi(this._content,!0)),this._lineOffsets},t.prototype.positionAt=function(e){e=Math.max(Math.min(e,this._content.length),0);var n=this.getLineOffsets(),r=0,i=n.length;if(0===i)return{line:0,character:e};for(;r<i;){var o=Math.floor((r+i)/2);n[o]>e?i=o:r=o+1}var s=r-1;return{line:s,character:e-n[s]}},t.prototype.offsetAt=function(e){var n=this.getLineOffsets();if(e.line>=n.length)return this._content.length;if(e.line<0)return 0;var r=n[e.line];return Math.max(Math.min(r+e.character,e.line+1<n.length?n[e.line+1]:this._content.length),r)},Object.defineProperty(t.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!0,configurable:!0}),t.isIncremental=function(e){return null!=e&&"string"==typeof e.text&&void 0!==e.range&&(void 0===e.rangeLength||"number"==typeof e.rangeLength)},t.isFull=function(e){return null!=e&&"string"==typeof e.text&&void 0===e.range&&void 0===e.rangeLength},t}();function Un(t,e){if(t.length<=1)return t;var n=t.length/2|0,r=t.slice(0,n),i=t.slice(n);Un(r,e),Un(i,e);for(var o=0,s=0,a=0;o<r.length&&s<i.length;){var u=e(r[o],i[s]);t[a++]=u<=0?r[o++]:i[s++]}for(;o<r.length;)t[a++]=r[o++];for(;s<i.length;)t[a++]=i[s++];return t}function vi(t,e,n){void 0===n&&(n=0);for(var r=e?[n]:[],i=0;i<t.length;i++){var o=t.charCodeAt(i);(13===o||10===o)&&(13===o&&i+1<t.length&&10===t.charCodeAt(i+1)&&i++,r.push(n+i+1))}return r}function yi(t){var e=t.start,n=t.end;return e.line>n.line||e.line===n.line&&e.character>n.character?{start:n,end:e}:t}function ws(t){var e=yi(t.range);return e!==t.range?{newText:t.newText,range:e}:t}!function(t){t.create=function(i,o,s,a){return new pi(i,o,s,a)},t.update=function(i,o,s){if(i instanceof pi)return i.update(o,s),i;throw new Error("TextDocument.update: document must be created by TextDocument.create")},t.applyEdits=function(i,o){for(var s=i.getText(),u=0,l=[],c=0,f=Un(o.map(ws),function(g,y){var v=g.range.start.line-y.range.start.line;return 0===v?g.range.start.character-y.range.start.character:v});c<f.length;c++){var h=f[c],d=i.offsetAt(h.range.start);if(d<u)throw new Error("Overlapping edit");d>u&&l.push(s.substring(u,d)),h.newText.length&&l.push(h.newText),u=i.offsetAt(h.range.end)}return l.push(s.substr(u)),l.join("")}}(jn||(jn={}));var bi,B=(()=>(function(t){t[t.Undefined=0]="Undefined",t[t.EnumValueMismatch=1]="EnumValueMismatch",t[t.Deprecated=2]="Deprecated",t[t.UnexpectedEndOfComment=257]="UnexpectedEndOfComment",t[t.UnexpectedEndOfString=258]="UnexpectedEndOfString",t[t.UnexpectedEndOfNumber=259]="UnexpectedEndOfNumber",t[t.InvalidUnicode=260]="InvalidUnicode",t[t.InvalidEscapeCharacter=261]="InvalidEscapeCharacter",t[t.InvalidCharacter=262]="InvalidCharacter",t[t.PropertyExpected=513]="PropertyExpected",t[t.CommaExpected=514]="CommaExpected",t[t.ColonExpected=515]="ColonExpected",t[t.ValueExpected=516]="ValueExpected",t[t.CommaOrCloseBacketExpected=517]="CommaOrCloseBacketExpected",t[t.CommaOrCloseBraceExpected=518]="CommaOrCloseBraceExpected",t[t.TrailingComma=519]="TrailingComma",t[t.DuplicateKey=520]="DuplicateKey",t[t.CommentNotPermitted=521]="CommentNotPermitted",t[t.SchemaResolveError=768]="SchemaResolveError"}(B||(B={})),B))();function Ts(t,e){return 0===e.length?t:t.replace(/\{(\d+)\}/g,function(r,i){var o=i[0];return void 0!==e[o]?e[o]:r})}function Ls(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return Ts(e,n)}function it(t){return Ls}!function(t){t.LATEST={textDocument:{completion:{completionItem:{documentationFormat:[Ce.Markdown,Ce.PlainText],commitCharactersSupport:!0}}}}}(bi||(bi={}));var Be=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),D=it(),Ns={"color-hex":{errorMessage:D("colorHexFormatWarning","Invalid color format. Use #RGB, #RGBA, #RRGGBB or #RRGGBBAA."),pattern:/^#([0-9A-Fa-f]{3,4}|([0-9A-Fa-f]{2}){3,4})$/},"date-time":{errorMessage:D("dateTimeFormatWarning","String is not a RFC3339 date-time."),pattern:/^(\d{4})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])T([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(\.[0-9]+)?(Z|(\+|-)([01][0-9]|2[0-3]):([0-5][0-9]))$/i},date:{errorMessage:D("dateFormatWarning","String is not a RFC3339 date."),pattern:/^(\d{4})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])$/i},time:{errorMessage:D("timeFormatWarning","String is not a RFC3339 time."),pattern:/^([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(\.[0-9]+)?(Z|(\+|-)([01][0-9]|2[0-3]):([0-5][0-9]))$/i},email:{errorMessage:D("emailFormatWarning","String is not an e-mail address."),pattern:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/}},$e=function(){function t(e,n,r){void 0===r&&(r=0),this.offset=n,this.length=r,this.parent=e}return Object.defineProperty(t.prototype,"children",{get:function(){return[]},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"type: "+this.type+" ("+this.offset+"/"+this.length+")"+(this.parent?" parent: {"+this.parent.toString()+"}":"")},t}(),xs=function(t){function e(n,r){var i=t.call(this,n,r)||this;return i.type="null",i.value=null,i}return Be(e,t),e}($e),Ei=function(t){function e(n,r,i){var o=t.call(this,n,i)||this;return o.type="boolean",o.value=r,o}return Be(e,t),e}($e),Is=function(t){function e(n,r){var i=t.call(this,n,r)||this;return i.type="array",i.items=[],i}return Be(e,t),Object.defineProperty(e.prototype,"children",{get:function(){return this.items},enumerable:!1,configurable:!0}),e}($e),ks=function(t){function e(n,r){var i=t.call(this,n,r)||this;return i.type="number",i.isInteger=!0,i.value=Number.NaN,i}return Be(e,t),e}($e),Vn=function(t){function e(n,r,i){var o=t.call(this,n,r,i)||this;return o.type="string",o.value="",o}return Be(e,t),e}($e),Ps=function(t){function e(n,r,i){var o=t.call(this,n,r)||this;return o.type="property",o.colonOffset=-1,o.keyNode=i,o}return Be(e,t),Object.defineProperty(e.prototype,"children",{get:function(){return this.valueNode?[this.keyNode,this.valueNode]:[this.keyNode]},enumerable:!1,configurable:!0}),e}($e),Ms=function(t){function e(n,r){var i=t.call(this,n,r)||this;return i.type="object",i.properties=[],i}return Be(e,t),Object.defineProperty(e.prototype,"children",{get:function(){return this.properties},enumerable:!1,configurable:!0}),e}($e);function le(t){return Se(t)?t?{}:{not:{}}:t}var Ds=function(){function t(e,n){void 0===e&&(e=-1),this.focusOffset=e,this.exclude=n,this.schemas=[]}return t.prototype.add=function(e){this.schemas.push(e)},t.prototype.merge=function(e){Array.prototype.push.apply(this.schemas,e.schemas)},t.prototype.include=function(e){return(-1===this.focusOffset||Si(e,this.focusOffset))&&e!==this.exclude},t.prototype.newSub=function(){return new t(-1,this.exclude)},t}(),Wn=function(){function t(){}return Object.defineProperty(t.prototype,"schemas",{get:function(){return[]},enumerable:!1,configurable:!0}),t.prototype.add=function(e){},t.prototype.merge=function(e){},t.prototype.include=function(e){return!0},t.prototype.newSub=function(){return this},t.instance=new t,t}(),fe=function(){function t(){this.problems=[],this.propertiesMatches=0,this.propertiesValueMatches=0,this.primaryValueMatches=0,this.enumValueMatch=!1,this.enumValues=void 0}return t.prototype.hasProblems=function(){return!!this.problems.length},t.prototype.mergeAll=function(e){for(var n=0,r=e;n<r.length;n++)this.merge(r[n])},t.prototype.merge=function(e){this.problems=this.problems.concat(e.problems)},t.prototype.mergeEnumValues=function(e){if(!this.enumValueMatch&&!e.enumValueMatch&&this.enumValues&&e.enumValues){this.enumValues=this.enumValues.concat(e.enumValues);for(var n=0,r=this.problems;n<r.length;n++){var i=r[n];i.code===B.EnumValueMismatch&&(i.message=D("enumWarning","Value is not accepted. Valid values: {0}.",this.enumValues.map(function(o){return JSON.stringify(o)}).join(", ")))}}},t.prototype.mergePropertyMatch=function(e){this.merge(e),this.propertiesMatches++,(e.enumValueMatch||!e.hasProblems()&&e.propertiesMatches)&&this.propertiesValueMatches++,e.enumValueMatch&&e.enumValues&&1===e.enumValues.length&&this.primaryValueMatches++},t.prototype.compare=function(e){var n=this.hasProblems();return n!==e.hasProblems()?n?-1:1:this.enumValueMatch!==e.enumValueMatch?e.enumValueMatch?-1:1:this.primaryValueMatches!==e.primaryValueMatches?this.primaryValueMatches-e.primaryValueMatches:this.propertiesValueMatches!==e.propertiesValueMatches?this.propertiesValueMatches-e.propertiesValueMatches:this.propertiesMatches-e.propertiesMatches},t}();function Me(t){return Cs(t)}function Bn(t){return Ss(t)}function Si(t,e,n){return void 0===n&&(n=!1),e>=t.offset&&e<t.offset+t.length||n&&e===t.offset+t.length}var Ci=function(){function t(e,n,r){void 0===n&&(n=[]),void 0===r&&(r=[]),this.root=e,this.syntaxErrors=n,this.comments=r}return t.prototype.getNodeFromOffset=function(e,n){if(void 0===n&&(n=!1),this.root)return Es(this.root,e,n)},t.prototype.visit=function(e){if(this.root){var n=function(r){var i=e(r),o=r.children;if(Array.isArray(o))for(var s=0;s<o.length&&i;s++)i=n(o[s]);return i};n(this.root)}},t.prototype.validate=function(e,n,r){if(void 0===r&&(r=ue.Warning),this.root&&n){var i=new fe;return te(this.root,n,i,Wn.instance),i.problems.map(function(o){var s,a=$.create(e.positionAt(o.location.offset),e.positionAt(o.location.offset+o.location.length));return we.create(a,o.message,null!==(s=o.severity)&&void 0!==s?s:r,o.code)})}},t.prototype.getMatchingSchemas=function(e,n,r){void 0===n&&(n=-1);var i=new Ds(n,r);return this.root&&e&&te(this.root,e,new fe,i),i.schemas},t}();function te(t,e,n,r){if(t&&r.include(t)){var i=t;switch(i.type){case"object":!function(c,f,h,d){for(var g=Object.create(null),y=[],v=0,_=c.properties;v<_.length;v++)g[m=(p=_[v]).keyNode.value]=p.valueNode,y.push(m);if(Array.isArray(f.required))for(var S=0,C=f.required;S<C.length;S++)if(!g[T=C[S]]){var E=c.parent&&"property"===c.parent.type&&c.parent.keyNode;h.problems.push({location:E?{offset:E.offset,length:E.length}:{offset:c.offset,length:1},message:D("MissingRequiredPropWarning",'Missing property "{0}".',T)})}var b=function(Fi){for(var er=y.indexOf(Fi);er>=0;)y.splice(er,1),er=y.indexOf(Fi)};if(f.properties)for(var N=0,x=Object.keys(f.properties);N<x.length;N++){b(T=x[N]);var w=f.properties[T];(M=g[T])&&(Se(w)?w?(h.propertiesMatches++,h.propertiesValueMatches++):h.problems.push({location:{offset:(p=M.parent).keyNode.offset,length:p.keyNode.length},message:f.errorMessage||D("DisallowedExtraPropWarning","Property {0} is not allowed.",T)}):(te(M,w,j=new fe,d),h.mergePropertyMatch(j)))}if(f.patternProperties)for(var z=0,I=Object.keys(f.patternProperties);z<I.length;z++)for(var L=I[z],k=new RegExp(L),P=0,W=y.slice(0);P<W.length;P++)k.test(T=W[P])&&(b(T),(M=g[T])&&(Se(w=f.patternProperties[L])?w?(h.propertiesMatches++,h.propertiesValueMatches++):h.problems.push({location:{offset:(p=M.parent).keyNode.offset,length:p.keyNode.length},message:f.errorMessage||D("DisallowedExtraPropWarning","Property {0} is not allowed.",T)}):(te(M,w,j=new fe,d),h.mergePropertyMatch(j))));if("object"==typeof f.additionalProperties){for(var F=0,V=y;F<V.length;F++)if(M=g[T=V[F]]){var j=new fe;te(M,f.additionalProperties,j,d),h.mergePropertyMatch(j)}}else if(!1===f.additionalProperties&&y.length>0)for(var q=0,ne=y;q<ne.length;q++){var T,M,p;(M=g[T=ne[q]])&&h.problems.push({location:{offset:(p=M.parent).keyNode.offset,length:p.keyNode.length},message:f.errorMessage||D("DisallowedExtraPropWarning","Property {0} is not allowed.",T)})}if(he(f.maxProperties)&&c.properties.length>f.maxProperties&&h.problems.push({location:{offset:c.offset,length:c.length},message:D("MaxPropWarning","Object has more properties than limit of {0}.",f.maxProperties)}),he(f.minProperties)&&c.properties.length<f.minProperties&&h.problems.push({location:{offset:c.offset,length:c.length},message:D("MinPropWarning","Object has fewer properties than the required number of {0}",f.minProperties)}),f.dependencies)for(var de=0,qe=Object.keys(f.dependencies);de<qe.length;de++)if(g[m=qe[de]]){var Qn=f.dependencies[m];if(Array.isArray(Qn))for(var Xn=0,ki=Qn;Xn<ki.length;Xn++){var Pi=ki[Xn];g[Pi]?h.propertiesValueMatches++:h.problems.push({location:{offset:c.offset,length:c.length},message:D("RequiredDependentPropWarning","Object is missing property {0} required by property {1}.",Pi,m)})}else(w=le(Qn))&&(te(c,w,j=new fe,d),h.mergePropertyMatch(j))}var Mi=le(f.propertyNames);if(Mi)for(var Zn=0,Di=c.properties;Zn<Di.length;Zn++){var m;(m=Di[Zn].keyNode)&&te(m,Mi,h,Wn.instance)}}(i,e,n,r);break;case"array":!function(c,f,h,d){if(Array.isArray(f.items)){for(var g=f.items,y=0;y<g.length;y++){var _=le(g[y]),p=new fe;(m=c.items[y])?(te(m,_,p,d),h.mergePropertyMatch(p)):c.items.length>=g.length&&h.propertiesValueMatches++}if(c.items.length>g.length)if("object"==typeof f.additionalItems)for(var S=g.length;S<c.items.length;S++)p=new fe,te(c.items[S],f.additionalItems,p,d),h.mergePropertyMatch(p);else!1===f.additionalItems&&h.problems.push({location:{offset:c.offset,length:c.length},message:D("additionalItemsWarning","Array has too many items according to schema. Expected {0} or fewer.",g.length)})}else{var C=le(f.items);if(C)for(var T=0,E=c.items;T<E.length;T++){var m;te(m=E[T],C,p=new fe,d),h.mergePropertyMatch(p)}}var A=le(f.contains);if(A&&(c.items.some(function(w){var M=new fe;return te(w,A,M,Wn.instance),!M.hasProblems()})||h.problems.push({location:{offset:c.offset,length:c.length},message:f.errorMessage||D("requiredItemMissingWarning","Array does not contain required item.")})),he(f.minItems)&&c.items.length<f.minItems&&h.problems.push({location:{offset:c.offset,length:c.length},message:D("minItemsWarning","Array has too few items. Expected {0} or more.",f.minItems)}),he(f.maxItems)&&c.items.length>f.maxItems&&h.problems.push({location:{offset:c.offset,length:c.length},message:D("maxItemsWarning","Array has too many items. Expected {0} or fewer.",f.maxItems)}),!0===f.uniqueItems){var N=Me(c);N.some(function(w,M){return M!==N.lastIndexOf(w)})&&h.problems.push({location:{offset:c.offset,length:c.length},message:D("uniqueItemsWarning","Array has duplicate items.")})}}(i,e,n,r);break;case"string":!function(c,f,h,d){if(he(f.minLength)&&c.value.length<f.minLength&&h.problems.push({location:{offset:c.offset,length:c.length},message:D("minLengthWarning","String is shorter than the minimum length of {0}.",f.minLength)}),he(f.maxLength)&&c.value.length>f.maxLength&&h.problems.push({location:{offset:c.offset,length:c.length},message:D("maxLengthWarning","String is longer than the maximum length of {0}.",f.maxLength)}),function(t){return"string"==typeof t}(f.pattern)&&(new RegExp(f.pattern).test(c.value)||h.problems.push({location:{offset:c.offset,length:c.length},message:f.patternErrorMessage||f.errorMessage||D("patternWarning",'String does not match the pattern of "{0}".',f.pattern)})),f.format)switch(f.format){case"uri":case"uri-reference":var y=void 0;if(c.value){var v=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/.exec(c.value);v?!v[2]&&"uri"===f.format&&(y=D("uriSchemeMissing","URI with a scheme is expected.")):y=D("uriMissing","URI is expected.")}else y=D("uriEmpty","URI expected.");y&&h.problems.push({location:{offset:c.offset,length:c.length},message:f.patternErrorMessage||f.errorMessage||D("uriFormatWarning","String is not a URI: {0}",y)});break;case"color-hex":case"date-time":case"date":case"time":case"email":var _=Ns[f.format];(!c.value||!_.pattern.exec(c.value))&&h.problems.push({location:{offset:c.offset,length:c.length},message:f.patternErrorMessage||f.errorMessage||_.errorMessage})}}(i,e,n);break;case"number":!function(c,f,h,d){var g=c.value;function y(N){var x,w=/^(-?\d+)(?:\.(\d+))?(?:e([-+]\d+))?$/.exec(N.toString());return w&&{value:Number(w[1]+(w[2]||"")),multiplier:((null===(x=w[2])||void 0===x?void 0:x.length)||0)-(parseInt(w[3])||0)}}if(he(f.multipleOf)){var v=-1;if(Number.isInteger(f.multipleOf))v=g%f.multipleOf;else{var _=y(f.multipleOf),p=y(g);if(_&&p){var m=Math.pow(10,Math.abs(p.multiplier-_.multiplier));p.multiplier<_.multiplier?p.value*=m:_.value*=m,v=p.value%_.value}}0!==v&&h.problems.push({location:{offset:c.offset,length:c.length},message:D("multipleOfWarning","Value is not divisible by {0}.",f.multipleOf)})}function S(N,x){return he(x)?x:Se(x)&&x?N:void 0}function C(N,x){if(!Se(x)||!x)return N}var T=S(f.minimum,f.exclusiveMinimum);he(T)&&g<=T&&h.problems.push({location:{offset:c.offset,length:c.length},message:D("exclusiveMinimumWarning","Value is below the exclusive minimum of {0}.",T)});var E=S(f.maximum,f.exclusiveMaximum);he(E)&&g>=E&&h.problems.push({location:{offset:c.offset,length:c.length},message:D("exclusiveMaximumWarning","Value is above the exclusive maximum of {0}.",E)});var A=C(f.minimum,f.exclusiveMinimum);he(A)&&g<A&&h.problems.push({location:{offset:c.offset,length:c.length},message:D("minimumWarning","Value is below the minimum of {0}.",A)});var b=C(f.maximum,f.exclusiveMaximum);he(b)&&g>b&&h.problems.push({location:{offset:c.offset,length:c.length},message:D("maximumWarning","Value is above the maximum of {0}.",b)})}(i,e,n);break;case"property":return te(i.valueNode,e,n,r)}(function(){function c(M){return i.type===M||"integer"===M&&"number"===i.type&&i.isInteger}if(Array.isArray(e.type)?e.type.some(c)||n.problems.push({location:{offset:i.offset,length:i.length},message:e.errorMessage||D("typeArrayMismatchWarning","Incorrect type. Expected one of {0}.",e.type.join(", "))}):e.type&&(c(e.type)||n.problems.push({location:{offset:i.offset,length:i.length},message:e.errorMessage||D("typeMismatchWarning",'Incorrect type. Expected "{0}".',e.type)})),Array.isArray(e.allOf))for(var f=0,h=e.allOf;f<h.length;f++)te(i,le(h[f]),n,r);var g=le(e.not);if(g){var y=new fe,v=r.newSub();te(i,g,y,v),y.hasProblems()||n.problems.push({location:{offset:i.offset,length:i.length},message:D("notSchemaWarning","Matches a schema that is not allowed.")});for(var _=0,p=v.schemas;_<p.length;_++){var m=p[_];m.inverted=!m.inverted,r.add(m)}}var S=function(M,j){for(var z=[],I=void 0,L=0,k=M;L<k.length;L++){var W=le(k[L]),F=new fe,V=r.newSub();if(te(i,W,F,V),F.hasProblems()||z.push(W),I)if(j||F.hasProblems()||I.validationResult.hasProblems()){var q=F.compare(I.validationResult);q>0?I={schema:W,validationResult:F,matchingSchemas:V}:0===q&&(I.matchingSchemas.merge(V),I.validationResult.mergeEnumValues(F))}else I.matchingSchemas.merge(V),I.validationResult.propertiesMatches+=F.propertiesMatches,I.validationResult.propertiesValueMatches+=F.propertiesValueMatches;else I={schema:W,validationResult:F,matchingSchemas:V}}return z.length>1&&j&&n.problems.push({location:{offset:i.offset,length:1},message:D("oneOfWarning","Matches multiple schemas when only one must validate.")}),I&&(n.merge(I.validationResult),n.propertiesMatches+=I.validationResult.propertiesMatches,n.propertiesValueMatches+=I.validationResult.propertiesValueMatches,r.merge(I.matchingSchemas)),z.length};Array.isArray(e.anyOf)&&S(e.anyOf,!1),Array.isArray(e.oneOf)&&S(e.oneOf,!0);var M,j,z,I,L,k,C=function(M){var j=new fe,z=r.newSub();te(i,le(M),j,z),n.merge(j),n.propertiesMatches+=j.propertiesMatches,n.propertiesValueMatches+=j.propertiesValueMatches,r.merge(z)},E=le(e.if);if(E&&(M=E,j=le(e.then),z=le(e.else),I=le(M),L=new fe,k=r.newSub(),te(i,I,L,k),r.merge(k),L.hasProblems()?z&&C(z):j&&C(j)),Array.isArray(e.enum)){for(var A=Me(i),b=!1,N=0,x=e.enum;N<x.length;N++)if(gt(A,x[N])){b=!0;break}n.enumValues=e.enum,n.enumValueMatch=b,b||n.problems.push({location:{offset:i.offset,length:i.length},code:B.EnumValueMismatch,message:e.errorMessage||D("enumWarning","Value is not accepted. Valid values: {0}.",e.enum.map(function(M){return JSON.stringify(M)}).join(", "))})}Oe(e.const)&&(gt(A=Me(i),e.const)?n.enumValueMatch=!0:(n.problems.push({location:{offset:i.offset,length:i.length},code:B.EnumValueMismatch,message:e.errorMessage||D("constWarning","Value must be {0}.",JSON.stringify(e.const))}),n.enumValueMatch=!1),n.enumValues=[e.const]),e.deprecationMessage&&i.parent&&n.problems.push({location:{offset:i.parent.offset,length:i.parent.length},severity:ue.Warning,message:e.deprecationMessage,code:B.Deprecated})})(),r.add({node:i,schema:e})}}function $n(t,e,n){if(null!==t&&"object"==typeof t){var r=e+"\t";if(Array.isArray(t)){if(0===t.length)return"[]";for(var i="[\n",o=0;o<t.length;o++)i+=r+$n(t[o],r,n),o<t.length-1&&(i+=","),i+="\n";return i+(e+"]")}var s=Object.keys(t);if(0===s.length)return"{}";for(i="{\n",o=0;o<s.length;o++){var a=s[o];i+=r+JSON.stringify(a)+": "+$n(t[a],r,n),o<s.length-1&&(i+=","),i+="\n"}return i+(e+"}")}return n(t)}function Ct(t,e){var n=t.length-e.length;return n>0?t.lastIndexOf(e)===n:0===n&&t===e}function Us(t){return t.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}var _i,Hn=it(),Bs=function(){function t(e,n,r,i){void 0===n&&(n=[]),void 0===r&&(r=Promise),void 0===i&&(i={}),this.schemaService=e,this.contributions=n,this.promiseConstructor=r,this.clientCapabilities=i}return t.prototype.doResolve=function(e){for(var n=this.contributions.length-1;n>=0;n--){var r=this.contributions[n].resolveCompletion;if(r){var i=r(e);if(i)return i}}return this.promiseConstructor.resolve(e)},t.prototype.doComplete=function(e,n,r){var i=this,o={items:[],isIncomplete:!1},s=e.getText(),a=e.offsetAt(n),u=r.getNodeFromOffset(a,!0);if(this.isInComment(e,u?u.offset:0,a))return Promise.resolve(o);if(u&&a===u.offset+u.length&&a>0){var l=s[a-1];("object"===u.type&&"}"===l||"array"===u.type&&"]"===l)&&(u=u.parent)}var f,c=this.getCurrentWord(e,a);if(!u||"string"!==u.type&&"number"!==u.type&&"boolean"!==u.type&&"null"!==u.type){var h=a-c.length;h>0&&'"'===s[h-1]&&h--,f=$.create(e.positionAt(h),n)}else f=$.create(e.positionAt(u.offset),e.positionAt(u.offset+u.length));var g={},y={add:function(v){var _=v.label,p=g[_];if(p)p.documentation||(p.documentation=v.documentation),p.detail||(p.detail=v.detail);else{if((_=_.replace(/[\n]/g,"\u21b5")).length>60){var m=_.substr(0,57).trim()+"...";g[m]||(_=m)}f&&void 0!==v.insertText&&(v.textEdit=ve.replace(f,v.insertText)),v.label=_,g[_]=v,o.items.push(v)}},setAsIncomplete:function(){o.isIncomplete=!0},error:function(v){console.error(v)},log:function(v){console.log(v)},getNumberOfProposals:function(){return o.items.length}};return this.schemaService.getSchemaForResource(e.uri,r).then(function(v){var _=[],p=!0,m="",S=void 0;if(u&&"string"===u.type){var C=u.parent;C&&"property"===C.type&&C.keyNode===u&&(p=!C.valueNode,S=C,m=s.substr(u.offset+1,u.length-2),C&&(u=C.parent))}if(u&&"object"===u.type){if(u.offset===a)return o;u.properties.forEach(function(N){(!S||S!==N)&&(g[N.keyNode.value]=Rn.create("__"))});var E="";p&&(E=i.evaluateSeparatorAfter(e,e.offsetAt(f.end))),v?i.getPropertyCompletions(v,r,u,p,E,y):i.getSchemaLessPropertyCompletions(r,u,m,y);var A=Bn(u);i.contributions.forEach(function(N){var x=N.collectPropertyCompletions(e.uri,A,c,p,""===E,y);x&&_.push(x)}),!v&&c.length>0&&'"'!==s.charAt(a-c.length-1)&&(y.add({kind:oe.Property,label:i.getLabelForValue(c),insertText:i.getInsertTextForProperty(c,void 0,!1,E),insertTextFormat:Q.Snippet,documentation:""}),y.setAsIncomplete())}var b={};return v?i.getValueCompletions(v,r,u,a,e,y,b):i.getSchemaLessValueCompletions(r,u,a,e,y),i.contributions.length>0&&i.getContributedValueCompletions(r,u,a,e,y,_),i.promiseConstructor.all(_).then(function(){if(0===y.getNumberOfProposals()){var N=a;u&&("string"===u.type||"number"===u.type||"boolean"===u.type||"null"===u.type)&&(N=u.offset+u.length);var x=i.evaluateSeparatorAfter(e,N);i.addFillerValueCompletions(b,x,y)}return o})})},t.prototype.getPropertyCompletions=function(e,n,r,i,o,s){var a=this;n.getMatchingSchemas(e.schema,r.offset).forEach(function(l){if(l.node===r&&!l.inverted){var c=l.schema.properties;c&&Object.keys(c).forEach(function(y){var v=c[y];if("object"==typeof v&&!v.deprecationMessage&&!v.doNotSuggest){var _={kind:oe.Property,label:y,insertText:a.getInsertTextForProperty(y,v,i,o),insertTextFormat:Q.Snippet,filterText:a.getFilterTextForValue(y),documentation:a.fromMarkup(v.markdownDescription)||v.description||""};void 0!==v.suggestSortText&&(_.sortText=v.suggestSortText),_.insertText&&Ct(_.insertText,"$1"+o)&&(_.command={title:"Suggest",command:"editor.action.triggerSuggest"}),s.add(_)}});var f=l.schema.propertyNames;if("object"==typeof f&&!f.deprecationMessage&&!f.doNotSuggest){var h=function(y,v){void 0===v&&(v=void 0);var _={kind:oe.Property,label:y,insertText:a.getInsertTextForProperty(y,void 0,i,o),insertTextFormat:Q.Snippet,filterText:a.getFilterTextForValue(y),documentation:v||a.fromMarkup(f.markdownDescription)||f.description||""};void 0!==f.suggestSortText&&(_.sortText=f.suggestSortText),_.insertText&&Ct(_.insertText,"$1"+o)&&(_.command={title:"Suggest",command:"editor.action.triggerSuggest"}),s.add(_)};if(f.enum)for(var d=0;d<f.enum.length;d++){var g=void 0;f.markdownEnumDescriptions&&d<f.markdownEnumDescriptions.length?g=a.fromMarkup(f.markdownEnumDescriptions[d]):f.enumDescriptions&&d<f.enumDescriptions.length&&(g=f.enumDescriptions[d]),h(f.enum[d],g)}f.const&&h(f.const)}}})},t.prototype.getSchemaLessPropertyCompletions=function(e,n,r,i){var o=this,s=function(u){u.properties.forEach(function(l){var c=l.keyNode.value;i.add({kind:oe.Property,label:c,insertText:o.getInsertTextForValue(c,""),insertTextFormat:Q.Snippet,filterText:o.getFilterTextForValue(c),documentation:""})})};if(n.parent)if("property"===n.parent.type){var a=n.parent.keyNode.value;e.visit(function(u){return"property"===u.type&&u!==n.parent&&u.keyNode.value===a&&u.valueNode&&"object"===u.valueNode.type&&s(u.valueNode),!0})}else"array"===n.parent.type&&n.parent.items.forEach(function(u){"object"===u.type&&u!==n&&s(u)});else"object"===n.type&&i.add({kind:oe.Property,label:"$schema",insertText:this.getInsertTextForProperty("$schema",void 0,!0,""),insertTextFormat:Q.Snippet,documentation:"",filterText:this.getFilterTextForValue("$schema")})},t.prototype.getSchemaLessValueCompletions=function(e,n,r,i,o){var s=this,a=r;if(n&&("string"===n.type||"number"===n.type||"boolean"===n.type||"null"===n.type)&&(a=n.offset+n.length,n=n.parent),!n)return o.add({kind:this.getSuggestionKind("object"),label:"Empty object",insertText:this.getInsertTextForValue({},""),insertTextFormat:Q.Snippet,documentation:""}),void o.add({kind:this.getSuggestionKind("array"),label:"Empty array",insertText:this.getInsertTextForValue([],""),insertTextFormat:Q.Snippet,documentation:""});var u=this.evaluateSeparatorAfter(i,a),l=function(d){d.parent&&!Si(d.parent,r,!0)&&o.add({kind:s.getSuggestionKind(d.type),label:s.getLabelTextForMatchingNode(d,i),insertText:s.getInsertTextForMatchingNode(d,i,u),insertTextFormat:Q.Snippet,documentation:""}),"boolean"===d.type&&s.addBooleanValueCompletion(!d.value,u,o)};if("property"===n.type&&r>(n.colonOffset||0)){var c=n.valueNode;if(c&&(r>c.offset+c.length||"object"===c.type||"array"===c.type))return;var f=n.keyNode.value;e.visit(function(d){return"property"===d.type&&d.keyNode.value===f&&d.valueNode&&l(d.valueNode),!0}),"$schema"===f&&n.parent&&!n.parent.parent&&this.addDollarSchemaCompletions(u,o)}if("array"===n.type)if(n.parent&&"property"===n.parent.type){var h=n.parent.keyNode.value;e.visit(function(d){return"property"===d.type&&d.keyNode.value===h&&d.valueNode&&"array"===d.valueNode.type&&d.valueNode.items.forEach(l),!0})}else n.items.forEach(l)},t.prototype.getValueCompletions=function(e,n,r,i,o,s,a){var u=i,l=void 0,c=void 0;if(r&&("string"===r.type||"number"===r.type||"boolean"===r.type||"null"===r.type)&&(u=r.offset+r.length,c=r,r=r.parent),r){if("property"===r.type&&i>(r.colonOffset||0)){var f=r.valueNode;if(f&&i>f.offset+f.length)return;l=r.keyNode.value,r=r.parent}if(r&&(void 0!==l||"array"===r.type)){for(var h=this.evaluateSeparatorAfter(o,u),g=0,y=n.getMatchingSchemas(e.schema,r.offset,c);g<y.length;g++){var v=y[g];if(v.node===r&&!v.inverted&&v.schema){if("array"===r.type&&v.schema.items)if(Array.isArray(v.schema.items)){var _=this.findItemAtOffset(r,o,i);_<v.schema.items.length&&this.addSchemaValueCompletions(v.schema.items[_],h,s,a)}else this.addSchemaValueCompletions(v.schema.items,h,s,a);if(void 0!==l){var p=!1;if(v.schema.properties&&(m=v.schema.properties[l])&&(p=!0,this.addSchemaValueCompletions(m,h,s,a)),v.schema.patternProperties&&!p)for(var S=0,C=Object.keys(v.schema.patternProperties);S<C.length;S++){var m,T=C[S];new RegExp(T).test(l)&&(p=!0,this.addSchemaValueCompletions(m=v.schema.patternProperties[T],h,s,a))}v.schema.additionalProperties&&!p&&this.addSchemaValueCompletions(m=v.schema.additionalProperties,h,s,a)}}}"$schema"===l&&!r.parent&&this.addDollarSchemaCompletions(h,s),a.boolean&&(this.addBooleanValueCompletion(!0,h,s),this.addBooleanValueCompletion(!1,h,s)),a.null&&this.addNullValueCompletion(h,s)}}else this.addSchemaValueCompletions(e.schema,"",s,a)},t.prototype.getContributedValueCompletions=function(e,n,r,i,o,s){if(n){if(("string"===n.type||"number"===n.type||"boolean"===n.type||"null"===n.type)&&(n=n.parent),n&&"property"===n.type&&r>(n.colonOffset||0)){var a=n.keyNode.value,u=n.valueNode;if((!u||r<=u.offset+u.length)&&n.parent){var l=Bn(n.parent);this.contributions.forEach(function(c){var f=c.collectValueCompletions(i.uri,l,a,o);f&&s.push(f)})}}}else this.contributions.forEach(function(c){var f=c.collectDefaultCompletions(i.uri,o);f&&s.push(f)})},t.prototype.addSchemaValueCompletions=function(e,n,r,i){var o=this;"object"==typeof e&&(this.addEnumValueCompletions(e,n,r),this.addDefaultValueCompletions(e,n,r),this.collectTypes(e,i),Array.isArray(e.allOf)&&e.allOf.forEach(function(s){return o.addSchemaValueCompletions(s,n,r,i)}),Array.isArray(e.anyOf)&&e.anyOf.forEach(function(s){return o.addSchemaValueCompletions(s,n,r,i)}),Array.isArray(e.oneOf)&&e.oneOf.forEach(function(s){return o.addSchemaValueCompletions(s,n,r,i)}))},t.prototype.addDefaultValueCompletions=function(e,n,r,i){var o=this;void 0===i&&(i=0);var s=!1;if(Oe(e.default)){for(var a=e.type,u=e.default,l=i;l>0;l--)u=[u],a="array";r.add({kind:this.getSuggestionKind(a),label:this.getLabelForValue(u),insertText:this.getInsertTextForValue(u,n),insertTextFormat:Q.Snippet,detail:Hn("json.suggest.default","Default value")}),s=!0}Array.isArray(e.examples)&&e.examples.forEach(function(c){for(var f=e.type,h=c,d=i;d>0;d--)h=[h],f="array";r.add({kind:o.getSuggestionKind(f),label:o.getLabelForValue(h),insertText:o.getInsertTextForValue(h,n),insertTextFormat:Q.Snippet}),s=!0}),Array.isArray(e.defaultSnippets)&&e.defaultSnippets.forEach(function(c){var g,y,f=e.type,h=c.body,d=c.label;if(Oe(h)){for(var _=i;_>0;_--)h=[h];g=o.getInsertTextForSnippetValue(h,n),y=o.getFilterTextForSnippetValue(h),d=d||o.getLabelForSnippetValue(h)}else{if("string"!=typeof c.bodyText)return;var p="",m="",S="";for(_=i;_>0;_--)p=p+S+"[\n",m=m+"\n"+S+"]",S+="\t",f="array";g=p+S+c.bodyText.split("\n").join("\n"+S)+m+n,d=d||g,y=g.replace(/[\n]/g,"")}r.add({kind:o.getSuggestionKind(f),label:d,documentation:o.fromMarkup(c.markdownDescription)||c.description,insertText:g,insertTextFormat:Q.Snippet,filterText:y}),s=!0}),!s&&"object"==typeof e.items&&!Array.isArray(e.items)&&i<5&&this.addDefaultValueCompletions(e.items,n,r,i+1)},t.prototype.addEnumValueCompletions=function(e,n,r){if(Oe(e.const)&&r.add({kind:this.getSuggestionKind(e.type),label:this.getLabelForValue(e.const),insertText:this.getInsertTextForValue(e.const,n),insertTextFormat:Q.Snippet,documentation:this.fromMarkup(e.markdownDescription)||e.description}),Array.isArray(e.enum))for(var i=0,o=e.enum.length;i<o;i++){var s=e.enum[i],a=this.fromMarkup(e.markdownDescription)||e.description;e.markdownEnumDescriptions&&i<e.markdownEnumDescriptions.length&&this.doesSupportMarkdown()?a=this.fromMarkup(e.markdownEnumDescriptions[i]):e.enumDescriptions&&i<e.enumDescriptions.length&&(a=e.enumDescriptions[i]),r.add({kind:this.getSuggestionKind(e.type),label:this.getLabelForValue(s),insertText:this.getInsertTextForValue(s,n),insertTextFormat:Q.Snippet,documentation:a})}},t.prototype.collectTypes=function(e,n){if(!Array.isArray(e.enum)&&!Oe(e.const)){var r=e.type;Array.isArray(r)?r.forEach(function(i){return n[i]=!0}):r&&(n[r]=!0)}},t.prototype.addFillerValueCompletions=function(e,n,r){e.object&&r.add({kind:this.getSuggestionKind("object"),label:"{}",insertText:this.getInsertTextForGuessedValue({},n),insertTextFormat:Q.Snippet,detail:Hn("defaults.object","New object"),documentation:""}),e.array&&r.add({kind:this.getSuggestionKind("array"),label:"[]",insertText:this.getInsertTextForGuessedValue([],n),insertTextFormat:Q.Snippet,detail:Hn("defaults.array","New array"),documentation:""})},t.prototype.addBooleanValueCompletion=function(e,n,r){r.add({kind:this.getSuggestionKind("boolean"),label:e?"true":"false",insertText:this.getInsertTextForValue(e,n),insertTextFormat:Q.Snippet,documentation:""})},t.prototype.addNullValueCompletion=function(e,n){n.add({kind:this.getSuggestionKind("null"),label:"null",insertText:"null"+e,insertTextFormat:Q.Snippet,documentation:""})},t.prototype.addDollarSchemaCompletions=function(e,n){var r=this;this.schemaService.getRegisteredSchemaIds(function(o){return"http"===o||"https"===o}).forEach(function(o){return n.add({kind:oe.Module,label:r.getLabelForValue(o),filterText:r.getFilterTextForValue(o),insertText:r.getInsertTextForValue(o,e),insertTextFormat:Q.Snippet,documentation:""})})},t.prototype.getLabelForValue=function(e){return JSON.stringify(e)},t.prototype.getFilterTextForValue=function(e){return JSON.stringify(e)},t.prototype.getFilterTextForSnippetValue=function(e){return JSON.stringify(e).replace(/\$\{\d+:([^}]+)\}|\$\d+/g,"$1")},t.prototype.getLabelForSnippetValue=function(e){return JSON.stringify(e).replace(/\$\{\d+:([^}]+)\}|\$\d+/g,"$1")},t.prototype.getInsertTextForPlainText=function(e){return e.replace(/[\\\$\}]/g,"\\$&")},t.prototype.getInsertTextForValue=function(e,n){var r=JSON.stringify(e,null,"\t");return"{}"===r?"{$1}"+n:"[]"===r?"[$1]"+n:this.getInsertTextForPlainText(r+n)},t.prototype.getInsertTextForSnippetValue=function(e,n){return $n(e,"",function(i){return"string"==typeof i&&"^"===i[0]?i.substr(1):JSON.stringify(i)})+n},t.prototype.getInsertTextForGuessedValue=function(e,n){switch(typeof e){case"object":return null===e?"${1:null}"+n:this.getInsertTextForValue(e,n);case"string":var r=JSON.stringify(e);return r=r.substr(1,r.length-2),'"${1:'+(r=this.getInsertTextForPlainText(r))+'}"'+n;case"number":case"boolean":return"${1:"+JSON.stringify(e)+"}"+n}return this.getInsertTextForValue(e,n)},t.prototype.getSuggestionKind=function(e){if(Array.isArray(e)&&(e=e.length>0?e[0]:void 0),!e)return oe.Value;switch(e){case"string":return oe.Value;case"object":return oe.Module;case"property":return oe.Property;default:return oe.Value}},t.prototype.getLabelTextForMatchingNode=function(e,n){switch(e.type){case"array":return"[]";case"object":return"{}";default:return n.getText().substr(e.offset,e.length)}},t.prototype.getInsertTextForMatchingNode=function(e,n,r){switch(e.type){case"array":return this.getInsertTextForValue([],r);case"object":return this.getInsertTextForValue({},r);default:var i=n.getText().substr(e.offset,e.length)+r;return this.getInsertTextForPlainText(i)}},t.prototype.getInsertTextForProperty=function(e,n,r,i){var o=this.getInsertTextForValue(e,"");if(!r)return o;var a,s=o+": ",u=0;if(n){if(Array.isArray(n.defaultSnippets)){if(1===n.defaultSnippets.length){var l=n.defaultSnippets[0].body;Oe(l)&&(a=this.getInsertTextForSnippetValue(l,""))}u+=n.defaultSnippets.length}if(n.enum&&(!a&&1===n.enum.length&&(a=this.getInsertTextForGuessedValue(n.enum[0],"")),u+=n.enum.length),Oe(n.default)&&(a||(a=this.getInsertTextForGuessedValue(n.default,"")),u++),Array.isArray(n.examples)&&n.examples.length&&(a||(a=this.getInsertTextForGuessedValue(n.examples[0],"")),u+=n.examples.length),0===u){var c=Array.isArray(n.type)?n.type[0]:n.type;switch(c||(n.properties?c="object":n.items&&(c="array")),c){case"boolean":a="$1";break;case"string":a='"$1"';break;case"object":a="{$1}";break;case"array":a="[$1]";break;case"number":case"integer":a="${1:0}";break;case"null":a="${1:null}";break;default:return o}}}return(!a||u>1)&&(a="$1"),s+a+i},t.prototype.getCurrentWord=function(e,n){for(var r=n-1,i=e.getText();r>=0&&-1===' \t\n\r\v":{[,]}'.indexOf(i.charAt(r));)r--;return i.substring(r+1,n)},t.prototype.evaluateSeparatorAfter=function(e,n){var r=tt(e.getText(),!0);switch(r.setPosition(n),r.scan()){case 5:case 2:case 4:case 17:return"";default:return","}},t.prototype.findItemAtOffset=function(e,n,r){for(var i=tt(n.getText(),!0),o=e.items,s=o.length-1;s>=0;s--){var a=o[s];if(r>a.offset+a.length)return i.setPosition(a.offset+a.length),5===i.scan()&&r>=i.getTokenOffset()+i.getTokenLength()?s+1:s;if(r>=a.offset)return s}return 0},t.prototype.isInComment=function(e,n,r){var i=tt(e.getText(),!1);i.setPosition(n);for(var o=i.scan();17!==o&&i.getTokenOffset()+i.getTokenLength()<r;)o=i.scan();return(12===o||13===o)&&i.getTokenOffset()<=r},t.prototype.fromMarkup=function(e){if(e&&this.doesSupportMarkdown())return{kind:Ce.Markdown,value:e}},t.prototype.doesSupportMarkdown=function(){if(!Oe(this.supportsMarkdown)){var e=this.clientCapabilities.textDocument&&this.clientCapabilities.textDocument.completion;this.supportsMarkdown=e&&e.completionItem&&Array.isArray(e.completionItem.documentationFormat)&&-1!==e.completionItem.documentationFormat.indexOf(Ce.Markdown)}return this.supportsMarkdown},t.prototype.doesSupportsCommitCharacters=function(){if(!Oe(this.supportsCommitCharacters)){var e=this.clientCapabilities.textDocument&&this.clientCapabilities.textDocument.completion;this.supportsCommitCharacters=e&&e.completionItem&&!!e.completionItem.commitCharactersSupport}return this.supportsCommitCharacters},t}(),$s=function(){function t(e,n,r){void 0===n&&(n=[]),this.schemaService=e,this.contributions=n,this.promise=r||Promise}return t.prototype.doHover=function(e,n,r){var i=e.offsetAt(n),o=r.getNodeFromOffset(i);if(!o||("object"===o.type||"array"===o.type)&&i>o.offset+1&&i<o.offset+o.length-1)return this.promise.resolve(null);var s=o;if("string"===o.type){var a=o.parent;if(a&&"property"===a.type&&a.keyNode===o&&!(o=a.valueNode))return this.promise.resolve(null)}for(var u=$.create(e.positionAt(s.offset),e.positionAt(s.offset+s.length)),l=function(g){return{contents:g,range:u}},c=Bn(o),f=this.contributions.length-1;f>=0;f--){var d=this.contributions[f].getInfoContribution(e.uri,c);if(d)return d.then(function(g){return l(g)})}return this.schemaService.getSchemaForResource(e.uri,r).then(function(g){if(g&&o){var y=r.getMatchingSchemas(g.schema,o.offset),v=void 0,_=void 0,p=void 0,m=void 0;y.every(function(C){if(C.node===o&&!C.inverted&&C.schema&&(v=v||C.schema.title,_=_||C.schema.markdownDescription||qn(C.schema.description),C.schema.enum)){var T=C.schema.enum.indexOf(Me(o));C.schema.markdownEnumDescriptions?p=C.schema.markdownEnumDescriptions[T]:C.schema.enumDescriptions&&(p=qn(C.schema.enumDescriptions[T])),p&&"string"!=typeof(m=C.schema.enum[T])&&(m=JSON.stringify(m))}return!0});var S="";return v&&(S=qn(v)),_&&(S.length>0&&(S+="\n\n"),S+=_),p&&(S.length>0&&(S+="\n\n"),S+="`"+function(t){return-1!==t.indexOf("`")?"`` "+t+" ``":t}(m)+"`: "+p),l([S])}return null})},t}();function qn(t){if(t)return t.replace(/([^\n\r])(\r?\n)([^\n\r])/gm,"$1\n\n$3").replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}_i=(()=>{var t={470:r=>{function i(a){if("string"!=typeof a)throw new TypeError("Path must be a string. Received "+JSON.stringify(a))}function o(a,u){for(var l,c="",f=0,h=-1,d=0,g=0;g<=a.length;++g){if(g<a.length)l=a.charCodeAt(g);else{if(47===l)break;l=47}if(47===l){if(h!==g-1&&1!==d)if(h!==g-1&&2===d){if(c.length<2||2!==f||46!==c.charCodeAt(c.length-1)||46!==c.charCodeAt(c.length-2))if(c.length>2){var y=c.lastIndexOf("/");if(y!==c.length-1){-1===y?(c="",f=0):f=(c=c.slice(0,y)).length-1-c.lastIndexOf("/"),h=g,d=0;continue}}else if(2===c.length||1===c.length){c="",f=0,h=g,d=0;continue}u&&(c.length>0?c+="/..":c="..",f=2)}else c.length>0?c+="/"+a.slice(h+1,g):c=a.slice(h+1,g),f=g-h-1;h=g,d=0}else 46===l&&-1!==d?++d:d=-1}return c}var s={resolve:function(){for(var a,u="",l=!1,c=arguments.length-1;c>=-1&&!l;c--){var f;c>=0?f=arguments[c]:(void 0===a&&(a=process.cwd()),f=a),i(f),0!==f.length&&(u=f+"/"+u,l=47===f.charCodeAt(0))}return u=o(u,!l),l?u.length>0?"/"+u:"/":u.length>0?u:"."},normalize:function(a){if(i(a),0===a.length)return".";var u=47===a.charCodeAt(0),l=47===a.charCodeAt(a.length-1);return 0!==(a=o(a,!u)).length||u||(a="."),a.length>0&&l&&(a+="/"),u?"/"+a:a},isAbsolute:function(a){return i(a),a.length>0&&47===a.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var a,u=0;u<arguments.length;++u){var l=arguments[u];i(l),l.length>0&&(void 0===a?a=l:a+="/"+l)}return void 0===a?".":s.normalize(a)},relative:function(a,u){if(i(a),i(u),a===u||(a=s.resolve(a))===(u=s.resolve(u)))return"";for(var l=1;l<a.length&&47===a.charCodeAt(l);++l);for(var c=a.length,f=c-l,h=1;h<u.length&&47===u.charCodeAt(h);++h);for(var d=u.length-h,g=f<d?f:d,y=-1,v=0;v<=g;++v){if(v===g){if(d>g){if(47===u.charCodeAt(h+v))return u.slice(h+v+1);if(0===v)return u.slice(h+v)}else f>g&&(47===a.charCodeAt(l+v)?y=v:0===v&&(y=0));break}var _=a.charCodeAt(l+v);if(_!==u.charCodeAt(h+v))break;47===_&&(y=v)}var p="";for(v=l+y+1;v<=c;++v)v!==c&&47!==a.charCodeAt(v)||(p+=0===p.length?"..":"/..");return p.length>0?p+u.slice(h+y):(47===u.charCodeAt(h+=y)&&++h,u.slice(h))},_makeLong:function(a){return a},dirname:function(a){if(i(a),0===a.length)return".";for(var u=a.charCodeAt(0),l=47===u,c=-1,f=!0,h=a.length-1;h>=1;--h)if(47===(u=a.charCodeAt(h))){if(!f){c=h;break}}else f=!1;return-1===c?l?"/":".":l&&1===c?"//":a.slice(0,c)},basename:function(a,u){if(void 0!==u&&"string"!=typeof u)throw new TypeError('"ext" argument must be a string');i(a);var l,c=0,f=-1,h=!0;if(void 0!==u&&u.length>0&&u.length<=a.length){if(u.length===a.length&&u===a)return"";var d=u.length-1,g=-1;for(l=a.length-1;l>=0;--l){var y=a.charCodeAt(l);if(47===y){if(!h){c=l+1;break}}else-1===g&&(h=!1,g=l+1),d>=0&&(y===u.charCodeAt(d)?-1==--d&&(f=l):(d=-1,f=g))}return c===f?f=g:-1===f&&(f=a.length),a.slice(c,f)}for(l=a.length-1;l>=0;--l)if(47===a.charCodeAt(l)){if(!h){c=l+1;break}}else-1===f&&(h=!1,f=l+1);return-1===f?"":a.slice(c,f)},extname:function(a){i(a);for(var u=-1,l=0,c=-1,f=!0,h=0,d=a.length-1;d>=0;--d){var g=a.charCodeAt(d);if(47!==g)-1===c&&(f=!1,c=d+1),46===g?-1===u?u=d:1!==h&&(h=1):-1!==u&&(h=-1);else if(!f){l=d+1;break}}return-1===u||-1===c||0===h||1===h&&u===c-1&&u===l+1?"":a.slice(u,c)},format:function(a){if(null===a||"object"!=typeof a)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof a);return f=(l=a).base||(l.name||"")+(l.ext||""),(c=l.dir||l.root)?c===l.root?c+f:c+"/"+f:f;var l,c,f},parse:function(a){i(a);var u={root:"",dir:"",base:"",ext:"",name:""};if(0===a.length)return u;var l,c=a.charCodeAt(0),f=47===c;f?(u.root="/",l=1):l=0;for(var h=-1,d=0,g=-1,y=!0,v=a.length-1,_=0;v>=l;--v)if(47!==(c=a.charCodeAt(v)))-1===g&&(y=!1,g=v+1),46===c?-1===h?h=v:1!==_&&(_=1):-1!==h&&(_=-1);else if(!y){d=v+1;break}return-1===h||-1===g||0===_||1===_&&h===g-1&&h===d+1?-1!==g&&(u.base=u.name=a.slice(0===d&&f?1:d,g)):(0===d&&f?(u.name=a.slice(1,h),u.base=a.slice(1,g)):(u.name=a.slice(d,h),u.base=a.slice(d,g)),u.ext=a.slice(h,g)),d>0?u.dir=a.slice(0,d-1):f&&(u.dir="/"),u},sep:"/",delimiter:":",win32:null,posix:null};s.posix=s,r.exports=s},447:(r,i,o)=>{var s;if(o.r(i),o.d(i,{URI:()=>_,Utils:()=>w}),"object"==typeof process)s="win32"===process.platform;else if("object"==typeof navigator){var a=navigator.userAgent;s=a.indexOf("Windows")>=0}var u,l,c=(u=function(I,L){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,P){k.__proto__=P}||function(k,P){for(var W in P)Object.prototype.hasOwnProperty.call(P,W)&&(k[W]=P[W])})(I,L)},function(I,L){function k(){this.constructor=I}u(I,L),I.prototype=null===L?Object.create(L):(k.prototype=L.prototype,new k)}),f=/^\w[\w\d+.-]*$/,h=/^\//,d=/^\/\//,g="",y="/",v=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,_=function(){function I(L,k,P,W,F,V){var q;void 0===V&&(V=!1),"object"==typeof L?(this.scheme=L.scheme||g,this.authority=L.authority||g,this.path=L.path||g,this.query=L.query||g,this.fragment=L.fragment||g):(this.scheme=(q=L)||V?q:"file",this.authority=k||g,this.path=function(q,ne){switch(q){case"https":case"http":case"file":ne?ne[0]!==y&&(ne=y+ne):ne=y}return ne}(this.scheme,P||g),this.query=W||g,this.fragment=F||g,function(q,ne){if(!q.scheme&&ne)throw new Error('[UriError]: Scheme is missing: {scheme: "", authority: "'+q.authority+'", path: "'+q.path+'", query: "'+q.query+'", fragment: "'+q.fragment+'"}');if(q.scheme&&!f.test(q.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(q.path)if(q.authority){if(!h.test(q.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(d.test(q.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}(this,V))}return I.isUri=function(L){return L instanceof I||!!L&&"string"==typeof L.authority&&"string"==typeof L.fragment&&"string"==typeof L.path&&"string"==typeof L.query&&"string"==typeof L.scheme&&"function"==typeof L.fsPath&&"function"==typeof L.with&&"function"==typeof L.toString},Object.defineProperty(I.prototype,"fsPath",{get:function(){return E(this,!1)},enumerable:!1,configurable:!0}),I.prototype.with=function(L){if(!L)return this;var k=L.scheme,P=L.authority,W=L.path,F=L.query,V=L.fragment;return void 0===k?k=this.scheme:null===k&&(k=g),void 0===P?P=this.authority:null===P&&(P=g),void 0===W?W=this.path:null===W&&(W=g),void 0===F?F=this.query:null===F&&(F=g),void 0===V?V=this.fragment:null===V&&(V=g),k===this.scheme&&P===this.authority&&W===this.path&&F===this.query&&V===this.fragment?this:new m(k,P,W,F,V)},I.parse=function(L,k){void 0===k&&(k=!1);var P=v.exec(L);return P?new m(P[2]||g,x(P[4]||g),x(P[5]||g),x(P[7]||g),x(P[9]||g),k):new m(g,g,g,g,g)},I.file=function(L){var k=g;if(s&&(L=L.replace(/\\/g,y)),L[0]===y&&L[1]===y){var P=L.indexOf(y,2);-1===P?(k=L.substring(2),L=y):(k=L.substring(2,P),L=L.substring(P)||y)}return new m("file",k,L,g,g)},I.from=function(L){return new m(L.scheme,L.authority,L.path,L.query,L.fragment)},I.prototype.toString=function(L){return void 0===L&&(L=!1),A(this,L)},I.prototype.toJSON=function(){return this},I.revive=function(L){if(L){if(L instanceof I)return L;var k=new m(L);return k._formatted=L.external,k._fsPath=L._sep===p?L.fsPath:null,k}return L},I}(),p=s?1:void 0,m=function(I){function L(){var k=null!==I&&I.apply(this,arguments)||this;return k._formatted=null,k._fsPath=null,k}return c(L,I),Object.defineProperty(L.prototype,"fsPath",{get:function(){return this._fsPath||(this._fsPath=E(this,!1)),this._fsPath},enumerable:!1,configurable:!0}),L.prototype.toString=function(k){return void 0===k&&(k=!1),k?A(this,!0):(this._formatted||(this._formatted=A(this,!1)),this._formatted)},L.prototype.toJSON=function(){var k={$mid:1};return this._fsPath&&(k.fsPath=this._fsPath,k._sep=p),this._formatted&&(k.external=this._formatted),this.path&&(k.path=this.path),this.scheme&&(k.scheme=this.scheme),this.authority&&(k.authority=this.authority),this.query&&(k.query=this.query),this.fragment&&(k.fragment=this.fragment),k},L}(_),S=((l={})[58]="%3A",l[47]="%2F",l[63]="%3F",l[35]="%23",l[91]="%5B",l[93]="%5D",l[64]="%40",l[33]="%21",l[36]="%24",l[38]="%26",l[39]="%27",l[40]="%28",l[41]="%29",l[42]="%2A",l[43]="%2B",l[44]="%2C",l[59]="%3B",l[61]="%3D",l[32]="%20",l);function C(I,L){for(var k=void 0,P=-1,W=0;W<I.length;W++){var F=I.charCodeAt(W);if(F>=97&&F<=122||F>=65&&F<=90||F>=48&&F<=57||45===F||46===F||95===F||126===F||L&&47===F)-1!==P&&(k+=encodeURIComponent(I.substring(P,W)),P=-1),void 0!==k&&(k+=I.charAt(W));else{void 0===k&&(k=I.substr(0,W));var V=S[F];void 0!==V?(-1!==P&&(k+=encodeURIComponent(I.substring(P,W)),P=-1),k+=V):-1===P&&(P=W)}}return-1!==P&&(k+=encodeURIComponent(I.substring(P))),void 0!==k?k:I}function T(I){for(var L=void 0,k=0;k<I.length;k++){var P=I.charCodeAt(k);35===P||63===P?(void 0===L&&(L=I.substr(0,k)),L+=S[P]):void 0!==L&&(L+=I[k])}return void 0!==L?L:I}function E(I,L){var k;return k=I.authority&&I.path.length>1&&"file"===I.scheme?"//"+I.authority+I.path:47===I.path.charCodeAt(0)&&(I.path.charCodeAt(1)>=65&&I.path.charCodeAt(1)<=90||I.path.charCodeAt(1)>=97&&I.path.charCodeAt(1)<=122)&&58===I.path.charCodeAt(2)?L?I.path.substr(1):I.path[1].toLowerCase()+I.path.substr(2):I.path,s&&(k=k.replace(/\//g,"\\")),k}function A(I,L){var k=L?T:C,P="",W=I.scheme,F=I.authority,V=I.path,q=I.query,ne=I.fragment;if(W&&(P+=W,P+=":"),(F||"file"===W)&&(P+=y,P+=y),F){var de=F.indexOf("@");if(-1!==de){var qe=F.substr(0,de);F=F.substr(de+1),-1===(de=qe.indexOf(":"))?P+=k(qe,!1):(P+=k(qe.substr(0,de),!1),P+=":",P+=k(qe.substr(de+1),!1)),P+="@"}-1===(de=(F=F.toLowerCase()).indexOf(":"))?P+=k(F,!1):(P+=k(F.substr(0,de),!1),P+=F.substr(de))}if(V){if(V.length>=3&&47===V.charCodeAt(0)&&58===V.charCodeAt(2))(je=V.charCodeAt(1))>=65&&je<=90&&(V="/"+String.fromCharCode(je+32)+":"+V.substr(3));else if(V.length>=2&&58===V.charCodeAt(1)){var je;(je=V.charCodeAt(0))>=65&&je<=90&&(V=String.fromCharCode(je+32)+":"+V.substr(2))}P+=k(V,!0)}return q&&(P+="?",P+=k(q,!1)),ne&&(P+="#",P+=L?ne:C(ne,!1)),P}function b(I){try{return decodeURIComponent(I)}catch(L){return I.length>3?I.substr(0,3)+b(I.substr(3)):I}}var N=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function x(I){return I.match(N)?I.replace(N,function(L){return b(L)}):I}var w,I,M=o(470),j=function(){for(var I=0,L=0,k=arguments.length;L<k;L++)I+=arguments[L].length;var P=Array(I),W=0;for(L=0;L<k;L++)for(var F=arguments[L],V=0,q=F.length;V<q;V++,W++)P[W]=F[V];return P},z=M.posix||M;(I=w||(w={})).joinPath=function(L){for(var k=[],P=1;P<arguments.length;P++)k[P-1]=arguments[P];return L.with({path:z.join.apply(z,j([L.path],k))})},I.resolvePath=function(L){for(var k=[],P=1;P<arguments.length;P++)k[P-1]=arguments[P];var W=L.path||"/";return L.with({path:z.resolve.apply(z,j([W],k))})},I.dirname=function(L){var k=z.dirname(L.path);return 1===k.length&&46===k.charCodeAt(0)?L:L.with({path:k})},I.basename=function(L){return z.basename(L.path)},I.extname=function(L){return z.extname(L.path)}}},e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}return n.d=(r,i)=>{for(var o in i)n.o(i,o)&&!n.o(r,o)&&Object.defineProperty(r,o,{enumerable:!0,get:i[o]})},n.o=(r,i)=>Object.prototype.hasOwnProperty.call(r,i),n.r=r=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},n(447)})();const{URI:ot}=_i;var De=it(),qs=function(){function t(e,n){this.patternRegExps=[],this.isInclude=[];try{for(var r=0,i=e;r<i.length;r++){var o=i[r],s="!"!==o[0];s||(o=o.substring(1)),this.patternRegExps.push(new RegExp(Us(o)+"$")),this.isInclude.push(s)}this.uris=n}catch(a){this.patternRegExps.length=0,this.isInclude.length=0,this.uris=[]}}return t.prototype.matchesPattern=function(e){for(var n=!1,r=0;r<this.patternRegExps.length;r++)this.patternRegExps[r].test(e)&&(n=this.isInclude[r]);return n},t.prototype.getURIs=function(){return this.uris},t}(),Ks=function(){function t(e,n,r){this.service=e,this.url=n,this.dependencies={},r&&(this.unresolvedSchema=this.service.promise.resolve(new He(r)))}return t.prototype.getUnresolvedSchema=function(){return this.unresolvedSchema||(this.unresolvedSchema=this.service.loadSchema(this.url)),this.unresolvedSchema},t.prototype.getResolvedSchema=function(){var e=this;return this.resolvedSchema||(this.resolvedSchema=this.getUnresolvedSchema().then(function(n){return e.service.resolveSchemaContent(n,e.url,e.dependencies)})),this.resolvedSchema},t.prototype.clearSchema=function(){this.resolvedSchema=void 0,this.unresolvedSchema=void 0,this.dependencies={}},t}(),He=function(e,n){void 0===n&&(n=[]),this.schema=e,this.errors=n},Ai=function(){function t(e,n){void 0===n&&(n=[]),this.schema=e,this.errors=n}return t.prototype.getSection=function(e){var n=this.getSectionRecursive(e,this.schema);if(n)return le(n)},t.prototype.getSectionRecursive=function(e,n){if(!n||"boolean"==typeof n||0===e.length)return n;var r=e.shift();if(n.properties)return this.getSectionRecursive(e,n.properties[r]);if(n.patternProperties)for(var i=0,o=Object.keys(n.patternProperties);i<o.length;i++){var s=o[i];if(new RegExp(s).test(r))return this.getSectionRecursive(e,n.patternProperties[s])}else{if("object"==typeof n.additionalProperties)return this.getSectionRecursive(e,n.additionalProperties);if(r.match("[0-9]+"))if(Array.isArray(n.items)){var u=parseInt(r,10);if(!isNaN(u)&&n.items[u])return this.getSectionRecursive(e,n.items[u])}else if(n.items)return this.getSectionRecursive(e,n.items)}},t}(),zs=function(){function t(e,n,r){this.contextService=n,this.requestService=e,this.promiseConstructor=r||Promise,this.callOnDispose=[],this.contributionSchemas={},this.contributionAssociations=[],this.schemasById={},this.filePatternAssociations=[],this.registeredSchemasIds={}}return t.prototype.getRegisteredSchemaIds=function(e){return Object.keys(this.registeredSchemasIds).filter(function(n){var r=ot.parse(n).scheme;return"schemaservice"!==r&&(!e||e(r))})},Object.defineProperty(t.prototype,"promise",{get:function(){return this.promiseConstructor},enumerable:!1,configurable:!0}),t.prototype.dispose=function(){for(;this.callOnDispose.length>0;)this.callOnDispose.pop()()},t.prototype.onResourceChange=function(e){for(var n=this,r=!1,i=[e=Fe(e)],o=Object.keys(this.schemasById).map(function(l){return n.schemasById[l]});i.length;)for(var s=i.pop(),a=0;a<o.length;a++){var u=o[a];u&&(u.url===s||u.dependencies[s])&&(u.url!==s&&i.push(u.url),u.clearSchema(),o[a]=void 0,r=!0)}return r},t.prototype.setSchemaContributions=function(e){if(e.schemas){var n=e.schemas;for(var r in n){var i=Fe(r);this.contributionSchemas[i]=this.addSchemaHandle(i,n[r])}}if(Array.isArray(e.schemaAssociations))for(var s=0,a=e.schemaAssociations;s<a.length;s++){var u=a[s],l=u.uris.map(Fe),c=this.addFilePatternAssociation(u.pattern,l);this.contributionAssociations.push(c)}},t.prototype.addSchemaHandle=function(e,n){var r=new Ks(this,e,n);return this.schemasById[e]=r,r},t.prototype.getOrAddSchemaHandle=function(e,n){return this.schemasById[e]||this.addSchemaHandle(e,n)},t.prototype.addFilePatternAssociation=function(e,n){var r=new qs(e,n);return this.filePatternAssociations.push(r),r},t.prototype.registerExternalSchema=function(e,n,r){var i=Fe(e);return this.registeredSchemasIds[i]=!0,this.cachedSchemaForResource=void 0,n&&this.addFilePatternAssociation(n,[e]),r?this.addSchemaHandle(i,r):this.getOrAddSchemaHandle(i)},t.prototype.clearExternalSchemas=function(){for(var e in this.schemasById={},this.filePatternAssociations=[],this.registeredSchemasIds={},this.cachedSchemaForResource=void 0,this.contributionSchemas)this.schemasById[e]=this.contributionSchemas[e],this.registeredSchemasIds[e]=!0;for(var n=0,r=this.contributionAssociations;n<r.length;n++)this.filePatternAssociations.push(r[n])},t.prototype.getResolvedSchema=function(e){var n=Fe(e),r=this.schemasById[n];return r?r.getResolvedSchema():this.promise.resolve(void 0)},t.prototype.loadSchema=function(e){if(!this.requestService){var n=De("json.schema.norequestservice","Unable to load schema from '{0}'. No schema request service available",zt(e));return this.promise.resolve(new He({},[n]))}return this.requestService(e).then(function(r){if(!r){var i=De("json.schema.nocontent","Unable to load schema from '{0}': No content.",zt(e));return new He({},[i])}var o,s=[];o=bs(r,s);var a=s.length?[De("json.schema.invalidFormat","Unable to parse content from '{0}': Parse error at offset {1}.",zt(e),s[0].offset)]:[];return new He(o,a)},function(r){var i=r.toString(),o=r.toString().split("Error: ");return o.length>1&&(i=o[1]),Ct(i,".")&&(i=i.substr(0,i.length-1)),new He({},[De("json.schema.nocontent","Unable to load schema from '{0}': {1}.",zt(e),i)])})},t.prototype.resolveSchemaContent=function(e,n,r){var i=this,o=e.errors.slice(0),s=e.schema;if(s.$schema){var a=Fe(s.$schema);if("http://json-schema.org/draft-03/schema"===a)return this.promise.resolve(new Ai({},[De("json.schema.draft03.notsupported","Draft-03 schemas are not supported.")]));"https://json-schema.org/draft/2019-09/schema"===a&&o.push(De("json.schema.draft201909.notsupported","Draft 2019-09 schemas are not yet fully supported."))}var u=this.contextService,c=function(d,g,y,v){var _=v?decodeURIComponent(v):void 0,p=function(d,g){if(!g)return d;var y=d;return"/"===g[0]&&(g=g.substr(1)),g.split("/").some(function(v){return!(y=y[v])}),y}(g,_);if(p)for(var m in p)p.hasOwnProperty(m)&&!d.hasOwnProperty(m)&&(d[m]=p[m]);else o.push(De("json.schema.invalidref","$ref '{0}' in '{1}' can not be resolved.",_,y))},f=function(d,g,y,v,_){u&&!/^\w+:\/\/.*/.test(g)&&(g=u.resolveRelativePath(g,v)),g=Fe(g);var p=i.getOrAddSchemaHandle(g);return p.getUnresolvedSchema().then(function(m){return _[g]=!0,m.errors.length&&o.push(De("json.schema.problemloadingref","Problems loading reference '{0}': {1}",y?g+"#"+y:g,m.errors[0])),c(d,m.schema,g,y),h(d,m.schema,g,p.dependencies)})},h=function(d,g,y,v){if(!d||"object"!=typeof d)return Promise.resolve(null);for(var _=[d],p=[],m=[],E=function(b){for(var N=[];b.$ref;){var x=b.$ref,w=x.split("#",2);if(delete b.$ref,w[0].length>0)return void m.push(f(b,w[0],w[1],y,v));-1===N.indexOf(x)&&(c(b,g,y,w[1]),N.push(x))}(function(){for(var b=[],N=0;N<arguments.length;N++)b[N]=arguments[N];for(var x=0,w=b;x<w.length;x++){var M=w[x];"object"==typeof M&&_.push(M)}})(b.items,b.additionalItems,b.additionalProperties,b.not,b.contains,b.propertyNames,b.if,b.then,b.else),function(){for(var b=[],N=0;N<arguments.length;N++)b[N]=arguments[N];for(var x=0,w=b;x<w.length;x++){var M=w[x];if("object"==typeof M)for(var j in M){var I=M[j];"object"==typeof I&&_.push(I)}}}(b.definitions,b.properties,b.patternProperties,b.dependencies),function(){for(var b=[],N=0;N<arguments.length;N++)b[N]=arguments[N];for(var x=0,w=b;x<w.length;x++){var M=w[x];if(Array.isArray(M))for(var j=0,z=M;j<z.length;j++){var I=z[j];"object"==typeof I&&_.push(I)}}}(b.anyOf,b.allOf,b.oneOf,b.items)};_.length;){var A=_.pop();p.indexOf(A)>=0||(p.push(A),E(A))}return i.promise.all(m)};return h(s,s,n,r).then(function(d){return new Ai(s,o)})},t.prototype.getSchemaForResource=function(e,n){if(n&&n.root&&"object"===n.root.type){var r=n.root.properties.filter(function(_){return"$schema"===_.keyNode.value&&_.valueNode&&"string"===_.valueNode.type});if(r.length>0){var i=r[0].valueNode;if(i&&"string"===i.type){var o=Me(i);if(o&&function(t,e){if(t.length<".".length)return!1;for(var n=0;n<".".length;n++)if(t[n]!=="."[n])return!1;return!0}(o)&&this.contextService&&(o=this.contextService.resolveRelativePath(o,e)),o){var s=Fe(o);return this.getOrAddSchemaHandle(s).getResolvedSchema()}}}}if(this.cachedSchemaForResource&&this.cachedSchemaForResource.resource===e)return this.cachedSchemaForResource.resolvedSchema;for(var a=Object.create(null),u=[],l=function(t){try{return ot.parse(t).with({fragment:null,query:null}).toString()}catch(e){return t}}(e),c=0,f=this.filePatternAssociations;c<f.length;c++){var h=f[c];if(h.matchesPattern(l))for(var d=0,g=h.getURIs();d<g.length;d++){var y=g[d];a[y]||(u.push(y),a[y]=!0)}}var v=u.length>0?this.createCombinedSchema(e,u).getResolvedSchema():this.promise.resolve(void 0);return this.cachedSchemaForResource={resource:e,resolvedSchema:v},v},t.prototype.createCombinedSchema=function(e,n){if(1===n.length)return this.getOrAddSchemaHandle(n[0]);var r="schemaservice://combinedSchema/"+encodeURIComponent(e),i={allOf:n.map(function(o){return{$ref:o}})};return this.addSchemaHandle(r,i)},t.prototype.getMatchingSchemas=function(e,n,r){if(r){var i=r.id||"schemaservice://untitled/matchingSchemas/"+Gs++;return this.resolveSchemaContent(new He(r),i,{}).then(function(o){return n.getMatchingSchemas(o.schema).filter(function(s){return!s.inverted})})}return this.getSchemaForResource(e.uri,n).then(function(o){return o?n.getMatchingSchemas(o.schema).filter(function(s){return!s.inverted}):[]})},t}(),Gs=0;function Fe(t){try{return ot.parse(t).toString()}catch(e){return t}}function zt(t){try{var e=ot.parse(t);if("file"===e.scheme)return e.fsPath}catch(n){}return t}var Js=it(),Qs=function(){function t(e,n){this.jsonSchemaService=e,this.promise=n,this.validationEnabled=!0}return t.prototype.configure=function(e){e&&(this.validationEnabled=!1!==e.validate,this.commentSeverity=e.allowComments?void 0:ue.Error)},t.prototype.doValidation=function(e,n,r,i){var o=this;if(!this.validationEnabled)return this.promise.resolve([]);var s=[],a={},u=function(f){var h=f.range.start.line+" "+f.range.start.character+" "+f.message;a[h]||(a[h]=!0,s.push(f))},l=function(f){var h=r?Gt(r.trailingCommas):ue.Error,d=r?Gt(r.comments):o.commentSeverity,g=(null==r?void 0:r.schemaValidation)?Gt(r.schemaValidation):ue.Warning,y=(null==r?void 0:r.schemaRequest)?Gt(r.schemaRequest):ue.Warning;if(f){if(f.errors.length&&n.root&&y){var v=n.root,_="object"===v.type?v.properties[0]:void 0;if(_&&"$schema"===_.keyNode.value){var p=_.valueNode||_,m=$.create(e.positionAt(p.offset),e.positionAt(p.offset+p.length));u(we.create(m,f.errors[0],y,B.SchemaResolveError))}else m=$.create(e.positionAt(v.offset),e.positionAt(v.offset+1)),u(we.create(m,f.errors[0],y,B.SchemaResolveError))}else if(g){var S=n.validate(e,f.schema,g);S&&S.forEach(u)}Oi(f.schema)&&(d=void 0),wi(f.schema)&&(h=void 0)}for(var C=0,T=n.syntaxErrors;C<T.length;C++){var E=T[C];if(E.code===B.TrailingComma){if("number"!=typeof h)continue;E.severity=h}u(E)}if("number"==typeof d){var A=Js("InvalidCommentToken","Comments are not permitted in JSON.");n.comments.forEach(function(b){u(we.create(b,A,d,B.CommentNotPermitted))})}return s};if(i){var c=i.id||"schemaservice://untitled/"+Xs++;return this.jsonSchemaService.resolveSchemaContent(new He(i),c,{}).then(function(f){return l(f)})}return this.jsonSchemaService.getSchemaForResource(e.uri,n).then(function(f){return l(f)})},t}(),Xs=0;function Oi(t){if(t&&"object"==typeof t){if(Se(t.allowComments))return t.allowComments;if(t.allOf)for(var e=0,n=t.allOf;e<n.length;e++){var i=Oi(n[e]);if(Se(i))return i}}}function wi(t){if(t&&"object"==typeof t){if(Se(t.allowTrailingCommas))return t.allowTrailingCommas;var e=t;if(Se(e.allowsTrailingCommas))return e.allowsTrailingCommas;if(t.allOf)for(var n=0,r=t.allOf;n<r.length;n++){var o=wi(r[n]);if(Se(o))return o}}}function Gt(t){switch(t){case"error":return ue.Error;case"warning":return ue.Warning;case"ignore":return}}function X(t){return t<48?0:t<=57?t-48:(t<97&&(t+=32),t>=97&&t<=102?t-97+10:0)}function na(t){if("#"===t[0])switch(t.length){case 4:return{red:17*X(t.charCodeAt(1))/255,green:17*X(t.charCodeAt(2))/255,blue:17*X(t.charCodeAt(3))/255,alpha:1};case 5:return{red:17*X(t.charCodeAt(1))/255,green:17*X(t.charCodeAt(2))/255,blue:17*X(t.charCodeAt(3))/255,alpha:17*X(t.charCodeAt(4))/255};case 7:return{red:(16*X(t.charCodeAt(1))+X(t.charCodeAt(2)))/255,green:(16*X(t.charCodeAt(3))+X(t.charCodeAt(4)))/255,blue:(16*X(t.charCodeAt(5))+X(t.charCodeAt(6)))/255,alpha:1};case 9:return{red:(16*X(t.charCodeAt(1))+X(t.charCodeAt(2)))/255,green:(16*X(t.charCodeAt(3))+X(t.charCodeAt(4)))/255,blue:(16*X(t.charCodeAt(5))+X(t.charCodeAt(6)))/255,alpha:(16*X(t.charCodeAt(7))+X(t.charCodeAt(8)))/255}}}var ra=function(){function t(e){this.schemaService=e}return t.prototype.findDocumentSymbols=function(e,n,r){var i=this;void 0===r&&(r={resultLimit:Number.MAX_VALUE});var o=n.root;if(!o)return[];var s=r.resultLimit||Number.MAX_VALUE,a=e.uri;if(("vscode://defaultsettings/keybindings.json"===a||Ct(a.toLowerCase(),"/user/keybindings.json"))&&"array"===o.type){for(var u=[],l=0,c=o.items;l<c.length;l++){var f=c[l];if("object"===f.type)for(var h=0,d=f.properties;h<d.length;h++){var g=d[h];if("key"===g.keyNode.value&&g.valueNode){var y=vt.create(e.uri,Re(e,f));if(u.push({name:Me(g.valueNode),kind:ye.Function,location:y}),--s<=0)return r&&r.onResultLimitExceeded&&r.onResultLimitExceeded(a),u}}}return u}for(var v=[{node:o,containerName:""}],_=0,p=!1,m=[],S=function(T,E){"array"===T.type?T.items.forEach(function(A){A&&v.push({node:A,containerName:E})}):"object"===T.type&&T.properties.forEach(function(A){var b=A.valueNode;if(b)if(s>0){s--;var N=vt.create(e.uri,Re(e,A)),x=E?E+"."+A.keyNode.value:A.keyNode.value;m.push({name:i.getKeyLabel(A),kind:i.getSymbolKind(b.type),location:N,containerName:E}),v.push({node:b,containerName:x})}else p=!0})};_<v.length;){var C=v[_++];S(C.node,C.containerName)}return p&&r&&r.onResultLimitExceeded&&r.onResultLimitExceeded(a),m},t.prototype.findDocumentSymbols2=function(e,n,r){var i=this;void 0===r&&(r={resultLimit:Number.MAX_VALUE});var o=n.root;if(!o)return[];var s=r.resultLimit||Number.MAX_VALUE,a=e.uri;if(("vscode://defaultsettings/keybindings.json"===a||Ct(a.toLowerCase(),"/user/keybindings.json"))&&"array"===o.type){for(var u=[],l=0,c=o.items;l<c.length;l++){var f=c[l];if("object"===f.type)for(var h=0,d=f.properties;h<d.length;h++){var g=d[h];if("key"===g.keyNode.value&&g.valueNode){var y=Re(e,f),v=Re(e,g.keyNode);if(u.push({name:Me(g.valueNode),kind:ye.Function,range:y,selectionRange:v}),--s<=0)return r&&r.onResultLimitExceeded&&r.onResultLimitExceeded(a),u}}}return u}for(var _=[],p=[{node:o,result:_}],m=0,S=!1,C=function(E,A){"array"===E.type?E.items.forEach(function(b,N){if(b)if(s>0){s--;var x=Re(e,b),w=x,j={name:String(N),kind:i.getSymbolKind(b.type),range:x,selectionRange:w,children:[]};A.push(j),p.push({result:j.children,node:b})}else S=!0}):"object"===E.type&&E.properties.forEach(function(b){var N=b.valueNode;if(N)if(s>0){s--;var x=Re(e,b),w=Re(e,b.keyNode),M=[],j={name:i.getKeyLabel(b),kind:i.getSymbolKind(N.type),range:x,selectionRange:w,children:M,detail:i.getDetail(N)};A.push(j),p.push({result:M,node:N})}else S=!0})};m<p.length;){var T=p[m++];C(T.node,T.result)}return S&&r&&r.onResultLimitExceeded&&r.onResultLimitExceeded(a),_},t.prototype.getSymbolKind=function(e){switch(e){case"object":return ye.Module;case"string":return ye.String;case"number":return ye.Number;case"array":return ye.Array;case"boolean":return ye.Boolean;default:return ye.Variable}},t.prototype.getKeyLabel=function(e){var n=e.keyNode.value;return n&&(n=n.replace(/[\n]/g,"\u21b5")),n&&n.trim()?n:'"'+n+'"'},t.prototype.getDetail=function(e){if(e){if("boolean"===e.type||"number"===e.type||"null"===e.type||"string"===e.type)return String(e.value);if("array"===e.type)return e.children.length?void 0:"[]";if("object"===e.type)return e.children.length?void 0:"{}"}},t.prototype.findDocumentColors=function(e,n,r){return this.schemaService.getSchemaForResource(e.uri,n).then(function(i){var o=[];if(i)for(var s=r&&"number"==typeof r.resultLimit?r.resultLimit:Number.MAX_VALUE,u={},l=0,c=n.getMatchingSchemas(i.schema);l<c.length;l++){var f=c[l];if(!f.inverted&&f.schema&&("color"===f.schema.format||"color-hex"===f.schema.format)&&f.node&&"string"===f.node.type){var h=String(f.node.offset);if(!u[h]){var d=na(Me(f.node));if(d){var g=Re(e,f.node);o.push({color:d,range:g})}if(u[h]=!0,--s<=0)return r&&r.onResultLimitExceeded&&r.onResultLimitExceeded(e.uri),o}}}return o})},t.prototype.getColorPresentations=function(e,n,r,i){var c,o=[],s=Math.round(255*r.red),a=Math.round(255*r.green),u=Math.round(255*r.blue);function l(f){var h=f.toString(16);return 2!==h.length?"0"+h:h}return c=1===r.alpha?"#"+l(s)+l(a)+l(u):"#"+l(s)+l(a)+l(u)+l(Math.round(255*r.alpha)),o.push({label:c,textEdit:ve.replace(i,JSON.stringify(c))}),o},t}();function Re(t,e){return $.create(t.positionAt(e.offset),t.positionAt(e.offset+e.length))}var R=it(),Kn={schemaAssociations:[],schemas:{"http://json-schema.org/schema#":{$ref:"http://json-schema.org/draft-07/schema#"},"http://json-schema.org/draft-04/schema#":{title:R("schema.json","Describes a JSON file using a schema. See json-schema.org for more info."),$schema:"http://json-schema.org/draft-04/schema#",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},positiveInteger:{type:"integer",minimum:0},positiveIntegerDefault0:{allOf:[{$ref:"#/definitions/positiveInteger"},{default:0}]},simpleTypes:{type:"string",enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},minItems:1,uniqueItems:!0}},type:"object",properties:{id:{type:"string",format:"uri"},$schema:{type:"string",format:"uri"},title:{type:"string"},description:{type:"string"},default:{},multipleOf:{type:"number",minimum:0,exclusiveMinimum:!0},maximum:{type:"number"},exclusiveMaximum:{type:"boolean",default:!1},minimum:{type:"number"},exclusiveMinimum:{type:"boolean",default:!1},maxLength:{allOf:[{$ref:"#/definitions/positiveInteger"}]},minLength:{allOf:[{$ref:"#/definitions/positiveIntegerDefault0"}]},pattern:{type:"string",format:"regex"},additionalItems:{anyOf:[{type:"boolean"},{$ref:"#"}],default:{}},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:{}},maxItems:{allOf:[{$ref:"#/definitions/positiveInteger"}]},minItems:{allOf:[{$ref:"#/definitions/positiveIntegerDefault0"}]},uniqueItems:{type:"boolean",default:!1},maxProperties:{allOf:[{$ref:"#/definitions/positiveInteger"}]},minProperties:{allOf:[{$ref:"#/definitions/positiveIntegerDefault0"}]},required:{allOf:[{$ref:"#/definitions/stringArray"}]},additionalProperties:{anyOf:[{type:"boolean"},{$ref:"#"}],default:{}},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},enum:{type:"array",minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{anyOf:[{type:"string",enum:["date-time","uri","email","hostname","ipv4","ipv6","regex"]},{type:"string"}]},allOf:{allOf:[{$ref:"#/definitions/schemaArray"}]},anyOf:{allOf:[{$ref:"#/definitions/schemaArray"}]},oneOf:{allOf:[{$ref:"#/definitions/schemaArray"}]},not:{allOf:[{$ref:"#"}]}},dependencies:{exclusiveMaximum:["maximum"],exclusiveMinimum:["minimum"]},default:{}},"http://json-schema.org/draft-07/schema#":{title:R("schema.json","Describes a JSON file using a schema. See json-schema.org for more info."),definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}}},ia={id:R("schema.json.id","A unique identifier for the schema."),$schema:R("schema.json.$schema","The schema to verify this document against."),title:R("schema.json.title","A descriptive title of the element."),description:R("schema.json.description","A long description of the element. Used in hover menus and suggestions."),default:R("schema.json.default","A default value. Used by suggestions."),multipleOf:R("schema.json.multipleOf","A number that should cleanly divide the current value (i.e. have no remainder)."),maximum:R("schema.json.maximum","The maximum numerical value, inclusive by default."),exclusiveMaximum:R("schema.json.exclusiveMaximum","Makes the maximum property exclusive."),minimum:R("schema.json.minimum","The minimum numerical value, inclusive by default."),exclusiveMinimum:R("schema.json.exclusiveMininum","Makes the minimum property exclusive."),maxLength:R("schema.json.maxLength","The maximum length of a string."),minLength:R("schema.json.minLength","The minimum length of a string."),pattern:R("schema.json.pattern","A regular expression to match the string against. It is not implicitly anchored."),additionalItems:R("schema.json.additionalItems","For arrays, only when items is set as an array. If it is a schema, then this schema validates items after the ones specified by the items array. If it is false, then additional items will cause validation to fail."),items:R("schema.json.items","For arrays. Can either be a schema to validate every element against or an array of schemas to validate each item against in order (the first schema will validate the first element, the second schema will validate the second element, and so on."),maxItems:R("schema.json.maxItems","The maximum number of items that can be inside an array. Inclusive."),minItems:R("schema.json.minItems","The minimum number of items that can be inside an array. Inclusive."),uniqueItems:R("schema.json.uniqueItems","If all of the items in the array must be unique. Defaults to false."),maxProperties:R("schema.json.maxProperties","The maximum number of properties an object can have. Inclusive."),minProperties:R("schema.json.minProperties","The minimum number of properties an object can have. Inclusive."),required:R("schema.json.required","An array of strings that lists the names of all properties required on this object."),additionalProperties:R("schema.json.additionalProperties","Either a schema or a boolean. If a schema, then used to validate all properties not matched by 'properties' or 'patternProperties'. If false, then any properties not matched by either will cause this schema to fail."),definitions:R("schema.json.definitions","Not used for validation. Place subschemas here that you wish to reference inline with $ref."),properties:R("schema.json.properties","A map of property names to schemas for each property."),patternProperties:R("schema.json.patternProperties","A map of regular expressions on property names to schemas for matching properties."),dependencies:R("schema.json.dependencies","A map of property names to either an array of property names or a schema. An array of property names means the property named in the key depends on the properties in the array being present in the object in order to be valid. If the value is a schema, then the schema is only applied to the object if the property in the key exists on the object."),enum:R("schema.json.enum","The set of literal values that are valid."),type:R("schema.json.type","Either a string of one of the basic schema types (number, integer, null, array, object, boolean, string) or an array of strings specifying a subset of those types."),format:R("schema.json.format","Describes the format expected for the value."),allOf:R("schema.json.allOf","An array of schemas, all of which must match."),anyOf:R("schema.json.anyOf","An array of schemas, where at least one must match."),oneOf:R("schema.json.oneOf","An array of schemas, exactly one of which must match."),not:R("schema.json.not","A schema which must not match."),$id:R("schema.json.$id","A unique identifier for the schema."),$ref:R("schema.json.$ref","Reference a definition hosted on any location."),$comment:R("schema.json.$comment","Comments from schema authors to readers or maintainers of the schema."),readOnly:R("schema.json.readOnly","Indicates that the value of the instance is managed exclusively by the owning authority."),examples:R("schema.json.examples","Sample JSON values associated with a particular schema, for the purpose of illustrating usage."),contains:R("schema.json.contains",'An array instance is valid against "contains" if at least one of its elements is valid against the given schema.'),propertyNames:R("schema.json.propertyNames","If the instance is an object, this keyword validates if every property name in the instance validates against the provided schema."),const:R("schema.json.const","An instance validates successfully against this keyword if its value is equal to the value of the keyword."),contentMediaType:R("schema.json.contentMediaType","Describes the media type of a string property."),contentEncoding:R("schema.json.contentEncoding","Describes the content encoding of a string property."),if:R("schema.json.if",'The validation outcome of the "if" subschema controls which of the "then" or "else" keywords are evaluated.'),then:R("schema.json.then",'The "if" subschema is used for validation when the "if" subschema succeeds.'),else:R("schema.json.else",'The "else" subschema is used for validation when the "if" subschema fails.')};for(var oa in Kn.schemas){var zn=Kn.schemas[oa];for(var _t in zn.properties){var Gn=zn.properties[_t];"boolean"==typeof Gn&&(Gn=zn.properties[_t]={});var Li=ia[_t];Li?Gn.description=Li:console.log(_t+": localize('schema.json."+_t+'\', "")')}}function sa(t,e){var n=[],r=[],i=[],o=-1,s=tt(t.getText(),!1),a=s.scan();function u(N){n.push(N),r.push(i.length)}for(;17!==a;){switch(a){case 1:case 3:var l=t.positionAt(s.getTokenOffset()).line;i.push(c={startLine:l,endLine:l,kind:1===a?"object":"array"});break;case 2:case 4:if(i.length>0&&i[i.length-1].kind===(2===a?"object":"array")){var c=i.pop(),h=t.positionAt(s.getTokenOffset()).line;c&&h>c.startLine+1&&o!==c.startLine&&(c.endLine=h-1,u(c),o=c.startLine)}break;case 13:l=t.positionAt(s.getTokenOffset()).line;var d=t.positionAt(s.getTokenOffset()+s.getTokenLength()).line;1===s.getTokenError()&&l+1<t.lineCount?s.setPosition(t.offsetAt(pe.create(l+1,0))):l<d&&(u({startLine:l,endLine:d,kind:nt.Comment}),o=l);break;case 12:var y=t.getText().substr(s.getTokenOffset(),s.getTokenLength()).match(/^\/\/\s*#(region\b)|(endregion\b)/);if(y)if(h=t.positionAt(s.getTokenOffset()).line,y[1])i.push(c={startLine:h,endLine:h,kind:nt.Region});else{for(var v=i.length-1;v>=0&&i[v].kind!==nt.Region;)v--;v>=0&&(c=i[v],i.length=v,h>c.startLine&&o!==c.startLine&&(c.endLine=h,u(c),o=c.startLine))}}a=s.scan()}var _=e&&e.rangeLimit;if("number"!=typeof _||n.length<=_)return n;e&&e.onRangeLimitExceeded&&e.onRangeLimitExceeded(t.uri);for(var p=[],m=0,S=r;m<S.length;m++)(C=S[m])<30&&(p[C]=(p[C]||0)+1);var T=0,E=0;for(v=0;v<p.length;v++){var A=p[v];if(A){if(A+T>_){E=v;break}T+=A}}var b=[];for(v=0;v<n.length;v++){var C;"number"==typeof(C=r[v])&&(C<E||C===E&&T++<_)&&b.push(n[v])}return b}function aa(t,e,n){function i(a,u){return $.create(t.positionAt(a),t.positionAt(u))}var o=tt(t.getText(),!0);function s(a,u){return o.setPosition(a),o.scan()===u?o.getTokenOffset()+o.getTokenLength():-1}return e.map(function(a){for(var u=t.offsetAt(a),l=n.getNodeFromOffset(u,!0),c=[];l;){switch(l.type){case"string":case"object":case"array":var f=l.offset+1,h=l.offset+l.length-1;f<h&&u>=f&&u<=h&&c.push(i(f,h)),c.push(i(l.offset,l.offset+l.length));break;case"number":case"boolean":case"null":case"property":c.push(i(l.offset,l.offset+l.length))}if("property"===l.type||l.parent&&"array"===l.parent.type){var d=s(l.offset+l.length,5);-1!==d&&c.push(i(l.offset,d))}l=l.parent}for(var g=void 0,y=c.length-1;y>=0;y--)g=Kt.create(c[y],g);return g||(g=Kt.create($.create(a,a))),g})}function ua(t,e){var n=[];return e.visit(function(r){var i;if("property"===r.type&&"$ref"===r.keyNode.value&&"string"===(null===(i=r.valueNode)||void 0===i?void 0:i.type)){var s=function(t,e){var n=function(t){return"#"===t?[]:"#"!==t[0]||"/"!==t[1]?null:t.substring(2).split(/\//).map(ha)}(e);return n?Yn(n,t.root):null}(e,r.valueNode.value);if(s){var a=t.positionAt(s.offset);n.push({target:t.uri+"#"+(a.line+1)+","+(a.character+1),range:la(t,r.valueNode)})}}return!0}),Promise.resolve(n)}function la(t,e){return $.create(t.positionAt(e.offset+1),t.positionAt(e.offset+e.length-1))}function Yn(t,e){if(!e)return null;if(0===t.length)return e;var n=t.shift();if(e&&"object"===e.type){var r=e.properties.find(function(s){return s.keyNode.value===n});return r?Yn(t,r.valueNode):null}if(e&&"array"===e.type&&n.match(/^(0|[1-9][0-9]*)$/)){var i=Number.parseInt(n),o=e.items[i];return o?Yn(t,o):null}return null}function ha(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}function da(t){var e=t.promiseConstructor||Promise,n=new zs(t.schemaRequestService,t.workspaceContext,e);n.setSchemaContributions(Kn);var r=new Bs(n,t.contributions,e,t.clientCapabilities),i=new $s(n,t.contributions,e),o=new ra(n),s=new Qs(n,e);return{configure:function(a){n.clearExternalSchemas(),a.schemas&&a.schemas.forEach(function(u){n.registerExternalSchema(u.uri,u.fileMatch,u.schema)}),s.configure(a)},resetSchema:function(a){return n.onResourceChange(a)},doValidation:s.doValidation.bind(s),parseJSONDocument:function(a){return function(t,e){var n=[],r=-1,i=t.getText(),o=tt(i,!1),s=e&&e.collectComments?[]:void 0;function a(){for(;;){var E=o.scan();switch(f(),E){case 12:case 13:Array.isArray(s)&&s.push($.create(t.positionAt(o.getTokenOffset()),t.positionAt(o.getTokenOffset()+o.getTokenLength())));break;case 15:case 14:break;default:return E}}}function l(E,A,b,N,x){if(void 0===x&&(x=ue.Error),0===n.length||b!==r){var w=$.create(t.positionAt(b),t.positionAt(N));n.push(we.create(w,E,x,A,t.languageId)),r=b}}function c(E,A,b,N,x){void 0===b&&(b=void 0),void 0===N&&(N=[]),void 0===x&&(x=[]);var w=o.getTokenOffset(),M=o.getTokenOffset()+o.getTokenLength();if(w===M&&w>0){for(w--;w>0&&/\s/.test(i.charAt(w));)w--;M=w+1}if(l(E,A,w,M),b&&h(b,!1),N.length+x.length>0)for(var j=o.getToken();17!==j;){if(-1!==N.indexOf(j)){a();break}if(-1!==x.indexOf(j))break;j=a()}return b}function f(){switch(o.getTokenError()){case 4:return c(D("InvalidUnicode","Invalid unicode sequence in string."),B.InvalidUnicode),!0;case 5:return c(D("InvalidEscapeCharacter","Invalid escape character in string."),B.InvalidEscapeCharacter),!0;case 3:return c(D("UnexpectedEndOfNumber","Unexpected end of number."),B.UnexpectedEndOfNumber),!0;case 1:return c(D("UnexpectedEndOfComment","Unexpected end of comment."),B.UnexpectedEndOfComment),!0;case 2:return c(D("UnexpectedEndOfString","Unexpected end of string."),B.UnexpectedEndOfString),!0;case 6:return c(D("InvalidCharacter","Invalid characters in string. Control characters must be escaped."),B.InvalidCharacter),!0}return!1}function h(E,A){return E.length=o.getTokenOffset()+o.getTokenLength()-E.offset,A&&a(),E}var g=new Vn(void 0,0,0);function y(E,A){var b=new Ps(E,o.getTokenOffset(),g),N=_(b);if(!N){if(16!==o.getToken())return;c(D("DoubleQuotesExpected","Property keys must be doublequoted"),B.Undefined);var x=new Vn(b,o.getTokenOffset(),o.getTokenLength());x.value=o.getTokenValue(),N=x,a()}b.keyNode=N;var w=A[N.value];if(w?(l(D("DuplicateKeyWarning","Duplicate object key"),B.DuplicateKey,b.keyNode.offset,b.keyNode.offset+b.keyNode.length,ue.Warning),"object"==typeof w&&l(D("DuplicateKeyWarning","Duplicate object key"),B.DuplicateKey,w.keyNode.offset,w.keyNode.offset+w.keyNode.length,ue.Warning),A[N.value]=!0):A[N.value]=b,6===o.getToken())b.colonOffset=o.getTokenOffset(),a();else if(c(D("ColonExpected","Colon expected"),B.ColonExpected),10===o.getToken()&&t.positionAt(N.offset+N.length).line<t.positionAt(o.getTokenOffset()).line)return b.length=N.length,b;var M=S(b);return M?(b.valueNode=M,b.length=M.offset+M.length-b.offset,b):c(D("ValueExpected","Value expected"),B.ValueExpected,b,[],[2,5])}function _(E){if(10===o.getToken()){var A=new Vn(E,o.getTokenOffset());return A.value=o.getTokenValue(),h(A,!0)}}function S(E){return function(E){if(3===o.getToken()){var A=new Is(E,o.getTokenOffset());a();for(var N=!1;4!==o.getToken()&&17!==o.getToken();){if(5===o.getToken()){N||c(D("ValueExpected","Value expected"),B.ValueExpected);var x=o.getTokenOffset();if(a(),4===o.getToken()){N&&l(D("TrailingComma","Trailing comma"),B.TrailingComma,x,x+1);continue}}else N&&c(D("ExpectedComma","Expected comma"),B.CommaExpected);var w=S(A);w?A.items.push(w):c(D("PropertyExpected","Value expected"),B.ValueExpected,void 0,[],[4,5]),N=!0}return 4!==o.getToken()?c(D("ExpectedCloseBracket","Expected comma or closing bracket"),B.CommaOrCloseBacketExpected,A):h(A,!0)}}(E)||function(E){if(1===o.getToken()){var A=new Ms(E,o.getTokenOffset()),b=Object.create(null);a();for(var N=!1;2!==o.getToken()&&17!==o.getToken();){if(5===o.getToken()){N||c(D("PropertyExpected","Property expected"),B.PropertyExpected);var x=o.getTokenOffset();if(a(),2===o.getToken()){N&&l(D("TrailingComma","Trailing comma"),B.TrailingComma,x,x+1);continue}}else N&&c(D("ExpectedComma","Expected comma"),B.CommaExpected);var w=y(A,b);w?A.properties.push(w):c(D("PropertyExpected","Property expected"),B.PropertyExpected,void 0,[],[2,5]),N=!0}return 2!==o.getToken()?c(D("ExpectedCloseBrace","Expected comma or closing brace"),B.CommaOrCloseBraceExpected,A):h(A,!0)}}(E)||_(E)||function(E){if(11===o.getToken()){var A=new ks(E,o.getTokenOffset());if(0===o.getTokenError()){var b=o.getTokenValue();try{var N=JSON.parse(b);if(!he(N))return c(D("InvalidNumberFormat","Invalid number format."),B.Undefined,A);A.value=N}catch(x){return c(D("InvalidNumberFormat","Invalid number format."),B.Undefined,A)}A.isInteger=-1===b.indexOf(".")}return h(A,!0)}}(E)||function(E){switch(o.getToken()){case 7:return h(new xs(E,o.getTokenOffset()),!0);case 8:return h(new Ei(E,!0,o.getTokenOffset()),!0);case 9:return h(new Ei(E,!1,o.getTokenOffset()),!0);default:return}}(E)}var C=void 0;return 17!==a()&&((C=S(C))?17!==o.getToken()&&c(D("End of file expected","End of file expected."),B.Undefined):c(D("Invalid symbol","Expected a JSON object, array or literal."),B.Undefined)),new Ci(C,n,s)}(a,{collectComments:!0})},newJSONDocument:function(a,u){return function(t,e){return void 0===e&&(e=[]),new Ci(t,e,[])}(a,u)},getMatchingSchemas:n.getMatchingSchemas.bind(n),doResolve:r.doResolve.bind(r),doComplete:r.doComplete.bind(r),findDocumentSymbols:o.findDocumentSymbols.bind(o),findDocumentSymbols2:o.findDocumentSymbols2.bind(o),findDocumentColors:o.findDocumentColors.bind(o),getColorPresentations:o.getColorPresentations.bind(o),doHover:i.doHover.bind(i),getFoldingRanges:sa,getSelectionRanges:aa,findDefinition:function(){return Promise.resolve([])},findLinks:ua,format:function(a,u,l){var c=void 0;if(u){var f=a.offsetAt(u.start);c={offset:f,length:a.offsetAt(u.end)-f}}var d={tabSize:l?l.tabSize:4,insertSpaces:!0===(null==l?void 0:l.insertSpaces),insertFinalNewline:!0===(null==l?void 0:l.insertFinalNewline),eol:"\n"};return function(t,e,n){return function(t,e,n){var r,i,o,s,a;if(e){for(a=(s=e.offset)+e.length,o=s;o>0&&!$r(t,o-1);)o--;for(var u=a;u<t.length&&!$r(t,u);)u++;i=t.substring(o,u),r=function(t,e){for(var n=0,r=0,i=e.tabSize||4;n<t.length;){var o=t.charAt(n);if(" "===o)r++;else{if("\t"!==o)break;r+=i}n++}return Math.floor(r/i)}(i,n)}else i=t,r=0,o=0,s=0,a=t.length;var h,l=function(t,e){for(var n=0;n<e.length;n++){var r=e.charAt(n);if("\r"===r)return n+1<e.length&&"\n"===e.charAt(n+1)?"\r\n":"\r";if("\n"===r)return"\n"}return t&&t.eol||"\n"}(n,t),c=!1,f=0;h=n.insertSpaces?In(" ",n.tabSize||4):"\t";var d=Vt(i,!1),g=!1;function y(){return l+In(h,r+f)}function v(){var w=d.scan();for(c=!1;15===w||14===w;)c=c||14===w,w=d.scan();return g=16===w||0!==d.getTokenError(),w}var _=[];function p(w,M,j){!g&&(!e||M<a&&j>s)&&t.substring(M,j)!==w&&_.push({offset:M,length:j-M,content:w})}var m=v();if(17!==m){var S=d.getTokenOffset()+o;p(In(h,r),o,S)}for(;17!==m;){for(var T=d.getTokenOffset()+d.getTokenLength()+o,E=v(),A="",b=!1;!c&&(12===E||13===E);)p(" ",T,d.getTokenOffset()+o),T=d.getTokenOffset()+d.getTokenLength()+o,A=(b=12===E)?y():"",E=v();if(2===E)1!==m&&(f--,A=y());else if(4===E)3!==m&&(f--,A=y());else{switch(m){case 3:case 1:f++,A=y();break;case 5:case 12:A=y();break;case 13:c?A=y():b||(A=" ");break;case 6:b||(A=" ");break;case 10:if(6===E){b||(A="");break}case 7:case 8:case 9:case 11:case 2:case 4:12===E||13===E?b||(A=" "):5!==E&&17!==E&&(g=!0);break;case 16:g=!0}c&&(12===E||13===E)&&(A=y())}17===E&&(A=n.insertFinalNewline?l:""),p(A,T,d.getTokenOffset()+o),m=E}return _}(t,e,n)}(a.getText(),c,d).map(function(g){return ve.replace($.create(a.positionAt(g.offset),a.positionAt(g.offset+g.length)),g.content)})}}}var Ni,be=function(t,e,n,r){return new(n||(n=Promise))(function(o,s){function a(c){try{l(r.next(c))}catch(f){s(f)}}function u(c){try{l(r.throw(c))}catch(f){s(f)}}function l(c){c.done?o(c.value):function(o){return o instanceof n?o:new n(function(s){s(o)})}(c.value).then(a,u)}l((r=r.apply(t,e||[])).next())})},Ee=function(t,e){var r,i,o,s,n={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(c){return function(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=2&l[0]?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(!(o=(o=n.trys).length>0&&o[o.length-1])&&(6===l[0]||2===l[0])){n=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){n.label=l[1];break}if(6===l[0]&&n.label<o[1]){n.label=o[1],o=l;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(l);break}o[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(c){l=[6,c],i=0}finally{r=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}};"undefined"!=typeof fetch&&(Ni=function(t){return fetch(t).then(function(e){return e.text()})});var xi=function(){function t(e,n){this._ctx=e,this._languageSettings=n.languageSettings,this._languageId=n.languageId,this._languageService=da({workspaceContext:{resolveRelativePath:function(r,i){return function(t,e){if(function(t){return t.charCodeAt(0)===ma}(e)){var n=ot.parse(t),r=e.split("/");return n.with({path:Ii(r)}).toString()}return function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=ot.parse(t),i=r.path.split("/"),o=0,s=e;o<s.length;o++)i.push.apply(i,s[o].split("/"));return r.with({path:Ii(i)}).toString()}(t,e)}(i.substr(0,i.lastIndexOf("/")+1),r)}},schemaRequestService:n.enableSchemaRequest&&Ni}),this._languageService.configure(this._languageSettings)}return t.prototype.doValidation=function(e){return be(this,void 0,void 0,function(){var n,r;return Ee(this,function(i){return(n=this._getTextDocument(e))?(r=this._languageService.parseJSONDocument(n),[2,this._languageService.doValidation(n,r,this._languageSettings)]):[2,Promise.resolve([])]})})},t.prototype.doComplete=function(e,n){return be(this,void 0,void 0,function(){var r,i;return Ee(this,function(o){return r=this._getTextDocument(e),i=this._languageService.parseJSONDocument(r),[2,this._languageService.doComplete(r,n,i)]})})},t.prototype.doResolve=function(e){return be(this,void 0,void 0,function(){return Ee(this,function(n){return[2,this._languageService.doResolve(e)]})})},t.prototype.doHover=function(e,n){return be(this,void 0,void 0,function(){var r,i;return Ee(this,function(o){return r=this._getTextDocument(e),i=this._languageService.parseJSONDocument(r),[2,this._languageService.doHover(r,n,i)]})})},t.prototype.format=function(e,n,r){return be(this,void 0,void 0,function(){var i,o;return Ee(this,function(s){return i=this._getTextDocument(e),o=this._languageService.format(i,n,r),[2,Promise.resolve(o)]})})},t.prototype.resetSchema=function(e){return be(this,void 0,void 0,function(){return Ee(this,function(n){return[2,Promise.resolve(this._languageService.resetSchema(e))]})})},t.prototype.findDocumentSymbols=function(e){return be(this,void 0,void 0,function(){var n,r,i;return Ee(this,function(o){return n=this._getTextDocument(e),r=this._languageService.parseJSONDocument(n),i=this._languageService.findDocumentSymbols(n,r),[2,Promise.resolve(i)]})})},t.prototype.findDocumentColors=function(e){return be(this,void 0,void 0,function(){var n,r,i;return Ee(this,function(o){return n=this._getTextDocument(e),r=this._languageService.parseJSONDocument(n),i=this._languageService.findDocumentColors(n,r),[2,Promise.resolve(i)]})})},t.prototype.getColorPresentations=function(e,n,r){return be(this,void 0,void 0,function(){var i,o,s;return Ee(this,function(a){return i=this._getTextDocument(e),o=this._languageService.parseJSONDocument(i),s=this._languageService.getColorPresentations(i,o,n,r),[2,Promise.resolve(s)]})})},t.prototype.getFoldingRanges=function(e,n){return be(this,void 0,void 0,function(){var r,i;return Ee(this,function(o){return r=this._getTextDocument(e),i=this._languageService.getFoldingRanges(r,n),[2,Promise.resolve(i)]})})},t.prototype.getSelectionRanges=function(e,n){return be(this,void 0,void 0,function(){var r,i,o;return Ee(this,function(s){return r=this._getTextDocument(e),i=this._languageService.parseJSONDocument(r),o=this._languageService.getSelectionRanges(r,n,i),[2,Promise.resolve(o)]})})},t.prototype._getTextDocument=function(e){for(var r=0,i=this._ctx.getMirrorModels();r<i.length;r++){var o=i[r];if(o.uri.toString()===e)return jn.create(e,this._languageId,o.version,o.getValue())}return null},t}(),ma="/".charCodeAt(0),Jn=".".charCodeAt(0);function Ii(t){for(var e=[],n=0,r=t;n<r.length;n++){var i=r[n];0===i.length||1===i.length&&i.charCodeAt(0)===Jn||(2===i.length&&i.charCodeAt(0)===Jn&&i.charCodeAt(1)===Jn?e.pop():e.push(i))}t.length>1&&0===t[t.length-1].length&&e.push("");var o=e.join("/");return 0===t[0].length&&(o="/"+o),o}self.onmessage=function(){Br(function(t,e){return new xi(t,e)})}})();